/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../node_modules/vis-data/peer/umd/vis-data.js":
/*!********************************************************!*\
  !*** ../../node_modules/vis-data/peer/umd/vis-data.js ***!
  \********************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */

(function (global, factory) {
   true ? factory(exports) :
  0;
})(this, (function (exports) {
  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof __webpack_require__.g !== 'undefined' ? __webpack_require__.g : typeof self !== 'undefined' ? self : {};

  function getDefaultExportFromCjs (x) {
  	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
  }

  var defineProperty$f = {exports: {}};

  var check = function (it) {
    return it && it.Math === Math && it;
  };

  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  var global$p =
    // eslint-disable-next-line es/no-global-this -- safe
    check(typeof globalThis == 'object' && globalThis) ||
    check(typeof window == 'object' && window) ||
    // eslint-disable-next-line no-restricted-globals -- safe
    check(typeof self == 'object' && self) ||
    check(typeof commonjsGlobal == 'object' && commonjsGlobal) ||
    // eslint-disable-next-line no-new-func -- fallback
    (function () { return this; })() || commonjsGlobal || Function('return this')();

  var fails$u = function (exec) {
    try {
      return !!exec();
    } catch (error) {
      return true;
    }
  };

  var fails$t = fails$u;

  var functionBindNative = !fails$t(function () {
    // eslint-disable-next-line es/no-function-prototype-bind -- safe
    var test = (function () { /* empty */ }).bind();
    // eslint-disable-next-line no-prototype-builtins -- safe
    return typeof test != 'function' || test.hasOwnProperty('prototype');
  });

  var NATIVE_BIND$4 = functionBindNative;

  var FunctionPrototype$4 = Function.prototype;
  var apply$6 = FunctionPrototype$4.apply;
  var call$k = FunctionPrototype$4.call;

  // eslint-disable-next-line es/no-reflect -- safe
  var functionApply = typeof Reflect == 'object' && Reflect.apply || (NATIVE_BIND$4 ? call$k.bind(apply$6) : function () {
    return call$k.apply(apply$6, arguments);
  });

  var NATIVE_BIND$3 = functionBindNative;

  var FunctionPrototype$3 = Function.prototype;
  var call$j = FunctionPrototype$3.call;
  var uncurryThisWithBind = NATIVE_BIND$3 && FunctionPrototype$3.bind.bind(call$j, call$j);

  var functionUncurryThis = NATIVE_BIND$3 ? uncurryThisWithBind : function (fn) {
    return function () {
      return call$j.apply(fn, arguments);
    };
  };

  var uncurryThis$q = functionUncurryThis;

  var toString$9 = uncurryThis$q({}.toString);
  var stringSlice$1 = uncurryThis$q(''.slice);

  var classofRaw$2 = function (it) {
    return stringSlice$1(toString$9(it), 8, -1);
  };

  var classofRaw$1 = classofRaw$2;
  var uncurryThis$p = functionUncurryThis;

  var functionUncurryThisClause = function (fn) {
    // Nashorn bug:
    //   https://github.com/zloirock/core-js/issues/1128
    //   https://github.com/zloirock/core-js/issues/1130
    if (classofRaw$1(fn) === 'Function') return uncurryThis$p(fn);
  };

  var documentAll$2 = typeof document == 'object' && document.all;

  // https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot
  // eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing
  var IS_HTMLDDA = typeof documentAll$2 == 'undefined' && documentAll$2 !== undefined;

  var documentAll_1 = {
    all: documentAll$2,
    IS_HTMLDDA: IS_HTMLDDA
  };

  var $documentAll$1 = documentAll_1;

  var documentAll$1 = $documentAll$1.all;

  // `IsCallable` abstract operation
  // https://tc39.es/ecma262/#sec-iscallable
  var isCallable$m = $documentAll$1.IS_HTMLDDA ? function (argument) {
    return typeof argument == 'function' || argument === documentAll$1;
  } : function (argument) {
    return typeof argument == 'function';
  };

  var objectGetOwnPropertyDescriptor = {};

  var fails$s = fails$u;

  // Detect IE8's incomplete defineProperty implementation
  var descriptors = !fails$s(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;
  });

  var NATIVE_BIND$2 = functionBindNative;

  var call$i = Function.prototype.call;

  var functionCall = NATIVE_BIND$2 ? call$i.bind(call$i) : function () {
    return call$i.apply(call$i, arguments);
  };

  var objectPropertyIsEnumerable = {};

  var $propertyIsEnumerable$1 = {}.propertyIsEnumerable;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var getOwnPropertyDescriptor$7 = Object.getOwnPropertyDescriptor;

  // Nashorn ~ JDK8 bug
  var NASHORN_BUG = getOwnPropertyDescriptor$7 && !$propertyIsEnumerable$1.call({ 1: 2 }, 1);

  // `Object.prototype.propertyIsEnumerable` method implementation
  // https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable
  objectPropertyIsEnumerable.f = NASHORN_BUG ? function propertyIsEnumerable(V) {
    var descriptor = getOwnPropertyDescriptor$7(this, V);
    return !!descriptor && descriptor.enumerable;
  } : $propertyIsEnumerable$1;

  var createPropertyDescriptor$7 = function (bitmap, value) {
    return {
      enumerable: !(bitmap & 1),
      configurable: !(bitmap & 2),
      writable: !(bitmap & 4),
      value: value
    };
  };

  var uncurryThis$o = functionUncurryThis;
  var fails$r = fails$u;
  var classof$f = classofRaw$2;

  var $Object$4 = Object;
  var split = uncurryThis$o(''.split);

  // fallback for non-array-like ES3 and non-enumerable old V8 strings
  var indexedObject = fails$r(function () {
    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346
    // eslint-disable-next-line no-prototype-builtins -- safe
    return !$Object$4('z').propertyIsEnumerable(0);
  }) ? function (it) {
    return classof$f(it) === 'String' ? split(it, '') : $Object$4(it);
  } : $Object$4;

  // we can't use just `it == null` since of `document.all` special case
  // https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec
  var isNullOrUndefined$6 = function (it) {
    return it === null || it === undefined;
  };

  var isNullOrUndefined$5 = isNullOrUndefined$6;

  var $TypeError$g = TypeError;

  // `RequireObjectCoercible` abstract operation
  // https://tc39.es/ecma262/#sec-requireobjectcoercible
  var requireObjectCoercible$3 = function (it) {
    if (isNullOrUndefined$5(it)) throw new $TypeError$g("Can't call method on " + it);
    return it;
  };

  // toObject with fallback for non-array-like ES3 strings
  var IndexedObject$3 = indexedObject;
  var requireObjectCoercible$2 = requireObjectCoercible$3;

  var toIndexedObject$a = function (it) {
    return IndexedObject$3(requireObjectCoercible$2(it));
  };

  var isCallable$l = isCallable$m;
  var $documentAll = documentAll_1;

  var documentAll = $documentAll.all;

  var isObject$h = $documentAll.IS_HTMLDDA ? function (it) {
    return typeof it == 'object' ? it !== null : isCallable$l(it) || it === documentAll;
  } : function (it) {
    return typeof it == 'object' ? it !== null : isCallable$l(it);
  };

  var path$o = {};

  var path$n = path$o;
  var global$o = global$p;
  var isCallable$k = isCallable$m;

  var aFunction = function (variable) {
    return isCallable$k(variable) ? variable : undefined;
  };

  var getBuiltIn$f = function (namespace, method) {
    return arguments.length < 2 ? aFunction(path$n[namespace]) || aFunction(global$o[namespace])
      : path$n[namespace] && path$n[namespace][method] || global$o[namespace] && global$o[namespace][method];
  };

  var uncurryThis$n = functionUncurryThis;

  var objectIsPrototypeOf = uncurryThis$n({}.isPrototypeOf);

  var engineUserAgent = typeof navigator != 'undefined' && String(navigator.userAgent) || '';

  var global$n = global$p;
  var userAgent$5 = engineUserAgent;

  var process$3 = global$n.process;
  var Deno$1 = global$n.Deno;
  var versions = process$3 && process$3.versions || Deno$1 && Deno$1.version;
  var v8 = versions && versions.v8;
  var match, version;

  if (v8) {
    match = v8.split('.');
    // in old Chrome, versions of V8 isn't V8 = Chrome / 10
    // but their correct versions are not interesting for us
    version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);
  }

  // BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`
  // so check `userAgent` even if `.v8` exists, but 0
  if (!version && userAgent$5) {
    match = userAgent$5.match(/Edge\/(\d+)/);
    if (!match || match[1] >= 74) {
      match = userAgent$5.match(/Chrome\/(\d+)/);
      if (match) version = +match[1];
    }
  }

  var engineV8Version = version;

  /* eslint-disable es/no-symbol -- required for testing */
  var V8_VERSION$3 = engineV8Version;
  var fails$q = fails$u;
  var global$m = global$p;

  var $String$5 = global$m.String;

  // eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing
  var symbolConstructorDetection = !!Object.getOwnPropertySymbols && !fails$q(function () {
    var symbol = Symbol('symbol detection');
    // Chrome 38 Symbol has incorrect toString conversion
    // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances
    // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,
    // of course, fail.
    return !$String$5(symbol) || !(Object(symbol) instanceof Symbol) ||
      // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
      !Symbol.sham && V8_VERSION$3 && V8_VERSION$3 < 41;
  });

  /* eslint-disable es/no-symbol -- required for testing */
  var NATIVE_SYMBOL$5 = symbolConstructorDetection;

  var useSymbolAsUid = NATIVE_SYMBOL$5
    && !Symbol.sham
    && typeof Symbol.iterator == 'symbol';

  var getBuiltIn$e = getBuiltIn$f;
  var isCallable$j = isCallable$m;
  var isPrototypeOf$k = objectIsPrototypeOf;
  var USE_SYMBOL_AS_UID$1 = useSymbolAsUid;

  var $Object$3 = Object;

  var isSymbol$5 = USE_SYMBOL_AS_UID$1 ? function (it) {
    return typeof it == 'symbol';
  } : function (it) {
    var $Symbol = getBuiltIn$e('Symbol');
    return isCallable$j($Symbol) && isPrototypeOf$k($Symbol.prototype, $Object$3(it));
  };

  var $String$4 = String;

  var tryToString$6 = function (argument) {
    try {
      return $String$4(argument);
    } catch (error) {
      return 'Object';
    }
  };

  var isCallable$i = isCallable$m;
  var tryToString$5 = tryToString$6;

  var $TypeError$f = TypeError;

  // `Assert: IsCallable(argument) is true`
  var aCallable$e = function (argument) {
    if (isCallable$i(argument)) return argument;
    throw new $TypeError$f(tryToString$5(argument) + ' is not a function');
  };

  var aCallable$d = aCallable$e;
  var isNullOrUndefined$4 = isNullOrUndefined$6;

  // `GetMethod` abstract operation
  // https://tc39.es/ecma262/#sec-getmethod
  var getMethod$3 = function (V, P) {
    var func = V[P];
    return isNullOrUndefined$4(func) ? undefined : aCallable$d(func);
  };

  var call$h = functionCall;
  var isCallable$h = isCallable$m;
  var isObject$g = isObject$h;

  var $TypeError$e = TypeError;

  // `OrdinaryToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-ordinarytoprimitive
  var ordinaryToPrimitive$1 = function (input, pref) {
    var fn, val;
    if (pref === 'string' && isCallable$h(fn = input.toString) && !isObject$g(val = call$h(fn, input))) return val;
    if (isCallable$h(fn = input.valueOf) && !isObject$g(val = call$h(fn, input))) return val;
    if (pref !== 'string' && isCallable$h(fn = input.toString) && !isObject$g(val = call$h(fn, input))) return val;
    throw new $TypeError$e("Can't convert object to primitive value");
  };

  var shared$7 = {exports: {}};

  var isPure = true;

  var global$l = global$p;

  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var defineProperty$e = Object.defineProperty;

  var defineGlobalProperty$1 = function (key, value) {
    try {
      defineProperty$e(global$l, key, { value: value, configurable: true, writable: true });
    } catch (error) {
      global$l[key] = value;
    } return value;
  };

  var global$k = global$p;
  var defineGlobalProperty = defineGlobalProperty$1;

  var SHARED = '__core-js_shared__';
  var store$3 = global$k[SHARED] || defineGlobalProperty(SHARED, {});

  var sharedStore = store$3;

  var store$2 = sharedStore;

  (shared$7.exports = function (key, value) {
    return store$2[key] || (store$2[key] = value !== undefined ? value : {});
  })('versions', []).push({
    version: '3.33.2',
    mode: 'pure' ,
    copyright: 'Â© 2014-2023 Denis Pushkarev (zloirock.ru)',
    license: 'https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE',
    source: 'https://github.com/zloirock/core-js'
  });

  var sharedExports = shared$7.exports;

  var requireObjectCoercible$1 = requireObjectCoercible$3;

  var $Object$2 = Object;

  // `ToObject` abstract operation
  // https://tc39.es/ecma262/#sec-toobject
  var toObject$e = function (argument) {
    return $Object$2(requireObjectCoercible$1(argument));
  };

  var uncurryThis$m = functionUncurryThis;
  var toObject$d = toObject$e;

  var hasOwnProperty = uncurryThis$m({}.hasOwnProperty);

  // `HasOwnProperty` abstract operation
  // https://tc39.es/ecma262/#sec-hasownproperty
  // eslint-disable-next-line es/no-object-hasown -- safe
  var hasOwnProperty_1 = Object.hasOwn || function hasOwn(it, key) {
    return hasOwnProperty(toObject$d(it), key);
  };

  var uncurryThis$l = functionUncurryThis;

  var id$1 = 0;
  var postfix = Math.random();
  var toString$8 = uncurryThis$l(1.0.toString);

  var uid$4 = function (key) {
    return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString$8(++id$1 + postfix, 36);
  };

  var global$j = global$p;
  var shared$6 = sharedExports;
  var hasOwn$j = hasOwnProperty_1;
  var uid$3 = uid$4;
  var NATIVE_SYMBOL$4 = symbolConstructorDetection;
  var USE_SYMBOL_AS_UID = useSymbolAsUid;

  var Symbol$3 = global$j.Symbol;
  var WellKnownSymbolsStore$2 = shared$6('wks');
  var createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol$3['for'] || Symbol$3 : Symbol$3 && Symbol$3.withoutSetter || uid$3;

  var wellKnownSymbol$n = function (name) {
    if (!hasOwn$j(WellKnownSymbolsStore$2, name)) {
      WellKnownSymbolsStore$2[name] = NATIVE_SYMBOL$4 && hasOwn$j(Symbol$3, name)
        ? Symbol$3[name]
        : createWellKnownSymbol('Symbol.' + name);
    } return WellKnownSymbolsStore$2[name];
  };

  var call$g = functionCall;
  var isObject$f = isObject$h;
  var isSymbol$4 = isSymbol$5;
  var getMethod$2 = getMethod$3;
  var ordinaryToPrimitive = ordinaryToPrimitive$1;
  var wellKnownSymbol$m = wellKnownSymbol$n;

  var $TypeError$d = TypeError;
  var TO_PRIMITIVE = wellKnownSymbol$m('toPrimitive');

  // `ToPrimitive` abstract operation
  // https://tc39.es/ecma262/#sec-toprimitive
  var toPrimitive$6 = function (input, pref) {
    if (!isObject$f(input) || isSymbol$4(input)) return input;
    var exoticToPrim = getMethod$2(input, TO_PRIMITIVE);
    var result;
    if (exoticToPrim) {
      if (pref === undefined) pref = 'default';
      result = call$g(exoticToPrim, input, pref);
      if (!isObject$f(result) || isSymbol$4(result)) return result;
      throw new $TypeError$d("Can't convert object to primitive value");
    }
    if (pref === undefined) pref = 'number';
    return ordinaryToPrimitive(input, pref);
  };

  var toPrimitive$5 = toPrimitive$6;
  var isSymbol$3 = isSymbol$5;

  // `ToPropertyKey` abstract operation
  // https://tc39.es/ecma262/#sec-topropertykey
  var toPropertyKey$4 = function (argument) {
    var key = toPrimitive$5(argument, 'string');
    return isSymbol$3(key) ? key : key + '';
  };

  var global$i = global$p;
  var isObject$e = isObject$h;

  var document$3 = global$i.document;
  // typeof document.createElement is 'object' in old IE
  var EXISTS$1 = isObject$e(document$3) && isObject$e(document$3.createElement);

  var documentCreateElement$1 = function (it) {
    return EXISTS$1 ? document$3.createElement(it) : {};
  };

  var DESCRIPTORS$h = descriptors;
  var fails$p = fails$u;
  var createElement$1 = documentCreateElement$1;

  // Thanks to IE8 for its funny defineProperty
  var ie8DomDefine = !DESCRIPTORS$h && !fails$p(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(createElement$1('div'), 'a', {
      get: function () { return 7; }
    }).a !== 7;
  });

  var DESCRIPTORS$g = descriptors;
  var call$f = functionCall;
  var propertyIsEnumerableModule$2 = objectPropertyIsEnumerable;
  var createPropertyDescriptor$6 = createPropertyDescriptor$7;
  var toIndexedObject$9 = toIndexedObject$a;
  var toPropertyKey$3 = toPropertyKey$4;
  var hasOwn$i = hasOwnProperty_1;
  var IE8_DOM_DEFINE$1 = ie8DomDefine;

  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var $getOwnPropertyDescriptor$2 = Object.getOwnPropertyDescriptor;

  // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
  objectGetOwnPropertyDescriptor.f = DESCRIPTORS$g ? $getOwnPropertyDescriptor$2 : function getOwnPropertyDescriptor(O, P) {
    O = toIndexedObject$9(O);
    P = toPropertyKey$3(P);
    if (IE8_DOM_DEFINE$1) try {
      return $getOwnPropertyDescriptor$2(O, P);
    } catch (error) { /* empty */ }
    if (hasOwn$i(O, P)) return createPropertyDescriptor$6(!call$f(propertyIsEnumerableModule$2.f, O, P), O[P]);
  };

  var fails$o = fails$u;
  var isCallable$g = isCallable$m;

  var replacement = /#|\.prototype\./;

  var isForced$2 = function (feature, detection) {
    var value = data[normalize(feature)];
    return value === POLYFILL ? true
      : value === NATIVE ? false
      : isCallable$g(detection) ? fails$o(detection)
      : !!detection;
  };

  var normalize = isForced$2.normalize = function (string) {
    return String(string).replace(replacement, '.').toLowerCase();
  };

  var data = isForced$2.data = {};
  var NATIVE = isForced$2.NATIVE = 'N';
  var POLYFILL = isForced$2.POLYFILL = 'P';

  var isForced_1 = isForced$2;

  var uncurryThis$k = functionUncurryThisClause;
  var aCallable$c = aCallable$e;
  var NATIVE_BIND$1 = functionBindNative;

  var bind$i = uncurryThis$k(uncurryThis$k.bind);

  // optional / simple context binding
  var functionBindContext = function (fn, that) {
    aCallable$c(fn);
    return that === undefined ? fn : NATIVE_BIND$1 ? bind$i(fn, that) : function (/* ...args */) {
      return fn.apply(that, arguments);
    };
  };

  var objectDefineProperty = {};

  var DESCRIPTORS$f = descriptors;
  var fails$n = fails$u;

  // V8 ~ Chrome 36-
  // https://bugs.chromium.org/p/v8/issues/detail?id=3334
  var v8PrototypeDefineBug = DESCRIPTORS$f && fails$n(function () {
    // eslint-disable-next-line es/no-object-defineproperty -- required for testing
    return Object.defineProperty(function () { /* empty */ }, 'prototype', {
      value: 42,
      writable: false
    }).prototype !== 42;
  });

  var isObject$d = isObject$h;

  var $String$3 = String;
  var $TypeError$c = TypeError;

  // `Assert: Type(argument) is Object`
  var anObject$d = function (argument) {
    if (isObject$d(argument)) return argument;
    throw new $TypeError$c($String$3(argument) + ' is not an object');
  };

  var DESCRIPTORS$e = descriptors;
  var IE8_DOM_DEFINE = ie8DomDefine;
  var V8_PROTOTYPE_DEFINE_BUG$1 = v8PrototypeDefineBug;
  var anObject$c = anObject$d;
  var toPropertyKey$2 = toPropertyKey$4;

  var $TypeError$b = TypeError;
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  var $defineProperty$1 = Object.defineProperty;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var $getOwnPropertyDescriptor$1 = Object.getOwnPropertyDescriptor;
  var ENUMERABLE = 'enumerable';
  var CONFIGURABLE$1 = 'configurable';
  var WRITABLE = 'writable';

  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  objectDefineProperty.f = DESCRIPTORS$e ? V8_PROTOTYPE_DEFINE_BUG$1 ? function defineProperty(O, P, Attributes) {
    anObject$c(O);
    P = toPropertyKey$2(P);
    anObject$c(Attributes);
    if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {
      var current = $getOwnPropertyDescriptor$1(O, P);
      if (current && current[WRITABLE]) {
        O[P] = Attributes.value;
        Attributes = {
          configurable: CONFIGURABLE$1 in Attributes ? Attributes[CONFIGURABLE$1] : current[CONFIGURABLE$1],
          enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],
          writable: false
        };
      }
    } return $defineProperty$1(O, P, Attributes);
  } : $defineProperty$1 : function defineProperty(O, P, Attributes) {
    anObject$c(O);
    P = toPropertyKey$2(P);
    anObject$c(Attributes);
    if (IE8_DOM_DEFINE) try {
      return $defineProperty$1(O, P, Attributes);
    } catch (error) { /* empty */ }
    if ('get' in Attributes || 'set' in Attributes) throw new $TypeError$b('Accessors not supported');
    if ('value' in Attributes) O[P] = Attributes.value;
    return O;
  };

  var DESCRIPTORS$d = descriptors;
  var definePropertyModule$4 = objectDefineProperty;
  var createPropertyDescriptor$5 = createPropertyDescriptor$7;

  var createNonEnumerableProperty$9 = DESCRIPTORS$d ? function (object, key, value) {
    return definePropertyModule$4.f(object, key, createPropertyDescriptor$5(1, value));
  } : function (object, key, value) {
    object[key] = value;
    return object;
  };

  var global$h = global$p;
  var apply$5 = functionApply;
  var uncurryThis$j = functionUncurryThisClause;
  var isCallable$f = isCallable$m;
  var getOwnPropertyDescriptor$6 = objectGetOwnPropertyDescriptor.f;
  var isForced$1 = isForced_1;
  var path$m = path$o;
  var bind$h = functionBindContext;
  var createNonEnumerableProperty$8 = createNonEnumerableProperty$9;
  var hasOwn$h = hasOwnProperty_1;

  var wrapConstructor = function (NativeConstructor) {
    var Wrapper = function (a, b, c) {
      if (this instanceof Wrapper) {
        switch (arguments.length) {
          case 0: return new NativeConstructor();
          case 1: return new NativeConstructor(a);
          case 2: return new NativeConstructor(a, b);
        } return new NativeConstructor(a, b, c);
      } return apply$5(NativeConstructor, this, arguments);
    };
    Wrapper.prototype = NativeConstructor.prototype;
    return Wrapper;
  };

  /*
    options.target         - name of the target object
    options.global         - target is the global object
    options.stat           - export as static methods of target
    options.proto          - export as prototype methods of target
    options.real           - real prototype method for the `pure` version
    options.forced         - export even if the native feature is available
    options.bind           - bind methods to the target, required for the `pure` version
    options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version
    options.unsafe         - use the simple assignment of property instead of delete + defineProperty
    options.sham           - add a flag to not completely full polyfills
    options.enumerable     - export as enumerable property
    options.dontCallGetSet - prevent calling a getter on target
    options.name           - the .name of the function if it does not match the key
  */
  var _export = function (options, source) {
    var TARGET = options.target;
    var GLOBAL = options.global;
    var STATIC = options.stat;
    var PROTO = options.proto;

    var nativeSource = GLOBAL ? global$h : STATIC ? global$h[TARGET] : (global$h[TARGET] || {}).prototype;

    var target = GLOBAL ? path$m : path$m[TARGET] || createNonEnumerableProperty$8(path$m, TARGET, {})[TARGET];
    var targetPrototype = target.prototype;

    var FORCED, USE_NATIVE, VIRTUAL_PROTOTYPE;
    var key, sourceProperty, targetProperty, nativeProperty, resultProperty, descriptor;

    for (key in source) {
      FORCED = isForced$1(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);
      // contains in native
      USE_NATIVE = !FORCED && nativeSource && hasOwn$h(nativeSource, key);

      targetProperty = target[key];

      if (USE_NATIVE) if (options.dontCallGetSet) {
        descriptor = getOwnPropertyDescriptor$6(nativeSource, key);
        nativeProperty = descriptor && descriptor.value;
      } else nativeProperty = nativeSource[key];

      // export native or implementation
      sourceProperty = (USE_NATIVE && nativeProperty) ? nativeProperty : source[key];

      if (USE_NATIVE && typeof targetProperty == typeof sourceProperty) continue;

      // bind methods to global for calling from export context
      if (options.bind && USE_NATIVE) resultProperty = bind$h(sourceProperty, global$h);
      // wrap global constructors for prevent changes in this version
      else if (options.wrap && USE_NATIVE) resultProperty = wrapConstructor(sourceProperty);
      // make static versions for prototype methods
      else if (PROTO && isCallable$f(sourceProperty)) resultProperty = uncurryThis$j(sourceProperty);
      // default case
      else resultProperty = sourceProperty;

      // add a flag to not completely full polyfills
      if (options.sham || (sourceProperty && sourceProperty.sham) || (targetProperty && targetProperty.sham)) {
        createNonEnumerableProperty$8(resultProperty, 'sham', true);
      }

      createNonEnumerableProperty$8(target, key, resultProperty);

      if (PROTO) {
        VIRTUAL_PROTOTYPE = TARGET + 'Prototype';
        if (!hasOwn$h(path$m, VIRTUAL_PROTOTYPE)) {
          createNonEnumerableProperty$8(path$m, VIRTUAL_PROTOTYPE, {});
        }
        // export virtual prototype methods
        createNonEnumerableProperty$8(path$m[VIRTUAL_PROTOTYPE], key, sourceProperty);
        // export real prototype methods
        if (options.real && targetPrototype && (FORCED || !targetPrototype[key])) {
          createNonEnumerableProperty$8(targetPrototype, key, sourceProperty);
        }
      }
    }
  };

  var $$P = _export;
  var DESCRIPTORS$c = descriptors;
  var defineProperty$d = objectDefineProperty.f;

  // `Object.defineProperty` method
  // https://tc39.es/ecma262/#sec-object.defineproperty
  // eslint-disable-next-line es/no-object-defineproperty -- safe
  $$P({ target: 'Object', stat: true, forced: Object.defineProperty !== defineProperty$d, sham: !DESCRIPTORS$c }, {
    defineProperty: defineProperty$d
  });

  var path$l = path$o;

  var Object$4 = path$l.Object;

  var defineProperty$c = defineProperty$f.exports = function defineProperty(it, key, desc) {
    return Object$4.defineProperty(it, key, desc);
  };

  if (Object$4.defineProperty.sham) defineProperty$c.sham = true;

  var definePropertyExports = defineProperty$f.exports;

  var parent$18 = definePropertyExports;

  var defineProperty$b = parent$18;

  var parent$17 = defineProperty$b;

  var defineProperty$a = parent$17;

  var parent$16 = defineProperty$a;

  var defineProperty$9 = parent$16;

  var defineProperty$8 = defineProperty$9;

  var _Object$defineProperty$1 = /*@__PURE__*/getDefaultExportFromCjs(defineProperty$8);

  var classof$e = classofRaw$2;

  // `IsArray` abstract operation
  // https://tc39.es/ecma262/#sec-isarray
  // eslint-disable-next-line es/no-array-isarray -- safe
  var isArray$e = Array.isArray || function isArray(argument) {
    return classof$e(argument) === 'Array';
  };

  var ceil = Math.ceil;
  var floor$1 = Math.floor;

  // `Math.trunc` method
  // https://tc39.es/ecma262/#sec-math.trunc
  // eslint-disable-next-line es/no-math-trunc -- safe
  var mathTrunc = Math.trunc || function trunc(x) {
    var n = +x;
    return (n > 0 ? floor$1 : ceil)(n);
  };

  var trunc = mathTrunc;

  // `ToIntegerOrInfinity` abstract operation
  // https://tc39.es/ecma262/#sec-tointegerorinfinity
  var toIntegerOrInfinity$4 = function (argument) {
    var number = +argument;
    // eslint-disable-next-line no-self-compare -- NaN check
    return number !== number || number === 0 ? 0 : trunc(number);
  };

  var toIntegerOrInfinity$3 = toIntegerOrInfinity$4;

  var min$2 = Math.min;

  // `ToLength` abstract operation
  // https://tc39.es/ecma262/#sec-tolength
  var toLength$1 = function (argument) {
    return argument > 0 ? min$2(toIntegerOrInfinity$3(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991
  };

  var toLength = toLength$1;

  // `LengthOfArrayLike` abstract operation
  // https://tc39.es/ecma262/#sec-lengthofarraylike
  var lengthOfArrayLike$d = function (obj) {
    return toLength(obj.length);
  };

  var $TypeError$a = TypeError;
  var MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991

  var doesNotExceedSafeInteger$4 = function (it) {
    if (it > MAX_SAFE_INTEGER) throw $TypeError$a('Maximum allowed index exceeded');
    return it;
  };

  var toPropertyKey$1 = toPropertyKey$4;
  var definePropertyModule$3 = objectDefineProperty;
  var createPropertyDescriptor$4 = createPropertyDescriptor$7;

  var createProperty$6 = function (object, key, value) {
    var propertyKey = toPropertyKey$1(key);
    if (propertyKey in object) definePropertyModule$3.f(object, propertyKey, createPropertyDescriptor$4(0, value));
    else object[propertyKey] = value;
  };

  var wellKnownSymbol$l = wellKnownSymbol$n;

  var TO_STRING_TAG$4 = wellKnownSymbol$l('toStringTag');
  var test$2 = {};

  test$2[TO_STRING_TAG$4] = 'z';

  var toStringTagSupport = String(test$2) === '[object z]';

  var TO_STRING_TAG_SUPPORT$2 = toStringTagSupport;
  var isCallable$e = isCallable$m;
  var classofRaw = classofRaw$2;
  var wellKnownSymbol$k = wellKnownSymbol$n;

  var TO_STRING_TAG$3 = wellKnownSymbol$k('toStringTag');
  var $Object$1 = Object;

  // ES3 wrong here
  var CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';

  // fallback for IE11 Script Access Denied error
  var tryGet = function (it, key) {
    try {
      return it[key];
    } catch (error) { /* empty */ }
  };

  // getting tag from ES6+ `Object.prototype.toString`
  var classof$d = TO_STRING_TAG_SUPPORT$2 ? classofRaw : function (it) {
    var O, tag, result;
    return it === undefined ? 'Undefined' : it === null ? 'Null'
      // @@toStringTag case
      : typeof (tag = tryGet(O = $Object$1(it), TO_STRING_TAG$3)) == 'string' ? tag
      // builtinTag case
      : CORRECT_ARGUMENTS ? classofRaw(O)
      // ES3 arguments fallback
      : (result = classofRaw(O)) === 'Object' && isCallable$e(O.callee) ? 'Arguments' : result;
  };

  var uncurryThis$i = functionUncurryThis;
  var isCallable$d = isCallable$m;
  var store$1 = sharedStore;

  var functionToString = uncurryThis$i(Function.toString);

  // this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper
  if (!isCallable$d(store$1.inspectSource)) {
    store$1.inspectSource = function (it) {
      return functionToString(it);
    };
  }

  var inspectSource$2 = store$1.inspectSource;

  var uncurryThis$h = functionUncurryThis;
  var fails$m = fails$u;
  var isCallable$c = isCallable$m;
  var classof$c = classof$d;
  var getBuiltIn$d = getBuiltIn$f;
  var inspectSource$1 = inspectSource$2;

  var noop = function () { /* empty */ };
  var empty = [];
  var construct$4 = getBuiltIn$d('Reflect', 'construct');
  var constructorRegExp = /^\s*(?:class|function)\b/;
  var exec$1 = uncurryThis$h(constructorRegExp.exec);
  var INCORRECT_TO_STRING = !constructorRegExp.test(noop);

  var isConstructorModern = function isConstructor(argument) {
    if (!isCallable$c(argument)) return false;
    try {
      construct$4(noop, empty, argument);
      return true;
    } catch (error) {
      return false;
    }
  };

  var isConstructorLegacy = function isConstructor(argument) {
    if (!isCallable$c(argument)) return false;
    switch (classof$c(argument)) {
      case 'AsyncFunction':
      case 'GeneratorFunction':
      case 'AsyncGeneratorFunction': return false;
    }
    try {
      // we can't check .prototype since constructors produced by .bind haven't it
      // `Function#toString` throws on some built-it function in some legacy engines
      // (for example, `DOMQuad` and similar in FF41-)
      return INCORRECT_TO_STRING || !!exec$1(constructorRegExp, inspectSource$1(argument));
    } catch (error) {
      return true;
    }
  };

  isConstructorLegacy.sham = true;

  // `IsConstructor` abstract operation
  // https://tc39.es/ecma262/#sec-isconstructor
  var isConstructor$4 = !construct$4 || fails$m(function () {
    var called;
    return isConstructorModern(isConstructorModern.call)
      || !isConstructorModern(Object)
      || !isConstructorModern(function () { called = true; })
      || called;
  }) ? isConstructorLegacy : isConstructorModern;

  var isArray$d = isArray$e;
  var isConstructor$3 = isConstructor$4;
  var isObject$c = isObject$h;
  var wellKnownSymbol$j = wellKnownSymbol$n;

  var SPECIES$5 = wellKnownSymbol$j('species');
  var $Array$3 = Array;

  // a part of `ArraySpeciesCreate` abstract operation
  // https://tc39.es/ecma262/#sec-arrayspeciescreate
  var arraySpeciesConstructor$1 = function (originalArray) {
    var C;
    if (isArray$d(originalArray)) {
      C = originalArray.constructor;
      // cross-realm fallback
      if (isConstructor$3(C) && (C === $Array$3 || isArray$d(C.prototype))) C = undefined;
      else if (isObject$c(C)) {
        C = C[SPECIES$5];
        if (C === null) C = undefined;
      }
    } return C === undefined ? $Array$3 : C;
  };

  var arraySpeciesConstructor = arraySpeciesConstructor$1;

  // `ArraySpeciesCreate` abstract operation
  // https://tc39.es/ecma262/#sec-arrayspeciescreate
  var arraySpeciesCreate$4 = function (originalArray, length) {
    return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);
  };

  var fails$l = fails$u;
  var wellKnownSymbol$i = wellKnownSymbol$n;
  var V8_VERSION$2 = engineV8Version;

  var SPECIES$4 = wellKnownSymbol$i('species');

  var arrayMethodHasSpeciesSupport$5 = function (METHOD_NAME) {
    // We can't use this feature detection in V8 since it causes
    // deoptimization and serious performance degradation
    // https://github.com/zloirock/core-js/issues/677
    return V8_VERSION$2 >= 51 || !fails$l(function () {
      var array = [];
      var constructor = array.constructor = {};
      constructor[SPECIES$4] = function () {
        return { foo: 1 };
      };
      return array[METHOD_NAME](Boolean).foo !== 1;
    });
  };

  var $$O = _export;
  var fails$k = fails$u;
  var isArray$c = isArray$e;
  var isObject$b = isObject$h;
  var toObject$c = toObject$e;
  var lengthOfArrayLike$c = lengthOfArrayLike$d;
  var doesNotExceedSafeInteger$3 = doesNotExceedSafeInteger$4;
  var createProperty$5 = createProperty$6;
  var arraySpeciesCreate$3 = arraySpeciesCreate$4;
  var arrayMethodHasSpeciesSupport$4 = arrayMethodHasSpeciesSupport$5;
  var wellKnownSymbol$h = wellKnownSymbol$n;
  var V8_VERSION$1 = engineV8Version;

  var IS_CONCAT_SPREADABLE = wellKnownSymbol$h('isConcatSpreadable');

  // We can't use this feature detection in V8 since it causes
  // deoptimization and serious performance degradation
  // https://github.com/zloirock/core-js/issues/679
  var IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION$1 >= 51 || !fails$k(function () {
    var array = [];
    array[IS_CONCAT_SPREADABLE] = false;
    return array.concat()[0] !== array;
  });

  var isConcatSpreadable = function (O) {
    if (!isObject$b(O)) return false;
    var spreadable = O[IS_CONCAT_SPREADABLE];
    return spreadable !== undefined ? !!spreadable : isArray$c(O);
  };

  var FORCED$6 = !IS_CONCAT_SPREADABLE_SUPPORT || !arrayMethodHasSpeciesSupport$4('concat');

  // `Array.prototype.concat` method
  // https://tc39.es/ecma262/#sec-array.prototype.concat
  // with adding support of @@isConcatSpreadable and @@species
  $$O({ target: 'Array', proto: true, arity: 1, forced: FORCED$6 }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    concat: function concat(arg) {
      var O = toObject$c(this);
      var A = arraySpeciesCreate$3(O, 0);
      var n = 0;
      var i, k, length, len, E;
      for (i = -1, length = arguments.length; i < length; i++) {
        E = i === -1 ? O : arguments[i];
        if (isConcatSpreadable(E)) {
          len = lengthOfArrayLike$c(E);
          doesNotExceedSafeInteger$3(n + len);
          for (k = 0; k < len; k++, n++) if (k in E) createProperty$5(A, n, E[k]);
        } else {
          doesNotExceedSafeInteger$3(n + 1);
          createProperty$5(A, n++, E);
        }
      }
      A.length = n;
      return A;
    }
  });

  var classof$b = classof$d;

  var $String$2 = String;

  var toString$7 = function (argument) {
    if (classof$b(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');
    return $String$2(argument);
  };

  var objectDefineProperties = {};

  var toIntegerOrInfinity$2 = toIntegerOrInfinity$4;

  var max$3 = Math.max;
  var min$1 = Math.min;

  // Helper for a popular repeating case of the spec:
  // Let integer be ? ToInteger(index).
  // If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).
  var toAbsoluteIndex$4 = function (index, length) {
    var integer = toIntegerOrInfinity$2(index);
    return integer < 0 ? max$3(integer + length, 0) : min$1(integer, length);
  };

  var toIndexedObject$8 = toIndexedObject$a;
  var toAbsoluteIndex$3 = toAbsoluteIndex$4;
  var lengthOfArrayLike$b = lengthOfArrayLike$d;

  // `Array.prototype.{ indexOf, includes }` methods implementation
  var createMethod$3 = function (IS_INCLUDES) {
    return function ($this, el, fromIndex) {
      var O = toIndexedObject$8($this);
      var length = lengthOfArrayLike$b(O);
      var index = toAbsoluteIndex$3(fromIndex, length);
      var value;
      // Array#includes uses SameValueZero equality algorithm
      // eslint-disable-next-line no-self-compare -- NaN check
      if (IS_INCLUDES && el !== el) while (length > index) {
        value = O[index++];
        // eslint-disable-next-line no-self-compare -- NaN check
        if (value !== value) return true;
      // Array#indexOf ignores holes, Array#includes - not
      } else for (;length > index; index++) {
        if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;
      } return !IS_INCLUDES && -1;
    };
  };

  var arrayIncludes = {
    // `Array.prototype.includes` method
    // https://tc39.es/ecma262/#sec-array.prototype.includes
    includes: createMethod$3(true),
    // `Array.prototype.indexOf` method
    // https://tc39.es/ecma262/#sec-array.prototype.indexof
    indexOf: createMethod$3(false)
  };

  var hiddenKeys$6 = {};

  var uncurryThis$g = functionUncurryThis;
  var hasOwn$g = hasOwnProperty_1;
  var toIndexedObject$7 = toIndexedObject$a;
  var indexOf = arrayIncludes.indexOf;
  var hiddenKeys$5 = hiddenKeys$6;

  var push$c = uncurryThis$g([].push);

  var objectKeysInternal = function (object, names) {
    var O = toIndexedObject$7(object);
    var i = 0;
    var result = [];
    var key;
    for (key in O) !hasOwn$g(hiddenKeys$5, key) && hasOwn$g(O, key) && push$c(result, key);
    // Don't enum bug & hidden keys
    while (names.length > i) if (hasOwn$g(O, key = names[i++])) {
      ~indexOf(result, key) || push$c(result, key);
    }
    return result;
  };

  // IE8- don't enum bug keys
  var enumBugKeys$3 = [
    'constructor',
    'hasOwnProperty',
    'isPrototypeOf',
    'propertyIsEnumerable',
    'toLocaleString',
    'toString',
    'valueOf'
  ];

  var internalObjectKeys$1 = objectKeysInternal;
  var enumBugKeys$2 = enumBugKeys$3;

  // `Object.keys` method
  // https://tc39.es/ecma262/#sec-object.keys
  // eslint-disable-next-line es/no-object-keys -- safe
  var objectKeys$3 = Object.keys || function keys(O) {
    return internalObjectKeys$1(O, enumBugKeys$2);
  };

  var DESCRIPTORS$b = descriptors;
  var V8_PROTOTYPE_DEFINE_BUG = v8PrototypeDefineBug;
  var definePropertyModule$2 = objectDefineProperty;
  var anObject$b = anObject$d;
  var toIndexedObject$6 = toIndexedObject$a;
  var objectKeys$2 = objectKeys$3;

  // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  // eslint-disable-next-line es/no-object-defineproperties -- safe
  objectDefineProperties.f = DESCRIPTORS$b && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {
    anObject$b(O);
    var props = toIndexedObject$6(Properties);
    var keys = objectKeys$2(Properties);
    var length = keys.length;
    var index = 0;
    var key;
    while (length > index) definePropertyModule$2.f(O, key = keys[index++], props[key]);
    return O;
  };

  var getBuiltIn$c = getBuiltIn$f;

  var html$2 = getBuiltIn$c('document', 'documentElement');

  var shared$5 = sharedExports;
  var uid$2 = uid$4;

  var keys$7 = shared$5('keys');

  var sharedKey$4 = function (key) {
    return keys$7[key] || (keys$7[key] = uid$2(key));
  };

  /* global ActiveXObject -- old IE, WSH */
  var anObject$a = anObject$d;
  var definePropertiesModule$1 = objectDefineProperties;
  var enumBugKeys$1 = enumBugKeys$3;
  var hiddenKeys$4 = hiddenKeys$6;
  var html$1 = html$2;
  var documentCreateElement = documentCreateElement$1;
  var sharedKey$3 = sharedKey$4;

  var GT = '>';
  var LT = '<';
  var PROTOTYPE$1 = 'prototype';
  var SCRIPT = 'script';
  var IE_PROTO$1 = sharedKey$3('IE_PROTO');

  var EmptyConstructor = function () { /* empty */ };

  var scriptTag = function (content) {
    return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;
  };

  // Create object with fake `null` prototype: use ActiveX Object with cleared prototype
  var NullProtoObjectViaActiveX = function (activeXDocument) {
    activeXDocument.write(scriptTag(''));
    activeXDocument.close();
    var temp = activeXDocument.parentWindow.Object;
    activeXDocument = null; // avoid memory leak
    return temp;
  };

  // Create object with fake `null` prototype: use iframe Object with cleared prototype
  var NullProtoObjectViaIFrame = function () {
    // Thrash, waste and sodomy: IE GC bug
    var iframe = documentCreateElement('iframe');
    var JS = 'java' + SCRIPT + ':';
    var iframeDocument;
    iframe.style.display = 'none';
    html$1.appendChild(iframe);
    // https://github.com/zloirock/core-js/issues/475
    iframe.src = String(JS);
    iframeDocument = iframe.contentWindow.document;
    iframeDocument.open();
    iframeDocument.write(scriptTag('document.F=Object'));
    iframeDocument.close();
    return iframeDocument.F;
  };

  // Check for document.domain and active x support
  // No need to use active x approach when document.domain is not set
  // see https://github.com/es-shims/es5-shim/issues/150
  // variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346
  // avoid IE GC bug
  var activeXDocument;
  var NullProtoObject = function () {
    try {
      activeXDocument = new ActiveXObject('htmlfile');
    } catch (error) { /* ignore */ }
    NullProtoObject = typeof document != 'undefined'
      ? document.domain && activeXDocument
        ? NullProtoObjectViaActiveX(activeXDocument) // old IE
        : NullProtoObjectViaIFrame()
      : NullProtoObjectViaActiveX(activeXDocument); // WSH
    var length = enumBugKeys$1.length;
    while (length--) delete NullProtoObject[PROTOTYPE$1][enumBugKeys$1[length]];
    return NullProtoObject();
  };

  hiddenKeys$4[IE_PROTO$1] = true;

  // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create
  // eslint-disable-next-line es/no-object-create -- safe
  var objectCreate = Object.create || function create(O, Properties) {
    var result;
    if (O !== null) {
      EmptyConstructor[PROTOTYPE$1] = anObject$a(O);
      result = new EmptyConstructor();
      EmptyConstructor[PROTOTYPE$1] = null;
      // add "__proto__" for Object.getPrototypeOf polyfill
      result[IE_PROTO$1] = O;
    } else result = NullProtoObject();
    return Properties === undefined ? result : definePropertiesModule$1.f(result, Properties);
  };

  var objectGetOwnPropertyNames = {};

  var internalObjectKeys = objectKeysInternal;
  var enumBugKeys = enumBugKeys$3;

  var hiddenKeys$3 = enumBugKeys.concat('length', 'prototype');

  // `Object.getOwnPropertyNames` method
  // https://tc39.es/ecma262/#sec-object.getownpropertynames
  // eslint-disable-next-line es/no-object-getownpropertynames -- safe
  objectGetOwnPropertyNames.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
    return internalObjectKeys(O, hiddenKeys$3);
  };

  var objectGetOwnPropertyNamesExternal = {};

  var toAbsoluteIndex$2 = toAbsoluteIndex$4;
  var lengthOfArrayLike$a = lengthOfArrayLike$d;
  var createProperty$4 = createProperty$6;

  var $Array$2 = Array;
  var max$2 = Math.max;

  var arraySliceSimple = function (O, start, end) {
    var length = lengthOfArrayLike$a(O);
    var k = toAbsoluteIndex$2(start, length);
    var fin = toAbsoluteIndex$2(end === undefined ? length : end, length);
    var result = $Array$2(max$2(fin - k, 0));
    var n = 0;
    for (; k < fin; k++, n++) createProperty$4(result, n, O[k]);
    result.length = n;
    return result;
  };

  /* eslint-disable es/no-object-getownpropertynames -- safe */
  var classof$a = classofRaw$2;
  var toIndexedObject$5 = toIndexedObject$a;
  var $getOwnPropertyNames$1 = objectGetOwnPropertyNames.f;
  var arraySlice$6 = arraySliceSimple;

  var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
    ? Object.getOwnPropertyNames(window) : [];

  var getWindowNames = function (it) {
    try {
      return $getOwnPropertyNames$1(it);
    } catch (error) {
      return arraySlice$6(windowNames);
    }
  };

  // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
  objectGetOwnPropertyNamesExternal.f = function getOwnPropertyNames(it) {
    return windowNames && classof$a(it) === 'Window'
      ? getWindowNames(it)
      : $getOwnPropertyNames$1(toIndexedObject$5(it));
  };

  var objectGetOwnPropertySymbols = {};

  // eslint-disable-next-line es/no-object-getownpropertysymbols -- safe
  objectGetOwnPropertySymbols.f = Object.getOwnPropertySymbols;

  var createNonEnumerableProperty$7 = createNonEnumerableProperty$9;

  var defineBuiltIn$6 = function (target, key, value, options) {
    if (options && options.enumerable) target[key] = value;
    else createNonEnumerableProperty$7(target, key, value);
    return target;
  };

  var defineProperty$7 = objectDefineProperty;

  var defineBuiltInAccessor$3 = function (target, name, descriptor) {
    return defineProperty$7.f(target, name, descriptor);
  };

  var wellKnownSymbolWrapped = {};

  var wellKnownSymbol$g = wellKnownSymbol$n;

  wellKnownSymbolWrapped.f = wellKnownSymbol$g;

  var path$k = path$o;
  var hasOwn$f = hasOwnProperty_1;
  var wrappedWellKnownSymbolModule$1 = wellKnownSymbolWrapped;
  var defineProperty$6 = objectDefineProperty.f;

  var wellKnownSymbolDefine = function (NAME) {
    var Symbol = path$k.Symbol || (path$k.Symbol = {});
    if (!hasOwn$f(Symbol, NAME)) defineProperty$6(Symbol, NAME, {
      value: wrappedWellKnownSymbolModule$1.f(NAME)
    });
  };

  var call$e = functionCall;
  var getBuiltIn$b = getBuiltIn$f;
  var wellKnownSymbol$f = wellKnownSymbol$n;
  var defineBuiltIn$5 = defineBuiltIn$6;

  var symbolDefineToPrimitive = function () {
    var Symbol = getBuiltIn$b('Symbol');
    var SymbolPrototype = Symbol && Symbol.prototype;
    var valueOf = SymbolPrototype && SymbolPrototype.valueOf;
    var TO_PRIMITIVE = wellKnownSymbol$f('toPrimitive');

    if (SymbolPrototype && !SymbolPrototype[TO_PRIMITIVE]) {
      // `Symbol.prototype[@@toPrimitive]` method
      // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
      // eslint-disable-next-line no-unused-vars -- required for .length
      defineBuiltIn$5(SymbolPrototype, TO_PRIMITIVE, function (hint) {
        return call$e(valueOf, this);
      }, { arity: 1 });
    }
  };

  var TO_STRING_TAG_SUPPORT$1 = toStringTagSupport;
  var classof$9 = classof$d;

  // `Object.prototype.toString` method implementation
  // https://tc39.es/ecma262/#sec-object.prototype.tostring
  var objectToString = TO_STRING_TAG_SUPPORT$1 ? {}.toString : function toString() {
    return '[object ' + classof$9(this) + ']';
  };

  var TO_STRING_TAG_SUPPORT = toStringTagSupport;
  var defineProperty$5 = objectDefineProperty.f;
  var createNonEnumerableProperty$6 = createNonEnumerableProperty$9;
  var hasOwn$e = hasOwnProperty_1;
  var toString$6 = objectToString;
  var wellKnownSymbol$e = wellKnownSymbol$n;

  var TO_STRING_TAG$2 = wellKnownSymbol$e('toStringTag');

  var setToStringTag$7 = function (it, TAG, STATIC, SET_METHOD) {
    if (it) {
      var target = STATIC ? it : it.prototype;
      if (!hasOwn$e(target, TO_STRING_TAG$2)) {
        defineProperty$5(target, TO_STRING_TAG$2, { configurable: true, value: TAG });
      }
      if (SET_METHOD && !TO_STRING_TAG_SUPPORT) {
        createNonEnumerableProperty$6(target, 'toString', toString$6);
      }
    }
  };

  var global$g = global$p;
  var isCallable$b = isCallable$m;

  var WeakMap$1 = global$g.WeakMap;

  var weakMapBasicDetection = isCallable$b(WeakMap$1) && /native code/.test(String(WeakMap$1));

  var NATIVE_WEAK_MAP = weakMapBasicDetection;
  var global$f = global$p;
  var isObject$a = isObject$h;
  var createNonEnumerableProperty$5 = createNonEnumerableProperty$9;
  var hasOwn$d = hasOwnProperty_1;
  var shared$4 = sharedStore;
  var sharedKey$2 = sharedKey$4;
  var hiddenKeys$2 = hiddenKeys$6;

  var OBJECT_ALREADY_INITIALIZED = 'Object already initialized';
  var TypeError$3 = global$f.TypeError;
  var WeakMap = global$f.WeakMap;
  var set$4, get, has;

  var enforce = function (it) {
    return has(it) ? get(it) : set$4(it, {});
  };

  var getterFor = function (TYPE) {
    return function (it) {
      var state;
      if (!isObject$a(it) || (state = get(it)).type !== TYPE) {
        throw new TypeError$3('Incompatible receiver, ' + TYPE + ' required');
      } return state;
    };
  };

  if (NATIVE_WEAK_MAP || shared$4.state) {
    var store = shared$4.state || (shared$4.state = new WeakMap());
    /* eslint-disable no-self-assign -- prototype methods protection */
    store.get = store.get;
    store.has = store.has;
    store.set = store.set;
    /* eslint-enable no-self-assign -- prototype methods protection */
    set$4 = function (it, metadata) {
      if (store.has(it)) throw new TypeError$3(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      store.set(it, metadata);
      return metadata;
    };
    get = function (it) {
      return store.get(it) || {};
    };
    has = function (it) {
      return store.has(it);
    };
  } else {
    var STATE = sharedKey$2('state');
    hiddenKeys$2[STATE] = true;
    set$4 = function (it, metadata) {
      if (hasOwn$d(it, STATE)) throw new TypeError$3(OBJECT_ALREADY_INITIALIZED);
      metadata.facade = it;
      createNonEnumerableProperty$5(it, STATE, metadata);
      return metadata;
    };
    get = function (it) {
      return hasOwn$d(it, STATE) ? it[STATE] : {};
    };
    has = function (it) {
      return hasOwn$d(it, STATE);
    };
  }

  var internalState = {
    set: set$4,
    get: get,
    has: has,
    enforce: enforce,
    getterFor: getterFor
  };

  var bind$g = functionBindContext;
  var uncurryThis$f = functionUncurryThis;
  var IndexedObject$2 = indexedObject;
  var toObject$b = toObject$e;
  var lengthOfArrayLike$9 = lengthOfArrayLike$d;
  var arraySpeciesCreate$2 = arraySpeciesCreate$4;

  var push$b = uncurryThis$f([].push);

  // `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation
  var createMethod$2 = function (TYPE) {
    var IS_MAP = TYPE === 1;
    var IS_FILTER = TYPE === 2;
    var IS_SOME = TYPE === 3;
    var IS_EVERY = TYPE === 4;
    var IS_FIND_INDEX = TYPE === 6;
    var IS_FILTER_REJECT = TYPE === 7;
    var NO_HOLES = TYPE === 5 || IS_FIND_INDEX;
    return function ($this, callbackfn, that, specificCreate) {
      var O = toObject$b($this);
      var self = IndexedObject$2(O);
      var boundFunction = bind$g(callbackfn, that);
      var length = lengthOfArrayLike$9(self);
      var index = 0;
      var create = specificCreate || arraySpeciesCreate$2;
      var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;
      var value, result;
      for (;length > index; index++) if (NO_HOLES || index in self) {
        value = self[index];
        result = boundFunction(value, index, O);
        if (TYPE) {
          if (IS_MAP) target[index] = result; // map
          else if (result) switch (TYPE) {
            case 3: return true;              // some
            case 5: return value;             // find
            case 6: return index;             // findIndex
            case 2: push$b(target, value);      // filter
          } else switch (TYPE) {
            case 4: return false;             // every
            case 7: push$b(target, value);      // filterReject
          }
        }
      }
      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;
    };
  };

  var arrayIteration = {
    // `Array.prototype.forEach` method
    // https://tc39.es/ecma262/#sec-array.prototype.foreach
    forEach: createMethod$2(0),
    // `Array.prototype.map` method
    // https://tc39.es/ecma262/#sec-array.prototype.map
    map: createMethod$2(1),
    // `Array.prototype.filter` method
    // https://tc39.es/ecma262/#sec-array.prototype.filter
    filter: createMethod$2(2),
    // `Array.prototype.some` method
    // https://tc39.es/ecma262/#sec-array.prototype.some
    some: createMethod$2(3),
    // `Array.prototype.every` method
    // https://tc39.es/ecma262/#sec-array.prototype.every
    every: createMethod$2(4),
    // `Array.prototype.find` method
    // https://tc39.es/ecma262/#sec-array.prototype.find
    find: createMethod$2(5),
    // `Array.prototype.findIndex` method
    // https://tc39.es/ecma262/#sec-array.prototype.findIndex
    findIndex: createMethod$2(6),
    // `Array.prototype.filterReject` method
    // https://github.com/tc39/proposal-array-filtering
    filterReject: createMethod$2(7)
  };

  var $$N = _export;
  var global$e = global$p;
  var call$d = functionCall;
  var uncurryThis$e = functionUncurryThis;
  var DESCRIPTORS$a = descriptors;
  var NATIVE_SYMBOL$3 = symbolConstructorDetection;
  var fails$j = fails$u;
  var hasOwn$c = hasOwnProperty_1;
  var isPrototypeOf$j = objectIsPrototypeOf;
  var anObject$9 = anObject$d;
  var toIndexedObject$4 = toIndexedObject$a;
  var toPropertyKey = toPropertyKey$4;
  var $toString = toString$7;
  var createPropertyDescriptor$3 = createPropertyDescriptor$7;
  var nativeObjectCreate = objectCreate;
  var objectKeys$1 = objectKeys$3;
  var getOwnPropertyNamesModule$2 = objectGetOwnPropertyNames;
  var getOwnPropertyNamesExternal = objectGetOwnPropertyNamesExternal;
  var getOwnPropertySymbolsModule$3 = objectGetOwnPropertySymbols;
  var getOwnPropertyDescriptorModule$2 = objectGetOwnPropertyDescriptor;
  var definePropertyModule$1 = objectDefineProperty;
  var definePropertiesModule = objectDefineProperties;
  var propertyIsEnumerableModule$1 = objectPropertyIsEnumerable;
  var defineBuiltIn$4 = defineBuiltIn$6;
  var defineBuiltInAccessor$2 = defineBuiltInAccessor$3;
  var shared$3 = sharedExports;
  var sharedKey$1 = sharedKey$4;
  var hiddenKeys$1 = hiddenKeys$6;
  var uid$1 = uid$4;
  var wellKnownSymbol$d = wellKnownSymbol$n;
  var wrappedWellKnownSymbolModule = wellKnownSymbolWrapped;
  var defineWellKnownSymbol$l = wellKnownSymbolDefine;
  var defineSymbolToPrimitive$1 = symbolDefineToPrimitive;
  var setToStringTag$6 = setToStringTag$7;
  var InternalStateModule$5 = internalState;
  var $forEach$1 = arrayIteration.forEach;

  var HIDDEN = sharedKey$1('hidden');
  var SYMBOL = 'Symbol';
  var PROTOTYPE = 'prototype';

  var setInternalState$5 = InternalStateModule$5.set;
  var getInternalState$2 = InternalStateModule$5.getterFor(SYMBOL);

  var ObjectPrototype$2 = Object[PROTOTYPE];
  var $Symbol = global$e.Symbol;
  var SymbolPrototype = $Symbol && $Symbol[PROTOTYPE];
  var RangeError = global$e.RangeError;
  var TypeError$2 = global$e.TypeError;
  var QObject = global$e.QObject;
  var nativeGetOwnPropertyDescriptor$1 = getOwnPropertyDescriptorModule$2.f;
  var nativeDefineProperty = definePropertyModule$1.f;
  var nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;
  var nativePropertyIsEnumerable = propertyIsEnumerableModule$1.f;
  var push$a = uncurryThis$e([].push);

  var AllSymbols = shared$3('symbols');
  var ObjectPrototypeSymbols = shared$3('op-symbols');
  var WellKnownSymbolsStore$1 = shared$3('wks');

  // Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
  var USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

  // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
  var fallbackDefineProperty = function (O, P, Attributes) {
    var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor$1(ObjectPrototype$2, P);
    if (ObjectPrototypeDescriptor) delete ObjectPrototype$2[P];
    nativeDefineProperty(O, P, Attributes);
    if (ObjectPrototypeDescriptor && O !== ObjectPrototype$2) {
      nativeDefineProperty(ObjectPrototype$2, P, ObjectPrototypeDescriptor);
    }
  };

  var setSymbolDescriptor = DESCRIPTORS$a && fails$j(function () {
    return nativeObjectCreate(nativeDefineProperty({}, 'a', {
      get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }
    })).a !== 7;
  }) ? fallbackDefineProperty : nativeDefineProperty;

  var wrap = function (tag, description) {
    var symbol = AllSymbols[tag] = nativeObjectCreate(SymbolPrototype);
    setInternalState$5(symbol, {
      type: SYMBOL,
      tag: tag,
      description: description
    });
    if (!DESCRIPTORS$a) symbol.description = description;
    return symbol;
  };

  var $defineProperty = function defineProperty(O, P, Attributes) {
    if (O === ObjectPrototype$2) $defineProperty(ObjectPrototypeSymbols, P, Attributes);
    anObject$9(O);
    var key = toPropertyKey(P);
    anObject$9(Attributes);
    if (hasOwn$c(AllSymbols, key)) {
      if (!Attributes.enumerable) {
        if (!hasOwn$c(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor$3(1, {}));
        O[HIDDEN][key] = true;
      } else {
        if (hasOwn$c(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;
        Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor$3(0, false) });
      } return setSymbolDescriptor(O, key, Attributes);
    } return nativeDefineProperty(O, key, Attributes);
  };

  var $defineProperties = function defineProperties(O, Properties) {
    anObject$9(O);
    var properties = toIndexedObject$4(Properties);
    var keys = objectKeys$1(properties).concat($getOwnPropertySymbols(properties));
    $forEach$1(keys, function (key) {
      if (!DESCRIPTORS$a || call$d($propertyIsEnumerable, properties, key)) $defineProperty(O, key, properties[key]);
    });
    return O;
  };

  var $create = function create(O, Properties) {
    return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);
  };

  var $propertyIsEnumerable = function propertyIsEnumerable(V) {
    var P = toPropertyKey(V);
    var enumerable = call$d(nativePropertyIsEnumerable, this, P);
    if (this === ObjectPrototype$2 && hasOwn$c(AllSymbols, P) && !hasOwn$c(ObjectPrototypeSymbols, P)) return false;
    return enumerable || !hasOwn$c(this, P) || !hasOwn$c(AllSymbols, P) || hasOwn$c(this, HIDDEN) && this[HIDDEN][P]
      ? enumerable : true;
  };

  var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {
    var it = toIndexedObject$4(O);
    var key = toPropertyKey(P);
    if (it === ObjectPrototype$2 && hasOwn$c(AllSymbols, key) && !hasOwn$c(ObjectPrototypeSymbols, key)) return;
    var descriptor = nativeGetOwnPropertyDescriptor$1(it, key);
    if (descriptor && hasOwn$c(AllSymbols, key) && !(hasOwn$c(it, HIDDEN) && it[HIDDEN][key])) {
      descriptor.enumerable = true;
    }
    return descriptor;
  };

  var $getOwnPropertyNames = function getOwnPropertyNames(O) {
    var names = nativeGetOwnPropertyNames(toIndexedObject$4(O));
    var result = [];
    $forEach$1(names, function (key) {
      if (!hasOwn$c(AllSymbols, key) && !hasOwn$c(hiddenKeys$1, key)) push$a(result, key);
    });
    return result;
  };

  var $getOwnPropertySymbols = function (O) {
    var IS_OBJECT_PROTOTYPE = O === ObjectPrototype$2;
    var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject$4(O));
    var result = [];
    $forEach$1(names, function (key) {
      if (hasOwn$c(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || hasOwn$c(ObjectPrototype$2, key))) {
        push$a(result, AllSymbols[key]);
      }
    });
    return result;
  };

  // `Symbol` constructor
  // https://tc39.es/ecma262/#sec-symbol-constructor
  if (!NATIVE_SYMBOL$3) {
    $Symbol = function Symbol() {
      if (isPrototypeOf$j(SymbolPrototype, this)) throw new TypeError$2('Symbol is not a constructor');
      var description = !arguments.length || arguments[0] === undefined ? undefined : $toString(arguments[0]);
      var tag = uid$1(description);
      var setter = function (value) {
        var $this = this === undefined ? global$e : this;
        if ($this === ObjectPrototype$2) call$d(setter, ObjectPrototypeSymbols, value);
        if (hasOwn$c($this, HIDDEN) && hasOwn$c($this[HIDDEN], tag)) $this[HIDDEN][tag] = false;
        var descriptor = createPropertyDescriptor$3(1, value);
        try {
          setSymbolDescriptor($this, tag, descriptor);
        } catch (error) {
          if (!(error instanceof RangeError)) throw error;
          fallbackDefineProperty($this, tag, descriptor);
        }
      };
      if (DESCRIPTORS$a && USE_SETTER) setSymbolDescriptor(ObjectPrototype$2, tag, { configurable: true, set: setter });
      return wrap(tag, description);
    };

    SymbolPrototype = $Symbol[PROTOTYPE];

    defineBuiltIn$4(SymbolPrototype, 'toString', function toString() {
      return getInternalState$2(this).tag;
    });

    defineBuiltIn$4($Symbol, 'withoutSetter', function (description) {
      return wrap(uid$1(description), description);
    });

    propertyIsEnumerableModule$1.f = $propertyIsEnumerable;
    definePropertyModule$1.f = $defineProperty;
    definePropertiesModule.f = $defineProperties;
    getOwnPropertyDescriptorModule$2.f = $getOwnPropertyDescriptor;
    getOwnPropertyNamesModule$2.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;
    getOwnPropertySymbolsModule$3.f = $getOwnPropertySymbols;

    wrappedWellKnownSymbolModule.f = function (name) {
      return wrap(wellKnownSymbol$d(name), name);
    };

    if (DESCRIPTORS$a) {
      // https://github.com/tc39/proposal-Symbol-description
      defineBuiltInAccessor$2(SymbolPrototype, 'description', {
        configurable: true,
        get: function description() {
          return getInternalState$2(this).description;
        }
      });
    }
  }

  $$N({ global: true, constructor: true, wrap: true, forced: !NATIVE_SYMBOL$3, sham: !NATIVE_SYMBOL$3 }, {
    Symbol: $Symbol
  });

  $forEach$1(objectKeys$1(WellKnownSymbolsStore$1), function (name) {
    defineWellKnownSymbol$l(name);
  });

  $$N({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL$3 }, {
    useSetter: function () { USE_SETTER = true; },
    useSimple: function () { USE_SETTER = false; }
  });

  $$N({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL$3, sham: !DESCRIPTORS$a }, {
    // `Object.create` method
    // https://tc39.es/ecma262/#sec-object.create
    create: $create,
    // `Object.defineProperty` method
    // https://tc39.es/ecma262/#sec-object.defineproperty
    defineProperty: $defineProperty,
    // `Object.defineProperties` method
    // https://tc39.es/ecma262/#sec-object.defineproperties
    defineProperties: $defineProperties,
    // `Object.getOwnPropertyDescriptor` method
    // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
    getOwnPropertyDescriptor: $getOwnPropertyDescriptor
  });

  $$N({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL$3 }, {
    // `Object.getOwnPropertyNames` method
    // https://tc39.es/ecma262/#sec-object.getownpropertynames
    getOwnPropertyNames: $getOwnPropertyNames
  });

  // `Symbol.prototype[@@toPrimitive]` method
  // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
  defineSymbolToPrimitive$1();

  // `Symbol.prototype[@@toStringTag]` property
  // https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
  setToStringTag$6($Symbol, SYMBOL);

  hiddenKeys$1[HIDDEN] = true;

  var NATIVE_SYMBOL$2 = symbolConstructorDetection;

  /* eslint-disable es/no-symbol -- safe */
  var symbolRegistryDetection = NATIVE_SYMBOL$2 && !!Symbol['for'] && !!Symbol.keyFor;

  var $$M = _export;
  var getBuiltIn$a = getBuiltIn$f;
  var hasOwn$b = hasOwnProperty_1;
  var toString$5 = toString$7;
  var shared$2 = sharedExports;
  var NATIVE_SYMBOL_REGISTRY$1 = symbolRegistryDetection;

  var StringToSymbolRegistry = shared$2('string-to-symbol-registry');
  var SymbolToStringRegistry$1 = shared$2('symbol-to-string-registry');

  // `Symbol.for` method
  // https://tc39.es/ecma262/#sec-symbol.for
  $$M({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY$1 }, {
    'for': function (key) {
      var string = toString$5(key);
      if (hasOwn$b(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];
      var symbol = getBuiltIn$a('Symbol')(string);
      StringToSymbolRegistry[string] = symbol;
      SymbolToStringRegistry$1[symbol] = string;
      return symbol;
    }
  });

  var $$L = _export;
  var hasOwn$a = hasOwnProperty_1;
  var isSymbol$2 = isSymbol$5;
  var tryToString$4 = tryToString$6;
  var shared$1 = sharedExports;
  var NATIVE_SYMBOL_REGISTRY = symbolRegistryDetection;

  var SymbolToStringRegistry = shared$1('symbol-to-string-registry');

  // `Symbol.keyFor` method
  // https://tc39.es/ecma262/#sec-symbol.keyfor
  $$L({ target: 'Symbol', stat: true, forced: !NATIVE_SYMBOL_REGISTRY }, {
    keyFor: function keyFor(sym) {
      if (!isSymbol$2(sym)) throw new TypeError(tryToString$4(sym) + ' is not a symbol');
      if (hasOwn$a(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];
    }
  });

  var uncurryThis$d = functionUncurryThis;

  var arraySlice$5 = uncurryThis$d([].slice);

  var uncurryThis$c = functionUncurryThis;
  var isArray$b = isArray$e;
  var isCallable$a = isCallable$m;
  var classof$8 = classofRaw$2;
  var toString$4 = toString$7;

  var push$9 = uncurryThis$c([].push);

  var getJsonReplacerFunction = function (replacer) {
    if (isCallable$a(replacer)) return replacer;
    if (!isArray$b(replacer)) return;
    var rawLength = replacer.length;
    var keys = [];
    for (var i = 0; i < rawLength; i++) {
      var element = replacer[i];
      if (typeof element == 'string') push$9(keys, element);
      else if (typeof element == 'number' || classof$8(element) === 'Number' || classof$8(element) === 'String') push$9(keys, toString$4(element));
    }
    var keysLength = keys.length;
    var root = true;
    return function (key, value) {
      if (root) {
        root = false;
        return value;
      }
      if (isArray$b(this)) return value;
      for (var j = 0; j < keysLength; j++) if (keys[j] === key) return value;
    };
  };

  var $$K = _export;
  var getBuiltIn$9 = getBuiltIn$f;
  var apply$4 = functionApply;
  var call$c = functionCall;
  var uncurryThis$b = functionUncurryThis;
  var fails$i = fails$u;
  var isCallable$9 = isCallable$m;
  var isSymbol$1 = isSymbol$5;
  var arraySlice$4 = arraySlice$5;
  var getReplacerFunction = getJsonReplacerFunction;
  var NATIVE_SYMBOL$1 = symbolConstructorDetection;

  var $String$1 = String;
  var $stringify = getBuiltIn$9('JSON', 'stringify');
  var exec = uncurryThis$b(/./.exec);
  var charAt$2 = uncurryThis$b(''.charAt);
  var charCodeAt$1 = uncurryThis$b(''.charCodeAt);
  var replace$1 = uncurryThis$b(''.replace);
  var numberToString = uncurryThis$b(1.0.toString);

  var tester = /[\uD800-\uDFFF]/g;
  var low = /^[\uD800-\uDBFF]$/;
  var hi = /^[\uDC00-\uDFFF]$/;

  var WRONG_SYMBOLS_CONVERSION = !NATIVE_SYMBOL$1 || fails$i(function () {
    var symbol = getBuiltIn$9('Symbol')('stringify detection');
    // MS Edge converts symbol values to JSON as {}
    return $stringify([symbol]) !== '[null]'
      // WebKit converts symbol values to JSON as null
      || $stringify({ a: symbol }) !== '{}'
      // V8 throws on boxed symbols
      || $stringify(Object(symbol)) !== '{}';
  });

  // https://github.com/tc39/proposal-well-formed-stringify
  var ILL_FORMED_UNICODE = fails$i(function () {
    return $stringify('\uDF06\uD834') !== '"\\udf06\\ud834"'
      || $stringify('\uDEAD') !== '"\\udead"';
  });

  var stringifyWithSymbolsFix = function (it, replacer) {
    var args = arraySlice$4(arguments);
    var $replacer = getReplacerFunction(replacer);
    if (!isCallable$9($replacer) && (it === undefined || isSymbol$1(it))) return; // IE8 returns string on undefined
    args[1] = function (key, value) {
      // some old implementations (like WebKit) could pass numbers as keys
      if (isCallable$9($replacer)) value = call$c($replacer, this, $String$1(key), value);
      if (!isSymbol$1(value)) return value;
    };
    return apply$4($stringify, null, args);
  };

  var fixIllFormed = function (match, offset, string) {
    var prev = charAt$2(string, offset - 1);
    var next = charAt$2(string, offset + 1);
    if ((exec(low, match) && !exec(hi, next)) || (exec(hi, match) && !exec(low, prev))) {
      return '\\u' + numberToString(charCodeAt$1(match, 0), 16);
    } return match;
  };

  if ($stringify) {
    // `JSON.stringify` method
    // https://tc39.es/ecma262/#sec-json.stringify
    $$K({ target: 'JSON', stat: true, arity: 3, forced: WRONG_SYMBOLS_CONVERSION || ILL_FORMED_UNICODE }, {
      // eslint-disable-next-line no-unused-vars -- required for `.length`
      stringify: function stringify(it, replacer, space) {
        var args = arraySlice$4(arguments);
        var result = apply$4(WRONG_SYMBOLS_CONVERSION ? stringifyWithSymbolsFix : $stringify, null, args);
        return ILL_FORMED_UNICODE && typeof result == 'string' ? replace$1(result, tester, fixIllFormed) : result;
      }
    });
  }

  var $$J = _export;
  var NATIVE_SYMBOL = symbolConstructorDetection;
  var fails$h = fails$u;
  var getOwnPropertySymbolsModule$2 = objectGetOwnPropertySymbols;
  var toObject$a = toObject$e;

  // V8 ~ Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives
  // https://bugs.chromium.org/p/v8/issues/detail?id=3443
  var FORCED$5 = !NATIVE_SYMBOL || fails$h(function () { getOwnPropertySymbolsModule$2.f(1); });

  // `Object.getOwnPropertySymbols` method
  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols
  $$J({ target: 'Object', stat: true, forced: FORCED$5 }, {
    getOwnPropertySymbols: function getOwnPropertySymbols(it) {
      var $getOwnPropertySymbols = getOwnPropertySymbolsModule$2.f;
      return $getOwnPropertySymbols ? $getOwnPropertySymbols(toObject$a(it)) : [];
    }
  });

  var defineWellKnownSymbol$k = wellKnownSymbolDefine;

  // `Symbol.asyncIterator` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.asynciterator
  defineWellKnownSymbol$k('asyncIterator');

  var defineWellKnownSymbol$j = wellKnownSymbolDefine;

  // `Symbol.hasInstance` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.hasinstance
  defineWellKnownSymbol$j('hasInstance');

  var defineWellKnownSymbol$i = wellKnownSymbolDefine;

  // `Symbol.isConcatSpreadable` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.isconcatspreadable
  defineWellKnownSymbol$i('isConcatSpreadable');

  var defineWellKnownSymbol$h = wellKnownSymbolDefine;

  // `Symbol.iterator` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.iterator
  defineWellKnownSymbol$h('iterator');

  var defineWellKnownSymbol$g = wellKnownSymbolDefine;

  // `Symbol.match` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.match
  defineWellKnownSymbol$g('match');

  var defineWellKnownSymbol$f = wellKnownSymbolDefine;

  // `Symbol.matchAll` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.matchall
  defineWellKnownSymbol$f('matchAll');

  var defineWellKnownSymbol$e = wellKnownSymbolDefine;

  // `Symbol.replace` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.replace
  defineWellKnownSymbol$e('replace');

  var defineWellKnownSymbol$d = wellKnownSymbolDefine;

  // `Symbol.search` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.search
  defineWellKnownSymbol$d('search');

  var defineWellKnownSymbol$c = wellKnownSymbolDefine;

  // `Symbol.species` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.species
  defineWellKnownSymbol$c('species');

  var defineWellKnownSymbol$b = wellKnownSymbolDefine;

  // `Symbol.split` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.split
  defineWellKnownSymbol$b('split');

  var defineWellKnownSymbol$a = wellKnownSymbolDefine;
  var defineSymbolToPrimitive = symbolDefineToPrimitive;

  // `Symbol.toPrimitive` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.toprimitive
  defineWellKnownSymbol$a('toPrimitive');

  // `Symbol.prototype[@@toPrimitive]` method
  // https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive
  defineSymbolToPrimitive();

  var getBuiltIn$8 = getBuiltIn$f;
  var defineWellKnownSymbol$9 = wellKnownSymbolDefine;
  var setToStringTag$5 = setToStringTag$7;

  // `Symbol.toStringTag` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.tostringtag
  defineWellKnownSymbol$9('toStringTag');

  // `Symbol.prototype[@@toStringTag]` property
  // https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag
  setToStringTag$5(getBuiltIn$8('Symbol'), 'Symbol');

  var defineWellKnownSymbol$8 = wellKnownSymbolDefine;

  // `Symbol.unscopables` well-known symbol
  // https://tc39.es/ecma262/#sec-symbol.unscopables
  defineWellKnownSymbol$8('unscopables');

  var global$d = global$p;
  var setToStringTag$4 = setToStringTag$7;

  // JSON[@@toStringTag] property
  // https://tc39.es/ecma262/#sec-json-@@tostringtag
  setToStringTag$4(global$d.JSON, 'JSON', true);

  var path$j = path$o;

  var symbol$5 = path$j.Symbol;

  var iterators = {};

  var DESCRIPTORS$9 = descriptors;
  var hasOwn$9 = hasOwnProperty_1;

  var FunctionPrototype$2 = Function.prototype;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var getDescriptor = DESCRIPTORS$9 && Object.getOwnPropertyDescriptor;

  var EXISTS = hasOwn$9(FunctionPrototype$2, 'name');
  // additional protection from minified / mangled / dropped function names
  var PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';
  var CONFIGURABLE = EXISTS && (!DESCRIPTORS$9 || (DESCRIPTORS$9 && getDescriptor(FunctionPrototype$2, 'name').configurable));

  var functionName = {
    EXISTS: EXISTS,
    PROPER: PROPER,
    CONFIGURABLE: CONFIGURABLE
  };

  var fails$g = fails$u;

  var correctPrototypeGetter = !fails$g(function () {
    function F() { /* empty */ }
    F.prototype.constructor = null;
    // eslint-disable-next-line es/no-object-getprototypeof -- required for testing
    return Object.getPrototypeOf(new F()) !== F.prototype;
  });

  var hasOwn$8 = hasOwnProperty_1;
  var isCallable$8 = isCallable$m;
  var toObject$9 = toObject$e;
  var sharedKey = sharedKey$4;
  var CORRECT_PROTOTYPE_GETTER$1 = correctPrototypeGetter;

  var IE_PROTO = sharedKey('IE_PROTO');
  var $Object = Object;
  var ObjectPrototype$1 = $Object.prototype;

  // `Object.getPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.getprototypeof
  // eslint-disable-next-line es/no-object-getprototypeof -- safe
  var objectGetPrototypeOf = CORRECT_PROTOTYPE_GETTER$1 ? $Object.getPrototypeOf : function (O) {
    var object = toObject$9(O);
    if (hasOwn$8(object, IE_PROTO)) return object[IE_PROTO];
    var constructor = object.constructor;
    if (isCallable$8(constructor) && object instanceof constructor) {
      return constructor.prototype;
    } return object instanceof $Object ? ObjectPrototype$1 : null;
  };

  var fails$f = fails$u;
  var isCallable$7 = isCallable$m;
  var isObject$9 = isObject$h;
  var create$b = objectCreate;
  var getPrototypeOf$7 = objectGetPrototypeOf;
  var defineBuiltIn$3 = defineBuiltIn$6;
  var wellKnownSymbol$c = wellKnownSymbol$n;

  var ITERATOR$4 = wellKnownSymbol$c('iterator');
  var BUGGY_SAFARI_ITERATORS$1 = false;

  // `%IteratorPrototype%` object
  // https://tc39.es/ecma262/#sec-%iteratorprototype%-object
  var IteratorPrototype$1, PrototypeOfArrayIteratorPrototype, arrayIterator;

  /* eslint-disable es/no-array-prototype-keys -- safe */
  if ([].keys) {
    arrayIterator = [].keys();
    // Safari 8 has buggy iterators w/o `next`
    if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS$1 = true;
    else {
      PrototypeOfArrayIteratorPrototype = getPrototypeOf$7(getPrototypeOf$7(arrayIterator));
      if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype$1 = PrototypeOfArrayIteratorPrototype;
    }
  }

  var NEW_ITERATOR_PROTOTYPE = !isObject$9(IteratorPrototype$1) || fails$f(function () {
    var test = {};
    // FF44- legacy iterators case
    return IteratorPrototype$1[ITERATOR$4].call(test) !== test;
  });

  if (NEW_ITERATOR_PROTOTYPE) IteratorPrototype$1 = {};
  else IteratorPrototype$1 = create$b(IteratorPrototype$1);

  // `%IteratorPrototype%[@@iterator]()` method
  // https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator
  if (!isCallable$7(IteratorPrototype$1[ITERATOR$4])) {
    defineBuiltIn$3(IteratorPrototype$1, ITERATOR$4, function () {
      return this;
    });
  }

  var iteratorsCore = {
    IteratorPrototype: IteratorPrototype$1,
    BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS$1
  };

  var IteratorPrototype = iteratorsCore.IteratorPrototype;
  var create$a = objectCreate;
  var createPropertyDescriptor$2 = createPropertyDescriptor$7;
  var setToStringTag$3 = setToStringTag$7;
  var Iterators$5 = iterators;

  var returnThis$1 = function () { return this; };

  var iteratorCreateConstructor = function (IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {
    var TO_STRING_TAG = NAME + ' Iterator';
    IteratorConstructor.prototype = create$a(IteratorPrototype, { next: createPropertyDescriptor$2(+!ENUMERABLE_NEXT, next) });
    setToStringTag$3(IteratorConstructor, TO_STRING_TAG, false, true);
    Iterators$5[TO_STRING_TAG] = returnThis$1;
    return IteratorConstructor;
  };

  var uncurryThis$a = functionUncurryThis;
  var aCallable$b = aCallable$e;

  var functionUncurryThisAccessor = function (object, key, method) {
    try {
      // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
      return uncurryThis$a(aCallable$b(Object.getOwnPropertyDescriptor(object, key)[method]));
    } catch (error) { /* empty */ }
  };

  var isCallable$6 = isCallable$m;

  var $String = String;
  var $TypeError$9 = TypeError;

  var aPossiblePrototype$1 = function (argument) {
    if (typeof argument == 'object' || isCallable$6(argument)) return argument;
    throw new $TypeError$9("Can't set " + $String(argument) + ' as a prototype');
  };

  /* eslint-disable no-proto -- safe */
  var uncurryThisAccessor = functionUncurryThisAccessor;
  var anObject$8 = anObject$d;
  var aPossiblePrototype = aPossiblePrototype$1;

  // `Object.setPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.setprototypeof
  // Works with __proto__ only. Old v8 can't work with null proto objects.
  // eslint-disable-next-line es/no-object-setprototypeof -- safe
  var objectSetPrototypeOf = Object.setPrototypeOf || ('__proto__' in {} ? function () {
    var CORRECT_SETTER = false;
    var test = {};
    var setter;
    try {
      setter = uncurryThisAccessor(Object.prototype, '__proto__', 'set');
      setter(test, []);
      CORRECT_SETTER = test instanceof Array;
    } catch (error) { /* empty */ }
    return function setPrototypeOf(O, proto) {
      anObject$8(O);
      aPossiblePrototype(proto);
      if (CORRECT_SETTER) setter(O, proto);
      else O.__proto__ = proto;
      return O;
    };
  }() : undefined);

  var $$I = _export;
  var call$b = functionCall;
  var FunctionName = functionName;
  var createIteratorConstructor = iteratorCreateConstructor;
  var getPrototypeOf$6 = objectGetPrototypeOf;
  var setToStringTag$2 = setToStringTag$7;
  var defineBuiltIn$2 = defineBuiltIn$6;
  var wellKnownSymbol$b = wellKnownSymbol$n;
  var Iterators$4 = iterators;
  var IteratorsCore = iteratorsCore;

  var PROPER_FUNCTION_NAME = FunctionName.PROPER;
  FunctionName.CONFIGURABLE;
  IteratorsCore.IteratorPrototype;
  var BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;
  var ITERATOR$3 = wellKnownSymbol$b('iterator');
  var KEYS = 'keys';
  var VALUES = 'values';
  var ENTRIES = 'entries';

  var returnThis = function () { return this; };

  var iteratorDefine = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {
    createIteratorConstructor(IteratorConstructor, NAME, next);

    var getIterationMethod = function (KIND) {
      if (KIND === DEFAULT && defaultIterator) return defaultIterator;
      if (!BUGGY_SAFARI_ITERATORS && KIND && KIND in IterablePrototype) return IterablePrototype[KIND];

      switch (KIND) {
        case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };
        case VALUES: return function values() { return new IteratorConstructor(this, KIND); };
        case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };
      }

      return function () { return new IteratorConstructor(this); };
    };

    var TO_STRING_TAG = NAME + ' Iterator';
    var INCORRECT_VALUES_NAME = false;
    var IterablePrototype = Iterable.prototype;
    var nativeIterator = IterablePrototype[ITERATOR$3]
      || IterablePrototype['@@iterator']
      || DEFAULT && IterablePrototype[DEFAULT];
    var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);
    var anyNativeIterator = NAME === 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;
    var CurrentIteratorPrototype, methods, KEY;

    // fix native
    if (anyNativeIterator) {
      CurrentIteratorPrototype = getPrototypeOf$6(anyNativeIterator.call(new Iterable()));
      if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {
        // Set @@toStringTag to native iterators
        setToStringTag$2(CurrentIteratorPrototype, TO_STRING_TAG, true, true);
        Iterators$4[TO_STRING_TAG] = returnThis;
      }
    }

    // fix Array.prototype.{ values, @@iterator }.name in V8 / FF
    if (PROPER_FUNCTION_NAME && DEFAULT === VALUES && nativeIterator && nativeIterator.name !== VALUES) {
      {
        INCORRECT_VALUES_NAME = true;
        defaultIterator = function values() { return call$b(nativeIterator, this); };
      }
    }

    // export additional methods
    if (DEFAULT) {
      methods = {
        values: getIterationMethod(VALUES),
        keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),
        entries: getIterationMethod(ENTRIES)
      };
      if (FORCED) for (KEY in methods) {
        if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {
          defineBuiltIn$2(IterablePrototype, KEY, methods[KEY]);
        }
      } else $$I({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);
    }

    // define iterator
    if ((FORCED) && IterablePrototype[ITERATOR$3] !== defaultIterator) {
      defineBuiltIn$2(IterablePrototype, ITERATOR$3, defaultIterator, { name: DEFAULT });
    }
    Iterators$4[NAME] = defaultIterator;

    return methods;
  };

  // `CreateIterResultObject` abstract operation
  // https://tc39.es/ecma262/#sec-createiterresultobject
  var createIterResultObject$3 = function (value, done) {
    return { value: value, done: done };
  };

  var toIndexedObject$3 = toIndexedObject$a;
  var Iterators$3 = iterators;
  var InternalStateModule$4 = internalState;
  objectDefineProperty.f;
  var defineIterator$2 = iteratorDefine;
  var createIterResultObject$2 = createIterResultObject$3;

  var ARRAY_ITERATOR = 'Array Iterator';
  var setInternalState$4 = InternalStateModule$4.set;
  var getInternalState$1 = InternalStateModule$4.getterFor(ARRAY_ITERATOR);

  // `Array.prototype.entries` method
  // https://tc39.es/ecma262/#sec-array.prototype.entries
  // `Array.prototype.keys` method
  // https://tc39.es/ecma262/#sec-array.prototype.keys
  // `Array.prototype.values` method
  // https://tc39.es/ecma262/#sec-array.prototype.values
  // `Array.prototype[@@iterator]` method
  // https://tc39.es/ecma262/#sec-array.prototype-@@iterator
  // `CreateArrayIterator` internal method
  // https://tc39.es/ecma262/#sec-createarrayiterator
  defineIterator$2(Array, 'Array', function (iterated, kind) {
    setInternalState$4(this, {
      type: ARRAY_ITERATOR,
      target: toIndexedObject$3(iterated), // target
      index: 0,                          // next index
      kind: kind                         // kind
    });
  // `%ArrayIteratorPrototype%.next` method
  // https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next
  }, function () {
    var state = getInternalState$1(this);
    var target = state.target;
    var index = state.index++;
    if (!target || index >= target.length) {
      state.target = undefined;
      return createIterResultObject$2(undefined, true);
    }
    switch (state.kind) {
      case 'keys': return createIterResultObject$2(index, false);
      case 'values': return createIterResultObject$2(target[index], false);
    } return createIterResultObject$2([index, target[index]], false);
  }, 'values');

  // argumentsList[@@iterator] is %ArrayProto_values%
  // https://tc39.es/ecma262/#sec-createunmappedargumentsobject
  // https://tc39.es/ecma262/#sec-createmappedargumentsobject
  Iterators$3.Arguments = Iterators$3.Array;

  // iterable DOM collections
  // flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods
  var domIterables = {
    CSSRuleList: 0,
    CSSStyleDeclaration: 0,
    CSSValueList: 0,
    ClientRectList: 0,
    DOMRectList: 0,
    DOMStringList: 0,
    DOMTokenList: 1,
    DataTransferItemList: 0,
    FileList: 0,
    HTMLAllCollection: 0,
    HTMLCollection: 0,
    HTMLFormElement: 0,
    HTMLSelectElement: 0,
    MediaList: 0,
    MimeTypeArray: 0,
    NamedNodeMap: 0,
    NodeList: 1,
    PaintRequestList: 0,
    Plugin: 0,
    PluginArray: 0,
    SVGLengthList: 0,
    SVGNumberList: 0,
    SVGPathSegList: 0,
    SVGPointList: 0,
    SVGStringList: 0,
    SVGTransformList: 0,
    SourceBufferList: 0,
    StyleSheetList: 0,
    TextTrackCueList: 0,
    TextTrackList: 0,
    TouchList: 0
  };

  var DOMIterables$4 = domIterables;
  var global$c = global$p;
  var classof$7 = classof$d;
  var createNonEnumerableProperty$4 = createNonEnumerableProperty$9;
  var Iterators$2 = iterators;
  var wellKnownSymbol$a = wellKnownSymbol$n;

  var TO_STRING_TAG$1 = wellKnownSymbol$a('toStringTag');

  for (var COLLECTION_NAME in DOMIterables$4) {
    var Collection = global$c[COLLECTION_NAME];
    var CollectionPrototype = Collection && Collection.prototype;
    if (CollectionPrototype && classof$7(CollectionPrototype) !== TO_STRING_TAG$1) {
      createNonEnumerableProperty$4(CollectionPrototype, TO_STRING_TAG$1, COLLECTION_NAME);
    }
    Iterators$2[COLLECTION_NAME] = Iterators$2.Array;
  }

  var parent$15 = symbol$5;


  var symbol$4 = parent$15;

  var wellKnownSymbol$9 = wellKnownSymbol$n;
  var defineProperty$4 = objectDefineProperty.f;

  var METADATA$1 = wellKnownSymbol$9('metadata');
  var FunctionPrototype$1 = Function.prototype;

  // Function.prototype[@@metadata]
  // https://github.com/tc39/proposal-decorator-metadata
  if (FunctionPrototype$1[METADATA$1] === undefined) {
    defineProperty$4(FunctionPrototype$1, METADATA$1, {
      value: null
    });
  }

  var defineWellKnownSymbol$7 = wellKnownSymbolDefine;

  // `Symbol.asyncDispose` well-known symbol
  // https://github.com/tc39/proposal-async-explicit-resource-management
  defineWellKnownSymbol$7('asyncDispose');

  var defineWellKnownSymbol$6 = wellKnownSymbolDefine;

  // `Symbol.dispose` well-known symbol
  // https://github.com/tc39/proposal-explicit-resource-management
  defineWellKnownSymbol$6('dispose');

  var defineWellKnownSymbol$5 = wellKnownSymbolDefine;

  // `Symbol.metadata` well-known symbol
  // https://github.com/tc39/proposal-decorators
  defineWellKnownSymbol$5('metadata');

  var parent$14 = symbol$4;






  var symbol$3 = parent$14;

  var getBuiltIn$7 = getBuiltIn$f;
  var uncurryThis$9 = functionUncurryThis;

  var Symbol$2 = getBuiltIn$7('Symbol');
  var keyFor = Symbol$2.keyFor;
  var thisSymbolValue$1 = uncurryThis$9(Symbol$2.prototype.valueOf);

  // `Symbol.isRegisteredSymbol` method
  // https://tc39.es/proposal-symbol-predicates/#sec-symbol-isregisteredsymbol
  var symbolIsRegistered = Symbol$2.isRegisteredSymbol || function isRegisteredSymbol(value) {
    try {
      return keyFor(thisSymbolValue$1(value)) !== undefined;
    } catch (error) {
      return false;
    }
  };

  var $$H = _export;
  var isRegisteredSymbol$1 = symbolIsRegistered;

  // `Symbol.isRegisteredSymbol` method
  // https://tc39.es/proposal-symbol-predicates/#sec-symbol-isregisteredsymbol
  $$H({ target: 'Symbol', stat: true }, {
    isRegisteredSymbol: isRegisteredSymbol$1
  });

  var shared = sharedExports;
  var getBuiltIn$6 = getBuiltIn$f;
  var uncurryThis$8 = functionUncurryThis;
  var isSymbol = isSymbol$5;
  var wellKnownSymbol$8 = wellKnownSymbol$n;

  var Symbol$1 = getBuiltIn$6('Symbol');
  var $isWellKnownSymbol = Symbol$1.isWellKnownSymbol;
  var getOwnPropertyNames = getBuiltIn$6('Object', 'getOwnPropertyNames');
  var thisSymbolValue = uncurryThis$8(Symbol$1.prototype.valueOf);
  var WellKnownSymbolsStore = shared('wks');

  for (var i = 0, symbolKeys = getOwnPropertyNames(Symbol$1), symbolKeysLength = symbolKeys.length; i < symbolKeysLength; i++) {
    // some old engines throws on access to some keys like `arguments` or `caller`
    try {
      var symbolKey = symbolKeys[i];
      if (isSymbol(Symbol$1[symbolKey])) wellKnownSymbol$8(symbolKey);
    } catch (error) { /* empty */ }
  }

  // `Symbol.isWellKnownSymbol` method
  // https://tc39.es/proposal-symbol-predicates/#sec-symbol-iswellknownsymbol
  // We should patch it for newly added well-known symbols. If it's not required, this module just will not be injected
  var symbolIsWellKnown = function isWellKnownSymbol(value) {
    if ($isWellKnownSymbol && $isWellKnownSymbol(value)) return true;
    try {
      var symbol = thisSymbolValue(value);
      for (var j = 0, keys = getOwnPropertyNames(WellKnownSymbolsStore), keysLength = keys.length; j < keysLength; j++) {
        // eslint-disable-next-line eqeqeq -- polyfilled symbols case
        if (WellKnownSymbolsStore[keys[j]] == symbol) return true;
      }
    } catch (error) { /* empty */ }
    return false;
  };

  var $$G = _export;
  var isWellKnownSymbol$1 = symbolIsWellKnown;

  // `Symbol.isWellKnownSymbol` method
  // https://tc39.es/proposal-symbol-predicates/#sec-symbol-iswellknownsymbol
  // We should patch it for newly added well-known symbols. If it's not required, this module just will not be injected
  $$G({ target: 'Symbol', stat: true, forced: true }, {
    isWellKnownSymbol: isWellKnownSymbol$1
  });

  var defineWellKnownSymbol$4 = wellKnownSymbolDefine;

  // `Symbol.matcher` well-known symbol
  // https://github.com/tc39/proposal-pattern-matching
  defineWellKnownSymbol$4('matcher');

  var defineWellKnownSymbol$3 = wellKnownSymbolDefine;

  // `Symbol.observable` well-known symbol
  // https://github.com/tc39/proposal-observable
  defineWellKnownSymbol$3('observable');

  var $$F = _export;
  var isRegisteredSymbol = symbolIsRegistered;

  // `Symbol.isRegistered` method
  // obsolete version of https://tc39.es/proposal-symbol-predicates/#sec-symbol-isregisteredsymbol
  $$F({ target: 'Symbol', stat: true, name: 'isRegisteredSymbol' }, {
    isRegistered: isRegisteredSymbol
  });

  var $$E = _export;
  var isWellKnownSymbol = symbolIsWellKnown;

  // `Symbol.isWellKnown` method
  // obsolete version of https://tc39.es/proposal-symbol-predicates/#sec-symbol-iswellknownsymbol
  // We should patch it for newly added well-known symbols. If it's not required, this module just will not be injected
  $$E({ target: 'Symbol', stat: true, name: 'isWellKnownSymbol', forced: true }, {
    isWellKnown: isWellKnownSymbol
  });

  // TODO: Remove from `core-js@4`
  var defineWellKnownSymbol$2 = wellKnownSymbolDefine;

  // `Symbol.metadataKey` well-known symbol
  // https://github.com/tc39/proposal-decorator-metadata
  defineWellKnownSymbol$2('metadataKey');

  // TODO: remove from `core-js@4`
  var defineWellKnownSymbol$1 = wellKnownSymbolDefine;

  // `Symbol.patternMatch` well-known symbol
  // https://github.com/tc39/proposal-pattern-matching
  defineWellKnownSymbol$1('patternMatch');

  // TODO: remove from `core-js@4`
  var defineWellKnownSymbol = wellKnownSymbolDefine;

  defineWellKnownSymbol('replaceAll');

  var parent$13 = symbol$3;




  // TODO: Remove from `core-js@4`






  var symbol$2 = parent$13;

  var symbol$1 = symbol$2;

  var _Symbol$1 = /*@__PURE__*/getDefaultExportFromCjs(symbol$1);

  var uncurryThis$7 = functionUncurryThis;
  var toIntegerOrInfinity$1 = toIntegerOrInfinity$4;
  var toString$3 = toString$7;
  var requireObjectCoercible = requireObjectCoercible$3;

  var charAt$1 = uncurryThis$7(''.charAt);
  var charCodeAt = uncurryThis$7(''.charCodeAt);
  var stringSlice = uncurryThis$7(''.slice);

  var createMethod$1 = function (CONVERT_TO_STRING) {
    return function ($this, pos) {
      var S = toString$3(requireObjectCoercible($this));
      var position = toIntegerOrInfinity$1(pos);
      var size = S.length;
      var first, second;
      if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;
      first = charCodeAt(S, position);
      return first < 0xD800 || first > 0xDBFF || position + 1 === size
        || (second = charCodeAt(S, position + 1)) < 0xDC00 || second > 0xDFFF
          ? CONVERT_TO_STRING
            ? charAt$1(S, position)
            : first
          : CONVERT_TO_STRING
            ? stringSlice(S, position, position + 2)
            : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;
    };
  };

  var stringMultibyte = {
    // `String.prototype.codePointAt` method
    // https://tc39.es/ecma262/#sec-string.prototype.codepointat
    codeAt: createMethod$1(false),
    // `String.prototype.at` method
    // https://github.com/mathiasbynens/String.prototype.at
    charAt: createMethod$1(true)
  };

  var charAt = stringMultibyte.charAt;
  var toString$2 = toString$7;
  var InternalStateModule$3 = internalState;
  var defineIterator$1 = iteratorDefine;
  var createIterResultObject$1 = createIterResultObject$3;

  var STRING_ITERATOR = 'String Iterator';
  var setInternalState$3 = InternalStateModule$3.set;
  var getInternalState = InternalStateModule$3.getterFor(STRING_ITERATOR);

  // `String.prototype[@@iterator]` method
  // https://tc39.es/ecma262/#sec-string.prototype-@@iterator
  defineIterator$1(String, 'String', function (iterated) {
    setInternalState$3(this, {
      type: STRING_ITERATOR,
      string: toString$2(iterated),
      index: 0
    });
  // `%StringIteratorPrototype%.next` method
  // https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next
  }, function next() {
    var state = getInternalState(this);
    var string = state.string;
    var index = state.index;
    var point;
    if (index >= string.length) return createIterResultObject$1(undefined, true);
    point = charAt(string, index);
    state.index += point.length;
    return createIterResultObject$1(point, false);
  });

  var WrappedWellKnownSymbolModule$1 = wellKnownSymbolWrapped;

  var iterator$5 = WrappedWellKnownSymbolModule$1.f('iterator');

  var parent$12 = iterator$5;


  var iterator$4 = parent$12;

  var parent$11 = iterator$4;

  var iterator$3 = parent$11;

  var parent$10 = iterator$3;

  var iterator$2 = parent$10;

  var iterator$1 = iterator$2;

  var _Symbol$iterator$1 = /*@__PURE__*/getDefaultExportFromCjs(iterator$1);

  function _typeof$1(o) {
    "@babel/helpers - typeof";

    return _typeof$1 = "function" == typeof _Symbol$1 && "symbol" == typeof _Symbol$iterator$1 ? function (o) {
      return typeof o;
    } : function (o) {
      return o && "function" == typeof _Symbol$1 && o.constructor === _Symbol$1 && o !== _Symbol$1.prototype ? "symbol" : typeof o;
    }, _typeof$1(o);
  }

  var WrappedWellKnownSymbolModule = wellKnownSymbolWrapped;

  var toPrimitive$4 = WrappedWellKnownSymbolModule.f('toPrimitive');

  var parent$$ = toPrimitive$4;

  var toPrimitive$3 = parent$$;

  var parent$_ = toPrimitive$3;

  var toPrimitive$2 = parent$_;

  var parent$Z = toPrimitive$2;

  var toPrimitive$1 = parent$Z;

  var toPrimitive = toPrimitive$1;

  var _Symbol$toPrimitive = /*@__PURE__*/getDefaultExportFromCjs(toPrimitive);

  function _toPrimitive(input, hint) {
    if (_typeof$1(input) !== "object" || input === null) return input;
    var prim = input[_Symbol$toPrimitive];
    if (prim !== undefined) {
      var res = prim.call(input, hint || "default");
      if (_typeof$1(res) !== "object") return res;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (hint === "string" ? String : Number)(input);
  }

  function _toPropertyKey(arg) {
    var key = _toPrimitive(arg, "string");
    return _typeof$1(key) === "symbol" ? key : String(key);
  }

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      _Object$defineProperty$1(target, _toPropertyKey(descriptor.key), descriptor);
    }
  }
  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    _Object$defineProperty$1(Constructor, "prototype", {
      writable: false
    });
    return Constructor;
  }

  function _defineProperty(obj, key, value) {
    key = _toPropertyKey(key);
    if (key in obj) {
      _Object$defineProperty$1(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }
    return obj;
  }

  var uncurryThis$6 = functionUncurryThis;
  var aCallable$a = aCallable$e;
  var isObject$8 = isObject$h;
  var hasOwn$7 = hasOwnProperty_1;
  var arraySlice$3 = arraySlice$5;
  var NATIVE_BIND = functionBindNative;

  var $Function = Function;
  var concat$6 = uncurryThis$6([].concat);
  var join = uncurryThis$6([].join);
  var factories = {};

  var construct$3 = function (C, argsLength, args) {
    if (!hasOwn$7(factories, argsLength)) {
      var list = [];
      var i = 0;
      for (; i < argsLength; i++) list[i] = 'a[' + i + ']';
      factories[argsLength] = $Function('C,a', 'return new C(' + join(list, ',') + ')');
    } return factories[argsLength](C, args);
  };

  // `Function.prototype.bind` method implementation
  // https://tc39.es/ecma262/#sec-function.prototype.bind
  // eslint-disable-next-line es/no-function-prototype-bind -- detection
  var functionBind = NATIVE_BIND ? $Function.bind : function bind(that /* , ...args */) {
    var F = aCallable$a(this);
    var Prototype = F.prototype;
    var partArgs = arraySlice$3(arguments, 1);
    var boundFunction = function bound(/* args... */) {
      var args = concat$6(partArgs, arraySlice$3(arguments));
      return this instanceof boundFunction ? construct$3(F, args.length, args) : F.apply(that, args);
    };
    if (isObject$8(Prototype)) boundFunction.prototype = Prototype;
    return boundFunction;
  };

  // TODO: Remove from `core-js@4`
  var $$D = _export;
  var bind$f = functionBind;

  // `Function.prototype.bind` method
  // https://tc39.es/ecma262/#sec-function.prototype.bind
  // eslint-disable-next-line es/no-function-prototype-bind -- detection
  $$D({ target: 'Function', proto: true, forced: Function.bind !== bind$f }, {
    bind: bind$f
  });

  var global$b = global$p;
  var path$i = path$o;

  var getBuiltInPrototypeMethod$g = function (CONSTRUCTOR, METHOD) {
    var Namespace = path$i[CONSTRUCTOR + 'Prototype'];
    var pureMethod = Namespace && Namespace[METHOD];
    if (pureMethod) return pureMethod;
    var NativeConstructor = global$b[CONSTRUCTOR];
    var NativePrototype = NativeConstructor && NativeConstructor.prototype;
    return NativePrototype && NativePrototype[METHOD];
  };

  var getBuiltInPrototypeMethod$f = getBuiltInPrototypeMethod$g;

  var bind$e = getBuiltInPrototypeMethod$f('Function', 'bind');

  var isPrototypeOf$i = objectIsPrototypeOf;
  var method$f = bind$e;

  var FunctionPrototype = Function.prototype;

  var bind$d = function (it) {
    var own = it.bind;
    return it === FunctionPrototype || (isPrototypeOf$i(FunctionPrototype, it) && own === FunctionPrototype.bind) ? method$f : own;
  };

  var parent$Y = bind$d;

  var bind$c = parent$Y;

  var bind$b = bind$c;

  var _bindInstanceProperty$1 = /*@__PURE__*/getDefaultExportFromCjs(bind$b);

  var aCallable$9 = aCallable$e;
  var toObject$8 = toObject$e;
  var IndexedObject$1 = indexedObject;
  var lengthOfArrayLike$8 = lengthOfArrayLike$d;

  var $TypeError$8 = TypeError;

  // `Array.prototype.{ reduce, reduceRight }` methods implementation
  var createMethod = function (IS_RIGHT) {
    return function (that, callbackfn, argumentsLength, memo) {
      aCallable$9(callbackfn);
      var O = toObject$8(that);
      var self = IndexedObject$1(O);
      var length = lengthOfArrayLike$8(O);
      var index = IS_RIGHT ? length - 1 : 0;
      var i = IS_RIGHT ? -1 : 1;
      if (argumentsLength < 2) while (true) {
        if (index in self) {
          memo = self[index];
          index += i;
          break;
        }
        index += i;
        if (IS_RIGHT ? index < 0 : length <= index) {
          throw new $TypeError$8('Reduce of empty array with no initial value');
        }
      }
      for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {
        memo = callbackfn(memo, self[index], index, O);
      }
      return memo;
    };
  };

  var arrayReduce = {
    // `Array.prototype.reduce` method
    // https://tc39.es/ecma262/#sec-array.prototype.reduce
    left: createMethod(false),
    // `Array.prototype.reduceRight` method
    // https://tc39.es/ecma262/#sec-array.prototype.reduceright
    right: createMethod(true)
  };

  var fails$e = fails$u;

  var arrayMethodIsStrict$4 = function (METHOD_NAME, argument) {
    var method = [][METHOD_NAME];
    return !!method && fails$e(function () {
      // eslint-disable-next-line no-useless-call -- required for testing
      method.call(null, argument || function () { return 1; }, 1);
    });
  };

  var global$a = global$p;
  var classof$6 = classofRaw$2;

  var engineIsNode = classof$6(global$a.process) === 'process';

  var $$C = _export;
  var $reduce = arrayReduce.left;
  var arrayMethodIsStrict$3 = arrayMethodIsStrict$4;
  var CHROME_VERSION = engineV8Version;
  var IS_NODE$4 = engineIsNode;

  // Chrome 80-82 has a critical bug
  // https://bugs.chromium.org/p/chromium/issues/detail?id=1049982
  var CHROME_BUG = !IS_NODE$4 && CHROME_VERSION > 79 && CHROME_VERSION < 83;
  var FORCED$4 = CHROME_BUG || !arrayMethodIsStrict$3('reduce');

  // `Array.prototype.reduce` method
  // https://tc39.es/ecma262/#sec-array.prototype.reduce
  $$C({ target: 'Array', proto: true, forced: FORCED$4 }, {
    reduce: function reduce(callbackfn /* , initialValue */) {
      var length = arguments.length;
      return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);
    }
  });

  var getBuiltInPrototypeMethod$e = getBuiltInPrototypeMethod$g;

  var reduce$3 = getBuiltInPrototypeMethod$e('Array', 'reduce');

  var isPrototypeOf$h = objectIsPrototypeOf;
  var method$e = reduce$3;

  var ArrayPrototype$f = Array.prototype;

  var reduce$2 = function (it) {
    var own = it.reduce;
    return it === ArrayPrototype$f || (isPrototypeOf$h(ArrayPrototype$f, it) && own === ArrayPrototype$f.reduce) ? method$e : own;
  };

  var parent$X = reduce$2;

  var reduce$1 = parent$X;

  var reduce = reduce$1;

  var _reduceInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(reduce);

  var $$B = _export;
  var $filter = arrayIteration.filter;
  var arrayMethodHasSpeciesSupport$3 = arrayMethodHasSpeciesSupport$5;

  var HAS_SPECIES_SUPPORT$3 = arrayMethodHasSpeciesSupport$3('filter');

  // `Array.prototype.filter` method
  // https://tc39.es/ecma262/#sec-array.prototype.filter
  // with adding support of @@species
  $$B({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$3 }, {
    filter: function filter(callbackfn /* , thisArg */) {
      return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var getBuiltInPrototypeMethod$d = getBuiltInPrototypeMethod$g;

  var filter$3 = getBuiltInPrototypeMethod$d('Array', 'filter');

  var isPrototypeOf$g = objectIsPrototypeOf;
  var method$d = filter$3;

  var ArrayPrototype$e = Array.prototype;

  var filter$2 = function (it) {
    var own = it.filter;
    return it === ArrayPrototype$e || (isPrototypeOf$g(ArrayPrototype$e, it) && own === ArrayPrototype$e.filter) ? method$d : own;
  };

  var parent$W = filter$2;

  var filter$1 = parent$W;

  var filter = filter$1;

  var _filterInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(filter);

  var $$A = _export;
  var $map = arrayIteration.map;
  var arrayMethodHasSpeciesSupport$2 = arrayMethodHasSpeciesSupport$5;

  var HAS_SPECIES_SUPPORT$2 = arrayMethodHasSpeciesSupport$2('map');

  // `Array.prototype.map` method
  // https://tc39.es/ecma262/#sec-array.prototype.map
  // with adding support of @@species
  $$A({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$2 }, {
    map: function map(callbackfn /* , thisArg */) {
      return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var getBuiltInPrototypeMethod$c = getBuiltInPrototypeMethod$g;

  var map$6 = getBuiltInPrototypeMethod$c('Array', 'map');

  var isPrototypeOf$f = objectIsPrototypeOf;
  var method$c = map$6;

  var ArrayPrototype$d = Array.prototype;

  var map$5 = function (it) {
    var own = it.map;
    return it === ArrayPrototype$d || (isPrototypeOf$f(ArrayPrototype$d, it) && own === ArrayPrototype$d.map) ? method$c : own;
  };

  var parent$V = map$5;

  var map$4 = parent$V;

  var map$3 = map$4;

  var _mapInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(map$3);

  var isArray$a = isArray$e;
  var lengthOfArrayLike$7 = lengthOfArrayLike$d;
  var doesNotExceedSafeInteger$2 = doesNotExceedSafeInteger$4;
  var bind$a = functionBindContext;

  // `FlattenIntoArray` abstract operation
  // https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray
  var flattenIntoArray$1 = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {
    var targetIndex = start;
    var sourceIndex = 0;
    var mapFn = mapper ? bind$a(mapper, thisArg) : false;
    var element, elementLen;

    while (sourceIndex < sourceLen) {
      if (sourceIndex in source) {
        element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];

        if (depth > 0 && isArray$a(element)) {
          elementLen = lengthOfArrayLike$7(element);
          targetIndex = flattenIntoArray$1(target, original, element, elementLen, targetIndex, depth - 1) - 1;
        } else {
          doesNotExceedSafeInteger$2(targetIndex + 1);
          target[targetIndex] = element;
        }

        targetIndex++;
      }
      sourceIndex++;
    }
    return targetIndex;
  };

  var flattenIntoArray_1 = flattenIntoArray$1;

  var $$z = _export;
  var flattenIntoArray = flattenIntoArray_1;
  var aCallable$8 = aCallable$e;
  var toObject$7 = toObject$e;
  var lengthOfArrayLike$6 = lengthOfArrayLike$d;
  var arraySpeciesCreate$1 = arraySpeciesCreate$4;

  // `Array.prototype.flatMap` method
  // https://tc39.es/ecma262/#sec-array.prototype.flatmap
  $$z({ target: 'Array', proto: true }, {
    flatMap: function flatMap(callbackfn /* , thisArg */) {
      var O = toObject$7(this);
      var sourceLen = lengthOfArrayLike$6(O);
      var A;
      aCallable$8(callbackfn);
      A = arraySpeciesCreate$1(O, 0);
      A.length = flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
      return A;
    }
  });

  var getBuiltInPrototypeMethod$b = getBuiltInPrototypeMethod$g;

  var flatMap$3 = getBuiltInPrototypeMethod$b('Array', 'flatMap');

  var isPrototypeOf$e = objectIsPrototypeOf;
  var method$b = flatMap$3;

  var ArrayPrototype$c = Array.prototype;

  var flatMap$2 = function (it) {
    var own = it.flatMap;
    return it === ArrayPrototype$c || (isPrototypeOf$e(ArrayPrototype$c, it) && own === ArrayPrototype$c.flatMap) ? method$b : own;
  };

  var parent$U = flatMap$2;

  var flatMap$1 = parent$U;

  var flatMap = flatMap$1;

  var _flatMapInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(flatMap);

  /**
   * Create new data pipe.
   *
   * @param from - The source data set or data view.
   * @remarks
   * Example usage:
   * ```typescript
   * interface AppItem {
   *   whoami: string;
   *   appData: unknown;
   *   visData: VisItem;
   * }
   * interface VisItem {
   *   id: number;
   *   label: string;
   *   color: string;
   *   x: number;
   *   y: number;
   * }
   *
   * const ds1 = new DataSet<AppItem, "whoami">([], { fieldId: "whoami" });
   * const ds2 = new DataSet<VisItem, "id">();
   *
   * const pipe = createNewDataPipeFrom(ds1)
   *   .filter((item): boolean => item.enabled === true)
   *   .map<VisItem, "id">((item): VisItem => item.visData)
   *   .to(ds2);
   *
   * pipe.start();
   * ```
   * @returns A factory whose methods can be used to configure the pipe.
   */
  function createNewDataPipeFrom(from) {
    return new DataPipeUnderConstruction(from);
  }
  /**
   * Internal implementation of the pipe. This should be accessible only through
   * `createNewDataPipeFrom` from the outside.
   *
   * @typeParam SI - Source item type.
   * @typeParam SP - Source item type's id property name.
   * @typeParam TI - Target item type.
   * @typeParam TP - Target item type's id property name.
   */
  var SimpleDataPipe = /*#__PURE__*/function () {
    /**
     * Create a new data pipe.
     *
     * @param _source - The data set or data view that will be observed.
     * @param _transformers - An array of transforming functions to be used to
     * filter or transform the items in the pipe.
     * @param _target - The data set or data view that will receive the items.
     */
    function SimpleDataPipe(_source, _transformers, _target) {
      var _context, _context2, _context3;
      _classCallCheck(this, SimpleDataPipe);
      /**
       * Bound listeners for use with `DataInterface['on' | 'off']`.
       */
      _defineProperty(this, "_listeners", {
        add: _bindInstanceProperty$1(_context = this._add).call(_context, this),
        remove: _bindInstanceProperty$1(_context2 = this._remove).call(_context2, this),
        update: _bindInstanceProperty$1(_context3 = this._update).call(_context3, this)
      });
      this._source = _source;
      this._transformers = _transformers;
      this._target = _target;
    }
    /** @inheritDoc */
    _createClass(SimpleDataPipe, [{
      key: "all",
      value: function all() {
        this._target.update(this._transformItems(this._source.get()));
        return this;
      }
      /** @inheritDoc */
    }, {
      key: "start",
      value: function start() {
        this._source.on("add", this._listeners.add);
        this._source.on("remove", this._listeners.remove);
        this._source.on("update", this._listeners.update);
        return this;
      }
      /** @inheritDoc */
    }, {
      key: "stop",
      value: function stop() {
        this._source.off("add", this._listeners.add);
        this._source.off("remove", this._listeners.remove);
        this._source.off("update", this._listeners.update);
        return this;
      }
      /**
       * Apply the transformers to the items.
       *
       * @param items - The items to be transformed.
       * @returns The transformed items.
       */
    }, {
      key: "_transformItems",
      value: function _transformItems(items) {
        var _context4;
        return _reduceInstanceProperty(_context4 = this._transformers).call(_context4, function (items, transform) {
          return transform(items);
        }, items);
      }
      /**
       * Handle an add event.
       *
       * @param _name - Ignored.
       * @param payload - The payload containing the ids of the added items.
       */
    }, {
      key: "_add",
      value: function _add(_name, payload) {
        if (payload == null) {
          return;
        }
        this._target.add(this._transformItems(this._source.get(payload.items)));
      }
      /**
       * Handle an update event.
       *
       * @param _name - Ignored.
       * @param payload - The payload containing the ids of the updated items.
       */
    }, {
      key: "_update",
      value: function _update(_name, payload) {
        if (payload == null) {
          return;
        }
        this._target.update(this._transformItems(this._source.get(payload.items)));
      }
      /**
       * Handle a remove event.
       *
       * @param _name - Ignored.
       * @param payload - The payload containing the data of the removed items.
       */
    }, {
      key: "_remove",
      value: function _remove(_name, payload) {
        if (payload == null) {
          return;
        }
        this._target.remove(this._transformItems(payload.oldData));
      }
    }]);
    return SimpleDataPipe;
  }();
  /**
   * Internal implementation of the pipe factory. This should be accessible
   * only through `createNewDataPipeFrom` from the outside.
   *
   * @typeParam TI - Target item type.
   * @typeParam TP - Target item type's id property name.
   */
  var DataPipeUnderConstruction = /*#__PURE__*/function () {
    /**
     * Create a new data pipe factory. This is an internal constructor that
     * should never be called from outside of this file.
     *
     * @param _source - The source data set or data view for this pipe.
     */
    function DataPipeUnderConstruction(_source) {
      _classCallCheck(this, DataPipeUnderConstruction);
      /**
       * Array transformers used to transform items within the pipe. This is typed
       * as any for the sake of simplicity.
       */
      _defineProperty(this, "_transformers", []);
      this._source = _source;
    }
    /**
     * Filter the items.
     *
     * @param callback - A filtering function that returns true if given item
     * should be piped and false if not.
     * @returns This factory for further configuration.
     */
    _createClass(DataPipeUnderConstruction, [{
      key: "filter",
      value: function filter(callback) {
        this._transformers.push(function (input) {
          return _filterInstanceProperty(input).call(input, callback);
        });
        return this;
      }
      /**
       * Map each source item to a new type.
       *
       * @param callback - A mapping function that takes a source item and returns
       * corresponding mapped item.
       * @typeParam TI - Target item type.
       * @typeParam TP - Target item type's id property name.
       * @returns This factory for further configuration.
       */
    }, {
      key: "map",
      value: function map(callback) {
        this._transformers.push(function (input) {
          return _mapInstanceProperty(input).call(input, callback);
        });
        return this;
      }
      /**
       * Map each source item to zero or more items of a new type.
       *
       * @param callback - A mapping function that takes a source item and returns
       * an array of corresponding mapped items.
       * @typeParam TI - Target item type.
       * @typeParam TP - Target item type's id property name.
       * @returns This factory for further configuration.
       */
    }, {
      key: "flatMap",
      value: function flatMap(callback) {
        this._transformers.push(function (input) {
          return _flatMapInstanceProperty(input).call(input, callback);
        });
        return this;
      }
      /**
       * Connect this pipe to given data set.
       *
       * @param target - The data set that will receive the items from this pipe.
       * @returns The pipe connected between given data sets and performing
       * configured transformation on the processed items.
       */
    }, {
      key: "to",
      value: function to(target) {
        return new SimpleDataPipe(this._source, this._transformers, target);
      }
    }]);
    return DataPipeUnderConstruction;
  }();

  var call$a = functionCall;
  var anObject$7 = anObject$d;
  var getMethod$1 = getMethod$3;

  var iteratorClose$2 = function (iterator, kind, value) {
    var innerResult, innerError;
    anObject$7(iterator);
    try {
      innerResult = getMethod$1(iterator, 'return');
      if (!innerResult) {
        if (kind === 'throw') throw value;
        return value;
      }
      innerResult = call$a(innerResult, iterator);
    } catch (error) {
      innerError = true;
      innerResult = error;
    }
    if (kind === 'throw') throw value;
    if (innerError) throw innerResult;
    anObject$7(innerResult);
    return value;
  };

  var anObject$6 = anObject$d;
  var iteratorClose$1 = iteratorClose$2;

  // call something on iterator step with safe closing on error
  var callWithSafeIterationClosing$1 = function (iterator, fn, value, ENTRIES) {
    try {
      return ENTRIES ? fn(anObject$6(value)[0], value[1]) : fn(value);
    } catch (error) {
      iteratorClose$1(iterator, 'throw', error);
    }
  };

  var wellKnownSymbol$7 = wellKnownSymbol$n;
  var Iterators$1 = iterators;

  var ITERATOR$2 = wellKnownSymbol$7('iterator');
  var ArrayPrototype$b = Array.prototype;

  // check on default Array iterator
  var isArrayIteratorMethod$2 = function (it) {
    return it !== undefined && (Iterators$1.Array === it || ArrayPrototype$b[ITERATOR$2] === it);
  };

  var classof$5 = classof$d;
  var getMethod = getMethod$3;
  var isNullOrUndefined$3 = isNullOrUndefined$6;
  var Iterators = iterators;
  var wellKnownSymbol$6 = wellKnownSymbol$n;

  var ITERATOR$1 = wellKnownSymbol$6('iterator');

  var getIteratorMethod$9 = function (it) {
    if (!isNullOrUndefined$3(it)) return getMethod(it, ITERATOR$1)
      || getMethod(it, '@@iterator')
      || Iterators[classof$5(it)];
  };

  var call$9 = functionCall;
  var aCallable$7 = aCallable$e;
  var anObject$5 = anObject$d;
  var tryToString$3 = tryToString$6;
  var getIteratorMethod$8 = getIteratorMethod$9;

  var $TypeError$7 = TypeError;

  var getIterator$8 = function (argument, usingIterator) {
    var iteratorMethod = arguments.length < 2 ? getIteratorMethod$8(argument) : usingIterator;
    if (aCallable$7(iteratorMethod)) return anObject$5(call$9(iteratorMethod, argument));
    throw new $TypeError$7(tryToString$3(argument) + ' is not iterable');
  };

  var bind$9 = functionBindContext;
  var call$8 = functionCall;
  var toObject$6 = toObject$e;
  var callWithSafeIterationClosing = callWithSafeIterationClosing$1;
  var isArrayIteratorMethod$1 = isArrayIteratorMethod$2;
  var isConstructor$2 = isConstructor$4;
  var lengthOfArrayLike$5 = lengthOfArrayLike$d;
  var createProperty$3 = createProperty$6;
  var getIterator$7 = getIterator$8;
  var getIteratorMethod$7 = getIteratorMethod$9;

  var $Array$1 = Array;

  // `Array.from` method implementation
  // https://tc39.es/ecma262/#sec-array.from
  var arrayFrom = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject$6(arrayLike);
    var IS_CONSTRUCTOR = isConstructor$2(this);
    var argumentsLength = arguments.length;
    var mapfn = argumentsLength > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    if (mapping) mapfn = bind$9(mapfn, argumentsLength > 2 ? arguments[2] : undefined);
    var iteratorMethod = getIteratorMethod$7(O);
    var index = 0;
    var length, result, step, iterator, next, value;
    // if the target is not iterable or it's an array with the default iterator - use a simple case
    if (iteratorMethod && !(this === $Array$1 && isArrayIteratorMethod$1(iteratorMethod))) {
      iterator = getIterator$7(O, iteratorMethod);
      next = iterator.next;
      result = IS_CONSTRUCTOR ? new this() : [];
      for (;!(step = call$8(next, iterator)).done; index++) {
        value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;
        createProperty$3(result, index, value);
      }
    } else {
      length = lengthOfArrayLike$5(O);
      result = IS_CONSTRUCTOR ? new this(length) : $Array$1(length);
      for (;length > index; index++) {
        value = mapping ? mapfn(O[index], index) : O[index];
        createProperty$3(result, index, value);
      }
    }
    result.length = index;
    return result;
  };

  var wellKnownSymbol$5 = wellKnownSymbol$n;

  var ITERATOR = wellKnownSymbol$5('iterator');
  var SAFE_CLOSING = false;

  try {
    var called = 0;
    var iteratorWithReturn = {
      next: function () {
        return { done: !!called++ };
      },
      'return': function () {
        SAFE_CLOSING = true;
      }
    };
    iteratorWithReturn[ITERATOR] = function () {
      return this;
    };
    // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing
    Array.from(iteratorWithReturn, function () { throw 2; });
  } catch (error) { /* empty */ }

  var checkCorrectnessOfIteration$2 = function (exec, SKIP_CLOSING) {
    try {
      if (!SKIP_CLOSING && !SAFE_CLOSING) return false;
    } catch (error) { return false; } // workaround of old WebKit + `eval` bug
    var ITERATION_SUPPORT = false;
    try {
      var object = {};
      object[ITERATOR] = function () {
        return {
          next: function () {
            return { done: ITERATION_SUPPORT = true };
          }
        };
      };
      exec(object);
    } catch (error) { /* empty */ }
    return ITERATION_SUPPORT;
  };

  var $$y = _export;
  var from$6 = arrayFrom;
  var checkCorrectnessOfIteration$1 = checkCorrectnessOfIteration$2;

  var INCORRECT_ITERATION = !checkCorrectnessOfIteration$1(function (iterable) {
    // eslint-disable-next-line es/no-array-from -- required for testing
    Array.from(iterable);
  });

  // `Array.from` method
  // https://tc39.es/ecma262/#sec-array.from
  $$y({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {
    from: from$6
  });

  var path$h = path$o;

  var from$5 = path$h.Array.from;

  var parent$T = from$5;

  var from$4 = parent$T;

  var from$3 = from$4;

  var _Array$from$1 = /*@__PURE__*/getDefaultExportFromCjs(from$3);

  var getIteratorMethod$6 = getIteratorMethod$9;

  var getIteratorMethod_1 = getIteratorMethod$6;

  var parent$S = getIteratorMethod_1;


  var getIteratorMethod$5 = parent$S;

  var parent$R = getIteratorMethod$5;

  var getIteratorMethod$4 = parent$R;

  var parent$Q = getIteratorMethod$4;

  var getIteratorMethod$3 = parent$Q;

  var getIteratorMethod$2 = getIteratorMethod$3;

  var _getIteratorMethod$1 = /*@__PURE__*/getDefaultExportFromCjs(getIteratorMethod$2);

  var getIteratorMethod$1 = getIteratorMethod$2;

  var _getIteratorMethod = /*@__PURE__*/getDefaultExportFromCjs(getIteratorMethod$1);

  var $$x = _export;
  var isArray$9 = isArray$e;

  // `Array.isArray` method
  // https://tc39.es/ecma262/#sec-array.isarray
  $$x({ target: 'Array', stat: true }, {
    isArray: isArray$9
  });

  var path$g = path$o;

  var isArray$8 = path$g.Array.isArray;

  var parent$P = isArray$8;

  var isArray$7 = parent$P;

  var parent$O = isArray$7;

  var isArray$6 = parent$O;

  var parent$N = isArray$6;

  var isArray$5 = parent$N;

  var isArray$4 = isArray$5;

  var _Array$isArray$1 = /*@__PURE__*/getDefaultExportFromCjs(isArray$4);

  function _arrayWithHoles(arr) {
    if (_Array$isArray$1(arr)) return arr;
  }

  var DESCRIPTORS$8 = descriptors;
  var isArray$3 = isArray$e;

  var $TypeError$6 = TypeError;
  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe
  var getOwnPropertyDescriptor$5 = Object.getOwnPropertyDescriptor;

  // Safari < 13 does not throw an error in this case
  var SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS$8 && !function () {
    // makes no sense without proper strict mode support
    if (this !== undefined) return true;
    try {
      // eslint-disable-next-line es/no-object-defineproperty -- safe
      Object.defineProperty([], 'length', { writable: false }).length = 1;
    } catch (error) {
      return error instanceof TypeError;
    }
  }();

  var arraySetLength = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {
    if (isArray$3(O) && !getOwnPropertyDescriptor$5(O, 'length').writable) {
      throw new $TypeError$6('Cannot set read only .length');
    } return O.length = length;
  } : function (O, length) {
    return O.length = length;
  };

  var $$w = _export;
  var toObject$5 = toObject$e;
  var lengthOfArrayLike$4 = lengthOfArrayLike$d;
  var setArrayLength$1 = arraySetLength;
  var doesNotExceedSafeInteger$1 = doesNotExceedSafeInteger$4;
  var fails$d = fails$u;

  var INCORRECT_TO_LENGTH = fails$d(function () {
    return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;
  });

  // V8 and Safari <= 15.4, FF < 23 throws InternalError
  // https://bugs.chromium.org/p/v8/issues/detail?id=12681
  var properErrorOnNonWritableLength = function () {
    try {
      // eslint-disable-next-line es/no-object-defineproperty -- safe
      Object.defineProperty([], 'length', { writable: false }).push();
    } catch (error) {
      return error instanceof TypeError;
    }
  };

  var FORCED$3 = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();

  // `Array.prototype.push` method
  // https://tc39.es/ecma262/#sec-array.prototype.push
  $$w({ target: 'Array', proto: true, arity: 1, forced: FORCED$3 }, {
    // eslint-disable-next-line no-unused-vars -- required for `.length`
    push: function push(item) {
      var O = toObject$5(this);
      var len = lengthOfArrayLike$4(O);
      var argCount = arguments.length;
      doesNotExceedSafeInteger$1(len + argCount);
      for (var i = 0; i < argCount; i++) {
        O[len] = arguments[i];
        len++;
      }
      setArrayLength$1(O, len);
      return len;
    }
  });

  var getBuiltInPrototypeMethod$a = getBuiltInPrototypeMethod$g;

  var push$8 = getBuiltInPrototypeMethod$a('Array', 'push');

  var isPrototypeOf$d = objectIsPrototypeOf;
  var method$a = push$8;

  var ArrayPrototype$a = Array.prototype;

  var push$7 = function (it) {
    var own = it.push;
    return it === ArrayPrototype$a || (isPrototypeOf$d(ArrayPrototype$a, it) && own === ArrayPrototype$a.push) ? method$a : own;
  };

  var parent$M = push$7;

  var push$6 = parent$M;

  var parent$L = push$6;

  var push$5 = parent$L;

  var parent$K = push$5;

  var push$4 = parent$K;

  var push$3 = push$4;

  var _pushInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(push$3);

  function _iterableToArrayLimit(r, l) {
    var t = null == r ? null : "undefined" != typeof _Symbol$1 && _getIteratorMethod$1(r) || r["@@iterator"];
    if (null != t) {
      var e,
        n,
        i,
        u,
        a = [],
        f = !0,
        o = !1;
      try {
        if (i = (t = t.call(r)).next, 0 === l) {
          if (Object(t) !== t) return;
          f = !1;
        } else for (; !(f = (e = i.call(t)).done) && (_pushInstanceProperty(a).call(a, e.value), a.length !== l); f = !0);
      } catch (r) {
        o = !0, n = r;
      } finally {
        try {
          if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return;
        } finally {
          if (o) throw n;
        }
      }
      return a;
    }
  }

  var $$v = _export;
  var isArray$2 = isArray$e;
  var isConstructor$1 = isConstructor$4;
  var isObject$7 = isObject$h;
  var toAbsoluteIndex$1 = toAbsoluteIndex$4;
  var lengthOfArrayLike$3 = lengthOfArrayLike$d;
  var toIndexedObject$2 = toIndexedObject$a;
  var createProperty$2 = createProperty$6;
  var wellKnownSymbol$4 = wellKnownSymbol$n;
  var arrayMethodHasSpeciesSupport$1 = arrayMethodHasSpeciesSupport$5;
  var nativeSlice = arraySlice$5;

  var HAS_SPECIES_SUPPORT$1 = arrayMethodHasSpeciesSupport$1('slice');

  var SPECIES$3 = wellKnownSymbol$4('species');
  var $Array = Array;
  var max$1 = Math.max;

  // `Array.prototype.slice` method
  // https://tc39.es/ecma262/#sec-array.prototype.slice
  // fallback for not array-like ES3 strings and DOM objects
  $$v({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT$1 }, {
    slice: function slice(start, end) {
      var O = toIndexedObject$2(this);
      var length = lengthOfArrayLike$3(O);
      var k = toAbsoluteIndex$1(start, length);
      var fin = toAbsoluteIndex$1(end === undefined ? length : end, length);
      // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible
      var Constructor, result, n;
      if (isArray$2(O)) {
        Constructor = O.constructor;
        // cross-realm fallback
        if (isConstructor$1(Constructor) && (Constructor === $Array || isArray$2(Constructor.prototype))) {
          Constructor = undefined;
        } else if (isObject$7(Constructor)) {
          Constructor = Constructor[SPECIES$3];
          if (Constructor === null) Constructor = undefined;
        }
        if (Constructor === $Array || Constructor === undefined) {
          return nativeSlice(O, k, fin);
        }
      }
      result = new (Constructor === undefined ? $Array : Constructor)(max$1(fin - k, 0));
      for (n = 0; k < fin; k++, n++) if (k in O) createProperty$2(result, n, O[k]);
      result.length = n;
      return result;
    }
  });

  var getBuiltInPrototypeMethod$9 = getBuiltInPrototypeMethod$g;

  var slice$6 = getBuiltInPrototypeMethod$9('Array', 'slice');

  var isPrototypeOf$c = objectIsPrototypeOf;
  var method$9 = slice$6;

  var ArrayPrototype$9 = Array.prototype;

  var slice$5 = function (it) {
    var own = it.slice;
    return it === ArrayPrototype$9 || (isPrototypeOf$c(ArrayPrototype$9, it) && own === ArrayPrototype$9.slice) ? method$9 : own;
  };

  var parent$J = slice$5;

  var slice$4 = parent$J;

  var parent$I = slice$4;

  var slice$3 = parent$I;

  var parent$H = slice$3;

  var slice$2 = parent$H;

  var slice$1 = slice$2;

  var _sliceInstanceProperty$1 = /*@__PURE__*/getDefaultExportFromCjs(slice$1);

  var parent$G = from$4;

  var from$2 = parent$G;

  var parent$F = from$2;

  var from$1 = parent$F;

  var from = from$1;

  var _Array$from = /*@__PURE__*/getDefaultExportFromCjs(from);

  function _arrayLikeToArray$4(arr, len) {
    if (len == null || len > arr.length) len = arr.length;
    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
    return arr2;
  }

  function _unsupportedIterableToArray$4(o, minLen) {
    var _context;
    if (!o) return;
    if (typeof o === "string") return _arrayLikeToArray$4(o, minLen);
    var n = _sliceInstanceProperty$1(_context = Object.prototype.toString.call(o)).call(_context, 8, -1);
    if (n === "Object" && o.constructor) n = o.constructor.name;
    if (n === "Map" || n === "Set") return _Array$from(o);
    if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$4(o, minLen);
  }

  function _nonIterableRest() {
    throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  function _slicedToArray(arr, i) {
    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$4(arr, i) || _nonIterableRest();
  }

  function _arrayWithoutHoles(arr) {
    if (_Array$isArray$1(arr)) return _arrayLikeToArray$4(arr);
  }

  function _iterableToArray(iter) {
    if (typeof _Symbol$1 !== "undefined" && _getIteratorMethod$1(iter) != null || iter["@@iterator"] != null) return _Array$from(iter);
  }

  function _nonIterableSpread() {
    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }

  function _toConsumableArray(arr) {
    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$4(arr) || _nonIterableSpread();
  }

  var symbol = symbol$4;

  var _Symbol = /*@__PURE__*/getDefaultExportFromCjs(symbol);

  var getBuiltInPrototypeMethod$8 = getBuiltInPrototypeMethod$g;

  var concat$5 = getBuiltInPrototypeMethod$8('Array', 'concat');

  var isPrototypeOf$b = objectIsPrototypeOf;
  var method$8 = concat$5;

  var ArrayPrototype$8 = Array.prototype;

  var concat$4 = function (it) {
    var own = it.concat;
    return it === ArrayPrototype$8 || (isPrototypeOf$b(ArrayPrototype$8, it) && own === ArrayPrototype$8.concat) ? method$8 : own;
  };

  var parent$E = concat$4;

  var concat$3 = parent$E;

  var concat$2 = concat$3;

  var _concatInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(concat$2);

  var slice = slice$4;

  var _sliceInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(slice);

  var getBuiltIn$5 = getBuiltIn$f;
  var uncurryThis$5 = functionUncurryThis;
  var getOwnPropertyNamesModule$1 = objectGetOwnPropertyNames;
  var getOwnPropertySymbolsModule$1 = objectGetOwnPropertySymbols;
  var anObject$4 = anObject$d;

  var concat$1 = uncurryThis$5([].concat);

  // all object keys, includes non-enumerable and symbols
  var ownKeys$7 = getBuiltIn$5('Reflect', 'ownKeys') || function ownKeys(it) {
    var keys = getOwnPropertyNamesModule$1.f(anObject$4(it));
    var getOwnPropertySymbols = getOwnPropertySymbolsModule$1.f;
    return getOwnPropertySymbols ? concat$1(keys, getOwnPropertySymbols(it)) : keys;
  };

  var $$u = _export;
  var ownKeys$6 = ownKeys$7;

  // `Reflect.ownKeys` method
  // https://tc39.es/ecma262/#sec-reflect.ownkeys
  $$u({ target: 'Reflect', stat: true }, {
    ownKeys: ownKeys$6
  });

  var path$f = path$o;

  var ownKeys$5 = path$f.Reflect.ownKeys;

  var parent$D = ownKeys$5;

  var ownKeys$4 = parent$D;

  var ownKeys$3 = ownKeys$4;

  var _Reflect$ownKeys = /*@__PURE__*/getDefaultExportFromCjs(ownKeys$3);

  var isArray$1 = isArray$7;

  var _Array$isArray = /*@__PURE__*/getDefaultExportFromCjs(isArray$1);

  var $$t = _export;
  var toObject$4 = toObject$e;
  var nativeKeys = objectKeys$3;
  var fails$c = fails$u;

  var FAILS_ON_PRIMITIVES$2 = fails$c(function () { nativeKeys(1); });

  // `Object.keys` method
  // https://tc39.es/ecma262/#sec-object.keys
  $$t({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$2 }, {
    keys: function keys(it) {
      return nativeKeys(toObject$4(it));
    }
  });

  var path$e = path$o;

  var keys$6 = path$e.Object.keys;

  var parent$C = keys$6;

  var keys$5 = parent$C;

  var keys$4 = keys$5;

  var _Object$keys = /*@__PURE__*/getDefaultExportFromCjs(keys$4);

  var $forEach = arrayIteration.forEach;
  var arrayMethodIsStrict$2 = arrayMethodIsStrict$4;

  var STRICT_METHOD$2 = arrayMethodIsStrict$2('forEach');

  // `Array.prototype.forEach` method implementation
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  var arrayForEach = !STRICT_METHOD$2 ? function forEach(callbackfn /* , thisArg */) {
    return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  // eslint-disable-next-line es/no-array-prototype-foreach -- safe
  } : [].forEach;

  var $$s = _export;
  var forEach$8 = arrayForEach;

  // `Array.prototype.forEach` method
  // https://tc39.es/ecma262/#sec-array.prototype.foreach
  // eslint-disable-next-line es/no-array-prototype-foreach -- safe
  $$s({ target: 'Array', proto: true, forced: [].forEach !== forEach$8 }, {
    forEach: forEach$8
  });

  var getBuiltInPrototypeMethod$7 = getBuiltInPrototypeMethod$g;

  var forEach$7 = getBuiltInPrototypeMethod$7('Array', 'forEach');

  var parent$B = forEach$7;

  var forEach$6 = parent$B;

  var classof$4 = classof$d;
  var hasOwn$6 = hasOwnProperty_1;
  var isPrototypeOf$a = objectIsPrototypeOf;
  var method$7 = forEach$6;


  var ArrayPrototype$7 = Array.prototype;

  var DOMIterables$3 = {
    DOMTokenList: true,
    NodeList: true
  };

  var forEach$5 = function (it) {
    var own = it.forEach;
    return it === ArrayPrototype$7 || (isPrototypeOf$a(ArrayPrototype$7, it) && own === ArrayPrototype$7.forEach)
      || hasOwn$6(DOMIterables$3, classof$4(it)) ? method$7 : own;
  };

  var forEach$4 = forEach$5;

  var _forEachInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(forEach$4);

  var $$r = _export;
  var uncurryThis$4 = functionUncurryThis;
  var isArray = isArray$e;

  var nativeReverse = uncurryThis$4([].reverse);
  var test$1 = [1, 2];

  // `Array.prototype.reverse` method
  // https://tc39.es/ecma262/#sec-array.prototype.reverse
  // fix for Safari 12.0 bug
  // https://bugs.webkit.org/show_bug.cgi?id=188794
  $$r({ target: 'Array', proto: true, forced: String(test$1) === String(test$1.reverse()) }, {
    reverse: function reverse() {
      // eslint-disable-next-line no-self-assign -- dirty hack
      if (isArray(this)) this.length = this.length;
      return nativeReverse(this);
    }
  });

  var getBuiltInPrototypeMethod$6 = getBuiltInPrototypeMethod$g;

  var reverse$6 = getBuiltInPrototypeMethod$6('Array', 'reverse');

  var isPrototypeOf$9 = objectIsPrototypeOf;
  var method$6 = reverse$6;

  var ArrayPrototype$6 = Array.prototype;

  var reverse$5 = function (it) {
    var own = it.reverse;
    return it === ArrayPrototype$6 || (isPrototypeOf$9(ArrayPrototype$6, it) && own === ArrayPrototype$6.reverse) ? method$6 : own;
  };

  var parent$A = reverse$5;

  var reverse$4 = parent$A;

  var reverse$3 = reverse$4;

  var _reverseInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(reverse$3);

  var tryToString$2 = tryToString$6;

  var $TypeError$5 = TypeError;

  var deletePropertyOrThrow$2 = function (O, P) {
    if (!delete O[P]) throw new $TypeError$5('Cannot delete property ' + tryToString$2(P) + ' of ' + tryToString$2(O));
  };

  var $$q = _export;
  var toObject$3 = toObject$e;
  var toAbsoluteIndex = toAbsoluteIndex$4;
  var toIntegerOrInfinity = toIntegerOrInfinity$4;
  var lengthOfArrayLike$2 = lengthOfArrayLike$d;
  var setArrayLength = arraySetLength;
  var doesNotExceedSafeInteger = doesNotExceedSafeInteger$4;
  var arraySpeciesCreate = arraySpeciesCreate$4;
  var createProperty$1 = createProperty$6;
  var deletePropertyOrThrow$1 = deletePropertyOrThrow$2;
  var arrayMethodHasSpeciesSupport = arrayMethodHasSpeciesSupport$5;

  var HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');

  var max = Math.max;
  var min = Math.min;

  // `Array.prototype.splice` method
  // https://tc39.es/ecma262/#sec-array.prototype.splice
  // with adding support of @@species
  $$q({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {
    splice: function splice(start, deleteCount /* , ...items */) {
      var O = toObject$3(this);
      var len = lengthOfArrayLike$2(O);
      var actualStart = toAbsoluteIndex(start, len);
      var argumentsLength = arguments.length;
      var insertCount, actualDeleteCount, A, k, from, to;
      if (argumentsLength === 0) {
        insertCount = actualDeleteCount = 0;
      } else if (argumentsLength === 1) {
        insertCount = 0;
        actualDeleteCount = len - actualStart;
      } else {
        insertCount = argumentsLength - 2;
        actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);
      }
      doesNotExceedSafeInteger(len + insertCount - actualDeleteCount);
      A = arraySpeciesCreate(O, actualDeleteCount);
      for (k = 0; k < actualDeleteCount; k++) {
        from = actualStart + k;
        if (from in O) createProperty$1(A, k, O[from]);
      }
      A.length = actualDeleteCount;
      if (insertCount < actualDeleteCount) {
        for (k = actualStart; k < len - actualDeleteCount; k++) {
          from = k + actualDeleteCount;
          to = k + insertCount;
          if (from in O) O[to] = O[from];
          else deletePropertyOrThrow$1(O, to);
        }
        for (k = len; k > len - actualDeleteCount + insertCount; k--) deletePropertyOrThrow$1(O, k - 1);
      } else if (insertCount > actualDeleteCount) {
        for (k = len - actualDeleteCount; k > actualStart; k--) {
          from = k + actualDeleteCount - 1;
          to = k + insertCount - 1;
          if (from in O) O[to] = O[from];
          else deletePropertyOrThrow$1(O, to);
        }
      }
      for (k = 0; k < insertCount; k++) {
        O[k + actualStart] = arguments[k + 2];
      }
      setArrayLength(O, len - actualDeleteCount + insertCount);
      return A;
    }
  });

  var getBuiltInPrototypeMethod$5 = getBuiltInPrototypeMethod$g;

  var splice$3 = getBuiltInPrototypeMethod$5('Array', 'splice');

  var isPrototypeOf$8 = objectIsPrototypeOf;
  var method$5 = splice$3;

  var ArrayPrototype$5 = Array.prototype;

  var splice$2 = function (it) {
    var own = it.splice;
    return it === ArrayPrototype$5 || (isPrototypeOf$8(ArrayPrototype$5, it) && own === ArrayPrototype$5.splice) ? method$5 : own;
  };

  var parent$z = splice$2;

  var splice$1 = parent$z;

  var splice = splice$1;

  var _spliceInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(splice);

  var DESCRIPTORS$7 = descriptors;
  var uncurryThis$3 = functionUncurryThis;
  var call$7 = functionCall;
  var fails$b = fails$u;
  var objectKeys = objectKeys$3;
  var getOwnPropertySymbolsModule = objectGetOwnPropertySymbols;
  var propertyIsEnumerableModule = objectPropertyIsEnumerable;
  var toObject$2 = toObject$e;
  var IndexedObject = indexedObject;

  // eslint-disable-next-line es/no-object-assign -- safe
  var $assign = Object.assign;
  // eslint-disable-next-line es/no-object-defineproperty -- required for testing
  var defineProperty$3 = Object.defineProperty;
  var concat = uncurryThis$3([].concat);

  // `Object.assign` method
  // https://tc39.es/ecma262/#sec-object.assign
  var objectAssign = !$assign || fails$b(function () {
    // should have correct order of operations (Edge bug)
    if (DESCRIPTORS$7 && $assign({ b: 1 }, $assign(defineProperty$3({}, 'a', {
      enumerable: true,
      get: function () {
        defineProperty$3(this, 'b', {
          value: 3,
          enumerable: false
        });
      }
    }), { b: 2 })).b !== 1) return true;
    // should work with symbols and should have deterministic property order (V8 bug)
    var A = {};
    var B = {};
    // eslint-disable-next-line es/no-symbol -- safe
    var symbol = Symbol('assign detection');
    var alphabet = 'abcdefghijklmnopqrst';
    A[symbol] = 7;
    alphabet.split('').forEach(function (chr) { B[chr] = chr; });
    return $assign({}, A)[symbol] !== 7 || objectKeys($assign({}, B)).join('') !== alphabet;
  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`
    var T = toObject$2(target);
    var argumentsLength = arguments.length;
    var index = 1;
    var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;
    var propertyIsEnumerable = propertyIsEnumerableModule.f;
    while (argumentsLength > index) {
      var S = IndexedObject(arguments[index++]);
      var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);
      var length = keys.length;
      var j = 0;
      var key;
      while (length > j) {
        key = keys[j++];
        if (!DESCRIPTORS$7 || call$7(propertyIsEnumerable, S, key)) T[key] = S[key];
      }
    } return T;
  } : $assign;

  var $$p = _export;
  var assign$5 = objectAssign;

  // `Object.assign` method
  // https://tc39.es/ecma262/#sec-object.assign
  // eslint-disable-next-line es/no-object-assign -- required for testing
  $$p({ target: 'Object', stat: true, arity: 2, forced: Object.assign !== assign$5 }, {
    assign: assign$5
  });

  var path$d = path$o;

  var assign$4 = path$d.Object.assign;

  var parent$y = assign$4;

  var assign$3 = parent$y;

  var assign$2 = assign$3;

  var _Object$assign = /*@__PURE__*/getDefaultExportFromCjs(assign$2);

  var $$o = _export;
  var fails$a = fails$u;
  var toObject$1 = toObject$e;
  var nativeGetPrototypeOf = objectGetPrototypeOf;
  var CORRECT_PROTOTYPE_GETTER = correctPrototypeGetter;

  var FAILS_ON_PRIMITIVES$1 = fails$a(function () { nativeGetPrototypeOf(1); });

  // `Object.getPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.getprototypeof
  $$o({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES$1, sham: !CORRECT_PROTOTYPE_GETTER }, {
    getPrototypeOf: function getPrototypeOf(it) {
      return nativeGetPrototypeOf(toObject$1(it));
    }
  });

  var path$c = path$o;

  var getPrototypeOf$5 = path$c.Object.getPrototypeOf;

  var parent$x = getPrototypeOf$5;

  var getPrototypeOf$4 = parent$x;

  // TODO: Remove from `core-js@4`
  var $$n = _export;
  var DESCRIPTORS$6 = descriptors;
  var create$9 = objectCreate;

  // `Object.create` method
  // https://tc39.es/ecma262/#sec-object.create
  $$n({ target: 'Object', stat: true, sham: !DESCRIPTORS$6 }, {
    create: create$9
  });

  var path$b = path$o;

  var Object$3 = path$b.Object;

  var create$8 = function create(P, D) {
    return Object$3.create(P, D);
  };

  var parent$w = create$8;

  var create$7 = parent$w;

  var create$6 = create$7;

  var _Object$create$1 = /*@__PURE__*/getDefaultExportFromCjs(create$6);

  var path$a = path$o;
  var apply$3 = functionApply;

  // eslint-disable-next-line es/no-json -- safe
  if (!path$a.JSON) path$a.JSON = { stringify: JSON.stringify };

  // eslint-disable-next-line no-unused-vars -- required for `.length`
  var stringify$2 = function stringify(it, replacer, space) {
    return apply$3(path$a.JSON.stringify, null, arguments);
  };

  var parent$v = stringify$2;

  var stringify$1 = parent$v;

  var stringify = stringify$1;

  var _JSON$stringify = /*@__PURE__*/getDefaultExportFromCjs(stringify);

  /* global Bun -- Deno case */
  var engineIsBun = typeof Bun == 'function' && Bun && typeof Bun.version == 'string';

  var $TypeError$4 = TypeError;

  var validateArgumentsLength$2 = function (passed, required) {
    if (passed < required) throw new $TypeError$4('Not enough arguments');
    return passed;
  };

  var global$9 = global$p;
  var apply$2 = functionApply;
  var isCallable$5 = isCallable$m;
  var ENGINE_IS_BUN = engineIsBun;
  var USER_AGENT = engineUserAgent;
  var arraySlice$2 = arraySlice$5;
  var validateArgumentsLength$1 = validateArgumentsLength$2;

  var Function$2 = global$9.Function;
  // dirty IE9- and Bun 0.3.0- checks
  var WRAP = /MSIE .\./.test(USER_AGENT) || ENGINE_IS_BUN && (function () {
    var version = global$9.Bun.version.split('.');
    return version.length < 3 || version[0] === '0' && (version[1] < 3 || version[1] === '3' && version[2] === '0');
  })();

  // IE9- / Bun 0.3.0- setTimeout / setInterval / setImmediate additional parameters fix
  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers
  // https://github.com/oven-sh/bun/issues/1633
  var schedulersFix$2 = function (scheduler, hasTimeArg) {
    var firstParamIndex = hasTimeArg ? 2 : 1;
    return WRAP ? function (handler, timeout /* , ...arguments */) {
      var boundArgs = validateArgumentsLength$1(arguments.length, 1) > firstParamIndex;
      var fn = isCallable$5(handler) ? handler : Function$2(handler);
      var params = boundArgs ? arraySlice$2(arguments, firstParamIndex) : [];
      var callback = boundArgs ? function () {
        apply$2(fn, this, params);
      } : fn;
      return hasTimeArg ? scheduler(callback, timeout) : scheduler(callback);
    } : scheduler;
  };

  var $$m = _export;
  var global$8 = global$p;
  var schedulersFix$1 = schedulersFix$2;

  var setInterval = schedulersFix$1(global$8.setInterval, true);

  // Bun / IE9- setInterval additional parameters fix
  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval
  $$m({ global: true, bind: true, forced: global$8.setInterval !== setInterval }, {
    setInterval: setInterval
  });

  var $$l = _export;
  var global$7 = global$p;
  var schedulersFix = schedulersFix$2;

  var setTimeout$3 = schedulersFix(global$7.setTimeout, true);

  // Bun / IE9- setTimeout additional parameters fix
  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout
  $$l({ global: true, bind: true, forced: global$7.setTimeout !== setTimeout$3 }, {
    setTimeout: setTimeout$3
  });

  var path$9 = path$o;

  var setTimeout$2 = path$9.setTimeout;

  var setTimeout$1 = setTimeout$2;

  var _setTimeout = /*@__PURE__*/getDefaultExportFromCjs(setTimeout$1);

  var componentEmitter = {exports: {}};

  (function (module) {
  	function Emitter(object) {
  		if (object) {
  			return mixin(object);
  		}

  		this._callbacks = new Map();
  	}

  	function mixin(object) {
  		Object.assign(object, Emitter.prototype);
  		object._callbacks = new Map();
  		return object;
  	}

  	Emitter.prototype.on = function (event, listener) {
  		const callbacks = this._callbacks.get(event) ?? [];
  		callbacks.push(listener);
  		this._callbacks.set(event, callbacks);
  		return this;
  	};

  	Emitter.prototype.once = function (event, listener) {
  		const on = (...arguments_) => {
  			this.off(event, on);
  			listener.apply(this, arguments_);
  		};

  		on.fn = listener;
  		this.on(event, on);
  		return this;
  	};

  	Emitter.prototype.off = function (event, listener) {
  		if (event === undefined && listener === undefined) {
  			this._callbacks.clear();
  			return this;
  		}

  		if (listener === undefined) {
  			this._callbacks.delete(event);
  			return this;
  		}

  		const callbacks = this._callbacks.get(event);
  		if (callbacks) {
  			for (const [index, callback] of callbacks.entries()) {
  				if (callback === listener || callback.fn === listener) {
  					callbacks.splice(index, 1);
  					break;
  				}
  			}

  			if (callbacks.length === 0) {
  				this._callbacks.delete(event);
  			} else {
  				this._callbacks.set(event, callbacks);
  			}
  		}

  		return this;
  	};

  	Emitter.prototype.emit = function (event, ...arguments_) {
  		const callbacks = this._callbacks.get(event);
  		if (callbacks) {
  			// Create a copy of the callbacks array to avoid issues if it's modified during iteration
  			const callbacksCopy = [...callbacks];

  			for (const callback of callbacksCopy) {
  				callback.apply(this, arguments_);
  			}
  		}

  		return this;
  	};

  	Emitter.prototype.listeners = function (event) {
  		return this._callbacks.get(event) ?? [];
  	};

  	Emitter.prototype.listenerCount = function (event) {
  		if (event) {
  			return this.listeners(event).length;
  		}

  		let totalCount = 0;
  		for (const callbacks of this._callbacks.values()) {
  			totalCount += callbacks.length;
  		}

  		return totalCount;
  	};

  	Emitter.prototype.hasListeners = function (event) {
  		return this.listenerCount(event) > 0;
  	};

  	// Aliases
  	Emitter.prototype.addEventListener = Emitter.prototype.on;
  	Emitter.prototype.removeListener = Emitter.prototype.off;
  	Emitter.prototype.removeEventListener = Emitter.prototype.off;
  	Emitter.prototype.removeAllListeners = Emitter.prototype.off;

  	{
  		module.exports = Emitter;
  	} 
  } (componentEmitter));

  var componentEmitterExports = componentEmitter.exports;
  var Emitter = /*@__PURE__*/getDefaultExportFromCjs(componentEmitterExports);

  /*! Hammer.JS - v2.0.17-rc - 2019-12-16
   * http://naver.github.io/egjs
   *
   * Forked By Naver egjs
   * Copyright (c) hammerjs
   * Licensed under the MIT license */
  function _extends() {
    _extends = Object.assign || function (target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];

        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }

      return target;
    };

    return _extends.apply(this, arguments);
  }

  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    subClass.__proto__ = superClass;
  }

  function _assertThisInitialized$1(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return self;
  }

  /**
   * @private
   * extend object.
   * means that properties in dest will be overwritten by the ones in src.
   * @param {Object} target
   * @param {...Object} objects_to_assign
   * @returns {Object} target
   */
  var assign;

  if (typeof Object.assign !== 'function') {
    assign = function assign(target) {
      if (target === undefined || target === null) {
        throw new TypeError('Cannot convert undefined or null to object');
      }

      var output = Object(target);

      for (var index = 1; index < arguments.length; index++) {
        var source = arguments[index];

        if (source !== undefined && source !== null) {
          for (var nextKey in source) {
            if (source.hasOwnProperty(nextKey)) {
              output[nextKey] = source[nextKey];
            }
          }
        }
      }

      return output;
    };
  } else {
    assign = Object.assign;
  }

  var assign$1 = assign;

  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];
  var TEST_ELEMENT = typeof document === "undefined" ? {
    style: {}
  } : document.createElement('div');
  var TYPE_FUNCTION = 'function';
  var round = Math.round,
      abs = Math.abs;
  var now = Date.now;

  /**
   * @private
   * get the prefixed property
   * @param {Object} obj
   * @param {String} property
   * @returns {String|Undefined} prefixed
   */

  function prefixed(obj, property) {
    var prefix;
    var prop;
    var camelProp = property[0].toUpperCase() + property.slice(1);
    var i = 0;

    while (i < VENDOR_PREFIXES.length) {
      prefix = VENDOR_PREFIXES[i];
      prop = prefix ? prefix + camelProp : property;

      if (prop in obj) {
        return prop;
      }

      i++;
    }

    return undefined;
  }

  /* eslint-disable no-new-func, no-nested-ternary */
  var win;

  if (typeof window === "undefined") {
    // window is undefined in node.js
    win = {};
  } else {
    win = window;
  }

  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');
  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;
  function getTouchActionProps() {
    if (!NATIVE_TOUCH_ACTION) {
      return false;
    }

    var touchMap = {};
    var cssSupports = win.CSS && win.CSS.supports;
    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {
      // If css.supports is not supported but there is native touch-action assume it supports
      // all values. This is the case for IE 10 and 11.
      return touchMap[val] = cssSupports ? win.CSS.supports('touch-action', val) : true;
    });
    return touchMap;
  }

  var TOUCH_ACTION_COMPUTE = 'compute';
  var TOUCH_ACTION_AUTO = 'auto';
  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented

  var TOUCH_ACTION_NONE = 'none';
  var TOUCH_ACTION_PAN_X = 'pan-x';
  var TOUCH_ACTION_PAN_Y = 'pan-y';
  var TOUCH_ACTION_MAP = getTouchActionProps();

  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;
  var SUPPORT_TOUCH = 'ontouchstart' in win;
  var SUPPORT_POINTER_EVENTS = prefixed(win, 'PointerEvent') !== undefined;
  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);
  var INPUT_TYPE_TOUCH = 'touch';
  var INPUT_TYPE_PEN = 'pen';
  var INPUT_TYPE_MOUSE = 'mouse';
  var INPUT_TYPE_KINECT = 'kinect';
  var COMPUTE_INTERVAL = 25;
  var INPUT_START = 1;
  var INPUT_MOVE = 2;
  var INPUT_END = 4;
  var INPUT_CANCEL = 8;
  var DIRECTION_NONE = 1;
  var DIRECTION_LEFT = 2;
  var DIRECTION_RIGHT = 4;
  var DIRECTION_UP = 8;
  var DIRECTION_DOWN = 16;
  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;
  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;
  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;
  var PROPS_XY = ['x', 'y'];
  var PROPS_CLIENT_XY = ['clientX', 'clientY'];

  /**
   * @private
   * walk objects and arrays
   * @param {Object} obj
   * @param {Function} iterator
   * @param {Object} context
   */
  function each(obj, iterator, context) {
    var i;

    if (!obj) {
      return;
    }

    if (obj.forEach) {
      obj.forEach(iterator, context);
    } else if (obj.length !== undefined) {
      i = 0;

      while (i < obj.length) {
        iterator.call(context, obj[i], i, obj);
        i++;
      }
    } else {
      for (i in obj) {
        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);
      }
    }
  }

  /**
   * @private
   * let a boolean value also be a function that must return a boolean
   * this first item in args will be used as the context
   * @param {Boolean|Function} val
   * @param {Array} [args]
   * @returns {Boolean}
   */

  function boolOrFn(val, args) {
    if (typeof val === TYPE_FUNCTION) {
      return val.apply(args ? args[0] || undefined : undefined, args);
    }

    return val;
  }

  /**
   * @private
   * small indexOf wrapper
   * @param {String} str
   * @param {String} find
   * @returns {Boolean} found
   */
  function inStr(str, find) {
    return str.indexOf(find) > -1;
  }

  /**
   * @private
   * when the touchActions are collected they are not a valid value, so we need to clean things up. *
   * @param {String} actions
   * @returns {*}
   */

  function cleanTouchActions(actions) {
    // none
    if (inStr(actions, TOUCH_ACTION_NONE)) {
      return TOUCH_ACTION_NONE;
    }

    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);
    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y); // if both pan-x and pan-y are set (different recognizers
    // for different directions, e.g. horizontal pan but vertical swipe?)
    // we need none (as otherwise with pan-x pan-y combined none of these
    // recognizers will work, since the browser would handle all panning

    if (hasPanX && hasPanY) {
      return TOUCH_ACTION_NONE;
    } // pan-x OR pan-y


    if (hasPanX || hasPanY) {
      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;
    } // manipulation


    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {
      return TOUCH_ACTION_MANIPULATION;
    }

    return TOUCH_ACTION_AUTO;
  }

  /**
   * @private
   * Touch Action
   * sets the touchAction property or uses the js alternative
   * @param {Manager} manager
   * @param {String} value
   * @constructor
   */

  var TouchAction =
  /*#__PURE__*/
  function () {
    function TouchAction(manager, value) {
      this.manager = manager;
      this.set(value);
    }
    /**
     * @private
     * set the touchAction value on the element or enable the polyfill
     * @param {String} value
     */


    var _proto = TouchAction.prototype;

    _proto.set = function set(value) {
      // find out the touch-action by the event handlers
      if (value === TOUCH_ACTION_COMPUTE) {
        value = this.compute();
      }

      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {
        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;
      }

      this.actions = value.toLowerCase().trim();
    };
    /**
     * @private
     * just re-set the touchAction value
     */


    _proto.update = function update() {
      this.set(this.manager.options.touchAction);
    };
    /**
     * @private
     * compute the value for the touchAction property based on the recognizer's settings
     * @returns {String} value
     */


    _proto.compute = function compute() {
      var actions = [];
      each(this.manager.recognizers, function (recognizer) {
        if (boolOrFn(recognizer.options.enable, [recognizer])) {
          actions = actions.concat(recognizer.getTouchAction());
        }
      });
      return cleanTouchActions(actions.join(' '));
    };
    /**
     * @private
     * this method is called on each input cycle and provides the preventing of the browser behavior
     * @param {Object} input
     */


    _proto.preventDefaults = function preventDefaults(input) {
      var srcEvent = input.srcEvent;
      var direction = input.offsetDirection; // if the touch action did prevented once this session

      if (this.manager.session.prevented) {
        srcEvent.preventDefault();
        return;
      }

      var actions = this.actions;
      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];
      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];
      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];

      if (hasNone) {
        // do not prevent defaults if this is a tap gesture
        var isTapPointer = input.pointers.length === 1;
        var isTapMovement = input.distance < 2;
        var isTapTouchTime = input.deltaTime < 250;

        if (isTapPointer && isTapMovement && isTapTouchTime) {
          return;
        }
      }

      if (hasPanX && hasPanY) {
        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent
        return;
      }

      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {
        return this.preventSrc(srcEvent);
      }
    };
    /**
     * @private
     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)
     * @param {Object} srcEvent
     */


    _proto.preventSrc = function preventSrc(srcEvent) {
      this.manager.session.prevented = true;
      srcEvent.preventDefault();
    };

    return TouchAction;
  }();

  /**
   * @private
   * find if a node is in the given parent
   * @method hasParent
   * @param {HTMLElement} node
   * @param {HTMLElement} parent
   * @return {Boolean} found
   */
  function hasParent(node, parent) {
    while (node) {
      if (node === parent) {
        return true;
      }

      node = node.parentNode;
    }

    return false;
  }

  /**
   * @private
   * get the center of all the pointers
   * @param {Array} pointers
   * @return {Object} center contains `x` and `y` properties
   */

  function getCenter(pointers) {
    var pointersLength = pointers.length; // no need to loop when only one touch

    if (pointersLength === 1) {
      return {
        x: round(pointers[0].clientX),
        y: round(pointers[0].clientY)
      };
    }

    var x = 0;
    var y = 0;
    var i = 0;

    while (i < pointersLength) {
      x += pointers[i].clientX;
      y += pointers[i].clientY;
      i++;
    }

    return {
      x: round(x / pointersLength),
      y: round(y / pointersLength)
    };
  }

  /**
   * @private
   * create a simple clone from the input used for storage of firstInput and firstMultiple
   * @param {Object} input
   * @returns {Object} clonedInputData
   */

  function simpleCloneInputData(input) {
    // make a simple copy of the pointers because we will get a reference if we don't
    // we only need clientXY for the calculations
    var pointers = [];
    var i = 0;

    while (i < input.pointers.length) {
      pointers[i] = {
        clientX: round(input.pointers[i].clientX),
        clientY: round(input.pointers[i].clientY)
      };
      i++;
    }

    return {
      timeStamp: now(),
      pointers: pointers,
      center: getCenter(pointers),
      deltaX: input.deltaX,
      deltaY: input.deltaY
    };
  }

  /**
   * @private
   * calculate the absolute distance between two points
   * @param {Object} p1 {x, y}
   * @param {Object} p2 {x, y}
   * @param {Array} [props] containing x and y keys
   * @return {Number} distance
   */

  function getDistance(p1, p2, props) {
    if (!props) {
      props = PROPS_XY;
    }

    var x = p2[props[0]] - p1[props[0]];
    var y = p2[props[1]] - p1[props[1]];
    return Math.sqrt(x * x + y * y);
  }

  /**
   * @private
   * calculate the angle between two coordinates
   * @param {Object} p1
   * @param {Object} p2
   * @param {Array} [props] containing x and y keys
   * @return {Number} angle
   */

  function getAngle(p1, p2, props) {
    if (!props) {
      props = PROPS_XY;
    }

    var x = p2[props[0]] - p1[props[0]];
    var y = p2[props[1]] - p1[props[1]];
    return Math.atan2(y, x) * 180 / Math.PI;
  }

  /**
   * @private
   * get the direction between two points
   * @param {Number} x
   * @param {Number} y
   * @return {Number} direction
   */

  function getDirection(x, y) {
    if (x === y) {
      return DIRECTION_NONE;
    }

    if (abs(x) >= abs(y)) {
      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;
    }

    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;
  }

  function computeDeltaXY(session, input) {
    var center = input.center; // let { offsetDelta:offset = {}, prevDelta = {}, prevInput = {} } = session;
    // jscs throwing error on defalut destructured values and without defaults tests fail

    var offset = session.offsetDelta || {};
    var prevDelta = session.prevDelta || {};
    var prevInput = session.prevInput || {};

    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {
      prevDelta = session.prevDelta = {
        x: prevInput.deltaX || 0,
        y: prevInput.deltaY || 0
      };
      offset = session.offsetDelta = {
        x: center.x,
        y: center.y
      };
    }

    input.deltaX = prevDelta.x + (center.x - offset.x);
    input.deltaY = prevDelta.y + (center.y - offset.y);
  }

  /**
   * @private
   * calculate the velocity between two points. unit is in px per ms.
   * @param {Number} deltaTime
   * @param {Number} x
   * @param {Number} y
   * @return {Object} velocity `x` and `y`
   */
  function getVelocity(deltaTime, x, y) {
    return {
      x: x / deltaTime || 0,
      y: y / deltaTime || 0
    };
  }

  /**
   * @private
   * calculate the scale factor between two pointersets
   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out
   * @param {Array} start array of pointers
   * @param {Array} end array of pointers
   * @return {Number} scale
   */

  function getScale(start, end) {
    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);
  }

  /**
   * @private
   * calculate the rotation degrees between two pointersets
   * @param {Array} start array of pointers
   * @param {Array} end array of pointers
   * @return {Number} rotation
   */

  function getRotation(start, end) {
    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);
  }

  /**
   * @private
   * velocity is calculated every x ms
   * @param {Object} session
   * @param {Object} input
   */

  function computeIntervalInputData(session, input) {
    var last = session.lastInterval || input;
    var deltaTime = input.timeStamp - last.timeStamp;
    var velocity;
    var velocityX;
    var velocityY;
    var direction;

    if (input.eventType !== INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {
      var deltaX = input.deltaX - last.deltaX;
      var deltaY = input.deltaY - last.deltaY;
      var v = getVelocity(deltaTime, deltaX, deltaY);
      velocityX = v.x;
      velocityY = v.y;
      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;
      direction = getDirection(deltaX, deltaY);
      session.lastInterval = input;
    } else {
      // use latest velocity info if it doesn't overtake a minimum period
      velocity = last.velocity;
      velocityX = last.velocityX;
      velocityY = last.velocityY;
      direction = last.direction;
    }

    input.velocity = velocity;
    input.velocityX = velocityX;
    input.velocityY = velocityY;
    input.direction = direction;
  }

  /**
  * @private
   * extend the data with some usable properties like scale, rotate, velocity etc
   * @param {Object} manager
   * @param {Object} input
   */

  function computeInputData(manager, input) {
    var session = manager.session;
    var pointers = input.pointers;
    var pointersLength = pointers.length; // store the first input to calculate the distance and direction

    if (!session.firstInput) {
      session.firstInput = simpleCloneInputData(input);
    } // to compute scale and rotation we need to store the multiple touches


    if (pointersLength > 1 && !session.firstMultiple) {
      session.firstMultiple = simpleCloneInputData(input);
    } else if (pointersLength === 1) {
      session.firstMultiple = false;
    }

    var firstInput = session.firstInput,
        firstMultiple = session.firstMultiple;
    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;
    var center = input.center = getCenter(pointers);
    input.timeStamp = now();
    input.deltaTime = input.timeStamp - firstInput.timeStamp;
    input.angle = getAngle(offsetCenter, center);
    input.distance = getDistance(offsetCenter, center);
    computeDeltaXY(session, input);
    input.offsetDirection = getDirection(input.deltaX, input.deltaY);
    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);
    input.overallVelocityX = overallVelocity.x;
    input.overallVelocityY = overallVelocity.y;
    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;
    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;
    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;
    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;
    computeIntervalInputData(session, input); // find the correct target

    var target = manager.element;
    var srcEvent = input.srcEvent;
    var srcEventTarget;

    if (srcEvent.composedPath) {
      srcEventTarget = srcEvent.composedPath()[0];
    } else if (srcEvent.path) {
      srcEventTarget = srcEvent.path[0];
    } else {
      srcEventTarget = srcEvent.target;
    }

    if (hasParent(srcEventTarget, target)) {
      target = srcEventTarget;
    }

    input.target = target;
  }

  /**
   * @private
   * handle input events
   * @param {Manager} manager
   * @param {String} eventType
   * @param {Object} input
   */

  function inputHandler(manager, eventType, input) {
    var pointersLen = input.pointers.length;
    var changedPointersLen = input.changedPointers.length;
    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;
    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;
    input.isFirst = !!isFirst;
    input.isFinal = !!isFinal;

    if (isFirst) {
      manager.session = {};
    } // source event is the normalized value of the domEvents
    // like 'touchstart, mouseup, pointerdown'


    input.eventType = eventType; // compute scale, rotation etc

    computeInputData(manager, input); // emit secret event

    manager.emit('hammer.input', input);
    manager.recognize(input);
    manager.session.prevInput = input;
  }

  /**
   * @private
   * split string on whitespace
   * @param {String} str
   * @returns {Array} words
   */
  function splitStr(str) {
    return str.trim().split(/\s+/g);
  }

  /**
   * @private
   * addEventListener with multiple events at once
   * @param {EventTarget} target
   * @param {String} types
   * @param {Function} handler
   */

  function addEventListeners(target, types, handler) {
    each(splitStr(types), function (type) {
      target.addEventListener(type, handler, false);
    });
  }

  /**
   * @private
   * removeEventListener with multiple events at once
   * @param {EventTarget} target
   * @param {String} types
   * @param {Function} handler
   */

  function removeEventListeners(target, types, handler) {
    each(splitStr(types), function (type) {
      target.removeEventListener(type, handler, false);
    });
  }

  /**
   * @private
   * get the window object of an element
   * @param {HTMLElement} element
   * @returns {DocumentView|Window}
   */
  function getWindowForElement(element) {
    var doc = element.ownerDocument || element;
    return doc.defaultView || doc.parentWindow || window;
  }

  /**
   * @private
   * create new input type manager
   * @param {Manager} manager
   * @param {Function} callback
   * @returns {Input}
   * @constructor
   */

  var Input =
  /*#__PURE__*/
  function () {
    function Input(manager, callback) {
      var self = this;
      this.manager = manager;
      this.callback = callback;
      this.element = manager.element;
      this.target = manager.options.inputTarget; // smaller wrapper around the handler, for the scope and the enabled state of the manager,
      // so when disabled the input events are completely bypassed.

      this.domHandler = function (ev) {
        if (boolOrFn(manager.options.enable, [manager])) {
          self.handler(ev);
        }
      };

      this.init();
    }
    /**
     * @private
     * should handle the inputEvent data and trigger the callback
     * @virtual
     */


    var _proto = Input.prototype;

    _proto.handler = function handler() {};
    /**
     * @private
     * bind the events
     */


    _proto.init = function init() {
      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);
      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);
      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    };
    /**
     * @private
     * unbind the events
     */


    _proto.destroy = function destroy() {
      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);
      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);
      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    };

    return Input;
  }();

  /**
   * @private
   * find if a array contains the object using indexOf or a simple polyFill
   * @param {Array} src
   * @param {String} find
   * @param {String} [findByKey]
   * @return {Boolean|Number} false when not found, or the index
   */
  function inArray(src, find, findByKey) {
    if (src.indexOf && !findByKey) {
      return src.indexOf(find);
    } else {
      var i = 0;

      while (i < src.length) {
        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {
          // do not use === here, test fails
          return i;
        }

        i++;
      }

      return -1;
    }
  }

  var POINTER_INPUT_MAP = {
    pointerdown: INPUT_START,
    pointermove: INPUT_MOVE,
    pointerup: INPUT_END,
    pointercancel: INPUT_CANCEL,
    pointerout: INPUT_CANCEL
  }; // in IE10 the pointer types is defined as an enum

  var IE10_POINTER_TYPE_ENUM = {
    2: INPUT_TYPE_TOUCH,
    3: INPUT_TYPE_PEN,
    4: INPUT_TYPE_MOUSE,
    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816

  };
  var POINTER_ELEMENT_EVENTS = 'pointerdown';
  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel'; // IE10 has prefixed support, and case-sensitive

  if (win.MSPointerEvent && !win.PointerEvent) {
    POINTER_ELEMENT_EVENTS = 'MSPointerDown';
    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';
  }
  /**
   * @private
   * Pointer events input
   * @constructor
   * @extends Input
   */


  var PointerEventInput =
  /*#__PURE__*/
  function (_Input) {
    _inheritsLoose(PointerEventInput, _Input);

    function PointerEventInput() {
      var _this;

      var proto = PointerEventInput.prototype;
      proto.evEl = POINTER_ELEMENT_EVENTS;
      proto.evWin = POINTER_WINDOW_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.store = _this.manager.session.pointerEvents = [];
      return _this;
    }
    /**
     * @private
     * handle mouse events
     * @param {Object} ev
     */


    var _proto = PointerEventInput.prototype;

    _proto.handler = function handler(ev) {
      var store = this.store;
      var removePointer = false;
      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');
      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];
      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;
      var isTouch = pointerType === INPUT_TYPE_TOUCH; // get index of the event in the store

      var storeIndex = inArray(store, ev.pointerId, 'pointerId'); // start and mouse must be down

      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {
        if (storeIndex < 0) {
          store.push(ev);
          storeIndex = store.length - 1;
        }
      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
        removePointer = true;
      } // it not found, so the pointer hasn't been down (so it's probably a hover)


      if (storeIndex < 0) {
        return;
      } // update the event in the store


      store[storeIndex] = ev;
      this.callback(this.manager, eventType, {
        pointers: store,
        changedPointers: [ev],
        pointerType: pointerType,
        srcEvent: ev
      });

      if (removePointer) {
        // remove from the store
        store.splice(storeIndex, 1);
      }
    };

    return PointerEventInput;
  }(Input);

  /**
   * @private
   * convert array-like objects to real arrays
   * @param {Object} obj
   * @returns {Array}
   */
  function toArray(obj) {
    return Array.prototype.slice.call(obj, 0);
  }

  /**
   * @private
   * unique array with objects based on a key (like 'id') or just by the array's value
   * @param {Array} src [{id:1},{id:2},{id:1}]
   * @param {String} [key]
   * @param {Boolean} [sort=False]
   * @returns {Array} [{id:1},{id:2}]
   */

  function uniqueArray(src, key, sort) {
    var results = [];
    var values = [];
    var i = 0;

    while (i < src.length) {
      var val = key ? src[i][key] : src[i];

      if (inArray(values, val) < 0) {
        results.push(src[i]);
      }

      values[i] = val;
      i++;
    }

    if (sort) {
      if (!key) {
        results = results.sort();
      } else {
        results = results.sort(function (a, b) {
          return a[key] > b[key];
        });
      }
    }

    return results;
  }

  var TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
  };
  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';
  /**
   * @private
   * Multi-user touch events input
   * @constructor
   * @extends Input
   */

  var TouchInput =
  /*#__PURE__*/
  function (_Input) {
    _inheritsLoose(TouchInput, _Input);

    function TouchInput() {
      var _this;

      TouchInput.prototype.evTarget = TOUCH_TARGET_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.targetIds = {}; // this.evTarget = TOUCH_TARGET_EVENTS;

      return _this;
    }

    var _proto = TouchInput.prototype;

    _proto.handler = function handler(ev) {
      var type = TOUCH_INPUT_MAP[ev.type];
      var touches = getTouches.call(this, ev, type);

      if (!touches) {
        return;
      }

      this.callback(this.manager, type, {
        pointers: touches[0],
        changedPointers: touches[1],
        pointerType: INPUT_TYPE_TOUCH,
        srcEvent: ev
      });
    };

    return TouchInput;
  }(Input);

  function getTouches(ev, type) {
    var allTouches = toArray(ev.touches);
    var targetIds = this.targetIds; // when there is only one touch, the process can be simplified

    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {
      targetIds[allTouches[0].identifier] = true;
      return [allTouches, allTouches];
    }

    var i;
    var targetTouches;
    var changedTouches = toArray(ev.changedTouches);
    var changedTargetTouches = [];
    var target = this.target; // get target touches from touches

    targetTouches = allTouches.filter(function (touch) {
      return hasParent(touch.target, target);
    }); // collect touches

    if (type === INPUT_START) {
      i = 0;

      while (i < targetTouches.length) {
        targetIds[targetTouches[i].identifier] = true;
        i++;
      }
    } // filter changed touches to only contain touches that exist in the collected target ids


    i = 0;

    while (i < changedTouches.length) {
      if (targetIds[changedTouches[i].identifier]) {
        changedTargetTouches.push(changedTouches[i]);
      } // cleanup removed touches


      if (type & (INPUT_END | INPUT_CANCEL)) {
        delete targetIds[changedTouches[i].identifier];
      }

      i++;
    }

    if (!changedTargetTouches.length) {
      return;
    }

    return [// merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'
    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];
  }

  var MOUSE_INPUT_MAP = {
    mousedown: INPUT_START,
    mousemove: INPUT_MOVE,
    mouseup: INPUT_END
  };
  var MOUSE_ELEMENT_EVENTS = 'mousedown';
  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';
  /**
   * @private
   * Mouse events input
   * @constructor
   * @extends Input
   */

  var MouseInput =
  /*#__PURE__*/
  function (_Input) {
    _inheritsLoose(MouseInput, _Input);

    function MouseInput() {
      var _this;

      var proto = MouseInput.prototype;
      proto.evEl = MOUSE_ELEMENT_EVENTS;
      proto.evWin = MOUSE_WINDOW_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.pressed = false; // mousedown state

      return _this;
    }
    /**
     * @private
     * handle mouse events
     * @param {Object} ev
     */


    var _proto = MouseInput.prototype;

    _proto.handler = function handler(ev) {
      var eventType = MOUSE_INPUT_MAP[ev.type]; // on start we want to have the left mouse button down

      if (eventType & INPUT_START && ev.button === 0) {
        this.pressed = true;
      }

      if (eventType & INPUT_MOVE && ev.which !== 1) {
        eventType = INPUT_END;
      } // mouse must be down


      if (!this.pressed) {
        return;
      }

      if (eventType & INPUT_END) {
        this.pressed = false;
      }

      this.callback(this.manager, eventType, {
        pointers: [ev],
        changedPointers: [ev],
        pointerType: INPUT_TYPE_MOUSE,
        srcEvent: ev
      });
    };

    return MouseInput;
  }(Input);

  /**
   * @private
   * Combined touch and mouse input
   *
   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.
   * This because touch devices also emit mouse events while doing a touch.
   *
   * @constructor
   * @extends Input
   */

  var DEDUP_TIMEOUT = 2500;
  var DEDUP_DISTANCE = 25;

  function setLastTouch(eventData) {
    var _eventData$changedPoi = eventData.changedPointers,
        touch = _eventData$changedPoi[0];

    if (touch.identifier === this.primaryTouch) {
      var lastTouch = {
        x: touch.clientX,
        y: touch.clientY
      };
      var lts = this.lastTouches;
      this.lastTouches.push(lastTouch);

      var removeLastTouch = function removeLastTouch() {
        var i = lts.indexOf(lastTouch);

        if (i > -1) {
          lts.splice(i, 1);
        }
      };

      setTimeout(removeLastTouch, DEDUP_TIMEOUT);
    }
  }

  function recordTouches(eventType, eventData) {
    if (eventType & INPUT_START) {
      this.primaryTouch = eventData.changedPointers[0].identifier;
      setLastTouch.call(this, eventData);
    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
      setLastTouch.call(this, eventData);
    }
  }

  function isSyntheticEvent(eventData) {
    var x = eventData.srcEvent.clientX;
    var y = eventData.srcEvent.clientY;

    for (var i = 0; i < this.lastTouches.length; i++) {
      var t = this.lastTouches[i];
      var dx = Math.abs(x - t.x);
      var dy = Math.abs(y - t.y);

      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {
        return true;
      }
    }

    return false;
  }

  var TouchMouseInput =
  /*#__PURE__*/
  function () {
    var TouchMouseInput =
    /*#__PURE__*/
    function (_Input) {
      _inheritsLoose(TouchMouseInput, _Input);

      function TouchMouseInput(_manager, callback) {
        var _this;

        _this = _Input.call(this, _manager, callback) || this;

        _this.handler = function (manager, inputEvent, inputData) {
          var isTouch = inputData.pointerType === INPUT_TYPE_TOUCH;
          var isMouse = inputData.pointerType === INPUT_TYPE_MOUSE;

          if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {
            return;
          } // when we're in a touch event, record touches to  de-dupe synthetic mouse event


          if (isTouch) {
            recordTouches.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)), inputEvent, inputData);
          } else if (isMouse && isSyntheticEvent.call(_assertThisInitialized$1(_assertThisInitialized$1(_this)), inputData)) {
            return;
          }

          _this.callback(manager, inputEvent, inputData);
        };

        _this.touch = new TouchInput(_this.manager, _this.handler);
        _this.mouse = new MouseInput(_this.manager, _this.handler);
        _this.primaryTouch = null;
        _this.lastTouches = [];
        return _this;
      }
      /**
       * @private
       * handle mouse and touch events
       * @param {Hammer} manager
       * @param {String} inputEvent
       * @param {Object} inputData
       */


      var _proto = TouchMouseInput.prototype;

      /**
       * @private
       * remove the event listeners
       */
      _proto.destroy = function destroy() {
        this.touch.destroy();
        this.mouse.destroy();
      };

      return TouchMouseInput;
    }(Input);

    return TouchMouseInput;
  }();

  /**
   * @private
   * create new input type manager
   * called by the Manager constructor
   * @param {Hammer} manager
   * @returns {Input}
   */

  function createInputInstance(manager) {
    var Type; // let inputClass = manager.options.inputClass;

    var inputClass = manager.options.inputClass;

    if (inputClass) {
      Type = inputClass;
    } else if (SUPPORT_POINTER_EVENTS) {
      Type = PointerEventInput;
    } else if (SUPPORT_ONLY_TOUCH) {
      Type = TouchInput;
    } else if (!SUPPORT_TOUCH) {
      Type = MouseInput;
    } else {
      Type = TouchMouseInput;
    }

    return new Type(manager, inputHandler);
  }

  /**
   * @private
   * if the argument is an array, we want to execute the fn on each entry
   * if it aint an array we don't want to do a thing.
   * this is used by all the methods that accept a single and array argument.
   * @param {*|Array} arg
   * @param {String} fn
   * @param {Object} [context]
   * @returns {Boolean}
   */

  function invokeArrayArg(arg, fn, context) {
    if (Array.isArray(arg)) {
      each(arg, context[fn], context);
      return true;
    }

    return false;
  }

  var STATE_POSSIBLE = 1;
  var STATE_BEGAN = 2;
  var STATE_CHANGED = 4;
  var STATE_ENDED = 8;
  var STATE_RECOGNIZED = STATE_ENDED;
  var STATE_CANCELLED = 16;
  var STATE_FAILED = 32;

  /**
   * @private
   * get a unique id
   * @returns {number} uniqueId
   */
  var _uniqueId = 1;
  function uniqueId() {
    return _uniqueId++;
  }

  /**
   * @private
   * get a recognizer by name if it is bound to a manager
   * @param {Recognizer|String} otherRecognizer
   * @param {Recognizer} recognizer
   * @returns {Recognizer}
   */
  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {
    var manager = recognizer.manager;

    if (manager) {
      return manager.get(otherRecognizer);
    }

    return otherRecognizer;
  }

  /**
   * @private
   * get a usable string, used as event postfix
   * @param {constant} state
   * @returns {String} state
   */

  function stateStr(state) {
    if (state & STATE_CANCELLED) {
      return 'cancel';
    } else if (state & STATE_ENDED) {
      return 'end';
    } else if (state & STATE_CHANGED) {
      return 'move';
    } else if (state & STATE_BEGAN) {
      return 'start';
    }

    return '';
  }

  /**
   * @private
   * Recognizer flow explained; *
   * All recognizers have the initial state of POSSIBLE when a input session starts.
   * The definition of a input session is from the first input until the last input, with all it's movement in it. *
   * Example session for mouse-input: mousedown -> mousemove -> mouseup
   *
   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed
   * which determines with state it should be.
   *
   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to
   * POSSIBLE to give it another change on the next cycle.
   *
   *               Possible
   *                  |
   *            +-----+---------------+
   *            |                     |
   *      +-----+-----+               |
   *      |           |               |
   *   Failed      Cancelled          |
   *                          +-------+------+
   *                          |              |
   *                      Recognized       Began
   *                                         |
   *                                      Changed
   *                                         |
   *                                  Ended/Recognized
   */

  /**
   * @private
   * Recognizer
   * Every recognizer needs to extend from this class.
   * @constructor
   * @param {Object} options
   */

  var Recognizer =
  /*#__PURE__*/
  function () {
    function Recognizer(options) {
      if (options === void 0) {
        options = {};
      }

      this.options = _extends({
        enable: true
      }, options);
      this.id = uniqueId();
      this.manager = null; // default is enable true

      this.state = STATE_POSSIBLE;
      this.simultaneous = {};
      this.requireFail = [];
    }
    /**
     * @private
     * set options
     * @param {Object} options
     * @return {Recognizer}
     */


    var _proto = Recognizer.prototype;

    _proto.set = function set(options) {
      assign$1(this.options, options); // also update the touchAction, in case something changed about the directions/enabled state

      this.manager && this.manager.touchAction.update();
      return this;
    };
    /**
     * @private
     * recognize simultaneous with an other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.recognizeWith = function recognizeWith(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {
        return this;
      }

      var simultaneous = this.simultaneous;
      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);

      if (!simultaneous[otherRecognizer.id]) {
        simultaneous[otherRecognizer.id] = otherRecognizer;
        otherRecognizer.recognizeWith(this);
      }

      return this;
    };
    /**
     * @private
     * drop the simultaneous link. it doesnt remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.dropRecognizeWith = function dropRecognizeWith(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {
        return this;
      }

      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
      delete this.simultaneous[otherRecognizer.id];
      return this;
    };
    /**
     * @private
     * recognizer can only run when an other is failing
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.requireFailure = function requireFailure(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {
        return this;
      }

      var requireFail = this.requireFail;
      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);

      if (inArray(requireFail, otherRecognizer) === -1) {
        requireFail.push(otherRecognizer);
        otherRecognizer.requireFailure(this);
      }

      return this;
    };
    /**
     * @private
     * drop the requireFailure link. it does not remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */


    _proto.dropRequireFailure = function dropRequireFailure(otherRecognizer) {
      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {
        return this;
      }

      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
      var index = inArray(this.requireFail, otherRecognizer);

      if (index > -1) {
        this.requireFail.splice(index, 1);
      }

      return this;
    };
    /**
     * @private
     * has require failures boolean
     * @returns {boolean}
     */


    _proto.hasRequireFailures = function hasRequireFailures() {
      return this.requireFail.length > 0;
    };
    /**
     * @private
     * if the recognizer can recognize simultaneous with an other recognizer
     * @param {Recognizer} otherRecognizer
     * @returns {Boolean}
     */


    _proto.canRecognizeWith = function canRecognizeWith(otherRecognizer) {
      return !!this.simultaneous[otherRecognizer.id];
    };
    /**
     * @private
     * You should use `tryEmit` instead of `emit` directly to check
     * that all the needed recognizers has failed before emitting.
     * @param {Object} input
     */


    _proto.emit = function emit(input) {
      var self = this;
      var state = this.state;

      function emit(event) {
        self.manager.emit(event, input);
      } // 'panstart' and 'panmove'


      if (state < STATE_ENDED) {
        emit(self.options.event + stateStr(state));
      }

      emit(self.options.event); // simple 'eventName' events

      if (input.additionalEvent) {
        // additional event(panleft, panright, pinchin, pinchout...)
        emit(input.additionalEvent);
      } // panend and pancancel


      if (state >= STATE_ENDED) {
        emit(self.options.event + stateStr(state));
      }
    };
    /**
     * @private
     * Check that all the require failure recognizers has failed,
     * if true, it emits a gesture event,
     * otherwise, setup the state to FAILED.
     * @param {Object} input
     */


    _proto.tryEmit = function tryEmit(input) {
      if (this.canEmit()) {
        return this.emit(input);
      } // it's failing anyway


      this.state = STATE_FAILED;
    };
    /**
     * @private
     * can we emit?
     * @returns {boolean}
     */


    _proto.canEmit = function canEmit() {
      var i = 0;

      while (i < this.requireFail.length) {
        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {
          return false;
        }

        i++;
      }

      return true;
    };
    /**
     * @private
     * update the recognizer
     * @param {Object} inputData
     */


    _proto.recognize = function recognize(inputData) {
      // make a new copy of the inputData
      // so we can change the inputData without messing up the other recognizers
      var inputDataClone = assign$1({}, inputData); // is is enabled and allow recognizing?

      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {
        this.reset();
        this.state = STATE_FAILED;
        return;
      } // reset when we've reached the end


      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {
        this.state = STATE_POSSIBLE;
      }

      this.state = this.process(inputDataClone); // the recognizer has recognized a gesture
      // so trigger an event

      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {
        this.tryEmit(inputDataClone);
      }
    };
    /**
     * @private
     * return the state of the recognizer
     * the actual recognizing happens in this method
     * @virtual
     * @param {Object} inputData
     * @returns {constant} STATE
     */

    /* jshint ignore:start */


    _proto.process = function process(inputData) {};
    /* jshint ignore:end */

    /**
     * @private
     * return the preferred touch-action
     * @virtual
     * @returns {Array}
     */


    _proto.getTouchAction = function getTouchAction() {};
    /**
     * @private
     * called when the gesture isn't allowed to recognize
     * like when another is being recognized or it is disabled
     * @virtual
     */


    _proto.reset = function reset() {};

    return Recognizer;
  }();

  /**
   * @private
   * A tap is recognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur
   * between the given interval and position. The delay option can be used to recognize multi-taps without firing
   * a single tap.
   *
   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of
   * multi-taps being recognized.
   * @constructor
   * @extends Recognizer
   */

  var TapRecognizer =
  /*#__PURE__*/
  function (_Recognizer) {
    _inheritsLoose(TapRecognizer, _Recognizer);

    function TapRecognizer(options) {
      var _this;

      if (options === void 0) {
        options = {};
      }

      _this = _Recognizer.call(this, _extends({
        event: 'tap',
        pointers: 1,
        taps: 1,
        interval: 300,
        // max time between the multi-tap taps
        time: 250,
        // max time of the pointer to be down (like finger on the screen)
        threshold: 9,
        // a minimal movement is ok, but keep it low
        posThreshold: 10
      }, options)) || this; // previous time and center,
      // used for tap counting

      _this.pTime = false;
      _this.pCenter = false;
      _this._timer = null;
      _this._input = null;
      _this.count = 0;
      return _this;
    }

    var _proto = TapRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_MANIPULATION];
    };

    _proto.process = function process(input) {
      var _this2 = this;

      var options = this.options;
      var validPointers = input.pointers.length === options.pointers;
      var validMovement = input.distance < options.threshold;
      var validTouchTime = input.deltaTime < options.time;
      this.reset();

      if (input.eventType & INPUT_START && this.count === 0) {
        return this.failTimeout();
      } // we only allow little movement
      // and we've reached an end event, so a tap is possible


      if (validMovement && validTouchTime && validPointers) {
        if (input.eventType !== INPUT_END) {
          return this.failTimeout();
        }

        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;
        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;
        this.pTime = input.timeStamp;
        this.pCenter = input.center;

        if (!validMultiTap || !validInterval) {
          this.count = 1;
        } else {
          this.count += 1;
        }

        this._input = input; // if tap count matches we have recognized it,
        // else it has began recognizing...

        var tapCount = this.count % options.taps;

        if (tapCount === 0) {
          // no failing requirements, immediately trigger the tap event
          // or wait as long as the multitap interval to trigger
          if (!this.hasRequireFailures()) {
            return STATE_RECOGNIZED;
          } else {
            this._timer = setTimeout(function () {
              _this2.state = STATE_RECOGNIZED;

              _this2.tryEmit();
            }, options.interval);
            return STATE_BEGAN;
          }
        }
      }

      return STATE_FAILED;
    };

    _proto.failTimeout = function failTimeout() {
      var _this3 = this;

      this._timer = setTimeout(function () {
        _this3.state = STATE_FAILED;
      }, this.options.interval);
      return STATE_FAILED;
    };

    _proto.reset = function reset() {
      clearTimeout(this._timer);
    };

    _proto.emit = function emit() {
      if (this.state === STATE_RECOGNIZED) {
        this._input.tapCount = this.count;
        this.manager.emit(this.options.event, this._input);
      }
    };

    return TapRecognizer;
  }(Recognizer);

  /**
   * @private
   * This recognizer is just used as a base for the simple attribute recognizers.
   * @constructor
   * @extends Recognizer
   */

  var AttrRecognizer =
  /*#__PURE__*/
  function (_Recognizer) {
    _inheritsLoose(AttrRecognizer, _Recognizer);

    function AttrRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _Recognizer.call(this, _extends({
        pointers: 1
      }, options)) || this;
    }
    /**
     * @private
     * Used to check if it the recognizer receives valid input, like input.distance > 10.
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {Boolean} recognized
     */


    var _proto = AttrRecognizer.prototype;

    _proto.attrTest = function attrTest(input) {
      var optionPointers = this.options.pointers;
      return optionPointers === 0 || input.pointers.length === optionPointers;
    };
    /**
     * @private
     * Process the input and return the state for the recognizer
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {*} State
     */


    _proto.process = function process(input) {
      var state = this.state;
      var eventType = input.eventType;
      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);
      var isValid = this.attrTest(input); // on cancel input and we've recognized before, return STATE_CANCELLED

      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {
        return state | STATE_CANCELLED;
      } else if (isRecognized || isValid) {
        if (eventType & INPUT_END) {
          return state | STATE_ENDED;
        } else if (!(state & STATE_BEGAN)) {
          return STATE_BEGAN;
        }

        return state | STATE_CHANGED;
      }

      return STATE_FAILED;
    };

    return AttrRecognizer;
  }(Recognizer);

  /**
   * @private
   * direction cons to string
   * @param {constant} direction
   * @returns {String}
   */

  function directionStr(direction) {
    if (direction === DIRECTION_DOWN) {
      return 'down';
    } else if (direction === DIRECTION_UP) {
      return 'up';
    } else if (direction === DIRECTION_LEFT) {
      return 'left';
    } else if (direction === DIRECTION_RIGHT) {
      return 'right';
    }

    return '';
  }

  /**
   * @private
   * Pan
   * Recognized when the pointer is down and moved in the allowed direction.
   * @constructor
   * @extends AttrRecognizer
   */

  var PanRecognizer =
  /*#__PURE__*/
  function (_AttrRecognizer) {
    _inheritsLoose(PanRecognizer, _AttrRecognizer);

    function PanRecognizer(options) {
      var _this;

      if (options === void 0) {
        options = {};
      }

      _this = _AttrRecognizer.call(this, _extends({
        event: 'pan',
        threshold: 10,
        pointers: 1,
        direction: DIRECTION_ALL
      }, options)) || this;
      _this.pX = null;
      _this.pY = null;
      return _this;
    }

    var _proto = PanRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      var direction = this.options.direction;
      var actions = [];

      if (direction & DIRECTION_HORIZONTAL) {
        actions.push(TOUCH_ACTION_PAN_Y);
      }

      if (direction & DIRECTION_VERTICAL) {
        actions.push(TOUCH_ACTION_PAN_X);
      }

      return actions;
    };

    _proto.directionTest = function directionTest(input) {
      var options = this.options;
      var hasMoved = true;
      var distance = input.distance;
      var direction = input.direction;
      var x = input.deltaX;
      var y = input.deltaY; // lock to axis?

      if (!(direction & options.direction)) {
        if (options.direction & DIRECTION_HORIZONTAL) {
          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;
          hasMoved = x !== this.pX;
          distance = Math.abs(input.deltaX);
        } else {
          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;
          hasMoved = y !== this.pY;
          distance = Math.abs(input.deltaY);
        }
      }

      input.direction = direction;
      return hasMoved && distance > options.threshold && direction & options.direction;
    };

    _proto.attrTest = function attrTest(input) {
      return AttrRecognizer.prototype.attrTest.call(this, input) && ( // replace with a super call
      this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));
    };

    _proto.emit = function emit(input) {
      this.pX = input.deltaX;
      this.pY = input.deltaY;
      var direction = directionStr(input.direction);

      if (direction) {
        input.additionalEvent = this.options.event + direction;
      }

      _AttrRecognizer.prototype.emit.call(this, input);
    };

    return PanRecognizer;
  }(AttrRecognizer);

  /**
   * @private
   * Swipe
   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.
   * @constructor
   * @extends AttrRecognizer
   */

  var SwipeRecognizer =
  /*#__PURE__*/
  function (_AttrRecognizer) {
    _inheritsLoose(SwipeRecognizer, _AttrRecognizer);

    function SwipeRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _AttrRecognizer.call(this, _extends({
        event: 'swipe',
        threshold: 10,
        velocity: 0.3,
        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,
        pointers: 1
      }, options)) || this;
    }

    var _proto = SwipeRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return PanRecognizer.prototype.getTouchAction.call(this);
    };

    _proto.attrTest = function attrTest(input) {
      var direction = this.options.direction;
      var velocity;

      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {
        velocity = input.overallVelocity;
      } else if (direction & DIRECTION_HORIZONTAL) {
        velocity = input.overallVelocityX;
      } else if (direction & DIRECTION_VERTICAL) {
        velocity = input.overallVelocityY;
      }

      return _AttrRecognizer.prototype.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers === this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;
    };

    _proto.emit = function emit(input) {
      var direction = directionStr(input.offsetDirection);

      if (direction) {
        this.manager.emit(this.options.event + direction, input);
      }

      this.manager.emit(this.options.event, input);
    };

    return SwipeRecognizer;
  }(AttrRecognizer);

  /**
   * @private
   * Pinch
   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).
   * @constructor
   * @extends AttrRecognizer
   */

  var PinchRecognizer =
  /*#__PURE__*/
  function (_AttrRecognizer) {
    _inheritsLoose(PinchRecognizer, _AttrRecognizer);

    function PinchRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _AttrRecognizer.call(this, _extends({
        event: 'pinch',
        threshold: 0,
        pointers: 2
      }, options)) || this;
    }

    var _proto = PinchRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_NONE];
    };

    _proto.attrTest = function attrTest(input) {
      return _AttrRecognizer.prototype.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);
    };

    _proto.emit = function emit(input) {
      if (input.scale !== 1) {
        var inOut = input.scale < 1 ? 'in' : 'out';
        input.additionalEvent = this.options.event + inOut;
      }

      _AttrRecognizer.prototype.emit.call(this, input);
    };

    return PinchRecognizer;
  }(AttrRecognizer);

  /**
   * @private
   * Rotate
   * Recognized when two or more pointer are moving in a circular motion.
   * @constructor
   * @extends AttrRecognizer
   */

  var RotateRecognizer =
  /*#__PURE__*/
  function (_AttrRecognizer) {
    _inheritsLoose(RotateRecognizer, _AttrRecognizer);

    function RotateRecognizer(options) {
      if (options === void 0) {
        options = {};
      }

      return _AttrRecognizer.call(this, _extends({
        event: 'rotate',
        threshold: 0,
        pointers: 2
      }, options)) || this;
    }

    var _proto = RotateRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_NONE];
    };

    _proto.attrTest = function attrTest(input) {
      return _AttrRecognizer.prototype.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);
    };

    return RotateRecognizer;
  }(AttrRecognizer);

  /**
   * @private
   * Press
   * Recognized when the pointer is down for x ms without any movement.
   * @constructor
   * @extends Recognizer
   */

  var PressRecognizer =
  /*#__PURE__*/
  function (_Recognizer) {
    _inheritsLoose(PressRecognizer, _Recognizer);

    function PressRecognizer(options) {
      var _this;

      if (options === void 0) {
        options = {};
      }

      _this = _Recognizer.call(this, _extends({
        event: 'press',
        pointers: 1,
        time: 251,
        // minimal time of the pointer to be pressed
        threshold: 9
      }, options)) || this;
      _this._timer = null;
      _this._input = null;
      return _this;
    }

    var _proto = PressRecognizer.prototype;

    _proto.getTouchAction = function getTouchAction() {
      return [TOUCH_ACTION_AUTO];
    };

    _proto.process = function process(input) {
      var _this2 = this;

      var options = this.options;
      var validPointers = input.pointers.length === options.pointers;
      var validMovement = input.distance < options.threshold;
      var validTime = input.deltaTime > options.time;
      this._input = input; // we only allow little movement
      // and we've reached an end event, so a tap is possible

      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {
        this.reset();
      } else if (input.eventType & INPUT_START) {
        this.reset();
        this._timer = setTimeout(function () {
          _this2.state = STATE_RECOGNIZED;

          _this2.tryEmit();
        }, options.time);
      } else if (input.eventType & INPUT_END) {
        return STATE_RECOGNIZED;
      }

      return STATE_FAILED;
    };

    _proto.reset = function reset() {
      clearTimeout(this._timer);
    };

    _proto.emit = function emit(input) {
      if (this.state !== STATE_RECOGNIZED) {
        return;
      }

      if (input && input.eventType & INPUT_END) {
        this.manager.emit(this.options.event + "up", input);
      } else {
        this._input.timeStamp = now();
        this.manager.emit(this.options.event, this._input);
      }
    };

    return PressRecognizer;
  }(Recognizer);

  var defaults = {
    /**
     * @private
     * set if DOM events are being triggered.
     * But this is slower and unused by simple implementations, so disabled by default.
     * @type {Boolean}
     * @default false
     */
    domEvents: false,

    /**
     * @private
     * The value for the touchAction property/fallback.
     * When set to `compute` it will magically set the correct value based on the added recognizers.
     * @type {String}
     * @default compute
     */
    touchAction: TOUCH_ACTION_COMPUTE,

    /**
     * @private
     * @type {Boolean}
     * @default true
     */
    enable: true,

    /**
     * @private
     * EXPERIMENTAL FEATURE -- can be removed/changed
     * Change the parent input target element.
     * If Null, then it is being set the to main element.
     * @type {Null|EventTarget}
     * @default null
     */
    inputTarget: null,

    /**
     * @private
     * force an input class
     * @type {Null|Function}
     * @default null
     */
    inputClass: null,

    /**
     * @private
     * Some CSS properties can be used to improve the working of Hammer.
     * Add them to this method and they will be set when creating a new Manager.
     * @namespace
     */
    cssProps: {
      /**
       * @private
       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.
       * @type {String}
       * @default 'none'
       */
      userSelect: "none",

      /**
       * @private
       * Disable the Windows Phone grippers when pressing an element.
       * @type {String}
       * @default 'none'
       */
      touchSelect: "none",

      /**
       * @private
       * Disables the default callout shown when you touch and hold a touch target.
       * On iOS, when you touch and hold a touch target such as a link, Safari displays
       * a callout containing information about the link. This property allows you to disable that callout.
       * @type {String}
       * @default 'none'
       */
      touchCallout: "none",

      /**
       * @private
       * Specifies whether zooming is enabled. Used by IE10>
       * @type {String}
       * @default 'none'
       */
      contentZooming: "none",

      /**
       * @private
       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.
       * @type {String}
       * @default 'none'
       */
      userDrag: "none",

      /**
       * @private
       * Overrides the highlight color shown when the user taps a link or a JavaScript
       * clickable element in iOS. This property obeys the alpha value, if specified.
       * @type {String}
       * @default 'rgba(0,0,0,0)'
       */
      tapHighlightColor: "rgba(0,0,0,0)"
    }
  };
  /**
   * @private
   * Default recognizer setup when calling `Hammer()`
   * When creating a new Manager these will be skipped.
   * This is separated with other defaults because of tree-shaking.
   * @type {Array}
   */

  var preset = [[RotateRecognizer, {
    enable: false
  }], [PinchRecognizer, {
    enable: false
  }, ['rotate']], [SwipeRecognizer, {
    direction: DIRECTION_HORIZONTAL
  }], [PanRecognizer, {
    direction: DIRECTION_HORIZONTAL
  }, ['swipe']], [TapRecognizer], [TapRecognizer, {
    event: 'doubletap',
    taps: 2
  }, ['tap']], [PressRecognizer]];

  var STOP = 1;
  var FORCED_STOP = 2;
  /**
   * @private
   * add/remove the css properties as defined in manager.options.cssProps
   * @param {Manager} manager
   * @param {Boolean} add
   */

  function toggleCssProps(manager, add) {
    var element = manager.element;

    if (!element.style) {
      return;
    }

    var prop;
    each(manager.options.cssProps, function (value, name) {
      prop = prefixed(element.style, name);

      if (add) {
        manager.oldCssProps[prop] = element.style[prop];
        element.style[prop] = value;
      } else {
        element.style[prop] = manager.oldCssProps[prop] || "";
      }
    });

    if (!add) {
      manager.oldCssProps = {};
    }
  }
  /**
   * @private
   * trigger dom event
   * @param {String} event
   * @param {Object} data
   */


  function triggerDomEvent(event, data) {
    var gestureEvent = document.createEvent("Event");
    gestureEvent.initEvent(event, true, true);
    gestureEvent.gesture = data;
    data.target.dispatchEvent(gestureEvent);
  }
  /**
  * @private
   * Manager
   * @param {HTMLElement} element
   * @param {Object} [options]
   * @constructor
   */


  var Manager =
  /*#__PURE__*/
  function () {
    function Manager(element, options) {
      var _this = this;

      this.options = assign$1({}, defaults, options || {});
      this.options.inputTarget = this.options.inputTarget || element;
      this.handlers = {};
      this.session = {};
      this.recognizers = [];
      this.oldCssProps = {};
      this.element = element;
      this.input = createInputInstance(this);
      this.touchAction = new TouchAction(this, this.options.touchAction);
      toggleCssProps(this, true);
      each(this.options.recognizers, function (item) {
        var recognizer = _this.add(new item[0](item[1]));

        item[2] && recognizer.recognizeWith(item[2]);
        item[3] && recognizer.requireFailure(item[3]);
      }, this);
    }
    /**
     * @private
     * set options
     * @param {Object} options
     * @returns {Manager}
     */


    var _proto = Manager.prototype;

    _proto.set = function set(options) {
      assign$1(this.options, options); // Options that need a little more setup

      if (options.touchAction) {
        this.touchAction.update();
      }

      if (options.inputTarget) {
        // Clean up existing event listeners and reinitialize
        this.input.destroy();
        this.input.target = options.inputTarget;
        this.input.init();
      }

      return this;
    };
    /**
     * @private
     * stop recognizing for this session.
     * This session will be discarded, when a new [input]start event is fired.
     * When forced, the recognizer cycle is stopped immediately.
     * @param {Boolean} [force]
     */


    _proto.stop = function stop(force) {
      this.session.stopped = force ? FORCED_STOP : STOP;
    };
    /**
     * @private
     * run the recognizers!
     * called by the inputHandler function on every movement of the pointers (touches)
     * it walks through all the recognizers and tries to detect the gesture that is being made
     * @param {Object} inputData
     */


    _proto.recognize = function recognize(inputData) {
      var session = this.session;

      if (session.stopped) {
        return;
      } // run the touch-action polyfill


      this.touchAction.preventDefaults(inputData);
      var recognizer;
      var recognizers = this.recognizers; // this holds the recognizer that is being recognized.
      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED
      // if no recognizer is detecting a thing, it is set to `null`

      var curRecognizer = session.curRecognizer; // reset when the last recognizer is recognized
      // or when we're in a new session

      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {
        session.curRecognizer = null;
        curRecognizer = null;
      }

      var i = 0;

      while (i < recognizers.length) {
        recognizer = recognizers[i]; // find out if we are allowed try to recognize the input for this one.
        // 1.   allow if the session is NOT forced stopped (see the .stop() method)
        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one
        //      that is being recognized.
        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.
        //      this can be setup with the `recognizeWith()` method on the recognizer.

        if (session.stopped !== FORCED_STOP && ( // 1
        !curRecognizer || recognizer === curRecognizer || // 2
        recognizer.canRecognizeWith(curRecognizer))) {
          // 3
          recognizer.recognize(inputData);
        } else {
          recognizer.reset();
        } // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the
        // current active recognizer. but only if we don't already have an active recognizer


        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {
          session.curRecognizer = recognizer;
          curRecognizer = recognizer;
        }

        i++;
      }
    };
    /**
     * @private
     * get a recognizer by its event name.
     * @param {Recognizer|String} recognizer
     * @returns {Recognizer|Null}
     */


    _proto.get = function get(recognizer) {
      if (recognizer instanceof Recognizer) {
        return recognizer;
      }

      var recognizers = this.recognizers;

      for (var i = 0; i < recognizers.length; i++) {
        if (recognizers[i].options.event === recognizer) {
          return recognizers[i];
        }
      }

      return null;
    };
    /**
     * @private add a recognizer to the manager
     * existing recognizers with the same event name will be removed
     * @param {Recognizer} recognizer
     * @returns {Recognizer|Manager}
     */


    _proto.add = function add(recognizer) {
      if (invokeArrayArg(recognizer, "add", this)) {
        return this;
      } // remove existing


      var existing = this.get(recognizer.options.event);

      if (existing) {
        this.remove(existing);
      }

      this.recognizers.push(recognizer);
      recognizer.manager = this;
      this.touchAction.update();
      return recognizer;
    };
    /**
     * @private
     * remove a recognizer by name or instance
     * @param {Recognizer|String} recognizer
     * @returns {Manager}
     */


    _proto.remove = function remove(recognizer) {
      if (invokeArrayArg(recognizer, "remove", this)) {
        return this;
      }

      var targetRecognizer = this.get(recognizer); // let's make sure this recognizer exists

      if (recognizer) {
        var recognizers = this.recognizers;
        var index = inArray(recognizers, targetRecognizer);

        if (index !== -1) {
          recognizers.splice(index, 1);
          this.touchAction.update();
        }
      }

      return this;
    };
    /**
     * @private
     * bind event
     * @param {String} events
     * @param {Function} handler
     * @returns {EventEmitter} this
     */


    _proto.on = function on(events, handler) {
      if (events === undefined || handler === undefined) {
        return this;
      }

      var handlers = this.handlers;
      each(splitStr(events), function (event) {
        handlers[event] = handlers[event] || [];
        handlers[event].push(handler);
      });
      return this;
    };
    /**
     * @private unbind event, leave emit blank to remove all handlers
     * @param {String} events
     * @param {Function} [handler]
     * @returns {EventEmitter} this
     */


    _proto.off = function off(events, handler) {
      if (events === undefined) {
        return this;
      }

      var handlers = this.handlers;
      each(splitStr(events), function (event) {
        if (!handler) {
          delete handlers[event];
        } else {
          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);
        }
      });
      return this;
    };
    /**
     * @private emit event to the listeners
     * @param {String} event
     * @param {Object} data
     */


    _proto.emit = function emit(event, data) {
      // we also want to trigger dom events
      if (this.options.domEvents) {
        triggerDomEvent(event, data);
      } // no handlers, so skip it all


      var handlers = this.handlers[event] && this.handlers[event].slice();

      if (!handlers || !handlers.length) {
        return;
      }

      data.type = event;

      data.preventDefault = function () {
        data.srcEvent.preventDefault();
      };

      var i = 0;

      while (i < handlers.length) {
        handlers[i](data);
        i++;
      }
    };
    /**
     * @private
     * destroy the manager and unbinds all events
     * it doesn't unbind dom events, that is the user own responsibility
     */


    _proto.destroy = function destroy() {
      this.element && toggleCssProps(this, false);
      this.handlers = {};
      this.session = {};
      this.input.destroy();
      this.element = null;
    };

    return Manager;
  }();

  var SINGLE_TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
  };
  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';
  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';
  /**
   * @private
   * Touch events input
   * @constructor
   * @extends Input
   */

  var SingleTouchInput =
  /*#__PURE__*/
  function (_Input) {
    _inheritsLoose(SingleTouchInput, _Input);

    function SingleTouchInput() {
      var _this;

      var proto = SingleTouchInput.prototype;
      proto.evTarget = SINGLE_TOUCH_TARGET_EVENTS;
      proto.evWin = SINGLE_TOUCH_WINDOW_EVENTS;
      _this = _Input.apply(this, arguments) || this;
      _this.started = false;
      return _this;
    }

    var _proto = SingleTouchInput.prototype;

    _proto.handler = function handler(ev) {
      var type = SINGLE_TOUCH_INPUT_MAP[ev.type]; // should we handle the touch events?

      if (type === INPUT_START) {
        this.started = true;
      }

      if (!this.started) {
        return;
      }

      var touches = normalizeSingleTouches.call(this, ev, type); // when done, reset the started state

      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {
        this.started = false;
      }

      this.callback(this.manager, type, {
        pointers: touches[0],
        changedPointers: touches[1],
        pointerType: INPUT_TYPE_TOUCH,
        srcEvent: ev
      });
    };

    return SingleTouchInput;
  }(Input);

  function normalizeSingleTouches(ev, type) {
    var all = toArray(ev.touches);
    var changed = toArray(ev.changedTouches);

    if (type & (INPUT_END | INPUT_CANCEL)) {
      all = uniqueArray(all.concat(changed), 'identifier', true);
    }

    return [all, changed];
  }

  /**
   * @private
   * wrap a method with a deprecation warning and stack trace
   * @param {Function} method
   * @param {String} name
   * @param {String} message
   * @returns {Function} A new function wrapping the supplied method.
   */
  function deprecate(method, name, message) {
    var deprecationMessage = "DEPRECATED METHOD: " + name + "\n" + message + " AT \n";
    return function () {
      var e = new Error('get-stack-trace');
      var stack = e && e.stack ? e.stack.replace(/^[^\(]+?[\n$]/gm, '').replace(/^\s+at\s+/gm, '').replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';
      var log = window.console && (window.console.warn || window.console.log);

      if (log) {
        log.call(window.console, deprecationMessage, stack);
      }

      return method.apply(this, arguments);
    };
  }

  /**
   * @private
   * extend object.
   * means that properties in dest will be overwritten by the ones in src.
   * @param {Object} dest
   * @param {Object} src
   * @param {Boolean} [merge=false]
   * @returns {Object} dest
   */

  var extend = deprecate(function (dest, src, merge) {
    var keys = Object.keys(src);
    var i = 0;

    while (i < keys.length) {
      if (!merge || merge && dest[keys[i]] === undefined) {
        dest[keys[i]] = src[keys[i]];
      }

      i++;
    }

    return dest;
  }, 'extend', 'Use `assign`.');

  /**
   * @private
   * merge the values from src in the dest.
   * means that properties that exist in dest will not be overwritten by src
   * @param {Object} dest
   * @param {Object} src
   * @returns {Object} dest
   */

  var merge$1 = deprecate(function (dest, src) {
    return extend(dest, src, true);
  }, 'merge', 'Use `assign`.');

  /**
   * @private
   * simple class inheritance
   * @param {Function} child
   * @param {Function} base
   * @param {Object} [properties]
   */

  function inherit(child, base, properties) {
    var baseP = base.prototype;
    var childP;
    childP = child.prototype = Object.create(baseP);
    childP.constructor = child;
    childP._super = baseP;

    if (properties) {
      assign$1(childP, properties);
    }
  }

  /**
   * @private
   * simple function bind
   * @param {Function} fn
   * @param {Object} context
   * @returns {Function}
   */
  function bindFn(fn, context) {
    return function boundFn() {
      return fn.apply(context, arguments);
    };
  }

  /**
   * @private
   * Simple way to create a manager with a default set of recognizers.
   * @param {HTMLElement} element
   * @param {Object} [options]
   * @constructor
   */

  var Hammer =
  /*#__PURE__*/
  function () {
    var Hammer =
    /**
      * @private
      * @const {string}
      */
    function Hammer(element, options) {
      if (options === void 0) {
        options = {};
      }

      return new Manager(element, _extends({
        recognizers: preset.concat()
      }, options));
    };

    Hammer.VERSION = "2.0.17-rc";
    Hammer.DIRECTION_ALL = DIRECTION_ALL;
    Hammer.DIRECTION_DOWN = DIRECTION_DOWN;
    Hammer.DIRECTION_LEFT = DIRECTION_LEFT;
    Hammer.DIRECTION_RIGHT = DIRECTION_RIGHT;
    Hammer.DIRECTION_UP = DIRECTION_UP;
    Hammer.DIRECTION_HORIZONTAL = DIRECTION_HORIZONTAL;
    Hammer.DIRECTION_VERTICAL = DIRECTION_VERTICAL;
    Hammer.DIRECTION_NONE = DIRECTION_NONE;
    Hammer.DIRECTION_DOWN = DIRECTION_DOWN;
    Hammer.INPUT_START = INPUT_START;
    Hammer.INPUT_MOVE = INPUT_MOVE;
    Hammer.INPUT_END = INPUT_END;
    Hammer.INPUT_CANCEL = INPUT_CANCEL;
    Hammer.STATE_POSSIBLE = STATE_POSSIBLE;
    Hammer.STATE_BEGAN = STATE_BEGAN;
    Hammer.STATE_CHANGED = STATE_CHANGED;
    Hammer.STATE_ENDED = STATE_ENDED;
    Hammer.STATE_RECOGNIZED = STATE_RECOGNIZED;
    Hammer.STATE_CANCELLED = STATE_CANCELLED;
    Hammer.STATE_FAILED = STATE_FAILED;
    Hammer.Manager = Manager;
    Hammer.Input = Input;
    Hammer.TouchAction = TouchAction;
    Hammer.TouchInput = TouchInput;
    Hammer.MouseInput = MouseInput;
    Hammer.PointerEventInput = PointerEventInput;
    Hammer.TouchMouseInput = TouchMouseInput;
    Hammer.SingleTouchInput = SingleTouchInput;
    Hammer.Recognizer = Recognizer;
    Hammer.AttrRecognizer = AttrRecognizer;
    Hammer.Tap = TapRecognizer;
    Hammer.Pan = PanRecognizer;
    Hammer.Swipe = SwipeRecognizer;
    Hammer.Pinch = PinchRecognizer;
    Hammer.Rotate = RotateRecognizer;
    Hammer.Press = PressRecognizer;
    Hammer.on = addEventListeners;
    Hammer.off = removeEventListeners;
    Hammer.each = each;
    Hammer.merge = merge$1;
    Hammer.extend = extend;
    Hammer.bindFn = bindFn;
    Hammer.assign = assign$1;
    Hammer.inherit = inherit;
    Hammer.bindFn = bindFn;
    Hammer.prefixed = prefixed;
    Hammer.toArray = toArray;
    Hammer.inArray = inArray;
    Hammer.uniqueArray = uniqueArray;
    Hammer.splitStr = splitStr;
    Hammer.boolOrFn = boolOrFn;
    Hammer.hasParent = hasParent;
    Hammer.addEventListeners = addEventListeners;
    Hammer.removeEventListeners = removeEventListeners;
    Hammer.defaults = assign$1({}, defaults, {
      preset: preset
    });
    return Hammer;
  }();

  var RealHammer = Hammer;

  function _createForOfIteratorHelper$3(o, allowArrayLike) { var it = typeof _Symbol !== "undefined" && _getIteratorMethod(o) || o["@@iterator"]; if (!it) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray$3(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
  function _unsupportedIterableToArray$3(o, minLen) { var _context15; if (!o) return; if (typeof o === "string") return _arrayLikeToArray$3(o, minLen); var n = _sliceInstanceProperty(_context15 = Object.prototype.toString.call(o)).call(_context15, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from$1(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$3(o, minLen); }
  function _arrayLikeToArray$3(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }

  /**
   * Use this symbol to delete properies in deepObjectAssign.
   */
  var DELETE = _Symbol("DELETE");
  /**
   * Pure version of deepObjectAssign, it doesn't modify any of it's arguments.
   *
   * @param base - The base object that fullfils the whole interface T.
   * @param updates - Updates that may change or delete props.
   * @returns A brand new instance with all the supplied objects deeply merged.
   */
  function pureDeepObjectAssign(base) {
    var _context;
    for (var _len = arguments.length, updates = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      updates[_key - 1] = arguments[_key];
    }
    return deepObjectAssign.apply(void 0, _concatInstanceProperty(_context = [{}, base]).call(_context, updates));
  }
  /**
   * Deep version of object assign with additional deleting by the DELETE symbol.
   *
   * @param values - Objects to be deeply merged.
   * @returns The first object from values.
   */
  function deepObjectAssign() {
    var merged = deepObjectAssignNonentry.apply(void 0, arguments);
    stripDelete(merged);
    return merged;
  }
  /**
   * Deep version of object assign with additional deleting by the DELETE symbol.
   *
   * @remarks
   * This doesn't strip the DELETE symbols so they may end up in the final object.
   * @param values - Objects to be deeply merged.
   * @returns The first object from values.
   */
  function deepObjectAssignNonentry() {
    for (var _len2 = arguments.length, values = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      values[_key2] = arguments[_key2];
    }
    if (values.length < 2) {
      return values[0];
    } else if (values.length > 2) {
      var _context2;
      return deepObjectAssignNonentry.apply(void 0, _concatInstanceProperty(_context2 = [deepObjectAssign(values[0], values[1])]).call(_context2, _toConsumableArray(_sliceInstanceProperty(values).call(values, 2))));
    }
    var a = values[0];
    var b = values[1];
    if (a instanceof Date && b instanceof Date) {
      a.setTime(b.getTime());
      return a;
    }
    var _iterator = _createForOfIteratorHelper$3(_Reflect$ownKeys(b)),
      _step;
    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var prop = _step.value;
        if (!Object.prototype.propertyIsEnumerable.call(b, prop)) ;else if (b[prop] === DELETE) {
          delete a[prop];
        } else if (a[prop] !== null && b[prop] !== null && typeof a[prop] === "object" && typeof b[prop] === "object" && !_Array$isArray(a[prop]) && !_Array$isArray(b[prop])) {
          a[prop] = deepObjectAssignNonentry(a[prop], b[prop]);
        } else {
          a[prop] = clone(b[prop]);
        }
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }
    return a;
  }
  /**
   * Deep clone given object or array. In case of primitive simply return.
   *
   * @param a - Anything.
   * @returns Deep cloned object/array or unchanged a.
   */
  function clone(a) {
    if (_Array$isArray(a)) {
      return _mapInstanceProperty(a).call(a, function (value) {
        return clone(value);
      });
    } else if (typeof a === "object" && a !== null) {
      if (a instanceof Date) {
        return new Date(a.getTime());
      }
      return deepObjectAssignNonentry({}, a);
    } else {
      return a;
    }
  }
  /**
   * Strip DELETE from given object.
   *
   * @param a - Object which may contain DELETE but won't after this is executed.
   */
  function stripDelete(a) {
    for (var _i = 0, _Object$keys$1 = _Object$keys(a); _i < _Object$keys$1.length; _i++) {
      var prop = _Object$keys$1[_i];
      if (a[prop] === DELETE) {
        delete a[prop];
      } else if (typeof a[prop] === "object" && a[prop] !== null) {
        stripDelete(a[prop]);
      }
    }
  }

  /**
   * Setup a mock hammer.js object, for unit testing.
   *
   * Inspiration: https://github.com/uber/deck.gl/pull/658
   *
   * @returns {{on: noop, off: noop, destroy: noop, emit: noop, get: get}}
   */
  function hammerMock() {
    var noop = function noop() {};
    return {
      on: noop,
      off: noop,
      destroy: noop,
      emit: noop,
      get() {
        return {
          set: noop
        };
      }
    };
  }
  var Hammer$1 = typeof window !== "undefined" ? window.Hammer || RealHammer : function () {
    // hammer.js is only available in a browser, not in node.js. Replacing it with a mock object.
    return hammerMock();
  };

  /**
   * Turn an element into an clickToUse element.
   * When not active, the element has a transparent overlay. When the overlay is
   * clicked, the mode is changed to active.
   * When active, the element is displayed with a blue border around it, and
   * the interactive contents of the element can be used. When clicked outside
   * the element, the elements mode is changed to inactive.
   *
   * @param {Element} container
   * @class Activator
   */
  function Activator$1(container) {
    var _this = this,
      _context3;
    this._cleanupQueue = [];
    this.active = false;
    this._dom = {
      container,
      overlay: document.createElement("div")
    };
    this._dom.overlay.classList.add("vis-overlay");
    this._dom.container.appendChild(this._dom.overlay);
    this._cleanupQueue.push(function () {
      _this._dom.overlay.parentNode.removeChild(_this._dom.overlay);
    });
    var hammer = Hammer$1(this._dom.overlay);
    hammer.on("tap", _bindInstanceProperty$1(_context3 = this._onTapOverlay).call(_context3, this));
    this._cleanupQueue.push(function () {
      hammer.destroy();
      // FIXME: cleaning up hammer instances doesn't work (Timeline not removed
      // from memory)
    });

    // block all touch events (except tap)
    var events = ["tap", "doubletap", "press", "pinch", "pan", "panstart", "panmove", "panend"];
    _forEachInstanceProperty(events).call(events, function (event) {
      hammer.on(event, function (event) {
        event.srcEvent.stopPropagation();
      });
    });

    // attach a click event to the window, in order to deactivate when clicking outside the timeline
    if (document && document.body) {
      this._onClick = function (event) {
        if (!_hasParent(event.target, container)) {
          _this.deactivate();
        }
      };
      document.body.addEventListener("click", this._onClick);
      this._cleanupQueue.push(function () {
        document.body.removeEventListener("click", _this._onClick);
      });
    }

    // prepare escape key listener for deactivating when active
    this._escListener = function (event) {
      if ("key" in event ? event.key === "Escape" : event.keyCode === 27 /* the keyCode is for IE11 */) {
        _this.deactivate();
      }
    };
  }

  // turn into an event emitter
  Emitter(Activator$1.prototype);

  // The currently active activator
  Activator$1.current = null;

  /**
   * Destroy the activator. Cleans up all created DOM and event listeners
   */
  Activator$1.prototype.destroy = function () {
    var _context4, _context5;
    this.deactivate();
    var _iterator2 = _createForOfIteratorHelper$3(_reverseInstanceProperty(_context4 = _spliceInstanceProperty(_context5 = this._cleanupQueue).call(_context5, 0)).call(_context4)),
      _step2;
    try {
      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
        var callback = _step2.value;
        callback();
      }
    } catch (err) {
      _iterator2.e(err);
    } finally {
      _iterator2.f();
    }
  };

  /**
   * Activate the element
   * Overlay is hidden, element is decorated with a blue shadow border
   */
  Activator$1.prototype.activate = function () {
    // we allow only one active activator at a time
    if (Activator$1.current) {
      Activator$1.current.deactivate();
    }
    Activator$1.current = this;
    this.active = true;
    this._dom.overlay.style.display = "none";
    this._dom.container.classList.add("vis-active");
    this.emit("change");
    this.emit("activate");

    // ugly hack: bind ESC after emitting the events, as the Network rebinds all
    // keyboard events on a 'change' event
    document.body.addEventListener("keydown", this._escListener);
  };

  /**
   * Deactivate the element
   * Overlay is displayed on top of the element
   */
  Activator$1.prototype.deactivate = function () {
    this.active = false;
    this._dom.overlay.style.display = "block";
    this._dom.container.classList.remove("vis-active");
    document.body.removeEventListener("keydown", this._escListener);
    this.emit("change");
    this.emit("deactivate");
  };

  /**
   * Handle a tap event: activate the container
   *
   * @param {Event}  event   The event
   * @private
   */
  Activator$1.prototype._onTapOverlay = function (event) {
    // activate the container
    this.activate();
    event.srcEvent.stopPropagation();
  };

  /**
   * Test whether the element has the requested parent element somewhere in
   * its chain of parent nodes.
   *
   * @param {HTMLElement} element
   * @param {HTMLElement} parent
   * @returns {boolean} Returns true when the parent is found somewhere in the
   *                    chain of parent nodes.
   * @private
   */
  function _hasParent(element, parent) {
    while (element) {
      if (element === parent) {
        return true;
      }
      element = element.parentNode;
    }
    return false;
  }

  var isConstructor = isConstructor$4;
  var tryToString$1 = tryToString$6;

  var $TypeError$3 = TypeError;

  // `Assert: IsConstructor(argument) is true`
  var aConstructor$2 = function (argument) {
    if (isConstructor(argument)) return argument;
    throw new $TypeError$3(tryToString$1(argument) + ' is not a constructor');
  };

  var $$k = _export;
  var getBuiltIn$4 = getBuiltIn$f;
  var apply$1 = functionApply;
  var bind$8 = functionBind;
  var aConstructor$1 = aConstructor$2;
  var anObject$3 = anObject$d;
  var isObject$6 = isObject$h;
  var create$5 = objectCreate;
  var fails$9 = fails$u;

  var nativeConstruct = getBuiltIn$4('Reflect', 'construct');
  var ObjectPrototype = Object.prototype;
  var push$2 = [].push;

  // `Reflect.construct` method
  // https://tc39.es/ecma262/#sec-reflect.construct
  // MS Edge supports only 2 arguments and argumentsList argument is optional
  // FF Nightly sets third argument as `new.target`, but does not create `this` from it
  var NEW_TARGET_BUG = fails$9(function () {
    function F() { /* empty */ }
    return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);
  });

  var ARGS_BUG = !fails$9(function () {
    nativeConstruct(function () { /* empty */ });
  });

  var FORCED$2 = NEW_TARGET_BUG || ARGS_BUG;

  $$k({ target: 'Reflect', stat: true, forced: FORCED$2, sham: FORCED$2 }, {
    construct: function construct(Target, args /* , newTarget */) {
      aConstructor$1(Target);
      anObject$3(args);
      var newTarget = arguments.length < 3 ? Target : aConstructor$1(arguments[2]);
      if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);
      if (Target === newTarget) {
        // w/o altered newTarget, optimization for 0-4 arguments
        switch (args.length) {
          case 0: return new Target();
          case 1: return new Target(args[0]);
          case 2: return new Target(args[0], args[1]);
          case 3: return new Target(args[0], args[1], args[2]);
          case 4: return new Target(args[0], args[1], args[2], args[3]);
        }
        // w/o altered newTarget, lot of arguments case
        var $args = [null];
        apply$1(push$2, $args, args);
        return new (apply$1(bind$8, Target, $args))();
      }
      // with altered newTarget, not support built-in constructors
      var proto = newTarget.prototype;
      var instance = create$5(isObject$6(proto) ? proto : ObjectPrototype);
      var result = apply$1(Target, instance, args);
      return isObject$6(result) ? result : instance;
    }
  });

  var path$8 = path$o;

  var construct$2 = path$8.Reflect.construct;

  var parent$u = construct$2;

  var construct$1 = parent$u;

  var construct = construct$1;

  var _Reflect$construct = /*@__PURE__*/getDefaultExportFromCjs(construct);

  var path$7 = path$o;

  var getOwnPropertySymbols$2 = path$7.Object.getOwnPropertySymbols;

  var parent$t = getOwnPropertySymbols$2;

  var getOwnPropertySymbols$1 = parent$t;

  var getOwnPropertySymbols = getOwnPropertySymbols$1;

  var _Object$getOwnPropertySymbols = /*@__PURE__*/getDefaultExportFromCjs(getOwnPropertySymbols);

  var getOwnPropertyDescriptor$4 = {exports: {}};

  var $$j = _export;
  var fails$8 = fails$u;
  var toIndexedObject$1 = toIndexedObject$a;
  var nativeGetOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;
  var DESCRIPTORS$5 = descriptors;

  var FORCED$1 = !DESCRIPTORS$5 || fails$8(function () { nativeGetOwnPropertyDescriptor(1); });

  // `Object.getOwnPropertyDescriptor` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptor
  $$j({ target: 'Object', stat: true, forced: FORCED$1, sham: !DESCRIPTORS$5 }, {
    getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {
      return nativeGetOwnPropertyDescriptor(toIndexedObject$1(it), key);
    }
  });

  var path$6 = path$o;

  var Object$2 = path$6.Object;

  var getOwnPropertyDescriptor$3 = getOwnPropertyDescriptor$4.exports = function getOwnPropertyDescriptor(it, key) {
    return Object$2.getOwnPropertyDescriptor(it, key);
  };

  if (Object$2.getOwnPropertyDescriptor.sham) getOwnPropertyDescriptor$3.sham = true;

  var getOwnPropertyDescriptorExports = getOwnPropertyDescriptor$4.exports;

  var parent$s = getOwnPropertyDescriptorExports;

  var getOwnPropertyDescriptor$2 = parent$s;

  var getOwnPropertyDescriptor$1 = getOwnPropertyDescriptor$2;

  var _Object$getOwnPropertyDescriptor = /*@__PURE__*/getDefaultExportFromCjs(getOwnPropertyDescriptor$1);

  var $$i = _export;
  var DESCRIPTORS$4 = descriptors;
  var ownKeys$2 = ownKeys$7;
  var toIndexedObject = toIndexedObject$a;
  var getOwnPropertyDescriptorModule$1 = objectGetOwnPropertyDescriptor;
  var createProperty = createProperty$6;

  // `Object.getOwnPropertyDescriptors` method
  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors
  $$i({ target: 'Object', stat: true, sham: !DESCRIPTORS$4 }, {
    getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
      var O = toIndexedObject(object);
      var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule$1.f;
      var keys = ownKeys$2(O);
      var result = {};
      var index = 0;
      var key, descriptor;
      while (keys.length > index) {
        descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);
        if (descriptor !== undefined) createProperty(result, key, descriptor);
      }
      return result;
    }
  });

  var path$5 = path$o;

  var getOwnPropertyDescriptors$2 = path$5.Object.getOwnPropertyDescriptors;

  var parent$r = getOwnPropertyDescriptors$2;

  var getOwnPropertyDescriptors$1 = parent$r;

  var getOwnPropertyDescriptors = getOwnPropertyDescriptors$1;

  var _Object$getOwnPropertyDescriptors = /*@__PURE__*/getDefaultExportFromCjs(getOwnPropertyDescriptors);

  var defineProperties$4 = {exports: {}};

  var $$h = _export;
  var DESCRIPTORS$3 = descriptors;
  var defineProperties$3 = objectDefineProperties.f;

  // `Object.defineProperties` method
  // https://tc39.es/ecma262/#sec-object.defineproperties
  // eslint-disable-next-line es/no-object-defineproperties -- safe
  $$h({ target: 'Object', stat: true, forced: Object.defineProperties !== defineProperties$3, sham: !DESCRIPTORS$3 }, {
    defineProperties: defineProperties$3
  });

  var path$4 = path$o;

  var Object$1 = path$4.Object;

  var defineProperties$2 = defineProperties$4.exports = function defineProperties(T, D) {
    return Object$1.defineProperties(T, D);
  };

  if (Object$1.defineProperties.sham) defineProperties$2.sham = true;

  var definePropertiesExports = defineProperties$4.exports;

  var parent$q = definePropertiesExports;

  var defineProperties$1 = parent$q;

  var defineProperties = defineProperties$1;

  var _Object$defineProperties = /*@__PURE__*/getDefaultExportFromCjs(defineProperties);

  var defineProperty$2 = defineProperty$b;

  var _Object$defineProperty = /*@__PURE__*/getDefaultExportFromCjs(defineProperty$2);

  function _assertThisInitialized(self) {
    if (self === void 0) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }
    return self;
  }

  var parent$p = create$7;

  var create$4 = parent$p;

  var parent$o = create$4;

  var create$3 = parent$o;

  var create$2 = create$3;

  var _Object$create = /*@__PURE__*/getDefaultExportFromCjs(create$2);

  var $$g = _export;
  var setPrototypeOf$6 = objectSetPrototypeOf;

  // `Object.setPrototypeOf` method
  // https://tc39.es/ecma262/#sec-object.setprototypeof
  $$g({ target: 'Object', stat: true }, {
    setPrototypeOf: setPrototypeOf$6
  });

  var path$3 = path$o;

  var setPrototypeOf$5 = path$3.Object.setPrototypeOf;

  var parent$n = setPrototypeOf$5;

  var setPrototypeOf$4 = parent$n;

  var parent$m = setPrototypeOf$4;

  var setPrototypeOf$3 = parent$m;

  var parent$l = setPrototypeOf$3;

  var setPrototypeOf$2 = parent$l;

  var setPrototypeOf$1 = setPrototypeOf$2;

  var _Object$setPrototypeOf = /*@__PURE__*/getDefaultExportFromCjs(setPrototypeOf$1);

  var parent$k = bind$c;

  var bind$7 = parent$k;

  var parent$j = bind$7;

  var bind$6 = parent$j;

  var bind$5 = bind$6;

  var _bindInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(bind$5);

  function _setPrototypeOf(o, p) {
    var _context;
    _setPrototypeOf = _Object$setPrototypeOf ? _bindInstanceProperty(_context = _Object$setPrototypeOf).call(_context) : function _setPrototypeOf(o, p) {
      o.__proto__ = p;
      return o;
    };
    return _setPrototypeOf(o, p);
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function");
    }
    subClass.prototype = _Object$create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        writable: true,
        configurable: true
      }
    });
    _Object$defineProperty$1(subClass, "prototype", {
      writable: false
    });
    if (superClass) _setPrototypeOf(subClass, superClass);
  }

  function _possibleConstructorReturn(self, call) {
    if (call && (_typeof$1(call) === "object" || typeof call === "function")) {
      return call;
    } else if (call !== void 0) {
      throw new TypeError("Derived constructors may only return object or undefined");
    }
    return _assertThisInitialized(self);
  }

  var parent$i = getPrototypeOf$4;

  var getPrototypeOf$3 = parent$i;

  var parent$h = getPrototypeOf$3;

  var getPrototypeOf$2 = parent$h;

  var getPrototypeOf$1 = getPrototypeOf$2;

  var _Object$getPrototypeOf = /*@__PURE__*/getDefaultExportFromCjs(getPrototypeOf$1);

  function _getPrototypeOf(o) {
    var _context;
    _getPrototypeOf = _Object$setPrototypeOf ? _bindInstanceProperty(_context = _Object$getPrototypeOf).call(_context) : function _getPrototypeOf(o) {
      return o.__proto__ || _Object$getPrototypeOf(o);
    };
    return _getPrototypeOf(o);
  }

  var regeneratorRuntime$1 = {exports: {}};

  var _typeof = {exports: {}};

  (function (module) {
  	var _Symbol = symbol$1;
  	var _Symbol$iterator = iterator$1;
  	function _typeof(o) {
  	  "@babel/helpers - typeof";

  	  return (module.exports = _typeof = "function" == typeof _Symbol && "symbol" == typeof _Symbol$iterator ? function (o) {
  	    return typeof o;
  	  } : function (o) {
  	    return o && "function" == typeof _Symbol && o.constructor === _Symbol && o !== _Symbol.prototype ? "symbol" : typeof o;
  	  }, module.exports.__esModule = true, module.exports["default"] = module.exports), _typeof(o);
  	}
  	module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports; 
  } (_typeof));

  var _typeofExports = _typeof.exports;

  var parent$g = forEach$5;

  var forEach$3 = parent$g;

  var parent$f = forEach$3;

  var forEach$2 = parent$f;

  var forEach$1 = forEach$2;

  var hasOwn$5 = hasOwnProperty_1;
  var ownKeys$1 = ownKeys$7;
  var getOwnPropertyDescriptorModule = objectGetOwnPropertyDescriptor;
  var definePropertyModule = objectDefineProperty;

  var copyConstructorProperties$1 = function (target, source, exceptions) {
    var keys = ownKeys$1(source);
    var defineProperty = definePropertyModule.f;
    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;
    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      if (!hasOwn$5(target, key) && !(exceptions && hasOwn$5(exceptions, key))) {
        defineProperty(target, key, getOwnPropertyDescriptor(source, key));
      }
    }
  };

  var isObject$5 = isObject$h;
  var createNonEnumerableProperty$3 = createNonEnumerableProperty$9;

  // `InstallErrorCause` abstract operation
  // https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause
  var installErrorCause$1 = function (O, options) {
    if (isObject$5(options) && 'cause' in options) {
      createNonEnumerableProperty$3(O, 'cause', options.cause);
    }
  };

  var uncurryThis$2 = functionUncurryThis;

  var $Error$1 = Error;
  var replace = uncurryThis$2(''.replace);

  var TEST = (function (arg) { return String(new $Error$1(arg).stack); })('zxcasd');
  // eslint-disable-next-line redos/no-vulnerable -- safe
  var V8_OR_CHAKRA_STACK_ENTRY = /\n\s*at [^:]*:[^\n]*/;
  var IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);

  var errorStackClear = function (stack, dropEntries) {
    if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string' && !$Error$1.prepareStackTrace) {
      while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');
    } return stack;
  };

  var fails$7 = fails$u;
  var createPropertyDescriptor$1 = createPropertyDescriptor$7;

  var errorStackInstallable = !fails$7(function () {
    var error = new Error('a');
    if (!('stack' in error)) return true;
    // eslint-disable-next-line es/no-object-defineproperty -- safe
    Object.defineProperty(error, 'stack', createPropertyDescriptor$1(1, 7));
    return error.stack !== 7;
  });

  var createNonEnumerableProperty$2 = createNonEnumerableProperty$9;
  var clearErrorStack = errorStackClear;
  var ERROR_STACK_INSTALLABLE = errorStackInstallable;

  // non-standard V8
  var captureStackTrace = Error.captureStackTrace;

  var errorStackInstall = function (error, C, stack, dropEntries) {
    if (ERROR_STACK_INSTALLABLE) {
      if (captureStackTrace) captureStackTrace(error, C);
      else createNonEnumerableProperty$2(error, 'stack', clearErrorStack(stack, dropEntries));
    }
  };

  var bind$4 = functionBindContext;
  var call$6 = functionCall;
  var anObject$2 = anObject$d;
  var tryToString = tryToString$6;
  var isArrayIteratorMethod = isArrayIteratorMethod$2;
  var lengthOfArrayLike$1 = lengthOfArrayLike$d;
  var isPrototypeOf$7 = objectIsPrototypeOf;
  var getIterator$6 = getIterator$8;
  var getIteratorMethod = getIteratorMethod$9;
  var iteratorClose = iteratorClose$2;

  var $TypeError$2 = TypeError;

  var Result = function (stopped, result) {
    this.stopped = stopped;
    this.result = result;
  };

  var ResultPrototype = Result.prototype;

  var iterate$7 = function (iterable, unboundFunction, options) {
    var that = options && options.that;
    var AS_ENTRIES = !!(options && options.AS_ENTRIES);
    var IS_RECORD = !!(options && options.IS_RECORD);
    var IS_ITERATOR = !!(options && options.IS_ITERATOR);
    var INTERRUPTED = !!(options && options.INTERRUPTED);
    var fn = bind$4(unboundFunction, that);
    var iterator, iterFn, index, length, result, next, step;

    var stop = function (condition) {
      if (iterator) iteratorClose(iterator, 'normal', condition);
      return new Result(true, condition);
    };

    var callFn = function (value) {
      if (AS_ENTRIES) {
        anObject$2(value);
        return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);
      } return INTERRUPTED ? fn(value, stop) : fn(value);
    };

    if (IS_RECORD) {
      iterator = iterable.iterator;
    } else if (IS_ITERATOR) {
      iterator = iterable;
    } else {
      iterFn = getIteratorMethod(iterable);
      if (!iterFn) throw new $TypeError$2(tryToString(iterable) + ' is not iterable');
      // optimisation for array iterators
      if (isArrayIteratorMethod(iterFn)) {
        for (index = 0, length = lengthOfArrayLike$1(iterable); length > index; index++) {
          result = callFn(iterable[index]);
          if (result && isPrototypeOf$7(ResultPrototype, result)) return result;
        } return new Result(false);
      }
      iterator = getIterator$6(iterable, iterFn);
    }

    next = IS_RECORD ? iterable.next : iterator.next;
    while (!(step = call$6(next, iterator)).done) {
      try {
        result = callFn(step.value);
      } catch (error) {
        iteratorClose(iterator, 'throw', error);
      }
      if (typeof result == 'object' && result && isPrototypeOf$7(ResultPrototype, result)) return result;
    } return new Result(false);
  };

  var toString$1 = toString$7;

  var normalizeStringArgument$1 = function (argument, $default) {
    return argument === undefined ? arguments.length < 2 ? '' : $default : toString$1(argument);
  };

  var $$f = _export;
  var isPrototypeOf$6 = objectIsPrototypeOf;
  var getPrototypeOf = objectGetPrototypeOf;
  var setPrototypeOf = objectSetPrototypeOf;
  var copyConstructorProperties = copyConstructorProperties$1;
  var create$1 = objectCreate;
  var createNonEnumerableProperty$1 = createNonEnumerableProperty$9;
  var createPropertyDescriptor = createPropertyDescriptor$7;
  var installErrorCause = installErrorCause$1;
  var installErrorStack = errorStackInstall;
  var iterate$6 = iterate$7;
  var normalizeStringArgument = normalizeStringArgument$1;
  var wellKnownSymbol$3 = wellKnownSymbol$n;

  var TO_STRING_TAG = wellKnownSymbol$3('toStringTag');
  var $Error = Error;
  var push$1 = [].push;

  var $AggregateError = function AggregateError(errors, message /* , options */) {
    var isInstance = isPrototypeOf$6(AggregateErrorPrototype, this);
    var that;
    if (setPrototypeOf) {
      that = setPrototypeOf(new $Error(), isInstance ? getPrototypeOf(this) : AggregateErrorPrototype);
    } else {
      that = isInstance ? this : create$1(AggregateErrorPrototype);
      createNonEnumerableProperty$1(that, TO_STRING_TAG, 'Error');
    }
    if (message !== undefined) createNonEnumerableProperty$1(that, 'message', normalizeStringArgument(message));
    installErrorStack(that, $AggregateError, that.stack, 1);
    if (arguments.length > 2) installErrorCause(that, arguments[2]);
    var errorsArray = [];
    iterate$6(errors, push$1, { that: errorsArray });
    createNonEnumerableProperty$1(that, 'errors', errorsArray);
    return that;
  };

  if (setPrototypeOf) setPrototypeOf($AggregateError, $Error);
  else copyConstructorProperties($AggregateError, $Error, { name: true });

  var AggregateErrorPrototype = $AggregateError.prototype = create$1($Error.prototype, {
    constructor: createPropertyDescriptor(1, $AggregateError),
    message: createPropertyDescriptor(1, ''),
    name: createPropertyDescriptor(1, 'AggregateError')
  });

  // `AggregateError` constructor
  // https://tc39.es/ecma262/#sec-aggregate-error-constructor
  $$f({ global: true, constructor: true, arity: 2 }, {
    AggregateError: $AggregateError
  });

  var getBuiltIn$3 = getBuiltIn$f;
  var defineBuiltInAccessor$1 = defineBuiltInAccessor$3;
  var wellKnownSymbol$2 = wellKnownSymbol$n;
  var DESCRIPTORS$2 = descriptors;

  var SPECIES$2 = wellKnownSymbol$2('species');

  var setSpecies$2 = function (CONSTRUCTOR_NAME) {
    var Constructor = getBuiltIn$3(CONSTRUCTOR_NAME);

    if (DESCRIPTORS$2 && Constructor && !Constructor[SPECIES$2]) {
      defineBuiltInAccessor$1(Constructor, SPECIES$2, {
        configurable: true,
        get: function () { return this; }
      });
    }
  };

  var isPrototypeOf$5 = objectIsPrototypeOf;

  var $TypeError$1 = TypeError;

  var anInstance$3 = function (it, Prototype) {
    if (isPrototypeOf$5(Prototype, it)) return it;
    throw new $TypeError$1('Incorrect invocation');
  };

  var anObject$1 = anObject$d;
  var aConstructor = aConstructor$2;
  var isNullOrUndefined$2 = isNullOrUndefined$6;
  var wellKnownSymbol$1 = wellKnownSymbol$n;

  var SPECIES$1 = wellKnownSymbol$1('species');

  // `SpeciesConstructor` abstract operation
  // https://tc39.es/ecma262/#sec-speciesconstructor
  var speciesConstructor$2 = function (O, defaultConstructor) {
    var C = anObject$1(O).constructor;
    var S;
    return C === undefined || isNullOrUndefined$2(S = anObject$1(C)[SPECIES$1]) ? defaultConstructor : aConstructor(S);
  };

  var userAgent$4 = engineUserAgent;

  // eslint-disable-next-line redos/no-vulnerable -- safe
  var engineIsIos = /(?:ipad|iphone|ipod).*applewebkit/i.test(userAgent$4);

  var global$6 = global$p;
  var apply = functionApply;
  var bind$3 = functionBindContext;
  var isCallable$4 = isCallable$m;
  var hasOwn$4 = hasOwnProperty_1;
  var fails$6 = fails$u;
  var html = html$2;
  var arraySlice$1 = arraySlice$5;
  var createElement = documentCreateElement$1;
  var validateArgumentsLength = validateArgumentsLength$2;
  var IS_IOS$1 = engineIsIos;
  var IS_NODE$3 = engineIsNode;

  var set$3 = global$6.setImmediate;
  var clear = global$6.clearImmediate;
  var process$2 = global$6.process;
  var Dispatch = global$6.Dispatch;
  var Function$1 = global$6.Function;
  var MessageChannel = global$6.MessageChannel;
  var String$1 = global$6.String;
  var counter = 0;
  var queue$2 = {};
  var ONREADYSTATECHANGE = 'onreadystatechange';
  var $location, defer, channel, port;

  fails$6(function () {
    // Deno throws a ReferenceError on `location` access without `--location` flag
    $location = global$6.location;
  });

  var run = function (id) {
    if (hasOwn$4(queue$2, id)) {
      var fn = queue$2[id];
      delete queue$2[id];
      fn();
    }
  };

  var runner = function (id) {
    return function () {
      run(id);
    };
  };

  var eventListener = function (event) {
    run(event.data);
  };

  var globalPostMessageDefer = function (id) {
    // old engines have not location.origin
    global$6.postMessage(String$1(id), $location.protocol + '//' + $location.host);
  };

  // Node.js 0.9+ & IE10+ has setImmediate, otherwise:
  if (!set$3 || !clear) {
    set$3 = function setImmediate(handler) {
      validateArgumentsLength(arguments.length, 1);
      var fn = isCallable$4(handler) ? handler : Function$1(handler);
      var args = arraySlice$1(arguments, 1);
      queue$2[++counter] = function () {
        apply(fn, undefined, args);
      };
      defer(counter);
      return counter;
    };
    clear = function clearImmediate(id) {
      delete queue$2[id];
    };
    // Node.js 0.8-
    if (IS_NODE$3) {
      defer = function (id) {
        process$2.nextTick(runner(id));
      };
    // Sphere (JS game engine) Dispatch API
    } else if (Dispatch && Dispatch.now) {
      defer = function (id) {
        Dispatch.now(runner(id));
      };
    // Browsers with MessageChannel, includes WebWorkers
    // except iOS - https://github.com/zloirock/core-js/issues/624
    } else if (MessageChannel && !IS_IOS$1) {
      channel = new MessageChannel();
      port = channel.port2;
      channel.port1.onmessage = eventListener;
      defer = bind$3(port.postMessage, port);
    // Browsers with postMessage, skip WebWorkers
    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
    } else if (
      global$6.addEventListener &&
      isCallable$4(global$6.postMessage) &&
      !global$6.importScripts &&
      $location && $location.protocol !== 'file:' &&
      !fails$6(globalPostMessageDefer)
    ) {
      defer = globalPostMessageDefer;
      global$6.addEventListener('message', eventListener, false);
    // IE8-
    } else if (ONREADYSTATECHANGE in createElement('script')) {
      defer = function (id) {
        html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {
          html.removeChild(this);
          run(id);
        };
      };
    // Rest old browsers
    } else {
      defer = function (id) {
        setTimeout(runner(id), 0);
      };
    }
  }

  var task$1 = {
    set: set$3,
    clear: clear
  };

  var Queue$3 = function () {
    this.head = null;
    this.tail = null;
  };

  Queue$3.prototype = {
    add: function (item) {
      var entry = { item: item, next: null };
      var tail = this.tail;
      if (tail) tail.next = entry;
      else this.head = entry;
      this.tail = entry;
    },
    get: function () {
      var entry = this.head;
      if (entry) {
        var next = this.head = entry.next;
        if (next === null) this.tail = null;
        return entry.item;
      }
    }
  };

  var queue$1 = Queue$3;

  var userAgent$3 = engineUserAgent;

  var engineIsIosPebble = /ipad|iphone|ipod/i.test(userAgent$3) && typeof Pebble != 'undefined';

  var userAgent$2 = engineUserAgent;

  var engineIsWebosWebkit = /web0s(?!.*chrome)/i.test(userAgent$2);

  var global$5 = global$p;
  var bind$2 = functionBindContext;
  var getOwnPropertyDescriptor = objectGetOwnPropertyDescriptor.f;
  var macrotask = task$1.set;
  var Queue$2 = queue$1;
  var IS_IOS = engineIsIos;
  var IS_IOS_PEBBLE = engineIsIosPebble;
  var IS_WEBOS_WEBKIT = engineIsWebosWebkit;
  var IS_NODE$2 = engineIsNode;

  var MutationObserver = global$5.MutationObserver || global$5.WebKitMutationObserver;
  var document$2 = global$5.document;
  var process$1 = global$5.process;
  var Promise$1 = global$5.Promise;
  // Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`
  var queueMicrotaskDescriptor = getOwnPropertyDescriptor(global$5, 'queueMicrotask');
  var microtask$1 = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;
  var notify$1, toggle, node, promise$5, then;

  // modern engines have queueMicrotask method
  if (!microtask$1) {
    var queue = new Queue$2();

    var flush = function () {
      var parent, fn;
      if (IS_NODE$2 && (parent = process$1.domain)) parent.exit();
      while (fn = queue.get()) try {
        fn();
      } catch (error) {
        if (queue.head) notify$1();
        throw error;
      }
      if (parent) parent.enter();
    };

    // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339
    // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898
    if (!IS_IOS && !IS_NODE$2 && !IS_WEBOS_WEBKIT && MutationObserver && document$2) {
      toggle = true;
      node = document$2.createTextNode('');
      new MutationObserver(flush).observe(node, { characterData: true });
      notify$1 = function () {
        node.data = toggle = !toggle;
      };
    // environments with maybe non-completely correct, but existent Promise
    } else if (!IS_IOS_PEBBLE && Promise$1 && Promise$1.resolve) {
      // Promise.resolve without an argument throws an error in LG WebOS 2
      promise$5 = Promise$1.resolve(undefined);
      // workaround of WebKit ~ iOS Safari 10.1 bug
      promise$5.constructor = Promise$1;
      then = bind$2(promise$5.then, promise$5);
      notify$1 = function () {
        then(flush);
      };
    // Node.js without promises
    } else if (IS_NODE$2) {
      notify$1 = function () {
        process$1.nextTick(flush);
      };
    // for other environments - macrotask based on:
    // - setImmediate
    // - MessageChannel
    // - window.postMessage
    // - onreadystatechange
    // - setTimeout
    } else {
      // `webpack` dev server bug on IE global methods - use bind(fn, global)
      macrotask = bind$2(macrotask, global$5);
      notify$1 = function () {
        macrotask(flush);
      };
    }

    microtask$1 = function (fn) {
      if (!queue.head) notify$1();
      queue.add(fn);
    };
  }

  var microtask_1 = microtask$1;

  var hostReportErrors$1 = function (a, b) {
    try {
      // eslint-disable-next-line no-console -- safe
      arguments.length === 1 ? console.error(a) : console.error(a, b);
    } catch (error) { /* empty */ }
  };

  var perform$6 = function (exec) {
    try {
      return { error: false, value: exec() };
    } catch (error) {
      return { error: true, value: error };
    }
  };

  var global$4 = global$p;

  var promiseNativeConstructor = global$4.Promise;

  /* global Deno -- Deno case */
  var engineIsDeno = typeof Deno == 'object' && Deno && typeof Deno.version == 'object';

  var IS_DENO$1 = engineIsDeno;
  var IS_NODE$1 = engineIsNode;

  var engineIsBrowser = !IS_DENO$1 && !IS_NODE$1
    && typeof window == 'object'
    && typeof document == 'object';

  var global$3 = global$p;
  var NativePromiseConstructor$5 = promiseNativeConstructor;
  var isCallable$3 = isCallable$m;
  var isForced = isForced_1;
  var inspectSource = inspectSource$2;
  var wellKnownSymbol = wellKnownSymbol$n;
  var IS_BROWSER = engineIsBrowser;
  var IS_DENO = engineIsDeno;
  var V8_VERSION = engineV8Version;

  var NativePromisePrototype$2 = NativePromiseConstructor$5 && NativePromiseConstructor$5.prototype;
  var SPECIES = wellKnownSymbol('species');
  var SUBCLASSING = false;
  var NATIVE_PROMISE_REJECTION_EVENT$1 = isCallable$3(global$3.PromiseRejectionEvent);

  var FORCED_PROMISE_CONSTRUCTOR$5 = isForced('Promise', function () {
    var PROMISE_CONSTRUCTOR_SOURCE = inspectSource(NativePromiseConstructor$5);
    var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String(NativePromiseConstructor$5);
    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
    // We can't detect it synchronously, so just check versions
    if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;
    // We need Promise#{ catch, finally } in the pure version for preventing prototype pollution
    if (!(NativePromisePrototype$2['catch'] && NativePromisePrototype$2['finally'])) return true;
    // We can't use @@species feature detection in V8 since it causes
    // deoptimization and performance degradation
    // https://github.com/zloirock/core-js/issues/679
    if (!V8_VERSION || V8_VERSION < 51 || !/native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) {
      // Detect correctness of subclassing with @@species support
      var promise = new NativePromiseConstructor$5(function (resolve) { resolve(1); });
      var FakePromise = function (exec) {
        exec(function () { /* empty */ }, function () { /* empty */ });
      };
      var constructor = promise.constructor = {};
      constructor[SPECIES] = FakePromise;
      SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;
      if (!SUBCLASSING) return true;
    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    } return !GLOBAL_CORE_JS_PROMISE && (IS_BROWSER || IS_DENO) && !NATIVE_PROMISE_REJECTION_EVENT$1;
  });

  var promiseConstructorDetection = {
    CONSTRUCTOR: FORCED_PROMISE_CONSTRUCTOR$5,
    REJECTION_EVENT: NATIVE_PROMISE_REJECTION_EVENT$1,
    SUBCLASSING: SUBCLASSING
  };

  var newPromiseCapability$2 = {};

  var aCallable$6 = aCallable$e;

  var $TypeError = TypeError;

  var PromiseCapability = function (C) {
    var resolve, reject;
    this.promise = new C(function ($$resolve, $$reject) {
      if (resolve !== undefined || reject !== undefined) throw new $TypeError('Bad Promise constructor');
      resolve = $$resolve;
      reject = $$reject;
    });
    this.resolve = aCallable$6(resolve);
    this.reject = aCallable$6(reject);
  };

  // `NewPromiseCapability` abstract operation
  // https://tc39.es/ecma262/#sec-newpromisecapability
  newPromiseCapability$2.f = function (C) {
    return new PromiseCapability(C);
  };

  var $$e = _export;
  var IS_NODE = engineIsNode;
  var global$2 = global$p;
  var call$5 = functionCall;
  var defineBuiltIn$1 = defineBuiltIn$6;
  var setToStringTag$1 = setToStringTag$7;
  var setSpecies$1 = setSpecies$2;
  var aCallable$5 = aCallable$e;
  var isCallable$2 = isCallable$m;
  var isObject$4 = isObject$h;
  var anInstance$2 = anInstance$3;
  var speciesConstructor$1 = speciesConstructor$2;
  var task = task$1.set;
  var microtask = microtask_1;
  var hostReportErrors = hostReportErrors$1;
  var perform$5 = perform$6;
  var Queue$1 = queue$1;
  var InternalStateModule$2 = internalState;
  var NativePromiseConstructor$4 = promiseNativeConstructor;
  var PromiseConstructorDetection = promiseConstructorDetection;
  var newPromiseCapabilityModule$7 = newPromiseCapability$2;

  var PROMISE = 'Promise';
  var FORCED_PROMISE_CONSTRUCTOR$4 = PromiseConstructorDetection.CONSTRUCTOR;
  var NATIVE_PROMISE_REJECTION_EVENT = PromiseConstructorDetection.REJECTION_EVENT;
  PromiseConstructorDetection.SUBCLASSING;
  var getInternalPromiseState = InternalStateModule$2.getterFor(PROMISE);
  var setInternalState$2 = InternalStateModule$2.set;
  var NativePromisePrototype$1 = NativePromiseConstructor$4 && NativePromiseConstructor$4.prototype;
  var PromiseConstructor = NativePromiseConstructor$4;
  var PromisePrototype = NativePromisePrototype$1;
  var TypeError$1 = global$2.TypeError;
  var document$1 = global$2.document;
  var process = global$2.process;
  var newPromiseCapability$1 = newPromiseCapabilityModule$7.f;
  var newGenericPromiseCapability = newPromiseCapability$1;

  var DISPATCH_EVENT = !!(document$1 && document$1.createEvent && global$2.dispatchEvent);
  var UNHANDLED_REJECTION = 'unhandledrejection';
  var REJECTION_HANDLED = 'rejectionhandled';
  var PENDING = 0;
  var FULFILLED = 1;
  var REJECTED = 2;
  var HANDLED = 1;
  var UNHANDLED = 2;

  var Internal, OwnPromiseCapability, PromiseWrapper;

  // helpers
  var isThenable = function (it) {
    var then;
    return isObject$4(it) && isCallable$2(then = it.then) ? then : false;
  };

  var callReaction = function (reaction, state) {
    var value = state.value;
    var ok = state.state === FULFILLED;
    var handler = ok ? reaction.ok : reaction.fail;
    var resolve = reaction.resolve;
    var reject = reaction.reject;
    var domain = reaction.domain;
    var result, then, exited;
    try {
      if (handler) {
        if (!ok) {
          if (state.rejection === UNHANDLED) onHandleUnhandled(state);
          state.rejection = HANDLED;
        }
        if (handler === true) result = value;
        else {
          if (domain) domain.enter();
          result = handler(value); // can throw
          if (domain) {
            domain.exit();
            exited = true;
          }
        }
        if (result === reaction.promise) {
          reject(new TypeError$1('Promise-chain cycle'));
        } else if (then = isThenable(result)) {
          call$5(then, result, resolve, reject);
        } else resolve(result);
      } else reject(value);
    } catch (error) {
      if (domain && !exited) domain.exit();
      reject(error);
    }
  };

  var notify = function (state, isReject) {
    if (state.notified) return;
    state.notified = true;
    microtask(function () {
      var reactions = state.reactions;
      var reaction;
      while (reaction = reactions.get()) {
        callReaction(reaction, state);
      }
      state.notified = false;
      if (isReject && !state.rejection) onUnhandled(state);
    });
  };

  var dispatchEvent = function (name, promise, reason) {
    var event, handler;
    if (DISPATCH_EVENT) {
      event = document$1.createEvent('Event');
      event.promise = promise;
      event.reason = reason;
      event.initEvent(name, false, true);
      global$2.dispatchEvent(event);
    } else event = { promise: promise, reason: reason };
    if (!NATIVE_PROMISE_REJECTION_EVENT && (handler = global$2['on' + name])) handler(event);
    else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);
  };

  var onUnhandled = function (state) {
    call$5(task, global$2, function () {
      var promise = state.facade;
      var value = state.value;
      var IS_UNHANDLED = isUnhandled(state);
      var result;
      if (IS_UNHANDLED) {
        result = perform$5(function () {
          if (IS_NODE) {
            process.emit('unhandledRejection', value, promise);
          } else dispatchEvent(UNHANDLED_REJECTION, promise, value);
        });
        // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
        state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;
        if (result.error) throw result.value;
      }
    });
  };

  var isUnhandled = function (state) {
    return state.rejection !== HANDLED && !state.parent;
  };

  var onHandleUnhandled = function (state) {
    call$5(task, global$2, function () {
      var promise = state.facade;
      if (IS_NODE) {
        process.emit('rejectionHandled', promise);
      } else dispatchEvent(REJECTION_HANDLED, promise, state.value);
    });
  };

  var bind$1 = function (fn, state, unwrap) {
    return function (value) {
      fn(state, value, unwrap);
    };
  };

  var internalReject = function (state, value, unwrap) {
    if (state.done) return;
    state.done = true;
    if (unwrap) state = unwrap;
    state.value = value;
    state.state = REJECTED;
    notify(state, true);
  };

  var internalResolve = function (state, value, unwrap) {
    if (state.done) return;
    state.done = true;
    if (unwrap) state = unwrap;
    try {
      if (state.facade === value) throw new TypeError$1("Promise can't be resolved itself");
      var then = isThenable(value);
      if (then) {
        microtask(function () {
          var wrapper = { done: false };
          try {
            call$5(then, value,
              bind$1(internalResolve, wrapper, state),
              bind$1(internalReject, wrapper, state)
            );
          } catch (error) {
            internalReject(wrapper, error, state);
          }
        });
      } else {
        state.value = value;
        state.state = FULFILLED;
        notify(state, false);
      }
    } catch (error) {
      internalReject({ done: false }, error, state);
    }
  };

  // constructor polyfill
  if (FORCED_PROMISE_CONSTRUCTOR$4) {
    // 25.4.3.1 Promise(executor)
    PromiseConstructor = function Promise(executor) {
      anInstance$2(this, PromisePrototype);
      aCallable$5(executor);
      call$5(Internal, this);
      var state = getInternalPromiseState(this);
      try {
        executor(bind$1(internalResolve, state), bind$1(internalReject, state));
      } catch (error) {
        internalReject(state, error);
      }
    };

    PromisePrototype = PromiseConstructor.prototype;

    // eslint-disable-next-line no-unused-vars -- required for `.length`
    Internal = function Promise(executor) {
      setInternalState$2(this, {
        type: PROMISE,
        done: false,
        notified: false,
        parent: false,
        reactions: new Queue$1(),
        rejection: false,
        state: PENDING,
        value: undefined
      });
    };

    // `Promise.prototype.then` method
    // https://tc39.es/ecma262/#sec-promise.prototype.then
    Internal.prototype = defineBuiltIn$1(PromisePrototype, 'then', function then(onFulfilled, onRejected) {
      var state = getInternalPromiseState(this);
      var reaction = newPromiseCapability$1(speciesConstructor$1(this, PromiseConstructor));
      state.parent = true;
      reaction.ok = isCallable$2(onFulfilled) ? onFulfilled : true;
      reaction.fail = isCallable$2(onRejected) && onRejected;
      reaction.domain = IS_NODE ? process.domain : undefined;
      if (state.state === PENDING) state.reactions.add(reaction);
      else microtask(function () {
        callReaction(reaction, state);
      });
      return reaction.promise;
    });

    OwnPromiseCapability = function () {
      var promise = new Internal();
      var state = getInternalPromiseState(promise);
      this.promise = promise;
      this.resolve = bind$1(internalResolve, state);
      this.reject = bind$1(internalReject, state);
    };

    newPromiseCapabilityModule$7.f = newPromiseCapability$1 = function (C) {
      return C === PromiseConstructor || C === PromiseWrapper
        ? new OwnPromiseCapability(C)
        : newGenericPromiseCapability(C);
    };
  }

  $$e({ global: true, constructor: true, wrap: true, forced: FORCED_PROMISE_CONSTRUCTOR$4 }, {
    Promise: PromiseConstructor
  });

  setToStringTag$1(PromiseConstructor, PROMISE, false, true);
  setSpecies$1(PROMISE);

  var NativePromiseConstructor$3 = promiseNativeConstructor;
  var checkCorrectnessOfIteration = checkCorrectnessOfIteration$2;
  var FORCED_PROMISE_CONSTRUCTOR$3 = promiseConstructorDetection.CONSTRUCTOR;

  var promiseStaticsIncorrectIteration = FORCED_PROMISE_CONSTRUCTOR$3 || !checkCorrectnessOfIteration(function (iterable) {
    NativePromiseConstructor$3.all(iterable).then(undefined, function () { /* empty */ });
  });

  var $$d = _export;
  var call$4 = functionCall;
  var aCallable$4 = aCallable$e;
  var newPromiseCapabilityModule$6 = newPromiseCapability$2;
  var perform$4 = perform$6;
  var iterate$5 = iterate$7;
  var PROMISE_STATICS_INCORRECT_ITERATION$3 = promiseStaticsIncorrectIteration;

  // `Promise.all` method
  // https://tc39.es/ecma262/#sec-promise.all
  $$d({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION$3 }, {
    all: function all(iterable) {
      var C = this;
      var capability = newPromiseCapabilityModule$6.f(C);
      var resolve = capability.resolve;
      var reject = capability.reject;
      var result = perform$4(function () {
        var $promiseResolve = aCallable$4(C.resolve);
        var values = [];
        var counter = 0;
        var remaining = 1;
        iterate$5(iterable, function (promise) {
          var index = counter++;
          var alreadyCalled = false;
          remaining++;
          call$4($promiseResolve, C, promise).then(function (value) {
            if (alreadyCalled) return;
            alreadyCalled = true;
            values[index] = value;
            --remaining || resolve(values);
          }, reject);
        });
        --remaining || resolve(values);
      });
      if (result.error) reject(result.value);
      return capability.promise;
    }
  });

  var $$c = _export;
  var FORCED_PROMISE_CONSTRUCTOR$2 = promiseConstructorDetection.CONSTRUCTOR;
  var NativePromiseConstructor$2 = promiseNativeConstructor;

  NativePromiseConstructor$2 && NativePromiseConstructor$2.prototype;

  // `Promise.prototype.catch` method
  // https://tc39.es/ecma262/#sec-promise.prototype.catch
  $$c({ target: 'Promise', proto: true, forced: FORCED_PROMISE_CONSTRUCTOR$2, real: true }, {
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });

  var $$b = _export;
  var call$3 = functionCall;
  var aCallable$3 = aCallable$e;
  var newPromiseCapabilityModule$5 = newPromiseCapability$2;
  var perform$3 = perform$6;
  var iterate$4 = iterate$7;
  var PROMISE_STATICS_INCORRECT_ITERATION$2 = promiseStaticsIncorrectIteration;

  // `Promise.race` method
  // https://tc39.es/ecma262/#sec-promise.race
  $$b({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION$2 }, {
    race: function race(iterable) {
      var C = this;
      var capability = newPromiseCapabilityModule$5.f(C);
      var reject = capability.reject;
      var result = perform$3(function () {
        var $promiseResolve = aCallable$3(C.resolve);
        iterate$4(iterable, function (promise) {
          call$3($promiseResolve, C, promise).then(capability.resolve, reject);
        });
      });
      if (result.error) reject(result.value);
      return capability.promise;
    }
  });

  var $$a = _export;
  var call$2 = functionCall;
  var newPromiseCapabilityModule$4 = newPromiseCapability$2;
  var FORCED_PROMISE_CONSTRUCTOR$1 = promiseConstructorDetection.CONSTRUCTOR;

  // `Promise.reject` method
  // https://tc39.es/ecma262/#sec-promise.reject
  $$a({ target: 'Promise', stat: true, forced: FORCED_PROMISE_CONSTRUCTOR$1 }, {
    reject: function reject(r) {
      var capability = newPromiseCapabilityModule$4.f(this);
      call$2(capability.reject, undefined, r);
      return capability.promise;
    }
  });

  var anObject = anObject$d;
  var isObject$3 = isObject$h;
  var newPromiseCapability = newPromiseCapability$2;

  var promiseResolve$2 = function (C, x) {
    anObject(C);
    if (isObject$3(x) && x.constructor === C) return x;
    var promiseCapability = newPromiseCapability.f(C);
    var resolve = promiseCapability.resolve;
    resolve(x);
    return promiseCapability.promise;
  };

  var $$9 = _export;
  var getBuiltIn$2 = getBuiltIn$f;
  var IS_PURE = isPure;
  var NativePromiseConstructor$1 = promiseNativeConstructor;
  var FORCED_PROMISE_CONSTRUCTOR = promiseConstructorDetection.CONSTRUCTOR;
  var promiseResolve$1 = promiseResolve$2;

  var PromiseConstructorWrapper = getBuiltIn$2('Promise');
  var CHECK_WRAPPER = !FORCED_PROMISE_CONSTRUCTOR;

  // `Promise.resolve` method
  // https://tc39.es/ecma262/#sec-promise.resolve
  $$9({ target: 'Promise', stat: true, forced: IS_PURE  }, {
    resolve: function resolve(x) {
      return promiseResolve$1(CHECK_WRAPPER && this === PromiseConstructorWrapper ? NativePromiseConstructor$1 : this, x);
    }
  });

  var $$8 = _export;
  var call$1 = functionCall;
  var aCallable$2 = aCallable$e;
  var newPromiseCapabilityModule$3 = newPromiseCapability$2;
  var perform$2 = perform$6;
  var iterate$3 = iterate$7;
  var PROMISE_STATICS_INCORRECT_ITERATION$1 = promiseStaticsIncorrectIteration;

  // `Promise.allSettled` method
  // https://tc39.es/ecma262/#sec-promise.allsettled
  $$8({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION$1 }, {
    allSettled: function allSettled(iterable) {
      var C = this;
      var capability = newPromiseCapabilityModule$3.f(C);
      var resolve = capability.resolve;
      var reject = capability.reject;
      var result = perform$2(function () {
        var promiseResolve = aCallable$2(C.resolve);
        var values = [];
        var counter = 0;
        var remaining = 1;
        iterate$3(iterable, function (promise) {
          var index = counter++;
          var alreadyCalled = false;
          remaining++;
          call$1(promiseResolve, C, promise).then(function (value) {
            if (alreadyCalled) return;
            alreadyCalled = true;
            values[index] = { status: 'fulfilled', value: value };
            --remaining || resolve(values);
          }, function (error) {
            if (alreadyCalled) return;
            alreadyCalled = true;
            values[index] = { status: 'rejected', reason: error };
            --remaining || resolve(values);
          });
        });
        --remaining || resolve(values);
      });
      if (result.error) reject(result.value);
      return capability.promise;
    }
  });

  var $$7 = _export;
  var call = functionCall;
  var aCallable$1 = aCallable$e;
  var getBuiltIn$1 = getBuiltIn$f;
  var newPromiseCapabilityModule$2 = newPromiseCapability$2;
  var perform$1 = perform$6;
  var iterate$2 = iterate$7;
  var PROMISE_STATICS_INCORRECT_ITERATION = promiseStaticsIncorrectIteration;

  var PROMISE_ANY_ERROR = 'No one promise resolved';

  // `Promise.any` method
  // https://tc39.es/ecma262/#sec-promise.any
  $$7({ target: 'Promise', stat: true, forced: PROMISE_STATICS_INCORRECT_ITERATION }, {
    any: function any(iterable) {
      var C = this;
      var AggregateError = getBuiltIn$1('AggregateError');
      var capability = newPromiseCapabilityModule$2.f(C);
      var resolve = capability.resolve;
      var reject = capability.reject;
      var result = perform$1(function () {
        var promiseResolve = aCallable$1(C.resolve);
        var errors = [];
        var counter = 0;
        var remaining = 1;
        var alreadyResolved = false;
        iterate$2(iterable, function (promise) {
          var index = counter++;
          var alreadyRejected = false;
          remaining++;
          call(promiseResolve, C, promise).then(function (value) {
            if (alreadyRejected || alreadyResolved) return;
            alreadyResolved = true;
            resolve(value);
          }, function (error) {
            if (alreadyRejected || alreadyResolved) return;
            alreadyRejected = true;
            errors[index] = error;
            --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));
          });
        });
        --remaining || reject(new AggregateError(errors, PROMISE_ANY_ERROR));
      });
      if (result.error) reject(result.value);
      return capability.promise;
    }
  });

  var $$6 = _export;
  var NativePromiseConstructor = promiseNativeConstructor;
  var fails$5 = fails$u;
  var getBuiltIn = getBuiltIn$f;
  var isCallable$1 = isCallable$m;
  var speciesConstructor = speciesConstructor$2;
  var promiseResolve = promiseResolve$2;

  var NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;

  // Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829
  var NON_GENERIC = !!NativePromiseConstructor && fails$5(function () {
    // eslint-disable-next-line unicorn/no-thenable -- required for testing
    NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });
  });

  // `Promise.prototype.finally` method
  // https://tc39.es/ecma262/#sec-promise.prototype.finally
  $$6({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {
    'finally': function (onFinally) {
      var C = speciesConstructor(this, getBuiltIn('Promise'));
      var isFunction = isCallable$1(onFinally);
      return this.then(
        isFunction ? function (x) {
          return promiseResolve(C, onFinally()).then(function () { return x; });
        } : onFinally,
        isFunction ? function (e) {
          return promiseResolve(C, onFinally()).then(function () { throw e; });
        } : onFinally
      );
    }
  });

  var path$2 = path$o;

  var promise$4 = path$2.Promise;

  var parent$e = promise$4;


  var promise$3 = parent$e;

  var $$5 = _export;
  var newPromiseCapabilityModule$1 = newPromiseCapability$2;

  // `Promise.withResolvers` method
  // https://github.com/tc39/proposal-promise-with-resolvers
  $$5({ target: 'Promise', stat: true }, {
    withResolvers: function withResolvers() {
      var promiseCapability = newPromiseCapabilityModule$1.f(this);
      return {
        promise: promiseCapability.promise,
        resolve: promiseCapability.resolve,
        reject: promiseCapability.reject
      };
    }
  });

  var parent$d = promise$3;


  var promise$2 = parent$d;

  // TODO: Remove from `core-js@4`
  var $$4 = _export;
  var newPromiseCapabilityModule = newPromiseCapability$2;
  var perform = perform$6;

  // `Promise.try` method
  // https://github.com/tc39/proposal-promise-try
  $$4({ target: 'Promise', stat: true, forced: true }, {
    'try': function (callbackfn) {
      var promiseCapability = newPromiseCapabilityModule.f(this);
      var result = perform(callbackfn);
      (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);
      return promiseCapability.promise;
    }
  });

  var parent$c = promise$2;
  // TODO: Remove from `core-js@4`





  var promise$1 = parent$c;

  var promise = promise$1;

  var parent$b = reverse$4;

  var reverse$2 = parent$b;

  var parent$a = reverse$2;

  var reverse$1 = parent$a;

  var reverse = reverse$1;

  (function (module) {
  	var _typeof = _typeofExports["default"];
  	var _Object$defineProperty = defineProperty$8;
  	var _Symbol = symbol$1;
  	var _Object$create = create$2;
  	var _Object$getPrototypeOf = getPrototypeOf$1;
  	var _forEachInstanceProperty = forEach$1;
  	var _pushInstanceProperty = push$3;
  	var _Object$setPrototypeOf = setPrototypeOf$1;
  	var _Promise = promise;
  	var _reverseInstanceProperty = reverse;
  	var _sliceInstanceProperty = slice$1;
  	function _regeneratorRuntime() {
  	  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {
  	    return e;
  	  }, module.exports.__esModule = true, module.exports["default"] = module.exports;
  	  var t,
  	    e = {},
  	    r = Object.prototype,
  	    n = r.hasOwnProperty,
  	    o = _Object$defineProperty || function (t, e, r) {
  	      t[e] = r.value;
  	    },
  	    i = "function" == typeof _Symbol ? _Symbol : {},
  	    a = i.iterator || "@@iterator",
  	    c = i.asyncIterator || "@@asyncIterator",
  	    u = i.toStringTag || "@@toStringTag";
  	  function define(t, e, r) {
  	    return _Object$defineProperty(t, e, {
  	      value: r,
  	      enumerable: !0,
  	      configurable: !0,
  	      writable: !0
  	    }), t[e];
  	  }
  	  try {
  	    define({}, "");
  	  } catch (t) {
  	    define = function define(t, e, r) {
  	      return t[e] = r;
  	    };
  	  }
  	  function wrap(t, e, r, n) {
  	    var i = e && e.prototype instanceof Generator ? e : Generator,
  	      a = _Object$create(i.prototype),
  	      c = new Context(n || []);
  	    return o(a, "_invoke", {
  	      value: makeInvokeMethod(t, r, c)
  	    }), a;
  	  }
  	  function tryCatch(t, e, r) {
  	    try {
  	      return {
  	        type: "normal",
  	        arg: t.call(e, r)
  	      };
  	    } catch (t) {
  	      return {
  	        type: "throw",
  	        arg: t
  	      };
  	    }
  	  }
  	  e.wrap = wrap;
  	  var h = "suspendedStart",
  	    l = "suspendedYield",
  	    f = "executing",
  	    s = "completed",
  	    y = {};
  	  function Generator() {}
  	  function GeneratorFunction() {}
  	  function GeneratorFunctionPrototype() {}
  	  var p = {};
  	  define(p, a, function () {
  	    return this;
  	  });
  	  var d = _Object$getPrototypeOf,
  	    v = d && d(d(values([])));
  	  v && v !== r && n.call(v, a) && (p = v);
  	  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = _Object$create(p);
  	  function defineIteratorMethods(t) {
  	    var _context;
  	    _forEachInstanceProperty(_context = ["next", "throw", "return"]).call(_context, function (e) {
  	      define(t, e, function (t) {
  	        return this._invoke(e, t);
  	      });
  	    });
  	  }
  	  function AsyncIterator(t, e) {
  	    function invoke(r, o, i, a) {
  	      var c = tryCatch(t[r], t, o);
  	      if ("throw" !== c.type) {
  	        var u = c.arg,
  	          h = u.value;
  	        return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) {
  	          invoke("next", t, i, a);
  	        }, function (t) {
  	          invoke("throw", t, i, a);
  	        }) : e.resolve(h).then(function (t) {
  	          u.value = t, i(u);
  	        }, function (t) {
  	          return invoke("throw", t, i, a);
  	        });
  	      }
  	      a(c.arg);
  	    }
  	    var r;
  	    o(this, "_invoke", {
  	      value: function value(t, n) {
  	        function callInvokeWithMethodAndArg() {
  	          return new e(function (e, r) {
  	            invoke(t, n, e, r);
  	          });
  	        }
  	        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();
  	      }
  	    });
  	  }
  	  function makeInvokeMethod(e, r, n) {
  	    var o = h;
  	    return function (i, a) {
  	      if (o === f) throw new Error("Generator is already running");
  	      if (o === s) {
  	        if ("throw" === i) throw a;
  	        return {
  	          value: t,
  	          done: !0
  	        };
  	      }
  	      for (n.method = i, n.arg = a;;) {
  	        var c = n.delegate;
  	        if (c) {
  	          var u = maybeInvokeDelegate(c, n);
  	          if (u) {
  	            if (u === y) continue;
  	            return u;
  	          }
  	        }
  	        if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) {
  	          if (o === h) throw o = s, n.arg;
  	          n.dispatchException(n.arg);
  	        } else "return" === n.method && n.abrupt("return", n.arg);
  	        o = f;
  	        var p = tryCatch(e, r, n);
  	        if ("normal" === p.type) {
  	          if (o = n.done ? s : l, p.arg === y) continue;
  	          return {
  	            value: p.arg,
  	            done: n.done
  	          };
  	        }
  	        "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg);
  	      }
  	    };
  	  }
  	  function maybeInvokeDelegate(e, r) {
  	    var n = r.method,
  	      o = e.iterator[n];
  	    if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y;
  	    var i = tryCatch(o, e.iterator, r.arg);
  	    if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y;
  	    var a = i.arg;
  	    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y);
  	  }
  	  function pushTryEntry(t) {
  	    var _context2;
  	    var e = {
  	      tryLoc: t[0]
  	    };
  	    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), _pushInstanceProperty(_context2 = this.tryEntries).call(_context2, e);
  	  }
  	  function resetTryEntry(t) {
  	    var e = t.completion || {};
  	    e.type = "normal", delete e.arg, t.completion = e;
  	  }
  	  function Context(t) {
  	    this.tryEntries = [{
  	      tryLoc: "root"
  	    }], _forEachInstanceProperty(t).call(t, pushTryEntry, this), this.reset(!0);
  	  }
  	  function values(e) {
  	    if (e || "" === e) {
  	      var r = e[a];
  	      if (r) return r.call(e);
  	      if ("function" == typeof e.next) return e;
  	      if (!isNaN(e.length)) {
  	        var o = -1,
  	          i = function next() {
  	            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;
  	            return next.value = t, next.done = !0, next;
  	          };
  	        return i.next = i;
  	      }
  	    }
  	    throw new TypeError(_typeof(e) + " is not iterable");
  	  }
  	  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", {
  	    value: GeneratorFunctionPrototype,
  	    configurable: !0
  	  }), o(GeneratorFunctionPrototype, "constructor", {
  	    value: GeneratorFunction,
  	    configurable: !0
  	  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) {
  	    var e = "function" == typeof t && t.constructor;
  	    return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name));
  	  }, e.mark = function (t) {
  	    return _Object$setPrototypeOf ? _Object$setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = _Object$create(g), t;
  	  }, e.awrap = function (t) {
  	    return {
  	      __await: t
  	    };
  	  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {
  	    return this;
  	  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {
  	    void 0 === i && (i = _Promise);
  	    var a = new AsyncIterator(wrap(t, r, n, o), i);
  	    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {
  	      return t.done ? t.value : a.next();
  	    });
  	  }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () {
  	    return this;
  	  }), define(g, "toString", function () {
  	    return "[object Generator]";
  	  }), e.keys = function (t) {
  	    var e = Object(t),
  	      r = [];
  	    for (var n in e) _pushInstanceProperty(r).call(r, n);
  	    return _reverseInstanceProperty(r).call(r), function next() {
  	      for (; r.length;) {
  	        var t = r.pop();
  	        if (t in e) return next.value = t, next.done = !1, next;
  	      }
  	      return next.done = !0, next;
  	    };
  	  }, e.values = values, Context.prototype = {
  	    constructor: Context,
  	    reset: function reset(e) {
  	      var _context3;
  	      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, _forEachInstanceProperty(_context3 = this.tryEntries).call(_context3, resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+_sliceInstanceProperty(r).call(r, 1)) && (this[r] = t);
  	    },
  	    stop: function stop() {
  	      this.done = !0;
  	      var t = this.tryEntries[0].completion;
  	      if ("throw" === t.type) throw t.arg;
  	      return this.rval;
  	    },
  	    dispatchException: function dispatchException(e) {
  	      if (this.done) throw e;
  	      var r = this;
  	      function handle(n, o) {
  	        return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o;
  	      }
  	      for (var o = this.tryEntries.length - 1; o >= 0; --o) {
  	        var i = this.tryEntries[o],
  	          a = i.completion;
  	        if ("root" === i.tryLoc) return handle("end");
  	        if (i.tryLoc <= this.prev) {
  	          var c = n.call(i, "catchLoc"),
  	            u = n.call(i, "finallyLoc");
  	          if (c && u) {
  	            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
  	            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
  	          } else if (c) {
  	            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);
  	          } else {
  	            if (!u) throw new Error("try statement without catch or finally");
  	            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);
  	          }
  	        }
  	      }
  	    },
  	    abrupt: function abrupt(t, e) {
  	      for (var r = this.tryEntries.length - 1; r >= 0; --r) {
  	        var o = this.tryEntries[r];
  	        if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) {
  	          var i = o;
  	          break;
  	        }
  	      }
  	      i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);
  	      var a = i ? i.completion : {};
  	      return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a);
  	    },
  	    complete: function complete(t, e) {
  	      if ("throw" === t.type) throw t.arg;
  	      return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y;
  	    },
  	    finish: function finish(t) {
  	      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
  	        var r = this.tryEntries[e];
  	        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;
  	      }
  	    },
  	    "catch": function _catch(t) {
  	      for (var e = this.tryEntries.length - 1; e >= 0; --e) {
  	        var r = this.tryEntries[e];
  	        if (r.tryLoc === t) {
  	          var n = r.completion;
  	          if ("throw" === n.type) {
  	            var o = n.arg;
  	            resetTryEntry(r);
  	          }
  	          return o;
  	        }
  	      }
  	      throw new Error("illegal catch attempt");
  	    },
  	    delegateYield: function delegateYield(e, r, n) {
  	      return this.delegate = {
  	        iterator: values(e),
  	        resultName: r,
  	        nextLoc: n
  	      }, "next" === this.method && (this.arg = t), y;
  	    }
  	  }, e;
  	}
  	module.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports["default"] = module.exports; 
  } (regeneratorRuntime$1));

  var regeneratorRuntimeExports = regeneratorRuntime$1.exports;

  // TODO(Babel 8): Remove this file.

  var runtime = regeneratorRuntimeExports();
  var regenerator = runtime;

  // Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=
  try {
    regeneratorRuntime = runtime;
  } catch (accidentalStrictMode) {
    if (typeof globalThis === "object") {
      globalThis.regeneratorRuntime = runtime;
    } else {
      Function("r", "regeneratorRuntime = r")(runtime);
    }
  }

  var _regeneratorRuntime = /*@__PURE__*/getDefaultExportFromCjs(regenerator);

  var internalMetadata = {exports: {}};

  // FF26- bug: ArrayBuffers are non-extensible, but Object.isExtensible does not report it
  var fails$4 = fails$u;

  var arrayBufferNonExtensible = fails$4(function () {
    if (typeof ArrayBuffer == 'function') {
      var buffer = new ArrayBuffer(8);
      // eslint-disable-next-line es/no-object-isextensible, es/no-object-defineproperty -- safe
      if (Object.isExtensible(buffer)) Object.defineProperty(buffer, 'a', { value: 8 });
    }
  });

  var fails$3 = fails$u;
  var isObject$2 = isObject$h;
  var classof$3 = classofRaw$2;
  var ARRAY_BUFFER_NON_EXTENSIBLE = arrayBufferNonExtensible;

  // eslint-disable-next-line es/no-object-isextensible -- safe
  var $isExtensible = Object.isExtensible;
  var FAILS_ON_PRIMITIVES = fails$3(function () { $isExtensible(1); });

  // `Object.isExtensible` method
  // https://tc39.es/ecma262/#sec-object.isextensible
  var objectIsExtensible = (FAILS_ON_PRIMITIVES || ARRAY_BUFFER_NON_EXTENSIBLE) ? function isExtensible(it) {
    if (!isObject$2(it)) return false;
    if (ARRAY_BUFFER_NON_EXTENSIBLE && classof$3(it) === 'ArrayBuffer') return false;
    return $isExtensible ? $isExtensible(it) : true;
  } : $isExtensible;

  var fails$2 = fails$u;

  var freezing = !fails$2(function () {
    // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing
    return Object.isExtensible(Object.preventExtensions({}));
  });

  var $$3 = _export;
  var uncurryThis$1 = functionUncurryThis;
  var hiddenKeys = hiddenKeys$6;
  var isObject$1 = isObject$h;
  var hasOwn$3 = hasOwnProperty_1;
  var defineProperty$1 = objectDefineProperty.f;
  var getOwnPropertyNamesModule = objectGetOwnPropertyNames;
  var getOwnPropertyNamesExternalModule = objectGetOwnPropertyNamesExternal;
  var isExtensible = objectIsExtensible;
  var uid = uid$4;
  var FREEZING = freezing;

  var REQUIRED = false;
  var METADATA = uid('meta');
  var id = 0;

  var setMetadata = function (it) {
    defineProperty$1(it, METADATA, { value: {
      objectID: 'O' + id++, // object ID
      weakData: {}          // weak collections IDs
    } });
  };

  var fastKey$1 = function (it, create) {
    // return a primitive with prefix
    if (!isObject$1(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
    if (!hasOwn$3(it, METADATA)) {
      // can't set metadata to uncaught frozen object
      if (!isExtensible(it)) return 'F';
      // not necessary to add metadata
      if (!create) return 'E';
      // add missing metadata
      setMetadata(it);
    // return object ID
    } return it[METADATA].objectID;
  };

  var getWeakData = function (it, create) {
    if (!hasOwn$3(it, METADATA)) {
      // can't set metadata to uncaught frozen object
      if (!isExtensible(it)) return true;
      // not necessary to add metadata
      if (!create) return false;
      // add missing metadata
      setMetadata(it);
    // return the store of weak collections IDs
    } return it[METADATA].weakData;
  };

  // add metadata on freeze-family methods calling
  var onFreeze = function (it) {
    if (FREEZING && REQUIRED && isExtensible(it) && !hasOwn$3(it, METADATA)) setMetadata(it);
    return it;
  };

  var enable = function () {
    meta.enable = function () { /* empty */ };
    REQUIRED = true;
    var getOwnPropertyNames = getOwnPropertyNamesModule.f;
    var splice = uncurryThis$1([].splice);
    var test = {};
    test[METADATA] = 1;

    // prevent exposing of metadata key
    if (getOwnPropertyNames(test).length) {
      getOwnPropertyNamesModule.f = function (it) {
        var result = getOwnPropertyNames(it);
        for (var i = 0, length = result.length; i < length; i++) {
          if (result[i] === METADATA) {
            splice(result, i, 1);
            break;
          }
        } return result;
      };

      $$3({ target: 'Object', stat: true, forced: true }, {
        getOwnPropertyNames: getOwnPropertyNamesExternalModule.f
      });
    }
  };

  var meta = internalMetadata.exports = {
    enable: enable,
    fastKey: fastKey$1,
    getWeakData: getWeakData,
    onFreeze: onFreeze
  };

  hiddenKeys[METADATA] = true;

  var internalMetadataExports = internalMetadata.exports;

  var $$2 = _export;
  var global$1 = global$p;
  var InternalMetadataModule = internalMetadataExports;
  var fails$1 = fails$u;
  var createNonEnumerableProperty = createNonEnumerableProperty$9;
  var iterate$1 = iterate$7;
  var anInstance$1 = anInstance$3;
  var isCallable = isCallable$m;
  var isObject = isObject$h;
  var isNullOrUndefined$1 = isNullOrUndefined$6;
  var setToStringTag = setToStringTag$7;
  var defineProperty = objectDefineProperty.f;
  var forEach = arrayIteration.forEach;
  var DESCRIPTORS$1 = descriptors;
  var InternalStateModule$1 = internalState;

  var setInternalState$1 = InternalStateModule$1.set;
  var internalStateGetterFor$1 = InternalStateModule$1.getterFor;

  var collection$2 = function (CONSTRUCTOR_NAME, wrapper, common) {
    var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;
    var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;
    var ADDER = IS_MAP ? 'set' : 'add';
    var NativeConstructor = global$1[CONSTRUCTOR_NAME];
    var NativePrototype = NativeConstructor && NativeConstructor.prototype;
    var exported = {};
    var Constructor;

    if (!DESCRIPTORS$1 || !isCallable(NativeConstructor)
      || !(IS_WEAK || NativePrototype.forEach && !fails$1(function () { new NativeConstructor().entries().next(); }))
    ) {
      // create collection constructor
      Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
      InternalMetadataModule.enable();
    } else {
      Constructor = wrapper(function (target, iterable) {
        setInternalState$1(anInstance$1(target, Prototype), {
          type: CONSTRUCTOR_NAME,
          collection: new NativeConstructor()
        });
        if (!isNullOrUndefined$1(iterable)) iterate$1(iterable, target[ADDER], { that: target, AS_ENTRIES: IS_MAP });
      });

      var Prototype = Constructor.prototype;

      var getInternalState = internalStateGetterFor$1(CONSTRUCTOR_NAME);

      forEach(['add', 'clear', 'delete', 'forEach', 'get', 'has', 'set', 'keys', 'values', 'entries'], function (KEY) {
        var IS_ADDER = KEY === 'add' || KEY === 'set';
        if (KEY in NativePrototype && !(IS_WEAK && KEY === 'clear')) {
          createNonEnumerableProperty(Prototype, KEY, function (a, b) {
            var collection = getInternalState(this).collection;
            if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY === 'get' ? undefined : false;
            var result = collection[KEY](a === 0 ? 0 : a, b);
            return IS_ADDER ? this : result;
          });
        }
      });

      IS_WEAK || defineProperty(Prototype, 'size', {
        configurable: true,
        get: function () {
          return getInternalState(this).collection.size;
        }
      });
    }

    setToStringTag(Constructor, CONSTRUCTOR_NAME, false, true);

    exported[CONSTRUCTOR_NAME] = Constructor;
    $$2({ global: true, forced: true }, exported);

    if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);

    return Constructor;
  };

  var defineBuiltIn = defineBuiltIn$6;

  var defineBuiltIns$1 = function (target, src, options) {
    for (var key in src) {
      if (options && options.unsafe && target[key]) target[key] = src[key];
      else defineBuiltIn(target, key, src[key], options);
    } return target;
  };

  var create = objectCreate;
  var defineBuiltInAccessor = defineBuiltInAccessor$3;
  var defineBuiltIns = defineBuiltIns$1;
  var bind = functionBindContext;
  var anInstance = anInstance$3;
  var isNullOrUndefined = isNullOrUndefined$6;
  var iterate = iterate$7;
  var defineIterator = iteratorDefine;
  var createIterResultObject = createIterResultObject$3;
  var setSpecies = setSpecies$2;
  var DESCRIPTORS = descriptors;
  var fastKey = internalMetadataExports.fastKey;
  var InternalStateModule = internalState;

  var setInternalState = InternalStateModule.set;
  var internalStateGetterFor = InternalStateModule.getterFor;

  var collectionStrong$2 = {
    getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
      var Constructor = wrapper(function (that, iterable) {
        anInstance(that, Prototype);
        setInternalState(that, {
          type: CONSTRUCTOR_NAME,
          index: create(null),
          first: undefined,
          last: undefined,
          size: 0
        });
        if (!DESCRIPTORS) that.size = 0;
        if (!isNullOrUndefined(iterable)) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });
      });

      var Prototype = Constructor.prototype;

      var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);

      var define = function (that, key, value) {
        var state = getInternalState(that);
        var entry = getEntry(that, key);
        var previous, index;
        // change existing entry
        if (entry) {
          entry.value = value;
        // create new entry
        } else {
          state.last = entry = {
            index: index = fastKey(key, true),
            key: key,
            value: value,
            previous: previous = state.last,
            next: undefined,
            removed: false
          };
          if (!state.first) state.first = entry;
          if (previous) previous.next = entry;
          if (DESCRIPTORS) state.size++;
          else that.size++;
          // add to index
          if (index !== 'F') state.index[index] = entry;
        } return that;
      };

      var getEntry = function (that, key) {
        var state = getInternalState(that);
        // fast case
        var index = fastKey(key);
        var entry;
        if (index !== 'F') return state.index[index];
        // frozen object case
        for (entry = state.first; entry; entry = entry.next) {
          if (entry.key === key) return entry;
        }
      };

      defineBuiltIns(Prototype, {
        // `{ Map, Set }.prototype.clear()` methods
        // https://tc39.es/ecma262/#sec-map.prototype.clear
        // https://tc39.es/ecma262/#sec-set.prototype.clear
        clear: function clear() {
          var that = this;
          var state = getInternalState(that);
          var data = state.index;
          var entry = state.first;
          while (entry) {
            entry.removed = true;
            if (entry.previous) entry.previous = entry.previous.next = undefined;
            delete data[entry.index];
            entry = entry.next;
          }
          state.first = state.last = undefined;
          if (DESCRIPTORS) state.size = 0;
          else that.size = 0;
        },
        // `{ Map, Set }.prototype.delete(key)` methods
        // https://tc39.es/ecma262/#sec-map.prototype.delete
        // https://tc39.es/ecma262/#sec-set.prototype.delete
        'delete': function (key) {
          var that = this;
          var state = getInternalState(that);
          var entry = getEntry(that, key);
          if (entry) {
            var next = entry.next;
            var prev = entry.previous;
            delete state.index[entry.index];
            entry.removed = true;
            if (prev) prev.next = next;
            if (next) next.previous = prev;
            if (state.first === entry) state.first = next;
            if (state.last === entry) state.last = prev;
            if (DESCRIPTORS) state.size--;
            else that.size--;
          } return !!entry;
        },
        // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods
        // https://tc39.es/ecma262/#sec-map.prototype.foreach
        // https://tc39.es/ecma262/#sec-set.prototype.foreach
        forEach: function forEach(callbackfn /* , that = undefined */) {
          var state = getInternalState(this);
          var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined);
          var entry;
          while (entry = entry ? entry.next : state.first) {
            boundFunction(entry.value, entry.key, this);
            // revert to the last existing entry
            while (entry && entry.removed) entry = entry.previous;
          }
        },
        // `{ Map, Set}.prototype.has(key)` methods
        // https://tc39.es/ecma262/#sec-map.prototype.has
        // https://tc39.es/ecma262/#sec-set.prototype.has
        has: function has(key) {
          return !!getEntry(this, key);
        }
      });

      defineBuiltIns(Prototype, IS_MAP ? {
        // `Map.prototype.get(key)` method
        // https://tc39.es/ecma262/#sec-map.prototype.get
        get: function get(key) {
          var entry = getEntry(this, key);
          return entry && entry.value;
        },
        // `Map.prototype.set(key, value)` method
        // https://tc39.es/ecma262/#sec-map.prototype.set
        set: function set(key, value) {
          return define(this, key === 0 ? 0 : key, value);
        }
      } : {
        // `Set.prototype.add(value)` method
        // https://tc39.es/ecma262/#sec-set.prototype.add
        add: function add(value) {
          return define(this, value = value === 0 ? 0 : value, value);
        }
      });
      if (DESCRIPTORS) defineBuiltInAccessor(Prototype, 'size', {
        configurable: true,
        get: function () {
          return getInternalState(this).size;
        }
      });
      return Constructor;
    },
    setStrong: function (Constructor, CONSTRUCTOR_NAME, IS_MAP) {
      var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';
      var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);
      var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);
      // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods
      // https://tc39.es/ecma262/#sec-map.prototype.entries
      // https://tc39.es/ecma262/#sec-map.prototype.keys
      // https://tc39.es/ecma262/#sec-map.prototype.values
      // https://tc39.es/ecma262/#sec-map.prototype-@@iterator
      // https://tc39.es/ecma262/#sec-set.prototype.entries
      // https://tc39.es/ecma262/#sec-set.prototype.keys
      // https://tc39.es/ecma262/#sec-set.prototype.values
      // https://tc39.es/ecma262/#sec-set.prototype-@@iterator
      defineIterator(Constructor, CONSTRUCTOR_NAME, function (iterated, kind) {
        setInternalState(this, {
          type: ITERATOR_NAME,
          target: iterated,
          state: getInternalCollectionState(iterated),
          kind: kind,
          last: undefined
        });
      }, function () {
        var state = getInternalIteratorState(this);
        var kind = state.kind;
        var entry = state.last;
        // revert to the last existing entry
        while (entry && entry.removed) entry = entry.previous;
        // get next entry
        if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {
          // or finish the iteration
          state.target = undefined;
          return createIterResultObject(undefined, true);
        }
        // return step by kind
        if (kind === 'keys') return createIterResultObject(entry.key, false);
        if (kind === 'values') return createIterResultObject(entry.value, false);
        return createIterResultObject([entry.key, entry.value], false);
      }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);

      // `{ Map, Set }.prototype[@@species]` accessors
      // https://tc39.es/ecma262/#sec-get-map-@@species
      // https://tc39.es/ecma262/#sec-get-set-@@species
      setSpecies(CONSTRUCTOR_NAME);
    }
  };

  var collection$1 = collection$2;
  var collectionStrong$1 = collectionStrong$2;

  // `Map` constructor
  // https://tc39.es/ecma262/#sec-map-objects
  collection$1('Map', function (init) {
    return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };
  }, collectionStrong$1);

  var path$1 = path$o;

  var map$2 = path$1.Map;

  var parent$9 = map$2;


  var map$1 = parent$9;

  var map = map$1;

  var _Map = /*@__PURE__*/getDefaultExportFromCjs(map);

  var $$1 = _export;
  var $some = arrayIteration.some;
  var arrayMethodIsStrict$1 = arrayMethodIsStrict$4;

  var STRICT_METHOD$1 = arrayMethodIsStrict$1('some');

  // `Array.prototype.some` method
  // https://tc39.es/ecma262/#sec-array.prototype.some
  $$1({ target: 'Array', proto: true, forced: !STRICT_METHOD$1 }, {
    some: function some(callbackfn /* , thisArg */) {
      return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });

  var getBuiltInPrototypeMethod$4 = getBuiltInPrototypeMethod$g;

  var some$3 = getBuiltInPrototypeMethod$4('Array', 'some');

  var isPrototypeOf$4 = objectIsPrototypeOf;
  var method$4 = some$3;

  var ArrayPrototype$4 = Array.prototype;

  var some$2 = function (it) {
    var own = it.some;
    return it === ArrayPrototype$4 || (isPrototypeOf$4(ArrayPrototype$4, it) && own === ArrayPrototype$4.some) ? method$4 : own;
  };

  var parent$8 = some$2;

  var some$1 = parent$8;

  var some = some$1;

  var _someInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(some);

  var getBuiltInPrototypeMethod$3 = getBuiltInPrototypeMethod$g;

  var keys$3 = getBuiltInPrototypeMethod$3('Array', 'keys');

  var parent$7 = keys$3;

  var keys$2 = parent$7;

  var classof$2 = classof$d;
  var hasOwn$2 = hasOwnProperty_1;
  var isPrototypeOf$3 = objectIsPrototypeOf;
  var method$3 = keys$2;

  var ArrayPrototype$3 = Array.prototype;

  var DOMIterables$2 = {
    DOMTokenList: true,
    NodeList: true
  };

  var keys$1 = function (it) {
    var own = it.keys;
    return it === ArrayPrototype$3 || (isPrototypeOf$3(ArrayPrototype$3, it) && own === ArrayPrototype$3.keys)
      || hasOwn$2(DOMIterables$2, classof$2(it)) ? method$3 : own;
  };

  var keys = keys$1;

  var _keysInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(keys);

  var arraySlice = arraySliceSimple;

  var floor = Math.floor;

  var mergeSort = function (array, comparefn) {
    var length = array.length;
    var middle = floor(length / 2);
    return length < 8 ? insertionSort(array, comparefn) : merge(
      array,
      mergeSort(arraySlice(array, 0, middle), comparefn),
      mergeSort(arraySlice(array, middle), comparefn),
      comparefn
    );
  };

  var insertionSort = function (array, comparefn) {
    var length = array.length;
    var i = 1;
    var element, j;

    while (i < length) {
      j = i;
      element = array[i];
      while (j && comparefn(array[j - 1], element) > 0) {
        array[j] = array[--j];
      }
      if (j !== i++) array[j] = element;
    } return array;
  };

  var merge = function (array, left, right, comparefn) {
    var llength = left.length;
    var rlength = right.length;
    var lindex = 0;
    var rindex = 0;

    while (lindex < llength || rindex < rlength) {
      array[lindex + rindex] = (lindex < llength && rindex < rlength)
        ? comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]
        : lindex < llength ? left[lindex++] : right[rindex++];
    } return array;
  };

  var arraySort = mergeSort;

  var userAgent$1 = engineUserAgent;

  var firefox = userAgent$1.match(/firefox\/(\d+)/i);

  var engineFfVersion = !!firefox && +firefox[1];

  var UA = engineUserAgent;

  var engineIsIeOrEdge = /MSIE|Trident/.test(UA);

  var userAgent = engineUserAgent;

  var webkit = userAgent.match(/AppleWebKit\/(\d+)\./);

  var engineWebkitVersion = !!webkit && +webkit[1];

  var $ = _export;
  var uncurryThis = functionUncurryThis;
  var aCallable = aCallable$e;
  var toObject = toObject$e;
  var lengthOfArrayLike = lengthOfArrayLike$d;
  var deletePropertyOrThrow = deletePropertyOrThrow$2;
  var toString = toString$7;
  var fails = fails$u;
  var internalSort = arraySort;
  var arrayMethodIsStrict = arrayMethodIsStrict$4;
  var FF = engineFfVersion;
  var IE_OR_EDGE = engineIsIeOrEdge;
  var V8 = engineV8Version;
  var WEBKIT = engineWebkitVersion;

  var test = [];
  var nativeSort = uncurryThis(test.sort);
  var push = uncurryThis(test.push);

  // IE8-
  var FAILS_ON_UNDEFINED = fails(function () {
    test.sort(undefined);
  });
  // V8 bug
  var FAILS_ON_NULL = fails(function () {
    test.sort(null);
  });
  // Old WebKit
  var STRICT_METHOD = arrayMethodIsStrict('sort');

  var STABLE_SORT = !fails(function () {
    // feature detection can be too slow, so check engines versions
    if (V8) return V8 < 70;
    if (FF && FF > 3) return;
    if (IE_OR_EDGE) return true;
    if (WEBKIT) return WEBKIT < 603;

    var result = '';
    var code, chr, value, index;

    // generate an array with more 512 elements (Chakra and old V8 fails only in this case)
    for (code = 65; code < 76; code++) {
      chr = String.fromCharCode(code);

      switch (code) {
        case 66: case 69: case 70: case 72: value = 3; break;
        case 68: case 71: value = 4; break;
        default: value = 2;
      }

      for (index = 0; index < 47; index++) {
        test.push({ k: chr + index, v: value });
      }
    }

    test.sort(function (a, b) { return b.v - a.v; });

    for (index = 0; index < test.length; index++) {
      chr = test[index].k.charAt(0);
      if (result.charAt(result.length - 1) !== chr) result += chr;
    }

    return result !== 'DGBEFHACIJK';
  });

  var FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;

  var getSortCompare = function (comparefn) {
    return function (x, y) {
      if (y === undefined) return -1;
      if (x === undefined) return 1;
      if (comparefn !== undefined) return +comparefn(x, y) || 0;
      return toString(x) > toString(y) ? 1 : -1;
    };
  };

  // `Array.prototype.sort` method
  // https://tc39.es/ecma262/#sec-array.prototype.sort
  $({ target: 'Array', proto: true, forced: FORCED }, {
    sort: function sort(comparefn) {
      if (comparefn !== undefined) aCallable(comparefn);

      var array = toObject(this);

      if (STABLE_SORT) return comparefn === undefined ? nativeSort(array) : nativeSort(array, comparefn);

      var items = [];
      var arrayLength = lengthOfArrayLike(array);
      var itemsLength, index;

      for (index = 0; index < arrayLength; index++) {
        if (index in array) push(items, array[index]);
      }

      internalSort(items, getSortCompare(comparefn));

      itemsLength = lengthOfArrayLike(items);
      index = 0;

      while (index < itemsLength) array[index] = items[index++];
      while (index < arrayLength) deletePropertyOrThrow(array, index++);

      return array;
    }
  });

  var getBuiltInPrototypeMethod$2 = getBuiltInPrototypeMethod$g;

  var sort$3 = getBuiltInPrototypeMethod$2('Array', 'sort');

  var isPrototypeOf$2 = objectIsPrototypeOf;
  var method$2 = sort$3;

  var ArrayPrototype$2 = Array.prototype;

  var sort$2 = function (it) {
    var own = it.sort;
    return it === ArrayPrototype$2 || (isPrototypeOf$2(ArrayPrototype$2, it) && own === ArrayPrototype$2.sort) ? method$2 : own;
  };

  var parent$6 = sort$2;

  var sort$1 = parent$6;

  var sort = sort$1;

  var _sortInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(sort);

  var getBuiltInPrototypeMethod$1 = getBuiltInPrototypeMethod$g;

  var values$3 = getBuiltInPrototypeMethod$1('Array', 'values');

  var parent$5 = values$3;

  var values$2 = parent$5;

  var classof$1 = classof$d;
  var hasOwn$1 = hasOwnProperty_1;
  var isPrototypeOf$1 = objectIsPrototypeOf;
  var method$1 = values$2;

  var ArrayPrototype$1 = Array.prototype;

  var DOMIterables$1 = {
    DOMTokenList: true,
    NodeList: true
  };

  var values$1 = function (it) {
    var own = it.values;
    return it === ArrayPrototype$1 || (isPrototypeOf$1(ArrayPrototype$1, it) && own === ArrayPrototype$1.values)
      || hasOwn$1(DOMIterables$1, classof$1(it)) ? method$1 : own;
  };

  var values = values$1;

  var _valuesInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(values);

  var iterator = iterator$4;

  var _Symbol$iterator = /*@__PURE__*/getDefaultExportFromCjs(iterator);

  var getBuiltInPrototypeMethod = getBuiltInPrototypeMethod$g;

  var entries$3 = getBuiltInPrototypeMethod('Array', 'entries');

  var parent$4 = entries$3;

  var entries$2 = parent$4;

  var classof = classof$d;
  var hasOwn = hasOwnProperty_1;
  var isPrototypeOf = objectIsPrototypeOf;
  var method = entries$2;

  var ArrayPrototype = Array.prototype;

  var DOMIterables = {
    DOMTokenList: true,
    NodeList: true
  };

  var entries$1 = function (it) {
    var own = it.entries;
    return it === ArrayPrototype || (isPrototypeOf(ArrayPrototype, it) && own === ArrayPrototype.entries)
      || hasOwn(DOMIterables, classof(it)) ? method : own;
  };

  var entries = entries$1;

  var _entriesInstanceProperty = /*@__PURE__*/getDefaultExportFromCjs(entries);

  // Unique ID creation requires a high quality random # generator. In the browser we therefore
  // require the crypto API and do not support built-in fallback to lower quality random number
  // generators (like Math.random()).
  let getRandomValues;
  const rnds8 = new Uint8Array(16);
  function rng() {
    // lazy load so that environments that need to polyfill have a chance to do so
    if (!getRandomValues) {
      // getRandomValues needs to be invoked in a context where "this" is a Crypto implementation.
      getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);

      if (!getRandomValues) {
        throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
      }
    }

    return getRandomValues(rnds8);
  }

  /**
   * Convert array of 16 byte values to UUID string format of the form:
   * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
   */

  const byteToHex = [];

  for (let i = 0; i < 256; ++i) {
    byteToHex.push((i + 0x100).toString(16).slice(1));
  }

  function unsafeStringify(arr, offset = 0) {
    // Note: Be careful editing this code!  It's been tuned for performance
    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
    return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];
  }

  const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);
  var native = {
    randomUUID
  };

  function v4(options, buf, offset) {
    if (native.randomUUID && !buf && !options) {
      return native.randomUUID();
    }

    options = options || {};
    const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`

    rnds[6] = rnds[6] & 0x0f | 0x40;
    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided

    if (buf) {
      offset = offset || 0;

      for (let i = 0; i < 16; ++i) {
        buf[offset + i] = rnds[i];
      }

      return buf;
    }

    return unsafeStringify(rnds);
  }

  /**
   * Determine whether a value can be used as an id.
   *
   * @param value - Input value of unknown type.
   * @returns True if the value is valid id, false otherwise.
   */
  function isId(value) {
    return typeof value === "string" || typeof value === "number";
  }

  /**
   * A queue.
   *
   * @typeParam T - The type of method names to be replaced by queued versions.
   */
  var Queue = /*#__PURE__*/function () {
    /**
     * Construct a new Queue.
     *
     * @param options - Queue configuration.
     */
    function Queue(options) {
      _classCallCheck(this, Queue);
      /** Delay in milliseconds. If defined the queue will be periodically flushed. */
      /** Maximum number of entries in the queue before it will be flushed. */
      _defineProperty(this, "_queue", []);
      _defineProperty(this, "_timeout", null);
      _defineProperty(this, "_extended", null);
      // options
      this.delay = null;
      this.max = Infinity;
      this.setOptions(options);
    }
    /**
     * Update the configuration of the queue.
     *
     * @param options - Queue configuration.
     */
    _createClass(Queue, [{
      key: "setOptions",
      value: function setOptions(options) {
        if (options && typeof options.delay !== "undefined") {
          this.delay = options.delay;
        }
        if (options && typeof options.max !== "undefined") {
          this.max = options.max;
        }
        this._flushIfNeeded();
      }
      /**
       * Extend an object with queuing functionality.
       * The object will be extended with a function flush, and the methods provided in options.replace will be replaced with queued ones.
       *
       * @param object - The object to be extended.
       * @param options - Additional options.
       * @returns The created queue.
       */
    }, {
      key: "destroy",
      value:
      /**
       * Destroy the queue. The queue will first flush all queued actions, and in case it has extended an object, will restore the original object.
       */
      function destroy() {
        this.flush();
        if (this._extended) {
          var object = this._extended.object;
          var methods = this._extended.methods;
          for (var i = 0; i < methods.length; i++) {
            var method = methods[i];
            if (method.original) {
              // @TODO: better solution?
              object[method.name] = method.original;
            } else {
              // @TODO: better solution?
              delete object[method.name];
            }
          }
          this._extended = null;
        }
      }
      /**
       * Replace a method on an object with a queued version.
       *
       * @param object - Object having the method.
       * @param method - The method name.
       */
    }, {
      key: "replace",
      value: function replace(object, method) {
        /* eslint-disable-next-line @typescript-eslint/no-this-alias -- Function this is necessary in the function bellow, so class this has to be saved into a variable here. */
        var me = this;
        var original = object[method];
        if (!original) {
          throw new Error("Method " + method + " undefined");
        }
        object[method] = function () {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          // add this call to the queue
          me.queue({
            args: args,
            fn: original,
            context: this
          });
        };
      }
      /**
       * Queue a call.
       *
       * @param entry - The function or entry to be queued.
       */
    }, {
      key: "queue",
      value: function queue(entry) {
        if (typeof entry === "function") {
          this._queue.push({
            fn: entry
          });
        } else {
          this._queue.push(entry);
        }
        this._flushIfNeeded();
      }
      /**
       * Check whether the queue needs to be flushed.
       */
    }, {
      key: "_flushIfNeeded",
      value: function _flushIfNeeded() {
        var _this = this;
        // flush when the maximum is exceeded.
        if (this._queue.length > this.max) {
          this.flush();
        }
        // flush after a period of inactivity when a delay is configured
        if (this._timeout != null) {
          clearTimeout(this._timeout);
          this._timeout = null;
        }
        if (this.queue.length > 0 && typeof this.delay === "number") {
          this._timeout = _setTimeout(function () {
            _this.flush();
          }, this.delay);
        }
      }
      /**
       * Flush all queued calls
       */
    }, {
      key: "flush",
      value: function flush() {
        var _context, _context2;
        _forEachInstanceProperty(_context = _spliceInstanceProperty(_context2 = this._queue).call(_context2, 0)).call(_context, function (entry) {
          entry.fn.apply(entry.context || entry.fn, entry.args || []);
        });
      }
    }], [{
      key: "extend",
      value: function extend(object, options) {
        var queue = new Queue(options);
        if (object.flush !== undefined) {
          throw new Error("Target object already has a property flush");
        }
        object.flush = function () {
          queue.flush();
        };
        var methods = [{
          name: "flush",
          original: undefined
        }];
        if (options && options.replace) {
          for (var i = 0; i < options.replace.length; i++) {
            var name = options.replace[i];
            methods.push({
              name: name,
              // @TODO: better solution?
              original: object[name]
            });
            // @TODO: better solution?
            queue.replace(object, name);
          }
        }
        queue._extended = {
          object: object,
          methods: methods
        };
        return queue;
      }
    }]);
    return Queue;
  }();

  /**
   * {@link DataSet} code that can be reused in {@link DataView} or other similar implementations of {@link DataInterface}.
   *
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   */
  var DataSetPart = /*#__PURE__*/function () {
    function DataSetPart() {
      _classCallCheck(this, DataSetPart);
      _defineProperty(this, "_subscribers", {
        "*": [],
        add: [],
        remove: [],
        update: []
      });
      /**
       * @deprecated Use on instead (PS: DataView.subscribe === DataView.on).
       */
      _defineProperty(this, "subscribe", DataSetPart.prototype.on);
      /**
       * @deprecated Use off instead (PS: DataView.unsubscribe === DataView.off).
       */
      _defineProperty(this, "unsubscribe", DataSetPart.prototype.off);
    }
    _createClass(DataSetPart, [{
      key: "_trigger",
      value:
      /**
       * Trigger an event
       *
       * @param event - Event name.
       * @param payload - Event payload.
       * @param senderId - Id of the sender.
       */
      function _trigger(event, payload, senderId) {
        var _context, _context2;
        if (event === "*") {
          throw new Error("Cannot trigger event *");
        }
        _forEachInstanceProperty(_context = _concatInstanceProperty(_context2 = []).call(_context2, _toConsumableArray(this._subscribers[event]), _toConsumableArray(this._subscribers["*"]))).call(_context, function (subscriber) {
          subscriber(event, payload, senderId != null ? senderId : null);
        });
      }
      /**
       * Subscribe to an event, add an event listener.
       *
       * @remarks Non-function callbacks are ignored.
       * @param event - Event name.
       * @param callback - Callback method.
       */
    }, {
      key: "on",
      value: function on(event, callback) {
        if (typeof callback === "function") {
          this._subscribers[event].push(callback);
        }
        // @TODO: Maybe throw for invalid callbacks?
      }
      /**
       * Unsubscribe from an event, remove an event listener.
       *
       * @remarks If the same callback was subscribed more than once **all** occurences will be removed.
       * @param event - Event name.
       * @param callback - Callback method.
       */
    }, {
      key: "off",
      value: function off(event, callback) {
        var _context3;
        this._subscribers[event] = _filterInstanceProperty(_context3 = this._subscribers[event]).call(_context3, function (subscriber) {
          return subscriber !== callback;
        });
      }
    }]);
    return DataSetPart;
  }();

  var collection = collection$2;
  var collectionStrong = collectionStrong$2;

  // `Set` constructor
  // https://tc39.es/ecma262/#sec-set-objects
  collection('Set', function (init) {
    return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };
  }, collectionStrong);

  var path = path$o;

  var set$2 = path.Set;

  var parent$3 = set$2;


  var set$1 = parent$3;

  var set = set$1;

  var _Set = /*@__PURE__*/getDefaultExportFromCjs(set);

  var getIterator$5 = getIterator$8;

  var getIterator_1 = getIterator$5;

  var parent$2 = getIterator_1;


  var getIterator$4 = parent$2;

  var parent$1 = getIterator$4;

  var getIterator$3 = parent$1;

  var parent = getIterator$3;

  var getIterator$2 = parent;

  var getIterator$1 = getIterator$2;

  var getIterator = getIterator$1;

  var _getIterator = /*@__PURE__*/getDefaultExportFromCjs(getIterator);

  function _createForOfIteratorHelper$2(o, allowArrayLike) { var it = typeof _Symbol !== "undefined" && _getIteratorMethod(o) || o["@@iterator"]; if (!it) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray$2(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
  function _unsupportedIterableToArray$2(o, minLen) { var _context10; if (!o) return; if (typeof o === "string") return _arrayLikeToArray$2(o, minLen); var n = _sliceInstanceProperty(_context10 = Object.prototype.toString.call(o)).call(_context10, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from$1(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$2(o, minLen); }
  function _arrayLikeToArray$2(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
  /**
   * Data stream
   *
   * @remarks
   * {@link DataStream} offers an always up to date stream of items from a {@link DataSet} or {@link DataView}.
   * That means that the stream is evaluated at the time of iteration, conversion to another data type or when {@link cache} is called, not when the {@link DataStream} was created.
   * Multiple invocations of for example {@link toItemArray} may yield different results (if the data source like for example {@link DataSet} gets modified).
   * @typeParam Item - The item type this stream is going to work with.
   */
  var DataStream = /*#__PURE__*/function (_Symbol$iterator$1) {
    /**
     * Create a new data stream.
     *
     * @param pairs - The id, item pairs.
     */
    function DataStream(pairs) {
      _classCallCheck(this, DataStream);
      this._pairs = pairs;
    }
    /**
     * Return an iterable of key, value pairs for every entry in the stream.
     */
    _createClass(DataStream, [{
      key: _Symbol$iterator$1,
      value:
      /*#__PURE__*/
      _regeneratorRuntime.mark(function value() {
        var _iterator, _step, _step$value, id, item;
        return _regeneratorRuntime.wrap(function value$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _iterator = _createForOfIteratorHelper$2(this._pairs);
              _context.prev = 1;
              _iterator.s();
            case 3:
              if ((_step = _iterator.n()).done) {
                _context.next = 9;
                break;
              }
              _step$value = _slicedToArray(_step.value, 2), id = _step$value[0], item = _step$value[1];
              _context.next = 7;
              return [id, item];
            case 7:
              _context.next = 3;
              break;
            case 9:
              _context.next = 14;
              break;
            case 11:
              _context.prev = 11;
              _context.t0 = _context["catch"](1);
              _iterator.e(_context.t0);
            case 14:
              _context.prev = 14;
              _iterator.f();
              return _context.finish(14);
            case 17:
            case "end":
              return _context.stop();
          }
        }, value, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an iterable of key, value pairs for every entry in the stream.
       */
    }, {
      key: "entries",
      value:
      /*#__PURE__*/
      _regeneratorRuntime.mark(function entries() {
        var _iterator2, _step2, _step2$value, id, item;
        return _regeneratorRuntime.wrap(function entries$(_context2) {
          while (1) switch (_context2.prev = _context2.next) {
            case 0:
              _iterator2 = _createForOfIteratorHelper$2(this._pairs);
              _context2.prev = 1;
              _iterator2.s();
            case 3:
              if ((_step2 = _iterator2.n()).done) {
                _context2.next = 9;
                break;
              }
              _step2$value = _slicedToArray(_step2.value, 2), id = _step2$value[0], item = _step2$value[1];
              _context2.next = 7;
              return [id, item];
            case 7:
              _context2.next = 3;
              break;
            case 9:
              _context2.next = 14;
              break;
            case 11:
              _context2.prev = 11;
              _context2.t0 = _context2["catch"](1);
              _iterator2.e(_context2.t0);
            case 14:
              _context2.prev = 14;
              _iterator2.f();
              return _context2.finish(14);
            case 17:
            case "end":
              return _context2.stop();
          }
        }, entries, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an iterable of keys in the stream.
       */
    }, {
      key: "keys",
      value:
      /*#__PURE__*/
      _regeneratorRuntime.mark(function keys() {
        var _iterator3, _step3, _step3$value, id;
        return _regeneratorRuntime.wrap(function keys$(_context3) {
          while (1) switch (_context3.prev = _context3.next) {
            case 0:
              _iterator3 = _createForOfIteratorHelper$2(this._pairs);
              _context3.prev = 1;
              _iterator3.s();
            case 3:
              if ((_step3 = _iterator3.n()).done) {
                _context3.next = 9;
                break;
              }
              _step3$value = _slicedToArray(_step3.value, 1), id = _step3$value[0];
              _context3.next = 7;
              return id;
            case 7:
              _context3.next = 3;
              break;
            case 9:
              _context3.next = 14;
              break;
            case 11:
              _context3.prev = 11;
              _context3.t0 = _context3["catch"](1);
              _iterator3.e(_context3.t0);
            case 14:
              _context3.prev = 14;
              _iterator3.f();
              return _context3.finish(14);
            case 17:
            case "end":
              return _context3.stop();
          }
        }, keys, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an iterable of values in the stream.
       */
    }, {
      key: "values",
      value:
      /*#__PURE__*/
      _regeneratorRuntime.mark(function values() {
        var _iterator4, _step4, _step4$value, item;
        return _regeneratorRuntime.wrap(function values$(_context4) {
          while (1) switch (_context4.prev = _context4.next) {
            case 0:
              _iterator4 = _createForOfIteratorHelper$2(this._pairs);
              _context4.prev = 1;
              _iterator4.s();
            case 3:
              if ((_step4 = _iterator4.n()).done) {
                _context4.next = 9;
                break;
              }
              _step4$value = _slicedToArray(_step4.value, 2), item = _step4$value[1];
              _context4.next = 7;
              return item;
            case 7:
              _context4.next = 3;
              break;
            case 9:
              _context4.next = 14;
              break;
            case 11:
              _context4.prev = 11;
              _context4.t0 = _context4["catch"](1);
              _iterator4.e(_context4.t0);
            case 14:
              _context4.prev = 14;
              _iterator4.f();
              return _context4.finish(14);
            case 17:
            case "end":
              return _context4.stop();
          }
        }, values, this, [[1, 11, 14, 17]]);
      })
      /**
       * Return an array containing all the ids in this stream.
       *
       * @remarks
       * The array may contain duplicities.
       * @returns The array with all ids from this stream.
       */
    }, {
      key: "toIdArray",
      value: function toIdArray() {
        var _context5;
        return _mapInstanceProperty(_context5 = _toConsumableArray(this._pairs)).call(_context5, function (pair) {
          return pair[0];
        });
      }
      /**
       * Return an array containing all the items in this stream.
       *
       * @remarks
       * The array may contain duplicities.
       * @returns The array with all items from this stream.
       */
    }, {
      key: "toItemArray",
      value: function toItemArray() {
        var _context6;
        return _mapInstanceProperty(_context6 = _toConsumableArray(this._pairs)).call(_context6, function (pair) {
          return pair[1];
        });
      }
      /**
       * Return an array containing all the entries in this stream.
       *
       * @remarks
       * The array may contain duplicities.
       * @returns The array with all entries from this stream.
       */
    }, {
      key: "toEntryArray",
      value: function toEntryArray() {
        return _toConsumableArray(this._pairs);
      }
      /**
       * Return an object map containing all the items in this stream accessible by ids.
       *
       * @remarks
       * In case of duplicate ids (coerced to string so `7 == '7'`) the last encoutered appears in the returned object.
       * @returns The object map of all id â item pairs from this stream.
       */
    }, {
      key: "toObjectMap",
      value: function toObjectMap() {
        var map = _Object$create$1(null);
        var _iterator5 = _createForOfIteratorHelper$2(this._pairs),
          _step5;
        try {
          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
            var _step5$value = _slicedToArray(_step5.value, 2),
              id = _step5$value[0],
              item = _step5$value[1];
            map[id] = item;
          }
        } catch (err) {
          _iterator5.e(err);
        } finally {
          _iterator5.f();
        }
        return map;
      }
      /**
       * Return a map containing all the items in this stream accessible by ids.
       *
       * @returns The map of all id â item pairs from this stream.
       */
    }, {
      key: "toMap",
      value: function toMap() {
        return new _Map(this._pairs);
      }
      /**
       * Return a set containing all the (unique) ids in this stream.
       *
       * @returns The set of all ids from this stream.
       */
    }, {
      key: "toIdSet",
      value: function toIdSet() {
        return new _Set(this.toIdArray());
      }
      /**
       * Return a set containing all the (unique) items in this stream.
       *
       * @returns The set of all items from this stream.
       */
    }, {
      key: "toItemSet",
      value: function toItemSet() {
        return new _Set(this.toItemArray());
      }
      /**
       * Cache the items from this stream.
       *
       * @remarks
       * This method allows for items to be fetched immediatelly and used (possibly multiple times) later.
       * It can also be used to optimize performance as {@link DataStream} would otherwise reevaluate everything upon each iteration.
       *
       * ## Example
       * ```javascript
       * const ds = new DataSet([â¦])
       *
       * const cachedStream = ds.stream()
       *   .filter(â¦)
       *   .sort(â¦)
       *   .map(â¦)
       *   .cached(â¦) // Data are fetched, processed and cached here.
       *
       * ds.clear()
       * chachedStream // Still has all the items.
       * ```
       * @returns A new {@link DataStream} with cached items (detached from the original {@link DataSet}).
       */
    }, {
      key: "cache",
      value: function cache() {
        return new DataStream(_toConsumableArray(this._pairs));
      }
      /**
       * Get the distinct values of given property.
       *
       * @param callback - The function that picks and possibly converts the property.
       * @typeParam T - The type of the distinct value.
       * @returns A set of all distinct properties.
       */
    }, {
      key: "distinct",
      value: function distinct(callback) {
        var set = new _Set();
        var _iterator6 = _createForOfIteratorHelper$2(this._pairs),
          _step6;
        try {
          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
            var _step6$value = _slicedToArray(_step6.value, 2),
              id = _step6$value[0],
              item = _step6$value[1];
            set.add(callback(item, id));
          }
        } catch (err) {
          _iterator6.e(err);
        } finally {
          _iterator6.f();
        }
        return set;
      }
      /**
       * Filter the items of the stream.
       *
       * @param callback - The function that decides whether an item will be included.
       * @returns A new data stream with the filtered items.
       */
    }, {
      key: "filter",
      value: function filter(callback) {
        var pairs = this._pairs;
        return new DataStream({
          [_Symbol$iterator]() {
            return /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {
              var _iterator7, _step7, _step7$value, id, item;
              return _regeneratorRuntime.wrap(function _callee$(_context7) {
                while (1) switch (_context7.prev = _context7.next) {
                  case 0:
                    _iterator7 = _createForOfIteratorHelper$2(pairs);
                    _context7.prev = 1;
                    _iterator7.s();
                  case 3:
                    if ((_step7 = _iterator7.n()).done) {
                      _context7.next = 10;
                      break;
                    }
                    _step7$value = _slicedToArray(_step7.value, 2), id = _step7$value[0], item = _step7$value[1];
                    if (!callback(item, id)) {
                      _context7.next = 8;
                      break;
                    }
                    _context7.next = 8;
                    return [id, item];
                  case 8:
                    _context7.next = 3;
                    break;
                  case 10:
                    _context7.next = 15;
                    break;
                  case 12:
                    _context7.prev = 12;
                    _context7.t0 = _context7["catch"](1);
                    _iterator7.e(_context7.t0);
                  case 15:
                    _context7.prev = 15;
                    _iterator7.f();
                    return _context7.finish(15);
                  case 18:
                  case "end":
                    return _context7.stop();
                }
              }, _callee, null, [[1, 12, 15, 18]]);
            })();
          }
        });
      }
      /**
       * Execute a callback for each item of the stream.
       *
       * @param callback - The function that will be invoked for each item.
       */
    }, {
      key: "forEach",
      value: function forEach(callback) {
        var _iterator8 = _createForOfIteratorHelper$2(this._pairs),
          _step8;
        try {
          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
            var _step8$value = _slicedToArray(_step8.value, 2),
              id = _step8$value[0],
              item = _step8$value[1];
            callback(item, id);
          }
        } catch (err) {
          _iterator8.e(err);
        } finally {
          _iterator8.f();
        }
      }
      /**
       * Map the items into a different type.
       *
       * @param callback - The function that does the conversion.
       * @typeParam Mapped - The type of the item after mapping.
       * @returns A new data stream with the mapped items.
       */
    }, {
      key: "map",
      value: function map(callback) {
        var pairs = this._pairs;
        return new DataStream({
          [_Symbol$iterator]() {
            return /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {
              var _iterator9, _step9, _step9$value, id, item;
              return _regeneratorRuntime.wrap(function _callee2$(_context8) {
                while (1) switch (_context8.prev = _context8.next) {
                  case 0:
                    _iterator9 = _createForOfIteratorHelper$2(pairs);
                    _context8.prev = 1;
                    _iterator9.s();
                  case 3:
                    if ((_step9 = _iterator9.n()).done) {
                      _context8.next = 9;
                      break;
                    }
                    _step9$value = _slicedToArray(_step9.value, 2), id = _step9$value[0], item = _step9$value[1];
                    _context8.next = 7;
                    return [id, callback(item, id)];
                  case 7:
                    _context8.next = 3;
                    break;
                  case 9:
                    _context8.next = 14;
                    break;
                  case 11:
                    _context8.prev = 11;
                    _context8.t0 = _context8["catch"](1);
                    _iterator9.e(_context8.t0);
                  case 14:
                    _context8.prev = 14;
                    _iterator9.f();
                    return _context8.finish(14);
                  case 17:
                  case "end":
                    return _context8.stop();
                }
              }, _callee2, null, [[1, 11, 14, 17]]);
            })();
          }
        });
      }
      /**
       * Get the item with the maximum value of given property.
       *
       * @param callback - The function that picks and possibly converts the property.
       * @returns The item with the maximum if found otherwise null.
       */
    }, {
      key: "max",
      value: function max(callback) {
        var iter = _getIterator(this._pairs);
        var curr = iter.next();
        if (curr.done) {
          return null;
        }
        var maxItem = curr.value[1];
        var maxValue = callback(curr.value[1], curr.value[0]);
        while (!(curr = iter.next()).done) {
          var _curr$value = _slicedToArray(curr.value, 2),
            id = _curr$value[0],
            item = _curr$value[1];
          var _value = callback(item, id);
          if (_value > maxValue) {
            maxValue = _value;
            maxItem = item;
          }
        }
        return maxItem;
      }
      /**
       * Get the item with the minimum value of given property.
       *
       * @param callback - The function that picks and possibly converts the property.
       * @returns The item with the minimum if found otherwise null.
       */
    }, {
      key: "min",
      value: function min(callback) {
        var iter = _getIterator(this._pairs);
        var curr = iter.next();
        if (curr.done) {
          return null;
        }
        var minItem = curr.value[1];
        var minValue = callback(curr.value[1], curr.value[0]);
        while (!(curr = iter.next()).done) {
          var _curr$value2 = _slicedToArray(curr.value, 2),
            id = _curr$value2[0],
            item = _curr$value2[1];
          var _value2 = callback(item, id);
          if (_value2 < minValue) {
            minValue = _value2;
            minItem = item;
          }
        }
        return minItem;
      }
      /**
       * Reduce the items into a single value.
       *
       * @param callback - The function that does the reduction.
       * @param accumulator - The initial value of the accumulator.
       * @typeParam T - The type of the accumulated value.
       * @returns The reduced value.
       */
    }, {
      key: "reduce",
      value: function reduce(callback, accumulator) {
        var _iterator10 = _createForOfIteratorHelper$2(this._pairs),
          _step10;
        try {
          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {
            var _step10$value = _slicedToArray(_step10.value, 2),
              id = _step10$value[0],
              item = _step10$value[1];
            accumulator = callback(accumulator, item, id);
          }
        } catch (err) {
          _iterator10.e(err);
        } finally {
          _iterator10.f();
        }
        return accumulator;
      }
      /**
       * Sort the items.
       *
       * @param callback - Item comparator.
       * @returns A new stream with sorted items.
       */
    }, {
      key: "sort",
      value: function sort(callback) {
        var _this = this;
        return new DataStream({
          [_Symbol$iterator]: function () {
            var _context9;
            return _getIterator(_sortInstanceProperty(_context9 = _toConsumableArray(_this._pairs)).call(_context9, function (_ref, _ref2) {
              var _ref3 = _slicedToArray(_ref, 2),
                idA = _ref3[0],
                itemA = _ref3[1];
              var _ref4 = _slicedToArray(_ref2, 2),
                idB = _ref4[0],
                itemB = _ref4[1];
              return callback(itemA, itemB, idA, idB);
            }));
          }
        });
      }
    }]);
    return DataStream;
  }(_Symbol$iterator);

  function ownKeys(e, r) { var t = _Object$keys(e); if (_Object$getOwnPropertySymbols) { var o = _Object$getOwnPropertySymbols(e); r && (o = _filterInstanceProperty(o).call(o, function (r) { return _Object$getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
  function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var _context10, _context11; var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? _forEachInstanceProperty(_context10 = ownKeys(Object(t), !0)).call(_context10, function (r) { _defineProperty(e, r, t[r]); }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(e, _Object$getOwnPropertyDescriptors(t)) : _forEachInstanceProperty(_context11 = ownKeys(Object(t))).call(_context11, function (r) { _Object$defineProperty(e, r, _Object$getOwnPropertyDescriptor(t, r)); }); } return e; }
  function _createForOfIteratorHelper$1(o, allowArrayLike) { var it = typeof _Symbol !== "undefined" && _getIteratorMethod(o) || o["@@iterator"]; if (!it) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
  function _unsupportedIterableToArray$1(o, minLen) { var _context9; if (!o) return; if (typeof o === "string") return _arrayLikeToArray$1(o, minLen); var n = _sliceInstanceProperty(_context9 = Object.prototype.toString.call(o)).call(_context9, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from$1(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen); }
  function _arrayLikeToArray$1(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
  function _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
  function _isNativeReflectConstruct$1() { if (typeof Reflect === "undefined" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
  /**
   * Add an id to given item if it doesn't have one already.
   *
   * @remarks
   * The item will be modified.
   * @param item - The item that will have an id after a call to this function.
   * @param idProp - The key of the id property.
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   * @returns true
   */
  function ensureFullItem(item, idProp) {
    if (item[idProp] == null) {
      // generate an id
      item[idProp] = v4();
    }
    return item;
  }
  /**
   * # DataSet
   *
   * Vis.js comes with a flexible DataSet, which can be used to hold and
   * manipulate unstructured data and listen for changes in the data. The DataSet
   * is key/value based. Data items can be added, updated and removed from the
   * DataSet, and one can subscribe to changes in the DataSet. The data in the
   * DataSet can be filtered and ordered. Data can be normalized when appending it
   * to the DataSet as well.
   *
   * ## Example
   *
   * The following example shows how to use a DataSet.
   *
   * ```javascript
   * // create a DataSet
   * var options = {};
   * var data = new vis.DataSet(options);
   *
   * // add items
   * // note that the data items can contain different properties and data formats
   * data.add([
   *   {id: 1, text: 'item 1', date: new Date(2013, 6, 20), group: 1, first: true},
   *   {id: 2, text: 'item 2', date: '2013-06-23', group: 2},
   *   {id: 3, text: 'item 3', date: '2013-06-25', group: 2},
   *   {id: 4, text: 'item 4'}
   * ]);
   *
   * // subscribe to any change in the DataSet
   * data.on('*', function (event, properties, senderId) {
   *   console.log('event', event, properties);
   * });
   *
   * // update an existing item
   * data.update({id: 2, group: 1});
   *
   * // remove an item
   * data.remove(4);
   *
   * // get all ids
   * var ids = data.getIds();
   * console.log('ids', ids);
   *
   * // get a specific item
   * var item1 = data.get(1);
   * console.log('item1', item1);
   *
   * // retrieve a filtered subset of the data
   * var items = data.get({
   *   filter: function (item) {
   *     return item.group == 1;
   *   }
   * });
   * console.log('filtered items', items);
   * ```
   *
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   */
  var DataSet = /*#__PURE__*/function (_DataSetPart) {
    _inherits(DataSet, _DataSetPart);
    var _super = _createSuper$1(DataSet);
    /**
     * Construct a new DataSet.
     *
     * @param data - Initial data or options.
     * @param options - Options (type error if data is also options).
     */
    function DataSet(data, options) {
      var _this;
      _classCallCheck(this, DataSet);
      _this = _super.call(this);
      // correctly read optional arguments
      _defineProperty(_assertThisInitialized(_this), "_queue", null);
      if (data && !_Array$isArray(data)) {
        options = data;
        data = [];
      }
      _this._options = options || {};
      _this._data = new _Map(); // map with data indexed by id
      _this.length = 0; // number of items in the DataSet
      _this._idProp = _this._options.fieldId || "id"; // name of the field containing id
      // add initial data when provided
      if (data && data.length) {
        _this.add(data);
      }
      _this.setOptions(options);
      return _this;
    }
    /**
     * Set new options.
     *
     * @param options - The new options.
     */
    _createClass(DataSet, [{
      key: "idProp",
      get: /** Flush all queued calls. */

      /** @inheritDoc */

      /** @inheritDoc */
      function get() {
        return this._idProp;
      }
    }, {
      key: "setOptions",
      value: function setOptions(options) {
        if (options && options.queue !== undefined) {
          if (options.queue === false) {
            // delete queue if loaded
            if (this._queue) {
              this._queue.destroy();
              this._queue = null;
            }
          } else {
            // create queue and update its options
            if (!this._queue) {
              this._queue = Queue.extend(this, {
                replace: ["add", "update", "remove"]
              });
            }
            if (options.queue && typeof options.queue === "object") {
              this._queue.setOptions(options.queue);
            }
          }
        }
      }
      /**
       * Add a data item or an array with items.
       *
       * After the items are added to the DataSet, the DataSet will trigger an event `add`. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       *
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet()
       *
       * // add items
       * const ids = data.add([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { text: 'item without an id' }
       * ])
       *
       * console.log(ids) // [1, 2, '<UUIDv4>']
       * ```
       *
       * @param data - Items to be added (ids will be generated if missing).
       * @param senderId - Sender id.
       * @returns addedIds - Array with the ids (generated if not present) of the added items.
       * @throws When an item with the same id as any of the added items already exists.
       */
    }, {
      key: "add",
      value: function add(data, senderId) {
        var _this2 = this;
        var addedIds = [];
        var id;
        if (_Array$isArray(data)) {
          // Array
          var idsToAdd = _mapInstanceProperty(data).call(data, function (d) {
            return d[_this2._idProp];
          });
          if (_someInstanceProperty(idsToAdd).call(idsToAdd, function (id) {
            return _this2._data.has(id);
          })) {
            throw new Error("A duplicate id was found in the parameter array.");
          }
          for (var i = 0, len = data.length; i < len; i++) {
            id = this._addItem(data[i]);
            addedIds.push(id);
          }
        } else if (data && typeof data === "object") {
          // Single item
          id = this._addItem(data);
          addedIds.push(id);
        } else {
          throw new Error("Unknown dataType");
        }
        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          }, senderId);
        }
        return addedIds;
      }
      /**
       * Update existing items. When an item does not exist, it will be created.
       *
       * @remarks
       * The provided properties will be merged in the existing item. When an item does not exist, it will be created.
       *
       * After the items are updated, the DataSet will trigger an event `add` for the added items, and an event `update`. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       *
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { id: 3, text: 'item 3' }
       * ])
       *
       * // update items
       * const ids = data.update([
       *   { id: 2, text: 'item 2 (updated)' },
       *   { id: 4, text: 'item 4 (new)' }
       * ])
       *
       * console.log(ids) // [2, 4]
       * ```
       *
       * ## Warning for TypeScript users
       * This method may introduce partial items into the data set. Use add or updateOnly instead for better type safety.
       * @param data - Items to be updated (if the id is already present) or added (if the id is missing).
       * @param senderId - Sender id.
       * @returns updatedIds - The ids of the added (these may be newly generated if there was no id in the item from the data) or updated items.
       * @throws When the supplied data is neither an item nor an array of items.
       */
    }, {
      key: "update",
      value: function update(data, senderId) {
        var _this3 = this;
        var addedIds = [];
        var updatedIds = [];
        var oldData = [];
        var updatedData = [];
        var idProp = this._idProp;
        var addOrUpdate = function addOrUpdate(item) {
          var origId = item[idProp];
          if (origId != null && _this3._data.has(origId)) {
            var fullItem = item; // it has an id, therefore it is a fullitem
            var oldItem = _Object$assign({}, _this3._data.get(origId));
            // update item
            var id = _this3._updateItem(fullItem);
            updatedIds.push(id);
            updatedData.push(fullItem);
            oldData.push(oldItem);
          } else {
            // add new item
            var _id = _this3._addItem(item);
            addedIds.push(_id);
          }
        };
        if (_Array$isArray(data)) {
          // Array
          for (var i = 0, len = data.length; i < len; i++) {
            if (data[i] && typeof data[i] === "object") {
              addOrUpdate(data[i]);
            } else {
              console.warn("Ignoring input item, which is not an object at index " + i);
            }
          }
        } else if (data && typeof data === "object") {
          // Single item
          addOrUpdate(data);
        } else {
          throw new Error("Unknown dataType");
        }
        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          }, senderId);
        }
        if (updatedIds.length) {
          var props = {
            items: updatedIds,
            oldData: oldData,
            data: updatedData
          };
          // TODO: remove deprecated property 'data' some day
          //Object.defineProperty(props, 'data', {
          //  'get': (function() {
          //    console.warn('Property data is deprecated. Use DataSet.get(ids) to retrieve the new data, use the oldData property on this object to get the old data');
          //    return updatedData;
          //  }).bind(this)
          //});
          this._trigger("update", props, senderId);
        }
        return _concatInstanceProperty(addedIds).call(addedIds, updatedIds);
      }
      /**
       * Update existing items. When an item does not exist, an error will be thrown.
       *
       * @remarks
       * The provided properties will be deeply merged into the existing item.
       * When an item does not exist (id not present in the data set or absent), an error will be thrown and nothing will be changed.
       *
       * After the items are updated, the DataSet will trigger an event `update`.
       * When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       *
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { id: 3, text: 'item 3' },
       * ])
       *
       * // update items
       * const ids = data.update([
       *   { id: 2, text: 'item 2 (updated)' }, // works
       *   // { id: 4, text: 'item 4 (new)' }, // would throw
       *   // { text: 'item 4 (new)' }, // would also throw
       * ])
       *
       * console.log(ids) // [2]
       * ```
       * @param data - Updates (the id and optionally other props) to the items in this data set.
       * @param senderId - Sender id.
       * @returns updatedIds - The ids of the updated items.
       * @throws When the supplied data is neither an item nor an array of items, when the ids are missing.
       */
    }, {
      key: "updateOnly",
      value: function updateOnly(data, senderId) {
        var _context,
          _this4 = this;
        if (!_Array$isArray(data)) {
          data = [data];
        }
        var updateEventData = _mapInstanceProperty(_context = _mapInstanceProperty(data).call(data, function (update) {
          var oldData = _this4._data.get(update[_this4._idProp]);
          if (oldData == null) {
            throw new Error("Updating non-existent items is not allowed.");
          }
          return {
            oldData,
            update
          };
        })).call(_context, function (_ref) {
          var oldData = _ref.oldData,
            update = _ref.update;
          var id = oldData[_this4._idProp];
          var updatedData = pureDeepObjectAssign(oldData, update);
          _this4._data.set(id, updatedData);
          return {
            id,
            oldData: oldData,
            updatedData
          };
        });
        if (updateEventData.length) {
          var props = {
            items: _mapInstanceProperty(updateEventData).call(updateEventData, function (value) {
              return value.id;
            }),
            oldData: _mapInstanceProperty(updateEventData).call(updateEventData, function (value) {
              return value.oldData;
            }),
            data: _mapInstanceProperty(updateEventData).call(updateEventData, function (value) {
              return value.updatedData;
            })
          };
          // TODO: remove deprecated property 'data' some day
          //Object.defineProperty(props, 'data', {
          //  'get': (function() {
          //    console.warn('Property data is deprecated. Use DataSet.get(ids) to retrieve the new data, use the oldData property on this object to get the old data');
          //    return updatedData;
          //  }).bind(this)
          //});
          this._trigger("update", props, senderId);
          return props.items;
        } else {
          return [];
        }
      }
      /** @inheritDoc */
    }, {
      key: "get",
      value: function get(first, second) {
        // @TODO: Woudn't it be better to split this into multiple methods?
        // parse the arguments
        var id = undefined;
        var ids = undefined;
        var options = undefined;
        if (isId(first)) {
          // get(id [, options])
          id = first;
          options = second;
        } else if (_Array$isArray(first)) {
          // get(ids [, options])
          ids = first;
          options = second;
        } else {
          // get([, options])
          options = first;
        }
        // determine the return type
        var returnType = options && options.returnType === "Object" ? "Object" : "Array";
        // @TODO: WTF is this? Or am I missing something?
        // var returnType
        // if (options && options.returnType) {
        //   var allowedValues = ['Array', 'Object']
        //   returnType =
        //     allowedValues.indexOf(options.returnType) == -1
        //       ? 'Array'
        //       : options.returnType
        // } else {
        //   returnType = 'Array'
        // }
        // build options
        var filter = options && _filterInstanceProperty(options);
        var items = [];
        var item = undefined;
        var itemIds = undefined;
        var itemId = undefined;
        // convert items
        if (id != null) {
          // return a single item
          item = this._data.get(id);
          if (item && filter && !filter(item)) {
            item = undefined;
          }
        } else if (ids != null) {
          // return a subset of items
          for (var i = 0, len = ids.length; i < len; i++) {
            item = this._data.get(ids[i]);
            if (item != null && (!filter || filter(item))) {
              items.push(item);
            }
          }
        } else {
          var _context2;
          // return all items
          itemIds = _toConsumableArray(_keysInstanceProperty(_context2 = this._data).call(_context2));
          for (var _i = 0, _len = itemIds.length; _i < _len; _i++) {
            itemId = itemIds[_i];
            item = this._data.get(itemId);
            if (item != null && (!filter || filter(item))) {
              items.push(item);
            }
          }
        }
        // order the results
        if (options && options.order && id == undefined) {
          this._sort(items, options.order);
        }
        // filter fields of the items
        if (options && options.fields) {
          var fields = options.fields;
          if (id != undefined && item != null) {
            item = this._filterFields(item, fields);
          } else {
            for (var _i2 = 0, _len2 = items.length; _i2 < _len2; _i2++) {
              items[_i2] = this._filterFields(items[_i2], fields);
            }
          }
        }
        // return the results
        if (returnType == "Object") {
          var result = {};
          for (var _i3 = 0, _len3 = items.length; _i3 < _len3; _i3++) {
            var resultant = items[_i3];
            // @TODO: Shoudn't this be this._fieldId?
            // result[resultant.id] = resultant
            var _id2 = resultant[this._idProp];
            result[_id2] = resultant;
          }
          return result;
        } else {
          if (id != null) {
            var _item;
            // a single item
            return (_item = item) !== null && _item !== void 0 ? _item : null;
          } else {
            // just return our array
            return items;
          }
        }
      }
      /** @inheritDoc */
    }, {
      key: "getIds",
      value: function getIds(options) {
        var data = this._data;
        var filter = options && _filterInstanceProperty(options);
        var order = options && options.order;
        var itemIds = _toConsumableArray(_keysInstanceProperty(data).call(data));
        var ids = [];
        if (filter) {
          // get filtered items
          if (order) {
            // create ordered list
            var items = [];
            for (var i = 0, len = itemIds.length; i < len; i++) {
              var id = itemIds[i];
              var item = this._data.get(id);
              if (item != null && filter(item)) {
                items.push(item);
              }
            }
            this._sort(items, order);
            for (var _i4 = 0, _len4 = items.length; _i4 < _len4; _i4++) {
              ids.push(items[_i4][this._idProp]);
            }
          } else {
            // create unordered list
            for (var _i5 = 0, _len5 = itemIds.length; _i5 < _len5; _i5++) {
              var _id3 = itemIds[_i5];
              var _item2 = this._data.get(_id3);
              if (_item2 != null && filter(_item2)) {
                ids.push(_item2[this._idProp]);
              }
            }
          }
        } else {
          // get all items
          if (order) {
            // create an ordered list
            var _items = [];
            for (var _i6 = 0, _len6 = itemIds.length; _i6 < _len6; _i6++) {
              var _id4 = itemIds[_i6];
              _items.push(data.get(_id4));
            }
            this._sort(_items, order);
            for (var _i7 = 0, _len7 = _items.length; _i7 < _len7; _i7++) {
              ids.push(_items[_i7][this._idProp]);
            }
          } else {
            // create unordered list
            for (var _i8 = 0, _len8 = itemIds.length; _i8 < _len8; _i8++) {
              var _id5 = itemIds[_i8];
              var _item3 = data.get(_id5);
              if (_item3 != null) {
                ids.push(_item3[this._idProp]);
              }
            }
          }
        }
        return ids;
      }
      /** @inheritDoc */
    }, {
      key: "getDataSet",
      value: function getDataSet() {
        return this;
      }
      /** @inheritDoc */
    }, {
      key: "forEach",
      value: function forEach(callback, options) {
        var filter = options && _filterInstanceProperty(options);
        var data = this._data;
        var itemIds = _toConsumableArray(_keysInstanceProperty(data).call(data));
        if (options && options.order) {
          // execute forEach on ordered list
          var items = this.get(options);
          for (var i = 0, len = items.length; i < len; i++) {
            var item = items[i];
            var id = item[this._idProp];
            callback(item, id);
          }
        } else {
          // unordered
          for (var _i9 = 0, _len9 = itemIds.length; _i9 < _len9; _i9++) {
            var _id6 = itemIds[_i9];
            var _item4 = this._data.get(_id6);
            if (_item4 != null && (!filter || filter(_item4))) {
              callback(_item4, _id6);
            }
          }
        }
      }
      /** @inheritDoc */
    }, {
      key: "map",
      value: function map(callback, options) {
        var filter = options && _filterInstanceProperty(options);
        var mappedItems = [];
        var data = this._data;
        var itemIds = _toConsumableArray(_keysInstanceProperty(data).call(data));
        // convert and filter items
        for (var i = 0, len = itemIds.length; i < len; i++) {
          var id = itemIds[i];
          var item = this._data.get(id);
          if (item != null && (!filter || filter(item))) {
            mappedItems.push(callback(item, id));
          }
        }
        // order items
        if (options && options.order) {
          this._sort(mappedItems, options.order);
        }
        return mappedItems;
      }
      /**
       * Filter the fields of an item.
       *
       * @param item - The item whose fields should be filtered.
       * @param fields - The names of the fields that will be kept.
       * @typeParam K - Field name type.
       * @returns The item without any additional fields.
       */
    }, {
      key: "_filterFields",
      value: function _filterFields(item, fields) {
        var _context3;
        if (!item) {
          // item is null
          return item;
        }
        return _reduceInstanceProperty(_context3 = _Array$isArray(fields) ?
        // Use the supplied array
        fields :
        // Use the keys of the supplied object
        _Object$keys(fields)).call(_context3, function (filteredItem, field) {
          filteredItem[field] = item[field];
          return filteredItem;
        }, {});
      }
      /**
       * Sort the provided array with items.
       *
       * @param items - Items to be sorted in place.
       * @param order - A field name or custom sort function.
       * @typeParam T - The type of the items in the items array.
       */
    }, {
      key: "_sort",
      value: function _sort(items, order) {
        if (typeof order === "string") {
          // order by provided field name
          var name = order; // field name
          _sortInstanceProperty(items).call(items, function (a, b) {
            // @TODO: How to treat missing properties?
            var av = a[name];
            var bv = b[name];
            return av > bv ? 1 : av < bv ? -1 : 0;
          });
        } else if (typeof order === "function") {
          // order by sort function
          _sortInstanceProperty(items).call(items, order);
        } else {
          // TODO: extend order by an Object {field:string, direction:string}
          //       where direction can be 'asc' or 'desc'
          throw new TypeError("Order must be a function or a string");
        }
      }
      /**
       * Remove an item or multiple items by âreferenceâ (only the id is used) or by id.
       *
       * The method ignores removal of non-existing items, and returns an array containing the ids of the items which are actually removed from the DataSet.
       *
       * After the items are removed, the DataSet will trigger an event `remove` for the removed items. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * ## Example
       * ```javascript
       * // create a DataSet
       * const data = new vis.DataSet([
       *   { id: 1, text: 'item 1' },
       *   { id: 2, text: 'item 2' },
       *   { id: 3, text: 'item 3' }
       * ])
       *
       * // remove items
       * const ids = data.remove([2, { id: 3 }, 4])
       *
       * console.log(ids) // [2, 3]
       * ```
       *
       * @param id - One or more items or ids of items to be removed.
       * @param senderId - Sender id.
       * @returns The ids of the removed items.
       */
    }, {
      key: "remove",
      value: function remove(id, senderId) {
        var removedIds = [];
        var removedItems = [];
        // force everything to be an array for simplicity
        var ids = _Array$isArray(id) ? id : [id];
        for (var i = 0, len = ids.length; i < len; i++) {
          var item = this._remove(ids[i]);
          if (item) {
            var itemId = item[this._idProp];
            if (itemId != null) {
              removedIds.push(itemId);
              removedItems.push(item);
            }
          }
        }
        if (removedIds.length) {
          this._trigger("remove", {
            items: removedIds,
            oldData: removedItems
          }, senderId);
        }
        return removedIds;
      }
      /**
       * Remove an item by its id or reference.
       *
       * @param id - Id of an item or the item itself.
       * @returns The removed item if removed, null otherwise.
       */
    }, {
      key: "_remove",
      value: function _remove(id) {
        // @TODO: It origianlly returned the item although the docs say id.
        // The code expects the item, so probably an error in the docs.
        var ident;
        // confirm the id to use based on the args type
        if (isId(id)) {
          ident = id;
        } else if (id && typeof id === "object") {
          ident = id[this._idProp]; // look for the identifier field using ._idProp
        }
        // do the removing if the item is found
        if (ident != null && this._data.has(ident)) {
          var item = this._data.get(ident) || null;
          this._data.delete(ident);
          --this.length;
          return item;
        }
        return null;
      }
      /**
       * Clear the entire data set.
       *
       * After the items are removed, the {@link DataSet} will trigger an event `remove` for all removed items. When a `senderId` is provided, this id will be passed with the triggered event to all subscribers.
       *
       * @param senderId - Sender id.
       * @returns removedIds - The ids of all removed items.
       */
    }, {
      key: "clear",
      value: function clear(senderId) {
        var _context4;
        var ids = _toConsumableArray(_keysInstanceProperty(_context4 = this._data).call(_context4));
        var items = [];
        for (var i = 0, len = ids.length; i < len; i++) {
          items.push(this._data.get(ids[i]));
        }
        this._data.clear();
        this.length = 0;
        this._trigger("remove", {
          items: ids,
          oldData: items
        }, senderId);
        return ids;
      }
      /**
       * Find the item with maximum value of a specified field.
       *
       * @param field - Name of the property that should be searched for max value.
       * @returns Item containing max value, or null if no items.
       */
    }, {
      key: "max",
      value: function max(field) {
        var _context5;
        var max = null;
        var maxField = null;
        var _iterator = _createForOfIteratorHelper$1(_valuesInstanceProperty(_context5 = this._data).call(_context5)),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var item = _step.value;
            var itemField = item[field];
            if (typeof itemField === "number" && (maxField == null || itemField > maxField)) {
              max = item;
              maxField = itemField;
            }
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
        return max || null;
      }
      /**
       * Find the item with minimum value of a specified field.
       *
       * @param field - Name of the property that should be searched for min value.
       * @returns Item containing min value, or null if no items.
       */
    }, {
      key: "min",
      value: function min(field) {
        var _context6;
        var min = null;
        var minField = null;
        var _iterator2 = _createForOfIteratorHelper$1(_valuesInstanceProperty(_context6 = this._data).call(_context6)),
          _step2;
        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var item = _step2.value;
            var itemField = item[field];
            if (typeof itemField === "number" && (minField == null || itemField < minField)) {
              min = item;
              minField = itemField;
            }
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
        return min || null;
      }
      /**
       * Find all distinct values of a specified field
       *
       * @param prop - The property name whose distinct values should be returned.
       * @returns Unordered array containing all distinct values. Items without specified property are ignored.
       */
    }, {
      key: "distinct",
      value: function distinct(prop) {
        var data = this._data;
        var itemIds = _toConsumableArray(_keysInstanceProperty(data).call(data));
        var values = [];
        var count = 0;
        for (var i = 0, len = itemIds.length; i < len; i++) {
          var id = itemIds[i];
          var item = data.get(id);
          var value = item[prop];
          var exists = false;
          for (var j = 0; j < count; j++) {
            if (values[j] == value) {
              exists = true;
              break;
            }
          }
          if (!exists && value !== undefined) {
            values[count] = value;
            count++;
          }
        }
        return values;
      }
      /**
       * Add a single item. Will fail when an item with the same id already exists.
       *
       * @param item - A new item to be added.
       * @returns Added item's id. An id is generated when it is not present in the item.
       */
    }, {
      key: "_addItem",
      value: function _addItem(item) {
        var fullItem = ensureFullItem(item, this._idProp);
        var id = fullItem[this._idProp];
        // check whether this id is already taken
        if (this._data.has(id)) {
          // item already exists
          throw new Error("Cannot add item: item with id " + id + " already exists");
        }
        this._data.set(id, fullItem);
        ++this.length;
        return id;
      }
      /**
       * Update a single item: merge with existing item.
       * Will fail when the item has no id, or when there does not exist an item with the same id.
       *
       * @param update - The new item
       * @returns The id of the updated item.
       */
    }, {
      key: "_updateItem",
      value: function _updateItem(update) {
        var id = update[this._idProp];
        if (id == null) {
          throw new Error("Cannot update item: item has no id (item: " + _JSON$stringify(update) + ")");
        }
        var item = this._data.get(id);
        if (!item) {
          // item doesn't exist
          throw new Error("Cannot update item: no item with id " + id + " found");
        }
        this._data.set(id, _objectSpread(_objectSpread({}, item), update));
        return id;
      }
      /** @inheritDoc */
    }, {
      key: "stream",
      value: function stream(ids) {
        if (ids) {
          var data = this._data;
          return new DataStream({
            [_Symbol$iterator]() {
              return /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {
                var _iterator3, _step3, id, item;
                return _regeneratorRuntime.wrap(function _callee$(_context7) {
                  while (1) switch (_context7.prev = _context7.next) {
                    case 0:
                      _iterator3 = _createForOfIteratorHelper$1(ids);
                      _context7.prev = 1;
                      _iterator3.s();
                    case 3:
                      if ((_step3 = _iterator3.n()).done) {
                        _context7.next = 11;
                        break;
                      }
                      id = _step3.value;
                      item = data.get(id);
                      if (!(item != null)) {
                        _context7.next = 9;
                        break;
                      }
                      _context7.next = 9;
                      return [id, item];
                    case 9:
                      _context7.next = 3;
                      break;
                    case 11:
                      _context7.next = 16;
                      break;
                    case 13:
                      _context7.prev = 13;
                      _context7.t0 = _context7["catch"](1);
                      _iterator3.e(_context7.t0);
                    case 16:
                      _context7.prev = 16;
                      _iterator3.f();
                      return _context7.finish(16);
                    case 19:
                    case "end":
                      return _context7.stop();
                  }
                }, _callee, null, [[1, 13, 16, 19]]);
              })();
            }
          });
        } else {
          var _context8;
          return new DataStream({
            [_Symbol$iterator]: _bindInstanceProperty$1(_context8 = _entriesInstanceProperty(this._data)).call(_context8, this._data)
          });
        }
      }
    }]);
    return DataSet;
  }(DataSetPart);

  function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof _Symbol !== "undefined" && _getIteratorMethod(o) || o["@@iterator"]; if (!it) { if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }
  function _unsupportedIterableToArray(o, minLen) { var _context5; if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = _sliceInstanceProperty(_context5 = Object.prototype.toString.call(o)).call(_context5, 8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return _Array$from$1(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }
  function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
  /**
   * DataView
   *
   * A DataView offers a filtered and/or formatted view on a DataSet. One can subscribe to changes in a DataView, and easily get filtered or formatted data without having to specify filters and field types all the time.
   *
   * ## Example
   * ```javascript
   * // create a DataSet
   * var data = new vis.DataSet();
   * data.add([
   *   {id: 1, text: 'item 1', date: new Date(2013, 6, 20), group: 1, first: true},
   *   {id: 2, text: 'item 2', date: '2013-06-23', group: 2},
   *   {id: 3, text: 'item 3', date: '2013-06-25', group: 2},
   *   {id: 4, text: 'item 4'}
   * ]);
   *
   * // create a DataView
   * // the view will only contain items having a property group with value 1,
   * // and will only output fields id, text, and date.
   * var view = new vis.DataView(data, {
   *   filter: function (item) {
   *     return (item.group == 1);
   *   },
   *   fields: ['id', 'text', 'date']
   * });
   *
   * // subscribe to any change in the DataView
   * view.on('*', function (event, properties, senderId) {
   *   console.log('event', event, properties);
   * });
   *
   * // update an item in the data set
   * data.update({id: 2, group: 1});
   *
   * // get all ids in the view
   * var ids = view.getIds();
   * console.log('ids', ids); // will output [1, 2]
   *
   * // get all items in the view
   * var items = view.get();
   * ```
   *
   * @typeParam Item - Item type that may or may not have an id.
   * @typeParam IdProp - Name of the property that contains the id.
   */
  var DataView = /*#__PURE__*/function (_DataSetPart) {
    _inherits(DataView, _DataSetPart);
    var _super = _createSuper(DataView);
    // ids of the items currently in memory (just contains a boolean true)

    /**
     * Create a DataView.
     *
     * @param data - The instance containing data (directly or indirectly).
     * @param options - Options to configure this data view.
     */
    function DataView(data, options) {
      var _context;
      var _this;
      _classCallCheck(this, DataView);
      _this = _super.call(this);
      /** @inheritDoc */
      _defineProperty(_assertThisInitialized(_this), "length", 0);
      // constructor â setData
      _defineProperty(_assertThisInitialized(_this), "_ids", new _Set());
      _this._options = options || {};
      _this._listener = _bindInstanceProperty$1(_context = _this._onEvent).call(_context, _assertThisInitialized(_this));
      _this.setData(data);
      return _this;
    }
    // TODO: implement a function .config() to dynamically update things like configured filter
    // and trigger changes accordingly
    /**
     * Set a data source for the view.
     *
     * @param data - The instance containing data (directly or indirectly).
     * @remarks
     * Note that when the data view is bound to a data set it won't be garbage
     * collected unless the data set is too. Use `dataView.setData(null)` or
     * `dataView.dispose()` to enable garbage collection before you lose the last
     * reference.
     */
    _createClass(DataView, [{
      key: "idProp",
      get: /** @inheritDoc */
      function get() {
        return this.getDataSet().idProp;
      }
    }, {
      key: "setData",
      value: function setData(data) {
        if (this._data) {
          // unsubscribe from current dataset
          if (this._data.off) {
            this._data.off("*", this._listener);
          }
          // trigger a remove of all items in memory
          var ids = this._data.getIds({
            filter: _filterInstanceProperty(this._options)
          });
          var items = this._data.get(ids);
          this._ids.clear();
          this.length = 0;
          this._trigger("remove", {
            items: ids,
            oldData: items
          });
        }
        if (data != null) {
          this._data = data;
          // trigger an add of all added items
          var _ids = this._data.getIds({
            filter: _filterInstanceProperty(this._options)
          });
          for (var i = 0, len = _ids.length; i < len; i++) {
            var id = _ids[i];
            this._ids.add(id);
          }
          this.length = _ids.length;
          this._trigger("add", {
            items: _ids
          });
        } else {
          this._data = new DataSet();
        }
        // subscribe to new dataset
        if (this._data.on) {
          this._data.on("*", this._listener);
        }
      }
      /**
       * Refresh the DataView.
       * Useful when the DataView has a filter function containing a variable parameter.
       */
    }, {
      key: "refresh",
      value: function refresh() {
        var ids = this._data.getIds({
          filter: _filterInstanceProperty(this._options)
        });
        var oldIds = _toConsumableArray(this._ids);
        var newIds = {};
        var addedIds = [];
        var removedIds = [];
        var removedItems = [];
        // check for additions
        for (var i = 0, len = ids.length; i < len; i++) {
          var id = ids[i];
          newIds[id] = true;
          if (!this._ids.has(id)) {
            addedIds.push(id);
            this._ids.add(id);
          }
        }
        // check for removals
        for (var _i = 0, _len = oldIds.length; _i < _len; _i++) {
          var _id = oldIds[_i];
          var item = this._data.get(_id);
          if (item == null) {
            // @TODO: Investigate.
            // Doesn't happen during tests or examples.
            // Is it really impossible or could it eventually happen?
            // How to handle it if it does? The types guarantee non-nullable items.
            console.error("If you see this, report it please.");
          } else if (!newIds[_id]) {
            removedIds.push(_id);
            removedItems.push(item);
            this._ids.delete(_id);
          }
        }
        this.length += addedIds.length - removedIds.length;
        // trigger events
        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          });
        }
        if (removedIds.length) {
          this._trigger("remove", {
            items: removedIds,
            oldData: removedItems
          });
        }
      }
      /** @inheritDoc */
    }, {
      key: "get",
      value: function get(first, second) {
        if (this._data == null) {
          return null;
        }
        // parse the arguments
        var ids = null;
        var options;
        if (isId(first) || _Array$isArray(first)) {
          ids = first;
          options = second;
        } else {
          options = first;
        }
        // extend the options with the default options and provided options
        var viewOptions = _Object$assign({}, this._options, options);
        // create a combined filter method when needed
        var thisFilter = _filterInstanceProperty(this._options);
        var optionsFilter = options && _filterInstanceProperty(options);
        if (thisFilter && optionsFilter) {
          viewOptions.filter = function (item) {
            return thisFilter(item) && optionsFilter(item);
          };
        }
        if (ids == null) {
          return this._data.get(viewOptions);
        } else {
          return this._data.get(ids, viewOptions);
        }
      }
      /** @inheritDoc */
    }, {
      key: "getIds",
      value: function getIds(options) {
        if (this._data.length) {
          var defaultFilter = _filterInstanceProperty(this._options);
          var optionsFilter = options != null ? _filterInstanceProperty(options) : null;
          var filter;
          if (optionsFilter) {
            if (defaultFilter) {
              filter = function filter(item) {
                return defaultFilter(item) && optionsFilter(item);
              };
            } else {
              filter = optionsFilter;
            }
          } else {
            filter = defaultFilter;
          }
          return this._data.getIds({
            filter: filter,
            order: options && options.order
          });
        } else {
          return [];
        }
      }
      /** @inheritDoc */
    }, {
      key: "forEach",
      value: function forEach(callback, options) {
        if (this._data) {
          var _context2;
          var defaultFilter = _filterInstanceProperty(this._options);
          var optionsFilter = options && _filterInstanceProperty(options);
          var filter;
          if (optionsFilter) {
            if (defaultFilter) {
              filter = function filter(item) {
                return defaultFilter(item) && optionsFilter(item);
              };
            } else {
              filter = optionsFilter;
            }
          } else {
            filter = defaultFilter;
          }
          _forEachInstanceProperty(_context2 = this._data).call(_context2, callback, {
            filter: filter,
            order: options && options.order
          });
        }
      }
      /** @inheritDoc */
    }, {
      key: "map",
      value: function map(callback, options) {
        if (this._data) {
          var _context3;
          var defaultFilter = _filterInstanceProperty(this._options);
          var optionsFilter = options && _filterInstanceProperty(options);
          var filter;
          if (optionsFilter) {
            if (defaultFilter) {
              filter = function filter(item) {
                return defaultFilter(item) && optionsFilter(item);
              };
            } else {
              filter = optionsFilter;
            }
          } else {
            filter = defaultFilter;
          }
          return _mapInstanceProperty(_context3 = this._data).call(_context3, callback, {
            filter: filter,
            order: options && options.order
          });
        } else {
          return [];
        }
      }
      /** @inheritDoc */
    }, {
      key: "getDataSet",
      value: function getDataSet() {
        return this._data.getDataSet();
      }
      /** @inheritDoc */
    }, {
      key: "stream",
      value: function stream(ids) {
        var _context4;
        return this._data.stream(ids || {
          [_Symbol$iterator]: _bindInstanceProperty$1(_context4 = _keysInstanceProperty(this._ids)).call(_context4, this._ids)
        });
      }
      /**
       * Render the instance unusable prior to garbage collection.
       *
       * @remarks
       * The intention of this method is to help discover scenarios where the data
       * view is being used when the programmer thinks it has been garbage collected
       * already. It's stricter version of `dataView.setData(null)`.
       */
    }, {
      key: "dispose",
      value: function dispose() {
        var _this$_data;
        if ((_this$_data = this._data) !== null && _this$_data !== void 0 && _this$_data.off) {
          this._data.off("*", this._listener);
        }
        var message = "This data view has already been disposed of.";
        var replacement = {
          get: function get() {
            throw new Error(message);
          },
          set: function set() {
            throw new Error(message);
          },
          configurable: false
        };
        var _iterator = _createForOfIteratorHelper(_Reflect$ownKeys(DataView.prototype)),
          _step;
        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var key = _step.value;
            _Object$defineProperty(this, key, replacement);
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }
      }
      /**
       * Event listener. Will propagate all events from the connected data set to the subscribers of the DataView, but will filter the items and only trigger when there are changes in the filtered data set.
       *
       * @param event - The name of the event.
       * @param params - Parameters of the event.
       * @param senderId - Id supplied by the sender.
       */
    }, {
      key: "_onEvent",
      value: function _onEvent(event, params, senderId) {
        if (!params || !params.items || !this._data) {
          return;
        }
        var ids = params.items;
        var addedIds = [];
        var updatedIds = [];
        var removedIds = [];
        var oldItems = [];
        var updatedItems = [];
        var removedItems = [];
        switch (event) {
          case "add":
            // filter the ids of the added items
            for (var i = 0, len = ids.length; i < len; i++) {
              var id = ids[i];
              var item = this.get(id);
              if (item) {
                this._ids.add(id);
                addedIds.push(id);
              }
            }
            break;
          case "update":
            // determine the event from the views viewpoint: an updated
            // item can be added, updated, or removed from this view.
            for (var _i2 = 0, _len2 = ids.length; _i2 < _len2; _i2++) {
              var _id2 = ids[_i2];
              var _item = this.get(_id2);
              if (_item) {
                if (this._ids.has(_id2)) {
                  updatedIds.push(_id2);
                  updatedItems.push(params.data[_i2]);
                  oldItems.push(params.oldData[_i2]);
                } else {
                  this._ids.add(_id2);
                  addedIds.push(_id2);
                }
              } else {
                if (this._ids.has(_id2)) {
                  this._ids.delete(_id2);
                  removedIds.push(_id2);
                  removedItems.push(params.oldData[_i2]);
                }
              }
            }
            break;
          case "remove":
            // filter the ids of the removed items
            for (var _i3 = 0, _len3 = ids.length; _i3 < _len3; _i3++) {
              var _id3 = ids[_i3];
              if (this._ids.has(_id3)) {
                this._ids.delete(_id3);
                removedIds.push(_id3);
                removedItems.push(params.oldData[_i3]);
              }
            }
            break;
        }
        this.length += addedIds.length - removedIds.length;
        if (addedIds.length) {
          this._trigger("add", {
            items: addedIds
          }, senderId);
        }
        if (updatedIds.length) {
          this._trigger("update", {
            items: updatedIds,
            oldData: oldItems,
            data: updatedItems
          }, senderId);
        }
        if (removedIds.length) {
          this._trigger("remove", {
            items: removedIds,
            oldData: removedItems
          }, senderId);
        }
      }
    }]);
    return DataView;
  }(DataSetPart);

  /**
   * Check that given value is compatible with Vis Data Set interface.
   *
   * @param idProp - The expected property to contain item id.
   * @param v - The value to be tested.
   * @returns True if all expected values and methods match, false otherwise.
   */
  function isDataSetLike(idProp, v) {
    return typeof v === "object" && v !== null && idProp === v.idProp && typeof v.add === "function" && typeof v.clear === "function" && typeof v.distinct === "function" && typeof _forEachInstanceProperty(v) === "function" && typeof v.get === "function" && typeof v.getDataSet === "function" && typeof v.getIds === "function" && typeof v.length === "number" && typeof _mapInstanceProperty(v) === "function" && typeof v.max === "function" && typeof v.min === "function" && typeof v.off === "function" && typeof v.on === "function" && typeof v.remove === "function" && typeof v.setOptions === "function" && typeof v.stream === "function" && typeof v.update === "function" && typeof v.updateOnly === "function";
  }

  /**
   * Check that given value is compatible with Vis Data View interface.
   *
   * @param idProp - The expected property to contain item id.
   * @param v - The value to be tested.
   * @returns True if all expected values and methods match, false otherwise.
   */
  function isDataViewLike(idProp, v) {
    return typeof v === "object" && v !== null && idProp === v.idProp && typeof _forEachInstanceProperty(v) === "function" && typeof v.get === "function" && typeof v.getDataSet === "function" && typeof v.getIds === "function" && typeof v.length === "number" && typeof _mapInstanceProperty(v) === "function" && typeof v.off === "function" && typeof v.on === "function" && typeof v.stream === "function" && isDataSetLike(idProp, v.getDataSet());
  }

  exports.DELETE = DELETE;
  exports.DataSet = DataSet;
  exports.DataStream = DataStream;
  exports.DataView = DataView;
  exports.Queue = Queue;
  exports.createNewDataPipeFrom = createNewDataPipeFrom;
  exports.isDataSetLike = isDataSetLike;
  exports.isDataViewLike = isDataViewLike;

}));
//# sourceMappingURL=vis-data.js.map


/***/ }),

/***/ "../../node_modules/vis-data/peer/umd/vis-data.min.js":
/*!************************************************************!*\
  !*** ../../node_modules/vis-data/peer/umd/vis-data.min.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.9
 * @date    2023-11-24T17:53:34.179Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
!function(t,e){ true?e(exports):0}(this,(function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o={exports:{}},i=function(t){return t&&t.Math===Math&&t},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r&&r)||function(){return this}()||r||Function("return this")(),u=function(t){try{return!!t()}catch(t){return!0}},s=!u((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=s,f=Function.prototype,l=f.apply,h=f.call,p="object"==typeof Reflect&&Reflect.apply||(c?h.bind(l):function(){return h.apply(l,arguments)}),v=s,d=Function.prototype,y=d.call,g=v&&d.bind.bind(y,y),m=v?g:function(t){return function(){return y.apply(t,arguments)}},b=m,w=b({}.toString),_=b("".slice),T=function(t){return _(w(t),8,-1)},E=T,O=m,S=function(t){if("Function"===E(t))return O(t)},x="object"==typeof document&&document.all,k={all:x,IS_HTMLDDA:void 0===x&&void 0!==x},j=k.all,A=k.IS_HTMLDDA?function(t){return"function"==typeof t||t===j}:function(t){return"function"==typeof t},P={},I=!u((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),D=s,L=Function.prototype.call,C=D?L.bind(L):function(){return L.apply(L,arguments)},R={},M={}.propertyIsEnumerable,N=Object.getOwnPropertyDescriptor,F=N&&!M.call({1:2},1);R.f=F?function(t){var e=N(this,t);return!!e&&e.enumerable}:M;var z,U,q=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},W=u,Y=T,G=Object,X=m("".split),V=W((function(){return!G("z").propertyIsEnumerable(0)}))?function(t){return"String"===Y(t)?X(t,""):G(t)}:G,B=function(t){return null==t},H=B,K=TypeError,J=function(t){if(H(t))throw new K("Can't call method on "+t);return t},$=V,Q=J,Z=function(t){return $(Q(t))},tt=A,et=k.all,rt=k.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:tt(t)||t===et}:function(t){return"object"==typeof t?null!==t:tt(t)},nt={},ot=nt,it=a,at=A,ut=function(t){return at(t)?t:void 0},st=function(t,e){return arguments.length<2?ut(ot[t])||ut(it[t]):ot[t]&&ot[t][e]||it[t]&&it[t][e]},ct=m({}.isPrototypeOf),ft="undefined"!=typeof navigator&&String(navigator.userAgent)||"",lt=a,ht=ft,pt=lt.process,vt=lt.Deno,dt=pt&&pt.versions||vt&&vt.version,yt=dt&&dt.v8;yt&&(U=(z=yt.split("."))[0]>0&&z[0]<4?1:+(z[0]+z[1])),!U&&ht&&(!(z=ht.match(/Edge\/(\d+)/))||z[1]>=74)&&(z=ht.match(/Chrome\/(\d+)/))&&(U=+z[1]);var gt=U,mt=gt,bt=u,wt=a.String,_t=!!Object.getOwnPropertySymbols&&!bt((function(){var t=Symbol("symbol detection");return!wt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&mt&&mt<41})),Tt=_t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Et=st,Ot=A,St=ct,xt=Object,kt=Tt?function(t){return"symbol"==typeof t}:function(t){var e=Et("Symbol");return Ot(e)&&St(e.prototype,xt(t))},jt=String,At=function(t){try{return jt(t)}catch(t){return"Object"}},Pt=A,It=At,Dt=TypeError,Lt=function(t){if(Pt(t))return t;throw new Dt(It(t)+" is not a function")},Ct=Lt,Rt=B,Mt=function(t,e){var r=t[e];return Rt(r)?void 0:Ct(r)},Nt=C,Ft=A,zt=rt,Ut=TypeError,qt={exports:{}},Wt=a,Yt=Object.defineProperty,Gt=function(t,e){try{Yt(Wt,t,{value:e,configurable:!0,writable:!0})}catch(r){Wt[t]=e}return e},Xt="__core-js_shared__",Vt=a[Xt]||Gt(Xt,{}),Bt=Vt;(qt.exports=function(t,e){return Bt[t]||(Bt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.2",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Ht=qt.exports,Kt=J,Jt=Object,$t=function(t){return Jt(Kt(t))},Qt=$t,Zt=m({}.hasOwnProperty),te=Object.hasOwn||function(t,e){return Zt(Qt(t),e)},ee=m,re=0,ne=Math.random(),oe=ee(1..toString),ie=function(t){return"Symbol("+(void 0===t?"":t)+")_"+oe(++re+ne,36)},ae=Ht,ue=te,se=ie,ce=_t,fe=Tt,le=a.Symbol,he=ae("wks"),pe=fe?le.for||le:le&&le.withoutSetter||se,ve=function(t){return ue(he,t)||(he[t]=ce&&ue(le,t)?le[t]:pe("Symbol."+t)),he[t]},de=C,ye=rt,ge=kt,me=Mt,be=function(t,e){var r,n;if("string"===e&&Ft(r=t.toString)&&!zt(n=Nt(r,t)))return n;if(Ft(r=t.valueOf)&&!zt(n=Nt(r,t)))return n;if("string"!==e&&Ft(r=t.toString)&&!zt(n=Nt(r,t)))return n;throw new Ut("Can't convert object to primitive value")},we=TypeError,_e=ve("toPrimitive"),Te=function(t,e){if(!ye(t)||ge(t))return t;var r,n=me(t,_e);if(n){if(void 0===e&&(e="default"),r=de(n,t,e),!ye(r)||ge(r))return r;throw new we("Can't convert object to primitive value")}return void 0===e&&(e="number"),be(t,e)},Ee=kt,Oe=function(t){var e=Te(t,"string");return Ee(e)?e:e+""},Se=rt,xe=a.document,ke=Se(xe)&&Se(xe.createElement),je=function(t){return ke?xe.createElement(t):{}},Ae=je,Pe=!I&&!u((function(){return 7!==Object.defineProperty(Ae("div"),"a",{get:function(){return 7}}).a})),Ie=I,De=C,Le=R,Ce=q,Re=Z,Me=Oe,Ne=te,Fe=Pe,ze=Object.getOwnPropertyDescriptor;P.f=Ie?ze:function(t,e){if(t=Re(t),e=Me(e),Fe)try{return ze(t,e)}catch(t){}if(Ne(t,e))return Ce(!De(Le.f,t,e),t[e])};var Ue=u,qe=A,We=/#|\.prototype\./,Ye=function(t,e){var r=Xe[Ge(t)];return r===Be||r!==Ve&&(qe(e)?Ue(e):!!e)},Ge=Ye.normalize=function(t){return String(t).replace(We,".").toLowerCase()},Xe=Ye.data={},Ve=Ye.NATIVE="N",Be=Ye.POLYFILL="P",He=Ye,Ke=Lt,Je=s,$e=S(S.bind),Qe=function(t,e){return Ke(t),void 0===e?t:Je?$e(t,e):function(){return t.apply(e,arguments)}},Ze={},tr=I&&u((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),er=rt,rr=String,nr=TypeError,or=function(t){if(er(t))return t;throw new nr(rr(t)+" is not an object")},ir=I,ar=Pe,ur=tr,sr=or,cr=Oe,fr=TypeError,lr=Object.defineProperty,hr=Object.getOwnPropertyDescriptor,pr="enumerable",vr="configurable",dr="writable";Ze.f=ir?ur?function(t,e,r){if(sr(t),e=cr(e),sr(r),"function"==typeof t&&"prototype"===e&&"value"in r&&dr in r&&!r[dr]){var n=hr(t,e);n&&n[dr]&&(t[e]=r.value,r={configurable:vr in r?r[vr]:n[vr],enumerable:pr in r?r[pr]:n[pr],writable:!1})}return lr(t,e,r)}:lr:function(t,e,r){if(sr(t),e=cr(e),sr(r),ar)try{return lr(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new fr("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var yr=Ze,gr=q,mr=I?function(t,e,r){return yr.f(t,e,gr(1,r))}:function(t,e,r){return t[e]=r,t},br=a,wr=p,_r=S,Tr=A,Er=P.f,Or=He,Sr=nt,xr=Qe,kr=mr,jr=te,Ar=function(t){var e=function(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return wr(t,this,arguments)};return e.prototype=t.prototype,e},Pr=function(t,e){var r,n,o,i,a,u,s,c,f,l=t.target,h=t.global,p=t.stat,v=t.proto,d=h?br:p?br[l]:(br[l]||{}).prototype,y=h?Sr:Sr[l]||kr(Sr,l,{})[l],g=y.prototype;for(i in e)n=!(r=Or(h?i:l+(p?".":"#")+i,t.forced))&&d&&jr(d,i),u=y[i],n&&(s=t.dontCallGetSet?(f=Er(d,i))&&f.value:d[i]),a=n&&s?s:e[i],n&&typeof u==typeof a||(c=t.bind&&n?xr(a,br):t.wrap&&n?Ar(a):v&&Tr(a)?_r(a):a,(t.sham||a&&a.sham||u&&u.sham)&&kr(c,"sham",!0),kr(y,i,c),v&&(jr(Sr,o=l+"Prototype")||kr(Sr,o,{}),kr(Sr[o],i,a),t.real&&g&&(r||!g[i])&&kr(g,i,a)))},Ir=Pr,Dr=I,Lr=Ze.f;Ir({target:"Object",stat:!0,forced:Object.defineProperty!==Lr,sham:!Dr},{defineProperty:Lr});var Cr=nt.Object,Rr=o.exports=function(t,e,r){return Cr.defineProperty(t,e,r)};Cr.defineProperty.sham&&(Rr.sham=!0);var Mr=o.exports,Nr=Mr,Fr=n(Nr),zr=T,Ur=Array.isArray||function(t){return"Array"===zr(t)},qr=Math.ceil,Wr=Math.floor,Yr=Math.trunc||function(t){var e=+t;return(e>0?Wr:qr)(e)},Gr=function(t){var e=+t;return e!=e||0===e?0:Yr(e)},Xr=Gr,Vr=Math.min,Br=function(t){return t>0?Vr(Xr(t),9007199254740991):0},Hr=function(t){return Br(t.length)},Kr=TypeError,Jr=function(t){if(t>9007199254740991)throw Kr("Maximum allowed index exceeded");return t},$r=Oe,Qr=Ze,Zr=q,tn=function(t,e,r){var n=$r(e);n in t?Qr.f(t,n,Zr(0,r)):t[n]=r},en={};en[ve("toStringTag")]="z";var rn="[object z]"===String(en),nn=rn,on=A,an=T,un=ve("toStringTag"),sn=Object,cn="Arguments"===an(function(){return arguments}()),fn=nn?an:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=sn(t),un))?r:cn?an(e):"Object"===(n=an(e))&&on(e.callee)?"Arguments":n},ln=A,hn=Vt,pn=m(Function.toString);ln(hn.inspectSource)||(hn.inspectSource=function(t){return pn(t)});var vn=hn.inspectSource,dn=m,yn=u,gn=A,mn=fn,bn=vn,wn=function(){},_n=[],Tn=st("Reflect","construct"),En=/^\s*(?:class|function)\b/,On=dn(En.exec),Sn=!En.test(wn),xn=function(t){if(!gn(t))return!1;try{return Tn(wn,_n,t),!0}catch(t){return!1}},kn=function(t){if(!gn(t))return!1;switch(mn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Sn||!!On(En,bn(t))}catch(t){return!0}};kn.sham=!0;var jn=!Tn||yn((function(){var t;return xn(xn.call)||!xn(Object)||!xn((function(){t=!0}))||t}))?kn:xn,An=Ur,Pn=jn,In=rt,Dn=ve("species"),Ln=Array,Cn=function(t){var e;return An(t)&&(e=t.constructor,(Pn(e)&&(e===Ln||An(e.prototype))||In(e)&&null===(e=e[Dn]))&&(e=void 0)),void 0===e?Ln:e},Rn=function(t,e){return new(Cn(t))(0===e?0:e)},Mn=u,Nn=gt,Fn=ve("species"),zn=function(t){return Nn>=51||!Mn((function(){var e=[];return(e.constructor={})[Fn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Un=Pr,qn=u,Wn=Ur,Yn=rt,Gn=$t,Xn=Hr,Vn=Jr,Bn=tn,Hn=Rn,Kn=zn,Jn=gt,$n=ve("isConcatSpreadable"),Qn=Jn>=51||!qn((function(){var t=[];return t[$n]=!1,t.concat()[0]!==t})),Zn=function(t){if(!Yn(t))return!1;var e=t[$n];return void 0!==e?!!e:Wn(t)};Un({target:"Array",proto:!0,arity:1,forced:!Qn||!Kn("concat")},{concat:function(t){var e,r,n,o,i,a=Gn(this),u=Hn(a,0),s=0;for(e=-1,n=arguments.length;e<n;e++)if(Zn(i=-1===e?a:arguments[e]))for(o=Xn(i),Vn(s+o),r=0;r<o;r++,s++)r in i&&Bn(u,s,i[r]);else Vn(s+1),Bn(u,s++,i);return u.length=s,u}});var to=fn,eo=String,ro=function(t){if("Symbol"===to(t))throw new TypeError("Cannot convert a Symbol value to a string");return eo(t)},no={},oo=Gr,io=Math.max,ao=Math.min,uo=function(t,e){var r=oo(t);return r<0?io(r+e,0):ao(r,e)},so=Z,co=uo,fo=Hr,lo=function(t){return function(e,r,n){var o,i=so(e),a=fo(i),u=co(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},ho={includes:lo(!0),indexOf:lo(!1)},po={},vo=te,yo=Z,go=ho.indexOf,mo=po,bo=m([].push),wo=function(t,e){var r,n=yo(t),o=0,i=[];for(r in n)!vo(mo,r)&&vo(n,r)&&bo(i,r);for(;e.length>o;)vo(n,r=e[o++])&&(~go(i,r)||bo(i,r));return i},_o=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],To=wo,Eo=_o,Oo=Object.keys||function(t){return To(t,Eo)},So=I,xo=tr,ko=Ze,jo=or,Ao=Z,Po=Oo;no.f=So&&!xo?Object.defineProperties:function(t,e){jo(t);for(var r,n=Ao(e),o=Po(e),i=o.length,a=0;i>a;)ko.f(t,r=o[a++],n[r]);return t};var Io,Do=st("document","documentElement"),Lo=ie,Co=Ht("keys"),Ro=function(t){return Co[t]||(Co[t]=Lo(t))},Mo=or,No=no,Fo=_o,zo=po,Uo=Do,qo=je,Wo="prototype",Yo="script",Go=Ro("IE_PROTO"),Xo=function(){},Vo=function(t){return"<"+Yo+">"+t+"</"+Yo+">"},Bo=function(t){t.write(Vo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ho=function(){try{Io=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;Ho="undefined"!=typeof document?document.domain&&Io?Bo(Io):(e=qo("iframe"),r="java"+Yo+":",e.style.display="none",Uo.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Vo("document.F=Object")),t.close(),t.F):Bo(Io);for(var n=Fo.length;n--;)delete Ho[Wo][Fo[n]];return Ho()};zo[Go]=!0;var Ko=Object.create||function(t,e){var r;return null!==t?(Xo[Wo]=Mo(t),r=new Xo,Xo[Wo]=null,r[Go]=t):r=Ho(),void 0===e?r:No.f(r,e)},Jo={},$o=wo,Qo=_o.concat("length","prototype");Jo.f=Object.getOwnPropertyNames||function(t){return $o(t,Qo)};var Zo={},ti=uo,ei=Hr,ri=tn,ni=Array,oi=Math.max,ii=function(t,e,r){for(var n=ei(t),o=ti(e,n),i=ti(void 0===r?n:r,n),a=ni(oi(i-o,0)),u=0;o<i;o++,u++)ri(a,u,t[o]);return a.length=u,a},ai=T,ui=Z,si=Jo.f,ci=ii,fi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Zo.f=function(t){return fi&&"Window"===ai(t)?function(t){try{return si(t)}catch(t){return ci(fi)}}(t):si(ui(t))};var li={};li.f=Object.getOwnPropertySymbols;var hi=mr,pi=function(t,e,r,n){return n&&n.enumerable?t[e]=r:hi(t,e,r),t},vi=Ze,di=function(t,e,r){return vi.f(t,e,r)},yi={},gi=ve;yi.f=gi;var mi,bi,wi,_i=nt,Ti=te,Ei=yi,Oi=Ze.f,Si=function(t){var e=_i.Symbol||(_i.Symbol={});Ti(e,t)||Oi(e,t,{value:Ei.f(t)})},xi=C,ki=st,ji=ve,Ai=pi,Pi=function(){var t=ki("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=ji("toPrimitive");e&&!e[n]&&Ai(e,n,(function(t){return xi(r,this)}),{arity:1})},Ii=fn,Di=rn?{}.toString:function(){return"[object "+Ii(this)+"]"},Li=rn,Ci=Ze.f,Ri=mr,Mi=te,Ni=Di,Fi=ve("toStringTag"),zi=function(t,e,r,n){if(t){var o=r?t:t.prototype;Mi(o,Fi)||Ci(o,Fi,{configurable:!0,value:e}),n&&!Li&&Ri(o,"toString",Ni)}},Ui=A,qi=a.WeakMap,Wi=Ui(qi)&&/native code/.test(String(qi)),Yi=a,Gi=rt,Xi=mr,Vi=te,Bi=Vt,Hi=Ro,Ki=po,Ji="Object already initialized",$i=Yi.TypeError,Qi=Yi.WeakMap;if(Wi||Bi.state){var Zi=Bi.state||(Bi.state=new Qi);Zi.get=Zi.get,Zi.has=Zi.has,Zi.set=Zi.set,mi=function(t,e){if(Zi.has(t))throw new $i(Ji);return e.facade=t,Zi.set(t,e),e},bi=function(t){return Zi.get(t)||{}},wi=function(t){return Zi.has(t)}}else{var ta=Hi("state");Ki[ta]=!0,mi=function(t,e){if(Vi(t,ta))throw new $i(Ji);return e.facade=t,Xi(t,ta,e),e},bi=function(t){return Vi(t,ta)?t[ta]:{}},wi=function(t){return Vi(t,ta)}}var ea={set:mi,get:bi,has:wi,enforce:function(t){return wi(t)?bi(t):mi(t,{})},getterFor:function(t){return function(e){var r;if(!Gi(e)||(r=bi(e)).type!==t)throw new $i("Incompatible receiver, "+t+" required");return r}}},ra=Qe,na=V,oa=$t,ia=Hr,aa=Rn,ua=m([].push),sa=function(t){var e=1===t,r=2===t,n=3===t,o=4===t,i=6===t,a=7===t,u=5===t||i;return function(s,c,f,l){for(var h,p,v=oa(s),d=na(v),y=ra(c,f),g=ia(d),m=0,b=l||aa,w=e?b(s,g):r||a?b(s,0):void 0;g>m;m++)if((u||m in d)&&(p=y(h=d[m],m,v),t))if(e)w[m]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:ua(w,h)}else switch(t){case 4:return!1;case 7:ua(w,h)}return i?-1:n||o?o:w}},ca={forEach:sa(0),map:sa(1),filter:sa(2),some:sa(3),every:sa(4),find:sa(5),findIndex:sa(6),filterReject:sa(7)},fa=Pr,la=a,ha=C,pa=m,va=I,da=_t,ya=u,ga=te,ma=ct,ba=or,wa=Z,_a=Oe,Ta=ro,Ea=q,Oa=Ko,Sa=Oo,xa=Jo,ka=Zo,ja=li,Aa=P,Pa=Ze,Ia=no,Da=R,La=pi,Ca=di,Ra=Ht,Ma=po,Na=ie,Fa=ve,za=yi,Ua=Si,qa=Pi,Wa=zi,Ya=ea,Ga=ca.forEach,Xa=Ro("hidden"),Va="Symbol",Ba="prototype",Ha=Ya.set,Ka=Ya.getterFor(Va),Ja=Object[Ba],$a=la.Symbol,Qa=$a&&$a[Ba],Za=la.RangeError,tu=la.TypeError,eu=la.QObject,ru=Aa.f,nu=Pa.f,ou=ka.f,iu=Da.f,au=pa([].push),uu=Ra("symbols"),su=Ra("op-symbols"),cu=Ra("wks"),fu=!eu||!eu[Ba]||!eu[Ba].findChild,lu=function(t,e,r){var n=ru(Ja,e);n&&delete Ja[e],nu(t,e,r),n&&t!==Ja&&nu(Ja,e,n)},hu=va&&ya((function(){return 7!==Oa(nu({},"a",{get:function(){return nu(this,"a",{value:7}).a}})).a}))?lu:nu,pu=function(t,e){var r=uu[t]=Oa(Qa);return Ha(r,{type:Va,tag:t,description:e}),va||(r.description=e),r},vu=function(t,e,r){t===Ja&&vu(su,e,r),ba(t);var n=_a(e);return ba(r),ga(uu,n)?(r.enumerable?(ga(t,Xa)&&t[Xa][n]&&(t[Xa][n]=!1),r=Oa(r,{enumerable:Ea(0,!1)})):(ga(t,Xa)||nu(t,Xa,Ea(1,{})),t[Xa][n]=!0),hu(t,n,r)):nu(t,n,r)},du=function(t,e){ba(t);var r=wa(e),n=Sa(r).concat(bu(r));return Ga(n,(function(e){va&&!ha(yu,r,e)||vu(t,e,r[e])})),t},yu=function(t){var e=_a(t),r=ha(iu,this,e);return!(this===Ja&&ga(uu,e)&&!ga(su,e))&&(!(r||!ga(this,e)||!ga(uu,e)||ga(this,Xa)&&this[Xa][e])||r)},gu=function(t,e){var r=wa(t),n=_a(e);if(r!==Ja||!ga(uu,n)||ga(su,n)){var o=ru(r,n);return!o||!ga(uu,n)||ga(r,Xa)&&r[Xa][n]||(o.enumerable=!0),o}},mu=function(t){var e=ou(wa(t)),r=[];return Ga(e,(function(t){ga(uu,t)||ga(Ma,t)||au(r,t)})),r},bu=function(t){var e=t===Ja,r=ou(e?su:wa(t)),n=[];return Ga(r,(function(t){!ga(uu,t)||e&&!ga(Ja,t)||au(n,uu[t])})),n};da||($a=function(){if(ma(Qa,this))throw new tu("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Ta(arguments[0]):void 0,e=Na(t),r=function(t){var n=void 0===this?la:this;n===Ja&&ha(r,su,t),ga(n,Xa)&&ga(n[Xa],e)&&(n[Xa][e]=!1);var o=Ea(1,t);try{hu(n,e,o)}catch(t){if(!(t instanceof Za))throw t;lu(n,e,o)}};return va&&fu&&hu(Ja,e,{configurable:!0,set:r}),pu(e,t)},La(Qa=$a[Ba],"toString",(function(){return Ka(this).tag})),La($a,"withoutSetter",(function(t){return pu(Na(t),t)})),Da.f=yu,Pa.f=vu,Ia.f=du,Aa.f=gu,xa.f=ka.f=mu,ja.f=bu,za.f=function(t){return pu(Fa(t),t)},va&&Ca(Qa,"description",{configurable:!0,get:function(){return Ka(this).description}})),fa({global:!0,constructor:!0,wrap:!0,forced:!da,sham:!da},{Symbol:$a}),Ga(Sa(cu),(function(t){Ua(t)})),fa({target:Va,stat:!0,forced:!da},{useSetter:function(){fu=!0},useSimple:function(){fu=!1}}),fa({target:"Object",stat:!0,forced:!da,sham:!va},{create:function(t,e){return void 0===e?Oa(t):du(Oa(t),e)},defineProperty:vu,defineProperties:du,getOwnPropertyDescriptor:gu}),fa({target:"Object",stat:!0,forced:!da},{getOwnPropertyNames:mu}),qa(),Wa($a,Va),Ma[Xa]=!0;var wu=_t&&!!Symbol.for&&!!Symbol.keyFor,_u=Pr,Tu=st,Eu=te,Ou=ro,Su=Ht,xu=wu,ku=Su("string-to-symbol-registry"),ju=Su("symbol-to-string-registry");_u({target:"Symbol",stat:!0,forced:!xu},{for:function(t){var e=Ou(t);if(Eu(ku,e))return ku[e];var r=Tu("Symbol")(e);return ku[e]=r,ju[r]=e,r}});var Au=Pr,Pu=te,Iu=kt,Du=At,Lu=wu,Cu=Ht("symbol-to-string-registry");Au({target:"Symbol",stat:!0,forced:!Lu},{keyFor:function(t){if(!Iu(t))throw new TypeError(Du(t)+" is not a symbol");if(Pu(Cu,t))return Cu[t]}});var Ru=m([].slice),Mu=Ur,Nu=A,Fu=T,zu=ro,Uu=m([].push),qu=Pr,Wu=st,Yu=p,Gu=C,Xu=m,Vu=u,Bu=A,Hu=kt,Ku=Ru,Ju=function(t){if(Nu(t))return t;if(Mu(t)){for(var e=t.length,r=[],n=0;n<e;n++){var o=t[n];"string"==typeof o?Uu(r,o):"number"!=typeof o&&"Number"!==Fu(o)&&"String"!==Fu(o)||Uu(r,zu(o))}var i=r.length,a=!0;return function(t,e){if(a)return a=!1,e;if(Mu(this))return e;for(var n=0;n<i;n++)if(r[n]===t)return e}}},$u=_t,Qu=String,Zu=Wu("JSON","stringify"),ts=Xu(/./.exec),es=Xu("".charAt),rs=Xu("".charCodeAt),ns=Xu("".replace),os=Xu(1..toString),is=/[\uD800-\uDFFF]/g,as=/^[\uD800-\uDBFF]$/,us=/^[\uDC00-\uDFFF]$/,ss=!$u||Vu((function(){var t=Wu("Symbol")("stringify detection");return"[null]"!==Zu([t])||"{}"!==Zu({a:t})||"{}"!==Zu(Object(t))})),cs=Vu((function(){return'"\\udf06\\ud834"'!==Zu("\udf06\ud834")||'"\\udead"'!==Zu("\udead")})),fs=function(t,e){var r=Ku(arguments),n=Ju(e);if(Bu(n)||void 0!==t&&!Hu(t))return r[1]=function(t,e){if(Bu(n)&&(e=Gu(n,this,Qu(t),e)),!Hu(e))return e},Yu(Zu,null,r)},ls=function(t,e,r){var n=es(r,e-1),o=es(r,e+1);return ts(as,t)&&!ts(us,o)||ts(us,t)&&!ts(as,n)?"\\u"+os(rs(t,0),16):t};Zu&&qu({target:"JSON",stat:!0,arity:3,forced:ss||cs},{stringify:function(t,e,r){var n=Ku(arguments),o=Yu(ss?fs:Zu,null,n);return cs&&"string"==typeof o?ns(o,is,ls):o}});var hs=li,ps=$t;Pr({target:"Object",stat:!0,forced:!_t||u((function(){hs.f(1)}))},{getOwnPropertySymbols:function(t){var e=hs.f;return e?e(ps(t)):[]}}),Si("asyncIterator"),Si("hasInstance"),Si("isConcatSpreadable"),Si("iterator"),Si("match"),Si("matchAll"),Si("replace"),Si("search"),Si("species"),Si("split");var vs=Pi;Si("toPrimitive"),vs();var ds=st,ys=zi;Si("toStringTag"),ys(ds("Symbol"),"Symbol"),Si("unscopables"),zi(a.JSON,"JSON",!0);var gs,ms,bs,ws=nt.Symbol,_s={},Ts=I,Es=te,Os=Function.prototype,Ss=Ts&&Object.getOwnPropertyDescriptor,xs=Es(Os,"name"),ks={EXISTS:xs,PROPER:xs&&"something"===function(){}.name,CONFIGURABLE:xs&&(!Ts||Ts&&Ss(Os,"name").configurable)},js=!u((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),As=te,Ps=A,Is=$t,Ds=js,Ls=Ro("IE_PROTO"),Cs=Object,Rs=Cs.prototype,Ms=Ds?Cs.getPrototypeOf:function(t){var e=Is(t);if(As(e,Ls))return e[Ls];var r=e.constructor;return Ps(r)&&e instanceof r?r.prototype:e instanceof Cs?Rs:null},Ns=u,Fs=A,zs=rt,Us=Ko,qs=Ms,Ws=pi,Ys=ve("iterator"),Gs=!1;[].keys&&("next"in(bs=[].keys())?(ms=qs(qs(bs)))!==Object.prototype&&(gs=ms):Gs=!0);var Xs=!zs(gs)||Ns((function(){var t={};return gs[Ys].call(t)!==t}));Fs((gs=Xs?{}:Us(gs))[Ys])||Ws(gs,Ys,(function(){return this}));var Vs={IteratorPrototype:gs,BUGGY_SAFARI_ITERATORS:Gs},Bs=Vs.IteratorPrototype,Hs=Ko,Ks=q,Js=zi,$s=_s,Qs=function(){return this},Zs=m,tc=Lt,ec=A,rc=String,nc=TypeError,oc=function(t,e,r){try{return Zs(tc(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},ic=or,ac=function(t){if("object"==typeof t||ec(t))return t;throw new nc("Can't set "+rc(t)+" as a prototype")},uc=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=oc(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return ic(r),ac(n),e?t(r,n):r.__proto__=n,r}}():void 0),sc=Pr,cc=C,fc=ks,lc=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Hs(Bs,{next:Ks(+!n,r)}),Js(t,o,!1,!0),$s[o]=Qs,t},hc=Ms,pc=zi,vc=pi,dc=_s,yc=Vs,gc=fc.PROPER,mc=yc.BUGGY_SAFARI_ITERATORS,bc=ve("iterator"),wc="keys",_c="values",Tc="entries",Ec=function(){return this},Oc=function(t,e,r,n,o,i,a){lc(r,e,n);var u,s,c,f=function(t){if(t===o&&d)return d;if(!mc&&t&&t in p)return p[t];switch(t){case wc:case _c:case Tc:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",h=!1,p=t.prototype,v=p[bc]||p["@@iterator"]||o&&p[o],d=!mc&&v||f(o),y="Array"===e&&p.entries||v;if(y&&(u=hc(y.call(new t)))!==Object.prototype&&u.next&&(pc(u,l,!0,!0),dc[l]=Ec),gc&&o===_c&&v&&v.name!==_c&&(h=!0,d=function(){return cc(v,this)}),o)if(s={values:f(_c),keys:i?d:f(wc),entries:f(Tc)},a)for(c in s)(mc||h||!(c in p))&&vc(p,c,s[c]);else sc({target:e,proto:!0,forced:mc||h},s);return a&&p[bc]!==d&&vc(p,bc,d,{name:o}),dc[e]=d,s},Sc=function(t,e){return{value:t,done:e}},xc=Z,kc=_s,jc=ea;Ze.f;var Ac=Oc,Pc=Sc,Ic="Array Iterator",Dc=jc.set,Lc=jc.getterFor(Ic);Ac(Array,"Array",(function(t,e){Dc(this,{type:Ic,target:xc(t),index:0,kind:e})}),(function(){var t=Lc(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,Pc(void 0,!0);switch(t.kind){case"keys":return Pc(r,!1);case"values":return Pc(e[r],!1)}return Pc([r,e[r]],!1)}),"values"),kc.Arguments=kc.Array;var Cc={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Rc=a,Mc=fn,Nc=mr,Fc=_s,zc=ve("toStringTag");for(var Uc in Cc){var qc=Rc[Uc],Wc=qc&&qc.prototype;Wc&&Mc(Wc)!==zc&&Nc(Wc,zc,Uc),Fc[Uc]=Fc.Array}var Yc=ws,Gc=ve,Xc=Ze.f,Vc=Gc("metadata"),Bc=Function.prototype;void 0===Bc[Vc]&&Xc(Bc,Vc,{value:null}),Si("asyncDispose"),Si("dispose"),Si("metadata");var Hc=Yc,Kc=m,Jc=st("Symbol"),$c=Jc.keyFor,Qc=Kc(Jc.prototype.valueOf),Zc=Jc.isRegisteredSymbol||function(t){try{return void 0!==$c(Qc(t))}catch(t){return!1}};Pr({target:"Symbol",stat:!0},{isRegisteredSymbol:Zc});for(var tf=Ht,ef=st,rf=m,nf=kt,of=ve,af=ef("Symbol"),uf=af.isWellKnownSymbol,sf=ef("Object","getOwnPropertyNames"),cf=rf(af.prototype.valueOf),ff=tf("wks"),lf=0,hf=sf(af),pf=hf.length;lf<pf;lf++)try{var vf=hf[lf];nf(af[vf])&&of(vf)}catch(t){}var df=function(t){if(uf&&uf(t))return!0;try{for(var e=cf(t),r=0,n=sf(ff),o=n.length;r<o;r++)if(ff[n[r]]==e)return!0}catch(t){}return!1};Pr({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:df}),Si("matcher"),Si("observable"),Pr({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Zc}),Pr({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:df}),Si("metadataKey"),Si("patternMatch"),Si("replaceAll");var yf=Hc,gf=n(yf),mf=m,bf=Gr,wf=ro,_f=J,Tf=mf("".charAt),Ef=mf("".charCodeAt),Of=mf("".slice),Sf=function(t){return function(e,r){var n,o,i=wf(_f(e)),a=bf(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=Ef(i,a))<55296||n>56319||a+1===u||(o=Ef(i,a+1))<56320||o>57343?t?Tf(i,a):n:t?Of(i,a,a+2):o-56320+(n-55296<<10)+65536}},xf={codeAt:Sf(!1),charAt:Sf(!0)}.charAt,kf=ro,jf=ea,Af=Oc,Pf=Sc,If="String Iterator",Df=jf.set,Lf=jf.getterFor(If);Af(String,"String",(function(t){Df(this,{type:If,string:kf(t),index:0})}),(function(){var t,e=Lf(this),r=e.string,n=e.index;return n>=r.length?Pf(void 0,!0):(t=xf(r,n),e.index+=t.length,Pf(t,!1))}));var Cf=yi.f("iterator"),Rf=Cf,Mf=n(Rf);function Nf(t){return Nf="function"==typeof gf&&"symbol"==typeof Mf?function(t){return typeof t}:function(t){return t&&"function"==typeof gf&&t.constructor===gf&&t!==gf.prototype?"symbol":typeof t},Nf(t)}var Ff=n(yi.f("toPrimitive"));function zf(t){var e=function(t,e){if("object"!==Nf(t)||null===t)return t;var r=t[Ff];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Nf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nf(e)?e:String(e)}function Uf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Fr(t,zf(n.key),n)}}function qf(t,e,r){return e&&Uf(t.prototype,e),r&&Uf(t,r),Fr(t,"prototype",{writable:!1}),t}function Wf(t,e,r){return(e=zf(e))in t?Fr(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yf=m,Gf=Lt,Xf=rt,Vf=te,Bf=Ru,Hf=s,Kf=Function,Jf=Yf([].concat),$f=Yf([].join),Qf={},Zf=Hf?Kf.bind:function(t){var e=Gf(this),r=e.prototype,n=Bf(arguments,1),o=function(){var r=Jf(n,Bf(arguments));return this instanceof o?function(t,e,r){if(!Vf(Qf,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";Qf[e]=Kf("C,a","return new C("+$f(n,",")+")")}return Qf[e](t,r)}(e,r.length,r):e.apply(t,r)};return Xf(r)&&(o.prototype=r),o},tl=Zf;Pr({target:"Function",proto:!0,forced:Function.bind!==tl},{bind:tl});var el=a,rl=nt,nl=function(t,e){var r=rl[t+"Prototype"],n=r&&r[e];if(n)return n;var o=el[t],i=o&&o.prototype;return i&&i[e]},ol=nl("Function","bind"),il=ct,al=ol,ul=Function.prototype,sl=function(t){var e=t.bind;return t===ul||il(ul,t)&&e===ul.bind?al:e},cl=n(sl),fl=Lt,ll=$t,hl=V,pl=Hr,vl=TypeError,dl=function(t){return function(e,r,n,o){fl(r);var i=ll(e),a=hl(i),u=pl(i),s=t?u-1:0,c=t?-1:1;if(n<2)for(;;){if(s in a){o=a[s],s+=c;break}if(s+=c,t?s<0:u<=s)throw new vl("Reduce of empty array with no initial value")}for(;t?s>=0:u>s;s+=c)s in a&&(o=r(o,a[s],s,i));return o}},yl={left:dl(!1),right:dl(!0)},gl=u,ml=function(t,e){var r=[][t];return!!r&&gl((function(){r.call(null,e||function(){return 1},1)}))},bl="process"===T(a.process),wl=yl.left;Pr({target:"Array",proto:!0,forced:!bl&&gt>79&&gt<83||!ml("reduce")},{reduce:function(t){var e=arguments.length;return wl(this,t,e,e>1?arguments[1]:void 0)}});var _l=nl("Array","reduce"),Tl=ct,El=_l,Ol=Array.prototype,Sl=n((function(t){var e=t.reduce;return t===Ol||Tl(Ol,t)&&e===Ol.reduce?El:e})),xl=ca.filter;Pr({target:"Array",proto:!0,forced:!zn("filter")},{filter:function(t){return xl(this,t,arguments.length>1?arguments[1]:void 0)}});var kl=nl("Array","filter"),jl=ct,Al=kl,Pl=Array.prototype,Il=n((function(t){var e=t.filter;return t===Pl||jl(Pl,t)&&e===Pl.filter?Al:e})),Dl=ca.map;Pr({target:"Array",proto:!0,forced:!zn("map")},{map:function(t){return Dl(this,t,arguments.length>1?arguments[1]:void 0)}});var Ll=nl("Array","map"),Cl=ct,Rl=Ll,Ml=Array.prototype,Nl=n((function(t){var e=t.map;return t===Ml||Cl(Ml,t)&&e===Ml.map?Rl:e})),Fl=Ur,zl=Hr,Ul=Jr,ql=Qe,Wl=function(t,e,r,n,o,i,a,u){for(var s,c,f=o,l=0,h=!!a&&ql(a,u);l<n;)l in r&&(s=h?h(r[l],l,e):r[l],i>0&&Fl(s)?(c=zl(s),f=Wl(t,e,s,c,f,i-1)-1):(Ul(f+1),t[f]=s),f++),l++;return f},Yl=Wl,Gl=Lt,Xl=$t,Vl=Hr,Bl=Rn;Pr({target:"Array",proto:!0},{flatMap:function(t){var e,r=Xl(this),n=Vl(r);return Gl(t),(e=Bl(r,0)).length=Yl(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var Hl=nl("Array","flatMap"),Kl=ct,Jl=Hl,$l=Array.prototype,Ql=n((function(t){var e=t.flatMap;return t===$l||Kl($l,t)&&e===$l.flatMap?Jl:e}));var Zl=function(){function t(r,n,o){var i,a,u;e(this,t),Wf(this,"_listeners",{add:cl(i=this._add).call(i,this),remove:cl(a=this._remove).call(a,this),update:cl(u=this._update).call(u,this)}),this._source=r,this._transformers=n,this._target=o}return qf(t,[{key:"all",value:function(){return this._target.update(this._transformItems(this._source.get())),this}},{key:"start",value:function(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}},{key:"stop",value:function(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}},{key:"_transformItems",value:function(t){var e;return Sl(e=this._transformers).call(e,(function(t,e){return e(t)}),t)}},{key:"_add",value:function(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}},{key:"_update",value:function(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}},{key:"_remove",value:function(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}]),t}(),th=function(){function t(r){e(this,t),Wf(this,"_transformers",[]),this._source=r}return qf(t,[{key:"filter",value:function(t){return this._transformers.push((function(e){return Il(e).call(e,t)})),this}},{key:"map",value:function(t){return this._transformers.push((function(e){return Nl(e).call(e,t)})),this}},{key:"flatMap",value:function(t){return this._transformers.push((function(e){return Ql(e).call(e,t)})),this}},{key:"to",value:function(t){return new Zl(this._source,this._transformers,t)}}]),t}(),eh=C,rh=or,nh=Mt,oh=function(t,e,r){var n,o;rh(t);try{if(!(n=nh(t,"return"))){if("throw"===e)throw r;return r}n=eh(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return rh(n),r},ih=or,ah=oh,uh=_s,sh=ve("iterator"),ch=Array.prototype,fh=function(t){return void 0!==t&&(uh.Array===t||ch[sh]===t)},lh=fn,hh=Mt,ph=B,vh=_s,dh=ve("iterator"),yh=function(t){if(!ph(t))return hh(t,dh)||hh(t,"@@iterator")||vh[lh(t)]},gh=C,mh=Lt,bh=or,wh=At,_h=yh,Th=TypeError,Eh=function(t,e){var r=arguments.length<2?_h(t):e;if(mh(r))return bh(gh(r,t));throw new Th(wh(t)+" is not iterable")},Oh=Qe,Sh=C,xh=$t,kh=function(t,e,r,n){try{return n?e(ih(r)[0],r[1]):e(r)}catch(e){ah(t,"throw",e)}},jh=fh,Ah=jn,Ph=Hr,Ih=tn,Dh=Eh,Lh=yh,Ch=Array,Rh=ve("iterator"),Mh=!1;try{var Nh=0,Fh={next:function(){return{done:!!Nh++}},return:function(){Mh=!0}};Fh[Rh]=function(){return this},Array.from(Fh,(function(){throw 2}))}catch(t){}var zh=function(t,e){try{if(!e&&!Mh)return!1}catch(t){return!1}var r=!1;try{var n={};n[Rh]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Uh=function(t){var e=xh(t),r=Ah(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Oh(o,n>2?arguments[2]:void 0));var a,u,s,c,f,l,h=Lh(e),p=0;if(!h||this===Ch&&jh(h))for(a=Ph(e),u=r?new this(a):Ch(a);a>p;p++)l=i?o(e[p],p):e[p],Ih(u,p,l);else for(f=(c=Dh(e,h)).next,u=r?new this:[];!(s=Sh(f,c)).done;p++)l=i?kh(c,o,[s.value,p],!0):s.value,Ih(u,p,l);return u.length=p,u};Pr({target:"Array",stat:!0,forced:!zh((function(t){Array.from(t)}))},{from:Uh});var qh=nt.Array.from,Wh=n(qh),Yh=yh,Gh=n(Yh),Xh=n(Yh);Pr({target:"Array",stat:!0},{isArray:Ur});var Vh=nt.Array.isArray,Bh=n(Vh);var Hh=I,Kh=Ur,Jh=TypeError,$h=Object.getOwnPropertyDescriptor,Qh=Hh&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Kh(t)&&!$h(t,"length").writable)throw new Jh("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Zh=$t,tp=Hr,ep=Qh,rp=Jr;Pr({target:"Array",proto:!0,arity:1,forced:u((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=Zh(this),r=tp(e),n=arguments.length;rp(r+n);for(var o=0;o<n;o++)e[r]=arguments[o],r++;return ep(e,r),r}});var np=nl("Array","push"),op=ct,ip=np,ap=Array.prototype,up=function(t){var e=t.push;return t===ap||op(ap,t)&&e===ap.push?ip:e},sp=n(up);var cp=Pr,fp=Ur,lp=jn,hp=rt,pp=uo,vp=Hr,dp=Z,yp=tn,gp=ve,mp=Ru,bp=zn("slice"),wp=gp("species"),_p=Array,Tp=Math.max;cp({target:"Array",proto:!0,forced:!bp},{slice:function(t,e){var r,n,o,i=dp(this),a=vp(i),u=pp(t,a),s=pp(void 0===e?a:e,a);if(fp(i)&&(r=i.constructor,(lp(r)&&(r===_p||fp(r.prototype))||hp(r)&&null===(r=r[wp]))&&(r=void 0),r===_p||void 0===r))return mp(i,u,s);for(n=new(void 0===r?_p:r)(Tp(s-u,0)),o=0;u<s;u++,o++)u in i&&yp(n,o,i[u]);return n.length=o,n}});var Ep=nl("Array","slice"),Op=ct,Sp=Ep,xp=Array.prototype,kp=function(t){var e=t.slice;return t===xp||Op(xp,t)&&e===xp.slice?Sp:e},jp=kp,Ap=n(jp),Pp=n(qh);function Ip(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dp(t,e){var r;if(t){if("string"==typeof t)return Ip(t,e);var n=Ap(r=Object.prototype.toString.call(t)).call(r,8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Pp(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ip(t,e):void 0}}function Lp(t,e){return function(t){if(Bh(t))return t}(t)||function(t,e){var r=null==t?null:void 0!==gf&&Gh(t)||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],s=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(sp(u).call(u,n.value),u.length!==e);s=!0);}catch(t){c=!0,o=t}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Dp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cp(t){return function(t){if(Bh(t))return Ip(t)}(t)||function(t){if(void 0!==gf&&null!=Gh(t)||null!=t["@@iterator"])return Pp(t)}(t)||Dp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Rp=n(Yc),Mp=nl("Array","concat"),Np=ct,Fp=Mp,zp=Array.prototype,Up=n((function(t){var e=t.concat;return t===zp||Np(zp,t)&&e===zp.concat?Fp:e})),qp=n(kp),Wp=st,Yp=Jo,Gp=li,Xp=or,Vp=m([].concat),Bp=Wp("Reflect","ownKeys")||function(t){var e=Yp.f(Xp(t)),r=Gp.f;return r?Vp(e,r(t)):e};Pr({target:"Reflect",stat:!0},{ownKeys:Bp});var Hp=n(nt.Reflect.ownKeys),Kp=n(Vh),Jp=$t,$p=Oo;Pr({target:"Object",stat:!0,forced:u((function(){$p(1)}))},{keys:function(t){return $p(Jp(t))}});var Qp=n(nt.Object.keys),Zp=ca.forEach,tv=ml("forEach")?[].forEach:function(t){return Zp(this,t,arguments.length>1?arguments[1]:void 0)};Pr({target:"Array",proto:!0,forced:[].forEach!==tv},{forEach:tv});var ev=nl("Array","forEach"),rv=fn,nv=te,ov=ct,iv=ev,av=Array.prototype,uv={DOMTokenList:!0,NodeList:!0},sv=function(t){var e=t.forEach;return t===av||ov(av,t)&&e===av.forEach||nv(uv,rv(t))?iv:e},cv=n(sv),fv=Pr,lv=Ur,hv=m([].reverse),pv=[1,2];fv({target:"Array",proto:!0,forced:String(pv)===String(pv.reverse())},{reverse:function(){return lv(this)&&(this.length=this.length),hv(this)}});var vv=nl("Array","reverse"),dv=ct,yv=vv,gv=Array.prototype,mv=function(t){var e=t.reverse;return t===gv||dv(gv,t)&&e===gv.reverse?yv:e},bv=n(mv),wv=At,_v=TypeError,Tv=function(t,e){if(!delete t[e])throw new _v("Cannot delete property "+wv(e)+" of "+wv(t))},Ev=Pr,Ov=$t,Sv=uo,xv=Gr,kv=Hr,jv=Qh,Av=Jr,Pv=Rn,Iv=tn,Dv=Tv,Lv=zn("splice"),Cv=Math.max,Rv=Math.min;Ev({target:"Array",proto:!0,forced:!Lv},{splice:function(t,e){var r,n,o,i,a,u,s=Ov(this),c=kv(s),f=Sv(t,c),l=arguments.length;for(0===l?r=n=0:1===l?(r=0,n=c-f):(r=l-2,n=Rv(Cv(xv(e),0),c-f)),Av(c+r-n),o=Pv(s,n),i=0;i<n;i++)(a=f+i)in s&&Iv(o,i,s[a]);if(o.length=n,r<n){for(i=f;i<c-n;i++)u=i+r,(a=i+n)in s?s[u]=s[a]:Dv(s,u);for(i=c;i>c-n+r;i--)Dv(s,i-1)}else if(r>n)for(i=c-n;i>f;i--)u=i+r-1,(a=i+n-1)in s?s[u]=s[a]:Dv(s,u);for(i=0;i<r;i++)s[i+f]=arguments[i+2];return jv(s,c-n+r),o}});var Mv=nl("Array","splice"),Nv=ct,Fv=Mv,zv=Array.prototype,Uv=n((function(t){var e=t.splice;return t===zv||Nv(zv,t)&&e===zv.splice?Fv:e})),qv=I,Wv=m,Yv=C,Gv=u,Xv=Oo,Vv=li,Bv=R,Hv=$t,Kv=V,Jv=Object.assign,$v=Object.defineProperty,Qv=Wv([].concat),Zv=!Jv||Gv((function(){if(qv&&1!==Jv({b:1},Jv($v({},"a",{enumerable:!0,get:function(){$v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!==Jv({},t)[r]||Xv(Jv({},e)).join("")!==n}))?function(t,e){for(var r=Hv(t),n=arguments.length,o=1,i=Vv.f,a=Bv.f;n>o;)for(var u,s=Kv(arguments[o++]),c=i?Qv(Xv(s),i(s)):Xv(s),f=c.length,l=0;f>l;)u=c[l++],qv&&!Yv(a,s,u)||(r[u]=s[u]);return r}:Jv,td=Zv;Pr({target:"Object",stat:!0,arity:2,forced:Object.assign!==td},{assign:td});var ed=n(nt.Object.assign),rd=$t,nd=Ms,od=js;Pr({target:"Object",stat:!0,forced:u((function(){nd(1)})),sham:!od},{getPrototypeOf:function(t){return nd(rd(t))}});var id=nt.Object.getPrototypeOf;Pr({target:"Object",stat:!0,sham:!I},{create:Ko});var ad=nt.Object,ud=function(t,e){return ad.create(t,e)},sd=n(ud),cd=nt,fd=p;cd.JSON||(cd.JSON={stringify:JSON.stringify});var ld=function(t,e,r){return fd(cd.JSON.stringify,null,arguments)},hd=n(ld),pd="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,vd=TypeError,dd=function(t,e){if(t<e)throw new vd("Not enough arguments");return t},yd=a,gd=p,md=A,bd=pd,wd=ft,_d=Ru,Td=dd,Ed=yd.Function,Od=/MSIE .\./.test(wd)||bd&&function(){var t=yd.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),Sd=function(t,e){var r=e?2:1;return Od?function(n,o){var i=Td(arguments.length,1)>r,a=md(n)?n:Ed(n),u=i?_d(arguments,r):[],s=i?function(){gd(a,this,u)}:a;return e?t(s,o):t(s)}:t},xd=Pr,kd=a,jd=Sd(kd.setInterval,!0);xd({global:!0,bind:!0,forced:kd.setInterval!==jd},{setInterval:jd});var Ad=Pr,Pd=a,Id=Sd(Pd.setTimeout,!0);Ad({global:!0,bind:!0,forced:Pd.setTimeout!==Id},{setTimeout:Id});var Dd=n(nt.setTimeout),Ld={exports:{}};!function(t){function e(t){if(t)return function(t){return Object.assign(t,e.prototype),t._callbacks=new Map,t}(t);this._callbacks=new Map}e.prototype.on=function(t,e){const r=this._callbacks.get(t)??[];return r.push(e),this._callbacks.set(t,r),this},e.prototype.once=function(t,e){const r=(...n)=>{this.off(t,r),e.apply(this,n)};return r.fn=e,this.on(t,r),this},e.prototype.off=function(t,e){if(void 0===t&&void 0===e)return this._callbacks.clear(),this;if(void 0===e)return this._callbacks.delete(t),this;const r=this._callbacks.get(t);if(r){for(const[t,n]of r.entries())if(n===e||n.fn===e){r.splice(t,1);break}0===r.length?this._callbacks.delete(t):this._callbacks.set(t,r)}return this},e.prototype.emit=function(t,...e){const r=this._callbacks.get(t);if(r){const t=[...r];for(const r of t)r.apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks.get(t)??[]},e.prototype.listenerCount=function(t){if(t)return this.listeners(t).length;let e=0;for(const t of this._callbacks.values())e+=t.length;return e},e.prototype.hasListeners=function(t){return this.listenerCount(t)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Ld);var Cd,Rd=n(Ld.exports);
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
   * http://naver.github.io/egjs
   *
   * Forked By Naver egjs
   * Copyright (c) hammerjs
   * Licensed under the MIT license */
function Md(){return Md=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Md.apply(this,arguments)}function Nd(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Fd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Cd="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var zd,Ud=Cd,qd=["","webkit","Moz","MS","ms","o"],Wd="undefined"==typeof document?{style:{}}:document.createElement("div"),Yd=Math.round,Gd=Math.abs,Xd=Date.now;function Vd(t,e){for(var r,n,o=e[0].toUpperCase()+e.slice(1),i=0;i<qd.length;){if((n=(r=qd[i])?r+o:e)in t)return n;i++}}zd="undefined"==typeof window?{}:window;var Bd=Vd(Wd.style,"touchAction"),Hd=void 0!==Bd;var Kd="compute",Jd="auto",$d="manipulation",Qd="none",Zd="pan-x",ty="pan-y",ey=function(){if(!Hd)return!1;var t={},e=zd.CSS&&zd.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(r){return t[r]=!e||zd.CSS.supports("touch-action",r)})),t}(),ry="ontouchstart"in zd,ny=void 0!==Vd(zd,"PointerEvent"),oy=ry&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),iy="touch",ay="mouse",uy=25,sy=1,cy=4,fy=8,ly=1,hy=2,py=4,vy=8,dy=16,yy=hy|py,gy=vy|dy,my=yy|gy,by=["x","y"],wy=["clientX","clientY"];function _y(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Ty(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function Ey(t,e){return t.indexOf(e)>-1}var Oy=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Kd&&(t=this.compute()),Hd&&this.manager.element.style&&ey[t]&&(this.manager.element.style[Bd]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return _y(this.manager.recognizers,(function(e){Ty(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(Ey(t,Qd))return Qd;var e=Ey(t,Zd),r=Ey(t,ty);return e&&r?Qd:e||r?e?Zd:ty:Ey(t,$d)?$d:Jd}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,r=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=Ey(n,Qd)&&!ey[Qd],i=Ey(n,ty)&&!ey[ty],a=Ey(n,Zd)&&!ey[Zd];if(o){var u=1===t.pointers.length,s=t.distance<2,c=t.deltaTime<250;if(u&&s&&c)return}if(!a||!i)return o||i&&r&yy||a&&r&gy?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function Sy(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function xy(t){var e=t.length;if(1===e)return{x:Yd(t[0].clientX),y:Yd(t[0].clientY)};for(var r=0,n=0,o=0;o<e;)r+=t[o].clientX,n+=t[o].clientY,o++;return{x:Yd(r/e),y:Yd(n/e)}}function ky(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Yd(t.pointers[r].clientX),clientY:Yd(t.pointers[r].clientY)},r++;return{timeStamp:Xd(),pointers:e,center:xy(e),deltaX:t.deltaX,deltaY:t.deltaY}}function jy(t,e,r){r||(r=by);var n=e[r[0]]-t[r[0]],o=e[r[1]]-t[r[1]];return Math.sqrt(n*n+o*o)}function Ay(t,e,r){r||(r=by);var n=e[r[0]]-t[r[0]],o=e[r[1]]-t[r[1]];return 180*Math.atan2(o,n)/Math.PI}function Py(t,e){return t===e?ly:Gd(t)>=Gd(e)?t<0?hy:py:e<0?vy:dy}function Iy(t,e,r){return{x:e/t||0,y:r/t||0}}function Dy(t,e){var r=t.session,n=e.pointers,o=n.length;r.firstInput||(r.firstInput=ky(e)),o>1&&!r.firstMultiple?r.firstMultiple=ky(e):1===o&&(r.firstMultiple=!1);var i=r.firstInput,a=r.firstMultiple,u=a?a.center:i.center,s=e.center=xy(n);e.timeStamp=Xd(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=Ay(u,s),e.distance=jy(u,s),function(t,e){var r=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},i=t.prevInput||{};e.eventType!==sy&&i.eventType!==cy||(o=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=o.x+(r.x-n.x),e.deltaY=o.y+(r.y-n.y)}(r,e),e.offsetDirection=Py(e.deltaX,e.deltaY);var c,f,l=Iy(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Gd(l.x)>Gd(l.y)?l.x:l.y,e.scale=a?(c=a.pointers,jy((f=n)[0],f[1],wy)/jy(c[0],c[1],wy)):1,e.rotation=a?function(t,e){return Ay(e[1],e[0],wy)+Ay(t[1],t[0],wy)}(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,function(t,e){var r,n,o,i,a=t.lastInterval||e,u=e.timeStamp-a.timeStamp;if(e.eventType!==fy&&(u>uy||void 0===a.velocity)){var s=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,f=Iy(u,s,c);n=f.x,o=f.y,r=Gd(f.x)>Gd(f.y)?f.x:f.y,i=Py(s,c),t.lastInterval=e}else r=a.velocity,n=a.velocityX,o=a.velocityY,i=a.direction;e.velocity=r,e.velocityX=n,e.velocityY=o,e.direction=i}(r,e);var h,p=t.element,v=e.srcEvent;Sy(h=v.composedPath?v.composedPath()[0]:v.path?v.path[0]:v.target,p)&&(p=h),e.target=p}function Ly(t,e,r){var n=r.pointers.length,o=r.changedPointers.length,i=e&sy&&n-o==0,a=e&(cy|fy)&&n-o==0;r.isFirst=!!i,r.isFinal=!!a,i&&(t.session={}),r.eventType=e,Dy(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Cy(t){return t.trim().split(/\s+/g)}function Ry(t,e,r){_y(Cy(e),(function(e){t.addEventListener(e,r,!1)}))}function My(t,e,r){_y(Cy(e),(function(e){t.removeEventListener(e,r,!1)}))}function Ny(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Fy=function(){function t(t,e){var r=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Ty(t.options.enable,[t])&&r.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Ry(this.element,this.evEl,this.domHandler),this.evTarget&&Ry(this.target,this.evTarget,this.domHandler),this.evWin&&Ry(Ny(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&My(this.element,this.evEl,this.domHandler),this.evTarget&&My(this.target,this.evTarget,this.domHandler),this.evWin&&My(Ny(this.element),this.evWin,this.domHandler)},t}();function zy(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Uy={pointerdown:sy,pointermove:2,pointerup:cy,pointercancel:fy,pointerout:fy},qy={2:iy,3:"pen",4:ay,5:"kinect"},Wy="pointerdown",Yy="pointermove pointerup pointercancel";zd.MSPointerEvent&&!zd.PointerEvent&&(Wy="MSPointerDown",Yy="MSPointerMove MSPointerUp MSPointerCancel");var Gy=function(t){function e(){var r,n=e.prototype;return n.evEl=Wy,n.evWin=Yy,(r=t.apply(this,arguments)||this).store=r.manager.session.pointerEvents=[],r}return Nd(e,t),e.prototype.handler=function(t){var e=this.store,r=!1,n=t.type.toLowerCase().replace("ms",""),o=Uy[n],i=qy[t.pointerType]||t.pointerType,a=i===iy,u=zy(e,t.pointerId,"pointerId");o&sy&&(0===t.button||a)?u<0&&(e.push(t),u=e.length-1):o&(cy|fy)&&(r=!0),u<0||(e[u]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),r&&e.splice(u,1))},e}(Fy);function Xy(t){return Array.prototype.slice.call(t,0)}function Vy(t,e,r){for(var n=[],o=[],i=0;i<t.length;){var a=e?t[i][e]:t[i];zy(o,a)<0&&n.push(t[i]),o[i]=a,i++}return r&&(n=e?n.sort((function(t,r){return t[e]>r[e]})):n.sort()),n}var By={touchstart:sy,touchmove:2,touchend:cy,touchcancel:fy},Hy=function(t){function e(){var r;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(r=t.apply(this,arguments)||this).targetIds={},r}return Nd(e,t),e.prototype.handler=function(t){var e=By[t.type],r=Ky.call(this,t,e);r&&this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:iy,srcEvent:t})},e}(Fy);function Ky(t,e){var r,n,o=Xy(t.touches),i=this.targetIds;if(e&(2|sy)&&1===o.length)return i[o[0].identifier]=!0,[o,o];var a=Xy(t.changedTouches),u=[],s=this.target;if(n=o.filter((function(t){return Sy(t.target,s)})),e===sy)for(r=0;r<n.length;)i[n[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&u.push(a[r]),e&(cy|fy)&&delete i[a[r].identifier],r++;return u.length?[Vy(n.concat(u),"identifier",!0),u]:void 0}var Jy={mousedown:sy,mousemove:2,mouseup:cy},$y=function(t){function e(){var r,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(r=t.apply(this,arguments)||this).pressed=!1,r}return Nd(e,t),e.prototype.handler=function(t){var e=Jy[t.type];e&sy&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=cy),this.pressed&&(e&cy&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:ay,srcEvent:t}))},e}(Fy),Qy=2500;function Zy(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var r={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(r);setTimeout((function(){var t=n.indexOf(r);t>-1&&n.splice(t,1)}),Qy)}}function tg(t,e){t&sy?(this.primaryTouch=e.changedPointers[0].identifier,Zy.call(this,e)):t&(cy|fy)&&Zy.call(this,e)}function eg(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],i=Math.abs(e-o.x),a=Math.abs(r-o.y);if(i<=25&&a<=25)return!0}return!1}var rg=function(){return function(t){function e(e,r){var n;return(n=t.call(this,e,r)||this).handler=function(t,e,r){var o=r.pointerType===iy,i=r.pointerType===ay;if(!(i&&r.sourceCapabilities&&r.sourceCapabilities.firesTouchEvents)){if(o)tg.call(Fd(Fd(n)),e,r);else if(i&&eg.call(Fd(Fd(n)),r))return;n.callback(t,e,r)}},n.touch=new Hy(n.manager,n.handler),n.mouse=new $y(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Nd(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(Fy)}();function ng(t,e,r){return!!Array.isArray(t)&&(_y(t,r[e],r),!0)}var og=32,ig=1;function ag(t,e){var r=e.manager;return r?r.get(t):t}function ug(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var sg=function(){function t(t){void 0===t&&(t={}),this.options=Md({enable:!0},t),this.id=ig++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Ud(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(ng(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=ag(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return ng(t,"dropRecognizeWith",this)||(t=ag(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(ng(t,"requireFailure",this))return this;var e=this.requireFail;return-1===zy(e,t=ag(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(ng(t,"dropRequireFailure",this))return this;t=ag(t,this);var e=zy(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,r=this.state;function n(r){e.manager.emit(r,t)}r<8&&n(e.options.event+ug(r)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),r>=8&&n(e.options.event+ug(r))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=og},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Ud({},t);if(!Ty(this.options.enable,[this,e]))return this.reset(),void(this.state=og);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),cg=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,Md({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,r.pCenter=!1,r._timer=null,r._input=null,r.count=0,r}Nd(e,t);var r=e.prototype;return r.getTouchAction=function(){return[$d]},r.process=function(t){var e=this,r=this.options,n=t.pointers.length===r.pointers,o=t.distance<r.threshold,i=t.deltaTime<r.time;if(this.reset(),t.eventType&sy&&0===this.count)return this.failTimeout();if(o&&i&&n){if(t.eventType!==cy)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<r.interval,u=!this.pCenter||jy(this.pCenter,t.center)<r.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,u&&a?this.count+=1:this.count=1,this._input=t,0===this.count%r.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),r.interval),2):8}return og},r.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=og}),this.options.interval),og},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(sg),fg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Md({pointers:1},e))||this}Nd(e,t);var r=e.prototype;return r.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},r.process=function(t){var e=this.state,r=t.eventType,n=6&e,o=this.attrTest(t);return n&&(r&fy||!o)?16|e:n||o?r&cy?8|e:2&e?4|e:2:og},e}(sg);function lg(t){return t===dy?"down":t===vy?"up":t===hy?"left":t===py?"right":""}var hg=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,Md({event:"pan",threshold:10,pointers:1,direction:my},e))||this).pX=null,r.pY=null,r}Nd(e,t);var r=e.prototype;return r.getTouchAction=function(){var t=this.options.direction,e=[];return t&yy&&e.push(ty),t&gy&&e.push(Zd),e},r.directionTest=function(t){var e=this.options,r=!0,n=t.distance,o=t.direction,i=t.deltaX,a=t.deltaY;return o&e.direction||(e.direction&yy?(o=0===i?ly:i<0?hy:py,r=i!==this.pX,n=Math.abs(t.deltaX)):(o=0===a?ly:a<0?vy:dy,r=a!==this.pY,n=Math.abs(t.deltaY))),t.direction=o,r&&n>e.threshold&&o&e.direction},r.attrTest=function(t){return fg.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},r.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var r=lg(e.direction);r&&(e.additionalEvent=this.options.event+r),t.prototype.emit.call(this,e)},e}(fg),pg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Md({event:"swipe",threshold:10,velocity:.3,direction:yy|gy,pointers:1},e))||this}Nd(e,t);var r=e.prototype;return r.getTouchAction=function(){return hg.prototype.getTouchAction.call(this)},r.attrTest=function(e){var r,n=this.options.direction;return n&(yy|gy)?r=e.overallVelocity:n&yy?r=e.overallVelocityX:n&gy&&(r=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&Gd(r)>this.options.velocity&&e.eventType&cy},r.emit=function(t){var e=lg(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(fg),vg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Md({event:"pinch",threshold:0,pointers:2},e))||this}Nd(e,t);var r=e.prototype;return r.getTouchAction=function(){return[Qd]},r.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},r.emit=function(e){if(1!==e.scale){var r=e.scale<1?"in":"out";e.additionalEvent=this.options.event+r}t.prototype.emit.call(this,e)},e}(fg),dg=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Md({event:"rotate",threshold:0,pointers:2},e))||this}Nd(e,t);var r=e.prototype;return r.getTouchAction=function(){return[Qd]},r.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(fg),yg=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,Md({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,r._input=null,r}Nd(e,t);var r=e.prototype;return r.getTouchAction=function(){return[Jd]},r.process=function(t){var e=this,r=this.options,n=t.pointers.length===r.pointers,o=t.distance<r.threshold,i=t.deltaTime>r.time;if(this._input=t,!o||!n||t.eventType&(cy|fy)&&!i)this.reset();else if(t.eventType&sy)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),r.time);else if(t.eventType&cy)return 8;return og},r.reset=function(){clearTimeout(this._timer)},r.emit=function(t){8===this.state&&(t&&t.eventType&cy?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Xd(),this.manager.emit(this.options.event,this._input)))},e}(sg),gg={domEvents:!1,touchAction:Kd,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},mg=[[dg,{enable:!1}],[vg,{enable:!1},["rotate"]],[pg,{direction:yy}],[hg,{direction:yy},["swipe"]],[cg],[cg,{event:"doubletap",taps:2},["tap"]],[yg]];function bg(t,e){var r,n=t.element;n.style&&(_y(t.options.cssProps,(function(o,i){r=Vd(n.style,i),e?(t.oldCssProps[r]=n.style[r],n.style[r]=o):n.style[r]=t.oldCssProps[r]||""})),e||(t.oldCssProps={}))}var wg=function(){function t(t,e){var r,n=this;this.options=Ud({},gg,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((r=this).options.inputClass||(ny?Gy:oy?Hy:ry?rg:$y))(r,Ly),this.touchAction=new Oy(this,this.options.touchAction),bg(this,!0),_y(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Ud(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var r;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(e.curRecognizer=null,o=null);for(var i=0;i<n.length;)r=n[i],2===e.stopped||o&&r!==o&&!r.canRecognizeWith(o)?r.reset():r.recognize(t),!o&&14&r.state&&(e.curRecognizer=r,o=r),i++}},e.get=function(t){if(t instanceof sg)return t;for(var e=this.recognizers,r=0;r<e.length;r++)if(e[r].options.event===t)return e[r];return null},e.add=function(t){if(ng(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(ng(t,"remove",this))return this;var e=this.get(t);if(t){var r=this.recognizers,n=zy(r,e);-1!==n&&(r.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var r=this.handlers;return _y(Cy(t),(function(t){r[t]=r[t]||[],r[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var r=this.handlers;return _y(Cy(t),(function(t){e?r[t]&&r[t].splice(zy(r[t],e),1):delete r[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}(t,e);var r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<r.length;)r[n](e),n++}},e.destroy=function(){this.element&&bg(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),_g={touchstart:sy,touchmove:2,touchend:cy,touchcancel:fy},Tg=function(t){function e(){var r,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(r=t.apply(this,arguments)||this).started=!1,r}return Nd(e,t),e.prototype.handler=function(t){var e=_g[t.type];if(e===sy&&(this.started=!0),this.started){var r=Eg.call(this,t,e);e&(cy|fy)&&r[0].length-r[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:r[0],changedPointers:r[1],pointerType:iy,srcEvent:t})}},e}(Fy);function Eg(t,e){var r=Xy(t.touches),n=Xy(t.changedTouches);return e&(cy|fy)&&(r=Vy(r.concat(n),"identifier",!0)),[r,n]}function Og(t,e,r){var n="DEPRECATED METHOD: "+e+"\n"+r+" AT \n";return function(){var e=new Error("get-stack-trace"),r=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,r),t.apply(this,arguments)}}var Sg=Og((function(t,e,r){for(var n=Object.keys(e),o=0;o<n.length;)(!r||r&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t}),"extend","Use `assign`."),xg=Og((function(t,e){return Sg(t,e,!0)}),"merge","Use `assign`.");function kg(t,e,r){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,r&&Ud(n,r)}function jg(t,e){return function(){return t.apply(e,arguments)}}var Ag=function(){var t=function(t,e){return void 0===e&&(e={}),new wg(t,Md({recognizers:mg.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=my,t.DIRECTION_DOWN=dy,t.DIRECTION_LEFT=hy,t.DIRECTION_RIGHT=py,t.DIRECTION_UP=vy,t.DIRECTION_HORIZONTAL=yy,t.DIRECTION_VERTICAL=gy,t.DIRECTION_NONE=ly,t.DIRECTION_DOWN=dy,t.INPUT_START=sy,t.INPUT_MOVE=2,t.INPUT_END=cy,t.INPUT_CANCEL=fy,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=og,t.Manager=wg,t.Input=Fy,t.TouchAction=Oy,t.TouchInput=Hy,t.MouseInput=$y,t.PointerEventInput=Gy,t.TouchMouseInput=rg,t.SingleTouchInput=Tg,t.Recognizer=sg,t.AttrRecognizer=fg,t.Tap=cg,t.Pan=hg,t.Swipe=pg,t.Pinch=vg,t.Rotate=dg,t.Press=yg,t.on=Ry,t.off=My,t.each=_y,t.merge=xg,t.extend=Sg,t.bindFn=jg,t.assign=Ud,t.inherit=kg,t.bindFn=jg,t.prefixed=Vd,t.toArray=Xy,t.inArray=zy,t.uniqueArray=Vy,t.splitStr=Cy,t.boolOrFn=Ty,t.hasParent=Sy,t.addEventListeners=Ry,t.removeEventListeners=My,t.defaults=Ud({},gg,{preset:mg}),t}();function Pg(t,e){var r=void 0!==Rp&&Xh(t)||t["@@iterator"];if(!r){if(Kp(t)||(r=function(t,e){var r;if(!t)return;if("string"==typeof t)return Ig(t,e);var n=qp(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Wh(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ig(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Ig(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Dg=Rp("DELETE");function Lg(){var t=Cg.apply(void 0,arguments);return Mg(t),t}function Cg(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];var n;if(e.length>2)return Cg.apply(void 0,Up(n=[Lg(e[0],e[1])]).call(n,Cp(qp(e).call(e,2))));var o=e[0],i=e[1];if(o instanceof Date&&i instanceof Date)return o.setTime(i.getTime()),o;var a,u=Pg(Hp(i));try{for(u.s();!(a=u.n()).done;){var s=a.value;Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===Dg?delete o[s]:null===o[s]||null===i[s]||"object"!=typeof o[s]||"object"!=typeof i[s]||Kp(o[s])||Kp(i[s])?o[s]=Rg(i[s]):o[s]=Cg(o[s],i[s]))}}catch(t){u.e(t)}finally{u.f()}return o}function Rg(t){return Kp(t)?Nl(t).call(t,(function(t){return Rg(t)})):"object"==typeof t&&null!==t?t instanceof Date?new Date(t.getTime()):Cg({},t):t}function Mg(t){for(var e=0,r=Qp(t);e<r.length;e++){var n=r[e];t[n]===Dg?delete t[n]:"object"==typeof t[n]&&null!==t[n]&&Mg(t[n])}}var Ng="undefined"!=typeof window?window.Hammer||Ag:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function Fg(t){var e,r=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){r._dom.overlay.parentNode.removeChild(r._dom.overlay)}));var n=Ng(this._dom.overlay);n.on("tap",cl(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){n.destroy()}));var o=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];cv(o).call(o,(function(t){n.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||r.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",r._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&r.deactivate()}}Rd(Fg.prototype),Fg.current=null,Fg.prototype.destroy=function(){var t,e;this.deactivate();var r,n=Pg(bv(t=Uv(e=this._cleanupQueue).call(e,0)).call(t));try{for(n.s();!(r=n.n()).done;){(0,r.value)()}}catch(t){n.e(t)}finally{n.f()}},Fg.prototype.activate=function(){Fg.current&&Fg.current.deactivate(),Fg.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Fg.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Fg.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var zg=jn,Ug=At,qg=TypeError,Wg=function(t){if(zg(t))return t;throw new qg(Ug(t)+" is not a constructor")},Yg=Pr,Gg=p,Xg=Zf,Vg=Wg,Bg=or,Hg=rt,Kg=Ko,Jg=u,$g=st("Reflect","construct"),Qg=Object.prototype,Zg=[].push,tm=Jg((function(){function t(){}return!($g((function(){}),[],t)instanceof t)})),em=!Jg((function(){$g((function(){}))})),rm=tm||em;Yg({target:"Reflect",stat:!0,forced:rm,sham:rm},{construct:function(t,e){Vg(t),Bg(e);var r=arguments.length<3?t:Vg(arguments[2]);if(em&&!tm)return $g(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return Gg(Zg,n,e),new(Gg(Xg,t,n))}var o=r.prototype,i=Kg(Hg(o)?o:Qg),a=Gg(t,i,e);return Hg(a)?a:i}});var nm=n(nt.Reflect.construct),om=n(nt.Object.getOwnPropertySymbols),im={exports:{}},am=Pr,um=u,sm=Z,cm=P.f,fm=I;am({target:"Object",stat:!0,forced:!fm||um((function(){cm(1)})),sham:!fm},{getOwnPropertyDescriptor:function(t,e){return cm(sm(t),e)}});var lm=nt.Object,hm=im.exports=function(t,e){return lm.getOwnPropertyDescriptor(t,e)};lm.getOwnPropertyDescriptor.sham&&(hm.sham=!0);var pm=n(im.exports),vm=Bp,dm=Z,ym=P,gm=tn;Pr({target:"Object",stat:!0,sham:!I},{getOwnPropertyDescriptors:function(t){for(var e,r,n=dm(t),o=ym.f,i=vm(n),a={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&gm(a,e,r);return a}});var mm=n(nt.Object.getOwnPropertyDescriptors),bm={exports:{}},wm=Pr,_m=I,Tm=no.f;wm({target:"Object",stat:!0,forced:Object.defineProperties!==Tm,sham:!_m},{defineProperties:Tm});var Em=nt.Object,Om=bm.exports=function(t,e){return Em.defineProperties(t,e)};Em.defineProperties.sham&&(Om.sham=!0);var Sm=n(bm.exports),xm=n(Mr);function km(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var jm=ud,Am=n(jm);Pr({target:"Object",stat:!0},{setPrototypeOf:uc});var Pm=nt.Object.setPrototypeOf,Im=n(Pm),Dm=n(sl);function Lm(t,e){var r;return Lm=Im?Dm(r=Im).call(r):function(t,e){return t.__proto__=e,t},Lm(t,e)}function Cm(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Am(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Fr(t,"prototype",{writable:!1}),e&&Lm(t,e)}function Rm(t,e){if(e&&("object"===Nf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return km(t)}var Mm=id,Nm=n(Mm);function Fm(t){var e;return Fm=Im?Dm(e=Nm).call(e):function(t){return t.__proto__||Nm(t)},Fm(t)}var zm={exports:{}},Um={exports:{}};!function(t){var e=yf,r=Rf;function n(o){return t.exports=n="function"==typeof e&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof e&&t.constructor===e&&t!==e.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Um);var qm=Um.exports,Wm=sv,Ym=te,Gm=Bp,Xm=P,Vm=Ze,Bm=rt,Hm=mr,Km=Error,Jm=m("".replace),$m=String(new Km("zxcasd").stack),Qm=/\n\s*at [^:]*:[^\n]*/,Zm=Qm.test($m),tb=q,eb=!u((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",tb(1,7)),7!==t.stack)})),rb=mr,nb=function(t,e){if(Zm&&"string"==typeof t&&!Km.prepareStackTrace)for(;e--;)t=Jm(t,Qm,"");return t},ob=eb,ib=Error.captureStackTrace,ab=Qe,ub=C,sb=or,cb=At,fb=fh,lb=Hr,hb=ct,pb=Eh,vb=yh,db=oh,yb=TypeError,gb=function(t,e){this.stopped=t,this.result=e},mb=gb.prototype,bb=function(t,e,r){var n,o,i,a,u,s,c,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_RECORD),p=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),d=ab(e,f),y=function(t){return n&&db(n,"normal",t),new gb(!0,t)},g=function(t){return l?(sb(t),v?d(t[0],t[1],y):d(t[0],t[1])):v?d(t,y):d(t)};if(h)n=t.iterator;else if(p)n=t;else{if(!(o=vb(t)))throw new yb(cb(t)+" is not iterable");if(fb(o)){for(i=0,a=lb(t);a>i;i++)if((u=g(t[i]))&&hb(mb,u))return u;return new gb(!1)}n=pb(t,o)}for(s=h?t.next:n.next;!(c=ub(s,n)).done;){try{u=g(c.value)}catch(t){db(n,"throw",t)}if("object"==typeof u&&u&&hb(mb,u))return u}return new gb(!1)},wb=ro,_b=Pr,Tb=ct,Eb=Ms,Ob=uc,Sb=function(t,e,r){for(var n=Gm(e),o=Vm.f,i=Xm.f,a=0;a<n.length;a++){var u=n[a];Ym(t,u)||r&&Ym(r,u)||o(t,u,i(e,u))}},xb=Ko,kb=mr,jb=q,Ab=function(t,e){Bm(e)&&"cause"in e&&Hm(t,"cause",e.cause)},Pb=function(t,e,r,n){ob&&(ib?ib(t,e):rb(t,"stack",nb(r,n)))},Ib=bb,Db=function(t,e){return void 0===t?arguments.length<2?"":e:wb(t)},Lb=ve("toStringTag"),Cb=Error,Rb=[].push,Mb=function(t,e){var r,n=Tb(Nb,this);Ob?r=Ob(new Cb,n?Eb(this):Nb):(r=n?this:xb(Nb),kb(r,Lb,"Error")),void 0!==e&&kb(r,"message",Db(e)),Pb(r,Mb,r.stack,1),arguments.length>2&&Ab(r,arguments[2]);var o=[];return Ib(t,Rb,{that:o}),kb(r,"errors",o),r};Ob?Ob(Mb,Cb):Sb(Mb,Cb,{name:!0});var Nb=Mb.prototype=xb(Cb.prototype,{constructor:jb(1,Mb),message:jb(1,""),name:jb(1,"AggregateError")});_b({global:!0,constructor:!0,arity:2},{AggregateError:Mb});var Fb,zb,Ub,qb,Wb=st,Yb=di,Gb=I,Xb=ve("species"),Vb=function(t){var e=Wb(t);Gb&&e&&!e[Xb]&&Yb(e,Xb,{configurable:!0,get:function(){return this}})},Bb=ct,Hb=TypeError,Kb=function(t,e){if(Bb(e,t))return t;throw new Hb("Incorrect invocation")},Jb=or,$b=Wg,Qb=B,Zb=ve("species"),tw=function(t,e){var r,n=Jb(t).constructor;return void 0===n||Qb(r=Jb(n)[Zb])?e:$b(r)},ew=/(?:ipad|iphone|ipod).*applewebkit/i.test(ft),rw=a,nw=p,ow=Qe,iw=A,aw=te,uw=u,sw=Do,cw=Ru,fw=je,lw=dd,hw=ew,pw=bl,vw=rw.setImmediate,dw=rw.clearImmediate,yw=rw.process,gw=rw.Dispatch,mw=rw.Function,bw=rw.MessageChannel,ww=rw.String,_w=0,Tw={},Ew="onreadystatechange";uw((function(){Fb=rw.location}));var Ow=function(t){if(aw(Tw,t)){var e=Tw[t];delete Tw[t],e()}},Sw=function(t){return function(){Ow(t)}},xw=function(t){Ow(t.data)},kw=function(t){rw.postMessage(ww(t),Fb.protocol+"//"+Fb.host)};vw&&dw||(vw=function(t){lw(arguments.length,1);var e=iw(t)?t:mw(t),r=cw(arguments,1);return Tw[++_w]=function(){nw(e,void 0,r)},zb(_w),_w},dw=function(t){delete Tw[t]},pw?zb=function(t){yw.nextTick(Sw(t))}:gw&&gw.now?zb=function(t){gw.now(Sw(t))}:bw&&!hw?(qb=(Ub=new bw).port2,Ub.port1.onmessage=xw,zb=ow(qb.postMessage,qb)):rw.addEventListener&&iw(rw.postMessage)&&!rw.importScripts&&Fb&&"file:"!==Fb.protocol&&!uw(kw)?(zb=kw,rw.addEventListener("message",xw,!1)):zb=Ew in fw("script")?function(t){sw.appendChild(fw("script"))[Ew]=function(){sw.removeChild(this),Ow(t)}}:function(t){setTimeout(Sw(t),0)});var jw={set:vw,clear:dw},Aw=function(){this.head=null,this.tail=null};Aw.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var Pw,Iw,Dw,Lw,Cw,Rw=Aw,Mw=/ipad|iphone|ipod/i.test(ft)&&"undefined"!=typeof Pebble,Nw=/web0s(?!.*chrome)/i.test(ft),Fw=a,zw=Qe,Uw=P.f,qw=jw.set,Ww=Rw,Yw=ew,Gw=Mw,Xw=Nw,Vw=bl,Bw=Fw.MutationObserver||Fw.WebKitMutationObserver,Hw=Fw.document,Kw=Fw.process,Jw=Fw.Promise,$w=Uw(Fw,"queueMicrotask"),Qw=$w&&$w.value;if(!Qw){var Zw=new Ww,t_=function(){var t,e;for(Vw&&(t=Kw.domain)&&t.exit();e=Zw.get();)try{e()}catch(t){throw Zw.head&&Pw(),t}t&&t.enter()};Yw||Vw||Xw||!Bw||!Hw?!Gw&&Jw&&Jw.resolve?((Lw=Jw.resolve(void 0)).constructor=Jw,Cw=zw(Lw.then,Lw),Pw=function(){Cw(t_)}):Vw?Pw=function(){Kw.nextTick(t_)}:(qw=zw(qw,Fw),Pw=function(){qw(t_)}):(Iw=!0,Dw=Hw.createTextNode(""),new Bw(t_).observe(Dw,{characterData:!0}),Pw=function(){Dw.data=Iw=!Iw}),Qw=function(t){Zw.head||Pw(),Zw.add(t)}}var e_=Qw,r_=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},n_=a.Promise,o_="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,i_=!o_&&!bl&&"object"==typeof window&&"object"==typeof document,a_=a,u_=n_,s_=A,c_=He,f_=vn,l_=ve,h_=i_,p_=o_,v_=gt,d_=u_&&u_.prototype,y_=l_("species"),g_=!1,m_=s_(a_.PromiseRejectionEvent),b_=c_("Promise",(function(){var t=f_(u_),e=t!==String(u_);if(!e&&66===v_)return!0;if(!d_.catch||!d_.finally)return!0;if(!v_||v_<51||!/native code/.test(t)){var r=new u_((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[y_]=n,!(g_=r.then((function(){}))instanceof n))return!0}return!e&&(h_||p_)&&!m_})),w_={CONSTRUCTOR:b_,REJECTION_EVENT:m_,SUBCLASSING:g_},__={},T_=Lt,E_=TypeError,O_=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new E_("Bad Promise constructor");e=t,r=n})),this.resolve=T_(e),this.reject=T_(r)};__.f=function(t){return new O_(t)};var S_,x_,k_=Pr,j_=bl,A_=a,P_=C,I_=pi,D_=zi,L_=Vb,C_=Lt,R_=A,M_=rt,N_=Kb,F_=tw,z_=jw.set,U_=e_,q_=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}},W_=r_,Y_=Rw,G_=ea,X_=n_,V_=w_,B_=__,H_="Promise",K_=V_.CONSTRUCTOR,J_=V_.REJECTION_EVENT,$_=G_.getterFor(H_),Q_=G_.set,Z_=X_&&X_.prototype,tT=X_,eT=Z_,rT=A_.TypeError,nT=A_.document,oT=A_.process,iT=B_.f,aT=iT,uT=!!(nT&&nT.createEvent&&A_.dispatchEvent),sT="unhandledrejection",cT=function(t){var e;return!(!M_(t)||!R_(e=t.then))&&e},fT=function(t,e){var r,n,o,i=e.value,a=1===e.state,u=a?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&dT(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?c(new rT("Promise-chain cycle")):(n=cT(r))?P_(n,r,s,c):s(r)):c(i)}catch(t){f&&!o&&f.exit(),c(t)}},lT=function(t,e){t.notified||(t.notified=!0,U_((function(){for(var r,n=t.reactions;r=n.get();)fT(r,t);t.notified=!1,e&&!t.rejection&&pT(t)})))},hT=function(t,e,r){var n,o;uT?((n=nT.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),A_.dispatchEvent(n)):n={promise:e,reason:r},!J_&&(o=A_["on"+t])?o(n):t===sT&&q_("Unhandled promise rejection",r)},pT=function(t){P_(z_,A_,(function(){var e,r=t.facade,n=t.value;if(vT(t)&&(e=W_((function(){j_?oT.emit("unhandledRejection",n,r):hT(sT,r,n)})),t.rejection=j_||vT(t)?2:1,e.error))throw e.value}))},vT=function(t){return 1!==t.rejection&&!t.parent},dT=function(t){P_(z_,A_,(function(){var e=t.facade;j_?oT.emit("rejectionHandled",e):hT("rejectionhandled",e,t.value)}))},yT=function(t,e,r){return function(n){t(e,n,r)}},gT=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,lT(t,!0))},mT=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new rT("Promise can't be resolved itself");var n=cT(e);n?U_((function(){var r={done:!1};try{P_(n,e,yT(mT,r,t),yT(gT,r,t))}catch(e){gT(r,e,t)}})):(t.value=e,t.state=1,lT(t,!1))}catch(e){gT({done:!1},e,t)}}};K_&&(eT=(tT=function(t){N_(this,eT),C_(t),P_(S_,this);var e=$_(this);try{t(yT(mT,e),yT(gT,e))}catch(t){gT(e,t)}}).prototype,(S_=function(t){Q_(this,{type:H_,done:!1,notified:!1,parent:!1,reactions:new Y_,rejection:!1,state:0,value:void 0})}).prototype=I_(eT,"then",(function(t,e){var r=$_(this),n=iT(F_(this,tT));return r.parent=!0,n.ok=!R_(t)||t,n.fail=R_(e)&&e,n.domain=j_?oT.domain:void 0,0===r.state?r.reactions.add(n):U_((function(){fT(n,r)})),n.promise})),x_=function(){var t=new S_,e=$_(t);this.promise=t,this.resolve=yT(mT,e),this.reject=yT(gT,e)},B_.f=iT=function(t){return t===tT||undefined===t?new x_(t):aT(t)}),k_({global:!0,constructor:!0,wrap:!0,forced:K_},{Promise:tT}),D_(tT,H_,!1,!0),L_(H_);var bT=n_,wT=w_.CONSTRUCTOR||!zh((function(t){bT.all(t).then(void 0,(function(){}))})),_T=C,TT=Lt,ET=__,OT=r_,ST=bb;Pr({target:"Promise",stat:!0,forced:wT},{all:function(t){var e=this,r=ET.f(e),n=r.resolve,o=r.reject,i=OT((function(){var r=TT(e.resolve),i=[],a=0,u=1;ST(t,(function(t){var s=a++,c=!1;u++,_T(r,e,t).then((function(t){c||(c=!0,i[s]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var xT=Pr,kT=w_.CONSTRUCTOR;n_&&n_.prototype,xT({target:"Promise",proto:!0,forced:kT,real:!0},{catch:function(t){return this.then(void 0,t)}});var jT=C,AT=Lt,PT=__,IT=r_,DT=bb;Pr({target:"Promise",stat:!0,forced:wT},{race:function(t){var e=this,r=PT.f(e),n=r.reject,o=IT((function(){var o=AT(e.resolve);DT(t,(function(t){jT(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var LT=C,CT=__;Pr({target:"Promise",stat:!0,forced:w_.CONSTRUCTOR},{reject:function(t){var e=CT.f(this);return LT(e.reject,void 0,t),e.promise}});var RT=or,MT=rt,NT=__,FT=function(t,e){if(RT(t),MT(e)&&e.constructor===t)return e;var r=NT.f(t);return(0,r.resolve)(e),r.promise},zT=Pr,UT=n_,qT=w_.CONSTRUCTOR,WT=FT,YT=st("Promise"),GT=!qT;zT({target:"Promise",stat:!0,forced:true},{resolve:function(t){return WT(GT&&this===YT?UT:this,t)}});var XT=C,VT=Lt,BT=__,HT=r_,KT=bb;Pr({target:"Promise",stat:!0,forced:wT},{allSettled:function(t){var e=this,r=BT.f(e),n=r.resolve,o=r.reject,i=HT((function(){var r=VT(e.resolve),o=[],i=0,a=1;KT(t,(function(t){var u=i++,s=!1;a++,XT(r,e,t).then((function(t){s||(s=!0,o[u]={status:"fulfilled",value:t},--a||n(o))}),(function(t){s||(s=!0,o[u]={status:"rejected",reason:t},--a||n(o))}))})),--a||n(o)}));return i.error&&o(i.value),r.promise}});var JT=C,$T=Lt,QT=st,ZT=__,tE=r_,eE=bb,rE="No one promise resolved";Pr({target:"Promise",stat:!0,forced:wT},{any:function(t){var e=this,r=QT("AggregateError"),n=ZT.f(e),o=n.resolve,i=n.reject,a=tE((function(){var n=$T(e.resolve),a=[],u=0,s=1,c=!1;eE(t,(function(t){var f=u++,l=!1;s++,JT(n,e,t).then((function(t){l||c||(c=!0,o(t))}),(function(t){l||c||(l=!0,a[f]=t,--s||i(new r(a,rE)))}))})),--s||i(new r(a,rE))}));return a.error&&i(a.value),n.promise}});var nE=Pr,oE=n_,iE=u,aE=st,uE=A,sE=tw,cE=FT,fE=oE&&oE.prototype;nE({target:"Promise",proto:!0,real:!0,forced:!!oE&&iE((function(){fE.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=sE(this,aE("Promise")),r=uE(t);return this.then(r?function(r){return cE(e,t()).then((function(){return r}))}:t,r?function(r){return cE(e,t()).then((function(){throw r}))}:t)}});var lE=nt.Promise,hE=__;Pr({target:"Promise",stat:!0},{withResolvers:function(){var t=hE.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var pE=lE,vE=__,dE=r_;Pr({target:"Promise",stat:!0,forced:!0},{try:function(t){var e=vE.f(this),r=dE(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}});var yE=pE,gE=mv;!function(t){var e=qm.default,r=Nr,n=yf,o=jm,i=Mm,a=Wm,u=up,s=Pm,c=yE,f=gE,l=jp;function h(){t.exports=h=function(){return v},t.exports.__esModule=!0,t.exports.default=t.exports;var p,v={},d=Object.prototype,y=d.hasOwnProperty,g=r||function(t,e,r){t[e]=r.value},m="function"==typeof n?n:{},b=m.iterator||"@@iterator",w=m.asyncIterator||"@@asyncIterator",_=m.toStringTag||"@@toStringTag";function T(t,e,n){return r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{T({},"")}catch(p){T=function(t,e,r){return t[e]=r}}function E(t,e,r,n){var i=e&&e.prototype instanceof P?e:P,a=o(i.prototype),u=new W(n||[]);return g(a,"_invoke",{value:F(t,r,u)}),a}function O(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}v.wrap=E;var S="suspendedStart",x="suspendedYield",k="executing",j="completed",A={};function P(){}function I(){}function D(){}var L={};T(L,b,(function(){return this}));var C=i&&i(i(Y([])));C&&C!==d&&y.call(C,b)&&(L=C);var R=D.prototype=P.prototype=o(L);function M(t){var e;a(e=["next","throw","return"]).call(e,(function(e){T(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,r){function n(o,i,a,u){var s=O(t[o],t,i);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==e(f)&&y.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):r.resolve(f).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;g(this,"_invoke",{value:function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}})}function F(t,e,r){var n=S;return function(o,i){if(n===k)throw new Error("Generator is already running");if(n===j){if("throw"===o)throw i;return{value:p,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=z(a,r);if(u){if(u===A)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===S)throw n=j,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=k;var s=O(t,e,r);if("normal"===s.type){if(n=r.done?j:x,s.arg===A)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=j,r.method="throw",r.arg=s.arg)}}}function z(t,e){var r=e.method,n=t.iterator[r];if(n===p)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=p,z(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),A;var o=O(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,A;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=p),e.delegate=null,A):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function U(t){var e,r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),u(e=this.tryEntries).call(e,r)}function q(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function W(t){this.tryEntries=[{tryLoc:"root"}],a(t).call(t,U,this),this.reset(!0)}function Y(t){if(t||""===t){var r=t[b];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=p,e.done=!0,e};return o.next=o}}throw new TypeError(e(t)+" is not iterable")}return I.prototype=D,g(R,"constructor",{value:D,configurable:!0}),g(D,"constructor",{value:I,configurable:!0}),I.displayName=T(D,_,"GeneratorFunction"),v.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===I||"GeneratorFunction"===(e.displayName||e.name))},v.mark=function(t){return s?s(t,D):(t.__proto__=D,T(t,_,"GeneratorFunction")),t.prototype=o(R),t},v.awrap=function(t){return{__await:t}},M(N.prototype),T(N.prototype,w,(function(){return this})),v.AsyncIterator=N,v.async=function(t,e,r,n,o){void 0===o&&(o=c);var i=new N(E(t,e,r,n),o);return v.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},M(R),T(R,_,"Generator"),T(R,b,(function(){return this})),T(R,"toString",(function(){return"[object Generator]"})),v.keys=function(t){var e=Object(t),r=[];for(var n in e)u(r).call(r,n);return f(r).call(r),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},v.values=Y,W.prototype={constructor:W,reset:function(t){var e;if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,a(e=this.tryEntries).call(e,q),!t)for(var r in this)"t"===r.charAt(0)&&y.call(this,r)&&!isNaN(+l(r).call(r,1))&&(this[r]=p)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=p),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,A):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),q(r),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;q(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:Y(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=p),A}},v}t.exports=h,t.exports.__esModule=!0,t.exports.default=t.exports}(zm);var mE=(0,zm.exports)(),bE=mE;try{regeneratorRuntime=mE}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=mE:Function("r","regeneratorRuntime = r")(mE)}var wE=n(bE),_E={exports:{}},TE=u((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),EE=u,OE=rt,SE=T,xE=TE,kE=Object.isExtensible,jE=EE((function(){kE(1)}))||xE?function(t){return!!OE(t)&&((!xE||"ArrayBuffer"!==SE(t))&&(!kE||kE(t)))}:kE,AE=!u((function(){return Object.isExtensible(Object.preventExtensions({}))})),PE=Pr,IE=m,DE=po,LE=rt,CE=te,RE=Ze.f,ME=Jo,NE=Zo,FE=jE,zE=AE,UE=!1,qE=ie("meta"),WE=0,YE=function(t){RE(t,qE,{value:{objectID:"O"+WE++,weakData:{}}})},GE=_E.exports={enable:function(){GE.enable=function(){},UE=!0;var t=ME.f,e=IE([].splice),r={};r[qE]=1,t(r).length&&(ME.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++)if(n[o]===qE){e(n,o,1);break}return n},PE({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:NE.f}))},fastKey:function(t,e){if(!LE(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!CE(t,qE)){if(!FE(t))return"F";if(!e)return"E";YE(t)}return t[qE].objectID},getWeakData:function(t,e){if(!CE(t,qE)){if(!FE(t))return!0;if(!e)return!1;YE(t)}return t[qE].weakData},onFreeze:function(t){return zE&&UE&&FE(t)&&!CE(t,qE)&&YE(t),t}};DE[qE]=!0;var XE=_E.exports,VE=Pr,BE=a,HE=XE,KE=u,JE=mr,$E=bb,QE=Kb,ZE=A,tO=rt,eO=B,rO=zi,nO=Ze.f,oO=ca.forEach,iO=I,aO=ea.set,uO=ea.getterFor,sO=function(t,e,r){var n,o=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),a=o?"set":"add",u=BE[t],s=u&&u.prototype,c={};if(iO&&ZE(u)&&(i||s.forEach&&!KE((function(){(new u).entries().next()})))){var f=(n=e((function(e,r){aO(QE(e,f),{type:t,collection:new u}),eO(r)||$E(r,e[a],{that:e,AS_ENTRIES:o})}))).prototype,l=uO(t);oO(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in s)||i&&"clear"===t||JE(f,t,(function(r,n){var o=l(this).collection;if(!e&&i&&!tO(r))return"get"===t&&void 0;var a=o[t](0===r?0:r,n);return e?this:a}))})),i||nO(f,"size",{configurable:!0,get:function(){return l(this).collection.size}})}else n=r.getConstructor(e,t,o,a),HE.enable();return rO(n,t,!1,!0),c[t]=n,VE({global:!0,forced:!0},c),i||r.setStrong(n,t,o),n},cO=pi,fO=Ko,lO=di,hO=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:cO(t,n,e[n],r);return t},pO=Qe,vO=Kb,dO=B,yO=bb,gO=Oc,mO=Sc,bO=Vb,wO=I,_O=XE.fastKey,TO=ea.set,EO=ea.getterFor,OO={getConstructor:function(t,e,r,n){var o=t((function(t,o){vO(t,i),TO(t,{type:e,index:fO(null),first:void 0,last:void 0,size:0}),wO||(t.size=0),dO(o)||yO(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=EO(e),u=function(t,e,r){var n,o,i=a(t),u=s(t,e);return u?u.value=r:(i.last=u={index:o=_O(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=u),n&&(n.next=u),wO?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},s=function(t,e){var r,n=a(t),o=_O(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key===e)return r};return hO(i,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,wO?t.size=0:this.size=0},delete:function(t){var e=this,r=a(e),n=s(e,t);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first===n&&(r.first=o),r.last===n&&(r.last=i),wO?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=a(this),n=pO(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),hO(i,r?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),wO&&lO(i,"size",{configurable:!0,get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=EO(e),i=EO(n);gO(t,e,(function(t,e){TO(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?mO("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=void 0,mO(void 0,!0))}),r?"entries":"values",!r,!0),bO(e)}};sO("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),OO);var SO=n(nt.Map),xO=ca.some;Pr({target:"Array",proto:!0,forced:!ml("some")},{some:function(t){return xO(this,t,arguments.length>1?arguments[1]:void 0)}});var kO=nl("Array","some"),jO=ct,AO=kO,PO=Array.prototype,IO=n((function(t){var e=t.some;return t===PO||jO(PO,t)&&e===PO.some?AO:e})),DO=nl("Array","keys"),LO=fn,CO=te,RO=ct,MO=DO,NO=Array.prototype,FO={DOMTokenList:!0,NodeList:!0},zO=n((function(t){var e=t.keys;return t===NO||RO(NO,t)&&e===NO.keys||CO(FO,LO(t))?MO:e})),UO=ii,qO=Math.floor,WO=function(t,e){var r=t.length,n=qO(r/2);return r<8?YO(t,e):GO(t,WO(UO(t,0,n),e),WO(UO(t,n),e),e)},YO=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},GO=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},XO=WO,VO=ft.match(/firefox\/(\d+)/i),BO=!!VO&&+VO[1],HO=/MSIE|Trident/.test(ft),KO=ft.match(/AppleWebKit\/(\d+)\./),JO=!!KO&&+KO[1],$O=Pr,QO=m,ZO=Lt,tS=$t,eS=Hr,rS=Tv,nS=ro,oS=u,iS=XO,aS=ml,uS=BO,sS=HO,cS=gt,fS=JO,lS=[],hS=QO(lS.sort),pS=QO(lS.push),vS=oS((function(){lS.sort(void 0)})),dS=oS((function(){lS.sort(null)})),yS=aS("sort"),gS=!oS((function(){if(cS)return cS<70;if(!(uS&&uS>3)){if(sS)return!0;if(fS)return fS<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)lS.push({k:e+n,v:r})}for(lS.sort((function(t,e){return e.v-t.v})),n=0;n<lS.length;n++)e=lS[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));$O({target:"Array",proto:!0,forced:vS||!dS||!yS||!gS},{sort:function(t){void 0!==t&&ZO(t);var e=tS(this);if(gS)return void 0===t?hS(e):hS(e,t);var r,n,o=[],i=eS(e);for(n=0;n<i;n++)n in e&&pS(o,e[n]);for(iS(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:nS(e)>nS(r)?1:-1}}(t)),r=eS(o),n=0;n<r;)e[n]=o[n++];for(;n<i;)rS(e,n++);return e}});var mS=nl("Array","sort"),bS=ct,wS=mS,_S=Array.prototype,TS=n((function(t){var e=t.sort;return t===_S||bS(_S,t)&&e===_S.sort?wS:e})),ES=nl("Array","values"),OS=fn,SS=te,xS=ct,kS=ES,jS=Array.prototype,AS={DOMTokenList:!0,NodeList:!0},PS=n((function(t){var e=t.values;return t===jS||xS(jS,t)&&e===jS.values||SS(AS,OS(t))?kS:e})),IS=n(Cf),DS=nl("Array","entries"),LS=fn,CS=te,RS=ct,MS=DS,NS=Array.prototype,FS={DOMTokenList:!0,NodeList:!0},zS=n((function(t){var e=t.entries;return t===NS||RS(NS,t)&&e===NS.entries||CS(FS,LS(t))?MS:e}));let US;const qS=new Uint8Array(16);function WS(){if(!US&&(US="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!US))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return US(qS)}const YS=[];for(let t=0;t<256;++t)YS.push((t+256).toString(16).slice(1));var GS={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function XS(t,e,r){if(GS.randomUUID&&!e&&!t)return GS.randomUUID();const n=(t=t||{}).random||(t.rng||WS)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=n[t];return e}return function(t,e=0){return YS[t[e+0]]+YS[t[e+1]]+YS[t[e+2]]+YS[t[e+3]]+"-"+YS[t[e+4]]+YS[t[e+5]]+"-"+YS[t[e+6]]+YS[t[e+7]]+"-"+YS[t[e+8]]+YS[t[e+9]]+"-"+YS[t[e+10]]+YS[t[e+11]]+YS[t[e+12]]+YS[t[e+13]]+YS[t[e+14]]+YS[t[e+15]]}(n)}function VS(t){return"string"==typeof t||"number"==typeof t}var BS=function(){function t(r){e(this,t),Wf(this,"_queue",[]),Wf(this,"_timeout",null),Wf(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(r)}return qf(t,[{key:"setOptions",value:function(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,r=0;r<e.length;r++){var n=e[r];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}},{key:"replace",value:function(t,e){var r=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];r.queue({args:e,fn:n,context:this})}}},{key:"queue",value:function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var t=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=Dd((function(){t.flush()}),this.delay))}},{key:"flush",value:function(){var t,e;cv(t=Uv(e=this._queue).call(e,0)).call(t,(function(t){t.fn.apply(t.context||t.fn,t.args||[])}))}}],[{key:"extend",value:function(e,r){var n=new t(r);if(void 0!==e.flush)throw new Error("Target object already has a property flush");e.flush=function(){n.flush()};var o=[{name:"flush",original:void 0}];if(r&&r.replace)for(var i=0;i<r.replace.length;i++){var a=r.replace[i];o.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:o},n}}]),t}(),HS=function(){function t(){e(this,t),Wf(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Wf(this,"subscribe",t.prototype.on),Wf(this,"unsubscribe",t.prototype.off)}return qf(t,[{key:"_trigger",value:function(t,e,r){var n,o;if("*"===t)throw new Error("Cannot trigger event *");cv(n=Up(o=[]).call(o,Cp(this._subscribers[t]),Cp(this._subscribers["*"]))).call(n,(function(n){n(t,e,null!=r?r:null)}))}},{key:"on",value:function(t,e){"function"==typeof e&&this._subscribers[t].push(e)}},{key:"off",value:function(t,e){var r;this._subscribers[t]=Il(r=this._subscribers[t]).call(r,(function(t){return t!==e}))}}]),t}();sO("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),OO);var KS=n(nt.Set),JS=n(Eh);function $S(t,e){var r=void 0!==Rp&&Xh(t)||t["@@iterator"];if(!r){if(Kp(t)||(r=function(t,e){var r;if(!t)return;if("string"==typeof t)return QS(t,e);var n=qp(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Wh(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QS(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function QS(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZS=function(t){function r(t){e(this,r),this._pairs=t}return qf(r,[{key:t,value:wE.mark((function t(){var e,r,n,o,i;return wE.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$S(this._pairs),t.prev=1,e.s();case 3:if((r=e.n()).done){t.next=9;break}return n=Lp(r.value,2),o=n[0],i=n[1],t.next=7,[o,i];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"entries",value:wE.mark((function t(){var e,r,n,o,i;return wE.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$S(this._pairs),t.prev=1,e.s();case 3:if((r=e.n()).done){t.next=9;break}return n=Lp(r.value,2),o=n[0],i=n[1],t.next=7,[o,i];case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"keys",value:wE.mark((function t(){var e,r,n,o;return wE.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$S(this._pairs),t.prev=1,e.s();case 3:if((r=e.n()).done){t.next=9;break}return n=Lp(r.value,1),o=n[0],t.next=7,o;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"values",value:wE.mark((function t(){var e,r,n,o;return wE.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=$S(this._pairs),t.prev=1,e.s();case 3:if((r=e.n()).done){t.next=9;break}return n=Lp(r.value,2),o=n[1],t.next=7,o;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var t;return Nl(t=Cp(this._pairs)).call(t,(function(t){return t[0]}))}},{key:"toItemArray",value:function(){var t;return Nl(t=Cp(this._pairs)).call(t,(function(t){return t[1]}))}},{key:"toEntryArray",value:function(){return Cp(this._pairs)}},{key:"toObjectMap",value:function(){var t,e=sd(null),r=$S(this._pairs);try{for(r.s();!(t=r.n()).done;){var n=Lp(t.value,2),o=n[0],i=n[1];e[o]=i}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"toMap",value:function(){return new SO(this._pairs)}},{key:"toIdSet",value:function(){return new KS(this.toIdArray())}},{key:"toItemSet",value:function(){return new KS(this.toItemArray())}},{key:"cache",value:function(){return new r(Cp(this._pairs))}},{key:"distinct",value:function(t){var e,r=new KS,n=$S(this._pairs);try{for(n.s();!(e=n.n()).done;){var o=Lp(e.value,2),i=o[0],a=o[1];r.add(t(a,i))}}catch(t){n.e(t)}finally{n.f()}return r}},{key:"filter",value:function(t){var e=this._pairs;return new r({[IS]:()=>wE.mark((function r(){var n,o,i,a,u;return wE.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=$S(e),r.prev=1,n.s();case 3:if((o=n.n()).done){r.next=10;break}if(i=Lp(o.value,2),a=i[0],u=i[1],!t(u,a)){r.next=8;break}return r.next=8,[a,u];case 8:r.next=3;break;case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),n.e(r.t0);case 15:return r.prev=15,n.f(),r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[1,12,15,18]])}))()})}},{key:"forEach",value:function(t){var e,r=$S(this._pairs);try{for(r.s();!(e=r.n()).done;){var n=Lp(e.value,2),o=n[0];t(n[1],o)}}catch(t){r.e(t)}finally{r.f()}}},{key:"map",value:function(t){var e=this._pairs;return new r({[IS]:()=>wE.mark((function r(){var n,o,i,a,u;return wE.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=$S(e),r.prev=1,n.s();case 3:if((o=n.n()).done){r.next=9;break}return i=Lp(o.value,2),a=i[0],u=i[1],r.next=7,[a,t(u,a)];case 7:r.next=3;break;case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),n.e(r.t0);case 14:return r.prev=14,n.f(),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[1,11,14,17]])}))()})}},{key:"max",value:function(t){var e=JS(this._pairs),r=e.next();if(r.done)return null;for(var n=r.value[1],o=t(r.value[1],r.value[0]);!(r=e.next()).done;){var i=Lp(r.value,2),a=i[0],u=i[1],s=t(u,a);s>o&&(o=s,n=u)}return n}},{key:"min",value:function(t){var e=JS(this._pairs),r=e.next();if(r.done)return null;for(var n=r.value[1],o=t(r.value[1],r.value[0]);!(r=e.next()).done;){var i=Lp(r.value,2),a=i[0],u=i[1],s=t(u,a);s<o&&(o=s,n=u)}return n}},{key:"reduce",value:function(t,e){var r,n=$S(this._pairs);try{for(n.s();!(r=n.n()).done;){var o=Lp(r.value,2),i=o[0];e=t(e,o[1],i)}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"sort",value:function(t){var e=this;return new r({[IS]:function(){var r;return JS(TS(r=Cp(e._pairs)).call(r,(function(e,r){var n=Lp(e,2),o=n[0],i=n[1],a=Lp(r,2),u=a[0],s=a[1];return t(i,s,o,u)})))}})}}]),r}(IS);function tx(t,e){var r=Qp(t);if(om){var n=om(t);e&&(n=Il(n).call(n,(function(e){return pm(t,e).enumerable}))),r.push.apply(r,n)}return r}function ex(t){for(var e=1;e<arguments.length;e++){var r,n,o=null!=arguments[e]?arguments[e]:{};e%2?cv(r=tx(Object(o),!0)).call(r,(function(e){Wf(t,e,o[e])})):mm?Sm(t,mm(o)):cv(n=tx(Object(o))).call(n,(function(e){xm(t,e,pm(o,e))}))}return t}function rx(t,e){var r=void 0!==Rp&&Xh(t)||t["@@iterator"];if(!r){if(Kp(t)||(r=function(t,e){var r;if(!t)return;if("string"==typeof t)return nx(t,e);var n=qp(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Wh(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function nx(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ox(t){var e=function(){if("undefined"==typeof Reflect||!nm)return!1;if(nm.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(nm(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Fm(t);if(e){var o=Fm(this).constructor;r=nm(n,arguments,o)}else r=n.apply(this,arguments);return Rm(this,r)}}var ix=function(t){Cm(n,t);var r=ox(n);function n(t,o){var i;return e(this,n),Wf(km(i=r.call(this)),"_queue",null),t&&!Kp(t)&&(o=t,t=[]),i._options=o||{},i._data=new SO,i.length=0,i._idProp=i._options.fieldId||"id",t&&t.length&&i.add(t),i.setOptions(o),i}return qf(n,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=BS.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}},{key:"add",value:function(t,e){var r,n=this,o=[];if(Kp(t)){var i=Nl(t).call(t,(function(t){return t[n._idProp]}));if(IO(i).call(i,(function(t){return n._data.has(t)})))throw new Error("A duplicate id was found in the parameter array.");for(var a=0,u=t.length;a<u;a++)r=this._addItem(t[a]),o.push(r)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");r=this._addItem(t),o.push(r)}return o.length&&this._trigger("add",{items:o},e),o}},{key:"update",value:function(t,e){var r=this,n=[],o=[],i=[],a=[],u=this._idProp,s=function(t){var e=t[u];if(null!=e&&r._data.has(e)){var s=t,c=ed({},r._data.get(e)),f=r._updateItem(s);o.push(f),a.push(s),i.push(c)}else{var l=r._addItem(t);n.push(l)}};if(Kp(t))for(var c=0,f=t.length;c<f;c++)t[c]&&"object"==typeof t[c]?s(t[c]):console.warn("Ignoring input item, which is not an object at index "+c);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");s(t)}if(n.length&&this._trigger("add",{items:n},e),o.length){var l={items:o,oldData:i,data:a};this._trigger("update",l,e)}return Up(n).call(n,o)}},{key:"updateOnly",value:function(t,e){var r,n=this;Kp(t)||(t=[t]);var o=Nl(r=Nl(t).call(t,(function(t){var e=n._data.get(t[n._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}}))).call(r,(function(t){var e=t.oldData,r=t.update,o=e[n._idProp],i=function(t){for(var e,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return Lg.apply(void 0,Up(e=[{},t]).call(e,n))}(e,r);return n._data.set(o,i),{id:o,oldData:e,updatedData:i}}));if(o.length){var i={items:Nl(o).call(o,(function(t){return t.id})),oldData:Nl(o).call(o,(function(t){return t.oldData})),data:Nl(o).call(o,(function(t){return t.updatedData}))};return this._trigger("update",i,e),i.items}return[]}},{key:"get",value:function(t,e){var r=void 0,n=void 0,o=void 0;VS(t)?(r=t,o=e):Kp(t)?(n=t,o=e):o=t;var i,a=o&&"Object"===o.returnType?"Object":"Array",u=o&&Il(o),s=[],c=void 0,f=void 0,l=void 0;if(null!=r)(c=this._data.get(r))&&u&&!u(c)&&(c=void 0);else if(null!=n)for(var h=0,p=n.length;h<p;h++)null==(c=this._data.get(n[h]))||u&&!u(c)||s.push(c);else for(var v,d=0,y=(f=Cp(zO(v=this._data).call(v))).length;d<y;d++)l=f[d],null==(c=this._data.get(l))||u&&!u(c)||s.push(c);if(o&&o.order&&null==r&&this._sort(s,o.order),o&&o.fields){var g=o.fields;if(null!=r&&null!=c)c=this._filterFields(c,g);else for(var m=0,b=s.length;m<b;m++)s[m]=this._filterFields(s[m],g)}if("Object"==a){for(var w={},_=0,T=s.length;_<T;_++){var E=s[_];w[E[this._idProp]]=E}return w}return null!=r?null!==(i=c)&&void 0!==i?i:null:s}},{key:"getIds",value:function(t){var e=this._data,r=t&&Il(t),n=t&&t.order,o=Cp(zO(e).call(e)),i=[];if(r)if(n){for(var a=[],u=0,s=o.length;u<s;u++){var c=o[u],f=this._data.get(c);null!=f&&r(f)&&a.push(f)}this._sort(a,n);for(var l=0,h=a.length;l<h;l++)i.push(a[l][this._idProp])}else for(var p=0,v=o.length;p<v;p++){var d=o[p],y=this._data.get(d);null!=y&&r(y)&&i.push(y[this._idProp])}else if(n){for(var g=[],m=0,b=o.length;m<b;m++){var w=o[m];g.push(e.get(w))}this._sort(g,n);for(var _=0,T=g.length;_<T;_++)i.push(g[_][this._idProp])}else for(var E=0,O=o.length;E<O;E++){var S=o[E],x=e.get(S);null!=x&&i.push(x[this._idProp])}return i}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(t,e){var r=e&&Il(e),n=this._data,o=Cp(zO(n).call(n));if(e&&e.order)for(var i=this.get(e),a=0,u=i.length;a<u;a++){var s=i[a];t(s,s[this._idProp])}else for(var c=0,f=o.length;c<f;c++){var l=o[c],h=this._data.get(l);null==h||r&&!r(h)||t(h,l)}}},{key:"map",value:function(t,e){for(var r=e&&Il(e),n=[],o=this._data,i=Cp(zO(o).call(o)),a=0,u=i.length;a<u;a++){var s=i[a],c=this._data.get(s);null==c||r&&!r(c)||n.push(t(c,s))}return e&&e.order&&this._sort(n,e.order),n}},{key:"_filterFields",value:function(t,e){var r;return t?Sl(r=Kp(e)?e:Qp(e)).call(r,(function(e,r){return e[r]=t[r],e}),{}):t}},{key:"_sort",value:function(t,e){if("string"==typeof e){var r=e;TS(t).call(t,(function(t,e){var n=t[r],o=e[r];return n>o?1:n<o?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");TS(t).call(t,e)}}},{key:"remove",value:function(t,e){for(var r=[],n=[],o=Kp(t)?t:[t],i=0,a=o.length;i<a;i++){var u=this._remove(o[i]);if(u){var s=u[this._idProp];null!=s&&(r.push(s),n.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:n},e),r}},{key:"_remove",value:function(t){var e;if(VS(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){var r=this._data.get(e)||null;return this._data.delete(e),--this.length,r}return null}},{key:"clear",value:function(t){for(var e,r=Cp(zO(e=this._data).call(e)),n=[],o=0,i=r.length;o<i;o++)n.push(this._data.get(r[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},t),r}},{key:"max",value:function(t){var e,r,n=null,o=null,i=rx(PS(e=this._data).call(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,u=a[t];"number"==typeof u&&(null==o||u>o)&&(n=a,o=u)}}catch(t){i.e(t)}finally{i.f()}return n||null}},{key:"min",value:function(t){var e,r,n=null,o=null,i=rx(PS(e=this._data).call(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,u=a[t];"number"==typeof u&&(null==o||u<o)&&(n=a,o=u)}}catch(t){i.e(t)}finally{i.f()}return n||null}},{key:"distinct",value:function(t){for(var e=this._data,r=Cp(zO(e).call(e)),n=[],o=0,i=0,a=r.length;i<a;i++){for(var u=r[i],s=e.get(u)[t],c=!1,f=0;f<o;f++)if(n[f]==s){c=!0;break}c||void 0===s||(n[o]=s,o++)}return n}},{key:"_addItem",value:function(t){var e=function(t,e){return null==t[e]&&(t[e]=XS()),t}(t,this._idProp),r=e[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,e),++this.length,r}},{key:"_updateItem",value:function(t){var e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+hd(t)+")");var r=this._data.get(e);if(!r)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,ex(ex({},r),t)),e}},{key:"stream",value:function(t){if(t){var e=this._data;return new ZS({[IS]:()=>wE.mark((function r(){var n,o,i,a;return wE.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=rx(t),r.prev=1,n.s();case 3:if((o=n.n()).done){r.next=11;break}if(i=o.value,null==(a=e.get(i))){r.next=9;break}return r.next=9,[i,a];case 9:r.next=3;break;case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),n.e(r.t0);case 16:return r.prev=16,n.f(),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[1,13,16,19]])}))()})}var r;return new ZS({[IS]:cl(r=zS(this._data)).call(r,this._data)})}}]),n}(HS);function ax(t,e){var r=void 0!==Rp&&Xh(t)||t["@@iterator"];if(!r){if(Kp(t)||(r=function(t,e){var r;if(!t)return;if("string"==typeof t)return ux(t,e);var n=qp(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Wh(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ux(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ux(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sx(t){var e=function(){if("undefined"==typeof Reflect||!nm)return!1;if(nm.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(nm(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Fm(t);if(e){var o=Fm(this).constructor;r=nm(n,arguments,o)}else r=n.apply(this,arguments);return Rm(this,r)}}var cx=function(t){Cm(n,t);var r=sx(n);function n(t,o){var i,a;return e(this,n),Wf(km(a=r.call(this)),"length",0),Wf(km(a),"_ids",new KS),a._options=o||{},a._listener=cl(i=a._onEvent).call(i,km(a)),a.setData(t),a}return qf(n,[{key:"idProp",get:function(){return this.getDataSet().idProp}},{key:"setData",value:function(t){if(this._data){this._data.off&&this._data.off("*",this._listener);var e=this._data.getIds({filter:Il(this._options)}),r=this._data.get(e);this._ids.clear(),this.length=0,this._trigger("remove",{items:e,oldData:r})}if(null!=t){this._data=t;for(var n=this._data.getIds({filter:Il(this._options)}),o=0,i=n.length;o<i;o++){var a=n[o];this._ids.add(a)}this.length=n.length,this._trigger("add",{items:n})}else this._data=new ix;this._data.on&&this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var t=this._data.getIds({filter:Il(this._options)}),e=Cp(this._ids),r={},n=[],o=[],i=[],a=0,u=t.length;a<u;a++){var s=t[a];r[s]=!0,this._ids.has(s)||(n.push(s),this._ids.add(s))}for(var c=0,f=e.length;c<f;c++){var l=e[c],h=this._data.get(l);null==h?console.error("If you see this, report it please."):r[l]||(o.push(l),i.push(h),this._ids.delete(l))}this.length+=n.length-o.length,n.length&&this._trigger("add",{items:n}),o.length&&this._trigger("remove",{items:o,oldData:i})}},{key:"get",value:function(t,e){if(null==this._data)return null;var r,n=null;VS(t)||Kp(t)?(n=t,r=e):r=t;var o=ed({},this._options,r),i=Il(this._options),a=r&&Il(r);return i&&a&&(o.filter=function(t){return i(t)&&a(t)}),null==n?this._data.get(o):this._data.get(n,o)}},{key:"getIds",value:function(t){if(this._data.length){var e,r=Il(this._options),n=null!=t?Il(t):null;return e=n?r?function(t){return r(t)&&n(t)}:n:r,this._data.getIds({filter:e,order:t&&t.order})}return[]}},{key:"forEach",value:function(t,e){if(this._data){var r,n,o=Il(this._options),i=e&&Il(e);n=i?o?function(t){return o(t)&&i(t)}:i:o,cv(r=this._data).call(r,t,{filter:n,order:e&&e.order})}}},{key:"map",value:function(t,e){if(this._data){var r,n,o=Il(this._options),i=e&&Il(e);return n=i?o?function(t){return o(t)&&i(t)}:i:o,Nl(r=this._data).call(r,t,{filter:n,order:e&&e.order})}return[]}},{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(t){var e;return this._data.stream(t||{[IS]:cl(e=zO(this._ids)).call(e,this._ids)})}},{key:"dispose",value:function(){var t;null!==(t=this._data)&&void 0!==t&&t.off&&this._data.off("*",this._listener);var e,r="This data view has already been disposed of.",o={get:function(){throw new Error(r)},set:function(){throw new Error(r)},configurable:!1},i=ax(Hp(n.prototype));try{for(i.s();!(e=i.n()).done;){var a=e.value;xm(this,a,o)}}catch(t){i.e(t)}finally{i.f()}}},{key:"_onEvent",value:function(t,e,r){if(e&&e.items&&this._data){var n=e.items,o=[],i=[],a=[],u=[],s=[],c=[];switch(t){case"add":for(var f=0,l=n.length;f<l;f++){var h=n[f];this.get(h)&&(this._ids.add(h),o.push(h))}break;case"update":for(var p=0,v=n.length;p<v;p++){var d=n[p];this.get(d)?this._ids.has(d)?(i.push(d),s.push(e.data[p]),u.push(e.oldData[p])):(this._ids.add(d),o.push(d)):this._ids.has(d)&&(this._ids.delete(d),a.push(d),c.push(e.oldData[p]))}break;case"remove":for(var y=0,g=n.length;y<g;y++){var m=n[y];this._ids.has(m)&&(this._ids.delete(m),a.push(m),c.push(e.oldData[y]))}}this.length+=o.length-a.length,o.length&&this._trigger("add",{items:o},r),i.length&&this._trigger("update",{items:i,oldData:u,data:s},r),a.length&&this._trigger("remove",{items:a,oldData:c},r)}}}]),n}(HS);function fx(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof cv(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof Nl(e)&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}t.DELETE=Dg,t.DataSet=ix,t.DataStream=ZS,t.DataView=cx,t.Queue=BS,t.createNewDataPipeFrom=function(t){return new th(t)},t.isDataSetLike=fx,t.isDataViewLike=function(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof cv(e)&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof Nl(e)&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&fx(t,e.getDataSet())}}));
//# sourceMappingURL=vis-data.min.js.map


/***/ }),

/***/ "../../node_modules/vis-network/peer/umd/vis-network.min.js":
/*!******************************************************************!*\
  !*** ../../node_modules/vis-network/peer/umd/vis-network.min.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 9.1.9
 * @date    2023-11-03T01:42:27.418Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
!function(t,e){ true?e(exports,__webpack_require__(/*! vis-data/peer/umd/vis-data.js */ "../../node_modules/vis-data/peer/umd/vis-data.js")):0}(this,(function(t,e){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n=function(t){return t&&t.Math===Math&&t},r=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i&&i)||function(){return this}()||i||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},a=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),h=a,d=Function.prototype,l=d.apply,c=d.call,u="object"==typeof Reflect&&Reflect.apply||(h?c.bind(l):function(){return c.apply(l,arguments)}),f=a,p=Function.prototype,v=p.call,g=f&&p.bind.bind(v,v),y=f?g:function(t){return function(){return v.apply(t,arguments)}},m=y,b=m({}.toString),w=m("".slice),k=function(t){return w(b(t),8,-1)},_=k,x=y,E=function(t){if("Function"===_(t))return x(t)},O="object"==typeof document&&document.all,C={all:O,IS_HTMLDDA:void 0===O&&void 0!==O},S=C.all,T=C.IS_HTMLDDA?function(t){return"function"==typeof t||t===S}:function(t){return"function"==typeof t},M={},P=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),D=a,I=Function.prototype.call,B=D?I.bind(I):function(){return I.apply(I,arguments)},F={},z={}.propertyIsEnumerable,N=Object.getOwnPropertyDescriptor,A=N&&!z.call({1:2},1);F.f=A?function(t){var e=N(this,t);return!!e&&e.enumerable}:z;var R,j,L=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},H=s,W=k,V=Object,q=y("".split),U=H((function(){return!V("z").propertyIsEnumerable(0)}))?function(t){return"String"===W(t)?q(t,""):V(t)}:V,Y=function(t){return null==t},X=Y,K=TypeError,G=function(t){if(X(t))throw new K("Can't call method on "+t);return t},$=U,Z=G,Q=function(t){return $(Z(t))},J=T,tt=C.all,et=C.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:J(t)||t===tt}:function(t){return"object"==typeof t?null!==t:J(t)},it={},ot=it,nt=r,rt=T,st=function(t){return rt(t)?t:void 0},at=function(t,e){return arguments.length<2?st(ot[t])||st(nt[t]):ot[t]&&ot[t][e]||nt[t]&&nt[t][e]},ht=y({}.isPrototypeOf),dt="undefined"!=typeof navigator&&String(navigator.userAgent)||"",lt=r,ct=dt,ut=lt.process,ft=lt.Deno,pt=ut&&ut.versions||ft&&ft.version,vt=pt&&pt.v8;vt&&(j=(R=vt.split("."))[0]>0&&R[0]<4?1:+(R[0]+R[1])),!j&&ct&&(!(R=ct.match(/Edge\/(\d+)/))||R[1]>=74)&&(R=ct.match(/Chrome\/(\d+)/))&&(j=+R[1]);var gt=j,yt=gt,mt=s,bt=r.String,wt=!!Object.getOwnPropertySymbols&&!mt((function(){var t=Symbol("symbol detection");return!bt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&yt&&yt<41})),kt=wt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_t=at,xt=T,Et=ht,Ot=Object,Ct=kt?function(t){return"symbol"==typeof t}:function(t){var e=_t("Symbol");return xt(e)&&Et(e.prototype,Ot(t))},St=String,Tt=function(t){try{return St(t)}catch(t){return"Object"}},Mt=T,Pt=Tt,Dt=TypeError,It=function(t){if(Mt(t))return t;throw new Dt(Pt(t)+" is not a function")},Bt=It,Ft=Y,zt=function(t,e){var i=t[e];return Ft(i)?void 0:Bt(i)},Nt=B,At=T,Rt=et,jt=TypeError,Lt={exports:{}},Ht=r,Wt=Object.defineProperty,Vt=function(t,e){try{Wt(Ht,t,{value:e,configurable:!0,writable:!0})}catch(i){Ht[t]=e}return e},qt="__core-js_shared__",Ut=r[qt]||Vt(qt,{}),Yt=Ut;(Lt.exports=function(t,e){return Yt[t]||(Yt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Xt=Lt.exports,Kt=G,Gt=Object,$t=function(t){return Gt(Kt(t))},Zt=$t,Qt=y({}.hasOwnProperty),Jt=Object.hasOwn||function(t,e){return Qt(Zt(t),e)},te=y,ee=0,ie=Math.random(),oe=te(1..toString),ne=function(t){return"Symbol("+(void 0===t?"":t)+")_"+oe(++ee+ie,36)},re=Xt,se=Jt,ae=ne,he=wt,de=kt,le=r.Symbol,ce=re("wks"),ue=de?le.for||le:le&&le.withoutSetter||ae,fe=function(t){return se(ce,t)||(ce[t]=he&&se(le,t)?le[t]:ue("Symbol."+t)),ce[t]},pe=B,ve=et,ge=Ct,ye=zt,me=function(t,e){var i,o;if("string"===e&&At(i=t.toString)&&!Rt(o=Nt(i,t)))return o;if(At(i=t.valueOf)&&!Rt(o=Nt(i,t)))return o;if("string"!==e&&At(i=t.toString)&&!Rt(o=Nt(i,t)))return o;throw new jt("Can't convert object to primitive value")},be=TypeError,we=fe("toPrimitive"),ke=function(t,e){if(!ve(t)||ge(t))return t;var i,o=ye(t,we);if(o){if(void 0===e&&(e="default"),i=pe(o,t,e),!ve(i)||ge(i))return i;throw new be("Can't convert object to primitive value")}return void 0===e&&(e="number"),me(t,e)},_e=Ct,xe=function(t){var e=ke(t,"string");return _e(e)?e:e+""},Ee=et,Oe=r.document,Ce=Ee(Oe)&&Ee(Oe.createElement),Se=function(t){return Ce?Oe.createElement(t):{}},Te=Se,Me=!P&&!s((function(){return 7!==Object.defineProperty(Te("div"),"a",{get:function(){return 7}}).a})),Pe=P,De=B,Ie=F,Be=L,Fe=Q,ze=xe,Ne=Jt,Ae=Me,Re=Object.getOwnPropertyDescriptor;M.f=Pe?Re:function(t,e){if(t=Fe(t),e=ze(e),Ae)try{return Re(t,e)}catch(t){}if(Ne(t,e))return Be(!De(Ie.f,t,e),t[e])};var je=s,Le=T,He=/#|\.prototype\./,We=function(t,e){var i=qe[Ve(t)];return i===Ye||i!==Ue&&(Le(e)?je(e):!!e)},Ve=We.normalize=function(t){return String(t).replace(He,".").toLowerCase()},qe=We.data={},Ue=We.NATIVE="N",Ye=We.POLYFILL="P",Xe=We,Ke=It,Ge=a,$e=E(E.bind),Ze=function(t,e){return Ke(t),void 0===e?t:Ge?$e(t,e):function(){return t.apply(e,arguments)}},Qe={},Je=P&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),ti=et,ei=String,ii=TypeError,oi=function(t){if(ti(t))return t;throw new ii(ei(t)+" is not an object")},ni=P,ri=Me,si=Je,ai=oi,hi=xe,di=TypeError,li=Object.defineProperty,ci=Object.getOwnPropertyDescriptor,ui="enumerable",fi="configurable",pi="writable";Qe.f=ni?si?function(t,e,i){if(ai(t),e=hi(e),ai(i),"function"==typeof t&&"prototype"===e&&"value"in i&&pi in i&&!i[pi]){var o=ci(t,e);o&&o[pi]&&(t[e]=i.value,i={configurable:fi in i?i[fi]:o[fi],enumerable:ui in i?i[ui]:o[ui],writable:!1})}return li(t,e,i)}:li:function(t,e,i){if(ai(t),e=hi(e),ai(i),ri)try{return li(t,e,i)}catch(t){}if("get"in i||"set"in i)throw new di("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var vi=Qe,gi=L,yi=P?function(t,e,i){return vi.f(t,e,gi(1,i))}:function(t,e,i){return t[e]=i,t},mi=r,bi=u,wi=E,ki=T,_i=M.f,xi=Xe,Ei=it,Oi=Ze,Ci=yi,Si=Jt,Ti=function(t){var e=function(i,o,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,o)}return new t(i,o,n)}return bi(t,this,arguments)};return e.prototype=t.prototype,e},Mi=function(t,e){var i,o,n,r,s,a,h,d,l,c=t.target,u=t.global,f=t.stat,p=t.proto,v=u?mi:f?mi[c]:(mi[c]||{}).prototype,g=u?Ei:Ei[c]||Ci(Ei,c,{})[c],y=g.prototype;for(r in e)o=!(i=xi(u?r:c+(f?".":"#")+r,t.forced))&&v&&Si(v,r),a=g[r],o&&(h=t.dontCallGetSet?(l=_i(v,r))&&l.value:v[r]),s=o&&h?h:e[r],o&&typeof a==typeof s||(d=t.bind&&o?Oi(s,mi):t.wrap&&o?Ti(s):p&&ki(s)?wi(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Ci(d,"sham",!0),Ci(g,r,d),p&&(Si(Ei,n=c+"Prototype")||Ci(Ei,n,{}),Ci(Ei[n],r,s),t.real&&y&&(i||!y[r])&&Ci(y,r,s)))},Pi=Math.ceil,Di=Math.floor,Ii=Math.trunc||function(t){var e=+t;return(e>0?Di:Pi)(e)},Bi=function(t){var e=+t;return e!=e||0===e?0:Ii(e)},Fi=Bi,zi=Math.max,Ni=Math.min,Ai=function(t,e){var i=Fi(t);return i<0?zi(i+e,0):Ni(i,e)},Ri=Bi,ji=Math.min,Li=function(t){return t>0?ji(Ri(t),9007199254740991):0},Hi=function(t){return Li(t.length)},Wi=Q,Vi=Ai,qi=Hi,Ui=function(t){return function(e,i,o){var n,r=Wi(e),s=qi(r),a=Vi(o,s);if(t&&i!=i){for(;s>a;)if((n=r[a++])!=n)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===i)return t||a||0;return!t&&-1}},Yi={includes:Ui(!0),indexOf:Ui(!1)},Xi={},Ki=Jt,Gi=Q,$i=Yi.indexOf,Zi=Xi,Qi=y([].push),Ji=function(t,e){var i,o=Gi(t),n=0,r=[];for(i in o)!Ki(Zi,i)&&Ki(o,i)&&Qi(r,i);for(;e.length>n;)Ki(o,i=e[n++])&&(~$i(r,i)||Qi(r,i));return r},to=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],eo=Ji,io=to,oo=Object.keys||function(t){return eo(t,io)},no={};no.f=Object.getOwnPropertySymbols;var ro=P,so=y,ao=B,ho=s,lo=oo,co=no,uo=F,fo=$t,po=U,vo=Object.assign,go=Object.defineProperty,yo=so([].concat),mo=!vo||ho((function(){if(ro&&1!==vo({b:1},vo(go({},"a",{enumerable:!0,get:function(){go(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol("assign detection"),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach((function(t){e[t]=t})),7!==vo({},t)[i]||lo(vo({},e)).join("")!==o}))?function(t,e){for(var i=fo(t),o=arguments.length,n=1,r=co.f,s=uo.f;o>n;)for(var a,h=po(arguments[n++]),d=r?yo(lo(h),r(h)):lo(h),l=d.length,c=0;l>c;)a=d[c++],ro&&!ao(s,h,a)||(i[a]=h[a]);return i}:vo,bo=mo;Mi({target:"Object",stat:!0,arity:2,forced:Object.assign!==bo},{assign:bo});var wo=o(it.Object.assign),ko=y([].slice),_o=y,xo=It,Eo=et,Oo=Jt,Co=ko,So=a,To=Function,Mo=_o([].concat),Po=_o([].join),Do={},Io=So?To.bind:function(t){var e=xo(this),i=e.prototype,o=Co(arguments,1),n=function(){var i=Mo(o,Co(arguments));return this instanceof n?function(t,e,i){if(!Oo(Do,e)){for(var o=[],n=0;n<e;n++)o[n]="a["+n+"]";Do[e]=To("C,a","return new C("+Po(o,",")+")")}return Do[e](t,i)}(e,i.length,i):e.apply(t,i)};return Eo(i)&&(n.prototype=i),n},Bo=Io;Mi({target:"Function",proto:!0,forced:Function.bind!==Bo},{bind:Bo});var Fo=it,zo=function(t){return Fo[t+"Prototype"]},No=zo("Function").bind,Ao=ht,Ro=No,jo=Function.prototype,Lo=function(t){var e=t.bind;return t===jo||Ao(jo,t)&&e===jo.bind?Ro:e},Ho=Lo,Wo=o(Ho);function Vo(t,e,i,o){t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.closePath()}function qo(t,e,i,o,n,r){var s=Math.PI/180;o-2*r<0&&(r=o/2),n-2*r<0&&(r=n/2),t.beginPath(),t.moveTo(e+r,i),t.lineTo(e+o-r,i),t.arc(e+o-r,i+r,r,270*s,360*s,!1),t.lineTo(e+o,i+n-r),t.arc(e+o-r,i+n-r,r,0,90*s,!1),t.lineTo(e+r,i+n),t.arc(e+r,i+n-r,r,90*s,180*s,!1),t.lineTo(e,i+r),t.arc(e+r,i+r,r,180*s,270*s,!1),t.closePath()}function Uo(t,e,i,o,n){var r=.5522848,s=o/2*r,a=n/2*r,h=e+o,d=i+n,l=e+o/2,c=i+n/2;t.beginPath(),t.moveTo(e,c),t.bezierCurveTo(e,c-a,l-s,i,l,i),t.bezierCurveTo(l+s,i,h,c-a,h,c),t.bezierCurveTo(h,c+a,l+s,d,l,d),t.bezierCurveTo(l-s,d,e,c+a,e,c),t.closePath()}function Yo(t,e,i,o,n){var r=n*(1/3),s=.5522848,a=o/2*s,h=r/2*s,d=e+o,l=i+r,c=e+o/2,u=i+r/2,f=i+(n-r/2),p=i+n;t.beginPath(),t.moveTo(d,u),t.bezierCurveTo(d,u+h,c+a,l,c,l),t.bezierCurveTo(c-a,l,e,u+h,e,u),t.bezierCurveTo(e,u-h,c-a,i,c,i),t.bezierCurveTo(c+a,i,d,u-h,d,u),t.lineTo(d,f),t.bezierCurveTo(d,f+h,c+a,p,c,p),t.bezierCurveTo(c-a,p,e,f+h,e,f),t.lineTo(e,u)}function Xo(t,e,i,o,n,r){t.beginPath(),t.moveTo(e,i);for(var s=r.length,a=o-e,h=n-i,d=h/a,l=Math.sqrt(a*a+h*h),c=0,u=!0,f=0,p=+r[0];l>=.1;)(p=+r[c++%s])>l&&(p=l),f=Math.sqrt(p*p/(1+d*d)),e+=f=a<0?-f:f,i+=d*f,!0===u?t.lineTo(e,i):t.moveTo(e,i),l-=p,u=!u}var Ko={circle:Vo,dashedLine:Xo,database:Yo,diamond:function(t,e,i,o){t.beginPath(),t.lineTo(e,i+o),t.lineTo(e+o,i),t.lineTo(e,i-o),t.lineTo(e-o,i),t.closePath()},ellipse:Uo,ellipse_vis:Uo,hexagon:function(t,e,i,o){t.beginPath();var n=2*Math.PI/6;t.moveTo(e+o,i);for(var r=1;r<6;r++)t.lineTo(e+o*Math.cos(n*r),i+o*Math.sin(n*r));t.closePath()},roundRect:qo,square:function(t,e,i,o){t.beginPath(),t.rect(e-o,i-o,2*o,2*o),t.closePath()},star:function(t,e,i,o){t.beginPath(),i+=.1*(o*=.82);for(var n=0;n<10;n++){var r=n%2==0?1.3*o:.5*o;t.lineTo(e+r*Math.sin(2*n*Math.PI/10),i-r*Math.cos(2*n*Math.PI/10))}t.closePath()},triangle:function(t,e,i,o){t.beginPath(),i+=.275*(o*=1.15);var n=2*o,r=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-r*r);t.moveTo(e,i-(a-s)),t.lineTo(e+r,i+s),t.lineTo(e-r,i+s),t.lineTo(e,i-(a-s)),t.closePath()},triangleDown:function(t,e,i,o){t.beginPath(),i-=.275*(o*=1.15);var n=2*o,r=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-r*r);t.moveTo(e,i+(a-s)),t.lineTo(e+r,i-s),t.lineTo(e-r,i-s),t.lineTo(e,i+(a-s)),t.closePath()}};var Go={exports:{}};!function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n=0;n<o.length;n++)if((i=o[n])===e||i.fn===e){o.splice(n,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(i){o=0;for(var n=(i=i.slice(0)).length;o<n;++o)i[o].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}(Go);var $o=o(Go.exports),Zo={};Zo[fe("toStringTag")]="z";var Qo,Jo,tn,en="[object z]"===String(Zo),on=en,nn=T,rn=k,sn=fe("toStringTag"),an=Object,hn="Arguments"===rn(function(){return arguments}()),dn=on?rn:function(t){var e,i,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=an(t),sn))?i:hn?rn(e):"Object"===(o=rn(e))&&nn(e.callee)?"Arguments":o},ln=dn,cn=String,un=function(t){if("Symbol"===ln(t))throw new TypeError("Cannot convert a Symbol value to a string");return cn(t)},fn=y,pn=Bi,vn=un,gn=G,yn=fn("".charAt),mn=fn("".charCodeAt),bn=fn("".slice),wn=function(t){return function(e,i){var o,n,r=vn(gn(e)),s=pn(i),a=r.length;return s<0||s>=a?t?"":void 0:(o=mn(r,s))<55296||o>56319||s+1===a||(n=mn(r,s+1))<56320||n>57343?t?yn(r,s):o:t?bn(r,s,s+2):n-56320+(o-55296<<10)+65536}},kn={codeAt:wn(!1),charAt:wn(!0)},_n=T,xn=r.WeakMap,En=_n(xn)&&/native code/.test(String(xn)),On=ne,Cn=Xt("keys"),Sn=function(t){return Cn[t]||(Cn[t]=On(t))},Tn=En,Mn=r,Pn=et,Dn=yi,In=Jt,Bn=Ut,Fn=Sn,zn=Xi,Nn="Object already initialized",An=Mn.TypeError,Rn=Mn.WeakMap;if(Tn||Bn.state){var jn=Bn.state||(Bn.state=new Rn);jn.get=jn.get,jn.has=jn.has,jn.set=jn.set,Qo=function(t,e){if(jn.has(t))throw new An(Nn);return e.facade=t,jn.set(t,e),e},Jo=function(t){return jn.get(t)||{}},tn=function(t){return jn.has(t)}}else{var Ln=Fn("state");zn[Ln]=!0,Qo=function(t,e){if(In(t,Ln))throw new An(Nn);return e.facade=t,Dn(t,Ln,e),e},Jo=function(t){return In(t,Ln)?t[Ln]:{}},tn=function(t){return In(t,Ln)}}var Hn={set:Qo,get:Jo,has:tn,enforce:function(t){return tn(t)?Jo(t):Qo(t,{})},getterFor:function(t){return function(e){var i;if(!Pn(e)||(i=Jo(e)).type!==t)throw new An("Incompatible receiver, "+t+" required");return i}}},Wn=P,Vn=Jt,qn=Function.prototype,Un=Wn&&Object.getOwnPropertyDescriptor,Yn=Vn(qn,"name"),Xn={EXISTS:Yn,PROPER:Yn&&"something"===function(){}.name,CONFIGURABLE:Yn&&(!Wn||Wn&&Un(qn,"name").configurable)},Kn={},Gn=P,$n=Je,Zn=Qe,Qn=oi,Jn=Q,tr=oo;Kn.f=Gn&&!$n?Object.defineProperties:function(t,e){Qn(t);for(var i,o=Jn(e),n=tr(e),r=n.length,s=0;r>s;)Zn.f(t,i=n[s++],o[i]);return t};var er,ir=at("document","documentElement"),or=oi,nr=Kn,rr=to,sr=Xi,ar=ir,hr=Se,dr="prototype",lr="script",cr=Sn("IE_PROTO"),ur=function(){},fr=function(t){return"<"+lr+">"+t+"</"+lr+">"},pr=function(t){t.write(fr("")),t.close();var e=t.parentWindow.Object;return t=null,e},vr=function(){try{er=new ActiveXObject("htmlfile")}catch(t){}var t,e,i;vr="undefined"!=typeof document?document.domain&&er?pr(er):(e=hr("iframe"),i="java"+lr+":",e.style.display="none",ar.appendChild(e),e.src=String(i),(t=e.contentWindow.document).open(),t.write(fr("document.F=Object")),t.close(),t.F):pr(er);for(var o=rr.length;o--;)delete vr[dr][rr[o]];return vr()};sr[cr]=!0;var gr,yr,mr,br=Object.create||function(t,e){var i;return null!==t?(ur[dr]=or(t),i=new ur,ur[dr]=null,i[cr]=t):i=vr(),void 0===e?i:nr.f(i,e)},wr=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),kr=Jt,_r=T,xr=$t,Er=wr,Or=Sn("IE_PROTO"),Cr=Object,Sr=Cr.prototype,Tr=Er?Cr.getPrototypeOf:function(t){var e=xr(t);if(kr(e,Or))return e[Or];var i=e.constructor;return _r(i)&&e instanceof i?i.prototype:e instanceof Cr?Sr:null},Mr=yi,Pr=function(t,e,i,o){return o&&o.enumerable?t[e]=i:Mr(t,e,i),t},Dr=s,Ir=T,Br=et,Fr=br,zr=Tr,Nr=Pr,Ar=fe("iterator"),Rr=!1;[].keys&&("next"in(mr=[].keys())?(yr=zr(zr(mr)))!==Object.prototype&&(gr=yr):Rr=!0);var jr=!Br(gr)||Dr((function(){var t={};return gr[Ar].call(t)!==t}));Ir((gr=jr?{}:Fr(gr))[Ar])||Nr(gr,Ar,(function(){return this}));var Lr={IteratorPrototype:gr,BUGGY_SAFARI_ITERATORS:Rr},Hr=dn,Wr=en?{}.toString:function(){return"[object "+Hr(this)+"]"},Vr=en,qr=Qe.f,Ur=yi,Yr=Jt,Xr=Wr,Kr=fe("toStringTag"),Gr=function(t,e,i,o){if(t){var n=i?t:t.prototype;Yr(n,Kr)||qr(n,Kr,{configurable:!0,value:e}),o&&!Vr&&Ur(n,"toString",Xr)}},$r={},Zr=Lr.IteratorPrototype,Qr=br,Jr=L,ts=Gr,es=$r,is=function(){return this},os=y,ns=It,rs=T,ss=String,as=TypeError,hs=function(t,e,i){try{return os(ns(Object.getOwnPropertyDescriptor(t,e)[i]))}catch(t){}},ds=oi,ls=function(t){if("object"==typeof t||rs(t))return t;throw new as("Can't set "+ss(t)+" as a prototype")},cs=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=hs(Object.prototype,"__proto__","set"))(i,[]),e=i instanceof Array}catch(t){}return function(i,o){return ds(i),ls(o),e?t(i,o):i.__proto__=o,i}}():void 0),us=Mi,fs=B,ps=Xn,vs=function(t,e,i,o){var n=e+" Iterator";return t.prototype=Qr(Zr,{next:Jr(+!o,i)}),ts(t,n,!1,!0),es[n]=is,t},gs=Tr,ys=Gr,ms=Pr,bs=$r,ws=Lr,ks=ps.PROPER,_s=ws.BUGGY_SAFARI_ITERATORS,xs=fe("iterator"),Es="keys",Os="values",Cs="entries",Ss=function(){return this},Ts=function(t,e,i,o,n,r,s){vs(i,e,o);var a,h,d,l=function(t){if(t===n&&v)return v;if(!_s&&t&&t in f)return f[t];switch(t){case Es:case Os:case Cs:return function(){return new i(this,t)}}return function(){return new i(this)}},c=e+" Iterator",u=!1,f=t.prototype,p=f[xs]||f["@@iterator"]||n&&f[n],v=!_s&&p||l(n),g="Array"===e&&f.entries||p;if(g&&(a=gs(g.call(new t)))!==Object.prototype&&a.next&&(ys(a,c,!0,!0),bs[c]=Ss),ks&&n===Os&&p&&p.name!==Os&&(u=!0,v=function(){return fs(p,this)}),n)if(h={values:l(Os),keys:r?v:l(Es),entries:l(Cs)},s)for(d in h)(_s||u||!(d in f))&&ms(f,d,h[d]);else us({target:e,proto:!0,forced:_s||u},h);return s&&f[xs]!==v&&ms(f,xs,v,{name:n}),bs[e]=v,h},Ms=function(t,e){return{value:t,done:e}},Ps=kn.charAt,Ds=un,Is=Hn,Bs=Ts,Fs=Ms,zs="String Iterator",Ns=Is.set,As=Is.getterFor(zs);Bs(String,"String",(function(t){Ns(this,{type:zs,string:Ds(t),index:0})}),(function(){var t,e=As(this),i=e.string,o=e.index;return o>=i.length?Fs(void 0,!0):(t=Ps(i,o),e.index+=t.length,Fs(t,!1))}));var Rs=B,js=oi,Ls=zt,Hs=function(t,e,i){var o,n;js(t);try{if(!(o=Ls(t,"return"))){if("throw"===e)throw i;return i}o=Rs(o,t)}catch(t){n=!0,o=t}if("throw"===e)throw i;if(n)throw o;return js(o),i},Ws=oi,Vs=Hs,qs=$r,Us=fe("iterator"),Ys=Array.prototype,Xs=function(t){return void 0!==t&&(qs.Array===t||Ys[Us]===t)},Ks=T,Gs=Ut,$s=y(Function.toString);Ks(Gs.inspectSource)||(Gs.inspectSource=function(t){return $s(t)});var Zs=Gs.inspectSource,Qs=y,Js=s,ta=T,ea=dn,ia=Zs,oa=function(){},na=[],ra=at("Reflect","construct"),sa=/^\s*(?:class|function)\b/,aa=Qs(sa.exec),ha=!sa.test(oa),da=function(t){if(!ta(t))return!1;try{return ra(oa,na,t),!0}catch(t){return!1}},la=function(t){if(!ta(t))return!1;switch(ea(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ha||!!aa(sa,ia(t))}catch(t){return!0}};la.sham=!0;var ca=!ra||Js((function(){var t;return da(da.call)||!da(Object)||!da((function(){t=!0}))||t}))?la:da,ua=xe,fa=Qe,pa=L,va=function(t,e,i){var o=ua(e);o in t?fa.f(t,o,pa(0,i)):t[o]=i},ga=dn,ya=zt,ma=Y,ba=$r,wa=fe("iterator"),ka=function(t){if(!ma(t))return ya(t,wa)||ya(t,"@@iterator")||ba[ga(t)]},_a=B,xa=It,Ea=oi,Oa=Tt,Ca=ka,Sa=TypeError,Ta=function(t,e){var i=arguments.length<2?Ca(t):e;if(xa(i))return Ea(_a(i,t));throw new Sa(Oa(t)+" is not iterable")},Ma=Ze,Pa=B,Da=$t,Ia=function(t,e,i,o){try{return o?e(Ws(i)[0],i[1]):e(i)}catch(e){Vs(t,"throw",e)}},Ba=Xs,Fa=ca,za=Hi,Na=va,Aa=Ta,Ra=ka,ja=Array,La=fe("iterator"),Ha=!1;try{var Wa=0,Va={next:function(){return{done:!!Wa++}},return:function(){Ha=!0}};Va[La]=function(){return this},Array.from(Va,(function(){throw 2}))}catch(t){}var qa=function(t){var e=Da(t),i=Fa(this),o=arguments.length,n=o>1?arguments[1]:void 0,r=void 0!==n;r&&(n=Ma(n,o>2?arguments[2]:void 0));var s,a,h,d,l,c,u=Ra(e),f=0;if(!u||this===ja&&Ba(u))for(s=za(e),a=i?new this(s):ja(s);s>f;f++)c=r?n(e[f],f):e[f],Na(a,f,c);else for(l=(d=Aa(e,u)).next,a=i?new this:[];!(h=Pa(l,d)).done;f++)c=r?Ia(d,n,[h.value,f],!0):h.value,Na(a,f,c);return a.length=f,a},Ua=function(t,e){try{if(!e&&!Ha)return!1}catch(t){return!1}var i=!1;try{var o={};o[La]=function(){return{next:function(){return{done:i=!0}}}},t(o)}catch(t){}return i};Mi({target:"Array",stat:!0,forced:!Ua((function(t){Array.from(t)}))},{from:qa});var Ya=it.Array.from,Xa=o(Ya),Ka=Q,Ga=$r,$a=Hn;Qe.f;var Za=Ts,Qa=Ms,Ja="Array Iterator",th=$a.set,eh=$a.getterFor(Ja);Za(Array,"Array",(function(t,e){th(this,{type:Ja,target:Ka(t),index:0,kind:e})}),(function(){var t=eh(this),e=t.target,i=t.kind,o=t.index++;if(!e||o>=e.length)return t.target=void 0,Qa(void 0,!0);switch(i){case"keys":return Qa(o,!1);case"values":return Qa(e[o],!1)}return Qa([o,e[o]],!1)}),"values"),Ga.Arguments=Ga.Array;var ih=ka,oh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},nh=r,rh=dn,sh=yi,ah=$r,hh=fe("toStringTag");for(var dh in oh){var lh=nh[dh],ch=lh&&lh.prototype;ch&&rh(ch)!==hh&&sh(ch,hh,dh),ah[dh]=ah.Array}var uh=ih,fh=o(uh),ph=o(uh);function vh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var gh={exports:{}},yh=Mi,mh=P,bh=Qe.f;yh({target:"Object",stat:!0,forced:Object.defineProperty!==bh,sham:!mh},{defineProperty:bh});var wh=it.Object,kh=gh.exports=function(t,e,i){return wh.defineProperty(t,e,i)};wh.defineProperty.sham&&(kh.sham=!0);var _h=gh.exports,xh=o(_h),Eh=k,Oh=Array.isArray||function(t){return"Array"===Eh(t)},Ch=TypeError,Sh=function(t){if(t>9007199254740991)throw Ch("Maximum allowed index exceeded");return t},Th=Oh,Mh=ca,Ph=et,Dh=fe("species"),Ih=Array,Bh=function(t){var e;return Th(t)&&(e=t.constructor,(Mh(e)&&(e===Ih||Th(e.prototype))||Ph(e)&&null===(e=e[Dh]))&&(e=void 0)),void 0===e?Ih:e},Fh=function(t,e){return new(Bh(t))(0===e?0:e)},zh=s,Nh=gt,Ah=fe("species"),Rh=function(t){return Nh>=51||!zh((function(){var e=[];return(e.constructor={})[Ah]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},jh=Mi,Lh=s,Hh=Oh,Wh=et,Vh=$t,qh=Hi,Uh=Sh,Yh=va,Xh=Fh,Kh=Rh,Gh=gt,$h=fe("isConcatSpreadable"),Zh=Gh>=51||!Lh((function(){var t=[];return t[$h]=!1,t.concat()[0]!==t})),Qh=function(t){if(!Wh(t))return!1;var e=t[$h];return void 0!==e?!!e:Hh(t)};jh({target:"Array",proto:!0,arity:1,forced:!Zh||!Kh("concat")},{concat:function(t){var e,i,o,n,r,s=Vh(this),a=Xh(s,0),h=0;for(e=-1,o=arguments.length;e<o;e++)if(Qh(r=-1===e?s:arguments[e]))for(n=qh(r),Uh(h+n),i=0;i<n;i++,h++)i in r&&Yh(a,h,r[i]);else Uh(h+1),Yh(a,h++,r);return a.length=h,a}});var Jh={},td=Ji,ed=to.concat("length","prototype");Jh.f=Object.getOwnPropertyNames||function(t){return td(t,ed)};var id={},od=Ai,nd=Hi,rd=va,sd=Array,ad=Math.max,hd=function(t,e,i){for(var o=nd(t),n=od(e,o),r=od(void 0===i?o:i,o),s=sd(ad(r-n,0)),a=0;n<r;n++,a++)rd(s,a,t[n]);return s.length=a,s},dd=k,ld=Q,cd=Jh.f,ud=hd,fd="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];id.f=function(t){return fd&&"Window"===dd(t)?function(t){try{return cd(t)}catch(t){return ud(fd)}}(t):cd(ld(t))};var pd=Qe,vd=function(t,e,i){return pd.f(t,e,i)},gd={},yd=fe;gd.f=yd;var md=it,bd=Jt,wd=gd,kd=Qe.f,_d=function(t){var e=md.Symbol||(md.Symbol={});bd(e,t)||kd(e,t,{value:wd.f(t)})},xd=B,Ed=at,Od=fe,Cd=Pr,Sd=function(){var t=Ed("Symbol"),e=t&&t.prototype,i=e&&e.valueOf,o=Od("toPrimitive");e&&!e[o]&&Cd(e,o,(function(t){return xd(i,this)}),{arity:1})},Td=Ze,Md=U,Pd=$t,Dd=Hi,Id=Fh,Bd=y([].push),Fd=function(t){var e=1===t,i=2===t,o=3===t,n=4===t,r=6===t,s=7===t,a=5===t||r;return function(h,d,l,c){for(var u,f,p=Pd(h),v=Md(p),g=Td(d,l),y=Dd(v),m=0,b=c||Id,w=e?b(h,y):i||s?b(h,0):void 0;y>m;m++)if((a||m in v)&&(f=g(u=v[m],m,p),t))if(e)w[m]=f;else if(f)switch(t){case 3:return!0;case 5:return u;case 6:return m;case 2:Bd(w,u)}else switch(t){case 4:return!1;case 7:Bd(w,u)}return r?-1:o||n?n:w}},zd={forEach:Fd(0),map:Fd(1),filter:Fd(2),some:Fd(3),every:Fd(4),find:Fd(5),findIndex:Fd(6),filterReject:Fd(7)},Nd=Mi,Ad=r,Rd=B,jd=y,Ld=P,Hd=wt,Wd=s,Vd=Jt,qd=ht,Ud=oi,Yd=Q,Xd=xe,Kd=un,Gd=L,$d=br,Zd=oo,Qd=Jh,Jd=id,tl=no,el=M,il=Qe,ol=Kn,nl=F,rl=Pr,sl=vd,al=Xt,hl=Xi,dl=ne,ll=fe,cl=gd,ul=_d,fl=Sd,pl=Gr,vl=Hn,gl=zd.forEach,yl=Sn("hidden"),ml="Symbol",bl="prototype",wl=vl.set,kl=vl.getterFor(ml),_l=Object[bl],xl=Ad.Symbol,El=xl&&xl[bl],Ol=Ad.RangeError,Cl=Ad.TypeError,Sl=Ad.QObject,Tl=el.f,Ml=il.f,Pl=Jd.f,Dl=nl.f,Il=jd([].push),Bl=al("symbols"),Fl=al("op-symbols"),zl=al("wks"),Nl=!Sl||!Sl[bl]||!Sl[bl].findChild,Al=function(t,e,i){var o=Tl(_l,e);o&&delete _l[e],Ml(t,e,i),o&&t!==_l&&Ml(_l,e,o)},Rl=Ld&&Wd((function(){return 7!==$d(Ml({},"a",{get:function(){return Ml(this,"a",{value:7}).a}})).a}))?Al:Ml,jl=function(t,e){var i=Bl[t]=$d(El);return wl(i,{type:ml,tag:t,description:e}),Ld||(i.description=e),i},Ll=function(t,e,i){t===_l&&Ll(Fl,e,i),Ud(t);var o=Xd(e);return Ud(i),Vd(Bl,o)?(i.enumerable?(Vd(t,yl)&&t[yl][o]&&(t[yl][o]=!1),i=$d(i,{enumerable:Gd(0,!1)})):(Vd(t,yl)||Ml(t,yl,Gd(1,{})),t[yl][o]=!0),Rl(t,o,i)):Ml(t,o,i)},Hl=function(t,e){Ud(t);var i=Yd(e),o=Zd(i).concat(Ul(i));return gl(o,(function(e){Ld&&!Rd(Wl,i,e)||Ll(t,e,i[e])})),t},Wl=function(t){var e=Xd(t),i=Rd(Dl,this,e);return!(this===_l&&Vd(Bl,e)&&!Vd(Fl,e))&&(!(i||!Vd(this,e)||!Vd(Bl,e)||Vd(this,yl)&&this[yl][e])||i)},Vl=function(t,e){var i=Yd(t),o=Xd(e);if(i!==_l||!Vd(Bl,o)||Vd(Fl,o)){var n=Tl(i,o);return!n||!Vd(Bl,o)||Vd(i,yl)&&i[yl][o]||(n.enumerable=!0),n}},ql=function(t){var e=Pl(Yd(t)),i=[];return gl(e,(function(t){Vd(Bl,t)||Vd(hl,t)||Il(i,t)})),i},Ul=function(t){var e=t===_l,i=Pl(e?Fl:Yd(t)),o=[];return gl(i,(function(t){!Vd(Bl,t)||e&&!Vd(_l,t)||Il(o,Bl[t])})),o};Hd||(xl=function(){if(qd(El,this))throw new Cl("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Kd(arguments[0]):void 0,e=dl(t),i=function(t){this===_l&&Rd(i,Fl,t),Vd(this,yl)&&Vd(this[yl],e)&&(this[yl][e]=!1);var o=Gd(1,t);try{Rl(this,e,o)}catch(t){if(!(t instanceof Ol))throw t;Al(this,e,o)}};return Ld&&Nl&&Rl(_l,e,{configurable:!0,set:i}),jl(e,t)},rl(El=xl[bl],"toString",(function(){return kl(this).tag})),rl(xl,"withoutSetter",(function(t){return jl(dl(t),t)})),nl.f=Wl,il.f=Ll,ol.f=Hl,el.f=Vl,Qd.f=Jd.f=ql,tl.f=Ul,cl.f=function(t){return jl(ll(t),t)},Ld&&sl(El,"description",{configurable:!0,get:function(){return kl(this).description}})),Nd({global:!0,constructor:!0,wrap:!0,forced:!Hd,sham:!Hd},{Symbol:xl}),gl(Zd(zl),(function(t){ul(t)})),Nd({target:ml,stat:!0,forced:!Hd},{useSetter:function(){Nl=!0},useSimple:function(){Nl=!1}}),Nd({target:"Object",stat:!0,forced:!Hd,sham:!Ld},{create:function(t,e){return void 0===e?$d(t):Hl($d(t),e)},defineProperty:Ll,defineProperties:Hl,getOwnPropertyDescriptor:Vl}),Nd({target:"Object",stat:!0,forced:!Hd},{getOwnPropertyNames:ql}),fl(),pl(xl,ml),hl[yl]=!0;var Yl=wt&&!!Symbol.for&&!!Symbol.keyFor,Xl=Mi,Kl=at,Gl=Jt,$l=un,Zl=Xt,Ql=Yl,Jl=Zl("string-to-symbol-registry"),tc=Zl("symbol-to-string-registry");Xl({target:"Symbol",stat:!0,forced:!Ql},{for:function(t){var e=$l(t);if(Gl(Jl,e))return Jl[e];var i=Kl("Symbol")(e);return Jl[e]=i,tc[i]=e,i}});var ec=Mi,ic=Jt,oc=Ct,nc=Tt,rc=Yl,sc=Xt("symbol-to-string-registry");ec({target:"Symbol",stat:!0,forced:!rc},{keyFor:function(t){if(!oc(t))throw new TypeError(nc(t)+" is not a symbol");if(ic(sc,t))return sc[t]}});var ac=Oh,hc=T,dc=k,lc=un,cc=y([].push),uc=Mi,fc=at,pc=u,vc=B,gc=y,yc=s,mc=T,bc=Ct,wc=ko,kc=function(t){if(hc(t))return t;if(ac(t)){for(var e=t.length,i=[],o=0;o<e;o++){var n=t[o];"string"==typeof n?cc(i,n):"number"!=typeof n&&"Number"!==dc(n)&&"String"!==dc(n)||cc(i,lc(n))}var r=i.length,s=!0;return function(t,e){if(s)return s=!1,e;if(ac(this))return e;for(var o=0;o<r;o++)if(i[o]===t)return e}}},_c=wt,xc=String,Ec=fc("JSON","stringify"),Oc=gc(/./.exec),Cc=gc("".charAt),Sc=gc("".charCodeAt),Tc=gc("".replace),Mc=gc(1..toString),Pc=/[\uD800-\uDFFF]/g,Dc=/^[\uD800-\uDBFF]$/,Ic=/^[\uDC00-\uDFFF]$/,Bc=!_c||yc((function(){var t=fc("Symbol")("stringify detection");return"[null]"!==Ec([t])||"{}"!==Ec({a:t})||"{}"!==Ec(Object(t))})),Fc=yc((function(){return'"\\udf06\\ud834"'!==Ec("\udf06\ud834")||'"\\udead"'!==Ec("\udead")})),zc=function(t,e){var i=wc(arguments),o=kc(e);if(mc(o)||void 0!==t&&!bc(t))return i[1]=function(t,e){if(mc(o)&&(e=vc(o,this,xc(t),e)),!bc(e))return e},pc(Ec,null,i)},Nc=function(t,e,i){var o=Cc(i,e-1),n=Cc(i,e+1);return Oc(Dc,t)&&!Oc(Ic,n)||Oc(Ic,t)&&!Oc(Dc,o)?"\\u"+Mc(Sc(t,0),16):t};Ec&&uc({target:"JSON",stat:!0,arity:3,forced:Bc||Fc},{stringify:function(t,e,i){var o=wc(arguments),n=pc(Bc?zc:Ec,null,o);return Fc&&"string"==typeof n?Tc(n,Pc,Nc):n}});var Ac=no,Rc=$t;Mi({target:"Object",stat:!0,forced:!wt||s((function(){Ac.f(1)}))},{getOwnPropertySymbols:function(t){var e=Ac.f;return e?e(Rc(t)):[]}}),_d("asyncIterator"),_d("hasInstance"),_d("isConcatSpreadable"),_d("iterator"),_d("match"),_d("matchAll"),_d("replace"),_d("search"),_d("species"),_d("split");var jc=Sd;_d("toPrimitive"),jc();var Lc=at,Hc=Gr;_d("toStringTag"),Hc(Lc("Symbol"),"Symbol"),_d("unscopables"),Gr(r.JSON,"JSON",!0);var Wc=it.Symbol,Vc=fe,qc=Qe.f,Uc=Vc("metadata"),Yc=Function.prototype;void 0===Yc[Uc]&&qc(Yc,Uc,{value:null}),_d("asyncDispose"),_d("dispose"),_d("metadata");var Xc=Wc,Kc=y,Gc=at("Symbol"),$c=Gc.keyFor,Zc=Kc(Gc.prototype.valueOf),Qc=Gc.isRegisteredSymbol||function(t){try{return void 0!==$c(Zc(t))}catch(t){return!1}};Mi({target:"Symbol",stat:!0},{isRegisteredSymbol:Qc});for(var Jc=Xt,tu=at,eu=y,iu=Ct,ou=fe,nu=tu("Symbol"),ru=nu.isWellKnownSymbol,su=tu("Object","getOwnPropertyNames"),au=eu(nu.prototype.valueOf),hu=Jc("wks"),du=0,lu=su(nu),cu=lu.length;du<cu;du++)try{var uu=lu[du];iu(nu[uu])&&ou(uu)}catch(t){}var fu=function(t){if(ru&&ru(t))return!0;try{for(var e=au(t),i=0,o=su(hu),n=o.length;i<n;i++)if(hu[o[i]]==e)return!0}catch(t){}return!1};Mi({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:fu}),_d("matcher"),_d("observable"),Mi({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Qc}),Mi({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:fu}),_d("metadataKey"),_d("patternMatch"),_d("replaceAll");var pu=o(Xc),vu=o(gd.f("iterator"));function gu(t){return gu="function"==typeof pu&&"symbol"==typeof vu?function(t){return typeof t}:function(t){return t&&"function"==typeof pu&&t.constructor===pu&&t!==pu.prototype?"symbol":typeof t},gu(t)}var yu=o(gd.f("toPrimitive"));function mu(t){var e=function(t,e){if("object"!==gu(t)||null===t)return t;var i=t[yu];if(void 0!==i){var o=i.call(t,e||"default");if("object"!==gu(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===gu(e)?e:String(e)}function bu(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),xh(t,mu(o.key),o)}}function wu(t,e,i){return e&&bu(t.prototype,e),i&&bu(t,i),xh(t,"prototype",{writable:!1}),t}Mi({target:"Array",stat:!0},{isArray:Oh});var ku=it.Array.isArray,_u=o(ku);var xu=P,Eu=Oh,Ou=TypeError,Cu=Object.getOwnPropertyDescriptor,Su=xu&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Eu(t)&&!Cu(t,"length").writable)throw new Ou("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Tu=$t,Mu=Hi,Pu=Su,Du=Sh;Mi({target:"Array",proto:!0,arity:1,forced:s((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=Tu(this),i=Mu(e),o=arguments.length;Du(i+o);for(var n=0;n<o;n++)e[i]=arguments[n],i++;return Pu(e,i),i}});var Iu=zo("Array").push,Bu=ht,Fu=Iu,zu=Array.prototype,Nu=function(t){var e=t.push;return t===zu||Bu(zu,t)&&e===zu.push?Fu:e},Au=o(Nu);var Ru=Mi,ju=Oh,Lu=ca,Hu=et,Wu=Ai,Vu=Hi,qu=Q,Uu=va,Yu=fe,Xu=ko,Ku=Rh("slice"),Gu=Yu("species"),$u=Array,Zu=Math.max;Ru({target:"Array",proto:!0,forced:!Ku},{slice:function(t,e){var i,o,n,r=qu(this),s=Vu(r),a=Wu(t,s),h=Wu(void 0===e?s:e,s);if(ju(r)&&(i=r.constructor,(Lu(i)&&(i===$u||ju(i.prototype))||Hu(i)&&null===(i=i[Gu]))&&(i=void 0),i===$u||void 0===i))return Xu(r,a,h);for(o=new(void 0===i?$u:i)(Zu(h-a,0)),n=0;a<h;a++,n++)a in r&&Uu(o,n,r[a]);return o.length=n,o}});var Qu=zo("Array").slice,Ju=ht,tf=Qu,ef=Array.prototype,of=function(t){var e=t.slice;return t===ef||Ju(ef,t)&&e===ef.slice?tf:e},nf=of,rf=o(nf),sf=o(Ya);function af(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function hf(t,e){var i;if(t){if("string"==typeof t)return af(t,e);var o=rf(i=Object.prototype.toString.call(t)).call(i,8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?sf(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?af(t,e):void 0}}function df(t,e){return function(t){if(_u(t))return t}(t)||function(t,e){var i=null==t?null:void 0!==pu&&fh(t)||t["@@iterator"];if(null!=i){var o,n,r,s,a=[],h=!0,d=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;h=!1}else for(;!(h=(o=r.call(i)).done)&&(Au(a).call(a,o.value),a.length!==e);h=!0);}catch(t){d=!0,n=t}finally{try{if(!h&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(d)throw n}}return a}}(t,e)||hf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lf(t){return function(t){if(_u(t))return af(t)}(t)||function(t){if(void 0!==pu&&null!=fh(t)||null!=t["@@iterator"])return sf(t)}(t)||hf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cf=o(Wc),uf=zo("Array").concat,ff=ht,pf=uf,vf=Array.prototype,gf=function(t){var e=t.concat;return t===vf||ff(vf,t)&&e===vf.concat?pf:e},yf=o(gf),mf=o(nf),bf=at,wf=Jh,kf=no,_f=oi,xf=y([].concat),Ef=bf("Reflect","ownKeys")||function(t){var e=wf.f(_f(t)),i=kf.f;return i?xf(e,i(t)):e},Of=o(ku),Cf=zd.map;Mi({target:"Array",proto:!0,forced:!Rh("map")},{map:function(t){return Cf(this,t,arguments.length>1?arguments[1]:void 0)}});var Sf=zo("Array").map,Tf=ht,Mf=Sf,Pf=Array.prototype,Df=function(t){var e=t.map;return t===Pf||Tf(Pf,t)&&e===Pf.map?Mf:e},If=o(Df),Bf=$t,Ff=oo;Mi({target:"Object",stat:!0,forced:s((function(){Ff(1)}))},{keys:function(t){return Ff(Bf(t))}});var zf=o(it.Object.keys),Nf=Mi,Af=Date,Rf=y(Af.prototype.getTime);Nf({target:"Date",stat:!0},{now:function(){return Rf(new Af)}});var jf=o(it.Date.now),Lf=s,Hf=function(t,e){var i=[][t];return!!i&&Lf((function(){i.call(null,e||function(){return 1},1)}))},Wf=zd.forEach,Vf=Hf("forEach")?[].forEach:function(t){return Wf(this,t,arguments.length>1?arguments[1]:void 0)};Mi({target:"Array",proto:!0,forced:[].forEach!==Vf},{forEach:Vf});var qf=zo("Array").forEach,Uf=dn,Yf=Jt,Xf=ht,Kf=qf,Gf=Array.prototype,$f={DOMTokenList:!0,NodeList:!0},Zf=function(t){var e=t.forEach;return t===Gf||Xf(Gf,t)&&e===Gf.forEach||Yf($f,Uf(t))?Kf:e},Qf=o(Zf),Jf=Mi,tp=Oh,ep=y([].reverse),ip=[1,2];Jf({target:"Array",proto:!0,forced:String(ip)===String(ip.reverse())},{reverse:function(){return tp(this)&&(this.length=this.length),ep(this)}});var op=zo("Array").reverse,np=ht,rp=op,sp=Array.prototype,ap=function(t){var e=t.reverse;return t===sp||np(sp,t)&&e===sp.reverse?rp:e},hp=o(ap),dp=Tt,lp=TypeError,cp=function(t,e){if(!delete t[e])throw new lp("Cannot delete property "+dp(e)+" of "+dp(t))},up=Mi,fp=$t,pp=Ai,vp=Bi,gp=Hi,yp=Su,mp=Sh,bp=Fh,wp=va,kp=cp,_p=Rh("splice"),xp=Math.max,Ep=Math.min;up({target:"Array",proto:!0,forced:!_p},{splice:function(t,e){var i,o,n,r,s,a,h=fp(this),d=gp(h),l=pp(t,d),c=arguments.length;for(0===c?i=o=0:1===c?(i=0,o=d-l):(i=c-2,o=Ep(xp(vp(e),0),d-l)),mp(d+i-o),n=bp(h,o),r=0;r<o;r++)(s=l+r)in h&&wp(n,r,h[s]);if(n.length=o,i<o){for(r=l;r<d-o;r++)a=r+i,(s=r+o)in h?h[a]=h[s]:kp(h,a);for(r=d;r>d-o+i;r--)kp(h,r-1)}else if(i>o)for(r=d-o;r>l;r--)a=r+i-1,(s=r+o-1)in h?h[a]=h[s]:kp(h,a);for(r=0;r<i;r++)h[r+l]=arguments[r+2];return yp(h,d-o+i),n}});var Op=zo("Array").splice,Cp=ht,Sp=Op,Tp=Array.prototype,Mp=function(t){var e=t.splice;return t===Tp||Cp(Tp,t)&&e===Tp.splice?Sp:e},Pp=o(Mp),Dp=Yi.includes;Mi({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return Dp(this,t,arguments.length>1?arguments[1]:void 0)}});var Ip=zo("Array").includes,Bp=et,Fp=k,zp=fe("match"),Np=function(t){var e;return Bp(t)&&(void 0!==(e=t[zp])?!!e:"RegExp"===Fp(t))},Ap=TypeError,Rp=fe("match"),jp=Mi,Lp=function(t){if(Np(t))throw new Ap("The method doesn't accept regular expressions");return t},Hp=G,Wp=un,Vp=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[Rp]=!1,"/./"[t](e)}catch(t){}}return!1},qp=y("".indexOf);jp({target:"String",proto:!0,forced:!Vp("includes")},{includes:function(t){return!!~qp(Wp(Hp(this)),Wp(Lp(t)),arguments.length>1?arguments[1]:void 0)}});var Up=zo("String").includes,Yp=ht,Xp=Ip,Kp=Up,Gp=Array.prototype,$p=String.prototype,Zp=function(t){var e=t.includes;return t===Gp||Yp(Gp,t)&&e===Gp.includes?Xp:"string"==typeof t||t===$p||Yp($p,t)&&e===$p.includes?Kp:e},Qp=o(Zp),Jp=$t,tv=Tr,ev=wr;Mi({target:"Object",stat:!0,forced:s((function(){tv(1)})),sham:!ev},{getPrototypeOf:function(t){return tv(Jp(t))}});var iv=it.Object.getPrototypeOf,ov=o(iv),nv=zd.filter;Mi({target:"Array",proto:!0,forced:!Rh("filter")},{filter:function(t){return nv(this,t,arguments.length>1?arguments[1]:void 0)}});var rv=zo("Array").filter,sv=ht,av=rv,hv=Array.prototype,dv=function(t){var e=t.filter;return t===hv||sv(hv,t)&&e===hv.filter?av:e},lv=o(dv),cv="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",uv=G,fv=un,pv=cv,vv=y("".replace),gv=RegExp("^["+pv+"]+"),yv=RegExp("(^|[^"+pv+"])["+pv+"]+$"),mv=function(t){return function(e){var i=fv(uv(e));return 1&t&&(i=vv(i,gv,"")),2&t&&(i=vv(i,yv,"$1")),i}},bv={start:mv(1),end:mv(2),trim:mv(3)},wv=r,kv=s,_v=y,xv=un,Ev=bv.trim,Ov=cv,Cv=wv.parseInt,Sv=wv.Symbol,Tv=Sv&&Sv.iterator,Mv=/^[+-]?0x/i,Pv=_v(Mv.exec),Dv=8!==Cv(Ov+"08")||22!==Cv(Ov+"0x16")||Tv&&!kv((function(){Cv(Object(Tv))}))?function(t,e){var i=Ev(xv(t));return Cv(i,e>>>0||(Pv(Mv,i)?16:10))}:Cv;Mi({global:!0,forced:parseInt!==Dv},{parseInt:Dv});var Iv=o(it.parseInt),Bv=Mi,Fv=Yi.indexOf,zv=Hf,Nv=E([].indexOf),Av=!!Nv&&1/Nv([1],1,-0)<0;Bv({target:"Array",proto:!0,forced:Av||!zv("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Av?Nv(this,t,e)||0:Fv(this,t,e)}});var Rv=zo("Array").indexOf,jv=ht,Lv=Rv,Hv=Array.prototype,Wv=function(t){var e=t.indexOf;return t===Hv||jv(Hv,t)&&e===Hv.indexOf?Lv:e},Vv=o(Wv);Mi({target:"Object",stat:!0,sham:!P},{create:br});var qv=it.Object,Uv=function(t,e){return qv.create(t,e)},Yv=o(Uv),Xv=it,Kv=u;Xv.JSON||(Xv.JSON={stringify:JSON.stringify});var Gv=function(t,e,i){return Kv(Xv.JSON.stringify,null,arguments)},$v=o(Gv),Zv="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,Qv=TypeError,Jv=r,tg=u,eg=T,ig=Zv,og=dt,ng=ko,rg=function(t,e){if(t<e)throw new Qv("Not enough arguments");return t},sg=Jv.Function,ag=/MSIE .\./.test(og)||ig&&function(){var t=Jv.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),hg=function(t,e){var i=e?2:1;return ag?function(o,n){var r=rg(arguments.length,1)>i,s=eg(o)?o:sg(o),a=r?ng(arguments,i):[],h=r?function(){tg(s,this,a)}:s;return e?t(h,n):t(h)}:t},dg=Mi,lg=r,cg=hg(lg.setInterval,!0);dg({global:!0,bind:!0,forced:lg.setInterval!==cg},{setInterval:cg});var ug=Mi,fg=r,pg=hg(fg.setTimeout,!0);ug({global:!0,bind:!0,forced:fg.setTimeout!==pg},{setTimeout:pg});var vg=o(it.setTimeout),gg=$t,yg=Ai,mg=Hi,bg=function(t){for(var e=gg(this),i=mg(e),o=arguments.length,n=yg(o>1?arguments[1]:void 0,i),r=o>2?arguments[2]:void 0,s=void 0===r?i:yg(r,i);s>n;)e[n++]=t;return e};Mi({target:"Array",proto:!0},{fill:bg});var wg,kg=zo("Array").fill,_g=ht,xg=kg,Eg=Array.prototype,Og=function(t){var e=t.fill;return t===Eg||_g(Eg,t)&&e===Eg.fill?xg:e},Cg=o(Og);
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
	 * http://naver.github.io/egjs
	 *
	 * Forked By Naver egjs
	 * Copyright (c) hammerjs
	 * Licensed under the MIT license */
function Sg(){return Sg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Sg.apply(this,arguments)}function Tg(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Mg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}wg="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}:Object.assign;var Pg,Dg=wg,Ig=["","webkit","Moz","MS","ms","o"],Bg="undefined"==typeof document?{style:{}}:document.createElement("div"),Fg=Math.round,zg=Math.abs,Ng=Date.now;function Ag(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),r=0;r<Ig.length;){if((o=(i=Ig[r])?i+n:e)in t)return o;r++}}Pg="undefined"==typeof window?{}:window;var Rg=Ag(Bg.style,"touchAction"),jg=void 0!==Rg;var Lg="compute",Hg="auto",Wg="manipulation",Vg="none",qg="pan-x",Ug="pan-y",Yg=function(){if(!jg)return!1;var t={},e=Pg.CSS&&Pg.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||Pg.CSS.supports("touch-action",i)})),t}(),Xg="ontouchstart"in Pg,Kg=void 0!==Ag(Pg,"PointerEvent"),Gg=Xg&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),$g="touch",Zg="mouse",Qg=25,Jg=1,ty=4,ey=8,iy=1,oy=2,ny=4,ry=8,sy=16,ay=oy|ny,hy=ry|sy,dy=ay|hy,ly=["x","y"],cy=["clientX","clientY"];function uy(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function fy(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function py(t,e){return t.indexOf(e)>-1}var vy=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){t===Lg&&(t=this.compute()),jg&&this.manager.element.style&&Yg[t]&&(this.manager.element.style[Rg]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return uy(this.manager.recognizers,(function(e){fy(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(py(t,Vg))return Vg;var e=py(t,qg),i=py(t,Ug);return e&&i?Vg:e||i?e?qg:Ug:py(t,Wg)?Wg:Hg}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var o=this.actions,n=py(o,Vg)&&!Yg[Vg],r=py(o,Ug)&&!Yg[Ug],s=py(o,qg)&&!Yg[qg];if(n){var a=1===t.pointers.length,h=t.distance<2,d=t.deltaTime<250;if(a&&h&&d)return}if(!s||!r)return n||r&&i&ay||s&&i&hy?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function gy(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function yy(t){var e=t.length;if(1===e)return{x:Fg(t[0].clientX),y:Fg(t[0].clientY)};for(var i=0,o=0,n=0;n<e;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:Fg(i/e),y:Fg(o/e)}}function my(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:Fg(t.pointers[i].clientX),clientY:Fg(t.pointers[i].clientY)},i++;return{timeStamp:Ng(),pointers:e,center:yy(e),deltaX:t.deltaX,deltaY:t.deltaY}}function by(t,e,i){i||(i=ly);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function wy(t,e,i){i||(i=ly);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function ky(t,e){return t===e?iy:zg(t)>=zg(e)?t<0?oy:ny:e<0?ry:sy}function _y(t,e,i){return{x:e/t||0,y:i/t||0}}function xy(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=my(e)),n>1&&!i.firstMultiple?i.firstMultiple=my(e):1===n&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,h=e.center=yy(o);e.timeStamp=Ng(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=wy(a,h),e.distance=by(a,h),function(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},r=t.prevInput||{};e.eventType!==Jg&&r.eventType!==ty||(n=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}(i,e),e.offsetDirection=ky(e.deltaX,e.deltaY);var d,l,c=_y(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=zg(c.x)>zg(c.y)?c.x:c.y,e.scale=s?(d=s.pointers,by((l=o)[0],l[1],cy)/by(d[0],d[1],cy)):1,e.rotation=s?function(t,e){return wy(e[1],e[0],cy)+wy(t[1],t[0],cy)}(s.pointers,o):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,o,n,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(e.eventType!==ey&&(a>Qg||void 0===s.velocity)){var h=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,l=_y(a,h,d);o=l.x,n=l.y,i=zg(l.x)>zg(l.y)?l.x:l.y,r=ky(h,d),t.lastInterval=e}else i=s.velocity,o=s.velocityX,n=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=r}(i,e);var u,f=t.element,p=e.srcEvent;gy(u=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=u),e.target=f}function Ey(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,r=e&Jg&&o-n==0,s=e&(ty|ey)&&o-n==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,xy(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Oy(t){return t.trim().split(/\s+/g)}function Cy(t,e,i){uy(Oy(e),(function(e){t.addEventListener(e,i,!1)}))}function Sy(t,e,i){uy(Oy(e),(function(e){t.removeEventListener(e,i,!1)}))}function Ty(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var My=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){fy(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Cy(this.element,this.evEl,this.domHandler),this.evTarget&&Cy(this.target,this.evTarget,this.domHandler),this.evWin&&Cy(Ty(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Sy(this.element,this.evEl,this.domHandler),this.evTarget&&Sy(this.target,this.evTarget,this.domHandler),this.evWin&&Sy(Ty(this.element),this.evWin,this.domHandler)},t}();function Py(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}var Dy={pointerdown:Jg,pointermove:2,pointerup:ty,pointercancel:ey,pointerout:ey},Iy={2:$g,3:"pen",4:Zg,5:"kinect"},By="pointerdown",Fy="pointermove pointerup pointercancel";Pg.MSPointerEvent&&!Pg.PointerEvent&&(By="MSPointerDown",Fy="MSPointerMove MSPointerUp MSPointerCancel");var zy=function(t){function e(){var i,o=e.prototype;return o.evEl=By,o.evWin=Fy,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return Tg(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=Dy[o],r=Iy[t.pointerType]||t.pointerType,s=r===$g,a=Py(e,t.pointerId,"pointerId");n&Jg&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):n&(ty|ey)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(My);function Ny(t){return Array.prototype.slice.call(t,0)}function Ay(t,e,i){for(var o=[],n=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];Py(n,s)<0&&o.push(t[r]),n[r]=s,r++}return i&&(o=e?o.sort((function(t,i){return t[e]>i[e]})):o.sort()),o}var Ry={touchstart:Jg,touchmove:2,touchend:ty,touchcancel:ey},jy=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return Tg(e,t),e.prototype.handler=function(t){var e=Ry[t.type],i=Ly.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:$g,srcEvent:t})},e}(My);function Ly(t,e){var i,o,n=Ny(t.touches),r=this.targetIds;if(e&(2|Jg)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var s=Ny(t.changedTouches),a=[],h=this.target;if(o=n.filter((function(t){return gy(t.target,h)})),e===Jg)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(ty|ey)&&delete r[s[i].identifier],i++;return a.length?[Ay(o.concat(a),"identifier",!0),a]:void 0}var Hy={mousedown:Jg,mousemove:2,mouseup:ty},Wy=function(t){function e(){var i,o=e.prototype;return o.evEl="mousedown",o.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return Tg(e,t),e.prototype.handler=function(t){var e=Hy[t.type];e&Jg&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=ty),this.pressed&&(e&ty&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Zg,srcEvent:t}))},e}(My),Vy=2500;function qy(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},o=this.lastTouches;this.lastTouches.push(i);setTimeout((function(){var t=o.indexOf(i);t>-1&&o.splice(t,1)}),Vy)}}function Uy(t,e){t&Jg?(this.primaryTouch=e.changedPointers[0].identifier,qy.call(this,e)):t&(ty|ey)&&qy.call(this,e)}function Yy(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var n=this.lastTouches[o],r=Math.abs(e-n.x),s=Math.abs(i-n.y);if(r<=25&&s<=25)return!0}return!1}var Xy=function(){return function(t){function e(e,i){var o;return(o=t.call(this,e,i)||this).handler=function(t,e,i){var n=i.pointerType===$g,r=i.pointerType===Zg;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Uy.call(Mg(Mg(o)),e,i);else if(r&&Yy.call(Mg(Mg(o)),i))return;o.callback(t,e,i)}},o.touch=new jy(o.manager,o.handler),o.mouse=new Wy(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}return Tg(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(My)}();function Ky(t,e,i){return!!Array.isArray(t)&&(uy(t,i[e],i),!0)}var Gy=32,$y=1;function Zy(t,e){var i=e.manager;return i?i.get(t):t}function Qy(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var Jy=function(){function t(t){void 0===t&&(t={}),this.options=Sg({enable:!0},t),this.id=$y++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Dg(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(Ky(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=Zy(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return Ky(t,"dropRecognizeWith",this)||(t=Zy(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(Ky(t,"requireFailure",this))return this;var e=this.requireFail;return-1===Py(e,t=Zy(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(Ky(t,"dropRequireFailure",this))return this;t=Zy(t,this);var e=Py(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function o(i){e.manager.emit(i,t)}i<8&&o(e.options.event+Qy(i)),o(e.options.event),t.additionalEvent&&o(t.additionalEvent),i>=8&&o(e.options.event+Qy(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=Gy},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Dg({},t);if(!fy(this.options.enable,[this,e]))return this.reset(),void(this.state=Gy);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),tm=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Sg({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Tg(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Wg]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,n=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),t.eventType&Jg&&0===this.count)return this.failTimeout();if(n&&r&&o){if(t.eventType!==ty)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||by(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return Gy},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=Gy}),this.options.interval),Gy},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Jy),em=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Sg({pointers:1},e))||this}Tg(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,o=6&e,n=this.attrTest(t);return o&&(i&ey||!n)?16|e:o||n?i&ty?8|e:2&e?4|e:2:Gy},e}(Jy);function im(t){return t===sy?"down":t===ry?"up":t===oy?"left":t===ny?"right":""}var om=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Sg({event:"pan",threshold:10,pointers:1,direction:dy},e))||this).pX=null,i.pY=null,i}Tg(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return t&ay&&e.push(Ug),t&hy&&e.push(qg),e},i.directionTest=function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,r=t.deltaX,s=t.deltaY;return n&e.direction||(e.direction&ay?(n=0===r?iy:r<0?oy:ny,i=r!==this.pX,o=Math.abs(t.deltaX)):(n=0===s?iy:s<0?ry:sy,i=s!==this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},i.attrTest=function(t){return em.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=im(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(em),nm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Sg({event:"swipe",threshold:10,velocity:.3,direction:ay|hy,pointers:1},e))||this}Tg(e,t);var i=e.prototype;return i.getTouchAction=function(){return om.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,o=this.options.direction;return o&(ay|hy)?i=e.overallVelocity:o&ay?i=e.overallVelocityX:o&hy&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&o&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&zg(i)>this.options.velocity&&e.eventType&ty},i.emit=function(t){var e=im(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(em),rm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Sg({event:"pinch",threshold:0,pointers:2},e))||this}Tg(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Vg]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(em),sm=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Sg({event:"rotate",threshold:0,pointers:2},e))||this}Tg(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Vg]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(em),am=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Sg({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Tg(e,t);var i=e.prototype;return i.getTouchAction=function(){return[Hg]},i.process=function(t){var e=this,i=this.options,o=t.pointers.length===i.pointers,n=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!n||!o||t.eventType&(ty|ey)&&!r)this.reset();else if(t.eventType&Jg)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(t.eventType&ty)return 8;return Gy},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&t.eventType&ty?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Ng(),this.manager.emit(this.options.event,this._input)))},e}(Jy),hm={domEvents:!1,touchAction:Lg,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},dm=[[sm,{enable:!1}],[rm,{enable:!1},["rotate"]],[nm,{direction:ay}],[om,{direction:ay},["swipe"]],[tm],[tm,{event:"doubletap",taps:2},["tap"]],[am]];function lm(t,e){var i,o=t.element;o.style&&(uy(t.options.cssProps,(function(n,r){i=Ag(o.style,r),e?(t.oldCssProps[i]=o.style[i],o.style[i]=n):o.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var cm=function(){function t(t,e){var i,o=this;this.options=Dg({},hm,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Kg?zy:Gg?jy:Xg?Xy:Wy))(i,Ey),this.touchAction=new vy(this,this.options.touchAction),lm(this,!0),uy(this.options.recognizers,(function(t){var e=o.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Dg(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var o=this.recognizers,n=e.curRecognizer;(!n||n&&8&n.state)&&(e.curRecognizer=null,n=null);for(var r=0;r<o.length;)i=o[r],2===e.stopped||n&&i!==n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&14&i.state&&(e.curRecognizer=i,n=i),r++}},e.get=function(t){if(t instanceof Jy)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(Ky(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(Ky(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,o=Py(i,e);-1!==o&&(i.splice(o,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return uy(Oy(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return uy(Oy(t),(function(t){e?i[t]&&i[t].splice(Py(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](e),o++}},e.destroy=function(){this.element&&lm(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),um={touchstart:Jg,touchmove:2,touchend:ty,touchcancel:ey},fm=function(t){function e(){var i,o=e.prototype;return o.evTarget="touchstart",o.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return Tg(e,t),e.prototype.handler=function(t){var e=um[t.type];if(e===Jg&&(this.started=!0),this.started){var i=pm.call(this,t,e);e&(ty|ey)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:$g,srcEvent:t})}},e}(My);function pm(t,e){var i=Ny(t.touches),o=Ny(t.changedTouches);return e&(ty|ey)&&(i=Ay(i.concat(o),"identifier",!0)),[i,o]}function vm(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=window.console&&(window.console.warn||window.console.log);return n&&n.call(window.console,o,i),t.apply(this,arguments)}}var gm=vm((function(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)(!i||i&&void 0===t[o[n]])&&(t[o[n]]=e[o[n]]),n++;return t}),"extend","Use `assign`."),ym=vm((function(t,e){return gm(t,e,!0)}),"merge","Use `assign`.");function mm(t,e,i){var o,n=e.prototype;(o=t.prototype=Object.create(n)).constructor=t,o._super=n,i&&Dg(o,i)}function bm(t,e){return function(){return t.apply(e,arguments)}}var wm=function(){var t=function(t,e){return void 0===e&&(e={}),new cm(t,Sg({recognizers:dm.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=dy,t.DIRECTION_DOWN=sy,t.DIRECTION_LEFT=oy,t.DIRECTION_RIGHT=ny,t.DIRECTION_UP=ry,t.DIRECTION_HORIZONTAL=ay,t.DIRECTION_VERTICAL=hy,t.DIRECTION_NONE=iy,t.DIRECTION_DOWN=sy,t.INPUT_START=Jg,t.INPUT_MOVE=2,t.INPUT_END=ty,t.INPUT_CANCEL=ey,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=Gy,t.Manager=cm,t.Input=My,t.TouchAction=vy,t.TouchInput=jy,t.MouseInput=Wy,t.PointerEventInput=zy,t.TouchMouseInput=Xy,t.SingleTouchInput=fm,t.Recognizer=Jy,t.AttrRecognizer=em,t.Tap=tm,t.Pan=om,t.Swipe=nm,t.Pinch=rm,t.Rotate=sm,t.Press=am,t.on=Cy,t.off=Sy,t.each=uy,t.merge=ym,t.extend=gm,t.bindFn=bm,t.assign=Dg,t.inherit=mm,t.bindFn=bm,t.prefixed=Ag,t.toArray=Ny,t.inArray=Py,t.uniqueArray=Ay,t.splitStr=Oy,t.boolOrFn=fy,t.hasParent=gy,t.addEventListeners=Cy,t.removeEventListeners=Sy,t.defaults=Dg({},hm,{preset:dm}),t}();wm.defaults;var km=wm;function _m(t,e){var i=void 0!==cf&&ph(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return xm(t,e);var o=mf(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Xa(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xm(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function xm(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function Em(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){var e=function(){for(var t=function(){var t=4022871197;return function(e){for(var i=e.toString(),o=0;o<i.length;o++){var n=.02519603282416938*(t+=i.charCodeAt(o));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)}}(),e=t(" "),i=t(" "),o=t(" "),n=0;n<arguments.length;n++)(e-=t(n<0||arguments.length<=n?void 0:arguments[n]))<0&&(e+=1),(i-=t(n<0||arguments.length<=n?void 0:arguments[n]))<0&&(i+=1),(o-=t(n<0||arguments.length<=n?void 0:arguments[n]))<0&&(o+=1);return[e,i,o]}(t),i=df(e,3),o=i[0],n=i[1],r=i[2],s=1,a=function(){var t=2091639*o+2.3283064365386963e-10*s;return o=n,n=r,r=t-(s=0|t)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.algorithm="Alea",a.seed=t,a.version="0.9",a}(e.length?e:[jf()])}cf("DELETE");var Om="undefined"!=typeof window?window.Hammer||km:function(){return function(){var t=function(){};return{on:t,off:t,destroy:t,emit:t,get:function(){return{set:t}}}}()};function Cm(t){var e,i=this;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){i._dom.overlay.parentNode.removeChild(i._dom.overlay)}));var o=Om(this._dom.overlay);o.on("tap",Wo(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push((function(){o.destroy()}));var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Qf(n).call(n,(function(t){o.on(t,(function(t){t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(e){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||i.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",i._onClick)}))),this._escListener=function(t){("key"in t?"Escape"===t.key:27===t.keyCode)&&i.deactivate()}}$o(Cm.prototype),Cm.current=null,Cm.prototype.destroy=function(){var t,e;this.deactivate();var i,o=_m(hp(t=Pp(e=this._cleanupQueue).call(e,0)).call(t));try{for(o.s();!(i=o.n()).done;){(0,i.value)()}}catch(t){o.e(t)}finally{o.f()}},Cm.prototype.activate=function(){Cm.current&&Cm.current.deactivate(),Cm.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},Cm.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},Cm.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};var Sm=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Tm=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Mm=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Pm=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Dm(t){if(t)for(;!0===t.hasChildNodes();){var e=t.firstChild;e&&(Dm(e),t.removeChild(e))}}function Im(t){return t instanceof String||"string"==typeof t}function Bm(t){return"object"===gu(t)&&null!==t}function Fm(t,e,i,o){var n=!1;!0===o&&(n=null===e[i]&&void 0!==t[i]),n?delete t[i]:t[i]=e[i]}function zm(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)if(void 0!==e[o])if(null===e[o]||"object"!==gu(e[o]))Fm(t,e,o,i);else{var n=t[o],r=e[o];Bm(n)&&Bm(r)&&zm(n,r,i)}}function Nm(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Of(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n=0;n<t.length;n++){var r=t[n];if(Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?Rm(e[r],i[r],!1,o):Fm(e,i,r,o);else{if(Of(i[r]))throw new TypeError("Arrays are not supported by deepExtend");Fm(e,i,r,o)}}return e}function Am(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Of(i))throw new TypeError("Arrays are not supported by deepExtend");for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&!Qp(t).call(t,n))if(i[n]&&i[n].constructor===Object)void 0===e[n]&&(e[n]={}),e[n].constructor===Object?Rm(e[n],i[n]):Fm(e,i,n,o);else if(Of(i[n])){e[n]=[];for(var r=0;r<i[n].length;r++)e[n].push(i[n][r])}else Fm(e,i,n,o);return e}function Rm(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)||!0===i)if("object"===gu(e[n])&&null!==e[n]&&ov(e[n])===Object.prototype)void 0===t[n]?t[n]=Rm({},e[n],i):"object"===gu(t[n])&&null!==t[n]&&ov(t[n])===Object.prototype?Rm(t[n],e[n],i):Fm(t,e,n,o);else if(Of(e[n])){var r;t[n]=mf(r=e[n]).call(r)}else Fm(t,e,n,o);return t}function jm(t,e){var i;return yf(i=[]).call(i,lf(t),[e])}function Lm(t){return t.getBoundingClientRect().top}function Hm(t,e){if(Of(t))for(var i=t.length,o=0;o<i;o++)e(t[o],o,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(t[n],n,t)}function Wm(t){var e;switch(t.length){case 3:case 4:return(e=Tm.exec(t))?{r:Iv(e[1]+e[1],16),g:Iv(e[2]+e[2],16),b:Iv(e[3]+e[3],16)}:null;case 6:case 7:return(e=Sm.exec(t))?{r:Iv(e[1],16),g:Iv(e[2],16),b:Iv(e[3],16)}:null;default:return null}}function Vm(t,e){if(Qp(t).call(t,"rgba"))return t;if(Qp(t).call(t,"rgb")){var i=t.substr(Vv(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}var o=Wm(t);return null==o?t:"rgba("+o.r+","+o.g+","+o.b+","+e+")"}function qm(t,e,i){var o;return"#"+mf(o=((1<<24)+(t<<16)+(e<<8)+i).toString(16)).call(o,1)}function Um(t,e){if(Im(t)){var i=t;if($m(i)){var o,n=If(o=i.substr(4).substr(0,i.length-5).split(",")).call(o,(function(t){return Iv(t)}));i=qm(n[0],n[1],n[2])}if(!0===Gm(i)){var r=function(t){var e=Wm(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Ym(e.r,e.g,e.b)}(i),s={h:r.h,s:.8*r.s,v:Math.min(1,1.02*r.v)},a={h:r.h,s:Math.min(1,1.25*r.s),v:.8*r.v},h=Km(a.h,a.s,a.v),d=Km(s.h,s.s,s.v);return{background:i,border:h,highlight:{background:d,border:h},hover:{background:d,border:h}}}return{background:i,border:i,highlight:{background:i,border:i},hover:{background:i,border:i}}}return e?{background:t.background||e.background,border:t.border||e.border,highlight:Im(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:Im(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}:{background:t.background||void 0,border:t.border||void 0,highlight:Im(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Im(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Ym(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));return o===n?{h:0,s:0,v:o}:{h:60*((t===o?3:i===o?1:5)-(t===o?e-i:i===o?t-e:i-t)/(n-o))/360,s:(n-o)/n,v:n}}function Xm(t,e,i){var o,n,r,s=Math.floor(6*t),a=6*t-s,h=i*(1-e),d=i*(1-a*e),l=i*(1-(1-a)*e);switch(s%6){case 0:o=i,n=l,r=h;break;case 1:o=d,n=i,r=h;break;case 2:o=h,n=i,r=l;break;case 3:o=h,n=d,r=i;break;case 4:o=l,n=h,r=i;break;case 5:o=i,n=h,r=d}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*r)}}function Km(t,e,i){var o=Xm(t,e,i);return qm(o.r,o.g,o.b)}function Gm(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function $m(t){return Mm.test(t)}function Zm(t){if(null===t||"object"!==gu(t))return null;if(t instanceof Element)return t;var e=Yv(t);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==gu(t[i])&&(e[i]=Zm(t[i]));return e}function Qm(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=function(t){return null!=t},r=function(t){return null!==t&&"object"===gu(t)};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!n(i))throw new Error("Parameter option must have a value");if(!r(o))throw new Error("Parameter globalOptions must be an object");var s=e[i],a=r(o)&&!function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(o)?o[i]:void 0,h=a?a.enabled:void 0;if(void 0!==s){if("boolean"==typeof s)return r(t[i])||(t[i]={}),void(t[i].enabled=s);if(null===s&&!r(t[i])){if(!n(a))return;t[i]=Yv(a)}if(r(s)){var d=!0;void 0!==s.enabled?d=s.enabled:void 0!==h&&(d=a.enabled),function(t,e,i){r(t[i])||(t[i]={});var o=e[i],n=t[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])}(t,e,i),t[i].enabled=d}}}var Jm={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function tb(t,e){var i;Of(e)||(e=[e]);var o,n=_m(t);try{for(n.s();!(o=n.n()).done;){var r=o.value;if(r){i=r[e[0]];for(var s=1;s<e.length;s++)i&&(i=i[e[s]]);if(void 0!==i)break}}}catch(t){n.e(t)}finally{n.f()}return i}var eb={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},ib=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;vh(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return wu(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){if("string"==typeof t)return eb[t]}},{key:"setColor",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==t){var i,o=this._isColorString(t);if(void 0!==o&&(t=o),!0===Im(t)){if(!0===$m(t)){var n=t.substr(4).substr(0,t.length-5).split(",");i={r:n[0],g:n[1],b:n[2],a:1}}else if(!0===function(t){return Pm.test(t)}(t)){var r=t.substr(5).substr(0,t.length-6).split(",");i={r:r[0],g:r[1],b:r[2],a:r[3]}}else if(!0===Gm(t)){var s=Wm(t);i={r:s.r,g:s.g,b:s.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var a=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:a}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+$v(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=wo({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",vg((function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=wo({},t)),this.color=t;var e=Ym(t.r,t.g,t.b),i=2*Math.PI,o=this.r*e.s,n=this.centerCoordinates.x+o*Math.sin(i*e.h),r=this.centerCoordinates.y+o*Math.cos(i*e.h);this.colorPickerSelector.style.left=n-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=Ym(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=Xm(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,e=Ym(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,n),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Cg(i).call(i),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var t,e,i,o;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var n=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var r=document.createElement("DIV");r.style.color="red",r.style.fontWeight="bold",r.style.padding="10px",r.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(r)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Wo(t=this._hide).call(t,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Wo(e=this._apply).call(e,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Wo(i=this._save).call(i,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Wo(o=this._loadLast).call(o,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new Om(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(e){e.isFirst&&t._moveSelector(e)})),this.hammer.on("tap",(function(e){t._moveSelector(e)})),this.hammer.on("panstart",(function(e){t._moveSelector(e)})),this.hammer.on("panmove",(function(e){t._moveSelector(e)})),this.hammer.on("panend",(function(e){t._moveSelector(e)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e,i,o,n,r=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,r,s),this.centerCoordinates={x:.5*r,y:.5*s},this.r=.49*r;var a,h=2*Math.PI/360,d=1/this.r;for(o=0;o<360;o++)for(n=0;n<this.r;n++)e=this.centerCoordinates.x+n*Math.sin(h*o),i=this.centerCoordinates.y+n*Math.cos(h*o),a=Xm(.002777777777777778*o,n*d,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,r,s)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,o=t.center.y-e.top,n=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=o-n,h=Math.atan2(s,a),d=.98*Math.min(Math.sqrt(s*s+a*a),r),l=Math.cos(h)*d+n,c=Math.sin(h)*d+r;this.colorPickerSelector.style.top=l-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=c-.5*this.colorPickerSelector.clientWidth+"px";var u=h/(2*Math.PI);u=u<0?u+1:u;var f=d/this.r,p=Ym(this.color.r,this.color.g,this.color.b);p.h=u,p.s=f;var v=Xm(p.h,p.s,p.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();function ob(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<1)throw new TypeError("Invalid arguments.");if(1===e.length)return document.createTextNode(e[0]);var o=document.createElement(e[0]);return o.appendChild(ob.apply(void 0,lf(mf(e).call(e,1)))),o}var nb,rb=function(){function t(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};vh(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.hideOption=r,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},wo(this.options,this.defaultOptions),this.configureOptions=o,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new ib(n),this.wrapper=void 0}return wu(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;if("string"==typeof t)this.options.filter=t;else if(Of(t))this.options.filter=t.join();else if("object"===gu(t)){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==lv(t)&&(this.options.filter=lv(t)),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===lv(this.options)&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var t=lv(this.options),e=0,i=!1;for(var o in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,o)&&(this.allowCreation=!1,i=!1,"function"==typeof t?i=(i=t(o,[]))||this._handleObject(this.configureOptions[o],[o],!0):!0!==t&&-1===Vv(t).call(t,o)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(o),this._handleObject(this.configureOptions[o],[o])),e++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){if(!0===this.allowCreation){var e=document.createElement("div");e.className="vis-configuration vis-config-item vis-config-s"+t.length;for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];return Qf(o).call(o,(function(t){e.appendChild(t)})),this.domElements.push(e),this.domElements.length}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");if(o.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(ob("i","b",t))}else o.innerText=t+":";return o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var n=0;void 0!==e&&-1!==Vv(t).call(t,e)&&(n=Vv(t).call(t,e));for(var r=0;r<t.length;r++){var s=document.createElement("option");s.value=t[r],r===n&&(s.selected="selected"),s.innerText=t[r],o.appendChild(s)}var a=this;o.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,o)}},{key:"_makeRange",value:function(t,e,i){var o=t[0],n=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=n,a.max=r}catch(t){}a.step=s;var h="",d=0;if(void 0!==e){var l=1.2;e<0&&e*l<n?(a.min=Math.ceil(e*l),d=a.min,h="range increased"):e/l<n&&(a.min=Math.ceil(e/l),d=a.min,h="range increased"),e*l>r&&1!==r&&(a.max=Math.ceil(e*l),d=a.max,h="range increased"),a.value=e}else a.value=o;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;var u=this;a.onchange=function(){c.value=this.value,u._update(Number(this.value),i)},a.oninput=function(){c.value=this.value};var f=this._makeLabel(i[i.length-1],i),p=this._makeItem(i,f,a,c);""!==h&&this.popupHistory[p]!==d&&(this.popupHistory[p]=d,this._setupPopup(h,p))}},{key:"_makeButton",value:function(){var t=this;if(!0===this.options.showButton){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}},{key:"_setupPopup",value:function(t,e){var i=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerText=t,o.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=e.left+"px",this.popupDiv.html.style.top=e.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=vg((function(){t.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=vg((function(){t._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&(o.checked=e,e!==t&&("object"===gu(t)?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var n=this;o.onchange=function(){n._update(this.checked,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var n=this;o.onchange=function(){n._update(this.value,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,n=t[1],r=document.createElement("div");"none"!==(e=void 0===e?n:e)?(r.className="vis-configuration vis-config-colorBlock",r.style.backgroundColor=e):r.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,r.onclick=function(){o._showColorPicker(e,r,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,r)}},{key:"_showColorPicker",value:function(t,e,i){var o=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((function(t){var n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,o._update(n,i)})),this.colorPicker.setCloseCallback((function(){e.onclick=function(){o._showColorPicker(t,e,i)}}))}},{key:"_handleObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1,n=lv(this.options),r=!1;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){o=!0;var a=t[s],h=jm(e,s);if("function"==typeof n&&!1===(o=n(s,e))&&!Of(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,o=this._handleObject(a,h,!0),this.allowCreation=!1===i),!1!==o){r=!0;var d=this._getValue(h);if(Of(a))this._handleArray(a,d,h);else if("string"==typeof a)this._makeTextInput(a,d,h);else if("boolean"==typeof a)this._makeCheckbox(a,d,h);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){var l=jm(h,"enabled"),c=this._getValue(l);if(!0===c){var u=this._makeLabel(s,h,!0);this._makeItem(h,u),r=this._handleObject(a,h)||r}else this._makeCheckbox(a,c,h)}else{var f=this._makeLabel(s,h,!0);this._makeItem(h,f),r=this._handleObject(a,h)||r}}else console.error("dont know how to handle",a,s,h)}}return r}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i;t="false"!==(t="true"===t||t)&&t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){for(var t=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ob("pre","const options = "+$v(t,null,2)))}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}(),sb=function(){function t(e,i){vh(this,t),this.container=e,this.overflowMethod=i||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return wu(t,[{key:"setPosition",value:function(t,e){this.x=Iv(t),this.y=Iv(e)}},{key:"setText",value:function(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod){var a=!1,h=!0;this.y-e<this.padding&&(h=!1),this.x+i>n-this.padding&&(a=!0),r=a?this.x-i:this.x,s=h?this.y-e:this.y}else(s=this.y-e)+e+this.padding>o&&(s=o-e-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+i+this.padding>n&&(r=n-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),t}(),ab=!1,hb="background: #FFeeee; color: #dd0000",db=function(){function t(){vh(this,t)}return wu(t,null,[{key:"validate",value:function(e,i,o){ab=!1,nb=i;var n=i;return void 0!==o&&(n=i[o]),t.parse(e,n,[]),ab}},{key:"parse",value:function(e,i,o){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.check(n,e,i,o)}},{key:"check",value:function(e,i,o,n){if(void 0!==o[e]||void 0!==o.__any__){var r=e,s=!0;void 0===o[e]&&void 0!==o.__any__&&(r="__any__",s="object"===t.getType(i[e]));var a=o[r];s&&void 0!==a.__type__&&(a=a.__type__),t.checkFields(e,i,o,r,a,n)}else t.getSuggestion(e,o,n)}},{key:"checkFields",value:function(e,i,o,n,r,s){var a=function(i){console.error("%c"+i+t.printLocation(s,e),hb)},h=t.getType(i[e]),d=r[h];void 0!==d?"array"===t.getType(d)&&-1===Vv(d).call(d,i[e])?(a('Invalid option detected in "'+e+'". Allowed values are:'+t.print(d)+' not "'+i[e]+'". '),ab=!0):"object"===h&&"__any__"!==n&&(s=jm(s,e),t.parse(i[e],o[n],s)):void 0===r.any&&(a('Invalid type received for "'+e+'". Expected: '+t.print(zf(r))+". Received ["+h+'] "'+i[e]+'"'),ab=!0)}},{key:"getType",value:function(t){var e=gu(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Of(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,o){var n,r=t.findInOptions(e,i,o,!1),s=t.findInOptions(e,nb,[],!0);n=void 0!==r.indexMatch?" in "+t.printLocation(r.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+'"?\n\n':s.distance<=4&&r.distance>s.distance?" in "+t.printLocation(r.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):r.distance<=8?'. Did you mean "'+r.closestMatch+'"?'+t.printLocation(r.path,e):". Did you mean one of these: "+t.print(zf(i))+t.printLocation(o,e),console.error('%cUnknown option detected: "'+e+'"'+n,hb),ab=!0}},{key:"findInOptions",value:function(e,i,o){var n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=1e9,a="",h=[],d=e.toLowerCase(),l=void 0;for(var c in i){var u=void 0;if(void 0!==i[c].__type__&&!0===r){var f=t.findInOptions(e,i[c],jm(o,c));s>f.distance&&(a=f.closestMatch,h=f.path,s=f.distance,l=f.indexMatch)}else{var p;-1!==Vv(p=c.toLowerCase()).call(p,d)&&(l=c),s>(u=t.levenshteinDistance(e,c))&&(a=c,h=mf(n=o).call(n),s=u)}}return{closestMatch:a,path:h,distance:s,indexMatch:l}}},{key:"printLocation",value:function(t,e){for(var i="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",o=0;o<t.length;o++){for(var n=0;n<o+1;n++)i+="  ";i+=t[o]+": {\n"}for(var r=0;r<t.length+1;r++)i+="  ";i+=e+"\n";for(var s=0;s<t.length+1;s++){for(var a=0;a<t.length-s;a++)i+="  ";i+="}\n"}return i+"\n\n"}},{key:"print",value:function(t){return $v(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,o,n=[];for(i=0;i<=e.length;i++)n[i]=[i];for(o=0;o<=t.length;o++)n[0][o]=o;for(i=1;i<=e.length;i++)for(o=1;o<=t.length;o++)e.charAt(i-1)==t.charAt(o-1)?n[i][o]=n[i-1][o-1]:n[i][o]=Math.min(n[i-1][o-1]+1,Math.min(n[i][o-1]+1,n[i-1][o]+1));return n[e.length][t.length]}}]),t}(),lb=Cm,cb=rb,ub=Om,fb=sb,pb=hb,vb=db;function gb(t){return kb=t,function(){var t={};_b=0,void(xb=kb.charAt(0)),Fb(),"strict"===Eb&&(t.strict=!0,Fb());"graph"!==Eb&&"digraph"!==Eb||(t.type=Eb,Fb());Ob===bb.IDENTIFIER&&(t.id=Eb,Fb());if("{"!=Eb)throw Lb("Angle bracket { expected");if(Fb(),zb(t),"}"!=Eb)throw Lb("Angle bracket } expected");if(Fb(),""!==Eb)throw Lb("End of file expected");return Fb(),delete t.node,delete t.edge,delete t.graph,t}()}var yb={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},mb=Yv(yb);mb.color="color.color",mb.style="dashes";var bb={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},wb={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},kb="",_b=0,xb="",Eb="",Ob=bb.NULL;function Cb(){_b++,xb=kb.charAt(_b)}function Sb(){return kb.charAt(_b+1)}function Tb(t){var e=t.charCodeAt(0);return e<47?35===e||46===e:e<59?e>47:e<91?e>64:e<96?95===e:e<123&&e>96}function Mb(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Pb(t,e,i){for(var o=e.split("."),n=t;o.length;){var r=o.shift();o.length?(n[r]||(n[r]={}),n=n[r]):n[r]=i}}function Db(t,e){for(var i,o,n=null,r=[t],s=t;s.parent;)r.push(s.parent),s=s.parent;if(s.nodes)for(i=0,o=s.nodes.length;i<o;i++)if(e.id===s.nodes[i].id){n=s.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=Mb(n.attr,t.node))),i=r.length-1;i>=0;i--){var a,h=r[i];h.nodes||(h.nodes=[]),-1===Vv(a=h.nodes).call(a,n)&&h.nodes.push(n)}e.attr&&(n.attr=Mb(n.attr,e.attr))}function Ib(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=Mb({},t.edge);e.attr=Mb(i,e.attr)}}function Bb(t,e,i,o,n){var r={from:e,to:i,type:o};return t.edge&&(r.attr=Mb({},t.edge)),r.attr=Mb(r.attr||{},n),null!=n&&n.hasOwnProperty("arrows")&&null!=n.arrows&&(r.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),r}function Fb(){for(Ob=bb.NULL,Eb="";" "===xb||"\t"===xb||"\n"===xb||"\r"===xb;)Cb();do{var t=!1;if("#"===xb){for(var e=_b-1;" "===kb.charAt(e)||"\t"===kb.charAt(e);)e--;if("\n"===kb.charAt(e)||""===kb.charAt(e)){for(;""!=xb&&"\n"!=xb;)Cb();t=!0}}if("/"===xb&&"/"===Sb()){for(;""!=xb&&"\n"!=xb;)Cb();t=!0}if("/"===xb&&"*"===Sb()){for(;""!=xb;){if("*"===xb&&"/"===Sb()){Cb(),Cb();break}Cb()}t=!0}for(;" "===xb||"\t"===xb||"\n"===xb||"\r"===xb;)Cb()}while(t);if(""!==xb){var i=xb+Sb();if(wb[i])return Ob=bb.DELIMITER,Eb=i,Cb(),void Cb();if(wb[xb])return Ob=bb.DELIMITER,Eb=xb,void Cb();if(Tb(xb)||"-"===xb){for(Eb+=xb,Cb();Tb(xb);)Eb+=xb,Cb();return"false"===Eb?Eb=!1:"true"===Eb?Eb=!0:isNaN(Number(Eb))||(Eb=Number(Eb)),void(Ob=bb.IDENTIFIER)}if('"'===xb){for(Cb();""!=xb&&('"'!=xb||'"'===xb&&'"'===Sb());)'"'===xb?(Eb+=xb,Cb()):"\\"===xb&&"n"===Sb()?(Eb+="\n",Cb()):Eb+=xb,Cb();if('"'!=xb)throw Lb('End of string " expected');return Cb(),void(Ob=bb.IDENTIFIER)}for(Ob=bb.UNKNOWN;""!=xb;)Eb+=xb,Cb();throw new SyntaxError('Syntax error in part "'+Hb(Eb,30)+'"')}Ob=bb.DELIMITER}function zb(t){for(;""!==Eb&&"}"!=Eb;)Nb(t),";"===Eb&&Fb()}function Nb(t){var e=Ab(t);if(e)Rb(t,e);else{var i=function(t){if("node"===Eb)return Fb(),t.node=jb(),"node";if("edge"===Eb)return Fb(),t.edge=jb(),"edge";if("graph"===Eb)return Fb(),t.graph=jb(),"graph";return null}(t);if(!i){if(Ob!=bb.IDENTIFIER)throw Lb("Identifier expected");var o=Eb;if(Fb(),"="===Eb){if(Fb(),Ob!=bb.IDENTIFIER)throw Lb("Identifier expected");t[o]=Eb,Fb()}else!function(t,e){var i={id:e},o=jb();o&&(i.attr=o);Db(t,i),Rb(t,e)}(t,o)}}}function Ab(t){var e=null;if("subgraph"===Eb&&((e={}).type="subgraph",Fb(),Ob===bb.IDENTIFIER&&(e.id=Eb,Fb())),"{"===Eb){if(Fb(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,zb(e),"}"!=Eb)throw Lb("Angle bracket } expected");Fb(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Rb(t,e){for(;"->"===Eb||"--"===Eb;){var i,o=Eb;Fb();var n=Ab(t);if(n)i=n;else{if(Ob!=bb.IDENTIFIER)throw Lb("Identifier or subgraph expected");Db(t,{id:i=Eb}),Fb()}Ib(t,Bb(t,e,i,o,jb())),e=i}}function jb(){for(var t,e,i=null,o={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},r=new Array,s=new Array;"["===Eb;){for(Fb(),i={};""!==Eb&&"]"!=Eb;){if(Ob!=bb.IDENTIFIER)throw Lb("Attribute name expected");var a=Eb;if(Fb(),"="!=Eb)throw Lb("Equal sign = expected");if(Fb(),Ob!=bb.IDENTIFIER)throw Lb("Attribute value expected");var h=Eb;"style"===a&&(h=o[h]),"arrowhead"===a&&(a="arrows",h={to:{enabled:!0,type:n[h]}}),"arrowtail"===a&&(a="arrows",h={from:{enabled:!0,type:n[h]}}),r.push({attr:i,name:a,value:h}),s.push(a),Fb(),","==Eb&&Fb()}if("]"!=Eb)throw Lb("Bracket ] expected");Fb()}if(Qp(s).call(s,"dir")){var d={arrows:{}};for(t=0;t<r.length;t++)if("arrows"===r[t].name)if(null!=r[t].value.to)d.arrows.to=t;else{if(null==r[t].value.from)throw Lb("Invalid value of arrows");d.arrows.from=t}else"dir"===r[t].name&&(d.dir=t);var l,c,u=r[d.dir].value;if(!Qp(s).call(s,"arrows"))if("both"===u)r.push({attr:r[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=r.length-1,r.push({attr:r[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=r.length-1;else if("forward"===u)r.push({attr:r[d.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),d.arrows.to=r.length-1;else if("back"===u)r.push({attr:r[d.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),d.arrows.from=r.length-1;else{if("none"!==u)throw Lb('Invalid dir type "'+u+'"');r.push({attr:r[d.dir].attr,name:"arrows",value:""}),d.arrows.to=r.length-1}if("both"===u)d.arrows.to&&d.arrows.from?(c=r[d.arrows.to].value.to.type,l=r[d.arrows.from].value.from.type,r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}},Pp(r).call(r,d.arrows.from,1)):d.arrows.to?(c=r[d.arrows.to].value.to.type,l="arrow",r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.from&&(c="arrow",l=r[d.arrows.from].value.from.type,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}});else if("back"===u)d.arrows.to&&d.arrows.from?(c="",l=r[d.arrows.from].value.from.type,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.to?(c="",l="arrow",d.arrows.from=d.arrows.to,r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.from&&(c="",l=r[d.arrows.from].value.from.type,r[d.arrows.to]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}),r[d.arrows.from]={attr:r[d.arrows.from].attr,name:r[d.arrows.from].name,value:{from:{enabled:!0,type:r[d.arrows.from].value.from.type}}};else if("none"===u){var f;r[f=d.arrows.to?d.arrows.to:d.arrows.from]={attr:r[f].attr,name:r[f].name,value:""}}else{if("forward"!==u)throw Lb('Invalid dir type "'+u+'"');d.arrows.to&&d.arrows.from||d.arrows.to?(c=r[d.arrows.to].value.to.type,l="",r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}):d.arrows.from&&(c="arrow",l="",d.arrows.to=d.arrows.from,r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:c},from:{enabled:!0,type:l}}}),r[d.arrows.to]={attr:r[d.arrows.to].attr,name:r[d.arrows.to].name,value:{to:{enabled:!0,type:r[d.arrows.to].value.to.type}}}}Pp(r).call(r,d.dir,1)}if(Qp(s).call(s,"penwidth")){var p=[];for(e=r.length,t=0;t<e;t++)"width"!==r[t].name&&("penwidth"===r[t].name&&(r[t].name="width"),p.push(r[t]));r=p}for(e=r.length,t=0;t<e;t++)Pb(r[t].attr,r[t].name,r[t].value);return i}function Lb(t){return new SyntaxError(t+', got "'+Hb(Eb,30)+'" (char '+_b+")")}function Hb(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Wb(t,e,i){for(var o=e.split("."),n=o.pop(),r=t,s=0;s<o.length;s++){var a=o[s];a in r||(r[a]={}),r=r[a]}return r[n]=i,t}function Vb(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];Of(n)?Qf(n).call(n,(function(e){Wb(i,e,t[o])})):Wb(i,"string"==typeof n?n:o,t[o])}return i}function qb(t){var e,i=gb(t),o={nodes:[],edges:[],options:{}};i.nodes&&Qf(e=i.nodes).call(e,(function(t){var e={id:t.id,label:String(t.label||t.id)};Mb(e,Vb(t.attr,yb)),e.image&&(e.shape="image"),o.nodes.push(e)}));if(i.edges){var n,r=function(t){var e={from:t.from,to:t.to};return Mb(e,Vb(t.attr,mb)),null==e.arrows&&"->"===t.type&&(e.arrows="to"),e};Qf(n=i.edges).call(n,(function(t){var e,i,n,s,a,h,d;(e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges)&&Qf(n=t.from.edges).call(n,(function(t){var e=r(t);o.edges.push(e)}));(a=i,h=function(e,i){var n=Bb(o,e.id,i.id,t.type,t.attr),s=r(n);o.edges.push(s)},Of(s=e)?Qf(s).call(s,(function(t){Of(a)?Qf(a).call(a,(function(e){h(t,e)})):h(t,a)})):Of(a)?Qf(a).call(a,(function(t){h(s,t)})):h(s,a),t.to instanceof Object&&t.to.edges)&&Qf(d=t.to.edges).call(d,(function(t){var e=r(t);o.edges.push(e)}))}))}return i.attr&&(o.options=i.attr),o}var Ub=Object.freeze({__proto__:null,DOTToGraph:qb,parseDOT:gb});function Yb(t,e){var i,o={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=e&&(null!=e.fixed&&(o.nodes.fixed=e.fixed),null!=e.parseColor&&(o.nodes.parseColor=e.parseColor),null!=e.inheritColor&&(o.edges.inheritColor=e.inheritColor));var n=t.edges,r=If(n).call(n,(function(t){var e={from:t.source,id:t.id,to:t.target};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),"Directed"===t.type&&(e.arrows="to"),t.color&&!1===o.edges.inheritColor&&(e.color=t.color),e}));return{nodes:If(i=t.nodes).call(i,(function(t){var e={id:t.id,fixed:o.nodes.fixed&&null!=t.x&&null!=t.y};return null!=t.attributes&&(e.attributes=t.attributes),null!=t.label&&(e.label=t.label),null!=t.size&&(e.size=t.size),null!=t.attributes&&null!=t.attributes.title&&(e.title=t.attributes.title),null!=t.title&&(e.title=t.title),null!=t.x&&(e.x=t.x),null!=t.y&&(e.y=t.y),null!=t.color&&(!0===o.nodes.parseColor?e.color=t.color:e.color={background:t.color,border:t.color,highlight:{background:t.color,border:t.color},hover:{background:t.color,border:t.color}}),e})),edges:r}}var Xb=Object.freeze({__proto__:null,parseGephi:Yb}),Kb=Object.freeze({__proto__:null,cn:{addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},cs:{addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},ru:{addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},uk:{addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"}});var Gb=function(){function t(){vh(this,t),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return wu(t,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var t=this.image.width,e=this.image.height;this.width=t,this.height=e;var i=Math.floor(e/2),o=Math.floor(e/4),n=Math.floor(e/8),r=Math.floor(e/16),s=Math.floor(t/2),a=Math.floor(t/4),h=Math.floor(t/8),d=Math.floor(t/16);this.canvas.width=3*a,this.canvas.height=i,this.coordinates=[[0,0,s,i],[s,0,a,o],[s,o,h,n],[5*h,o,d,r]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var t=this.canvas.getContext("2d"),e=this.coordinates[0];t.drawImage(this.image,e[0],e[1],e[2],e[3]);for(var i=1;i<this.NUM_ITERATIONS;i++){var o=this.coordinates[i-1],n=this.coordinates[i];t.drawImage(this.canvas,o[0],o[1],o[2],o[3],n[0],n[1],n[2],n[3])}}},{key:"drawImageAtPosition",value:function(t,e,i,o,n,r){if(this.initialized())if(e>2){e*=.5;for(var s=0;e>2&&s<this.NUM_ITERATIONS;)e*=.5,s+=1;s>=this.NUM_ITERATIONS&&(s=this.NUM_ITERATIONS-1);var a=this.coordinates[s];t.drawImage(this.canvas,a[0],a[1],a[2],a[3],i,o,n,r)}else t.drawImage(this.image,i,o,n,r)}}]),t}(),$b=function(){function t(e){vh(this,t),this.images={},this.imageBroken={},this.callback=e}return wu(t,[{key:"_tryloadBrokenUrl",value:function(t,e,i){void 0!==t&&void 0!==i&&(void 0!==e?(i.image.onerror=function(){console.error("Could not load brokenImage:",e)},i.image.src=e):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e){var i=this,o=this.images[t];if(o)return o;var n=new Gb;return this.images[t]=n,n.image.onload=function(){i._fixImageCoordinates(n.image),n.init(),i._redrawWithImage(n)},n.image.onerror=function(){console.error("Could not load image:",t),i._tryloadBrokenUrl(t,e,n)},n.image.src=t,n}},{key:"_fixImageCoordinates",value:function(t){0===t.width&&(document.body.appendChild(t),t.width=t.offsetWidth,t.height=t.offsetHeight,document.body.removeChild(t))}}]),t}(),Zb={exports:{}},Qb=s((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Jb=s,tw=et,ew=k,iw=Qb,ow=Object.isExtensible,nw=Jb((function(){ow(1)}))||iw?function(t){return!!tw(t)&&((!iw||"ArrayBuffer"!==ew(t))&&(!ow||ow(t)))}:ow,rw=!s((function(){return Object.isExtensible(Object.preventExtensions({}))})),sw=Mi,aw=y,hw=Xi,dw=et,lw=Jt,cw=Qe.f,uw=Jh,fw=id,pw=nw,vw=rw,gw=!1,yw=ne("meta"),mw=0,bw=function(t){cw(t,yw,{value:{objectID:"O"+mw++,weakData:{}}})},ww=Zb.exports={enable:function(){ww.enable=function(){},gw=!0;var t=uw.f,e=aw([].splice),i={};i[yw]=1,t(i).length&&(uw.f=function(i){for(var o=t(i),n=0,r=o.length;n<r;n++)if(o[n]===yw){e(o,n,1);break}return o},sw({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:fw.f}))},fastKey:function(t,e){if(!dw(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!lw(t,yw)){if(!pw(t))return"F";if(!e)return"E";bw(t)}return t[yw].objectID},getWeakData:function(t,e){if(!lw(t,yw)){if(!pw(t))return!0;if(!e)return!1;bw(t)}return t[yw].weakData},onFreeze:function(t){return vw&&gw&&pw(t)&&!lw(t,yw)&&bw(t),t}};hw[yw]=!0;var kw=Zb.exports,_w=Ze,xw=B,Ew=oi,Ow=Tt,Cw=Xs,Sw=Hi,Tw=ht,Mw=Ta,Pw=ka,Dw=Hs,Iw=TypeError,Bw=function(t,e){this.stopped=t,this.result=e},Fw=Bw.prototype,zw=function(t,e,i){var o,n,r,s,a,h,d,l=i&&i.that,c=!(!i||!i.AS_ENTRIES),u=!(!i||!i.IS_RECORD),f=!(!i||!i.IS_ITERATOR),p=!(!i||!i.INTERRUPTED),v=_w(e,l),g=function(t){return o&&Dw(o,"normal",t),new Bw(!0,t)},y=function(t){return c?(Ew(t),p?v(t[0],t[1],g):v(t[0],t[1])):p?v(t,g):v(t)};if(u)o=t.iterator;else if(f)o=t;else{if(!(n=Pw(t)))throw new Iw(Ow(t)+" is not iterable");if(Cw(n)){for(r=0,s=Sw(t);s>r;r++)if((a=y(t[r]))&&Tw(Fw,a))return a;return new Bw(!1)}o=Mw(t,n)}for(h=u?t.next:o.next;!(d=xw(h,o)).done;){try{a=y(d.value)}catch(t){Dw(o,"throw",t)}if("object"==typeof a&&a&&Tw(Fw,a))return a}return new Bw(!1)},Nw=ht,Aw=TypeError,Rw=function(t,e){if(Nw(e,t))return t;throw new Aw("Incorrect invocation")},jw=Mi,Lw=r,Hw=kw,Ww=s,Vw=yi,qw=zw,Uw=Rw,Yw=T,Xw=et,Kw=Y,Gw=Gr,$w=Qe.f,Zw=zd.forEach,Qw=P,Jw=Hn.set,tk=Hn.getterFor,ek=function(t,e,i){var o,n=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),s=n?"set":"add",a=Lw[t],h=a&&a.prototype,d={};if(Qw&&Yw(a)&&(r||h.forEach&&!Ww((function(){(new a).entries().next()})))){var l=(o=e((function(e,i){Jw(Uw(e,l),{type:t,collection:new a}),Kw(i)||qw(i,e[s],{that:e,AS_ENTRIES:n})}))).prototype,c=tk(t);Zw(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"===t||"set"===t;!(t in h)||r&&"clear"===t||Vw(l,t,(function(i,o){var n=c(this).collection;if(!e&&r&&!Xw(i))return"get"===t&&void 0;var s=n[t](0===i?0:i,o);return e?this:s}))})),r||$w(l,"size",{configurable:!0,get:function(){return c(this).collection.size}})}else o=i.getConstructor(e,t,n,s),Hw.enable();return Gw(o,t,!1,!0),d[t]=o,jw({global:!0,forced:!0},d),r||i.setStrong(o,t,n),o},ik=Pr,ok=function(t,e,i){for(var o in e)i&&i.unsafe&&t[o]?t[o]=e[o]:ik(t,o,e[o],i);return t},nk=at,rk=vd,sk=P,ak=fe("species"),hk=br,dk=vd,lk=ok,ck=Ze,uk=Rw,fk=Y,pk=zw,vk=Ts,gk=Ms,yk=function(t){var e=nk(t);sk&&e&&!e[ak]&&rk(e,ak,{configurable:!0,get:function(){return this}})},mk=P,bk=kw.fastKey,wk=Hn.set,kk=Hn.getterFor,_k={getConstructor:function(t,e,i,o){var n=t((function(t,n){uk(t,r),wk(t,{type:e,index:hk(null),first:void 0,last:void 0,size:0}),mk||(t.size=0),fk(n)||pk(n,t[o],{that:t,AS_ENTRIES:i})})),r=n.prototype,s=kk(e),a=function(t,e,i){var o,n,r=s(t),a=h(t,e);return a?a.value=i:(r.last=a={index:n=bk(e,!0),key:e,value:i,previous:o=r.last,next:void 0,removed:!1},r.first||(r.first=a),o&&(o.next=a),mk?r.size++:t.size++,"F"!==n&&(r.index[n]=a)),t},h=function(t,e){var i,o=s(t),n=bk(e);if("F"!==n)return o.index[n];for(i=o.first;i;i=i.next)if(i.key===e)return i};return lk(r,{clear:function(){for(var t=s(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,mk?t.size=0:this.size=0},delete:function(t){var e=this,i=s(e),o=h(e,t);if(o){var n=o.next,r=o.previous;delete i.index[o.index],o.removed=!0,r&&(r.next=n),n&&(n.previous=r),i.first===o&&(i.first=n),i.last===o&&(i.last=r),mk?i.size--:e.size--}return!!o},forEach:function(t){for(var e,i=s(this),o=ck(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:i.first;)for(o(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!h(this,t)}}),lk(r,i?{get:function(t){var e=h(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),mk&&dk(r,"size",{configurable:!0,get:function(){return s(this).size}}),n},setStrong:function(t,e,i){var o=e+" Iterator",n=kk(e),r=kk(o);vk(t,e,(function(t,e){wk(this,{type:o,target:t,state:n(t),kind:e,last:void 0})}),(function(){for(var t=r(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?gk("keys"===e?i.key:"values"===e?i.value:[i.key,i.value],!1):(t.target=void 0,gk(void 0,!0))}),i?"entries":"values",!i,!0),yk(e)}};ek("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),_k);var xk=o(it.Map),Ek=function(){function t(){vh(this,t),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},wo(this.options,this.defaultOptions)}return wu(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&-1===Vv(e).call(e,i)){var o=t[i];this.add(i,o)}}},{key:"clear",value:function(){this._groups=new xk,this._groupNames=[]}},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._groups.get(t);if(void 0===i&&e)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var o=this._groupIndex%this._groupNames.length;++this._groupIndex,(i={}).color=this._groups.get(this._groupNames[o]),this._groups.set(t,i)}else{var n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(i={}).color=this._defaultGroups[n],this._groups.set(t,i)}return i}},{key:"add",value:function(t,e){return this._groups.has(t)||this._groupNames.push(t),this._groups.set(t,e),e}}]),t}();Mi({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var Ok=o(it.Number.isNaN),Ck=r.isFinite,Sk=Number.isFinite||function(t){return"number"==typeof t&&Ck(t)};Mi({target:"Number",stat:!0},{isFinite:Sk});var Tk=o(it.Number.isFinite),Mk=zd.some;Mi({target:"Array",proto:!0,forced:!Hf("some")},{some:function(t){return Mk(this,t,arguments.length>1?arguments[1]:void 0)}});var Pk=zo("Array").some,Dk=ht,Ik=Pk,Bk=Array.prototype,Fk=function(t){var e=t.some;return t===Bk||Dk(Bk,t)&&e===Bk.some?Ik:e},zk=o(Fk),Nk=o(it.Object.getOwnPropertySymbols),Ak={exports:{}},Rk=Mi,jk=s,Lk=Q,Hk=M.f,Wk=P;Rk({target:"Object",stat:!0,forced:!Wk||jk((function(){Hk(1)})),sham:!Wk},{getOwnPropertyDescriptor:function(t,e){return Hk(Lk(t),e)}});var Vk=it.Object,qk=Ak.exports=function(t,e){return Vk.getOwnPropertyDescriptor(t,e)};Vk.getOwnPropertyDescriptor.sham&&(qk.sham=!0);var Uk=Ak.exports,Yk=o(Uk),Xk=Ef,Kk=Q,Gk=M,$k=va;Mi({target:"Object",stat:!0,sham:!P},{getOwnPropertyDescriptors:function(t){for(var e,i,o=Kk(t),n=Gk.f,r=Xk(o),s={},a=0;r.length>a;)void 0!==(i=n(o,e=r[a++]))&&$k(s,e,i);return s}});var Zk=o(it.Object.getOwnPropertyDescriptors),Qk={exports:{}},Jk=Mi,t_=P,e_=Kn.f;Jk({target:"Object",stat:!0,forced:Object.defineProperties!==e_,sham:!t_},{defineProperties:e_});var i_=it.Object,o_=Qk.exports=function(t,e){return i_.defineProperties(t,e)};i_.defineProperties.sham&&(o_.sham=!0);var n_=o(Qk.exports),r_=o(_h);function s_(t,e,i){return(e=mu(e))in t?xh(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a_=r,h_=s,d_=un,l_=bv.trim,c_=cv,u_=y("".charAt),f_=a_.parseFloat,p_=a_.Symbol,v_=p_&&p_.iterator,g_=1/f_(c_+"-0")!=-1/0||v_&&!h_((function(){f_(Object(v_))}))?function(t){var e=l_(d_(t)),i=f_(e);return 0===i&&"-"===u_(e,0)?-0:i}:f_;Mi({global:!0,forced:parseFloat!==g_},{parseFloat:g_});var y_=o(it.parseFloat),m_=Mi,b_=s,w_=id.f;m_({target:"Object",stat:!0,forced:b_((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:w_});var k_=it.Object,__=function(t){return k_.getOwnPropertyNames(t)},x_=o(__);function E_(t,e){var i=["node","edge","label"],o=!0,n=tb(e,"chosen");if("boolean"==typeof n)o=n;else if("object"===gu(n)){if(-1===Vv(i).call(i,t))throw new Error("choosify: subOption '"+t+"' should be one of '"+i.join("', '")+"'");var r=tb(e,["chosen",t]);"boolean"!=typeof r&&"function"!=typeof r||(o=r)}return o}function O_(t,e,i){if(t.width<=0||t.height<=0)return!1;if(void 0!==i){var o={x:e.x-i.x,y:e.y-i.y};if(0!==i.angle){var n=-i.angle;e={x:Math.cos(n)*o.x-Math.sin(n)*o.y,y:Math.sin(n)*o.x+Math.cos(n)*o.y}}else e=o}var r=t.x+t.width,s=t.y+t.width;return t.left<e.x&&r>e.x&&t.top<e.y&&s>e.y}function C_(t){return"string"==typeof t&&""!==t}function S_(t,e,i,o){var n=o.x,r=o.y;if("function"==typeof o.distanceToBorder){var s=o.distanceToBorder(t,e),a=Math.sin(e)*s,h=Math.cos(e)*s;h===s?(n+=s,r=o.y):a===s?(n=o.x,r-=s):(n+=h,r-=a)}else o.shape.width>o.shape.height?(n=o.x+.5*o.shape.width,r=o.y-i):(n=o.x+i,r=o.y-.5*o.shape.height);return{x:n,y:r}}var T_=zo("Array").values,M_=dn,P_=Jt,D_=ht,I_=T_,B_=Array.prototype,F_={DOMTokenList:!0,NodeList:!0},z_=function(t){var e=t.values;return t===B_||D_(B_,t)&&e===B_.values||P_(F_,M_(t))?I_:e},N_=o(z_),A_=function(){function t(e){vh(this,t),this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}return wu(t,[{key:"_add",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[t]&&(this.lines[t]={width:0,height:0,blocks:[]});var o=e;void 0!==e&&""!==e||(o=" ");var n=this.measureText(o,i),r=wo({},N_(n));r.text=e,r.width=n.width,r.mod=i,void 0!==e&&""!==e||(r.width=0),this.lines[t].blocks.push(r),this.lines[t].width+=r.width}},{key:"curWidth",value:function(){var t=this.lines[this.current];return void 0===t?0:t.width}},{key:"append",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e)}},{key:"newLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,t,e),this.current++}},{key:"determineLineHeights",value:function(){for(var t=0;t<this.lines.length;t++){var e=this.lines[t],i=0;if(void 0!==e.blocks)for(var o=0;o<e.blocks.length;o++){var n=e.blocks[o];i<n.height&&(i=n.height)}e.height=i}}},{key:"determineLabelSize",value:function(){for(var t=0,e=0,i=0;i<this.lines.length;i++){var o=this.lines[i];o.width>t&&(t=o.width),e+=o.height}this.width=t,this.height=e}},{key:"removeEmptyBlocks",value:function(){for(var t=[],e=0;e<this.lines.length;e++){var i=this.lines[e];if(0!==i.blocks.length&&(e!==this.lines.length-1||0!==i.width)){var o={};wo(o,i),o.blocks=[];for(var n=void 0,r=[],s=0;s<i.blocks.length;s++){var a=i.blocks[s];0!==a.width?r.push(a):void 0===n&&(n=a)}0===r.length&&void 0!==n&&r.push(n),o.blocks=r,t.push(o)}}return t}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var t=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:t}}}]),t}(),R_={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},j_=function(){function t(e){vh(this,t),this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return wu(t,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(t){" "===t&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=t&&(this.buffer+=t)}},{key:"parseWS",value:function(t){return!!/[ \t]/.test(t)&&(this.mono?this.add(t):this.spacing=!0,!0)}},{key:"setTag",value:function(t){this.emitBlock(),this[t]=!0,this.modStack.unshift(t)}},{key:"unsetTag",value:function(t){this.emitBlock(),this[t]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(t,e){return!(this.mono||this[t]||!this.match(e))&&(this.setTag(t),!0)}},{key:"match",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=df(this.prepareRegExp(t),2),o=i[0],n=i[1],r=o.test(this.text.substr(this.position,n));return r&&e&&(this.position+=n-1),r}},{key:"parseEndTag",value:function(t,e,i){var o=this.mod()===t;return!(!(o="mono"===t?o&&this.mono:o&&!this.mono)||!this.match(e))&&(void 0!==i?(this.position===this.text.length-1||this.match(i,!1))&&this.unsetTag(t):this.unsetTag(t),!0)}},{key:"replace",value:function(t,e){return!!this.match(t)&&(this.add(e),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(t){var e,i;if(t instanceof RegExp)i=t,e=1;else{var o=R_[t];i=void 0!==o?o:new RegExp(t),e=t.length}return[i,e]}}]),t}(),L_=function(){function t(e,i,o,n){var r=this;vh(this,t),this.ctx=e,this.parent=i,this.selected=o,this.hover=n;this.lines=new A_((function(t,i){if(void 0===t)return 0;var s=r.parent.getFormattingValues(e,o,n,i),a=0;""!==t&&(a=r.ctx.measureText(t).width);return{width:a,values:s}}))}return wu(t,[{key:"process",value:function(t){if(!C_(t))return this.lines.finalize();var e=this.parent.fontOptions;t=(t=t.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var i=String(t).split("\n"),o=i.length;if(e.multi)for(var n=0;n<o;n++){var r=this.splitBlocks(i[n],e.multi);if(void 0!==r)if(0!==r.length){if(e.maxWdt>0)for(var s=0;s<r.length;s++){var a=r[s].mod,h=r[s].text;this.splitStringIntoLines(h,a,!0)}else for(var d=0;d<r.length;d++){var l=r[d].mod,c=r[d].text;this.lines.append(c,l)}this.lines.newLine()}else this.lines.newLine("")}else if(e.maxWdt>0)for(var u=0;u<o;u++)this.splitStringIntoLines(i[u]);else for(var f=0;f<o;f++)this.lines.newLine(i[f]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(t){var e="none";return"markdown"===t||"md"===t?e="markdown":!0!==t&&"html"!==t||(e="html"),e}},{key:"splitHtmlBlocks",value:function(t){for(var e=new j_(t),i=function(t){return!!/&/.test(t)&&(e.replace(e.text,"&lt;","<")||e.replace(e.text,"&amp;","&")||e.add("&"),!0)};e.position<e.text.length;){var o=e.text.charAt(e.position);e.parseWS(o)||/</.test(o)&&(e.parseStartTag("bold","<b>")||e.parseStartTag("ital","<i>")||e.parseStartTag("mono","<code>")||e.parseEndTag("bold","</b>")||e.parseEndTag("ital","</i>")||e.parseEndTag("mono","</code>"))||i(o)||e.add(o),e.position++}return e.emitBlock(),e.blocks}},{key:"splitMarkdownBlocks",value:function(t){for(var e=this,i=new j_(t),o=!0,n=function(t){return!!/\\/.test(t)&&(i.position<e.text.length+1&&(i.position++,t=e.text.charAt(i.position),/ \t/.test(t)?i.spacing=!0:(i.add(t),o=!1)),!0)};i.position<i.text.length;){var r=i.text.charAt(i.position);i.parseWS(r)||n(r)||(o||i.spacing)&&(i.parseStartTag("bold","*")||i.parseStartTag("ital","_")||i.parseStartTag("mono","`"))||i.parseEndTag("bold","*","afterBold")||i.parseEndTag("ital","_","afterItal")||i.parseEndTag("mono","`","afterMono")||(i.add(r),o=!1),i.position++}return i.emitBlock(),i.blocks}},{key:"splitBlocks",value:function(t,e){var i=this.decodeMarkupSystem(e);return"none"===i?[{text:t,mod:"normal"}]:"markdown"===i?this.splitMarkdownBlocks(t):"html"===i?this.splitHtmlBlocks(t):void 0}},{key:"overMaxWidth",value:function(t){var e=this.ctx.measureText(t).width;return this.lines.curWidth()+e>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(t){for(var e="",i=0;i<t.length;){var o=e+(""===e?"":" ")+t[i];if(this.overMaxWidth(o))break;e=o,i++}return i}},{key:"getLongestFitWord",value:function(t){for(var e=0;e<t.length&&!this.overMaxWidth(mf(t).call(t,0,e));)e++;return e}},{key:"splitStringIntoLines",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,e);for(var o=(t=(t=t.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");o.length>0;){var n=this.getLongestFit(o);if(0===n){var r=o[0],s=this.getLongestFitWord(r);this.lines.newLine(mf(r).call(r,0,s),e),o[0]=mf(r).call(r,s)}else{var a=n;" "===o[n-1]?n--:" "===o[a]&&a++;var h=mf(o).call(o,0,n).join("");n==o.length&&i?this.lines.append(h,e):this.lines.newLine(h,e),o=mf(o).call(o,a)}}}}]),t}(),H_=["bold","ital","boldital","mono"],W_=function(){function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];vh(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=o}return wu(t,[{key:"setOptions",value:function(t){if(this.elementOptions=t,this.initFontOptions(t.font),C_(t.label)?this.labelDirty=!0:t.label=void 0,void 0!==t.font&&null!==t.font)if("string"==typeof t.font)this.baseSize=this.fontOptions.size;else if("object"===gu(t.font)){var e=t.font.size;void 0!==e&&(this.baseSize=e)}}},{key:"initFontOptions",value:function(e){var i=this;Hm(H_,(function(t){i.fontOptions[t]={}})),t.parseFontString(this.fontOptions,e)?this.fontOptions.vadjust=0:Hm(e,(function(t,e){null!=t&&"object"!==gu(t)&&(i.fontOptions[e]=t)}))}},{key:"constrain",value:function(t){var e={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},i=tb(t,"widthConstraint");if("number"==typeof i)e.maxWdt=Number(i),e.minWdt=Number(i);else if("object"===gu(i)){var o=tb(t,["widthConstraint","maximum"]);"number"==typeof o&&(e.maxWdt=Number(o));var n=tb(t,["widthConstraint","minimum"]);"number"==typeof n&&(e.minWdt=Number(n))}var r=tb(t,"heightConstraint");if("number"==typeof r)e.minHgt=Number(r);else if("object"===gu(r)){var s=tb(t,["heightConstraint","minimum"]);"number"==typeof s&&(e.minHgt=Number(s));var a=tb(t,["heightConstraint","valign"]);"string"==typeof a&&("top"!==a&&"bottom"!==a||(e.valign=a))}return e}},{key:"update",value:function(t,e){this.setOptions(t,!0),this.propagateFonts(e),Rm(this.fontOptions,this.constrain(e)),this.fontOptions.chooser=E_("label",e)}},{key:"adjustSizes",value:function(t){var e=t?t.right+t.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=e,this.fontOptions.minWdt-=e);var i=t?t.top+t.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=i)}},{key:"addFontOptionsToPile",value:function(t,e){for(var i=0;i<e.length;++i)this.addFontToPile(t,e[i])}},{key:"addFontToPile",value:function(t,e){if(void 0!==e&&void 0!==e.font&&null!==e.font){var i=e.font;t.push(i)}}},{key:"getBasicOptions",value:function(e){for(var i={},o=0;o<e.length;++o){var n=e[o],r={};t.parseFontString(r,n)&&(n=r),Hm(n,(function(t,e){void 0!==t&&(Object.prototype.hasOwnProperty.call(i,e)||(-1!==Vv(H_).call(H_,e)?i[e]={}:i[e]=t))}))}return i}},{key:"getFontOption",value:function(e,i,o){for(var n,r=0;r<e.length;++r){var s=e[r];if(Object.prototype.hasOwnProperty.call(s,i)){if(null==(n=s[i]))continue;var a={};if(t.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,o))return n[o]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,o))return this.fontOptions[o];throw new Error("Did not find value for multi-font for property: '"+o+"'")}},{key:"getFontOptions",value:function(t,e){for(var i={},o=["color","size","face","mod","vadjust"],n=0;n<o.length;++n){var r=o[n];i[r]=this.getFontOption(t,e,r)}return i}},{key:"propagateFonts",value:function(t){var e=this,i=[];this.addFontOptionsToPile(i,t),this.fontOptions=this.getBasicOptions(i);for(var o=function(){var t=H_[n],o=e.fontOptions[t];Hm(e.getFontOptions(i,t),(function(t,e){o[e]=t})),o.size=Number(o.size),o.vadjust=Number(o.vadjust)},n=0;n<H_.length;++n)o()}},{key:"draw",value:function(t,e,i,o,n){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&s<this.elementOptions.scaling.label.drawThreshold-1||(s>=this.elementOptions.scaling.label.maxVisible&&(s=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(t,o,n,e,i,r),this._drawBackground(t),this._drawText(t,e,this.size.yLine,r,s))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=this.getSize();t.fillRect(e.left,e.top,e.width,e.height)}}},{key:"_drawText",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",n=arguments.length>4?arguments[4]:void 0,r=df(this._setAlignment(t,e,i,o),2);e=r[0],i=r[1],t.textAlign="left",e-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(i-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(i+=(this.size.height-this.size.labelHeight)/2));for(var s=0;s<this.lineCount;s++){var a=this.lines[s];if(a&&a.blocks){var h=0;this.isEdgeLabel||"center"===this.fontOptions.align?h+=(this.size.width-a.width)/2:"right"===this.fontOptions.align&&(h+=this.size.width-a.width);for(var d=0;d<a.blocks.length;d++){var l=a.blocks[d];t.font=l.font;var c=df(this._getColor(l.color,n,l.strokeColor),2),u=c[0],f=c[1];l.strokeWidth>0&&(t.lineWidth=l.strokeWidth,t.strokeStyle=f,t.lineJoin="round"),t.fillStyle=u,l.strokeWidth>0&&t.strokeText(l.text,e+h,i+l.vadjust),t.fillText(l.text,e+h,i+l.vadjust),h+=l.width}i+=a.height}}}},{key:"_setAlignment",value:function(t,e,i,o){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){e=0,i=0;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=4):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=4):t.textBaseline="middle"}else t.textBaseline=o;return[e,i]}},{key:"_getColor",value:function(t,e,i){var o=t||"#000000",n=i||"#ffffff";if(e<=this.elementOptions.scaling.label.drawThreshold){var r=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-e)));o=Vm(o,r),n=Vm(n,r)}return[o,n]}},{key:"getTextSize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(t,e,i),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var t=this.size.left,e=this.size.top-1;if(this.isEdgeLabel){var i=.5*-this.size.width;switch(this.fontOptions.align){case"middle":t=i,e=.5*-this.size.height;break;case"top":t=i,e=-(this.size.height+2);break;case"bottom":t=i,e=2}}return{left:t,top:e,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(t,e,i),this.size.left=o-.5*this.size.width,this.size.top=n-.5*this.size.height,this.size.yLine=n+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===r&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(t,e,i,o){var n=function(t,e,i){return"normal"===e?"mod"===i?"":t[i]:void 0!==t[e][i]?t[e][i]:t[i]},r={color:n(this.fontOptions,o,"color"),size:n(this.fontOptions,o,"size"),face:n(this.fontOptions,o,"face"),mod:n(this.fontOptions,o,"mod"),vadjust:n(this.fontOptions,o,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(e||i)&&("normal"===o&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?r.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(r,this.elementOptions.id,e,i));var s="";return void 0!==r.mod&&""!==r.mod&&(s+=r.mod+" "),s+=r.size+"px "+r.face,t.font=s.replace(/"/g,""),r.font=t.font,r.height=r.size,r}},{key:"differentState",value:function(t,e){return t!==this.selectedState||e!==this.hoverState}},{key:"_processLabelText",value:function(t,e,i,o){return new L_(t,this,e,i).process(o)}},{key:"_processLabel",value:function(t,e,i){if(!1!==this.labelDirty||this.differentState(e,i)){var o=this._processLabelText(t,e,i,this.elementOptions.label);this.fontOptions.minWdt>0&&o.width<this.fontOptions.minWdt&&(o.width=this.fontOptions.minWdt),this.size.labelHeight=o.height,this.fontOptions.minHgt>0&&o.height<this.fontOptions.minHgt&&(o.height=this.fontOptions.minHgt),this.lines=o.lines,this.lineCount=o.lines.length,this.size.width=o.width,this.size.height=o.height,this.selectedState=e,this.hoverState=i,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(t,e){if(!e||"string"!=typeof e)return!1;var i=e.split(" ");return t.size=+i[0].replace("px",""),t.face=i[1],t.color=i[2],!0}}]),t}(),V_=ca,q_=Tt,U_=TypeError,Y_=Mi,X_=u,K_=Io,G_=function(t){if(V_(t))return t;throw new U_(q_(t)+" is not a constructor")},$_=oi,Z_=et,Q_=br,J_=s,tx=at("Reflect","construct"),ex=Object.prototype,ix=[].push,ox=J_((function(){function t(){}return!(tx((function(){}),[],t)instanceof t)})),nx=!J_((function(){tx((function(){}))})),rx=ox||nx;Y_({target:"Reflect",stat:!0,forced:rx,sham:rx},{construct:function(t,e){G_(t),$_(e);var i=arguments.length<3?t:G_(arguments[2]);if(nx&&!ox)return tx(t,e,i);if(t===i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return X_(ix,o,e),new(X_(K_,t,o))}var n=i.prototype,r=Q_(Z_(n)?n:ex),s=X_(t,r,e);return Z_(s)?s:r}});var sx=o(it.Reflect.construct),ax=o(Uv);Mi({target:"Object",stat:!0},{setPrototypeOf:cs});var hx=o(it.Object.setPrototypeOf),dx=o(Ho);function lx(t,e){var i;return lx=hx?dx(i=hx).call(i):function(t,e){return t.__proto__=e,t},lx(t,e)}function cx(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=ax(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),xh(t,"prototype",{writable:!1}),e&&lx(t,e)}function ux(t,e){if(e&&("object"===gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}var fx=o(iv);function px(t){var e;return px=hx?dx(e=fx).call(e):function(t){return t.__proto__||fx(t)},px(t)}var vx=function(){function t(e,i,o){vh(this,t),this.body=i,this.labelModule=o,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return wu(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_setMargins",value:function(t){this.margin={},this.options.margin&&("object"==gu(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),t.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return t&&this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t,e){e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t,e){if(!1!==e.borderDashes)if(void 0!==t.setLineDash){var i=e.borderDashes;!0===i&&(i=[5,15]),t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1}},{key:"disableBorderDashes",value:function(t,e){!1!==e.borderDashes&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,e.borderDashes=!1))}},{key:"needsRefresh",value:function(t,e){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(t,e)}},{key:"initContextForDraw",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.lineWidth=Math.min(this.width,i),t.strokeStyle=e.borderColor,t.fillStyle=e.color}},{key:"performStroke",value:function(t,e){var i=e.borderWidth/this.body.view.scale;t.save(),i>0&&(this.enableBorderDashes(t,e),t.stroke(),this.disableBorderDashes(t,e)),t.restore()}},{key:"performFill",value:function(t,e){t.save(),t.fillStyle=e.color,this.enableShadow(t,e),Cg(t).call(t),this.disableShadow(t,e),t.restore(),this.performStroke(t,e)}},{key:"_addBoundingBoxMargin",value:function(t){this.boundingBox.left-=t,this.boundingBox.top-=t,this.boundingBox.bottom+=t,this.boundingBox.right+=t}},{key:"_updateBoundingBox",value:function(t,e,i,o,n){void 0!==i&&this.resize(i,o,n),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this._updateBoundingBox(t,e,i,o,n)}},{key:"getDimensionsFromLabel",value:function(t,e,i){this.textSize=this.labelModule.getTextSize(t,e,i);var o=this.textSize.width,n=this.textSize.height;return 0===o&&(o=14,n=14),{width:o,height:n}}}]),t}();function gx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var yx=function(t){cx(i,t);var e=gx(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return wu(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i);this.width=o.width+this.margin.right+this.margin.left,this.height=o.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),qo(t,this.left,this.top,this.width,this.height,r.borderRadius),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"updateBoundingBox",value:function(t,e,i,o,n){this._updateBoundingBox(t,e,i,o,n);var r=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(r)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),i}(vx);function mx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var bx=function(t){cx(i,t);var e=mx(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n)).labelOffset=0,r.selected=!1,r}return wu(i,[{key:"setOptions",value:function(t,e,i){this.options=t,void 0===e&&void 0===i||this.setImages(e,i)}},{key:"setImages",value:function(t,e){e&&this.selected?(this.imageObj=e,this.imageObjAlt=t):(this.imageObj=t,this.imageObjAlt=e)}},{key:"switchImages",value:function(t){var e=t&&!this.selected||!t&&this.selected;if(this.selected=t,void 0!==this.imageObjAlt&&e){var i=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=i}}},{key:"_getImagePadding",value:function(){var t={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var e=this.options.imagePadding;"object"==gu(e)?(t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left):(t.top=e,t.right=e,t.bottom=e,t.left=e)}return t}},{key:"_resizeImage",value:function(){var t,e;if(!1===this.options.shapeProperties.useImageSize){var i=1,o=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?i=this.imageObj.width/this.imageObj.height:o=this.imageObj.height/this.imageObj.width),t=2*this.options.size*i,e=2*this.options.size*o}else{var n=this._getImagePadding();t=this.imageObj.width+n.left+n.right,e=this.imageObj.height+n.top+n.bottom}this.width=t,this.height=e,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(t,e,i,o){this.initContextForDraw(t,o),Vo(t,e,i,o.size),this.performFill(t,o)}},{key:"_drawImageAtPosition",value:function(t,e){if(0!=this.imageObj.width){t.globalAlpha=void 0!==e.opacity?e.opacity:1,this.enableShadow(t,e);var i=1;!0===this.options.shapeProperties.interpolation&&(i=this.imageObj.width/this.width/this.body.view.scale);var o=this._getImagePadding(),n=this.left+o.left,r=this.top+o.top,s=this.width-o.left-o.right,a=this.height-o.top-o.bottom;this.imageObj.drawImageAtPosition(t,i,n,r,s,a),this.disableShadow(t,e)}}},{key:"_drawImageLabel",value:function(t,e,i,o,n){var r=0;if(void 0!==this.height){r=.5*this.height;var s=this.labelModule.getTextSize(t,o,n);s.lineCount>=1&&(r+=s.height/2)}var a=i+r;this.options.label&&(this.labelOffset=r),this.labelModule.draw(t,e,a,o,n,"hanging")}}]),i}(vx);function wx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var kx=function(t){cx(i,t);var e=wx(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return wu(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i),n=Math.max(o.width+this.margin.right+this.margin.left,o.height+this.margin.top+this.margin.bottom);this.options.size=n/2,this.width=n,this.height=n,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,r),this.updateBoundingBox(e,i),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,i,o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),i}(bx);function _x(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var xx=function(t){cx(i,t);var e=_x(i);function i(t,o,n,r,s){var a;return vh(this,i),(a=e.call(this,t,o,n)).setImages(r,s),a}return wu(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var o=2*this.options.size;return this.width=o,this.height=o,void(this.radius=.5*this.width)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n,r){this.switchImages(o),this.resize();var s=e,a=i;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),this._drawRawCircle(t,s,a,r),t.save(),t.clip(),this._drawImageAtPosition(t,r),t.restore(),this._drawImageLabel(t,s,a,o,n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=e,this.boundingBox.left=t,this.boundingBox.right=t+2*this.options.size,this.boundingBox.bottom=e+2*this.options.size):(this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),.5*this.width}}]),i}(bx);function Ex(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Ox=function(t){cx(i,t);var e=Ex(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(e,i)){var n,r;this.labelModule.getTextSize(t,e,i);var s=2*o.size;this.width=null!==(n=this.customSizeWidth)&&void 0!==n?n:s,this.height=null!==(r=this.customSizeHeight)&&void 0!==r?r:s,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,o,n,r,s,a){var h,d=this;return this.resize(t,r,s,a),this.left=o-this.width/2,this.top=n-this.height/2,this.initContextForDraw(t,a),(h=e,Object.prototype.hasOwnProperty.call(Ko,h)?Ko[h]:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];CanvasRenderingContext2D.prototype[h].call(t,i)})(t,o,n,a.size),this.performFill(t,a),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(t.font=(r?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon.code,o,n)),{drawExternalLabel:function(){if(void 0!==d.options.label){d.labelModule.calculateLabelSize(t,r,s,o,n,"hanging");var e=n+.5*d.height+.5*d.labelModule.size.height;d.labelModule.draw(t,o,e,r,s,"hanging")}d.updateBoundingBox(o,n)}}}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),i}(vx);function Cx(t,e){var i=zf(t);if(Nk){var o=Nk(t);e&&(o=lv(o).call(o,(function(e){return Yk(t,e).enumerable}))),i.push.apply(i,o)}return i}function Sx(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Qf(i=Cx(Object(n),!0)).call(i,(function(e){s_(t,e,n[e])})):Zk?n_(t,Zk(n)):Qf(o=Cx(Object(n))).call(o,(function(e){r_(t,e,Yk(n,e))}))}return t}function Tx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Mx=function(t){cx(i,t);var e=Tx(i);function i(t,o,n,r){var s;return vh(this,i),(s=e.call(this,t,o,n,r)).ctxRenderer=r,s}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n,r),this.left=e-this.width/2,this.top=i-this.height/2,t.save();var s=this.ctxRenderer({ctx:t,id:this.options.id,x:e,y:i,state:{selected:o,hover:n},style:Sx({},r),label:this.options.label});if(null!=s.drawNode&&s.drawNode(),t.restore(),s.drawExternalLabel){var a=s.drawExternalLabel;s.drawExternalLabel=function(){t.save(),a(),t.restore()}}return s.nodeDimensions&&(this.customSizeWidth=s.nodeDimensions.width,this.customSizeHeight=s.nodeDimensions.height),s}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ox);function Px(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Dx=function(t){cx(i,t);var e=Px(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return wu(i,[{key:"resize",value:function(t,e,i){if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.initContextForDraw(t,r),Yo(t,e-this.width/2,i-this.height/2,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(vx);function Ix(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Bx=function(t){cx(i,t);var e=Ix(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"diamond",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ox);function Fx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var zx=function(t){cx(i,t);var e=Fx(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"circle",2,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t){return t&&this.resize(t),this.options.size}}]),i}(Ox);function Nx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Ax=function(t){cx(i,t);var e=Nx(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(e,i)){var o=this.getDimensionsFromLabel(t,e,i);this.height=2*o.height,this.width=o.width+o.height,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-.5*this.width,this.top=i-.5*this.height,this.initContextForDraw(t,r),Uo(t,this.left,this.top,this.width,this.height),this.performFill(t,r),this.updateBoundingBox(e,i,t,o,n),this.labelModule.draw(t,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){t&&this.resize(t);var i=.5*this.width,o=.5*this.height,n=Math.sin(e)*i,r=Math.cos(e)*o;return i*o/Math.sqrt(n*n+r*r)}}]),i}(vx);function Rx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var jx=function(t){cx(i,t);var e=Rx(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return wu(i,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,r){var s=this;return this.resize(t,o,n),this.options.icon.size=this.options.icon.size||50,this.left=e-this.width/2,this.top=i-this.height/2,this._icon(t,e,i,o,n,r),{drawExternalLabel:function(){if(void 0!==s.options.label){s.labelModule.draw(t,s.left+s.iconSize.width/2+s.margin.left,i+s.height/2+5,o)}s.updateBoundingBox(e,i)}}}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(t,e,i,o,n,r){var s=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=[null!=this.options.icon.weight?this.options.icon.weight:o?"bold":"",(null!=this.options.icon.weight&&o?5:0)+s+"px",this.options.icon.face].join(" "),t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t,r),t.fillText(this.options.icon.code,e,i),this.disableShadow(t,r)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(vx);function Lx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Hx=function(t){cx(i,t);var e=Lx(i);function i(t,o,n,r,s){var a;return vh(this,i),(a=e.call(this,t,o,n)).setImages(r,s),a}return wu(i,[{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var o=2*this.options.size;return this.width=o,void(this.height=o)}this.needsRefresh(e,i)&&this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n,r){t.save(),this.switchImages(o),this.resize();var s=e,a=i;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=i,s+=this.width/2,a+=this.height/2):(this.left=e-this.width/2,this.top=i-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var h=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,l=(o?d:h)/this.body.view.scale;t.lineWidth=Math.min(this.width,l),t.beginPath();var c=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,u=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background;void 0!==r.opacity&&(c=Vm(c,r.opacity),u=Vm(u,r.opacity)),t.strokeStyle=c,t.fillStyle=u,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),Cg(t).call(t),this.performStroke(t,r),t.closePath()}this._drawImageAtPosition(t,r),this._drawImageLabel(t,s,a,o,n),this.updateBoundingBox(e,i),t.restore()}},{key:"updateBoundingBox",value:function(t,e){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=e):(this.left=t-this.width/2,this.top=e-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(bx);function Wx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Vx=function(t){cx(i,t);var e=Wx(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"square",2,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ox);function qx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Ux=function(t){cx(i,t);var e=qx(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"hexagon",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ox);function Yx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Xx=function(t){cx(i,t);var e=Yx(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"star",4,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ox);function Kx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Gx=function(t){cx(i,t);var e=Kx(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n))._setMargins(n),r}return wu(i,[{key:"resize",value:function(t,e,i){this.needsRefresh(e,i)&&(this.textSize=this.labelModule.getTextSize(t,e,i),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(t,e,i,o,n,r){this.resize(t,o,n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t,r),this.labelModule.draw(t,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,o,n),this.disableShadow(t,r),this.updateBoundingBox(e,i,t,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(vx);function $x(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Zx=function(t){cx(i,t);var e=$x(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"triangle",3,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ox);function Qx(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var Jx=function(t){cx(i,t);var e=Qx(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"draw",value:function(t,e,i,o,n,r){return this._drawShape(t,"triangleDown",3,e,i,o,n,r)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),i}(Ox);function tE(t,e){var i=zf(t);if(Nk){var o=Nk(t);e&&(o=lv(o).call(o,(function(e){return Yk(t,e).enumerable}))),i.push.apply(i,o)}return i}function eE(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Qf(i=tE(Object(n),!0)).call(i,(function(e){s_(t,e,n[e])})):Zk?n_(t,Zk(n)):Qf(o=tE(Object(n))).call(o,(function(e){r_(t,e,Yk(n,e))}))}return t}var iE=function(){function t(e,i,o,n,r,s){vh(this,t),this.options=Zm(r),this.globalOptions=r,this.defaultOptions=s,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new W_(this.body,this.options,!1),this.setOptions(e)}return wu(t,[{key:"attachEdge",value:function(t){var e;-1===Vv(e=this.edges).call(e,t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e,i,o=Vv(e=this.edges).call(e,t);-1!=o&&Pp(i=this.edges).call(i,o,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.color&&(this._localColor=e.color),void 0!==e.id&&(this.id=e.id),void 0===this.id)throw new Error("Node must have an id");t.checkMass(e,this.id),void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=Iv(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=Iv(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=y_(e.value)),t.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);var o=[e,this.options,this.defaultOptions];return this.chooser=E_("node",o),this._load_images(),this.updateLabelModule(e),void 0!==e.opacity&&t.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var t={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?t.borderWidth=this.options.borderWidthSelected:t.borderWidth*=2,t.color=this.options.color.highlight.background,t.borderColor=this.options.color.highlight.border,t.shadow=this.options.shadow.enabled):this.hover&&(t.color=this.options.color.hover.background,t.borderColor=this.options.color.hover.border,t.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(t,this.options.id,this.selected,this.hover),!1===t.shadow&&(t.shadowColor===this.options.shadow.color&&t.shadowSize===this.options.shadow.size&&t.shadowX===this.options.shadow.x&&t.shadowY===this.options.shadow.y||(t.shadow=!0))):t.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var e=this.options.opacity;t.borderColor=Vm(t.borderColor,e),t.color=Vm(t.color,e),t.shadowColor=Vm(t.shadowColor,e)}return t}},{key:"updateLabelModule",value:function(e){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),t.updateGroupOptions(this.options,eE(eE({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);var i=this.grouplist.get(this.options.group,!1),o=[e,this.options,i,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,o),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new yx(this.options,this.body,this.labelModule);break;case"circle":this.shape=new kx(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new xx(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Mx(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Dx(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Bx(this.options,this.body,this.labelModule);break;case"dot":this.shape=new zx(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new Ax(this.options,this.body,this.labelModule);break;case"icon":this.shape=new jx(this.options,this.body,this.labelModule);break;case"image":this.shape=new Hx(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Vx(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Ux(this.options,this.body,this.labelModule);break;case"star":this.shape=new Xx(this.options,this.body,this.labelModule);break;case"text":this.shape=new Gx(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Zx(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Jx(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*r}this.options.size=this.options.scaling.min+o*n}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){var e=this.getFormattingValues();return this.shape.draw(t,this.x,this.y,this.selected,this.hover,e)||{}}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){var e=this.getFormattingValues();this.shape.resize(t,this.selected,this.hover,e)}},{key:"getItemsOnPoint",value:function(t){var e=[];return this.labelModule.visible()&&O_(this.labelModule.getSize(),t)&&e.push({nodeId:this.id,labelId:0}),O_(this.shape.boundingBox,t)&&e.push({nodeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"checkOpacity",value:function(t){return 0<=t&&t<=1}},{key:"checkCoordinateOrigin",value:function(t){return void 0===t||"center"===t||"top-left"===t}},{key:"updateGroupOptions",value:function(e,i,o){var n;if(void 0!==o){var r=e.group;if(void 0!==i&&void 0!==i.group&&r!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof r||"string"==typeof r&&""!=r){var s=o.get(r);void 0!==s.opacity&&void 0===i.opacity&&(t.checkOpacity(s.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+s.opacity),s.opacity=void 0));var a=lv(n=x_(i)).call(n,(function(t){return null!=i[t]}));a.push("font"),Am(a,e,s),e.color=Um(e.color)}}}},{key:"parseOptions",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0;if(Am(["color","fixed","shadow"],e,i,o),t.checkMass(i),void 0!==e.opacity&&(t.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),void 0!==i.opacity&&(t.checkOpacity(i.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+i.opacity),i.opacity=void 0)),i.shapeProperties&&!t.checkCoordinateOrigin(i.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+i.shapeProperties.coordinateOrigin),Qm(e,i,"shadow",n),void 0!==i.color&&null!==i.color){var s=Um(i.color);zm(e.color,s)}else!0===o&&null===i.color&&(e.color=Zm(n.color));void 0!==i.fixed&&null!==i.fixed&&("boolean"==typeof i.fixed?(e.fixed.x=i.fixed,e.fixed.y=i.fixed):(void 0!==i.fixed.x&&"boolean"==typeof i.fixed.x&&(e.fixed.x=i.fixed.x),void 0!==i.fixed.y&&"boolean"==typeof i.fixed.y&&(e.fixed.y=i.fixed.y))),!0===o&&null===i.font&&(e.font=Zm(n.font)),t.updateGroupOptions(e,i,r),void 0!==i.scaling&&Qm(e.scaling,i.scaling,"label",n.scaling)}},{key:"checkMass",value:function(t,e){if(void 0!==t.mass&&t.mass<=0){var i="";void 0!==e&&(i=" in node id: "+e),console.error("%cNegative or zero mass disallowed"+i+", setting mass to 1.",pb),t.mass=1}}}]),t}();function oE(t,e){var i=void 0!==cf&&ph(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return nE(t,e);var o=mf(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Xa(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return nE(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function nE(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var rE=function(){function t(e,i,o,n){var r,s=this;if(vh(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=n,this.body.functions.createNode=Wo(r=this.create).call(r,this),this.nodesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items,e.data,e.oldData)},remove:function(t,e){s.remove(e.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Zm(this.defaultOptions),this.bindEventListeners()}return wu(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("refreshNodes",Wo(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Wo(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Hm(i.nodesListeners,(function(t,e){i.body.data.nodes&&i.body.data.nodes.off(e,t)})),delete i.body.functions.createNode,delete i.nodesListeners.add,delete i.nodesListeners.update,delete i.nodesListeners.remove,delete i.nodesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){if(iE.parseOptions(this.options,t),void 0!==t.opacity&&(Ok(t.opacity)||!Tk(t.opacity)||t.opacity<0||t.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity):this.options.opacity=t.opacity),void 0!==t.shape)for(var e in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&this.body.nodes[e].updateShape();if(void 0!==t.font||void 0!==t.widthConstraint||void 0!==t.heightConstraint)for(var i=0,o=zf(this.body.nodes);i<o.length;i++){var n=o[i];this.body.nodes[n].updateLabelModule(),this.body.nodes[n].needsRefresh()}if(void 0!==t.size)for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.body.data.nodes;if(e.isDataViewLike("id",t))this.body.data.nodes=t;else if(Of(t))this.body.data.nodes=new e.DataSet,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new e.DataSet}if(o&&Hm(this.nodesListeners,(function(t,e){o.off(e,t)})),this.body.nodes={},this.body.data.nodes){var n=this;Hm(this.nodesListeners,(function(t,e){n.body.data.nodes.on(e,t)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[],n=0;n<t.length;n++){e=t[n];var r=this.body.data.nodes.get(e),s=this.create(r);o.push(s),this.body.nodes[e]=s}this.layoutEngine.positionInitially(o),!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e,i){for(var o=this.body.nodes,n=!1,r=0;r<t.length;r++){var s=t[r],a=o[s],h=e[r];void 0!==a?a.setOptions(h)&&(n=!0):(n=!0,a=this.create(h),o[s]=a)}n||void 0===i||(n=zk(e).call(e,(function(t,e){var o=i[e];return o&&o.level!==t.level}))),!0===n?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){delete e[t[i]]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:iE)(t,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Hm(this.body.nodes,(function(i,o){var n=t.body.data.nodes.get(o);void 0!==n&&(!0===e&&i.setOptions({x:null,y:null}),i.setOptions({fixed:!1}),i.setOptions(n))}))}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(!0===Of(t)){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var o=this.body.nodes[t[i]];e[t[i]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[t]){var n=this.body.nodes[t];e[t]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];e[this.body.nodeIndices[r]]={x:Math.round(s.x),y:Math.round(s.y)}}return e}},{key:"getPosition",value:function(t){if(null==t)throw new TypeError("No id was specified for getPosition method.");if(null==this.body.nodes[t])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(t));return{x:Math.round(this.body.nodes[t].x),y:Math.round(this.body.nodes[t].y)}}},{key:"storePositions",value:function(){var t,e=[],i=this.body.data.nodes.getDataSet(),o=oE(i.get());try{for(o.s();!(t=o.n()).done;){var n=t.value,r=n.id,s=this.body.nodes[r],a=Math.round(s.x),h=Math.round(s.y);n.x===a&&n.y===h||e.push({id:r,x:a,y:h})}}catch(t){o.e(t)}finally{o.f()}i.update(e)}},{key:"getBoundingBox",value:function(t){if(void 0!==this.body.nodes[t])return this.body.nodes[t].shape.boundingBox}},{key:"getConnectedNodes",value:function(t,e){var i=[];if(void 0!==this.body.nodes[t])for(var o=this.body.nodes[t],n={},r=0;r<o.edges.length;r++){var s=o.edges[r];"to"!==e&&s.toId==o.id?void 0===n[s.fromId]&&(i.push(s.fromId),n[s.fromId]=!0):"from"!==e&&s.fromId==o.id&&void 0===n[s.toId]&&(i.push(s.toId),n[s.toId]=!0)}return i}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),vg((function(){o.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}(),sE=Jt,aE=B,hE=et,dE=oi,lE=function(t){return void 0!==t&&(sE(t,"value")||sE(t,"writable"))},cE=M,uE=Tr;Mi({target:"Reflect",stat:!0},{get:function t(e,i){var o,n,r=arguments.length<3?e:arguments[2];return dE(e)===r?e[i]:(o=cE.f(e,i))?lE(o)?o.value:void 0===o.get?void 0:aE(o.get,r):hE(n=uE(e))?t(n,i,r):void 0}});var fE=o(it.Reflect.get),pE=o(Uk);function vE(){var t;"undefined"!=typeof Reflect&&fE?vE=dx(t=fE).call(t):vE=function(t,e,i){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=px(t)););return t}(t,e);if(o){var n=pE(o,e);return n.get?n.get.call(arguments.length<3?t:i):n.value}};return vE.apply(this,arguments)}var gE=Mi,yE=Math.hypot,mE=Math.abs,bE=Math.sqrt;gE({target:"Math",stat:!0,arity:2,forced:!!yE&&yE(1/0,NaN)!==1/0},{hypot:function(t,e){for(var i,o,n=0,r=0,s=arguments.length,a=0;r<s;)a<(i=mE(arguments[r++]))?(n=n*(o=a/i)*o+1,a=i):n+=i>0?(o=i/a)*o:i;return a===1/0?1/0:a*bE(n)}});var wE=o(it.Math.hypot);function kE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var _E=function(){function t(){vh(this,t)}return wu(t,null,[{key:"transform",value:function(t,e){Of(t)||(t=[t]);for(var i=e.point.x,o=e.point.y,n=e.angle,r=e.length,s=0;s<t.length;++s){var a=t[s],h=a.x*Math.cos(n)-a.y*Math.sin(n),d=a.x*Math.sin(n)+a.y*Math.cos(n);a.x=i+r*h,a.y=o+r*d}}},{key:"drawPath",value:function(t,e){t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;++i)t.lineTo(e[i].x,e[i].y);t.closePath()}}]),t}(),xE=function(t){cx(i,t);var e=kE(i);function i(){return vh(this,i),e.apply(this,arguments)}return wu(i,null,[{key:"draw",value:function(t,e){if(e.image){t.save(),t.translate(e.point.x,e.point.y),t.rotate(Math.PI/2+e.angle);var i=null!=e.imageWidth?e.imageWidth:e.image.width,o=null!=e.imageHeight?e.imageHeight:e.image.height;e.image.drawImageAtPosition(t,1,-i/2,0,i,o),t.restore()}return!1}}]),i}(_E),EE=function(t){cx(i,t);var e=kE(i);function i(){return vh(this,i),e.apply(this,arguments)}return wu(i,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),i}(_E),OE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),t}(),CE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};_E.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,n=e.angle-o/2,r=e.angle+o/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,n,r,!1),t.stroke(),!0}}]),t}(),SE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i={x:-.3,y:0};_E.transform(i,e),t.strokeStyle=t.fillStyle,t.fillStyle="rgba(0, 0, 0, 0)";var o=Math.PI,n=e.angle+o/2,r=e.angle+3*o/2;return t.beginPath(),t.arc(i.x,i.y,.4*e.length,n,r,!1),t.stroke(),!0}}]),t}(),TE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),t}(),ME=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),t}(),PE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i={x:-.4,y:0};return _E.transform(i,e),Vo(t,i.x,i.y,.4*e.length),!0}}]),t}(),DE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),t}(),IE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),t}(),BE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),t}(),FE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return _E.transform(i,e),_E.drawPath(t,i),!0}}]),t}(),zE=function(){function t(){vh(this,t)}return wu(t,null,[{key:"draw",value:function(t,e){var i;switch(e.type&&(i=e.type.toLowerCase()),i){case"image":return xE.draw(t,e);case"circle":return PE.draw(t,e);case"box":return IE.draw(t,e);case"crow":return OE.draw(t,e);case"curve":return CE.draw(t,e);case"diamond":return BE.draw(t,e);case"inv_curve":return SE.draw(t,e);case"triangle":return TE.draw(t,e);case"inv_triangle":return ME.draw(t,e);case"bar":return DE.draw(t,e);case"vee":return FE.draw(t,e);default:return EE.draw(t,e)}}}]),t}();function NE(t,e){var i=zf(t);if(Nk){var o=Nk(t);e&&(o=lv(o).call(o,(function(e){return Yk(t,e).enumerable}))),i.push.apply(i,o)}return i}function AE(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Qf(i=NE(Object(n),!0)).call(i,(function(e){s_(t,e,n[e])})):Zk?n_(t,Zk(n)):Qf(o=NE(Object(n))).call(o,(function(e){r_(t,e,Yk(n,e))}))}return t}var RE=function(){function t(e,i,o){vh(this,t),this._body=i,this._labelModule=o,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}return wu(t,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();t.strokeStyle=this.getColor(t,e),t.lineWidth=e.width,!1!==e.dashes?this._drawDashedLine(t,e,n):this._drawLine(t,e,n)}},{key:"_drawLine",value:function(t,e,i,o,n){if(this.from!=this.to)this._line(t,e,i,o,n);else{var r=df(this._getCircleData(t),3),s=r[0],a=r[1],h=r[2];this._circle(t,e,s,a,h)}}},{key:"_drawDashedLine",value:function(t,e,i,o,n){t.lineCap="round";var r=Of(e.dashes)?e.dashes:[5,5];if(void 0!==t.setLineDash){if(t.save(),t.setLineDash(r),t.lineDashOffset=0,this.from!=this.to)this._line(t,e,i);else{var s=df(this._getCircleData(t),3),a=s[0],h=s[1],d=s[2];this._circle(t,e,a,h,d)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)Xo(t,this.from.x,this.from.y,this.to.x,this.to.y,r);else{var l=df(this._getCircleData(t),3),c=l[0],u=l[1],f=l[2];this._circle(t,e,c,u,f)}this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,t),to:this._findBorderPosition(this.to,t)};var e,i=df(mf(e=this._getCircleData(t)).call(e,0,2),2),o=i[0],n=i[1];return{from:this._findBorderPositionCircle(this.from,t,{x:o,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,t,{x:o,y:n,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(t){var e=this.options.selfReference.size;void 0!==t&&void 0===this.from.shape.width&&this.from.shape.resize(t);var i=S_(t,this.options.selfReference.angle,e,this.from);return[i.x,i.y,e]}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){var o,n=i.x,r=i.y,s=i.low,a=i.high,h=i.direction,d=this.options.selfReference.size,l=.5*(s+a),c=0;!0===this.options.arrowStrikethrough&&(-1===h?c=this.options.endPointOffset.from:1===h&&(c=this.options.endPointOffset.to));var u=0;do{l=.5*(s+a),o=this._pointOnCircle(n,r,d,l);var f=Math.atan2(t.y-o.y,t.x-o.x),p=t.distanceToBorder(e,f)+c-Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2));if(Math.abs(p)<.05)break;p>0?h>0?s=l:a=l:h>0?a=l:s=l,++u}while(s<=a&&u<10);return AE(AE({},o),{},{t:l})}},{key:"getLineWidth",value:function(t,e){return!0===t?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===e?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(t,e){if(!1!==e.inheritsColor){if("both"===e.inheritsColor&&this.from.id!==this.to.id){var i=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),o=this.from.options.color.highlight.border,n=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(o=Vm(this.from.options.color.border,e.opacity),n=Vm(this.to.options.color.border,e.opacity)):!0===this.from.selected&&!1===this.to.selected?n=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(o=this.from.options.color.border),i.addColorStop(0,o),i.addColorStop(1,n),i}return"to"===e.inheritsColor?Vm(this.to.options.color.border,e.opacity):Vm(this.from.options.color.border,e.opacity)}return Vm(e.color,e.opacity)}},{key:"_circle",value:function(t,e,i,o,n){this.enableShadow(t,e);var r=0,s=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var a=this.options.selfReference.angle,h=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:a,high:h,direction:-1}),l=this._findBorderPositionCircle(this.from,t,{x:i,y:o,low:a,high:h,direction:1});r=Math.atan2(d.y-o,d.x-i),s=Math.atan2(l.y-o,l.x-i)}t.beginPath(),t.arc(i,o,n,r,s,!1),t.stroke(),this.disableShadow(t,e)}},{key:"getDistanceToEdge",value:function(t,e,i,o,n,r){if(this.from!=this.to)return this._getDistanceToEdge(t,e,i,o,n,r);var s=df(this._getCircleData(void 0),3),a=s[0],h=s[1],d=s[2],l=a-n,c=h-r;return Math.abs(Math.sqrt(l*l+c*c)-d)}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,r){var s=i-t,a=o-e,h=((n-t)*s+(r-e)*a)/(s*s+a*a);h>1?h=1:h<0&&(h=0);var d=t+h*s-n,l=e+h*a-r;return Math.sqrt(d*d+l*l)}},{key:"getArrowData",value:function(t,e,i,o,n,r){var s,a,h,d,l,c,u,f=r.width;"from"===e?(h=this.from,d=this.to,l=r.fromArrowScale<0,c=Math.abs(r.fromArrowScale),u=r.fromArrowType):"to"===e?(h=this.to,d=this.from,l=r.toArrowScale<0,c=Math.abs(r.toArrowScale),u=r.toArrowType):(h=this.to,d=this.from,l=r.middleArrowScale<0,c=Math.abs(r.middleArrowScale),u=r.middleArrowType);var p=15*c+3*f;if(h!=d){var v=p/wE(h.x-d.x,h.y-d.y);if("middle"!==e)if(!0===this.options.smooth.enabled){var g=this._findBorderPosition(h,t,{via:i}),y=this.getPoint(g.t+v*("from"===e?1:-1),i);s=Math.atan2(g.y-y.y,g.x-y.x),a=g}else s=Math.atan2(h.y-d.y,h.x-d.x),a=this._findBorderPosition(h,t);else{var m=(l?-v:v)/2,b=this.getPoint(.5+m,i),w=this.getPoint(.5-m,i);s=Math.atan2(b.y-w.y,b.x-w.x),a=this.getPoint(.5,i)}}else{var k=df(this._getCircleData(t),3),_=k[0],x=k[1],E=k[2];if("from"===e){var O=this.options.selfReference.angle,C=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,t,{x:_,y:x,low:O,high:C,direction:-1});s=-2*S.t*Math.PI+1.5*Math.PI+.1*Math.PI,a=S}else if("to"===e){var T=this.options.selfReference.angle,M=this.options.selfReference.angle+Math.PI,P=this._findBorderPositionCircle(this.from,t,{x:_,y:x,low:T,high:M,direction:1});s=-2*P.t*Math.PI+1.5*Math.PI-1.1*Math.PI,a=P}else{var D=this.options.selfReference.angle/(2*Math.PI);a=this._pointOnCircle(_,x,E,D),s=-2*D*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:a,core:{x:a.x-.9*p*Math.cos(s),y:a.y-.9*p*Math.sin(s)},angle:s,length:p,type:u}}},{key:"drawArrowHead",value:function(t,e,i,o,n){t.strokeStyle=this.getColor(t,e),t.fillStyle=t.strokeStyle,t.lineWidth=e.width,zE.draw(t,n)&&(this.enableShadow(t,e),Cg(t).call(t),this.disableShadow(t,e))}},{key:"enableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor=e.shadowColor,t.shadowBlur=e.shadowSize,t.shadowOffsetX=e.shadowX,t.shadowOffsetY=e.shadowY)}},{key:"disableShadow",value:function(t,e){!0===e.shadow&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"drawBackground",value:function(t,e){if(!1!==e.background){var i={strokeStyle:t.strokeStyle,lineWidth:t.lineWidth,dashes:t.dashes};t.strokeStyle=e.backgroundColor,t.lineWidth=e.backgroundSize,this.setStrokeDashed(t,e.backgroundDashes),t.stroke(),t.strokeStyle=i.strokeStyle,t.lineWidth=i.lineWidth,t.dashes=i.dashes,this.setStrokeDashed(t,e.dashes)}}},{key:"setStrokeDashed",value:function(t,e){if(!1!==e)if(void 0!==t.setLineDash){var i=Of(e)?e:[5,5];t.setLineDash(i)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==t.setLineDash?t.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),t}();function jE(t,e){var i=zf(t);if(Nk){var o=Nk(t);e&&(o=lv(o).call(o,(function(e){return Yk(t,e).enumerable}))),i.push.apply(i,o)}return i}function LE(t){for(var e=1;e<arguments.length;e++){var i,o,n=null!=arguments[e]?arguments[e]:{};e%2?Qf(i=jE(Object(n),!0)).call(i,(function(e){s_(t,e,n[e])})):Zk?n_(t,Zk(n)):Qf(o=jE(Object(n))).call(o,(function(e){r_(t,e,Yk(n,e))}))}return t}function HE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var WE=function(t){cx(i,t);var e=HE(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"_findBorderPositionBezier",value:function(t,e){var i,o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),r=!1,s=1,a=0,h=this.to,d=this.options.endPointOffset?this.options.endPointOffset.to:0;t.id===this.from.id&&(h=this.from,r=!0,d=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(d=0);var l=0;do{o=.5*(a+s),i=this.getPoint(o,n);var c=Math.atan2(h.y-i.y,h.x-i.x),u=h.distanceToBorder(e,c)+d-Math.sqrt(Math.pow(i.x-h.x,2)+Math.pow(i.y-h.y,2));if(Math.abs(u)<.2)break;u<0?!1===r?a=o:s=o:!1===r?s=o:a=o,++l}while(a<=s&&l<10);return LE(LE({},i),{},{t:o})}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,r,s){var a,h,d,l,c,u=1e9,f=t,p=e;for(h=1;h<10;h++)d=.1*h,l=Math.pow(1-d,2)*t+2*d*(1-d)*s.x+Math.pow(d,2)*i,c=Math.pow(1-d,2)*e+2*d*(1-d)*s.y+Math.pow(d,2)*o,h>0&&(u=(a=this._getDistanceToLine(f,p,l,c,n,r))<u?a:u),f=l,p=c;return u}},{key:"_bezierCurve",value:function(t,e,i,o){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),null!=i&&null!=i.x?null!=o&&null!=o.x?t.bezierCurveTo(i.x,i.y,o.x,o.y,this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(i.x,i.y,this.toPoint.x,this.toPoint.y):t.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(t,e),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),i}(RE);function VE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var qE=function(t){cx(i,t);var e=VE(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n)).via=r.via,r._boundFunction=function(){r.positionBezierNode()},r._body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return wu(i,[{key:"setOptions",value:function(t){vE(px(i.prototype),"setOptions",this).call(this,t);var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===e&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this._body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this._body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var i=df(this._getCircleData(),3),o=i[0],n=i[1],r=i[2],s=2*Math.PI*(1-t);return{x:o+r*Math.sin(s),y:n+r-r*(1-Math.cos(s))}}return{x:Math.pow(1-t,2)*this.fromPoint.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.toPoint.x,y:Math.pow(1-t,2)*this.fromPoint.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){return this._getDistanceToBezierEdge(t,e,i,o,n,r,this.via)}}]),i}(WE);function UE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var YE=function(t){cx(i,t);var e=UE(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"_line",value:function(t,e,i){this._bezierCurve(t,e,i)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t,e,i=this.options.smooth.roundness,o=this.options.smooth.type,n=Math.abs(this.from.x-this.to.x),r=Math.abs(this.from.y-this.to.y);if("discrete"===o||"diagonalCross"===o){var s,a;s=a=n<=r?i*r:i*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);var h=this.from.x+s,d=this.from.y+a;return"discrete"===o&&(n<=r?h=n<i*r?this.from.x:h:d=r<i*n?this.from.y:d),{x:h,y:d}}if("straightCross"===o){var l=(1-i)*n,c=(1-i)*r;return n<=r?(l=0,this.from.y<this.to.y&&(c=-c)):(this.from.x<this.to.x&&(l=-l),c=0),{x:this.to.x+l,y:this.to.y+c}}if("horizontal"===o){var u=(1-i)*n;return this.from.x<this.to.x&&(u=-u),{x:this.to.x+u,y:this.from.y}}if("vertical"===o){var f=(1-i)*r;return this.from.y<this.to.y&&(f=-f),{x:this.from.x,y:this.to.y+f}}if("curvedCW"===o){n=this.to.x-this.from.x,r=this.from.y-this.to.y;var p=Math.sqrt(n*n+r*r),v=Math.PI,g=(Math.atan2(r,n)+(.5*i+.5)*v)%(2*v);return{x:this.from.x+(.5*i+.5)*p*Math.sin(g),y:this.from.y+(.5*i+.5)*p*Math.cos(g)}}if("curvedCCW"===o){n=this.to.x-this.from.x,r=this.from.y-this.to.y;var y=Math.sqrt(n*n+r*r),m=Math.PI,b=(Math.atan2(r,n)+(.5*-i+.5)*m)%(2*m);return{x:this.from.x+(.5*i+.5)*y*Math.sin(b),y:this.from.y+(.5*i+.5)*y*Math.cos(b)}}t=e=n<=r?i*r:i*n,this.from.x>this.to.x&&(t=-t),this.from.y>=this.to.y&&(e=-e);var w=this.from.x+t,k=this.from.y+e;return n<=r?w=this.from.x<=this.to.x?this.to.x<w?this.to.x:w:this.to.x>w?this.to.x:w:k=this.from.y>=this.to.y?this.to.y>k?this.to.y:k:this.to.y<k?this.to.y:k,{x:w,y:k}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(t,e,i,o,n,r,s)}},{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),i=t;return{x:Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,y:Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y}}}]),i}(WE);function XE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var KE=function(t){cx(i,t);var e=XE(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"_getDistanceToBezierEdge2",value:function(t,e,i,o,n,r,s,a){for(var h=1e9,d=t,l=e,c=[0,0,0,0],u=1;u<10;u++){var f=.1*u;c[0]=Math.pow(1-f,3),c[1]=3*f*Math.pow(1-f,2),c[2]=3*Math.pow(f,2)*(1-f),c[3]=Math.pow(f,3);var p=c[0]*t+c[1]*s.x+c[2]*a.x+c[3]*i,v=c[0]*e+c[1]*s.y+c[2]*a.y+c[3]*o;if(u>0){var g=this._getDistanceToLine(d,l,p,v,n,r);h=g<h?g:h}d=p,l=v}return h}}]),i}(WE);function GE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var $E=function(t){cx(i,t);var e=GE(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"_line",value:function(t,e,i){var o=i[0],n=i[1];this._bezierCurve(t,e,o,n)}},{key:"_getViaCoordinates",value:function(){var t,e,i,o,n=this.from.x-this.to.x,r=this.from.y-this.to.y,s=this.options.smooth.roundness;return(Math.abs(n)>Math.abs(r)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(e=this.from.y,o=this.to.y,t=this.from.x-s*n,i=this.to.x+s*n):(e=this.from.y-s*r,o=this.to.y+s*r,t=this.from.x,i=this.to.x),[{x:t,y:e},{x:i,y:o}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){var s=df(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),a=s[0],h=s[1];return this._getDistanceToBezierEdge2(t,e,i,o,n,r,a,h)}},{key:"getPoint",value:function(t){var e=df(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),i=e[0],o=e[1],n=t,r=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)];return{x:r[0]*this.fromPoint.x+r[1]*i.x+r[2]*o.x+r[3]*this.toPoint.x,y:r[0]*this.fromPoint.y+r[1]*i.y+r[2]*o.y+r[3]*this.toPoint.y}}}]),i}(KE);function ZE(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var QE=function(t){cx(i,t);var e=ZE(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t,e),t.stroke(),this.disableShadow(t,e)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from;t.id===this.from.id&&(i=this.from,o=this.to);var n=Math.atan2(i.y-o.y,i.x-o.x),r=i.x-o.x,s=i.y-o.y,a=Math.sqrt(r*r+s*s),h=(a-t.distanceToBorder(e,n))/a;return{x:(1-h)*o.x+h*i.x,y:(1-h)*o.y+h*i.y,t:0}}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,r){return this._getDistanceToLine(t,e,i,o,n,r)}}]),i}(RE),JE=function(){function t(e,i,o,n,r){if(vh(this,t),void 0===i)throw new Error("No body provided");this.options=Zm(n),this.globalOptions=n,this.defaultOptions=r,this.body=i,this.imagelist=o,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new W_(this.body,this.options,!0),this.setOptions(e)}return wu(t,[{key:"setOptions",value:function(e){if(e){var i=void 0!==e.physics&&this.options.physics!==e.physics||void 0!==e.hidden&&(this.options.hidden||!1)!==(e.hidden||!1)||void 0!==e.from&&this.options.from!==e.from||void 0!==e.to&&this.options.to!==e.to;t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=y_(e.value));var o=[e,this.options,this.defaultOptions];return this.chooser=E_("edge",o),this.updateLabelModule(e),i=this.updateEdgeType()||i,this._setInteractionWidths(),this.connect(),i}}},{key:"getFormattingValues",value:function(){var t=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,e=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,i=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,o=this.options.color.inherit,n={toArrow:t,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:i,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:e,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:o?void 0:this.options.color.color,inheritsColor:o,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var r=this.options.selectionWidth;"function"==typeof r?n.width=r(n.width):"number"==typeof r&&(n.width+=r),n.width=Math.max(n.width,.3/this.body.view.scale),n.color=this.options.color.highlight,n.shadow=this.options.shadow.enabled}else if(this.hover){var s=this.options.hoverWidth;"function"==typeof s?n.width=s(n.width):"number"==typeof s&&(n.width+=s),n.width=Math.max(n.width,.3/this.body.view.scale),n.color=this.options.color.hover,n.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(n,this.options.id,this.selected,this.hover),void 0!==n.color&&(n.inheritsColor=!1),!1===n.shadow&&(n.shadowColor===this.options.shadow.color&&n.shadowSize===this.options.shadow.size&&n.shadowX===this.options.shadow.x&&n.shadowY===this.options.shadow.y||(n.shadow=!0)));else n.shadow=this.options.shadow.enabled,n.width=Math.max(n.width,.3/this.body.view.scale);return n}},{key:"updateLabelModule",value:function(t){var e=[t,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,e),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=this.options.smooth,e=!1,i=!0;return void 0!==this.edgeType&&((this.edgeType instanceof qE&&!0===t.enabled&&"dynamic"===t.type||this.edgeType instanceof $E&&!0===t.enabled&&"cubicBezier"===t.type||this.edgeType instanceof YE&&!0===t.enabled&&"dynamic"!==t.type&&"cubicBezier"!==t.type||this.edgeType instanceof QE&&!1===t.type.enabled)&&(i=!1),!0===i&&(e=this.cleanup())),!0===i?!0===t.enabled?"dynamic"===t.type?(e=!0,this.edgeType=new qE(this.options,this.body,this.labelModule)):"cubicBezier"===t.type?this.edgeType=new $E(this.options,this.body,this.labelModule):this.edgeType=new YE(this.options,this.body,this.labelModule):this.edgeType=new QE(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),e}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var r=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*r}this.options.width=this.options.scaling.min+o*n}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode();this.edgeType.drawLine(t,e,this.selected,this.hover,i),this.drawLabel(t,i)}}},{key:"drawArrows",value:function(t){var e=this.getFormattingValues();if(!e.hidden){var i=this.edgeType.getViaNode(),o={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,e.fromArrow&&(o.from=this.edgeType.getArrowData(t,"from",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.fromPoint=o.from.core),e.fromArrowSrc&&(o.from.image=this.imagelist.load(e.fromArrowSrc)),e.fromArrowImageWidth&&(o.from.imageWidth=e.fromArrowImageWidth),e.fromArrowImageHeight&&(o.from.imageHeight=e.fromArrowImageHeight)),e.toArrow&&(o.to=this.edgeType.getArrowData(t,"to",i,this.selected,this.hover,e),!1===e.arrowStrikethrough&&(this.edgeType.toPoint=o.to.core),e.toArrowSrc&&(o.to.image=this.imagelist.load(e.toArrowSrc)),e.toArrowImageWidth&&(o.to.imageWidth=e.toArrowImageWidth),e.toArrowImageHeight&&(o.to.imageHeight=e.toArrowImageHeight)),e.middleArrow&&(o.middle=this.edgeType.getArrowData(t,"middle",i,this.selected,this.hover,e),e.middleArrowSrc&&(o.middle.image=this.imagelist.load(e.middleArrowSrc)),e.middleArrowImageWidth&&(o.middle.imageWidth=e.middleArrowImageWidth),e.middleArrowImageHeight&&(o.middle.imageHeight=e.middleArrowImageHeight)),e.fromArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.from),e.middleArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.middle),e.toArrow&&this.edgeType.drawArrowHead(t,e,this.selected,this.hover,o.to)}}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i,o=this.from,n=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(t,this.selected,this.hover),o.id!=n.id){this.labelModule.pointToSelf=!1,i=this.edgeType.getPoint(.5,e),t.save();var r=this._getRotation(t);0!=r.angle&&(t.translate(r.x,r.y),t.rotate(r.angle)),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover),t.restore()}else{this.labelModule.pointToSelf=!0;var s=S_(t,this.options.selfReference.angle,this.options.selfReference.size,o);i=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(t,i.x,i.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(t){var e=[];if(this.labelModule.visible()){var i=this._getRotation();O_(this.labelModule.getSize(),t,i)&&e.push({edgeId:this.id,labelId:0})}var o={left:t.x,top:t.y};return this.isOverlappingWith(o)&&e.push({edgeId:this.id}),e}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=this.from.x,i=this.from.y,o=this.to.x,n=this.to.y,r=t.left,s=t.top;return this.edgeType.getDistanceToEdge(e,i,o,n,r,s)<10}return!1}},{key:"_getRotation",value:function(t){var e=this.edgeType.getViaNode(),i=this.edgeType.getPoint(.5,e);void 0!==t&&this.labelModule.calculateLabelSize(t,this.selected,this.hover,i.x,i.y);var o={x:i.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return o;if("horizontal"===this.options.font.align)return o;var n=this.from.y-this.to.y,r=this.from.x-this.to.x,s=Math.atan2(n,r);return(s<-1&&r<0||s>0&&r<0)&&(s+=Math.PI),o.angle=s,o}},{key:"_pointOnCircle",value:function(t,e,i,o){return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Nm(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],t,e,i),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.from&&(Tk(e.endPointOffset.from)?t.endPointOffset.from=e.endPointOffset.from:(t.endPointOffset.from=void 0!==o.endPointOffset.from?o.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==e.endPointOffset&&void 0!==e.endPointOffset.to&&(Tk(e.endPointOffset.to)?t.endPointOffset.to=e.endPointOffset.to:(t.endPointOffset.to=void 0!==o.endPointOffset.to?o.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),C_(e.label)?t.label=e.label:C_(t.label)||(t.label=void 0),Qm(t,e,"smooth",o),Qm(t,e,"shadow",o),Qm(t,e,"background",o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:!0===i&&null===e.dashes&&(t.dashes=Yv(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),Qm(t.scaling,e.scaling,"label",o.scaling)):!0===i&&null===e.scaling&&(t.scaling=Yv(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var r=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=Vv(r).call(r,"to"),t.arrows.middle.enabled=-1!=Vv(r).call(r,"middle"),t.arrows.from.enabled=-1!=Vv(r).call(r,"from")}else{if("object"!==gu(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+$v(e.arrows));Qm(t.arrows,e.arrows,"to",o.arrows),Qm(t.arrows,e.arrows,"middle",o.arrows),Qm(t.arrows,e.arrows,"from",o.arrows)}else!0===i&&null===e.arrows&&(t.arrows=Yv(o.arrows));if(void 0!==e.color&&null!==e.color){var s=Im(e.color)?{color:e.color,highlight:e.color,hover:e.color,inherit:!1,opacity:1}:e.color,a=t.color;if(n)Rm(a,o.color,!1,i);else for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&delete a[h];if(Im(a))a.color=a,a.highlight=a,a.hover=a,a.inherit=!1,void 0===s.opacity&&(a.opacity=1);else{var d=!1;void 0!==s.color&&(a.color=s.color,d=!0),void 0!==s.highlight&&(a.highlight=s.highlight,d=!0),void 0!==s.hover&&(a.hover=s.hover,d=!0),void 0!==s.inherit&&(a.inherit=s.inherit),void 0!==s.opacity&&(a.opacity=Math.min(1,Math.max(0,s.opacity))),!0===d?a.inherit=!1:void 0===a.inherit&&(a.inherit="from")}}else!0===i&&null===e.color&&(t.color=Zm(o.color));!0===i&&null===e.font&&(t.font=Zm(o.font)),Object.prototype.hasOwnProperty.call(e,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),t.selfReference.size=e.selfReferenceSize)}}]),t}(),tO=function(){function t(e,i,o){var n,r=this;vh(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=Wo(n=this.create).call(n,this),this.edgesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},Rm(this.options,this.defaultOptions),this.bindEventListeners()}return wu(t,[{key:"bindEventListeners",value:function(){var t,e,i=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var o=!1;for(var n in i.body.edges)if(Object.prototype.hasOwnProperty.call(i.body.edges,n)){var r=i.body.edges[n],s=i.body.data.edges.get(n);if(null!=s){var a=s.smooth;void 0!==a&&!0===a.enabled&&"dynamic"===a.type&&(void 0===t?r.setOptions({smooth:!1}):r.setOptions({smooth:{type:t}}),o=!0)}}!0===e&&!0===o&&i.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){i.reconnectEdges()})),this.body.emitter.on("refreshEdges",Wo(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",Wo(e=this.refresh).call(e,this)),this.body.emitter.on("destroy",(function(){Hm(i.edgesListeners,(function(t,e){i.body.data.edges&&i.body.data.edges.off(e,t)})),delete i.body.functions.createEdge,delete i.edgesListeners.add,delete i.edgesListeners.update,delete i.edgesListeners.remove,delete i.edgesListeners}))}},{key:"setOptions",value:function(t){if(void 0!==t){JE.parseOptions(this.options,t,!0,this.defaultOptions,!0);var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font)for(var o in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,o)&&this.body.edges[o].updateLabelModule();void 0===t.hidden&&void 0===t.physics&&!0!==e||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var i=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.edges;if(e.isDataViewLike("id",t))this.body.data.edges=t;else if(Of(t))this.body.data.edges=new e.DataSet,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new e.DataSet}if(n&&Hm(this.edgesListeners,(function(t,e){n.off(e,t)})),this.body.edges={},this.body.data.edges){Hm(this.edgesListeners,(function(t,e){i.body.data.edges.on(e,t)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var r=t[n],s=i[r];s&&s.disconnect();var a=o.get(r,{showInternalIds:!0});i[r]=this.create(a)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===e&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var r=t[n],s=i.get(r),a=e[r];void 0!==a?(a.disconnect(),o=a.setOptions(s)||o,a.connect()):(this.body.edges[r]=this.create(s),o=!0)}!0===o?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==t.length){var i=this.body.edges;Hm(t,(function(t){var e=i[t];void 0!==e&&e.remove()})),e&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var t=this;Hm(this.body.edges,(function(e,i){var o=t.body.data.edges.get(i);void 0!==o&&e.setOptions(o)}))}},{key:"create",value:function(t){return new JE(t,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t].edges=[]);for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var o=i[t];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];void 0!==i.fromId&&e.push(i.fromId),void 0!==i.toId&&e.push(i.toId)}return e}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var t=this,e=[];Hm(this.body.edges,(function(i,o){var n=t.body.nodes[i.toId],r=t.body.nodes[i.fromId];void 0!==n&&!0===n.isCluster||void 0!==r&&!0===r.isCluster||void 0!==n&&void 0!==r||e.push(o)})),this.remove(e,!1)}},{key:"_addMissingEdges",value:function(){var t=this.body.data.edges;if(null!=t){var e=this.body.edges,i=[];Qf(t).call(t,(function(t,o){void 0===e[o]&&i.push(o)})),this.add(i,!0)}}}]),t}(),eO=function(){function t(e,i,o){vh(this,t),this.body=e,this.physicsBody=i,this.barnesHutTree,this.setOptions(o),this._rng=Em("BARNES HUT SOLVER")}return wu(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var r=0;r<o;r++)(t=e[i[r]]).options.mass>0&&this._getForceContributions(n.root,t)}}},{key:"_getForceContributions",value:function(t,e){this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,n=Math.sqrt(i*i+o*o);n*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?this._getForceContributions(t,e):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t)}}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var r=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),s=e*r,a=i*r;this.physicsBody.forces[o.id].x+=s,this.physicsBody.forces[o.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i,o=e.length,n=t[e[0]].x,r=t[e[0]].y,s=t[e[0]].x,a=t[e[0]].y,h=1;h<o;h++){var d=t[e[h]],l=d.x,c=d.y;d.options.mass>0&&(l<n&&(n=l),l>s&&(s=l),c<r&&(r=c),c>a&&(a=c))}var u=Math.abs(s-n)-Math.abs(a-r);u>0?(r-=.5*u,a+=.5*u):(n+=.5*u,s-=.5*u);var f=Math.max(1e-5,Math.abs(s-n)),p=.5*f,v=.5*(n+s),g=.5*(r+a),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:v-p,maxX:v+p,minY:g-p,maxY:g+p},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(var m=0;m<o;m++)(i=t[e[m]]).options.mass>0&&this._placeInTree(y.root,i);return y}},{key:"_updateBranchMass",value:function(t,e){var i=t.centerOfMass,o=t.mass+e.options.mass,n=1/o;i.x=i.x*t.mass+e.x*e.options.mass,i.x*=n,i.y=i.y*t.mass+e.y*e.options.mass,i.y*=n,t.mass=o;var r=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<r?r:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e);var o,n=t.children.NW.range;o=n.maxX>e.x?n.maxY>e.y?"NW":"SW":n.maxY>e.y?"NE":"SE",this._placeInRegion(t,e,o)}},{key:"_placeInRegion",value:function(t,e,i){var o=t.children[i];switch(o.childrenCount){case 0:o.children.data=e,o.childrenCount=1,this._updateBranchMass(o,e);break;case 1:o.children.data.x===e.x&&o.children.data.y===e.y?(e.x+=this._rng(),e.y+=this._rng()):(this._splitBranch(o),this._placeInTree(o,e));break;case 4:this._placeInTree(o,e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i,o,n,r,s=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+s,n=t.range.minY,r=t.range.minY+s;break;case"NE":i=t.range.minX+s,o=t.range.maxX,n=t.range.minY,r=t.range.minY+s;break;case"SW":i=t.range.minX,o=t.range.minX+s,n=t.range.minY+s,r=t.range.maxY;break;case"SE":i=t.range.minX+s,o=t.range.maxX,n=t.range.minY+s,r=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:r},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}(),iO=function(){function t(e,i,o){vh(this,t),this._rng=Em("REPULSION SOLVER"),this.body=e,this.physicsBody=i,this.setOptions(o)}return wu(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r,s,a,h=this.body.nodes,d=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,c=this.options.nodeDistance,u=-2/3/c,f=0;f<d.length-1;f++){s=h[d[f]];for(var p=f+1;p<d.length;p++)t=(a=h[d[p]]).x-s.x,e=a.y-s.y,0===(i=Math.sqrt(t*t+e*e))&&(t=i=.1*this._rng()),i<2*c&&(r=i<.5*c?1:u*i+1.3333333333333333,o=t*(r/=i),n=e*r,l[s.id].x-=o,l[s.id].y-=n,l[a.id].x+=o,l[a.id].y+=n)}}}]),t}(),oO=function(){function t(e,i,o){vh(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return wu(t,[{key:"setOptions",value:function(t){this.options=t,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var t=this.body.nodes,e=this.physicsBody.physicsNodeIndices,i=this.physicsBody.forces,o=this.options.nodeDistance,n=0;n<e.length-1;n++)for(var r=t[e[n]],s=n+1;s<e.length;s++){var a=t[e[s]];if(r.level===a.level){var h=o+this.overlapAvoidanceFactor*((r.shape.radius||0)/2+(a.shape.radius||0)/2),d=a.x-r.x,l=a.y-r.y,c=Math.sqrt(d*d+l*l),u=void 0;u=c<h?-Math.pow(.05*c,2)+Math.pow(.05*h,2):0,0!==c&&(u/=c);var f=d*u,p=l*u;i[r.id].x-=f,i[r.id].y-=p,i[a.id].x+=f,i[a.id].y+=p}}}}]),t}(),nO=function(){function t(e,i,o){vh(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return wu(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r=this.physicsBody.physicsEdgeIndices,s=this.body.edges,a=0;a<r.length;a++)!0===(e=s[r[a]]).connected&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.to,o=e.edgeType.via,n=e.from,this._calculateSpringForce(i,o,.5*t),this._calculateSpringForce(o,n,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,r=Math.max(Math.sqrt(o*o+n*n),.01),s=this.options.springConstant*(i-r)/r,a=o*s,h=n*s;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}(),rO=function(){function t(e,i,o){vh(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return wu(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,r,s,a,h,d,l=this.body.edges,c=.5,u=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,v=0;v<f.length;v++){var g=f[v];p[g].springFx=0,p[g].springFy=0}for(var y=0;y<u.length;y++)!0===(e=l[u[y]]).connected&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,o=e.from.y-e.to.y,a=0===(a=Math.sqrt(i*i+o*o))?.01:a,n=i*(s=this.options.springConstant*(t-a)/a),r=o*s,e.to.level!=e.from.level?(void 0!==p[e.toId]&&(p[e.toId].springFx-=n,p[e.toId].springFy-=r),void 0!==p[e.fromId]&&(p[e.fromId].springFx+=n,p[e.fromId].springFy+=r)):(void 0!==p[e.toId]&&(p[e.toId].x-=c*n,p[e.toId].y-=c*r),void 0!==p[e.fromId]&&(p[e.fromId].x+=c*n,p[e.fromId].y+=c*r)));s=1;for(var m=0;m<f.length;m++){var b=f[m];h=Math.min(s,Math.max(-s,p[b].springFx)),d=Math.min(s,Math.max(-s,p[b].springFy)),p[b].x+=h,p[b].y+=d}for(var w=0,k=0,_=0;_<f.length;_++){var x=f[_];w+=p[x].x,k+=p[x].y}for(var E=w/f.length,O=k/f.length,C=0;C<f.length;C++){var S=f[C];p[S].x-=E,p[S].y-=O}}}]),t}(),sO=function(){function t(e,i,o){vh(this,t),this.body=e,this.physicsBody=i,this.setOptions(o)}return wu(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n=this.body.nodes,r=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,a=0;a<r.length;a++){t=-(o=n[r[a]]).x,e=-o.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,s,o)}}},{key:"_calculateForces",value:function(t,e,i,o,n){var r=0===t?0:this.options.centralGravity/t;o[n.id].x=e*r,o[n.id].y=i*r}}]),t}();function aO(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var hO=function(t){cx(i,t);var e=aO(i);function i(t,o,n){var r;return vh(this,i),(r=e.call(this,t,o,n))._rng=Em("FORCE ATLAS 2 BASED REPULSION SOLVER"),r}return wu(i,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(e=t=.1*this._rng()),this.overlapAvoidanceFactor<1&&o.shape.radius&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var r=o.edges.length+1,s=this.options.gravitationalConstant*n.mass*o.options.mass*r/Math.pow(t,2),a=e*s,h=i*s;this.physicsBody.forces[o.id].x+=a,this.physicsBody.forces[o.id].y+=h}}]),i}(eO);function dO(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var lO=function(t){cx(i,t);var e=dO(i);function i(t,o,n){return vh(this,i),e.call(this,t,o,n)}return wu(i,[{key:"_calculateForces",value:function(t,e,i,o,n){if(t>0){var r=n.edges.length+1,s=this.options.centralGravity*r*n.options.mass;o[n.id].x=e*s,o[n.id].y=i*s}}}]),i}(sO),cO=function(){function t(e){vh(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},wo(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return wu(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",(function(){t.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){t.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){t.stopSimulation(),t.ready=!1})),this.body.emitter.on("disablePhysics",(function(){t.physicsEnabled=!1,t.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){t.setOptions(t.options),!0===t.ready&&t.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===t.ready&&t.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){t.stopSimulation()})),this.body.emitter.on("destroy",(function(){t.stopSimulation(!1),t.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){t.updatePhysicsData()}))}},{key:"setOptions",value:function(t){if(void 0!==t)if(!1===t)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===t)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Am(["stabilization"],this.options,t),Qm(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var e=this.options.wind;e&&(("number"!=typeof e.x||Ok(e.x))&&(e.x=0),("number"!=typeof e.y||Ok(e.y))&&(e.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new hO(this.body,this.physicsBody,t),this.edgesSolver=new nO(this.body,this.physicsBody,t),this.gravitySolver=new lO(this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new iO(this.body,this.physicsBody,t),this.edgesSolver=new nO(this.body,this.physicsBody,t),this.gravitySolver=new sO(this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new oO(this.body,this.physicsBody,t),this.edgesSolver=new rO(this.body,this.physicsBody,t),this.gravitySolver=new sO(this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new eO(this.body,this.physicsBody,t),this.edgesSolver=new nO(this.body,this.physicsBody,t),this.gravitySolver=new sO(this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var t;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=Wo(t=this.simulationStep).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===t&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===t&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=jf();this.physicsTick(),(jf()-t<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&vg((function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled)this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1;else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&!0===e[o].options.physics&&this.physicsBody.physicsEdgeIndices.push(e[o].id);for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var r=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[r]={x:0,y:0},void 0===this.physicsBody.velocities[r]&&(this.physicsBody.velocities[r]={x:0,y:0})}for(var s in this.physicsBody.velocities)void 0===t[s]&&delete this.physicsBody.velocities[s]}},{key:"revert",value:function(){var t=zf(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?!0===e[n].options.physics&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t,e,i=this.body.nodes,o=this.referenceState;for(var n in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,n)&&void 0!==i[n]&&(t=i[n].x-o[n].positions.x,e=i[n].y-o[n].positions.y,Math.sqrt(Math.pow(t,2)+Math.pow(e,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=0,i=0,o=0;o<t.length;o++){var n=t[o],r=this._performStep(n);e=Math.max(e,r),i+=r}this.adaptiveTimestepEnabled=i/t.length<5,this.stabilized=e<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(t,e,i){t+=(e-this.modelOptions.damping*t)/i*this.timestep;var o=this.options.maxVelocity||1e9;return Math.abs(t)>o&&(t=t>0?o:-o),t}},{key:"_performStep",value:function(t){var e=this.body.nodes[t],i=this.physicsBody.forces[t];this.options.wind&&(i.x+=this.options.wind.x,i.y+=this.options.wind.y);var o=this.physicsBody.velocities[t];return this.previousStates[t]={x:e.x,y:e.y,vx:o.x,vy:o.y},!1===e.options.fixed.x?(o.x=this.calculateComponentVelocity(o.x,i.x,e.options.mass),e.x+=o.x*this.timestep):(i.x=0,o.x=0),!1===e.options.fixed.y?(o.y=this.calculateComponentVelocity(o.y,i.y,e.options.mass),e.y+=o.y*this.timestep):(i.y=0,o.y=0),Math.sqrt(Math.pow(o.x,2)+Math.pow(o.y,2))}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e].x&&t[e].y){var i=t[e].options.fixed;this.freezeCache[e]={x:i.x,y:i.y},i.x=!0,i.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof e&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,vg((function(){return t._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var t=this,e=function(){return!1===t.stabilized&&t.stabilizationIterations<t.targetIterations},i=function(){t.body.emitter.emit("stabilizationProgress",{iterations:t.stabilizationIterations,total:t.targetIterations})};this._startStabilizing()&&i();for(var o,n=0;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;(i(),e())?vg(Wo(o=this._stabilizationBatch).call(o,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.physicsBody.physicsNodeIndices[e],o=this.body.nodes[i],n=this.physicsBody.forces[i],r=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.x,2)),s=Math.min(Math.max(5,r),15),a=3*s,h=Km((180-180*Math.min(1,Math.max(0,.03*r)))/360,1,1),d={x:o.x+20*n.x,y:o.y+20*n.y};t.lineWidth=s,t.strokeStyle=h,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(d.x,d.y),t.stroke();var l=Math.atan2(n.y,n.x);t.fillStyle=h,zE.draw(t,{type:"arrow",point:d,angle:l,length:a}),Cg(t).call(t)}}}]),t}();let uO;const fO=new Uint8Array(16);function pO(){if(!uO&&(uO="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!uO))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uO(fO)}const vO=[];for(let t=0;t<256;++t)vO.push((t+256).toString(16).slice(1));var gO={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function yO(t,e,i){if(gO.randomUUID&&!e&&!t)return gO.randomUUID();const o=(t=t||{}).random||(t.rng||pO)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){i=i||0;for(let t=0;t<16;++t)e[i+t]=o[t];return e}return function(t,e=0){return vO[t[e+0]]+vO[t[e+1]]+vO[t[e+2]]+vO[t[e+3]]+"-"+vO[t[e+4]]+vO[t[e+5]]+"-"+vO[t[e+6]]+vO[t[e+7]]+"-"+vO[t[e+8]]+vO[t[e+9]]+"-"+vO[t[e+10]]+vO[t[e+11]]+vO[t[e+12]]+vO[t[e+13]]+vO[t[e+14]]+vO[t[e+15]]}(o)}var mO=function(){function t(){vh(this,t)}return wu(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).shape.boundingBox.left&&(r=e.shape.boundingBox.left),s<e.shape.boundingBox.right&&(s=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0),{minX:r,maxX:s,minY:o,maxY:n}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=1e9,n=-1e9,r=1e9,s=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)r>(e=t[i[a]]).x&&(r=e.x),s<e.x&&(s=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0),{minX:r,maxX:s,minY:o,maxY:n}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(Rm(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):Rm(i,t.options,!0),i}}]),t}();function bO(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var wO=function(t){cx(i,t);var e=bO(i);function i(t,o,n,r,s,a){var h;return vh(this,i),(h=e.call(this,t,o,n,r,s,a)).isCluster=!0,h.containedNodes={},h.containedEdges={},h}return wu(i,[{key:"_openChildCluster",value:function(t){var e=this,i=this.body.nodes[t];if(void 0===this.containedNodes[t])throw new Error("node with id: "+t+" not in current cluster");if(!i.isCluster)throw new Error("node with id: "+t+" is not a cluster");delete this.containedNodes[t],Hm(i.edges,(function(t){delete e.containedEdges[t.id]})),Hm(i.containedNodes,(function(t,i){e.containedNodes[i]=t})),i.containedNodes={},Hm(i.containedEdges,(function(t,i){e.containedEdges[i]=t})),i.containedEdges={},Hm(i.edges,(function(t){Hm(e.edges,(function(i){var o,n,r=Vv(o=i.clusteringEdgeReplacingIds).call(o,t.id);-1!==r&&(Hm(t.clusteringEdgeReplacingIds,(function(t){i.clusteringEdgeReplacingIds.push(t),e.body.edges[t].edgeReplacedById=i.id})),Pp(n=i.clusteringEdgeReplacingIds).call(n,r,1))}))})),i.edges=[]}}]),i}(iE),kO=function(){function t(e){var i=this;vh(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},wo(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){i.clusteredNodes={},i.clusteredEdges={}}))}return wu(t,[{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===gu(t)&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var r=0;r<i.length;r++)this.clusterByConnection(i[r],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===e.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);var o={},n={};Hm(this.body.nodes,(function(i,r){i.options&&!0===e.joinCondition(i.options)&&(o[r]=i,Hm(i.edges,(function(e){void 0===t.clusteredEdges[e.id]&&(n[e.id]=e)})))})),this._cluster(o,n,e,i)}},{key:"clusterByEdgeCount",value:function(t,e){var i=this,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._checkOptions(e);for(var n,r,s,a=[],h={},d=function(){var o={},d={},c=i.body.nodeIndices[l],u=i.body.nodes[c];if(void 0===h[c]){s=0,r=[];for(var f=0;f<u.edges.length;f++)n=u.edges[f],void 0===i.clusteredEdges[n.id]&&(n.toId!==n.fromId&&s++,r.push(n));if(s===t){for(var p=function(t){if(void 0===e.joinCondition||null===e.joinCondition)return!0;var i=mO.cloneOptions(t);return e.joinCondition(i)},v=!0,g=0;g<r.length;g++){n=r[g];var y=i._getConnectedId(n,c);if(!p(u)){v=!1;break}d[n.id]=n,o[c]=u,o[y]=i.body.nodes[y],h[c]=!0}if(zf(o).length>0&&zf(d).length>0&&!0===v){var m=function(){for(var t=0;t<a.length;++t)for(var e in o)if(void 0!==a[t].nodes[e])return a[t]}();if(void 0!==m){for(var b in o)void 0===m.nodes[b]&&(m.nodes[b]=o[b]);for(var w in d)void 0===m.edges[w]&&(m.edges[w]=d[w])}else a.push({nodes:o,edges:d})}}}},l=0;l<this.body.nodeIndices.length;l++)d();for(var c=0;c<a.length;c++)this._cluster(a[c].nodes,a[c].edges,e,!1);!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var n=this.body.nodes[t];void 0===(e=this._checkOptions(e,n)).clusterNodeProperties.x&&(e.clusterNodeProperties.x=n.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=n.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=n.options.fixed.x,e.clusterNodeProperties.fixed.y=n.options.fixed.y);var r={},s={},a=n.id,h=mO.cloneOptions(n);r[a]=n;for(var d=0;d<n.edges.length;d++){var l=n.edges[d];if(void 0===this.clusteredEdges[l.id]){var c=this._getConnectedId(l,a);if(void 0===this.clusteredNodes[c])if(c!==a)if(void 0===e.joinCondition)s[l.id]=l,r[c]=this.body.nodes[c];else{var u=mO.cloneOptions(this.body.nodes[c]);!0===e.joinCondition(h,u)&&(s[l.id]=l,r[c]=this.body.nodes[c])}else s[l.id]=l}}var f=If(i=zf(r)).call(i,(function(t){return r[t].id}));for(var p in r)if(Object.prototype.hasOwnProperty.call(r,p))for(var v=r[p],g=0;g<v.edges.length;g++){var y=v.edges[g];Vv(f).call(f,this._getConnectedId(y,v.id))>-1&&(s[y.id]=y)}this._cluster(r,s,e,o)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var n,r,s,a,h,d,l=zf(t),c=[],u=0;u<l.length;u++){s=t[r=l[u]];for(var f=0;f<s.edges.length;f++)n=s.edges[f],void 0===this.clusteredEdges[n.id]&&(n.toId==n.fromId?e[n.id]=n:n.toId==r?(a=i.id,d=h=n.fromId):(a=n.toId,h=i.id,d=a),void 0===t[d]&&c.push({edge:n,fromId:h,toId:a}))}for(var p=[],v=function(t){for(var e=0;e<p.length;e++){var i=p[e],o=t.fromId===i.fromId&&t.toId===i.toId,n=t.fromId===i.toId&&t.toId===i.fromId;if(o||n)return i}return null},g=0;g<c.length;g++){var y=c[g],m=y.edge,b=v(y);null===b?(b=this._createClusteredEdge(y.fromId,y.toId,m,o),p.push(b)):b.clusteringEdgeReplacingIds.push(m.id),this.body.edges[m.id].edgeReplacedById=b.id,this._backupEdgeOptions(m),m.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&void 0!==this.clusteredNodes[r]&&n.push(r);for(var s=0;s<n.length;++s)delete t[n[s]];if(0!=zf(t).length&&(1!=zf(t).length||1==i.clusterNodeProperties.allowSingleNodeCluster)){var a=Rm({},i.clusterNodeProperties);if(void 0!==i.processProperties){var h=[];for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var l=mO.cloneOptions(t[d]);h.push(l)}var c=[];for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)&&"clusterEdge:"!==u.substr(0,12)){var f=mO.cloneOptions(e[u],"edge");c.push(f)}if(!(a=i.processProperties(a,h,c)))throw new Error("The processProperties function does not return properties!")}void 0===a.id&&(a.id="cluster:"+yO());var p=a.id;void 0===a.label&&(a.label="cluster");var v=void 0;void 0===a.x&&(v=this._getClusterPosition(t),a.x=v.x),void 0===a.y&&(void 0===v&&(v=this._getClusterPosition(t)),a.y=v.y),a.id=p;var g=this.body.functions.createNode(a,wO);g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[a.id]=g,this._clusterEdges(t,e,a,i.clusterEdgeProperties),a.id=void 0,!0===o&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?!0===this.body.nodes[t].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e,i=zf(t),o=t[i[0]].x,n=t[i[0]].x,r=t[i[0]].y,s=t[i[0]].y,a=1;a<i.length;a++)o=(e=t[i[a]]).x<o?e.x:o,n=e.x>n?e.x:n,r=e.y<r?e.y:r,s=e.y>s?e.y:s;return{x:.5*(o+n),y:.5*(r+s)}}},{key:"openCluster",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");var o=this.body.nodes[t];if(void 0===o)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==o.isCluster||void 0===o.containedNodes||void 0===o.containedEdges)throw new Error("The node:"+t+" is not a valid cluster.");var n=this.findNode(t),r=Vv(n).call(n,t)-1;if(r>=0){var s=n[r];return this.body.nodes[s]._openChildCluster(t),delete this.body.nodes[t],void(!0===i&&this.body.emitter.emit("_dataChanged"))}var a=o.containedNodes,h=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var d={},l={x:o.x,y:o.y};for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var u=this.body.nodes[c];d[c]={x:u.x,y:u.y}}var f=e.releaseFunction(l,d);for(var p in a)if(Object.prototype.hasOwnProperty.call(a,p)){var v=this.body.nodes[p];void 0!==f[p]&&(v.x=void 0===f[p].x?o.x:f[p].x,v.y=void 0===f[p].y?o.y:f[p].y)}}else Hm(a,(function(t){!1===t.options.fixed.x&&(t.x=o.x),!1===t.options.fixed.y&&(t.y=o.y)}));for(var g in a)if(Object.prototype.hasOwnProperty.call(a,g)){var y=this.body.nodes[g];y.vx=o.vx,y.vy=o.vy,y.setOptions({physics:!0}),delete this.clusteredNodes[g]}for(var m=[],b=0;b<o.edges.length;b++)m.push(o.edges[b]);for(var w=0;w<m.length;w++){for(var k=m[w],_=this._getConnectedId(k,t),x=this.clusteredNodes[_],E=0;E<k.clusteringEdgeReplacingIds.length;E++){var O=k.clusteringEdgeReplacingIds[E],C=this.body.edges[O];if(void 0!==C)if(void 0!==x){var S=this.body.nodes[x.clusterId];S.containedEdges[C.id]=C,delete h[C.id];var T=C.fromId,M=C.toId;C.toId==_?M=x.clusterId:T=x.clusterId,this._createClusteredEdge(T,M,C,S.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(C)}k.remove()}for(var P in h)Object.prototype.hasOwnProperty.call(h,P)&&this._restoreEdge(h[P]);delete this.body.nodes[t],!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(!0===this.isCluster(t)){var i=this.body.nodes[t].containedNodes;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.push(this.body.nodes[o].id)}return e}},{key:"findNode",value:function(t){for(var e,i=[],o=0;void 0!==this.clusteredNodes[t]&&o<100;){if(void 0===(e=this.body.nodes[t]))return[];i.push(e.id),t=this.clusteredNodes[t].clusterId,o++}return void 0===(e=this.body.nodes[t])?[]:(i.push(e.id),hp(i).call(i),i)}},{key:"updateClusteredNode",value:function(t,e){if(void 0===t)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===e)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[t])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[t].setOptions(e),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(t,e){if(void 0===t)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===e)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[t])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var i=this.getClusteredEdges(t),o=0;o<i.length;o++){this.body.edges[i[o]].setOptions(e)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(t){for(var e=[],i=0;void 0!==t&&void 0!==this.body.edges[t]&&i<100;)e.push(this.body.edges[t].id),t=this.body.edges[t].edgeReplacedById,i++;return hp(e).call(e),e}},{key:"getBaseEdge",value:function(t){return this.getBaseEdges(t)[0]}},{key:"getBaseEdges",value:function(t){for(var e=[t],i=[],o=[],n=0;e.length>0&&n<100;){var r=e.pop();if(void 0!==r){var s=this.body.edges[r];if(void 0!==s){n++;var a=s.clusteringEdgeReplacingIds;if(void 0===a)o.push(r);else for(var h=0;h<a.length;++h){var d=a[h];-1===Vv(e).call(e,a)&&-1===Vv(i).call(i,a)&&e.push(d)}i.push(r)}}}return o}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:(t.fromId,t.fromId)}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>o&&(o=r.edges.length),t+=r.edges.length,e+=Math.pow(r.edges.length,2),i+=1}t/=i;var s=(e/=i)-Math.pow(t,2),a=Math.sqrt(s),h=Math.floor(t+2*a);return h>o&&(h=o),h}},{key:"_createClusteredEdge",value:function(t,e,i,o,n){var r=mO.cloneOptions(i,"edge");Rm(r,o),r.from=t,r.to=e,r.id="clusterEdge:"+yO(),void 0!==n&&Rm(r,n);var s=this.body.functions.createEdge(r);return s.clusteringEdgeReplacingIds=[i.id],s.connect(),this.body.edges[s.id]=s,s}},{key:"_clusterEdges",value:function(t,e,i,o){if(e instanceof JE){var n=e,r={};r[n.id]=n,e=r}if(t instanceof iE){var s=t,a={};a[s.id]=s,t=a}if(null==i)throw new Error("_clusterEdges: parameter clusterNode required");for(var h in void 0===o&&(o=i.clusterEdgeProperties),this._createClusterEdges(t,e,i,o),e)if(Object.prototype.hasOwnProperty.call(e,h)&&void 0!==this.body.edges[h]){var d=this.body.edges[h];this._backupEdgeOptions(d),d.setOptions({physics:!1})}for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(this.clusteredNodes[l]={clusterId:i.id,node:this.body.nodes[l]},this.body.nodes[l].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(t){if(void 0!==t){var e=this.clusteredNodes[t];if(void 0!==e){var i=e.clusterId;if(void 0!==i)return this.body.nodes[i]}}}},{key:"_filter",value:function(t,e){var i=[];return Hm(t,(function(t){e(t)&&i.push(t)})),i}},{key:"_updateState",value:function(){var t,e=this,i=[],o={},n=function(t){Hm(e.body.nodes,(function(e){!0===e.isCluster&&t(e)}))};for(t in this.clusteredNodes){if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,t))void 0===this.body.nodes[t]&&i.push(t)}n((function(t){for(var e=0;e<i.length;e++)delete t.containedNodes[i[e]]}));for(var r=0;r<i.length;r++)delete this.clusteredNodes[i[r]];Hm(this.clusteredEdges,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||(o[t]=t)})),n((function(t){Hm(t.containedEdges,(function(t,e){t.endPointsValid()||o[e]||(o[e]=e)}))})),Hm(this.body.edges,(function(t,i){var n=!0,r=t.clusteringEdgeReplacingIds;if(void 0!==r){var s=0;Hm(r,(function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(s+=1)})),n=s>0}t.endPointsValid()&&n||(o[i]=i)})),n((function(t){Hm(o,(function(i){delete t.containedEdges[i],Hm(t.edges,(function(n,r){n.id!==i?n.clusteringEdgeReplacingIds=e._filter(n.clusteringEdgeReplacingIds,(function(t){return!o[t]})):t.edges[r]=null})),t.edges=e._filter(t.edges,(function(t){return null!==t}))}))})),Hm(o,(function(t){delete e.clusteredEdges[t]})),Hm(o,(function(t){delete e.body.edges[t]})),Hm(zf(this.body.edges),(function(t){var i=e.body.edges[t],o=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(o!==e._isClusteredEdge(i.id))if(o){var n=e._getClusterNodeForNode(i.fromId);void 0!==n&&e._clusterEdges(e.body.nodes[i.fromId],i,n);var r=e._getClusterNodeForNode(i.toId);void 0!==r&&e._clusterEdges(e.body.nodes[i.toId],i,r)}else delete e._clusterEdges[t],e._restoreEdge(i)}));for(var s=!1,a=!0,h=function(){var t=[];n((function(e){var i=zf(e.containedNodes).length,o=!0===e.options.allowSingleNodeCluster;(o&&i<1||!o&&i<2)&&t.push(e.id)}));for(var i=0;i<t.length;++i)e.openCluster(t[i],{},!1);a=t.length>0,s=s||a};a;)h();s&&this._updateState()}},{key:"_isClusteredNode",value:function(t){return void 0!==this.clusteredNodes[t]}},{key:"_isClusteredEdge",value:function(t){return void 0!==this.clusteredEdges[t]}}]),t}();var _O=function(){function t(e,i){var o;vh(this,t),void 0!==window&&(o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===o?function(t){t()}:o,this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},wo(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return wu(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.on("dragStart",(function(){e.dragging=!0})),this.body.emitter.on("dragEnd",(function(){e.dragging=!1})),this.body.emitter.on("zoom",(function(){e.zooming=!0,window.clearTimeout(e.zoomTimeoutId),e.zoomTimeoutId=vg((function(){var t;e.zooming=!1,Wo(t=e._requestRedraw).call(t,e)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){e._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===e.renderingActive&&e._redraw()})),this.body.emitter.on("_blockRedraw",(function(){e.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){e.allowRedraw=!0,e.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",Wo(t=this._requestRedraw).call(t,this)),this.body.emitter.on("_startRendering",(function(){e.renderRequests+=1,e.renderingActive=!0,e._startRendering()})),this.body.emitter.on("_stopRendering",(function(){e.renderRequests-=1,e.renderingActive=e.renderRequests>0,e.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){e.renderRequests=0,e.allowRedraw=!1,e.renderingActive=!1,!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer),e.body.emitter.off()}))}},{key:"setOptions",value:function(t){if(void 0!==t){Nm(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,t)}}},{key:"_requestNextFrame",value:function(t,e){if("undefined"!=typeof window){var i,o=window;return!0===this.requiresTimeout?i=vg(t,e):o.requestAnimationFrame&&(i=o.requestAnimationFrame(t)),i}}},{key:"_startRendering",value:function(){var t;!0===this.renderingActive&&(void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(Wo(t=this._renderStep).call(t,this),this.simulationInterval)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){t._redraw(!1)}),0))}},{key:"_redraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var i=this.canvas.getContext(),o=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;if(i.clearRect(0,0,o,n),0===this.canvas.frame.clientWidth)return;if(i.save(),i.translate(this.body.view.translation.x,this.body.view.translation.y),i.scale(this.body.view.scale,this.body.view.scale),i.beginPath(),this.body.emitter.emit("beforeDrawing",i),i.closePath(),!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(i),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var r=this._drawNodes(i,t).drawExternalLabels;e.drawExternalLabels=r}!1===t&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(i),null!=e.drawExternalLabels&&e.drawExternalLabels(),!1===t&&this._drawSelectionBox(i),i.beginPath(),this.body.emitter.emit("afterDrawing",i),i.closePath(),i.restore(),!0===t&&i.clearRect(0,0,o,n)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var t=this.canvas.getContext();t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e,i=this.body.nodes;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&((e=i[o]).resize(t),e.updateBoundingBox(t,e.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.nodes,r=this.body.nodeIndices,s=[],a=[],h=this.canvas.DOMtoCanvas({x:-20,y:-20}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),l={top:h.y,left:h.x,bottom:d.y,right:d.x},c=[],u=0;u<r.length;u++)if((e=n[r[u]]).hover)a.push(r[u]);else if(e.isSelected())s.push(r[u]);else if(!0===o){var f=e.draw(t);null!=f.drawExternalLabel&&c.push(f.drawExternalLabel)}else if(!0===e.isBoundingBoxOverlappingWith(l)){var p=e.draw(t);null!=p.drawExternalLabel&&c.push(p.drawExternalLabel)}else e.updateBoundingBox(t,e.selected);var v=s.length,g=a.length;for(i=0;i<v;i++){var y=(e=n[s[i]]).draw(t);null!=y.drawExternalLabel&&c.push(y.drawExternalLabel)}for(i=0;i<g;i++){var m=(e=n[a[i]]).draw(t);null!=m.drawExternalLabel&&c.push(m.drawExternalLabel)}return{drawExternalLabels:function(){for(var t=0,e=c;t<e.length;t++){(0,e[t])()}}}}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=0;o<i.length;o++){var n=e[i[o]];!0===n.connected&&n.draw(t)}}},{key:"_drawArrows",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=0;o<i.length;o++){var n=e[i[o]];!0===n.connected&&n.drawArrows(t)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=Vv(t).call(t,"msie 9.0")||-1!=Vv(t).call(t,"safari")&&Vv(t).call(t,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(t){if(this.body.selectionBox.show){t.beginPath();var e=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,i=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;t.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.fillStyle="rgba(151, 194, 252, 0.2)",t.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,e,i),t.strokeStyle="rgba(151, 194, 252, 1)",t.stroke()}else t.closePath()}}]),t}(),xO=o(it.setInterval);function EO(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}function OO(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)}var CO=function(){function t(e){vh(this,t),this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},wo(this.options,this.defaultOptions),this.bindEventListeners()}return wu(t,[{key:"bindEventListeners",value:function(){var t,e=this;this.body.emitter.once("resize",(function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width),0!==t.height&&(e.body.view.translation.y=.5*t.height)})),this.body.emitter.on("setSize",Wo(t=this.setSize).call(t,this)),this.body.emitter.on("destroy",(function(){e.hammerFrame.destroy(),e.hammer.destroy(),e._cleanUp()}))}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){Nm(["width","height","autoResize"],this.options,t)}if(this._cleanUp(),!0===this.options.autoResize){var i;if(window.ResizeObserver){var o=new ResizeObserver((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")})),n=this.frame;o.observe(n),this._cleanupCallbacks.push((function(){o.unobserve(n)}))}else{var r=xO((function(){!0===e.setSize()&&e.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(r)}))}var s=Wo(i=this._onResize).call(i,this);window.addEventListener("resize",s),this._cleanupCallbacks.push((function(){window.removeEventListener("resize",s)}))}}},{key:"_cleanUp",value:function(){var t,e,i;Qf(t=hp(e=Pp(i=this._cleanupCallbacks).call(i,0)).call(e)).call(t,(function(t){try{t()}catch(t){console.error(t)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),n={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=n.x*this.body.view.scale,this.body.view.translation.y+=n.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==Vv(t).call(t,"%")||-1!==Vv(t).call(t,"px"))return t;if(-1===Vv(t).call(t,"%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ub(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ub.DIRECTION_ALL}),EO(this.hammer,(function(e){t.body.eventListeners.onTouch(e)})),this.hammer.on("tap",(function(e){t.body.eventListeners.onTap(e)})),this.hammer.on("doubletap",(function(e){t.body.eventListeners.onDoubleTap(e)})),this.hammer.on("press",(function(e){t.body.eventListeners.onHold(e)})),this.hammer.on("panstart",(function(e){t.body.eventListeners.onDragStart(e)})),this.hammer.on("panmove",(function(e){t.body.eventListeners.onDrag(e)})),this.hammer.on("panend",(function(e){t.body.eventListeners.onDragEnd(e)})),this.hammer.on("pinch",(function(e){t.body.eventListeners.onPinch(e)})),this.frame.canvas.addEventListener("wheel",(function(e){t.body.eventListeners.onMouseWheel(e)})),this.frame.canvas.addEventListener("mousemove",(function(e){t.body.eventListeners.onMouseMove(e)})),this.frame.canvas.addEventListener("contextmenu",(function(e){t.body.eventListeners.onContext(e)})),this.hammerFrame=new ub(this.frame),OO(this.hammerFrame,(function(e){t.body.eventListeners.onRelease(e)}))}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,r=this.pixelRatio;if(this._setPixelRatio(),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e)this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},i=!0;else{var s=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),a=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===s&&this.frame.canvas.height===a||this._getCameraState(r),this.frame.canvas.width!==s&&(this.frame.canvas.width=s,i=!0),this.frame.canvas.height!==a&&(this.frame.canvas.height=a,i=!0)}return!0===i&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||1),e/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var t=this.getContext();if(void 0===t)throw new Error("Could not get canvax context");t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();var SO=function(){function t(e,i){var o,n,r=this;vh(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Wo(o=this.fit).call(o,this)),this.body.emitter.on("animationFinished",(function(){r.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",Wo(n=this.releaseNode).call(n,this))}return wu(t,[{key:"setOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t}},{key:"fit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=function(t,e){var i=wo({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!=t?t:{});if(!Of(i.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===i.nodes.length&&(i.nodes=e),!("number"==typeof i.minZoomLevel&&i.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"==typeof i.maxZoomLevel&&i.minZoomLevel<=i.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return i}(t,this.body.nodeIndices);var i,o,n=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(0===n||0===r)o=1,i=mO.getRange(this.body.nodes,t.nodes);else if(!0===e){var s=0;for(var a in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,a))!0===this.body.nodes[a].predefinedPosition&&(s+=1)}if(s>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=mO.getRange(this.body.nodes,t.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,o*=Math.min(n/600,r/600)}else{this.body.emitter.emit("_resizeNodes"),i=mO.getRange(this.body.nodes,t.nodes);var h=n/(1.1*Math.abs(i.maxX-i.minX)),d=r/(1.1*Math.abs(i.maxY-i.minY));o=h<=d?h:d}o>t.maxZoomLevel?o=t.maxZoomLevel:o<t.minZoomLevel&&(o=t.minZoomLevel);var l={position:mO.findCenter(i),scale:o,animation:t.animation};this.moveTo(l)}},{key:"focus",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.error("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){if(void 0!==t){if(null!=t.offset){if(null!=t.offset.x){if(t.offset.x=+t.offset.x,!Tk(t.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else t.offset.x=0;if(null!=t.offset.y){if(t.offset.y=+t.offset.y,!Tk(t.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else t.offset.x=0}else t.offset={x:0,y:0};if(null!=t.position){if(null!=t.position.x){if(t.position.x=+t.position.x,!Tk(t.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else t.position.x=0;if(null!=t.position.y){if(t.position.y=+t.position.y,!Tk(t.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else t.position.x=0}else t.position=this.getViewPosition();if(null!=t.scale){if(t.scale=+t.scale,!(t.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else t.scale=this.body.view.scale;void 0===t.animation&&(t.animation={duration:0}),!1===t.animation&&(t.animation={duration:0}),!0===t.animation&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),this.animateView(t)}else t={}}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),!0===t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e,i,o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n=o.x-t.position.x,r=o.y-t.position.y;if(this.targetTranslation={x:this.sourceTranslation.x+n*this.targetScale+t.offset.x,y:this.sourceTranslation.y+r*this.targetScale+t.offset.y},0===t.animation.duration)if(null!=this.lockedOnNodeId)this.viewFunction=Wo(e=this._lockedRedraw).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction);else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=Wo(i=this._transitionRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}},{key:"_lockedRedraw",value:function(){var t=this.body.nodes[this.lockedOnNodeId].x,e=this.body.nodes[this.lockedOnNodeId].y,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),o=i.x-t,n=i.y-e,r=this.body.view.translation,s={x:r.x+o*this.body.view.scale+this.lockedOnNodeOffset.x,y:r.y+n*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===t?1:this.easingTime;var e=Jm[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1){var i;if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId)this.viewFunction=Wo(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();function TO(t){var e,i=t&&t.preventDefault||!1,o=t&&t.container||window,n={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},h=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==r[e][t.keyCode]){for(var o=r[e][t.keyCode],n=0;n<o.length;n++)(void 0===o[n].shift||1==o[n].shift&&1==t.shiftKey||0==o[n].shift&&0==t.shiftKey)&&o[n].fn(t);1==i&&t.preventDefault()}};return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},n.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=r[i][s[t].code];if(void 0!==n)for(var a=0;a<n.length;a++)n[a].fn==e&&n[a].shift==s[t].shift||o.push(r[i][s[t].code][a]);r[i][s[t].code]=o}else r[i][s[t].code]=[]},n.reset=function(){r={keydown:{},keyup:{}}},n.destroy=function(){r={keydown:{},keyup:{}},o.removeEventListener("keydown",a,!0),o.removeEventListener("keyup",h,!0)},o.addEventListener("keydown",a,!0),o.addEventListener("keyup",h,!0),n}var MO=function(){function t(e,i){var o=this;vh(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){o.activated=!0,o.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){o.activated=!1,o.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==o.keycharm&&o.keycharm.destroy()})),this.options={}}return wu(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n,r,s=new ub(this.navigationDOM[e[o]]);if("_fit"===i[o])EO(s,Wo(n=this._fit).call(n,this));else EO(s,Wo(r=this.bindToRedraw).call(r,this,i[o]));this.navigationHammers.push(s)}var a=new ub(this.canvas.frame);OO(a,(function(){t._stopMovement()})),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){var e;void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=Wo(e=this[t]).call(e,this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var t=this.body.view.scale,e=this.body.view.scale*(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,o=e/t,n=(1-o)*this.canvas.canvasViewCenter.x+i.x*o,r=(1-o)*this.canvas.canvasViewCenter.y+i.y*o;this.body.view.scale=e,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var t=this.body.view.scale,e=this.body.view.scale/(1+this.options.keyboard.speed.zoom),i=this.body.view.translation,o=e/t,n=(1-o)*this.canvas.canvasViewCenter.x+i.x*o,r=(1-o)*this.canvas.canvasViewCenter.y+i.y*o;this.body.view.scale=e,this.body.view.translation={x:n,y:r},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var t,e,i,o,n,r,s,a,h,d,l,c,u,f,p,v,g,y,m,b,w,k,_,x,E=this;(void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled)&&(!0===this.options.keyboard.bindToWindow?this.keycharm=TO({container:window,preventDefault:!0}):this.keycharm=TO({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(Wo(t=this.keycharm).call(t,"up",(function(){E.bindToRedraw("_moveUp")}),"keydown"),Wo(e=this.keycharm).call(e,"down",(function(){E.bindToRedraw("_moveDown")}),"keydown"),Wo(i=this.keycharm).call(i,"left",(function(){E.bindToRedraw("_moveLeft")}),"keydown"),Wo(o=this.keycharm).call(o,"right",(function(){E.bindToRedraw("_moveRight")}),"keydown"),Wo(n=this.keycharm).call(n,"=",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Wo(r=this.keycharm).call(r,"num+",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Wo(s=this.keycharm).call(s,"num-",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Wo(a=this.keycharm).call(a,"-",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Wo(h=this.keycharm).call(h,"[",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Wo(d=this.keycharm).call(d,"]",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Wo(l=this.keycharm).call(l,"pageup",(function(){E.bindToRedraw("_zoomIn")}),"keydown"),Wo(c=this.keycharm).call(c,"pagedown",(function(){E.bindToRedraw("_zoomOut")}),"keydown"),Wo(u=this.keycharm).call(u,"up",(function(){E.unbindFromRedraw("_moveUp")}),"keyup"),Wo(f=this.keycharm).call(f,"down",(function(){E.unbindFromRedraw("_moveDown")}),"keyup"),Wo(p=this.keycharm).call(p,"left",(function(){E.unbindFromRedraw("_moveLeft")}),"keyup"),Wo(v=this.keycharm).call(v,"right",(function(){E.unbindFromRedraw("_moveRight")}),"keyup"),Wo(g=this.keycharm).call(g,"=",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Wo(y=this.keycharm).call(y,"num+",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Wo(m=this.keycharm).call(m,"num-",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup"),Wo(b=this.keycharm).call(b,"-",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup"),Wo(w=this.keycharm).call(w,"[",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup"),Wo(k=this.keycharm).call(k,"]",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Wo(_=this.keycharm).call(_,"pageup",(function(){E.unbindFromRedraw("_zoomIn")}),"keyup"),Wo(x=this.keycharm).call(x,"pagedown",(function(){E.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),t}();function PO(t,e){var i=void 0!==cf&&ph(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return DO(t,e);var o=mf(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Xa(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return DO(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function DO(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var IO=function(){function t(e,i,o){var n,r,s,a,h,d,l,c,u,f,p,v,g;vh(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new MO(e,i),this.body.eventListeners.onTap=Wo(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=Wo(r=this.onTouch).call(r,this),this.body.eventListeners.onDoubleTap=Wo(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=Wo(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=Wo(h=this.onDragStart).call(h,this),this.body.eventListeners.onDrag=Wo(d=this.onDrag).call(d,this),this.body.eventListeners.onDragEnd=Wo(l=this.onDragEnd).call(l,this),this.body.eventListeners.onMouseWheel=Wo(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=Wo(u=this.onPinch).call(u,this),this.body.eventListeners.onMouseMove=Wo(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=Wo(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=Wo(v=this.onContext).call(v,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Wo(g=this.getPointer).call(g,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},wo(this.options,this.defaultOptions),this.bindEventListeners()}return wu(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",(function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer}))}},{key:"setOptions",value:function(t){if(void 0!==t){Am(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,t),Qm(this.options,t,"keyboard"),t.tooltip&&(wo(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=Um(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-(e=this.canvas.frame.canvas,e.getBoundingClientRect().left),y:t.y-Lm(this.canvas.frame.canvas)};var e}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,i),this.selectionHandler.commitAndEmit(e,t),this.selectionHandler.generateClickEvent("click",t,e),this.selectionHandler.generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler.generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler.generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t)}},{key:"_determineDifference",value:function(t,e){var i=function(t,e){for(var i=[],o=0;o<t.length;o++){var n=t[o];-1===Vv(e).call(e,n)&&i.push(n)}return i};return{nodes:i(t.nodes,e.nodes),edges:i(t.edges,e.edges)}}},{key:"onDragStart",value:function(t){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=wo({},this.body.view.translation),this.drag.nodeId=void 0,t.srcEvent.shiftKey){this.body.selectionBox.show=!0;var i=this.getPointer(t.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)}}else if(void 0!==e&&!0===this.options.dragNodes){this.drag.nodeId=e.id,!1===e.isSelected()&&this.selectionHandler.setSelection({nodes:[e.id]}),this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer);var o,n=PO(this.selectionHandler.getSelectedNodes());try{for(n.s();!(o=n.n()).done;){var r=o.value,s={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(s)}}catch(t){n.e(t)}finally{n.f()}}else this.selectionHandler.generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(t){var e=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),o=this.drag.selection;if(o&&o.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",t,i);var n=i.x-this.drag.pointer.x,r=i.y-this.drag.pointer.y;Qf(o).call(o,(function(t){var i=t.node;!1===t.xFixed&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+n)),!1===t.yFixed&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+r))})),this.body.emitter.emit("startSimulation")}else{if(t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(i.x),y:this.canvas._YconvertDOMtoCanvas(i.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!t.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var s=i.x-this.drag.pointer.x,a=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+s,y:this.drag.translation.y+a},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(t){var e=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var i;this.body.selectionBox.show=!1;var o=this.body.selectionBox.position,n={minX:Math.min(o.start.x,o.end.x),minY:Math.min(o.start.y,o.end.y),maxX:Math.max(o.start.x,o.end.x),maxY:Math.max(o.start.y,o.end.y)},r=lv(i=this.body.nodeIndices).call(i,(function(t){var i=e.body.nodes[t];return i.x>=n.minX&&i.x<=n.maxX&&i.y>=n.minY&&i.y<=n.maxY}));Qf(r).call(r,(function(t){return e.selectionHandler.selectObject(e.body.nodes[t])}));var s=this.getPointer(t.center);this.selectionHandler.commitAndEmit(s,t),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var a=this.drag.selection;a&&a.length?(Qf(a).call(a,(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(!0===this.options.zoomView){var i=this.body.view.scale;t<1e-5&&(t=1e-5),t>10&&(t=10);var o=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var n=this.body.view.translation,r=t/i,s=(1-r)*e.x+n.x*r,a=(1-r)*e.y+n.y*r;if(this.body.view.scale=t,this.body.view.translation={x:s,y:a},null!=o){var h=this.canvas.canvasToDOM(o);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),i<t?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:e}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:e})}}},{key:"onMouseWheel",value:function(t){if(!0===this.options.zoomView){if(0!==t.deltaY){var e=this.body.view.scale;e*=1+(t.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var i=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(e,i)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),o=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(i),!1===this.popup.hidden&&(o=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===o&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=vg((function(){return e._checkShowPopup(i)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(t,i)}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},n=void 0===this.popupObj?void 0:this.popupObj.id,r=!1,s="node";if(void 0===this.popupObj){for(var a,h=this.body.nodeIndices,d=this.body.nodes,l=[],c=0;c<h.length;c++)!0===(a=d[h[c]]).isOverlappingWith(o)&&(r=!0,void 0!==a.getTitle()&&l.push(h[c]));l.length>0&&(this.popupObj=d[l[l.length-1]],r=!0)}if(void 0===this.popupObj&&!1===r){for(var u,f=this.body.edgeIndices,p=this.body.edges,v=[],g=0;g<f.length;g++)!0===(u=p[f[g]]).isOverlappingWith(o)&&!0===u.connected&&void 0!==u.getTitle()&&v.push(f[g]);v.length>0&&(this.popupObj=p[v[v.length-1]],s="edge")}void 0!==this.popupObj?this.popupObj.id!==n&&(void 0===this.popup&&(this.popup=new fb(this.canvas.frame)),this.popup.popupTargetType=s,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e))){var o=this.selectionHandler.getNodeAt(t);i=void 0!==o&&o.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));!1===i&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();ek("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),_k);var BO=o(it.Set),FO=y,zO=ok,NO=kw.getWeakData,AO=Rw,RO=oi,jO=Y,LO=et,HO=zw,WO=Jt,VO=Hn.set,qO=Hn.getterFor,UO=zd.find,YO=zd.findIndex,XO=FO([].splice),KO=0,GO=function(t){return t.frozen||(t.frozen=new $O)},$O=function(){this.entries=[]},ZO=function(t,e){return UO(t.entries,(function(t){return t[0]===e}))};$O.prototype={get:function(t){var e=ZO(this,t);if(e)return e[1]},has:function(t){return!!ZO(this,t)},set:function(t,e){var i=ZO(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=YO(this.entries,(function(e){return e[0]===t}));return~e&&XO(this.entries,e,1),!!~e}};var QO,JO={getConstructor:function(t,e,i,o){var n=t((function(t,n){AO(t,r),VO(t,{type:e,id:KO++,frozen:void 0}),jO(n)||HO(n,t[o],{that:t,AS_ENTRIES:i})})),r=n.prototype,s=qO(e),a=function(t,e,i){var o=s(t),n=NO(RO(e),!0);return!0===n?GO(o).set(e,i):n[o.id]=i,t};return zO(r,{delete:function(t){var e=s(this);if(!LO(t))return!1;var i=NO(t);return!0===i?GO(e).delete(t):i&&WO(i,e.id)&&delete i[e.id]},has:function(t){var e=s(this);if(!LO(t))return!1;var i=NO(t);return!0===i?GO(e).has(t):i&&WO(i,e.id)}}),zO(r,i?{get:function(t){var e=s(this);if(LO(t)){var i=NO(t);return!0===i?GO(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),n}},tC=rw,eC=r,iC=y,oC=ok,nC=kw,rC=ek,sC=JO,aC=et,hC=Hn.enforce,dC=s,lC=En,cC=Object,uC=Array.isArray,fC=cC.isExtensible,pC=cC.isFrozen,vC=cC.isSealed,gC=cC.freeze,yC=cC.seal,mC={},bC={},wC=!eC.ActiveXObject&&"ActiveXObject"in eC,kC=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},_C=rC("WeakMap",kC,sC),xC=_C.prototype,EC=iC(xC.set);if(lC)if(wC){QO=sC.getConstructor(kC,"WeakMap",!0),nC.enable();var OC=iC(xC.delete),CC=iC(xC.has),SC=iC(xC.get);oC(xC,{delete:function(t){if(aC(t)&&!fC(t)){var e=hC(this);return e.frozen||(e.frozen=new QO),OC(this,t)||e.frozen.delete(t)}return OC(this,t)},has:function(t){if(aC(t)&&!fC(t)){var e=hC(this);return e.frozen||(e.frozen=new QO),CC(this,t)||e.frozen.has(t)}return CC(this,t)},get:function(t){if(aC(t)&&!fC(t)){var e=hC(this);return e.frozen||(e.frozen=new QO),CC(this,t)?SC(this,t):e.frozen.get(t)}return SC(this,t)},set:function(t,e){if(aC(t)&&!fC(t)){var i=hC(this);i.frozen||(i.frozen=new QO),CC(this,t)?EC(this,t,e):i.frozen.set(t,e)}else EC(this,t,e);return this}})}else tC&&dC((function(){var t=gC([]);return EC(new _C,t,1),!pC(t)}))&&oC(xC,{set:function(t,e){var i;return uC(t)&&(pC(t)?i=mC:vC(t)&&(i=bC)),EC(this,t,e),i===mC&&gC(t),i===bC&&yC(t),this}});var TC,MC,PC,DC,IC,BC=o(it.WeakMap);function FC(t,e,i,o){if("a"===i&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?o:"a"===i?o.call(t):o?o.value:e.get(t)}function zC(t,e,i,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(t,i):n?n.value=i:e.set(t,i),i}function NC(t,e){var i=void 0!==cf&&ph(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return AC(t,e);var o=mf(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Xa(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return AC(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function AC(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function RC(t,e){var i,o=new BO,n=NC(e);try{for(n.s();!(i=n.n()).done;){var r=i.value;t.has(r)||o.add(r)}}catch(t){n.e(t)}finally{n.f()}return o}"function"==typeof SuppressedError&&SuppressedError;var jC=function(){function t(){vh(this,t),TC.set(this,new BO),MC.set(this,new BO)}return wu(t,[{key:"size",get:function(){return FC(this,MC,"f").size}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var o=0,n=e;o<n.length;o++){var r=n[o];FC(this,MC,"f").add(r)}}},{key:"delete",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var o=0,n=e;o<n.length;o++){var r=n[o];FC(this,MC,"f").delete(r)}}},{key:"clear",value:function(){FC(this,MC,"f").clear()}},{key:"getSelection",value:function(){return lf(FC(this,MC,"f"))}},{key:"getChanges",value:function(){return{added:lf(RC(FC(this,TC,"f"),FC(this,MC,"f"))),deleted:lf(RC(FC(this,MC,"f"),FC(this,TC,"f"))),previous:lf(new BO(FC(this,TC,"f"))),current:lf(new BO(FC(this,MC,"f")))}}},{key:"commit",value:function(){var t=this.getChanges();zC(this,TC,FC(this,MC,"f"),"f"),zC(this,MC,new BO(FC(this,TC,"f")),"f");var e,i=NC(t.added);try{for(i.s();!(e=i.n()).done;){e.value.select()}}catch(t){i.e(t)}finally{i.f()}var o,n=NC(t.deleted);try{for(n.s();!(o=n.n()).done;){o.value.unselect()}}catch(t){n.e(t)}finally{n.f()}return t}}]),t}();TC=new BC,MC=new BC;var LC=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};vh(this,t),PC.set(this,new jC),DC.set(this,new jC),IC.set(this,void 0),zC(this,IC,e,"f")}return wu(t,[{key:"sizeNodes",get:function(){return FC(this,PC,"f").size}},{key:"sizeEdges",get:function(){return FC(this,DC,"f").size}},{key:"getNodes",value:function(){return FC(this,PC,"f").getSelection()}},{key:"getEdges",value:function(){return FC(this,DC,"f").getSelection()}},{key:"addNodes",value:function(){var t;(t=FC(this,PC,"f")).add.apply(t,arguments)}},{key:"addEdges",value:function(){var t;(t=FC(this,DC,"f")).add.apply(t,arguments)}},{key:"deleteNodes",value:function(t){FC(this,PC,"f").delete(t)}},{key:"deleteEdges",value:function(t){FC(this,DC,"f").delete(t)}},{key:"clear",value:function(){FC(this,PC,"f").clear(),FC(this,DC,"f").clear()}},{key:"commit",value:function(){for(var t,e,i={nodes:FC(this,PC,"f").commit(),edges:FC(this,DC,"f").commit()},o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=FC(this,IC,"f")).call.apply(t,yf(e=[this,i]).call(e,n)),i}}]),t}();function HC(t,e){var i=void 0!==cf&&ph(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return WC(t,e);var o=mf(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Xa(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return WC(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function WC(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}PC=new BC,DC=new BC,IC=new BC;var VC=function(){function t(e,i){var o=this;vh(this,t),this.body=e,this.canvas=i,this._selectionAccumulator=new LC,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},wo(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){o.updateSelection()}))}return wu(t,[{key:"setOptions",value:function(t){if(void 0!==t){Nm(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(!0===this.options.selectable){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,!0===i.isSelected()?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_initBaseEvent",value:function(t,e){var i={};return i.pointer={DOM:{x:e.x,y:e.y},canvas:this.canvas.DOMtoCanvas(e)},i.event=t,i}},{key:"generateClickEvent",value:function(t,e,i,o){var n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this._initBaseEvent(e,i);if(!0===n)r.nodes=[],r.edges=[];else{var s=this.getSelection();r.nodes=s.nodes,r.edges=s.edges}void 0!==o&&(r.previousSelection=o),"click"==t&&(r.items=this.getClickedItems(i)),void 0!==e.controlEdge&&(r.controlEdge=e.controlEdge),this.body.emitter.emit(t,r)}},{key:"selectObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;if(void 0!==t){if(t instanceof iE){var i;if(!0===e)(i=this._selectionAccumulator).addEdges.apply(i,lf(t.edges));this._selectionAccumulator.addNodes(t)}else this._selectionAccumulator.addEdges(t);return!0}return!1}},{key:"deselectObject",value:function(t){!0===t.isSelected()&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(i);return o.length>0?!0===e?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.canvas.DOMtoCanvas(t),o=10,n=null,r=this.body.edges,s=0;s<this.body.edgeIndices.length;s++){var a=this.body.edgeIndices[s],h=r[a];if(h.connected){var d=h.from.x,l=h.from.y,c=h.to.x,u=h.to.y,f=h.edgeType.getDistanceToEdge(d,l,c,u,i.x,i.y);f<o&&(n=a,o=f)}}return null!==n?!0===e?this.body.edges[n]:n:void 0}},{key:"_addToHover",value:function(t){t instanceof iE?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){var e;t instanceof iE?(this._selectionAccumulator.deleteNodes(t),(e=this._selectionAccumulator).deleteEdges.apply(e,lf(t.edges))):this._selectionAccumulator.deleteEdges(t)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"emitBlurEvent",value:function(t,e,i){var o=this._initBaseEvent(t,e);!0===i.hover&&(i.hover=!1,i instanceof iE?(o.node=i.id,this.body.emitter.emit("blurNode",o)):(o.edge=i.id,this.body.emitter.emit("blurEdge",o)))}},{key:"emitHoverEvent",value:function(t,e,i){var o=this._initBaseEvent(t,e),n=!1;return!1===i.hover&&(i.hover=!0,this._addToHover(i),n=!0,i instanceof iE?(o.node=i.id,this.body.emitter.emit("hoverNode",o)):(o.edge=i.id,this.body.emitter.emit("hoverEdge",o))),n}},{key:"hoverObject",value:function(t,e){var i=this.getNodeAt(e);void 0===i&&(i=this.getEdgeAt(e));var o=!1;for(var n in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,n)&&(void 0===i||i instanceof iE&&i.id!=n||i instanceof JE)&&(this.emitBlurEvent(t,e,this.hoverObj.nodes[n]),delete this.hoverObj.nodes[n],o=!0);for(var r in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,r)&&(!0===o?(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]):(void 0===i||i instanceof JE&&i.id!=r||i instanceof iE&&!i.hover)&&(this.emitBlurEvent(t,e,this.hoverObj.edges[r]),delete this.hoverObj.edges[r],o=!0));if(void 0!==i){var s=zf(this.hoverObj.edges).length,a=zf(this.hoverObj.nodes).length;(o||i instanceof JE&&0===s&&0===a||i instanceof iE&&0===s&&0===a)&&(o=this.emitHoverEvent(t,e,i)),i instanceof iE&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(i)}!0===o&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(t,e){var i=!1,o=this._selectionAccumulator.commit(),n={nodes:o.nodes.previous,edges:o.edges.previous};o.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",e,t,n),i=!0),o.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",e,t,n),i=!0),o.nodes.added.length>0&&(this.generateClickEvent("selectNode",e,t),i=!0),o.edges.added.length>0&&(this.generateClickEvent("selectEdge",e,t),i=!0),!0===i&&this.generateClickEvent("select",e,t)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var t;return If(t=this._selectionAccumulator.getNodes()).call(t,(function(t){return t.id}))}},{key:"getSelectedEdgeIds",value:function(){var t;return If(t=this._selectionAccumulator.getEdges()).call(t,(function(t){return t.id}))}},{key:"setSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!t.nodes&&!t.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes){var i,o=HC(t.nodes);try{for(o.s();!(i=o.n()).done;){var n=i.value,r=this.body.nodes[n];if(!r)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(r,e.highlightEdges)}}catch(t){o.e(t)}finally{o.f()}}if(t.edges){var s,a=HC(t.edges);try{for(a.s();!(s=a.n()).done;){var h=s.value,d=this.body.edges[h];if(!d)throw new RangeError('Edge with id "'+h+'" not found');this.selectObject(d)}}catch(t){a.e(t)}finally{a.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,t.id)||this._selectionAccumulator.deleteNodes(t);for(var e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}},{key:"getClickedItems",value:function(t){for(var e=this.canvas.DOMtoCanvas(t),i=[],o=this.body.nodeIndices,n=this.body.nodes,r=o.length-1;r>=0;r--){var s=n[o[r]].getItemsOnPoint(e);i.push.apply(i,s)}for(var a=this.body.edgeIndices,h=this.body.edges,d=a.length-1;d>=0;d--){var l=h[a[d]].getItemsOnPoint(e);i.push.apply(i,l)}return i}}]),t}(),qC=hd,UC=Math.floor,YC=function(t,e){var i=t.length,o=UC(i/2);return i<8?XC(t,e):KC(t,YC(qC(t,0,o),e),YC(qC(t,o),e),e)},XC=function(t,e){for(var i,o,n=t.length,r=1;r<n;){for(o=r,i=t[r];o&&e(t[o-1],i)>0;)t[o]=t[--o];o!==r++&&(t[o]=i)}return t},KC=function(t,e,i,o){for(var n=e.length,r=i.length,s=0,a=0;s<n||a<r;)t[s+a]=s<n&&a<r?o(e[s],i[a])<=0?e[s++]:i[a++]:s<n?e[s++]:i[a++];return t},GC=YC,$C=dt.match(/firefox\/(\d+)/i),ZC=!!$C&&+$C[1],QC=/MSIE|Trident/.test(dt),JC=dt.match(/AppleWebKit\/(\d+)\./),tS=!!JC&&+JC[1],eS=Mi,iS=y,oS=It,nS=$t,rS=Hi,sS=cp,aS=un,hS=s,dS=GC,lS=Hf,cS=ZC,uS=QC,fS=gt,pS=tS,vS=[],gS=iS(vS.sort),yS=iS(vS.push),mS=hS((function(){vS.sort(void 0)})),bS=hS((function(){vS.sort(null)})),wS=lS("sort"),kS=!hS((function(){if(fS)return fS<70;if(!(cS&&cS>3)){if(uS)return!0;if(pS)return pS<603;var t,e,i,o,n="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(o=0;o<47;o++)vS.push({k:e+o,v:i})}for(vS.sort((function(t,e){return e.v-t.v})),o=0;o<vS.length;o++)e=vS[o].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}}));eS({target:"Array",proto:!0,forced:mS||!bS||!wS||!kS},{sort:function(t){void 0!==t&&oS(t);var e=nS(this);if(kS)return void 0===t?gS(e):gS(e,t);var i,o,n=[],r=rS(e);for(o=0;o<r;o++)o in e&&yS(n,e[o]);for(dS(n,function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:aS(e)>aS(i)?1:-1}}(t)),i=rS(n),o=0;o<i;)e[o]=n[o++];for(;o<r;)sS(e,o++);return e}});var _S=zo("Array").sort,xS=ht,ES=_S,OS=Array.prototype,CS=function(t){var e=t.sort;return t===OS||xS(OS,t)&&e===OS.sort?ES:e},SS=o(CS),TS=It,MS=$t,PS=U,DS=Hi,IS=TypeError,BS=function(t){return function(e,i,o,n){TS(i);var r=MS(e),s=PS(r),a=DS(r),h=t?a-1:0,d=t?-1:1;if(o<2)for(;;){if(h in s){n=s[h],h+=d;break}if(h+=d,t?h<0:a<=h)throw new IS("Reduce of empty array with no initial value")}for(;t?h>=0:a>h;h+=d)h in s&&(n=i(n,s[h],h,r));return n}},FS={left:BS(!1),right:BS(!0)},zS="process"===k(r.process),NS=FS.left;Mi({target:"Array",proto:!0,forced:!zS&&gt>79&&gt<83||!Hf("reduce")},{reduce:function(t){var e=arguments.length;return NS(this,t,e,e>1?arguments[1]:void 0)}});var AS=zo("Array").reduce,RS=ht,jS=AS,LS=Array.prototype,HS=function(t){var e=t.reduce;return t===LS||RS(LS,t)&&e===LS.reduce?jS:e},WS=o(HS);function VS(t){var e=function(){if("undefined"==typeof Reflect||!sx)return!1;if(sx.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(sx(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=px(t);if(e){var n=px(this).constructor;i=sx(o,arguments,n)}else i=o.apply(this,arguments);return ux(this,i)}}var qS=function(){function t(){vh(this,t)}return wu(t,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(t){return this.fake_use(t),this.abstract()}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(t,e,i),this.abstract()}},{key:"getTreeSize",value:function(t){return this.fake_use(t),this.abstract()}},{key:"sort",value:function(t){this.fake_use(t),this.abstract()}},{key:"fix",value:function(t,e){this.fake_use(t,e),this.abstract()}},{key:"shift",value:function(t,e){this.fake_use(t,e),this.abstract()}}]),t}(),US=function(t){cx(i,t);var e=VS(i);function i(t){var o;return vh(this,i),(o=e.call(this)).layout=t,o}return wu(i,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(t){return t.x}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.x=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_x,max:e.max_x}}},{key:"sort",value:function(t){SS(t).call(t,(function(t,e){return t.x-e.x}))}},{key:"fix",value:function(t,e){t.y=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.y=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].x+=e}}]),i}(qS),YS=function(t){cx(i,t);var e=VS(i);function i(t){var o;return vh(this,i),(o=e.call(this)).layout=t,o}return wu(i,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(t){return t.y}},{key:"setPosition",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==i&&this.layout.hierarchical.addToOrdering(t,i),t.y=e}},{key:"getTreeSize",value:function(t){var e=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,t);return{min:e.min_y,max:e.max_y}}},{key:"sort",value:function(t){SS(t).call(t,(function(t,e){return t.y-e.y}))}},{key:"fix",value:function(t,e){t.x=this.layout.options.hierarchical.levelSeparation*e,t.options.fixed.x=!0}},{key:"shift",value:function(t,e){this.layout.body.nodes[t].y+=e}}]),i}(qS),XS=zd.every;Mi({target:"Array",proto:!0,forced:!Hf("every")},{every:function(t){return XS(this,t,arguments.length>1?arguments[1]:void 0)}});var KS=zo("Array").every,GS=ht,$S=KS,ZS=Array.prototype,QS=function(t){var e=t.every;return t===ZS||GS(ZS,t)&&e===ZS.every?$S:e},JS=o(QS);function tT(t,e){var i=void 0!==cf&&ph(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return eT(t,e);var o=mf(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Xa(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return eT(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function eT(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function iT(t,e){var i=new BO;return Qf(t).call(t,(function(t){var e;Qf(e=t.edges).call(e,(function(t){t.connected&&i.add(t)}))})),Qf(i).call(i,(function(t){var i=t.from.id,o=t.to.id;null==e[i]&&(e[i]=0),(null==e[o]||e[i]>=e[o])&&(e[o]=e[i]+1)})),e}function oT(t,e,i,o){var n,r,s=Yv(null),a=WS(n=lf(N_(o).call(o))).call(n,(function(t,e){return t+1+e.edges.length}),0),h=i+"Id",d="to"===i?1:-1,l=tT(o);try{var c,u=function(){var n=df(r.value,2),l=n[0],c=n[1];if(!o.has(l)||!t(c))return 0;s[l]=0;for(var u,f,p=[c],v=0,g=function(){var t,n;if(!o.has(l))return 0;var r=s[u.id]+d;if(Qf(t=lv(n=u.edges).call(n,(function(t){return t.connected&&t.to!==t.from&&t[i]!==u&&o.has(t.toId)&&o.has(t.fromId)}))).call(t,(function(t){var o=t[h],n=s[o];(null==n||e(r,n))&&(s[o]=r,p.push(t[i]))})),v>a)return{v:{v:iT(o,s)}};++v};u=p.pop();)if(0!==(f=g())&&f)return f.v};for(l.s();!(r=l.n()).done;)if(0!==(c=u())&&c)return c.v}catch(t){l.e(t)}finally{l.f()}return s}var nT=function(){function t(){vh(this,t),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return wu(t,[{key:"addRelation",value:function(t,e){void 0===this.childrenReference[t]&&(this.childrenReference[t]=[]),this.childrenReference[t].push(e),void 0===this.parentReference[e]&&(this.parentReference[e]=[]),this.parentReference[e].push(t)}},{key:"checkIfTree",value:function(){for(var t in this.parentReference)if(this.parentReference[t].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(t,e){void 0!==e&&void 0===this.trees[t.id]&&(this.trees[t.id]=e,this.treeIndex=Math.max(e,this.treeIndex))}},{key:"ensureLevel",value:function(t){void 0===this.levels[t]&&(this.levels[t]=0)}},{key:"getMaxLevel",value:function(t){var e=this,i={};return function t(o){if(void 0!==i[o])return i[o];var n=e.levels[o];if(e.childrenReference[o]){var r=e.childrenReference[o];if(r.length>0)for(var s=0;s<r.length;s++)n=Math.max(n,t(r[s]))}return i[o]=n,n}(t)}},{key:"levelDownstream",value:function(t,e){void 0===this.levels[e.id]&&(void 0===this.levels[t.id]&&(this.levels[t.id]=0),this.levels[e.id]=this.levels[t.id]+1)}},{key:"setMinLevelToZero",value:function(t){var e=1e9;for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&void 0!==this.levels[i]&&(e=Math.min(this.levels[i],e));for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&void 0!==this.levels[o]&&(this.levels[o]-=e)}},{key:"getTreeSize",value:function(t,e){var i=1e9,o=-1e9,n=1e9,r=-1e9;for(var s in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,s)&&this.trees[s]===e){var a=t[s];i=Math.min(a.x,i),o=Math.max(a.x,o),n=Math.min(a.y,n),r=Math.max(a.y,r)}return{min_x:i,max_x:o,min_y:n,max_y:r}}},{key:"hasSameParent",value:function(t,e){var i=this.parentReference[t.id],o=this.parentReference[e.id];if(void 0===i||void 0===o)return!1;for(var n=0;n<i.length;n++)for(var r=0;r<o.length;r++)if(i[n]==o[r])return!0;return!1}},{key:"inSameSubNetwork",value:function(t,e){return this.trees[t.id]===this.trees[e.id]}},{key:"getLevels",value:function(){return zf(this.distributionOrdering)}},{key:"addToOrdering",value:function(t,e){void 0===this.distributionOrdering[e]&&(this.distributionOrdering[e]=[]);var i=!1,o=this.distributionOrdering[e];for(var n in o)if(o[n]===t){i=!0;break}i||(this.distributionOrdering[e].push(t),this.distributionIndex[t.id]=this.distributionOrdering[e].length-1)}}]),t}(),rT=function(){function t(e){vh(this,t),this.body=e,this._resetRNG(Math.random()+":"+jf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},wo(this.options,this.defaultOptions),this.bindEventListeners()}return wu(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){t.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){t.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===t.options.hierarchical.enabled){var e=t.direction.curveType();t.body.emitter.emit("_forceDisableDynamicCurves",e,!1)}}))}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical,o=i.enabled;if(Nm(["randomSeed","improvedLayout","clusterThreshold"],this.options,t),Qm(this.options,t,"hierarchical"),void 0!==t.randomSeed&&this._resetRNG(t.randomSeed),!0===i.enabled)return!0===o&&this.body.emitter.emit("refresh",!0),"RL"===i.direction||"DU"===i.direction?i.levelSeparation>0&&(i.levelSeparation*=-1):i.levelSeparation<0&&(i.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(!0===o)return this.body.emitter.emit("refresh"),Rm(e,this.optionsBackup)}return e}},{key:"_resetRNG",value:function(t){this.initialRandomSeed=t,this._rng=Em(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(!0===this.options.hierarchical.enabled){var e=this.optionsBackup.physics;void 0===t.physics||!0===t.physics?(t.physics={enabled:void 0===e.enabled||e.enabled,solver:"hierarchicalRepulsion"},e.enabled=void 0===e.enabled||e.enabled,e.solver=e.solver||"barnesHut"):"object"===gu(t.physics)?(e.enabled=void 0===t.physics.enabled||t.physics.enabled,e.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):!1!==t.physics&&(e.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var i=this.direction.curveType();if(void 0===t.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1};else if(void 0===t.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1;else if("boolean"==typeof t.edges.smooth)this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:i};else{var o=t.edges.smooth;void 0!==o.type&&"dynamic"!==o.type&&(i=o.type),this.optionsBackup.edges={smooth:{enabled:void 0===o.enabled||o.enabled,type:void 0===o.type?"dynamic":o.type,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection}},t.edges.smooth={enabled:void 0===o.enabled||o.enabled,type:i,roundness:void 0===o.roundness?.5:o.roundness,forceDirection:void 0!==o.forceDirection&&o.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",i)}return t}},{key:"positionInitially",value:function(t){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var e=t.length+50,i=0;i<t.length;i++){var o=t[i],n=2*Math.PI*this._rng();void 0===o.x&&(o.x=e*Math.cos(n)),void 0===o.y&&(o.y=e*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var t=this.body.nodeIndices,e=0,i=0;i<t.length;i++){!0===this.body.nodes[t[i]].predefinedPosition&&(e+=1)}if(e<.5*t.length){var o=0,n=this.options.clusterThreshold,r={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(t.length>n){for(var s=t.length;t.length>n&&o<=10;){o+=1;var a=t.length;if(o%3==0?this.body.modules.clustering.clusterBridges(r):this.body.modules.clustering.clusterOutliers(r),a==t.length&&o%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*s)})}o>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(t,this.body.edgeIndices,!0),this._shiftToCenter();for(var h=0;h<t.length;h++){var d=this.body.nodes[t[h]];!1===d.predefinedPosition&&(d.x+=70*(.5-this._rng()),d.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=mO.getRangeCore(this.body.nodes,this.body.nodeIndices),e=mO.findCenter(t),i=0;i<this.body.nodeIndices.length;i++){var o=this.body.nodes[this.body.nodeIndices[i]];o.x-=e.x,o.y-=e.y}}},{key:"_declusterAll",value:function(){for(var t=!0;!0===t;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)!0===this.body.nodes[this.body.nodeIndices[e]].isCluster&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));!0===t&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var t,e,i=!1,o=!1;for(e in this.lastNodeOnLevel={},this.hierarchical=new nT,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&(void 0!==(t=this.body.nodes[e]).options.level?(i=!0,this.hierarchical.levels[e]=t.options.level):o=!0);if(!0===o&&!0===i)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===o){var n=this.options.hierarchical.sortMethod;"hubsize"===n?this._determineLevelsByHubsize():"directed"===n?this._determineLevelsDirected():"custom"===n&&this._determineLevelsCustomCallback()}for(var r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.hierarchical.ensureLevel(r);var s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},o=function(e,i){var o=t.hierarchical.trees;for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&o[n]===e&&t.direction.shift(n,i)},n=function(){for(var e=[],i=0;i<t.hierarchical.numTrees();i++)e.push(t.direction.getTreeSize(i));return e},r=function e(i,o){if(!o[i.id]&&(o[i.id]=!0,t.hierarchical.childrenReference[i.id])){var n=t.hierarchical.childrenReference[i.id];if(n.length>0)for(var r=0;r<n.length;r++)e(t.body.nodes[n[r]],o)}},s=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,o=1e9,n=1e9,r=1e9,s=-1e9;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var h=t.body.nodes[a],d=t.hierarchical.levels[h.id],l=t.direction.getPosition(h),c=df(t._getSpaceAroundNode(h,e),2),u=c[0],f=c[1];o=Math.min(u,o),n=Math.min(f,n),d<=i&&(r=Math.min(l,r),s=Math.max(l,s))}return[r,s,o,n]},a=function(e,i,o){for(var n=t.hierarchical,r=0;r<i.length;r++){var s=i[r],a=n.distributionOrdering[s];if(a.length>1)for(var h=0;h<a.length-1;h++){var d=a[h],l=a[h+1];n.hasSameParent(d,l)&&n.inSameSubNetwork(d,l)&&e(d,l,o)}}},h=function(i,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.direction.getPosition(i),h=t.direction.getPosition(o),d=Math.abs(h-a),l=t.options.hierarchical.nodeSpacing;if(d>l){var c={},u={};r(i,c),r(o,u);var f=function(e,i){var o=t.hierarchical.getMaxLevel(e.id),n=t.hierarchical.getMaxLevel(i.id);return Math.min(o,n)}(i,o),p=s(c,f),v=s(u,f),g=p[1],y=v[0],m=v[2];if(Math.abs(g-y)>l){var b=g-y+l;b<-m+l&&(b=-m+l),b<0&&(t._shiftBlock(o.id,b),e=!0,!0===n&&t._centerParent(o))}}},d=function(o,n){for(var a=n.id,h=n.edges,d=t.hierarchical.levels[n.id],l=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,c={},u=[],f=0;f<h.length;f++){var p=h[f];if(p.toId!=p.fromId){var v=p.toId==a?p.from:p.to;c[h[f].id]=v,t.hierarchical.levels[v.id]<d&&u.push(p)}}var g=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==c[i[n].id]){var r=t.direction.getPosition(c[i[n].id])-e;o+=r/Math.sqrt(r*r+l)}return o},y=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==c[i[n].id]){var r=t.direction.getPosition(c[i[n].id])-e;o-=l*Math.pow(r*r+l,-1.5)}return o},m=function(e,i){for(var o=t.direction.getPosition(n),r={},s=0;s<e;s++){var a=g(o,i),h=y(o,i);if(void 0!==r[o-=Math.max(-40,Math.min(40,Math.round(a/h)))])break;r[o]=s}return o},b=m(o,u);!function(o){var a=t.direction.getPosition(n);if(void 0===i[n.id]){var h={};r(n,h),i[n.id]=h}var d=s(i[n.id]),l=d[2],c=d[3],u=o-a,f=0;u>0?f=Math.min(u,c-t.options.hierarchical.nodeSpacing):u<0&&(f=-Math.min(-u,l-t.options.hierarchical.nodeSpacing)),0!=f&&(t._shiftBlock(n.id,f),e=!0)}(b),function(i){var o=t.direction.getPosition(n),r=df(t._getSpaceAroundNode(n),2),s=r[0],a=r[1],h=i-o,d=o;h>0?d=Math.min(o+(a-t.options.hierarchical.nodeSpacing),i):h<0&&(d=Math.max(o-(s-t.options.hierarchical.nodeSpacing),i)),d!==o&&(t.direction.setPosition(n,d),e=!0)}(b=m(o,h))};!0===this.options.hierarchical.blockShifting&&(function(i){var o=t.hierarchical.getLevels();o=hp(o).call(o);for(var n=0;n<i&&(e=!1,a(h,o,!0),!0===e);n++);}(5),function(){for(var e in t.body.nodes)Object.prototype.hasOwnProperty.call(t.body.nodes,e)&&t._centerParent(t.body.nodes[e])}()),!0===this.options.hierarchical.edgeMinimization&&function(i){var o=t.hierarchical.getLevels();o=hp(o).call(o);for(var n=0;n<i;n++){e=!1;for(var r=0;r<o.length;r++)for(var s=o[r],a=t.hierarchical.distributionOrdering[s],h=0;h<a.length;h++)d(1e3,a[h]);if(!0!==e)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var e=t.hierarchical.getLevels();e=hp(e).call(e);for(var i=0;i<e.length;i++)for(var o=e[i],n=t.hierarchical.distributionOrdering[o],r=0;r<n.length;r++)t._centerParent(n[r])}(),function(){for(var e=n(),i=0,r=0;r<e.length-1;r++){i+=e[r].max-e[r+1].min+t.options.hierarchical.treeSpacing,o(r+1,i)}}()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var o=this.hierarchical.levels[t.id];if(void 0!==o){var n=this.hierarchical.distributionIndex[t.id],r=this.direction.getPosition(t),s=this.hierarchical.distributionOrdering[o],a=1e9,h=1e9;if(0!==n){var d=s[n-1];if(!0===i&&void 0===e[d.id]||!1===i)a=r-this.direction.getPosition(d)}if(n!=s.length-1){var l=s[n+1];if(!0===i&&void 0===e[l.id]||!1===i){var c=this.direction.getPosition(l);h=Math.min(h,c-r)}}return[a,h]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchical.parentReference[t.id])for(var e=this.hierarchical.parentReference[t.id],i=0;i<e.length;i++){var o=e[i],n=this.body.nodes[o],r=this.hierarchical.childrenReference[o];if(void 0!==r){var s=this._getCenterPosition(r),a=this.direction.getPosition(n),h=df(this._getSpaceAroundNode(n),2),d=h[0],l=h[1],c=a-s;(c<0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(n,s)}}}},{key:"_placeNodesByHierarchy",value:function(t){for(var e in this.positionedNodes={},t)if(Object.prototype.hasOwnProperty.call(t,e)){var i,o=zf(t[e]);o=this._indexArrayToNodes(o),SS(i=this.direction).call(i,o);for(var n=0,r=0;r<o.length;r++){var s=o[r];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing,h=a*n;n>0&&(h=this.direction.getPosition(o[r-1])+a),this.direction.setPosition(s,h,e),this._validatePositionAndContinue(s,e,h),n++}}}}},{key:"_placeBranchNodes",value:function(t,e){var i,o=this.hierarchical.childrenReference[t];if(void 0!==o){for(var n=[],r=0;r<o.length;r++)n.push(this.body.nodes[o[r]]);SS(i=this.direction).call(i,n);for(var s=0;s<n.length;s++){var a=n[s],h=this.hierarchical.levels[a.id];if(!(h>e&&void 0===this.positionedNodes[a.id]))return;var d=this.options.hierarchical.nodeSpacing,l=void 0;l=0===s?this.direction.getPosition(this.body.nodes[t]):this.direction.getPosition(n[s-1])+d,this.direction.setPosition(a,l,h),this._validatePositionAndContinue(a,h,l)}var c=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[t],c,e)}}},{key:"_validatePositionAndContinue",value:function(t,e,i){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[e]){var o=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-o<this.options.hierarchical.nodeSpacing){var n=o+this.options.hierarchical.nodeSpacing-i,r=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(r.withChild,n)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t,e,i={};for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){e=this.body.nodes[t];var o=void 0===this.hierarchical.levels[t]?0:this.hierarchical.levels[t];this.direction.fix(e,o),void 0===i[o]&&(i[o]={}),i[o][t]=e}return i}},{key:"_getActiveEdges",value:function(t){var e=this,i=[];return Hm(t.edges,(function(t){var o;-1!==Vv(o=e.body.edgeIndices).call(o,t.id)&&i.push(t)})),i}},{key:"_getHubSizes",value:function(){var t=this,e={};Hm(this.body.nodeIndices,(function(i){var o=t.body.nodes[i],n=t._getActiveEdges(o).length;e[n]=!0}));var i=[];return Hm(e,(function(t){i.push(Number(t))})),SS(i).call(i,(function(t,e){return e-t})),i}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=function(e,i){t.hierarchical.levelDownstream(e,i)},i=this._getHubSizes(),o=function(){var o=i[n];if(0===o)return 1;Hm(t.body.nodeIndices,(function(i){var n=t.body.nodes[i];o===t._getActiveEdges(n).length&&t._crawlNetwork(e,i)}))},n=0;n<i.length&&!o();++n);}},{key:"_determineLevelsCustomCallback",value:function(){var t=this;this._crawlNetwork((function(e,i,o){var n=t.hierarchical.levels[e.id];void 0===n&&(n=t.hierarchical.levels[e.id]=1e5);var r=(mO.cloneOptions(e,"node"),mO.cloneOptions(i,"node"),void mO.cloneOptions(o,"edge"));t.hierarchical.levels[i.id]=n+r})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var t,e=this,i=WS(t=this.body.nodeIndices).call(t,(function(t,i){return t.set(i,e.body.nodes[i]),t}),new xk);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(t){return oT((function(e){var i,o;return JS(i=lv(o=e.edges).call(o,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.from===e}))}),(function(t,e){return e<t}),"to",t)}(i):this.hierarchical.levels=function(t){return oT((function(e){var i,o;return JS(i=lv(o=e.edges).call(o,(function(e){return t.has(e.toId)}))).call(i,(function(t){return t.to===e}))}),(function(t,e){return e>t}),"from",t)}(i),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var t=this;this._crawlNetwork((function(e,i){t.hierarchical.levels[i.id]>t.hierarchical.levels[e.id]&&t.hierarchical.addRelation(e.id,i.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},i=arguments.length>1?arguments[1]:void 0,o={},n=function i(n,r){if(void 0===o[n.id]){var s;t.hierarchical.setTreeIndex(n,r),o[n.id]=!0;for(var a=t._getActiveEdges(n),h=0;h<a.length;h++){var d=a[h];!0===d.connected&&(s=d.toId==n.id?d.from:d.to,n.id!=s.id&&(e(n,s,d),i(s,r)))}}};if(void 0===i)for(var r=0,s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodeIndices[s];if(void 0===o[a])n(this.body.nodes[a],r),r+=1}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);n(h)}}},{key:"_shiftBlock",value:function(t,e){var i=this,o={};!function t(n){if(!o[n]){o[n]=!0,i.direction.shift(n,e);var r=i.hierarchical.childrenReference[n];if(void 0!==r)for(var s=0;s<r.length;s++)t(r[s])}}(t)}},{key:"_findCommonParent",value:function(t,e){var i=this,o={};return function t(e,o){var n=i.hierarchical.parentReference[o];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];e[s]=!0,t(e,s)}}(o,t),function t(e,o){var n=i.hierarchical.parentReference[o];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];if(void 0!==e[s])return{foundParent:s,withChild:o};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:o}}(o,e)}},{key:"setDirectionStrategy",value:function(){var t="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=t?new US(this):new YS(this)}},{key:"_getCenterPosition",value:function(t){for(var e=1e9,i=-1e9,o=0;o<t.length;o++){var n=void 0;if(void 0!==t[o].id)n=t[o];else{var r=t[o];n=this.body.nodes[r]}var s=this.direction.getPosition(n);e=Math.min(e,s),i=Math.max(i,s)}return.5*(e+i)}}]),t}();function sT(t,e){var i=void 0!==cf&&ph(t)||t["@@iterator"];if(!i){if(Of(t)||(i=function(t,e){var i;if(!t)return;if("string"==typeof t)return aT(t,e);var o=mf(i=Object.prototype.toString.call(t)).call(i,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Xa(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return aT(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){a=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw r}}}}function aT(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var hT=function(){function t(e,i,o,n){var r,s,a=this;vh(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},wo(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){a._clean()})),this.body.emitter.on("_dataChanged",Wo(r=this._restore).call(r,this)),this.body.emitter.on("_resetData",Wo(s=this._restore).call(s,this))}return wu(t,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,Rm(this.options,t)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var t,e;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var i=this.selectionHandler.getSelectedNodeCount(),o=this.selectionHandler.getSelectedEdgeCount(),n=i+o,r=this.options.locales[this.options.locale],s=!1;!1!==this.options.addNode&&(this._createAddNodeButton(r),s=!0),!1!==this.options.addEdge&&(!0===s?this._createSeperator(1):s=!0,this._createAddEdgeButton(r)),1===i&&"function"==typeof this.options.editNode?(!0===s?this._createSeperator(2):s=!0,this._createEditNodeButton(r)):1===o&&0===i&&!1!==this.options.editEdge&&(!0===s?this._createSeperator(3):s=!0,this._createEditEdgeButton(r)),0!==n&&(i>0&&!1!==this.options.deleteNode||0===i&&!1!==this.options.deleteEdge)&&(!0===s&&this._createSeperator(4),this._createDeleteButton(r)),this._bindElementEvents(this.closeDiv,Wo(t=this.toggleEditMode).call(t,this)),this._temporaryBindEvent("select",Wo(e=this.showManipulatorToolbar).call(e,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var t;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var e,i=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(i),this._createSeperator(),this._createDescription(i.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Wo(e=this.toggleEditMode).call(e,this))}this._temporaryBindEvent("click",Wo(t=this._performAddNode).call(t,this))}},{key:"editNode",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var e=this.selectionHandler.getSelectedNodes()[0];if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==e.isCluster){var i=Rm({},e.options,!1);if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,(function(e){null!=e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var t,e,i,o,n;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var r,s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Wo(r=this.toggleEditMode).call(r,this))}this._temporaryBindUI("onTouch",Wo(t=this._handleConnect).call(t,this)),this._temporaryBindUI("onDragEnd",Wo(e=this._finishConnect).call(e,this)),this._temporaryBindUI("onDrag",Wo(i=this._dragControlNode).call(i,this)),this._temporaryBindUI("onRelease",Wo(o=this._finishConnect).call(o,this)),this._temporaryBindUI("onDragStart",Wo(n=this._dragStartEdge).call(n,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==gu(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var t,e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Wo(t=this.toggleEditMode).call(t,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var i,o,n,r,s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),h=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(h.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[h.id]=h,this.body.nodeIndices.push(h.id),this._temporaryBindUI("onTouch",Wo(i=this._controlNodeTouch).call(i,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",Wo(o=this._controlNodeDragStart).call(o,this)),this._temporaryBindUI("onDrag",Wo(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",Wo(r=this._controlNodeDragEnd).call(r,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(t){var e=s.edgeType.findBorderPositions(t);!1===a.selected&&(a.x=e.from.x,a.y=e.from.y),!1===h.selected&&(h.x=e.to.x,h.y=e.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var d=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(d.from.id,d.to.id)}}},{key:"deleteSelected",value:function(){var t=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodeIds(),i=this.selectionHandler.getSelectedEdgeIds(),o=void 0;if(e.length>0){for(var n=0;n<e.length;n++)if(!0===this.body.nodes[e[n]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var r={nodes:e,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(r,(function(e){null!=e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var t,e;(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv)&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(t=null===(e=this.options.locales[this.options.locale])||void 0===e?void 0:e.close)&&void 0!==t?t:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=Rm({},this.options.controlNodeStyle);i.id="targetNode"+yO(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var o=this.body.functions.createNode(i);return o.shape.boundingBox={left:t,right:t,top:e,bottom:e},o}},{key:"_createEditButton",value:function(){var t;this._clean(),this.manipulationDOM={},Dm(this.editModeDiv);var e=this.options.locales[this.options.locale],i=this._createButton("editMode","vis-edit vis-edit-mode",e.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(i),this._bindElementEvents(i,Wo(t=this.toggleEditMode).call(t,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(Dm(this.editModeDiv),Dm(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var t,e,i=sT(Pp(t=this._domEventListenerCleanupQueue).call(t,0));try{for(i.s();!(e=i.n()).done;){(0,e.value)()}}catch(t){i.e(t)}finally{i.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),Dm(this.manipulationDiv),Dm(this.editModeDiv),Dm(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e,i=this._createButton("addNode","vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wo(e=this.addNodeMode).call(e,this))}},{key:"_createAddEdgeButton",value:function(t){var e,i=this._createButton("addEdge","vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wo(e=this.addEdgeMode).call(e,this))}},{key:"_createEditNodeButton",value:function(t){var e,i=this._createButton("editNode","vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wo(e=this.editNode).call(e,this))}},{key:"_createEditEdgeButton",value:function(t){var e,i=this._createButton("editEdge","vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wo(e=this.editEdgeMode).call(e,this))}},{key:"_createDeleteButton",value:function(t){var e,i;i=this.options.rtl?"vis-delete-rtl":"vis-delete";var o=this._createButton("delete",i,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(o),this._bindElementEvents(o,Wo(e=this.deleteSelected).call(e,this))}},{key:"_createBackButton",value:function(t){var e,i=this._createButton("back","vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Wo(e=this.showManipulatorToolbar).call(e,this))}},{key:"_createButton",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[t+"Div"]=document.createElement("button"),this.manipulationDOM[t+"Div"].className="vis-button "+e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerText=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=t,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+$v(zf(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(t,e){var i=new ub(t,{});EO(i,e),this._domEventListenerCleanupQueue.push((function(){i.destroy()}));var o=function(t){var i=t.keyCode,o=t.key;"Enter"!==o&&" "!==o&&13!==i&&32!==i||e()};t.addEventListener("keyup",o,!1),this._domEventListenerCleanupQueue.push((function(){t.removeEventListener("keyup",o,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){var e;this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var i,o=Vv(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[t]);if(-1!==o)Pp(i=this.body.edgeIndices).call(i,o,1)}for(var n=0;n<this.temporaryIds.nodes.length;n++){var r;delete this.body.nodes[this.temporaryIds.nodes[n]];var s,a=Vv(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[n]);if(-1!==a)Pp(s=this.body.nodeIndices).call(s,a,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=wo({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var t=this.lastTouch,e=this.selectionHandler._pointerToPositionObject(t),i=this.body.nodes[this.temporaryIds.nodes[0]],o=this.body.nodes[this.temporaryIds.nodes[1]],n=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=i.isOverlappingWith(e),s=o.isOverlappingWith(e);!0===r?(this.selectedControlNode=i,n.edgeType.from=i):!0===s&&(this.selectedControlNode=o,n.edgeType.to=o),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);void 0!==this.selectedControlNode?(this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y):this.interactionHandler.onDrag(t),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--)if(n[s]!==this.selectedControlNode.id){r=this.body.nodes[n[s]];break}if(void 0!==r&&void 0!==this.selectedControlNode)if(!0===r.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(r.id,o.to.id):this._performEditEdge(o.from.id,r.id)}else o.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=wo({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(!0===i.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var o=this._getNewTargetNode(i.x,i.y);this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id);var n=this.body.functions.createEdge({id:"connectionEdge"+yO(),from:i.id,to:o.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(o.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--){var a;if(-1===Vv(a=this.temporaryIds.nodes).call(a,n[s])){r=this.body.nodes[n[s]];break}}if(t.controlEdge={from:o,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",t,e),void 0!==this.temporaryIds.nodes[0]){var h=this.body.nodes[this.temporaryIds.nodes[0]];h.x=this.canvas._XconvertDOMtoCanvas(e.x),h.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(t)}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),r=void 0,s=n.length-1;s>=0;s--){var a;if(-1===Vv(a=this.temporaryIds.nodes).call(a,n[s])){r=this.body.nodes[n[s]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==r&&(!0===r.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[o]&&void 0!==this.body.nodes[r.id]&&this._performAddEdge(o,r.id)),t.controlEdge={from:o,to:r?r.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",t,e),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(t){var e=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",t,e,void 0,!0)}},{key:"_performAddNode",value:function(t){var e=this,i={id:yO(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,(function(t){null!=t&&"addNode"===e.inMode&&e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,o={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(o,(function(t){null!=t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e,label:this.body.data.edges.get(this.edgeBeingEditedId).label},n=this.options.editEdge;if("object"===gu(n)&&(n=n.editWithoutDrag),"function"==typeof n){if(2!==n.length)throw new Error("The function for edit does not support two arguments (data, callback)");n(o,(function(t){null==t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw"),i.showManipulatorToolbar()):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}(),dT="string",lT="boolean",cT="number",uT="array",fT="object",pT=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],vT={borderWidth:{number:cT},borderWidthSelected:{number:cT,undefined:"undefined"},brokenImage:{string:dT,undefined:"undefined"},chosen:{label:{boolean:lT,function:"function"},node:{boolean:lT,function:"function"},__type__:{object:fT,boolean:lT}},color:{border:{string:dT},background:{string:dT},highlight:{border:{string:dT},background:{string:dT},__type__:{object:fT,string:dT}},hover:{border:{string:dT},background:{string:dT},__type__:{object:fT,string:dT}},__type__:{object:fT,string:dT}},opacity:{number:cT,undefined:"undefined"},fixed:{x:{boolean:lT},y:{boolean:lT},__type__:{object:fT,boolean:lT}},font:{align:{string:dT},color:{string:dT},size:{number:cT},face:{string:dT},background:{string:dT},strokeWidth:{number:cT},strokeColor:{string:dT},vadjust:{number:cT},multi:{boolean:lT,string:dT},bold:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},boldital:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},ital:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},mono:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},__type__:{object:fT,string:dT}},group:{string:dT,number:cT,undefined:"undefined"},heightConstraint:{minimum:{number:cT},valign:{string:dT},__type__:{object:fT,boolean:lT,number:cT}},hidden:{boolean:lT},icon:{face:{string:dT},code:{string:dT},size:{number:cT},color:{string:dT},weight:{string:dT,number:cT},__type__:{object:fT}},id:{string:dT,number:cT},image:{selected:{string:dT,undefined:"undefined"},unselected:{string:dT,undefined:"undefined"},__type__:{object:fT,string:dT}},imagePadding:{top:{number:cT},right:{number:cT},bottom:{number:cT},left:{number:cT},__type__:{object:fT,number:cT}},label:{string:dT,undefined:"undefined"},labelHighlightBold:{boolean:lT},level:{number:cT,undefined:"undefined"},margin:{top:{number:cT},right:{number:cT},bottom:{number:cT},left:{number:cT},__type__:{object:fT,number:cT}},mass:{number:cT},physics:{boolean:lT},scaling:{min:{number:cT},max:{number:cT},label:{enabled:{boolean:lT},min:{number:cT},max:{number:cT},maxVisible:{number:cT},drawThreshold:{number:cT},__type__:{object:fT,boolean:lT}},customScalingFunction:{function:"function"},__type__:{object:fT}},shadow:{enabled:{boolean:lT},color:{string:dT},size:{number:cT},x:{number:cT},y:{number:cT},__type__:{object:fT,boolean:lT}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:lT,array:uT},borderRadius:{number:cT},interpolation:{boolean:lT},useImageSize:{boolean:lT},useBorderWithImage:{boolean:lT},coordinateOrigin:{string:["center","top-left"]},__type__:{object:fT}},size:{number:cT},title:{string:dT,dom:"dom",undefined:"undefined"},value:{number:cT,undefined:"undefined"},widthConstraint:{minimum:{number:cT},maximum:{number:cT},__type__:{object:fT,boolean:lT,number:cT}},x:{number:cT},y:{number:cT},__type__:{object:fT}},gT={configure:{enabled:{boolean:lT},filter:{boolean:lT,string:dT,array:uT,function:"function"},container:{dom:"dom"},showButton:{boolean:lT},__type__:{object:fT,boolean:lT,string:dT,array:uT,function:"function"}},edges:{arrows:{to:{enabled:{boolean:lT},scaleFactor:{number:cT},type:{string:pT},imageHeight:{number:cT},imageWidth:{number:cT},src:{string:dT},__type__:{object:fT,boolean:lT}},middle:{enabled:{boolean:lT},scaleFactor:{number:cT},type:{string:pT},imageWidth:{number:cT},imageHeight:{number:cT},src:{string:dT},__type__:{object:fT,boolean:lT}},from:{enabled:{boolean:lT},scaleFactor:{number:cT},type:{string:pT},imageWidth:{number:cT},imageHeight:{number:cT},src:{string:dT},__type__:{object:fT,boolean:lT}},__type__:{string:["from","to","middle"],object:fT}},endPointOffset:{from:{number:cT},to:{number:cT},__type__:{object:fT,number:cT}},arrowStrikethrough:{boolean:lT},background:{enabled:{boolean:lT},color:{string:dT},size:{number:cT},dashes:{boolean:lT,array:uT},__type__:{object:fT,boolean:lT}},chosen:{label:{boolean:lT,function:"function"},edge:{boolean:lT,function:"function"},__type__:{object:fT,boolean:lT}},color:{color:{string:dT},highlight:{string:dT},hover:{string:dT},inherit:{string:["from","to","both"],boolean:lT},opacity:{number:cT},__type__:{object:fT,string:dT}},dashes:{boolean:lT,array:uT},font:{color:{string:dT},size:{number:cT},face:{string:dT},background:{string:dT},strokeWidth:{number:cT},strokeColor:{string:dT},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:cT},multi:{boolean:lT,string:dT},bold:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},boldital:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},ital:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},mono:{color:{string:dT},size:{number:cT},face:{string:dT},mod:{string:dT},vadjust:{number:cT},__type__:{object:fT,string:dT}},__type__:{object:fT,string:dT}},hidden:{boolean:lT},hoverWidth:{function:"function",number:cT},label:{string:dT,undefined:"undefined"},labelHighlightBold:{boolean:lT},length:{number:cT,undefined:"undefined"},physics:{boolean:lT},scaling:{min:{number:cT},max:{number:cT},label:{enabled:{boolean:lT},min:{number:cT},max:{number:cT},maxVisible:{number:cT},drawThreshold:{number:cT},__type__:{object:fT,boolean:lT}},customScalingFunction:{function:"function"},__type__:{object:fT}},selectionWidth:{function:"function",number:cT},selfReferenceSize:{number:cT},selfReference:{size:{number:cT},angle:{number:cT},renderBehindTheNode:{boolean:lT},__type__:{object:fT}},shadow:{enabled:{boolean:lT},color:{string:dT},size:{number:cT},x:{number:cT},y:{number:cT},__type__:{object:fT,boolean:lT}},smooth:{enabled:{boolean:lT},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:cT},forceDirection:{string:["horizontal","vertical","none"],boolean:lT},__type__:{object:fT,boolean:lT}},title:{string:dT,undefined:"undefined"},width:{number:cT},widthConstraint:{maximum:{number:cT},__type__:{object:fT,boolean:lT,number:cT}},value:{number:cT,undefined:"undefined"},__type__:{object:fT}},groups:{useDefaultGroups:{boolean:lT},__any__:vT,__type__:{object:fT}},interaction:{dragNodes:{boolean:lT},dragView:{boolean:lT},hideEdgesOnDrag:{boolean:lT},hideEdgesOnZoom:{boolean:lT},hideNodesOnDrag:{boolean:lT},hover:{boolean:lT},keyboard:{enabled:{boolean:lT},speed:{x:{number:cT},y:{number:cT},zoom:{number:cT},__type__:{object:fT}},bindToWindow:{boolean:lT},autoFocus:{boolean:lT},__type__:{object:fT,boolean:lT}},multiselect:{boolean:lT},navigationButtons:{boolean:lT},selectable:{boolean:lT},selectConnectedEdges:{boolean:lT},hoverConnectedEdges:{boolean:lT},tooltipDelay:{number:cT},zoomView:{boolean:lT},zoomSpeed:{number:cT},__type__:{object:fT}},layout:{randomSeed:{undefined:"undefined",number:cT,string:dT},improvedLayout:{boolean:lT},clusterThreshold:{number:cT},hierarchical:{enabled:{boolean:lT},levelSeparation:{number:cT},nodeSpacing:{number:cT},treeSpacing:{number:cT},blockShifting:{boolean:lT},edgeMinimization:{boolean:lT},parentCentralization:{boolean:lT},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:fT,boolean:lT}},__type__:{object:fT}},manipulation:{enabled:{boolean:lT},initiallyActive:{boolean:lT},addNode:{boolean:lT,function:"function"},addEdge:{boolean:lT,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:fT,boolean:lT,function:"function"}},deleteNode:{boolean:lT,function:"function"},deleteEdge:{boolean:lT,function:"function"},controlNodeStyle:vT,__type__:{object:fT,boolean:lT}},nodes:vT,physics:{enabled:{boolean:lT},barnesHut:{theta:{number:cT},gravitationalConstant:{number:cT},centralGravity:{number:cT},springLength:{number:cT},springConstant:{number:cT},damping:{number:cT},avoidOverlap:{number:cT},__type__:{object:fT}},forceAtlas2Based:{theta:{number:cT},gravitationalConstant:{number:cT},centralGravity:{number:cT},springLength:{number:cT},springConstant:{number:cT},damping:{number:cT},avoidOverlap:{number:cT},__type__:{object:fT}},repulsion:{centralGravity:{number:cT},springLength:{number:cT},springConstant:{number:cT},nodeDistance:{number:cT},damping:{number:cT},__type__:{object:fT}},hierarchicalRepulsion:{centralGravity:{number:cT},springLength:{number:cT},springConstant:{number:cT},nodeDistance:{number:cT},damping:{number:cT},avoidOverlap:{number:cT},__type__:{object:fT}},maxVelocity:{number:cT},minVelocity:{number:cT},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:lT},iterations:{number:cT},updateInterval:{number:cT},onlyDynamicEdges:{boolean:lT},fit:{boolean:lT},__type__:{object:fT,boolean:lT}},timestep:{number:cT},adaptiveTimestep:{boolean:lT},wind:{x:{number:cT},y:{number:cT},__type__:{object:fT}},__type__:{object:fT,boolean:lT}},autoResize:{boolean:lT},clickToUse:{boolean:lT},locale:{string:dT},locales:{__any__:{any:"any"},__type__:{object:fT}},height:{string:dT},width:{string:dT},__type__:{object:fT}},yT={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},mT=function(t,e,i){var o;return!(!Qp(t).call(t,"physics")||!Qp(o=yT.physics.solver).call(o,e)||i.physics.solver===e||"wind"===e)},bT=Object.freeze({__proto__:null,allOptions:gT,configuratorHideOption:mT,configureOptions:yT}),wT=function(){function t(){vh(this,t)}return wu(t,[{key:"getDistances",value:function(t,e,i){for(var o={},n=t.edges,r=0;r<e.length;r++){var s={};o[e[r]]=s;for(var a=0;a<e.length;a++)s[e[a]]=r==a?0:1e9}for(var h=0;h<i.length;h++){var d=n[i[h]];!0===d.connected&&void 0!==o[d.fromId]&&void 0!==o[d.toId]&&(o[d.fromId][d.toId]=1,o[d.toId][d.fromId]=1)}for(var l=e.length,c=0;c<l;c++)for(var u=e[c],f=o[u],p=0;p<l-1;p++)for(var v=e[p],g=o[v],y=p+1;y<l;y++){var m=e[y],b=o[m],w=Math.min(g[m],g[u]+f[m]);g[m]=w,b[v]=w}return o}}]),t}(),kT=function(){function t(e,i,o){vh(this,t),this.body=e,this.springLength=i,this.springConstant=o,this.distanceSolver=new wT}return wu(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o),this._createE_matrix();for(var n=0,r=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),s=1e9,a=0,h=0,d=0,l=0,c=0;s>.01&&n<r;){n+=1;var u=df(this._getHighestEnergyNode(i),4);for(a=u[0],s=u[1],h=u[2],d=u[3],l=s,c=0;l>1&&c<5;){c+=1,this._moveNode(a,h,d);var f=df(this._getEnergy(a),3);l=f[0],h=f[1],d=f[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,n=e[0],r=0,s=0,a=0;a<e.length;a++){var h=e[a];if(!0!==i[h].predefinedPosition||!0===i[h].isCluster&&!0===t||!0!==i[h].options.fixed.x||!0!==i[h].options.fixed.y){var d=df(this._getEnergy(h),3),l=d[0],c=d[1],u=d[2];o<l&&(o=l,n=h,r=c,s=u)}}return[n,o,r,s]}},{key:"_getEnergy",value:function(t){var e=df(this.E_sums[t],2),i=e[0],o=e[1];return[Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),i,o]}},{key:"_moveNode",value:function(t,e,i){for(var o=this.body.nodeIndices,n=this.body.nodes,r=0,s=0,a=0,h=n[t].x,d=n[t].y,l=this.K_matrix[t],c=this.L_matrix[t],u=0;u<o.length;u++){var f=o[u];if(f!==t){var p=n[f].x,v=n[f].y,g=l[f],y=c[f],m=1/Math.pow(Math.pow(h-p,2)+Math.pow(d-v,2),1.5);r+=g*(1-y*Math.pow(d-v,2)*m),s+=g*(y*(h-p)*(d-v)*m),a+=g*(1-y*Math.pow(h-p,2)*m)}}var b=(e/r+i/s)/(s/r-a/s),w=-(s*b+e)/r;n[t].x+=w,n[t].y+=b,this._updateE_matrix(t)}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}},{key:"_createE_matrix",value:function(){var t=this.body.nodeIndices,e=this.body.nodes;this.E_matrix={},this.E_sums={};for(var i=0;i<t.length;i++)this.E_matrix[t[i]]=[];for(var o=0;o<t.length;o++){for(var n=t[o],r=e[n].x,s=e[n].y,a=0,h=0,d=o;d<t.length;d++){var l=t[d];if(l!==n){var c=e[l].x,u=e[l].y,f=1/Math.sqrt(Math.pow(r-c,2)+Math.pow(s-u,2));this.E_matrix[n][d]=[this.K_matrix[n][l]*(r-c-this.L_matrix[n][l]*(r-c)*f),this.K_matrix[n][l]*(s-u-this.L_matrix[n][l]*(s-u)*f)],this.E_matrix[l][o]=this.E_matrix[n][d],a+=this.E_matrix[n][d][0],h+=this.E_matrix[n][d][1]}}this.E_sums[n]=[a,h]}}},{key:"_updateE_matrix",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=this.E_matrix[t],n=this.K_matrix[t],r=this.L_matrix[t],s=i[t].x,a=i[t].y,h=0,d=0,l=0;l<e.length;l++){var c=e[l];if(c!==t){var u=o[l],f=u[0],p=u[1],v=i[c].x,g=i[c].y,y=1/Math.sqrt(Math.pow(s-v,2)+Math.pow(a-g,2)),m=n[c]*(s-v-r[c]*(s-v)*y),b=n[c]*(a-g-r[c]*(a-g)*y);o[l]=[m,b],h+=m,d+=b;var w=this.E_sums[c];w[0]+=m-f,w[1]+=b-p}}this.E_sums[t]=[h,d]}}]),t}();function _T(t,e,i){var o,n,r,s,a=this;if(!(this instanceof _T))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Kb,clickToUse:!1},wo(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Wo(o=this.on).call(o,this),off:Wo(n=this.off).call(n,this),emit:Wo(r=this.emit).call(r,this),once:Wo(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new $b((function(){return a.body.emitter.emit("_requestRedraw")})),this.groups=new Ek,this.canvas=new CO(this.body),this.selectionHandler=new VC(this.body,this.canvas),this.interactionHandler=new IO(this.body,this.canvas,this.selectionHandler),this.view=new SO(this.body,this.canvas),this.renderer=new _O(this.body,this.canvas),this.physics=new cO(this.body),this.layoutEngine=new rT(this.body),this.clustering=new kO(this.body),this.manipulation=new hT(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new rE(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new tO(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new kT(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}$o(_T.prototype),_T.prototype.setOptions=function(t){var e=this;if(null===t&&(t=void 0),void 0!==t){!0===vb.validate(t,gT)&&console.error("%cErrors have been found in the supplied options object.",pb);if(Nm(["locale","locales","clickToUse"],this.options,t),void 0!==t.locale&&(t.locale=function(t,e){try{var i=df(e.split(/[-_ /]/,2),2),o=i[0],n=i[1],r=null!=o?o.toLowerCase():null,s=null!=n?n.toUpperCase():null;if(r&&s){var a,h=r+"-"+s;if(Object.prototype.hasOwnProperty.call(t,h))return h;console.warn(yf(a="Unknown variant ".concat(s," of language ")).call(a,r,"."))}if(r){var d=r;if(Object.prototype.hasOwnProperty.call(t,d))return d;console.warn("Unknown language ".concat(r))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(t){return console.error(t),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new cb(this,this.body.container,yT,this.canvas.pixelRatio,mT)),this.configurator.setOptions(t.configure)),this.configurator&&!0===this.configurator.options.enabled){var i={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};Rm(i.nodes,this.nodesHandler.options),Rm(i.edges,this.edgesHandler.options),Rm(i.layout,this.layoutEngine.options),Rm(i.interaction,this.selectionHandler.options),Rm(i.interaction,this.renderer.options),Rm(i.interaction,this.interactionHandler.options),Rm(i.manipulation,this.manipulation.options),Rm(i.physics,this.physics.options),Rm(i.global,this.canvas.options),Rm(i.global,this.options),this.configurator.setModuleOptions(i)}void 0!==t.clickToUse?!0===t.clickToUse?void 0===this.activator&&(this.activator=new lb(this.canvas.frame),this.activator.on("change",(function(){e.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},_T.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;for(var i in this.body.nodeIndices=[],this.body.edgeIndices=[],t)Object.prototype.hasOwnProperty.call(t,i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=e[o],r=t[n.fromId],s=t[n.toId],a=void 0!==r&&void 0!==s;!this.clustering._isClusteredEdge(o)&&!1===n.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(n.id)}},_T.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",(function(){t.edgesHandler._updateState(),t.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){t.clustering._updateState(),t._updateVisibleIndices(),t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")}))},_T.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=qb(t.dot);this.setData(e)}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=Yb(t.gephi);this.setData(i)}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},_T.prototype.destroy=function(){for(var t in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(var e in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,e)&&delete this.body.edges[e];Dm(this.body.container)},_T.prototype._updateValueRange=function(t){var e,i=void 0,o=void 0,n=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var r=t[e].getValue();void 0!==r&&(i=void 0===i?r:Math.min(r,i),o=void 0===o?r:Math.max(r,o),n+=r)}if(void 0!==i&&void 0!==o)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(i,o,n)},_T.prototype.isActive=function(){return!this.activator||this.activator.active},_T.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},_T.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},_T.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},_T.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},_T.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},_T.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},_T.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},_T.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},_T.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},_T.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},_T.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},_T.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},_T.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},_T.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},_T.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},_T.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},_T.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},_T.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},_T.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},_T.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},_T.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},_T.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},_T.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},_T.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},_T.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},_T.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},_T.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},_T.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},_T.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},_T.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},_T.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},_T.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},_T.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},_T.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},_T.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},_T.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},_T.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},_T.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},_T.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},_T.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},_T.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},_T.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},_T.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},_T.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},_T.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},_T.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},_T.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},_T.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},_T.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},_T.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},_T.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},_T.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};var xT=qb;t.Network=_T,t.NetworkImages=$b,t.networkDOTParser=Ub,t.networkGephiParser=Xb,t.networkOptions=bT,t.parseDOTNetwork=xT,t.parseGephiNetwork=Yb}));
//# sourceMappingURL=vis-network.min.js.map


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var vis_data__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vis-data */ "../../node_modules/vis-data/peer/umd/vis-data.min.js");
/* harmony import */ var vis_data__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(vis_data__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var vis_network__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vis-network */ "../../node_modules/vis-network/peer/umd/vis-network.min.js");
/* harmony import */ var vis_network__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(vis_network__WEBPACK_IMPORTED_MODULE_1__);


class Message {
    id;
    content;
    constructor(id, content) {
        this.id = id;
        this.content = content;
    }
}
class Conversation {
    id;
    parentId;
    messages;
    constructor(id, parentId, messages) {
        this.id = id;
        this.parentId = parentId;
        this.messages = messages;
    }
}
const createConversations = (conNum, mesNum) => {
    // Create the conversations
    const conversations = [];
    for (let i = 1; i <= conNum; i++) {
        const messages = [];
        for (let j = 1; j <= mesNum; j++) {
            messages.push(new Message(`${i}.${j}`, `Content ${i}.${j}`));
        }
        conversations.push(new Conversation(i.toString(), "base", messages));
    }
    return conversations;
};
const printConversations = (conversations) => {
    // Display each conversation and its messages
    conversations.forEach(conversation => {
        console.log(`Conversation ${conversation.id}:`);
        console.log(`Parent ID: ${conversation.parentId}`);
        conversation.messages.forEach(message => {
            console.log(`  Message ${message.id}: ${message.content}`);
        });
        console.log(); // Add a line break for readability
    });
};
function createGraph(conversations) {
    const graph = {};
    conversations.forEach(conversation => {
        if (!graph[conversation.id]) {
            graph[conversation.id] = [];
        }
        conversation.messages.forEach(message => {
            graph[conversation.id].push(message.id);
        });
    });
    return graph;
}
function convertToVisGraph(graph) {
    const nodes = [];
    const edges = [];
    for (const conversationId in graph) {
        // Assign a color to the conversation node (for example, blue)
        nodes.push({ id: conversationId, label: `Conversation ${conversationId}`, color: 'blue' });
        graph[conversationId].forEach(messageId => {
            // Assign a different color to the message nodes (for example, green)
            nodes.push({ id: messageId, label: `Message ${messageId}`, color: 'green' });
            edges.push({ from: conversationId, to: messageId });
        });
    }
    return {
        nodes: new vis_data__WEBPACK_IMPORTED_MODULE_0__.DataSet(nodes),
        edges: new vis_data__WEBPACK_IMPORTED_MODULE_0__.DataSet(edges)
    };
}
const conversations = createConversations(2, 14);
const graph = createGraph(conversations);
const visGraph = convertToVisGraph(graph);
const networkOptions = {
    layout: {
        improvedLayout: true,
        hierarchical: {
            enabled: false, // Set to true for hierarchical layout
            levelSeparation: 150,
            nodeSpacing: 100,
            treeSpacing: 200,
            direction: 'UD', // UD, DU, LR, RL
            sortMethod: 'hubsize' // or 'directed'
        }
    },
    /*  physics: {
         enabled: true,
         hierarchicalRepulsion: {
             centralGravity: 0.0,
             springLength: 100,
             springConstant: 0.01,
             nodeDistance: 120,
             damping: 0.09
         },
         solver: 'hierarchicalRepulsion' // or 'barnesHut', 'repulsion', 'hierarchicalRepulsion', 'forceAtlas2Based'
     }, */
    physics: {
        enabled: true,
        barnesHut: {
            gravitationalConstant: -20000,
            centralGravity: 0.3,
            springLength: 95,
            springConstant: 0.04,
            damping: 0.09,
            avoidOverlap: 0.1
        },
        solver: 'barnesHut' // or 'barnesHut', 'repulsion', 'hierarchicalRepulsion', 'forceAtlas2Based'
    },
};
// Initialize a vis.js network (this part should be in your client-side code)
const container = document.getElementById('network');
if (container !== null) {
    const network = new vis_network__WEBPACK_IMPORTED_MODULE_1__.Network(container, visGraph, networkOptions);
}
else {
    console.error('Element with ID \'network\' not found.');
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRSxLQUE0RDtBQUM5RCxFQUFFLENBQ2tIO0FBQ3BILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdIQUF3SCxxQkFBTSxtQkFBbUIscUJBQU07O0FBRXZKO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEI7O0FBRTFCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsY0FBYzs7QUFFakM7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUNBQW1DO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsT0FBTyxtQkFBbUIsYUFBYTtBQUMxRSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrQ0FBa0M7QUFDbEM7QUFDQTs7QUFFQTtBQUNBLGtGQUFrRixNQUFNOztBQUV4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw0Q0FBNEM7O0FBRTVDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHdHQUF3RztBQUNoSDtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdGQUF3RjtBQUN4Rjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsbUJBQW1COztBQUV0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0JBQWdCO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsZ0JBQWdCO0FBQzVEO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQTBEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxZQUFZO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0IsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLFdBQVcsZ0JBQWdCO0FBQ25DO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVDQUF1Qzs7QUFFdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUFJLFVBQVU7QUFDckI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZ0NBQWdDO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkM7QUFDM0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtB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RkFBOEY7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlEQUF5RCxxQ0FBcUM7O0FBRTlGO0FBQ0E7QUFDQSxRQUFRLGdEQUFnRDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlEQUFpRCxhQUFhO0FBQzlEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQzs7QUFFbkM7QUFDQTtBQUNBLGtFQUFrRSwyREFBMkQ7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0JBQWdCO0FBQ3RCOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUU7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDO0FBQzVDLGdEQUFnRDtBQUNoRCxrREFBa0Q7QUFDbEQ7O0FBRUEsMkJBQTJCO0FBQzNCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLG9CQUFvQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxXQUFXLG9GQUFvRjtBQUN2Rzs7QUFFQTtBQUNBO0FBQ0Esd0VBQXdFLGVBQWU7QUFDdkY7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7OztBQU9BOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsOEJBQThCO0FBQ3RDO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0dBQW9HLHNCQUFzQjtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sZ0JBQWdCO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HLGdCQUFnQjtBQUNuSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQjtBQUN0QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSw0Q0FBNEM7QUFDcEQ7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSwwREFBMEQ7QUFDbEU7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RUFBdUU7QUFDL0U7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7Ozs7O0FBS0E7Ozs7Ozs7QUFPQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGdCQUFnQjtBQUM3QjtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFtRTtBQUMzRTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0NBQXdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxXQUFXO0FBQzdELEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsZ0RBQWdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUE4RDtBQUN0RTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOERBQThEO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLDhCQUE4QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxtQkFBbUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEsK0JBQStCO0FBQ3ZDO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvREFBb0QsZ0JBQWdCOztBQUVwRTtBQUNBO0FBQ0EsUUFBUSw2REFBNkQ7QUFDckU7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRUFBZ0U7QUFDeEU7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRkFBbUY7QUFDM0Y7QUFDQTtB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RUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzQkFBc0I7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSxXQUFXO0FBQ3hCLGVBQWUsUUFBUTtBQUN2QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsMEJBQTBCLDBCQUEwQjtBQUNwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qjs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JB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QUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsZ0NBQWdDO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLGFBQWE7QUFD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QSwyQkFBMkI7QUFDM0IsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QscUJBQXFCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQjtBQUN0Qjs7QUFFQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLE1BQU07QUFDTixlQUFlO0FBQ2Y7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLGFBQWE7QUFDckY7QUFDQSwyQkFBMkIsYUFBYSxnQkFBZ0IsYUFBYTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsYUFBYTtBQUM1RDtBQUNBO0FBQ0EsTUFBTTtBQUNOLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1YsUUFBUTtBQUNSLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLGVBQWU7QUFDckI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVSxhQUFhLG1DQUFtQztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVAsWUFBWSxVQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUIsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLHdEQUF3RDtBQUNoRTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9COztBQUVBO0FBQ0EsdURBQXVEO0FBQ3ZELHFDQUFxQztBQUNyQztBQUNBOztBQUVBLHNCQUFzQixZQUFZO0FBQ2xDLG9CQUFvQiwwQkFBMEI7QUFDOUM7QUFDQTs7QUFFQSxnQ0FBZ0MsbUJBQW1COztBQUVuRCxvQkFBb0IscUJBQXFCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSw4Q0FBOEM7QUFDcEQ7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLHFCQUFxQjtBQUMzQztBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGtCQUFrQixTQUFTO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJEQUEyRDs7QUFFM0Q7QUFDQSxxQ0FBcUM7O0FBRXJDO0FBQ0E7O0FBRUEsc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0JBQW9CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxhQUFhO0FBQzNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMEJBQTBCLDRCQUE0QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLE1BQU0sZUFBZSw0QkFBNEIsZ0JBQWdCLHFDQUFxQyxvQkFBb0I7QUFDMUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLEdBQUc7O0FBRUg7O0FBRUE7O0FBRUE7OztBQUdBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOzs7QUFHQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSw2REFBNkQscUZBQXFGLFdBQVcsMkhBQTJILGdCQUFnQixXQUFXLHlCQUF5QixTQUFTLHdCQUF3Qiw0QkFBNEIsY0FBYyxTQUFTLCtCQUErQixzQkFBc0IsV0FBVyxZQUFZLGdLQUFnSyxrREFBa0QsU0FBUyxrQkFBa0Isa0JBQWtCLG9CQUFvQixzQkFBc0IsOEJBQThCLGNBQWMsdUJBQXVCLGVBQWUsWUFBWSxvQkFBb0IsTUFBTSwyREFBMkQsVUFBVTtBQUNsOUIsc0RBQXNELGdCQUFnQixnQkFBZ0Isa0VBQWtFLHdHQUF3Ryw2REFBNkQseURBQXlEO0FBQ3RYLDJDQUEyQyx1REFBdUQsdUNBQXVDLFNBQVMsdUJBQXVCO0FBQ3pLO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxrQkFBa0Isb0RBQW9ELGVBQWUsSUFBSSxlQUFlO0FBQzlHLGdIQUFnSCxhQUFhLHlCQUF5QixrQkFBa0I7QUFDeEssMENBQTBDLG1CQUFtQixrRUFBa0UsZUFBZTtBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztB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QTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7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QUFFLENBQUM7SUFDckIsTUFBTSxPQUFPLEdBQUcsSUFBSSxnREFBTyxDQUFDLFNBQVMsRUFBRSxRQUFRLEVBQUUsY0FBYyxDQUFDLENBQUM7QUFDckUsQ0FBQztLQUFNLENBQUM7SUFDSixPQUFPLENBQUMsS0FBSyxDQUFDLHdDQUF3QyxDQUFDLENBQUM7QUFDNUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RyYW5zZm9ybWVyLy4uLy4uL25vZGVfbW9kdWxlcy92aXMtZGF0YS9wZWVyL3VtZC92aXMtZGF0YS5qcyIsIndlYnBhY2s6Ly90cmFuc2Zvcm1lci8uLi8uLi9ub2RlX21vZHVsZXMvdmlzLWRhdGEvcGVlci91bWQvdmlzLWRhdGEubWluLmpzIiwid2VicGFjazovL3RyYW5zZm9ybWVyLy4uLy4uL25vZGVfbW9kdWxlcy92aXMtbmV0d29yay9wZWVyL3VtZC92aXMtbmV0d29yay5taW4uanMiLCJ3ZWJwYWNrOi8vdHJhbnNmb3JtZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdHJhbnNmb3JtZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdHJhbnNmb3JtZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RyYW5zZm9ybWVyL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdHJhbnNmb3JtZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90cmFuc2Zvcm1lci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3RyYW5zZm9ybWVyLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogdmlzLWRhdGFcbiAqIGh0dHA6Ly92aXNqcy5vcmcvXG4gKlxuICogTWFuYWdlIHVuc3RydWN0dXJlZCBkYXRhIHVzaW5nIERhdGFTZXQuIEFkZCwgdXBkYXRlLCBhbmQgcmVtb3ZlIGRhdGEsIGFuZCBsaXN0ZW4gZm9yIGNoYW5nZXMgaW4gdGhlIGRhdGEuXG4gKlxuICogQHZlcnNpb24gNy4xLjlcbiAqIEBkYXRlICAgIDIwMjMtMTEtMjRUMTc6NTM6MzQuMTc5WlxuICpcbiAqIEBjb3B5cmlnaHQgKGMpIDIwMTEtMjAxNyBBbG1lbmRlIEIuViwgaHR0cDovL2FsbWVuZGUuY29tXG4gKiBAY29weXJpZ2h0IChjKSAyMDE3LTIwMTkgdmlzanMgY29udHJpYnV0b3JzLCBodHRwczovL2dpdGh1Yi5jb20vdmlzanNcbiAqXG4gKiBAbGljZW5zZVxuICogdmlzLmpzIGlzIGR1YWwgbGljZW5zZWQgdW5kZXIgYm90aFxuICpcbiAqICAgMS4gVGhlIEFwYWNoZSAyLjAgTGljZW5zZVxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgIGFuZFxuICpcbiAqICAgMi4gVGhlIE1JVCBMaWNlbnNlXG4gKiAgICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiB2aXMuanMgbWF5IGJlIGRpc3RyaWJ1dGVkIHVuZGVyIGVpdGhlciBsaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwudmlzID0gZ2xvYmFsLnZpcyB8fCB7fSkpO1xufSkodGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29tbW9uanNHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fTtcblxuICBmdW5jdGlvbiBnZXREZWZhdWx0RXhwb3J0RnJvbUNqcyAoeCkge1xuICBcdHJldHVybiB4ICYmIHguX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeCwgJ2RlZmF1bHQnKSA/IHhbJ2RlZmF1bHQnXSA6IHg7XG4gIH1cblxuICB2YXIgZGVmaW5lUHJvcGVydHkkZiA9IHtleHBvcnRzOiB7fX07XG5cbiAgdmFyIGNoZWNrID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIGl0ICYmIGl0Lk1hdGggPT09IE1hdGggJiYgaXQ7XG4gIH07XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbiAgdmFyIGdsb2JhbCRwID1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tZ2xvYmFsLXRoaXMgLS0gc2FmZVxuICAgIGNoZWNrKHR5cGVvZiBnbG9iYWxUaGlzID09ICdvYmplY3QnICYmIGdsb2JhbFRoaXMpIHx8XG4gICAgY2hlY2sodHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cpIHx8XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAtLSBzYWZlXG4gICAgY2hlY2sodHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZikgfHxcbiAgICBjaGVjayh0eXBlb2YgY29tbW9uanNHbG9iYWwgPT0gJ29iamVjdCcgJiYgY29tbW9uanNHbG9iYWwpIHx8XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jIC0tIGZhbGxiYWNrXG4gICAgKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0pKCkgfHwgY29tbW9uanNHbG9iYWwgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICB2YXIgZmFpbHMkdSA9IGZ1bmN0aW9uIChleGVjKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHZhciBmYWlscyR0ID0gZmFpbHMkdTtcblxuICB2YXIgZnVuY3Rpb25CaW5kTmF0aXZlID0gIWZhaWxzJHQoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1mdW5jdGlvbi1wcm90b3R5cGUtYmluZCAtLSBzYWZlXG4gICAgdmFyIHRlc3QgPSAoZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KS5iaW5kKCk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGlucyAtLSBzYWZlXG4gICAgcmV0dXJuIHR5cGVvZiB0ZXN0ICE9ICdmdW5jdGlvbicgfHwgdGVzdC5oYXNPd25Qcm9wZXJ0eSgncHJvdG90eXBlJyk7XG4gIH0pO1xuXG4gIHZhciBOQVRJVkVfQklORCQ0ID0gZnVuY3Rpb25CaW5kTmF0aXZlO1xuXG4gIHZhciBGdW5jdGlvblByb3RvdHlwZSQ0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgYXBwbHkkNiA9IEZ1bmN0aW9uUHJvdG90eXBlJDQuYXBwbHk7XG4gIHZhciBjYWxsJGsgPSBGdW5jdGlvblByb3RvdHlwZSQ0LmNhbGw7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLXJlZmxlY3QgLS0gc2FmZVxuICB2YXIgZnVuY3Rpb25BcHBseSA9IHR5cGVvZiBSZWZsZWN0ID09ICdvYmplY3QnICYmIFJlZmxlY3QuYXBwbHkgfHwgKE5BVElWRV9CSU5EJDQgPyBjYWxsJGsuYmluZChhcHBseSQ2KSA6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2FsbCRrLmFwcGx5KGFwcGx5JDYsIGFyZ3VtZW50cyk7XG4gIH0pO1xuXG4gIHZhciBOQVRJVkVfQklORCQzID0gZnVuY3Rpb25CaW5kTmF0aXZlO1xuXG4gIHZhciBGdW5jdGlvblByb3RvdHlwZSQzID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuICB2YXIgY2FsbCRqID0gRnVuY3Rpb25Qcm90b3R5cGUkMy5jYWxsO1xuICB2YXIgdW5jdXJyeVRoaXNXaXRoQmluZCA9IE5BVElWRV9CSU5EJDMgJiYgRnVuY3Rpb25Qcm90b3R5cGUkMy5iaW5kLmJpbmQoY2FsbCRqLCBjYWxsJGopO1xuXG4gIHZhciBmdW5jdGlvblVuY3VycnlUaGlzID0gTkFUSVZFX0JJTkQkMyA/IHVuY3VycnlUaGlzV2l0aEJpbmQgOiBmdW5jdGlvbiAoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNhbGwkai5hcHBseShmbiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRxID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcblxuICB2YXIgdG9TdHJpbmckOSA9IHVuY3VycnlUaGlzJHEoe30udG9TdHJpbmcpO1xuICB2YXIgc3RyaW5nU2xpY2UkMSA9IHVuY3VycnlUaGlzJHEoJycuc2xpY2UpO1xuXG4gIHZhciBjbGFzc29mUmF3JDIgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gc3RyaW5nU2xpY2UkMSh0b1N0cmluZyQ5KGl0KSwgOCwgLTEpO1xuICB9O1xuXG4gIHZhciBjbGFzc29mUmF3JDEgPSBjbGFzc29mUmF3JDI7XG4gIHZhciB1bmN1cnJ5VGhpcyRwID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcblxuICB2YXIgZnVuY3Rpb25VbmN1cnJ5VGhpc0NsYXVzZSA9IGZ1bmN0aW9uIChmbikge1xuICAgIC8vIE5hc2hvcm4gYnVnOlxuICAgIC8vICAgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzExMjhcbiAgICAvLyAgIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xMTMwXG4gICAgaWYgKGNsYXNzb2ZSYXckMShmbikgPT09ICdGdW5jdGlvbicpIHJldHVybiB1bmN1cnJ5VGhpcyRwKGZuKTtcbiAgfTtcblxuICB2YXIgZG9jdW1lbnRBbGwkMiA9IHR5cGVvZiBkb2N1bWVudCA9PSAnb2JqZWN0JyAmJiBkb2N1bWVudC5hbGw7XG5cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1Jc0hUTUxEREEtaW50ZXJuYWwtc2xvdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby10eXBlb2YtdW5kZWZpbmVkIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHZhciBJU19IVE1MRERBID0gdHlwZW9mIGRvY3VtZW50QWxsJDIgPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnRBbGwkMiAhPT0gdW5kZWZpbmVkO1xuXG4gIHZhciBkb2N1bWVudEFsbF8xID0ge1xuICAgIGFsbDogZG9jdW1lbnRBbGwkMixcbiAgICBJU19IVE1MRERBOiBJU19IVE1MRERBXG4gIH07XG5cbiAgdmFyICRkb2N1bWVudEFsbCQxID0gZG9jdW1lbnRBbGxfMTtcblxuICB2YXIgZG9jdW1lbnRBbGwkMSA9ICRkb2N1bWVudEFsbCQxLmFsbDtcblxuICAvLyBgSXNDYWxsYWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxuICB2YXIgaXNDYWxsYWJsZSRtID0gJGRvY3VtZW50QWxsJDEuSVNfSFRNTEREQSA/IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT0gJ2Z1bmN0aW9uJyB8fCBhcmd1bWVudCA9PT0gZG9jdW1lbnRBbGwkMTtcbiAgfSA6IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT0gJ2Z1bmN0aW9uJztcbiAgfTtcblxuICB2YXIgb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0ge307XG5cbiAgdmFyIGZhaWxzJHMgPSBmYWlscyR1O1xuXG4gIC8vIERldGVjdCBJRTgncyBpbmNvbXBsZXRlIGRlZmluZVByb3BlcnR5IGltcGxlbWVudGF0aW9uXG4gIHZhciBkZXNjcmlwdG9ycyA9ICFmYWlscyRzKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgMSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSlbMV0gIT09IDc7XG4gIH0pO1xuXG4gIHZhciBOQVRJVkVfQklORCQyID0gZnVuY3Rpb25CaW5kTmF0aXZlO1xuXG4gIHZhciBjYWxsJGkgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbDtcblxuICB2YXIgZnVuY3Rpb25DYWxsID0gTkFUSVZFX0JJTkQkMiA/IGNhbGwkaS5iaW5kKGNhbGwkaSkgOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNhbGwkaS5hcHBseShjYWxsJGksIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgdmFyIG9iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlID0ge307XG5cbiAgdmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSQxID0ge30ucHJvcGVydHlJc0VudW1lcmFibGU7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciQ3ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuICAvLyBOYXNob3JuIH4gSkRLOCBidWdcbiAgdmFyIE5BU0hPUk5fQlVHID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDcgJiYgISRwcm9wZXJ0eUlzRW51bWVyYWJsZSQxLmNhbGwoeyAxOiAyIH0sIDEpO1xuXG4gIC8vIGBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnByb3BlcnR5aXNlbnVtZXJhYmxlXG4gIG9iamVjdFByb3BlcnR5SXNFbnVtZXJhYmxlLmYgPSBOQVNIT1JOX0JVRyA/IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKFYpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQ3KHRoaXMsIFYpO1xuICAgIHJldHVybiAhIWRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5lbnVtZXJhYmxlO1xuICB9IDogJHByb3BlcnR5SXNFbnVtZXJhYmxlJDE7XG5cbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ3ID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW51bWVyYWJsZTogIShiaXRtYXAgJiAxKSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkbyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBmYWlscyRyID0gZmFpbHMkdTtcbiAgdmFyIGNsYXNzb2YkZiA9IGNsYXNzb2ZSYXckMjtcblxuICB2YXIgJE9iamVjdCQ0ID0gT2JqZWN0O1xuICB2YXIgc3BsaXQgPSB1bmN1cnJ5VGhpcyRvKCcnLnNwbGl0KTtcblxuICAvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xuICB2YXIgaW5kZXhlZE9iamVjdCA9IGZhaWxzJHIoZnVuY3Rpb24gKCkge1xuICAgIC8vIHRocm93cyBhbiBlcnJvciBpbiByaGlubywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3JoaW5vL2lzc3Vlcy8zNDZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIC0tIHNhZmVcbiAgICByZXR1cm4gISRPYmplY3QkNCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApO1xuICB9KSA/IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBjbGFzc29mJGYoaXQpID09PSAnU3RyaW5nJyA/IHNwbGl0KGl0LCAnJykgOiAkT2JqZWN0JDQoaXQpO1xuICB9IDogJE9iamVjdCQ0O1xuXG4gIC8vIHdlIGNhbid0IHVzZSBqdXN0IGBpdCA9PSBudWxsYCBzaW5jZSBvZiBgZG9jdW1lbnQuYWxsYCBzcGVjaWFsIGNhc2VcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1Jc0hUTUxEREEtaW50ZXJuYWwtc2xvdC1hZWNcbiAgdmFyIGlzTnVsbE9yVW5kZWZpbmVkJDYgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaXQgPT09IG51bGwgfHwgaXQgPT09IHVuZGVmaW5lZDtcbiAgfTtcblxuICB2YXIgaXNOdWxsT3JVbmRlZmluZWQkNSA9IGlzTnVsbE9yVW5kZWZpbmVkJDY7XG5cbiAgdmFyICRUeXBlRXJyb3IkZyA9IFR5cGVFcnJvcjtcblxuICAvLyBgUmVxdWlyZU9iamVjdENvZXJjaWJsZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVxdWlyZW9iamVjdGNvZXJjaWJsZVxuICB2YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSQzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkJDUoaXQpKSB0aHJvdyBuZXcgJFR5cGVFcnJvciRnKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gXCIgKyBpdCk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuXG4gIC8vIHRvT2JqZWN0IHdpdGggZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBzdHJpbmdzXG4gIHZhciBJbmRleGVkT2JqZWN0JDMgPSBpbmRleGVkT2JqZWN0O1xuICB2YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSQyID0gcmVxdWlyZU9iamVjdENvZXJjaWJsZSQzO1xuXG4gIHZhciB0b0luZGV4ZWRPYmplY3QkYSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBJbmRleGVkT2JqZWN0JDMocmVxdWlyZU9iamVjdENvZXJjaWJsZSQyKGl0KSk7XG4gIH07XG5cbiAgdmFyIGlzQ2FsbGFibGUkbCA9IGlzQ2FsbGFibGUkbTtcbiAgdmFyICRkb2N1bWVudEFsbCA9IGRvY3VtZW50QWxsXzE7XG5cbiAgdmFyIGRvY3VtZW50QWxsID0gJGRvY3VtZW50QWxsLmFsbDtcblxuICB2YXIgaXNPYmplY3QkaCA9ICRkb2N1bWVudEFsbC5JU19IVE1MRERBID8gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogaXNDYWxsYWJsZSRsKGl0KSB8fCBpdCA9PT0gZG9jdW1lbnRBbGw7XG4gIH0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ID09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiBpc0NhbGxhYmxlJGwoaXQpO1xuICB9O1xuXG4gIHZhciBwYXRoJG8gPSB7fTtcblxuICB2YXIgcGF0aCRuID0gcGF0aCRvO1xuICB2YXIgZ2xvYmFsJG8gPSBnbG9iYWwkcDtcbiAgdmFyIGlzQ2FsbGFibGUkayA9IGlzQ2FsbGFibGUkbTtcblxuICB2YXIgYUZ1bmN0aW9uID0gZnVuY3Rpb24gKHZhcmlhYmxlKSB7XG4gICAgcmV0dXJuIGlzQ2FsbGFibGUkayh2YXJpYWJsZSkgPyB2YXJpYWJsZSA6IHVuZGVmaW5lZDtcbiAgfTtcblxuICB2YXIgZ2V0QnVpbHRJbiRmID0gZnVuY3Rpb24gKG5hbWVzcGFjZSwgbWV0aG9kKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPCAyID8gYUZ1bmN0aW9uKHBhdGgkbltuYW1lc3BhY2VdKSB8fCBhRnVuY3Rpb24oZ2xvYmFsJG9bbmFtZXNwYWNlXSlcbiAgICAgIDogcGF0aCRuW25hbWVzcGFjZV0gJiYgcGF0aCRuW25hbWVzcGFjZV1bbWV0aG9kXSB8fCBnbG9iYWwkb1tuYW1lc3BhY2VdICYmIGdsb2JhbCRvW25hbWVzcGFjZV1bbWV0aG9kXTtcbiAgfTtcblxuICB2YXIgdW5jdXJyeVRoaXMkbiA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG5cbiAgdmFyIG9iamVjdElzUHJvdG90eXBlT2YgPSB1bmN1cnJ5VGhpcyRuKHt9LmlzUHJvdG90eXBlT2YpO1xuXG4gIHZhciBlbmdpbmVVc2VyQWdlbnQgPSB0eXBlb2YgbmF2aWdhdG9yICE9ICd1bmRlZmluZWQnICYmIFN0cmluZyhuYXZpZ2F0b3IudXNlckFnZW50KSB8fCAnJztcblxuICB2YXIgZ2xvYmFsJG4gPSBnbG9iYWwkcDtcbiAgdmFyIHVzZXJBZ2VudCQ1ID0gZW5naW5lVXNlckFnZW50O1xuXG4gIHZhciBwcm9jZXNzJDMgPSBnbG9iYWwkbi5wcm9jZXNzO1xuICB2YXIgRGVubyQxID0gZ2xvYmFsJG4uRGVubztcbiAgdmFyIHZlcnNpb25zID0gcHJvY2VzcyQzICYmIHByb2Nlc3MkMy52ZXJzaW9ucyB8fCBEZW5vJDEgJiYgRGVubyQxLnZlcnNpb247XG4gIHZhciB2OCA9IHZlcnNpb25zICYmIHZlcnNpb25zLnY4O1xuICB2YXIgbWF0Y2gsIHZlcnNpb247XG5cbiAgaWYgKHY4KSB7XG4gICAgbWF0Y2ggPSB2OC5zcGxpdCgnLicpO1xuICAgIC8vIGluIG9sZCBDaHJvbWUsIHZlcnNpb25zIG9mIFY4IGlzbid0IFY4ID0gQ2hyb21lIC8gMTBcbiAgICAvLyBidXQgdGhlaXIgY29ycmVjdCB2ZXJzaW9ucyBhcmUgbm90IGludGVyZXN0aW5nIGZvciB1c1xuICAgIHZlcnNpb24gPSBtYXRjaFswXSA+IDAgJiYgbWF0Y2hbMF0gPCA0ID8gMSA6ICsobWF0Y2hbMF0gKyBtYXRjaFsxXSk7XG4gIH1cblxuICAvLyBCcm93c2VyRlMgTm9kZUpTIGBwcm9jZXNzYCBwb2x5ZmlsbCBpbmNvcnJlY3RseSBzZXQgYC52OGAgdG8gYDAuMGBcbiAgLy8gc28gY2hlY2sgYHVzZXJBZ2VudGAgZXZlbiBpZiBgLnY4YCBleGlzdHMsIGJ1dCAwXG4gIGlmICghdmVyc2lvbiAmJiB1c2VyQWdlbnQkNSkge1xuICAgIG1hdGNoID0gdXNlckFnZW50JDUubWF0Y2goL0VkZ2VcXC8oXFxkKykvKTtcbiAgICBpZiAoIW1hdGNoIHx8IG1hdGNoWzFdID49IDc0KSB7XG4gICAgICBtYXRjaCA9IHVzZXJBZ2VudCQ1Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgIGlmIChtYXRjaCkgdmVyc2lvbiA9ICttYXRjaFsxXTtcbiAgICB9XG4gIH1cblxuICB2YXIgZW5naW5lVjhWZXJzaW9uID0gdmVyc2lvbjtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmcgKi9cbiAgdmFyIFY4X1ZFUlNJT04kMyA9IGVuZ2luZVY4VmVyc2lvbjtcbiAgdmFyIGZhaWxzJHEgPSBmYWlscyR1O1xuICB2YXIgZ2xvYmFsJG0gPSBnbG9iYWwkcDtcblxuICB2YXIgJFN0cmluZyQ1ID0gZ2xvYmFsJG0uU3RyaW5nO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHZhciBzeW1ib2xDb25zdHJ1Y3RvckRldGVjdGlvbiA9ICEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAhZmFpbHMkcShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN5bWJvbCA9IFN5bWJvbCgnc3ltYm9sIGRldGVjdGlvbicpO1xuICAgIC8vIENocm9tZSAzOCBTeW1ib2wgaGFzIGluY29ycmVjdCB0b1N0cmluZyBjb252ZXJzaW9uXG4gICAgLy8gYGdldC1vd24tcHJvcGVydHktc3ltYm9sc2AgcG9seWZpbGwgc3ltYm9scyBjb252ZXJ0ZWQgdG8gb2JqZWN0IGFyZSBub3QgU3ltYm9sIGluc3RhbmNlc1xuICAgIC8vIG5iOiBEbyBub3QgY2FsbCBgU3RyaW5nYCBkaXJlY3RseSB0byBhdm9pZCB0aGlzIGJlaW5nIG9wdGltaXplZCBvdXQgdG8gYHN5bWJvbCsnJ2Agd2hpY2ggd2lsbCxcbiAgICAvLyBvZiBjb3Vyc2UsIGZhaWwuXG4gICAgcmV0dXJuICEkU3RyaW5nJDUoc3ltYm9sKSB8fCAhKE9iamVjdChzeW1ib2wpIGluc3RhbmNlb2YgU3ltYm9sKSB8fFxuICAgICAgLy8gQ2hyb21lIDM4LTQwIHN5bWJvbHMgYXJlIG5vdCBpbmhlcml0ZWQgZnJvbSBET00gY29sbGVjdGlvbnMgcHJvdG90eXBlcyB0byBpbnN0YW5jZXNcbiAgICAgICFTeW1ib2wuc2hhbSAmJiBWOF9WRVJTSU9OJDMgJiYgVjhfVkVSU0lPTiQzIDwgNDE7XG4gIH0pO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIGVzL25vLXN5bWJvbCAtLSByZXF1aXJlZCBmb3IgdGVzdGluZyAqL1xuICB2YXIgTkFUSVZFX1NZTUJPTCQ1ID0gc3ltYm9sQ29uc3RydWN0b3JEZXRlY3Rpb247XG5cbiAgdmFyIHVzZVN5bWJvbEFzVWlkID0gTkFUSVZFX1NZTUJPTCQ1XG4gICAgJiYgIVN5bWJvbC5zaGFtXG4gICAgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PSAnc3ltYm9sJztcblxuICB2YXIgZ2V0QnVpbHRJbiRlID0gZ2V0QnVpbHRJbiRmO1xuICB2YXIgaXNDYWxsYWJsZSRqID0gaXNDYWxsYWJsZSRtO1xuICB2YXIgaXNQcm90b3R5cGVPZiRrID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIFVTRV9TWU1CT0xfQVNfVUlEJDEgPSB1c2VTeW1ib2xBc1VpZDtcblxuICB2YXIgJE9iamVjdCQzID0gT2JqZWN0O1xuXG4gIHZhciBpc1N5bWJvbCQ1ID0gVVNFX1NZTUJPTF9BU19VSUQkMSA/IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG4gIH0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgJFN5bWJvbCA9IGdldEJ1aWx0SW4kZSgnU3ltYm9sJyk7XG4gICAgcmV0dXJuIGlzQ2FsbGFibGUkaigkU3ltYm9sKSAmJiBpc1Byb3RvdHlwZU9mJGsoJFN5bWJvbC5wcm90b3R5cGUsICRPYmplY3QkMyhpdCkpO1xuICB9O1xuXG4gIHZhciAkU3RyaW5nJDQgPSBTdHJpbmc7XG5cbiAgdmFyIHRyeVRvU3RyaW5nJDYgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICRTdHJpbmckNChhcmd1bWVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiAnT2JqZWN0JztcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQ2FsbGFibGUkaSA9IGlzQ2FsbGFibGUkbTtcbiAgdmFyIHRyeVRvU3RyaW5nJDUgPSB0cnlUb1N0cmluZyQ2O1xuXG4gIHZhciAkVHlwZUVycm9yJGYgPSBUeXBlRXJyb3I7XG5cbiAgLy8gYEFzc2VydDogSXNDYWxsYWJsZShhcmd1bWVudCkgaXMgdHJ1ZWBcbiAgdmFyIGFDYWxsYWJsZSRlID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKGlzQ2FsbGFibGUkaShhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgICB0aHJvdyBuZXcgJFR5cGVFcnJvciRmKHRyeVRvU3RyaW5nJDUoYXJndW1lbnQpICsgJyBpcyBub3QgYSBmdW5jdGlvbicpO1xuICB9O1xuXG4gIHZhciBhQ2FsbGFibGUkZCA9IGFDYWxsYWJsZSRlO1xuICB2YXIgaXNOdWxsT3JVbmRlZmluZWQkNCA9IGlzTnVsbE9yVW5kZWZpbmVkJDY7XG5cbiAgLy8gYEdldE1ldGhvZGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZ2V0bWV0aG9kXG4gIHZhciBnZXRNZXRob2QkMyA9IGZ1bmN0aW9uIChWLCBQKSB7XG4gICAgdmFyIGZ1bmMgPSBWW1BdO1xuICAgIHJldHVybiBpc051bGxPclVuZGVmaW5lZCQ0KGZ1bmMpID8gdW5kZWZpbmVkIDogYUNhbGxhYmxlJGQoZnVuYyk7XG4gIH07XG5cbiAgdmFyIGNhbGwkaCA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGlzQ2FsbGFibGUkaCA9IGlzQ2FsbGFibGUkbTtcbiAgdmFyIGlzT2JqZWN0JGcgPSBpc09iamVjdCRoO1xuXG4gIHZhciAkVHlwZUVycm9yJGUgPSBUeXBlRXJyb3I7XG5cbiAgLy8gYE9yZGluYXJ5VG9QcmltaXRpdmVgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgdmFyIG9yZGluYXJ5VG9QcmltaXRpdmUkMSA9IGZ1bmN0aW9uIChpbnB1dCwgcHJlZikge1xuICAgIHZhciBmbiwgdmFsO1xuICAgIGlmIChwcmVmID09PSAnc3RyaW5nJyAmJiBpc0NhbGxhYmxlJGgoZm4gPSBpbnB1dC50b1N0cmluZykgJiYgIWlzT2JqZWN0JGcodmFsID0gY2FsbCRoKGZuLCBpbnB1dCkpKSByZXR1cm4gdmFsO1xuICAgIGlmIChpc0NhbGxhYmxlJGgoZm4gPSBpbnB1dC52YWx1ZU9mKSAmJiAhaXNPYmplY3QkZyh2YWwgPSBjYWxsJGgoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gICAgaWYgKHByZWYgIT09ICdzdHJpbmcnICYmIGlzQ2FsbGFibGUkaChmbiA9IGlucHV0LnRvU3RyaW5nKSAmJiAhaXNPYmplY3QkZyh2YWwgPSBjYWxsJGgoZm4sIGlucHV0KSkpIHJldHVybiB2YWw7XG4gICAgdGhyb3cgbmV3ICRUeXBlRXJyb3IkZShcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfTtcblxuICB2YXIgc2hhcmVkJDcgPSB7ZXhwb3J0czoge319O1xuXG4gIHZhciBpc1B1cmUgPSB0cnVlO1xuXG4gIHZhciBnbG9iYWwkbCA9IGdsb2JhbCRwO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuICB2YXIgZGVmaW5lUHJvcGVydHkkZSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuICB2YXIgZGVmaW5lR2xvYmFsUHJvcGVydHkkMSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGRlZmluZVByb3BlcnR5JGUoZ2xvYmFsJGwsIGtleSwgeyB2YWx1ZTogdmFsdWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGdsb2JhbCRsW2tleV0gPSB2YWx1ZTtcbiAgICB9IHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJGsgPSBnbG9iYWwkcDtcbiAgdmFyIGRlZmluZUdsb2JhbFByb3BlcnR5ID0gZGVmaW5lR2xvYmFsUHJvcGVydHkkMTtcblxuICB2YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG4gIHZhciBzdG9yZSQzID0gZ2xvYmFsJGtbU0hBUkVEXSB8fCBkZWZpbmVHbG9iYWxQcm9wZXJ0eShTSEFSRUQsIHt9KTtcblxuICB2YXIgc2hhcmVkU3RvcmUgPSBzdG9yZSQzO1xuXG4gIHZhciBzdG9yZSQyID0gc2hhcmVkU3RvcmU7XG5cbiAgKHNoYXJlZCQ3LmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiBzdG9yZSQyW2tleV0gfHwgKHN0b3JlJDJba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcbiAgfSkoJ3ZlcnNpb25zJywgW10pLnB1c2goe1xuICAgIHZlcnNpb246ICczLjMzLjInLFxuICAgIG1vZGU6ICdwdXJlJyAsXG4gICAgY29weXJpZ2h0OiAnwqkgMjAxNC0yMDIzIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpJyxcbiAgICBsaWNlbnNlOiAnaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvYmxvYi92My4zMy4yL0xJQ0VOU0UnLFxuICAgIHNvdXJjZTogJ2h0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzJ1xuICB9KTtcblxuICB2YXIgc2hhcmVkRXhwb3J0cyA9IHNoYXJlZCQ3LmV4cG9ydHM7XG5cbiAgdmFyIHJlcXVpcmVPYmplY3RDb2VyY2libGUkMSA9IHJlcXVpcmVPYmplY3RDb2VyY2libGUkMztcblxuICB2YXIgJE9iamVjdCQyID0gT2JqZWN0O1xuXG4gIC8vIGBUb09iamVjdGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9vYmplY3RcbiAgdmFyIHRvT2JqZWN0JGUgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gJE9iamVjdCQyKHJlcXVpcmVPYmplY3RDb2VyY2libGUkMShhcmd1bWVudCkpO1xuICB9O1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRtID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIHRvT2JqZWN0JGQgPSB0b09iamVjdCRlO1xuXG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzJG0oe30uaGFzT3duUHJvcGVydHkpO1xuXG4gIC8vIGBIYXNPd25Qcm9wZXJ0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaGFzb3ducHJvcGVydHlcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1oYXNvd24gLS0gc2FmZVxuICB2YXIgaGFzT3duUHJvcGVydHlfMSA9IE9iamVjdC5oYXNPd24gfHwgZnVuY3Rpb24gaGFzT3duKGl0LCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duUHJvcGVydHkodG9PYmplY3QkZChpdCksIGtleSk7XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJGwgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuXG4gIHZhciBpZCQxID0gMDtcbiAgdmFyIHBvc3RmaXggPSBNYXRoLnJhbmRvbSgpO1xuICB2YXIgdG9TdHJpbmckOCA9IHVuY3VycnlUaGlzJGwoMS4wLnRvU3RyaW5nKTtcblxuICB2YXIgdWlkJDQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICdTeW1ib2woJyArIChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5KSArICcpXycgKyB0b1N0cmluZyQ4KCsraWQkMSArIHBvc3RmaXgsIDM2KTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJGogPSBnbG9iYWwkcDtcbiAgdmFyIHNoYXJlZCQ2ID0gc2hhcmVkRXhwb3J0cztcbiAgdmFyIGhhc093biRqID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIHVpZCQzID0gdWlkJDQ7XG4gIHZhciBOQVRJVkVfU1lNQk9MJDQgPSBzeW1ib2xDb25zdHJ1Y3RvckRldGVjdGlvbjtcbiAgdmFyIFVTRV9TWU1CT0xfQVNfVUlEID0gdXNlU3ltYm9sQXNVaWQ7XG5cbiAgdmFyIFN5bWJvbCQzID0gZ2xvYmFsJGouU3ltYm9sO1xuICB2YXIgV2VsbEtub3duU3ltYm9sc1N0b3JlJDIgPSBzaGFyZWQkNignd2tzJyk7XG4gIHZhciBjcmVhdGVXZWxsS25vd25TeW1ib2wgPSBVU0VfU1lNQk9MX0FTX1VJRCA/IFN5bWJvbCQzWydmb3InXSB8fCBTeW1ib2wkMyA6IFN5bWJvbCQzICYmIFN5bWJvbCQzLndpdGhvdXRTZXR0ZXIgfHwgdWlkJDM7XG5cbiAgdmFyIHdlbGxLbm93blN5bWJvbCRuID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIWhhc093biRqKFdlbGxLbm93blN5bWJvbHNTdG9yZSQyLCBuYW1lKSkge1xuICAgICAgV2VsbEtub3duU3ltYm9sc1N0b3JlJDJbbmFtZV0gPSBOQVRJVkVfU1lNQk9MJDQgJiYgaGFzT3duJGooU3ltYm9sJDMsIG5hbWUpXG4gICAgICAgID8gU3ltYm9sJDNbbmFtZV1cbiAgICAgICAgOiBjcmVhdGVXZWxsS25vd25TeW1ib2woJ1N5bWJvbC4nICsgbmFtZSk7XG4gICAgfSByZXR1cm4gV2VsbEtub3duU3ltYm9sc1N0b3JlJDJbbmFtZV07XG4gIH07XG5cbiAgdmFyIGNhbGwkZyA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGlzT2JqZWN0JGYgPSBpc09iamVjdCRoO1xuICB2YXIgaXNTeW1ib2wkNCA9IGlzU3ltYm9sJDU7XG4gIHZhciBnZXRNZXRob2QkMiA9IGdldE1ldGhvZCQzO1xuICB2YXIgb3JkaW5hcnlUb1ByaW1pdGl2ZSA9IG9yZGluYXJ5VG9QcmltaXRpdmUkMTtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCRtID0gd2VsbEtub3duU3ltYm9sJG47XG5cbiAgdmFyICRUeXBlRXJyb3IkZCA9IFR5cGVFcnJvcjtcbiAgdmFyIFRPX1BSSU1JVElWRSA9IHdlbGxLbm93blN5bWJvbCRtKCd0b1ByaW1pdGl2ZScpO1xuXG4gIC8vIGBUb1ByaW1pdGl2ZWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtdG9wcmltaXRpdmVcbiAgdmFyIHRvUHJpbWl0aXZlJDYgPSBmdW5jdGlvbiAoaW5wdXQsIHByZWYpIHtcbiAgICBpZiAoIWlzT2JqZWN0JGYoaW5wdXQpIHx8IGlzU3ltYm9sJDQoaW5wdXQpKSByZXR1cm4gaW5wdXQ7XG4gICAgdmFyIGV4b3RpY1RvUHJpbSA9IGdldE1ldGhvZCQyKGlucHV0LCBUT19QUklNSVRJVkUpO1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGV4b3RpY1RvUHJpbSkge1xuICAgICAgaWYgKHByZWYgPT09IHVuZGVmaW5lZCkgcHJlZiA9ICdkZWZhdWx0JztcbiAgICAgIHJlc3VsdCA9IGNhbGwkZyhleG90aWNUb1ByaW0sIGlucHV0LCBwcmVmKTtcbiAgICAgIGlmICghaXNPYmplY3QkZihyZXN1bHQpIHx8IGlzU3ltYm9sJDQocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIHRocm93IG5ldyAkVHlwZUVycm9yJGQoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG4gICAgfVxuICAgIGlmIChwcmVmID09PSB1bmRlZmluZWQpIHByZWYgPSAnbnVtYmVyJztcbiAgICByZXR1cm4gb3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgcHJlZik7XG4gIH07XG5cbiAgdmFyIHRvUHJpbWl0aXZlJDUgPSB0b1ByaW1pdGl2ZSQ2O1xuICB2YXIgaXNTeW1ib2wkMyA9IGlzU3ltYm9sJDU7XG5cbiAgLy8gYFRvUHJvcGVydHlLZXlgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvcHJvcGVydHlrZXlcbiAgdmFyIHRvUHJvcGVydHlLZXkkNCA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHZhciBrZXkgPSB0b1ByaW1pdGl2ZSQ1KGFyZ3VtZW50LCAnc3RyaW5nJyk7XG4gICAgcmV0dXJuIGlzU3ltYm9sJDMoa2V5KSA/IGtleSA6IGtleSArICcnO1xuICB9O1xuXG4gIHZhciBnbG9iYWwkaSA9IGdsb2JhbCRwO1xuICB2YXIgaXNPYmplY3QkZSA9IGlzT2JqZWN0JGg7XG5cbiAgdmFyIGRvY3VtZW50JDMgPSBnbG9iYWwkaS5kb2N1bWVudDtcbiAgLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG4gIHZhciBFWElTVFMkMSA9IGlzT2JqZWN0JGUoZG9jdW1lbnQkMykgJiYgaXNPYmplY3QkZShkb2N1bWVudCQzLmNyZWF0ZUVsZW1lbnQpO1xuXG4gIHZhciBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBFWElTVFMkMSA/IGRvY3VtZW50JDMuY3JlYXRlRWxlbWVudChpdCkgOiB7fTtcbiAgfTtcblxuICB2YXIgREVTQ1JJUFRPUlMkaCA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZmFpbHMkcCA9IGZhaWxzJHU7XG4gIHZhciBjcmVhdGVFbGVtZW50JDEgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMTtcblxuICAvLyBUaGFua3MgdG8gSUU4IGZvciBpdHMgZnVubnkgZGVmaW5lUHJvcGVydHlcbiAgdmFyIGllOERvbURlZmluZSA9ICFERVNDUklQVE9SUyRoICYmICFmYWlscyRwKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjcmVhdGVFbGVtZW50JDEoJ2RpdicpLCAnYScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfVxuICAgIH0pLmEgIT09IDc7XG4gIH0pO1xuXG4gIHZhciBERVNDUklQVE9SUyRnID0gZGVzY3JpcHRvcnM7XG4gIHZhciBjYWxsJGYgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQyID0gb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNiA9IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ3O1xuICB2YXIgdG9JbmRleGVkT2JqZWN0JDkgPSB0b0luZGV4ZWRPYmplY3QkYTtcbiAgdmFyIHRvUHJvcGVydHlLZXkkMyA9IHRvUHJvcGVydHlLZXkkNDtcbiAgdmFyIGhhc093biRpID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIElFOF9ET01fREVGSU5FJDEgPSBpZThEb21EZWZpbmU7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICB2YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciQyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuICAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5ZGVzY3JpcHRvclxuICBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuZiA9IERFU0NSSVBUT1JTJGcgPyAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDIgOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUCkge1xuICAgIE8gPSB0b0luZGV4ZWRPYmplY3QkOShPKTtcbiAgICBQID0gdG9Qcm9wZXJ0eUtleSQzKFApO1xuICAgIGlmIChJRThfRE9NX0RFRklORSQxKSB0cnkge1xuICAgICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMihPLCBQKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBlbXB0eSAqLyB9XG4gICAgaWYgKGhhc093biRpKE8sIFApKSByZXR1cm4gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDYoIWNhbGwkZihwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQyLmYsIE8sIFApLCBPW1BdKTtcbiAgfTtcblxuICB2YXIgZmFpbHMkbyA9IGZhaWxzJHU7XG4gIHZhciBpc0NhbGxhYmxlJGcgPSBpc0NhbGxhYmxlJG07XG5cbiAgdmFyIHJlcGxhY2VtZW50ID0gLyN8XFwucHJvdG90eXBlXFwuLztcblxuICB2YXIgaXNGb3JjZWQkMiA9IGZ1bmN0aW9uIChmZWF0dXJlLCBkZXRlY3Rpb24pIHtcbiAgICB2YXIgdmFsdWUgPSBkYXRhW25vcm1hbGl6ZShmZWF0dXJlKV07XG4gICAgcmV0dXJuIHZhbHVlID09PSBQT0xZRklMTCA/IHRydWVcbiAgICAgIDogdmFsdWUgPT09IE5BVElWRSA/IGZhbHNlXG4gICAgICA6IGlzQ2FsbGFibGUkZyhkZXRlY3Rpb24pID8gZmFpbHMkbyhkZXRlY3Rpb24pXG4gICAgICA6ICEhZGV0ZWN0aW9uO1xuICB9O1xuXG4gIHZhciBub3JtYWxpemUgPSBpc0ZvcmNlZCQyLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZShyZXBsYWNlbWVudCwgJy4nKS50b0xvd2VyQ2FzZSgpO1xuICB9O1xuXG4gIHZhciBkYXRhID0gaXNGb3JjZWQkMi5kYXRhID0ge307XG4gIHZhciBOQVRJVkUgPSBpc0ZvcmNlZCQyLk5BVElWRSA9ICdOJztcbiAgdmFyIFBPTFlGSUxMID0gaXNGb3JjZWQkMi5QT0xZRklMTCA9ICdQJztcblxuICB2YXIgaXNGb3JjZWRfMSA9IGlzRm9yY2VkJDI7XG5cbiAgdmFyIHVuY3VycnlUaGlzJGsgPSBmdW5jdGlvblVuY3VycnlUaGlzQ2xhdXNlO1xuICB2YXIgYUNhbGxhYmxlJGMgPSBhQ2FsbGFibGUkZTtcbiAgdmFyIE5BVElWRV9CSU5EJDEgPSBmdW5jdGlvbkJpbmROYXRpdmU7XG5cbiAgdmFyIGJpbmQkaSA9IHVuY3VycnlUaGlzJGsodW5jdXJyeVRoaXMkay5iaW5kKTtcblxuICAvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbiAgdmFyIGZ1bmN0aW9uQmluZENvbnRleHQgPSBmdW5jdGlvbiAoZm4sIHRoYXQpIHtcbiAgICBhQ2FsbGFibGUkYyhmbik7XG4gICAgcmV0dXJuIHRoYXQgPT09IHVuZGVmaW5lZCA/IGZuIDogTkFUSVZFX0JJTkQkMSA/IGJpbmQkaShmbiwgdGhhdCkgOiBmdW5jdGlvbiAoLyogLi4uYXJncyAqLykge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgb2JqZWN0RGVmaW5lUHJvcGVydHkgPSB7fTtcblxuICB2YXIgREVTQ1JJUFRPUlMkZiA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZmFpbHMkbiA9IGZhaWxzJHU7XG5cbiAgLy8gVjggfiBDaHJvbWUgMzYtXG4gIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMzMzRcbiAgdmFyIHY4UHJvdG90eXBlRGVmaW5lQnVnID0gREVTQ1JJUFRPUlMkZiAmJiBmYWlscyRuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sICdwcm90b3R5cGUnLCB7XG4gICAgICB2YWx1ZTogNDIsXG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KS5wcm90b3R5cGUgIT09IDQyO1xuICB9KTtcblxuICB2YXIgaXNPYmplY3QkZCA9IGlzT2JqZWN0JGg7XG5cbiAgdmFyICRTdHJpbmckMyA9IFN0cmluZztcbiAgdmFyICRUeXBlRXJyb3IkYyA9IFR5cGVFcnJvcjtcblxuICAvLyBgQXNzZXJ0OiBUeXBlKGFyZ3VtZW50KSBpcyBPYmplY3RgXG4gIHZhciBhbk9iamVjdCRkID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgaWYgKGlzT2JqZWN0JGQoYXJndW1lbnQpKSByZXR1cm4gYXJndW1lbnQ7XG4gICAgdGhyb3cgbmV3ICRUeXBlRXJyb3IkYygkU3RyaW5nJDMoYXJndW1lbnQpICsgJyBpcyBub3QgYW4gb2JqZWN0Jyk7XG4gIH07XG5cbiAgdmFyIERFU0NSSVBUT1JTJGUgPSBkZXNjcmlwdG9ycztcbiAgdmFyIElFOF9ET01fREVGSU5FID0gaWU4RG9tRGVmaW5lO1xuICB2YXIgVjhfUFJPVE9UWVBFX0RFRklORV9CVUckMSA9IHY4UHJvdG90eXBlRGVmaW5lQnVnO1xuICB2YXIgYW5PYmplY3QkYyA9IGFuT2JqZWN0JGQ7XG4gIHZhciB0b1Byb3BlcnR5S2V5JDIgPSB0b1Byb3BlcnR5S2V5JDQ7XG5cbiAgdmFyICRUeXBlRXJyb3IkYiA9IFR5cGVFcnJvcjtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4gIHZhciAkZGVmaW5lUHJvcGVydHkkMSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICB2YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciQxID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgdmFyIEVOVU1FUkFCTEUgPSAnZW51bWVyYWJsZSc7XG4gIHZhciBDT05GSUdVUkFCTEUkMSA9ICdjb25maWd1cmFibGUnO1xuICB2YXIgV1JJVEFCTEUgPSAnd3JpdGFibGUnO1xuXG4gIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5kZWZpbmVwcm9wZXJ0eVxuICBvYmplY3REZWZpbmVQcm9wZXJ0eS5mID0gREVTQ1JJUFRPUlMkZSA/IFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHJDEgPyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gICAgYW5PYmplY3QkYyhPKTtcbiAgICBQID0gdG9Qcm9wZXJ0eUtleSQyKFApO1xuICAgIGFuT2JqZWN0JGMoQXR0cmlidXRlcyk7XG4gICAgaWYgKHR5cGVvZiBPID09PSAnZnVuY3Rpb24nICYmIFAgPT09ICdwcm90b3R5cGUnICYmICd2YWx1ZScgaW4gQXR0cmlidXRlcyAmJiBXUklUQUJMRSBpbiBBdHRyaWJ1dGVzICYmICFBdHRyaWJ1dGVzW1dSSVRBQkxFXSkge1xuICAgICAgdmFyIGN1cnJlbnQgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEoTywgUCk7XG4gICAgICBpZiAoY3VycmVudCAmJiBjdXJyZW50W1dSSVRBQkxFXSkge1xuICAgICAgICBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgICAgICAgQXR0cmlidXRlcyA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6IENPTkZJR1VSQUJMRSQxIGluIEF0dHJpYnV0ZXMgPyBBdHRyaWJ1dGVzW0NPTkZJR1VSQUJMRSQxXSA6IGN1cnJlbnRbQ09ORklHVVJBQkxFJDFdLFxuICAgICAgICAgIGVudW1lcmFibGU6IEVOVU1FUkFCTEUgaW4gQXR0cmlidXRlcyA/IEF0dHJpYnV0ZXNbRU5VTUVSQUJMRV0gOiBjdXJyZW50W0VOVU1FUkFCTEVdLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gcmV0dXJuICRkZWZpbmVQcm9wZXJ0eSQxKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IDogJGRlZmluZVByb3BlcnR5JDEgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gICAgYW5PYmplY3QkYyhPKTtcbiAgICBQID0gdG9Qcm9wZXJ0eUtleSQyKFApO1xuICAgIGFuT2JqZWN0JGMoQXR0cmlidXRlcyk7XG4gICAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgICAgcmV0dXJuICRkZWZpbmVQcm9wZXJ0eSQxKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBuZXcgJFR5cGVFcnJvciRiKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCcpO1xuICAgIGlmICgndmFsdWUnIGluIEF0dHJpYnV0ZXMpIE9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICAgIHJldHVybiBPO1xuICB9O1xuXG4gIHZhciBERVNDUklQVE9SUyRkID0gZGVzY3JpcHRvcnM7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQ0ID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNSA9IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ3O1xuXG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkOSA9IERFU0NSSVBUT1JTJGQgPyBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIGRlZmluZVByb3BlcnR5TW9kdWxlJDQuZihvYmplY3QsIGtleSwgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDUoMSwgdmFsdWUpKTtcbiAgfSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCRoID0gZ2xvYmFsJHA7XG4gIHZhciBhcHBseSQ1ID0gZnVuY3Rpb25BcHBseTtcbiAgdmFyIHVuY3VycnlUaGlzJGogPSBmdW5jdGlvblVuY3VycnlUaGlzQ2xhdXNlO1xuICB2YXIgaXNDYWxsYWJsZSRmID0gaXNDYWxsYWJsZSRtO1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDYgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuZjtcbiAgdmFyIGlzRm9yY2VkJDEgPSBpc0ZvcmNlZF8xO1xuICB2YXIgcGF0aCRtID0gcGF0aCRvO1xuICB2YXIgYmluZCRoID0gZnVuY3Rpb25CaW5kQ29udGV4dDtcbiAgdmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ4ID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDk7XG4gIHZhciBoYXNPd24kaCA9IGhhc093blByb3BlcnR5XzE7XG5cbiAgdmFyIHdyYXBDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChOYXRpdmVDb25zdHJ1Y3Rvcikge1xuICAgIHZhciBXcmFwcGVyID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgV3JhcHBlcikge1xuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoKTtcbiAgICAgICAgICBjYXNlIDE6IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoYSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IE5hdGl2ZUNvbnN0cnVjdG9yKGEsIGIpO1xuICAgICAgICB9IHJldHVybiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoYSwgYiwgYyk7XG4gICAgICB9IHJldHVybiBhcHBseSQ1KE5hdGl2ZUNvbnN0cnVjdG9yLCB0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgV3JhcHBlci5wcm90b3R5cGUgPSBOYXRpdmVDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gICAgcmV0dXJuIFdyYXBwZXI7XG4gIH07XG5cbiAgLypcbiAgICBvcHRpb25zLnRhcmdldCAgICAgICAgIC0gbmFtZSBvZiB0aGUgdGFyZ2V0IG9iamVjdFxuICAgIG9wdGlvbnMuZ2xvYmFsICAgICAgICAgLSB0YXJnZXQgaXMgdGhlIGdsb2JhbCBvYmplY3RcbiAgICBvcHRpb25zLnN0YXQgICAgICAgICAgIC0gZXhwb3J0IGFzIHN0YXRpYyBtZXRob2RzIG9mIHRhcmdldFxuICAgIG9wdGlvbnMucHJvdG8gICAgICAgICAgLSBleHBvcnQgYXMgcHJvdG90eXBlIG1ldGhvZHMgb2YgdGFyZ2V0XG4gICAgb3B0aW9ucy5yZWFsICAgICAgICAgICAtIHJlYWwgcHJvdG90eXBlIG1ldGhvZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gICAgb3B0aW9ucy5mb3JjZWQgICAgICAgICAtIGV4cG9ydCBldmVuIGlmIHRoZSBuYXRpdmUgZmVhdHVyZSBpcyBhdmFpbGFibGVcbiAgICBvcHRpb25zLmJpbmQgICAgICAgICAgIC0gYmluZCBtZXRob2RzIHRvIHRoZSB0YXJnZXQsIHJlcXVpcmVkIGZvciB0aGUgYHB1cmVgIHZlcnNpb25cbiAgICBvcHRpb25zLndyYXAgICAgICAgICAgIC0gd3JhcCBjb25zdHJ1Y3RvcnMgdG8gcHJldmVudGluZyBnbG9iYWwgcG9sbHV0aW9uLCByZXF1aXJlZCBmb3IgdGhlIGBwdXJlYCB2ZXJzaW9uXG4gICAgb3B0aW9ucy51bnNhZmUgICAgICAgICAtIHVzZSB0aGUgc2ltcGxlIGFzc2lnbm1lbnQgb2YgcHJvcGVydHkgaW5zdGVhZCBvZiBkZWxldGUgKyBkZWZpbmVQcm9wZXJ0eVxuICAgIG9wdGlvbnMuc2hhbSAgICAgICAgICAgLSBhZGQgYSBmbGFnIHRvIG5vdCBjb21wbGV0ZWx5IGZ1bGwgcG9seWZpbGxzXG4gICAgb3B0aW9ucy5lbnVtZXJhYmxlICAgICAtIGV4cG9ydCBhcyBlbnVtZXJhYmxlIHByb3BlcnR5XG4gICAgb3B0aW9ucy5kb250Q2FsbEdldFNldCAtIHByZXZlbnQgY2FsbGluZyBhIGdldHRlciBvbiB0YXJnZXRcbiAgICBvcHRpb25zLm5hbWUgICAgICAgICAgIC0gdGhlIC5uYW1lIG9mIHRoZSBmdW5jdGlvbiBpZiBpdCBkb2VzIG5vdCBtYXRjaCB0aGUga2V5XG4gICovXG4gIHZhciBfZXhwb3J0ID0gZnVuY3Rpb24gKG9wdGlvbnMsIHNvdXJjZSkge1xuICAgIHZhciBUQVJHRVQgPSBvcHRpb25zLnRhcmdldDtcbiAgICB2YXIgR0xPQkFMID0gb3B0aW9ucy5nbG9iYWw7XG4gICAgdmFyIFNUQVRJQyA9IG9wdGlvbnMuc3RhdDtcbiAgICB2YXIgUFJPVE8gPSBvcHRpb25zLnByb3RvO1xuXG4gICAgdmFyIG5hdGl2ZVNvdXJjZSA9IEdMT0JBTCA/IGdsb2JhbCRoIDogU1RBVElDID8gZ2xvYmFsJGhbVEFSR0VUXSA6IChnbG9iYWwkaFtUQVJHRVRdIHx8IHt9KS5wcm90b3R5cGU7XG5cbiAgICB2YXIgdGFyZ2V0ID0gR0xPQkFMID8gcGF0aCRtIDogcGF0aCRtW1RBUkdFVF0gfHwgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDgocGF0aCRtLCBUQVJHRVQsIHt9KVtUQVJHRVRdO1xuICAgIHZhciB0YXJnZXRQcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xuXG4gICAgdmFyIEZPUkNFRCwgVVNFX05BVElWRSwgVklSVFVBTF9QUk9UT1RZUEU7XG4gICAgdmFyIGtleSwgc291cmNlUHJvcGVydHksIHRhcmdldFByb3BlcnR5LCBuYXRpdmVQcm9wZXJ0eSwgcmVzdWx0UHJvcGVydHksIGRlc2NyaXB0b3I7XG5cbiAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIEZPUkNFRCA9IGlzRm9yY2VkJDEoR0xPQkFMID8ga2V5IDogVEFSR0VUICsgKFNUQVRJQyA/ICcuJyA6ICcjJykgKyBrZXksIG9wdGlvbnMuZm9yY2VkKTtcbiAgICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgICAgVVNFX05BVElWRSA9ICFGT1JDRUQgJiYgbmF0aXZlU291cmNlICYmIGhhc093biRoKG5hdGl2ZVNvdXJjZSwga2V5KTtcblxuICAgICAgdGFyZ2V0UHJvcGVydHkgPSB0YXJnZXRba2V5XTtcblxuICAgICAgaWYgKFVTRV9OQVRJVkUpIGlmIChvcHRpb25zLmRvbnRDYWxsR2V0U2V0KSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkNihuYXRpdmVTb3VyY2UsIGtleSk7XG4gICAgICAgIG5hdGl2ZVByb3BlcnR5ID0gZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgICAgfSBlbHNlIG5hdGl2ZVByb3BlcnR5ID0gbmF0aXZlU291cmNlW2tleV07XG5cbiAgICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgaW1wbGVtZW50YXRpb25cbiAgICAgIHNvdXJjZVByb3BlcnR5ID0gKFVTRV9OQVRJVkUgJiYgbmF0aXZlUHJvcGVydHkpID8gbmF0aXZlUHJvcGVydHkgOiBzb3VyY2Vba2V5XTtcblxuICAgICAgaWYgKFVTRV9OQVRJVkUgJiYgdHlwZW9mIHRhcmdldFByb3BlcnR5ID09IHR5cGVvZiBzb3VyY2VQcm9wZXJ0eSkgY29udGludWU7XG5cbiAgICAgIC8vIGJpbmQgbWV0aG9kcyB0byBnbG9iYWwgZm9yIGNhbGxpbmcgZnJvbSBleHBvcnQgY29udGV4dFxuICAgICAgaWYgKG9wdGlvbnMuYmluZCAmJiBVU0VfTkFUSVZFKSByZXN1bHRQcm9wZXJ0eSA9IGJpbmQkaChzb3VyY2VQcm9wZXJ0eSwgZ2xvYmFsJGgpO1xuICAgICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZXMgaW4gdGhpcyB2ZXJzaW9uXG4gICAgICBlbHNlIGlmIChvcHRpb25zLndyYXAgJiYgVVNFX05BVElWRSkgcmVzdWx0UHJvcGVydHkgPSB3cmFwQ29uc3RydWN0b3Ioc291cmNlUHJvcGVydHkpO1xuICAgICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgICBlbHNlIGlmIChQUk9UTyAmJiBpc0NhbGxhYmxlJGYoc291cmNlUHJvcGVydHkpKSByZXN1bHRQcm9wZXJ0eSA9IHVuY3VycnlUaGlzJGooc291cmNlUHJvcGVydHkpO1xuICAgICAgLy8gZGVmYXVsdCBjYXNlXG4gICAgICBlbHNlIHJlc3VsdFByb3BlcnR5ID0gc291cmNlUHJvcGVydHk7XG5cbiAgICAgIC8vIGFkZCBhIGZsYWcgdG8gbm90IGNvbXBsZXRlbHkgZnVsbCBwb2x5ZmlsbHNcbiAgICAgIGlmIChvcHRpb25zLnNoYW0gfHwgKHNvdXJjZVByb3BlcnR5ICYmIHNvdXJjZVByb3BlcnR5LnNoYW0pIHx8ICh0YXJnZXRQcm9wZXJ0eSAmJiB0YXJnZXRQcm9wZXJ0eS5zaGFtKSkge1xuICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkOChyZXN1bHRQcm9wZXJ0eSwgJ3NoYW0nLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDgodGFyZ2V0LCBrZXksIHJlc3VsdFByb3BlcnR5KTtcblxuICAgICAgaWYgKFBST1RPKSB7XG4gICAgICAgIFZJUlRVQUxfUFJPVE9UWVBFID0gVEFSR0VUICsgJ1Byb3RvdHlwZSc7XG4gICAgICAgIGlmICghaGFzT3duJGgocGF0aCRtLCBWSVJUVUFMX1BST1RPVFlQRSkpIHtcbiAgICAgICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkOChwYXRoJG0sIFZJUlRVQUxfUFJPVE9UWVBFLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhwb3J0IHZpcnR1YWwgcHJvdG90eXBlIG1ldGhvZHNcbiAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDgocGF0aCRtW1ZJUlRVQUxfUFJPVE9UWVBFXSwga2V5LCBzb3VyY2VQcm9wZXJ0eSk7XG4gICAgICAgIC8vIGV4cG9ydCByZWFsIHByb3RvdHlwZSBtZXRob2RzXG4gICAgICAgIGlmIChvcHRpb25zLnJlYWwgJiYgdGFyZ2V0UHJvdG90eXBlICYmIChGT1JDRUQgfHwgIXRhcmdldFByb3RvdHlwZVtrZXldKSkge1xuICAgICAgICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ4KHRhcmdldFByb3RvdHlwZSwga2V5LCBzb3VyY2VQcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyICQkUCA9IF9leHBvcnQ7XG4gIHZhciBERVNDUklQVE9SUyRjID0gZGVzY3JpcHRvcnM7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSRkID0gb2JqZWN0RGVmaW5lUHJvcGVydHkuZjtcblxuICAvLyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydHlcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4gICQkUCh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogT2JqZWN0LmRlZmluZVByb3BlcnR5ICE9PSBkZWZpbmVQcm9wZXJ0eSRkLCBzaGFtOiAhREVTQ1JJUFRPUlMkYyB9LCB7XG4gICAgZGVmaW5lUHJvcGVydHk6IGRlZmluZVByb3BlcnR5JGRcbiAgfSk7XG5cbiAgdmFyIHBhdGgkbCA9IHBhdGgkbztcblxuICB2YXIgT2JqZWN0JDQgPSBwYXRoJGwuT2JqZWN0O1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSRjID0gZGVmaW5lUHJvcGVydHkkZi5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYykge1xuICAgIHJldHVybiBPYmplY3QkNC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbiAgfTtcblxuICBpZiAoT2JqZWN0JDQuZGVmaW5lUHJvcGVydHkuc2hhbSkgZGVmaW5lUHJvcGVydHkkYy5zaGFtID0gdHJ1ZTtcblxuICB2YXIgZGVmaW5lUHJvcGVydHlFeHBvcnRzID0gZGVmaW5lUHJvcGVydHkkZi5leHBvcnRzO1xuXG4gIHZhciBwYXJlbnQkMTggPSBkZWZpbmVQcm9wZXJ0eUV4cG9ydHM7XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JGIgPSBwYXJlbnQkMTg7XG5cbiAgdmFyIHBhcmVudCQxNyA9IGRlZmluZVByb3BlcnR5JGI7XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JGEgPSBwYXJlbnQkMTc7XG5cbiAgdmFyIHBhcmVudCQxNiA9IGRlZmluZVByb3BlcnR5JGE7XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JDkgPSBwYXJlbnQkMTY7XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JDggPSBkZWZpbmVQcm9wZXJ0eSQ5O1xuXG4gIHZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5JDEgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoZGVmaW5lUHJvcGVydHkkOCk7XG5cbiAgdmFyIGNsYXNzb2YkZSA9IGNsYXNzb2ZSYXckMjtcblxuICAvLyBgSXNBcnJheWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNhcnJheVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktaXNhcnJheSAtLSBzYWZlXG4gIHZhciBpc0FycmF5JGUgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkoYXJndW1lbnQpIHtcbiAgICByZXR1cm4gY2xhc3NvZiRlKGFyZ3VtZW50KSA9PT0gJ0FycmF5JztcbiAgfTtcblxuICB2YXIgY2VpbCA9IE1hdGguY2VpbDtcbiAgdmFyIGZsb29yJDEgPSBNYXRoLmZsb29yO1xuXG4gIC8vIGBNYXRoLnRydW5jYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXRoLnRydW5jXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1tYXRoLXRydW5jIC0tIHNhZmVcbiAgdmFyIG1hdGhUcnVuYyA9IE1hdGgudHJ1bmMgfHwgZnVuY3Rpb24gdHJ1bmMoeCkge1xuICAgIHZhciBuID0gK3g7XG4gICAgcmV0dXJuIChuID4gMCA/IGZsb29yJDEgOiBjZWlsKShuKTtcbiAgfTtcblxuICB2YXIgdHJ1bmMgPSBtYXRoVHJ1bmM7XG5cbiAgLy8gYFRvSW50ZWdlck9ySW5maW5pdHlgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvaW50ZWdlcm9yaW5maW5pdHlcbiAgdmFyIHRvSW50ZWdlck9ySW5maW5pdHkkNCA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIHZhciBudW1iZXIgPSArYXJndW1lbnQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZSAtLSBOYU4gY2hlY2tcbiAgICByZXR1cm4gbnVtYmVyICE9PSBudW1iZXIgfHwgbnVtYmVyID09PSAwID8gMCA6IHRydW5jKG51bWJlcik7XG4gIH07XG5cbiAgdmFyIHRvSW50ZWdlck9ySW5maW5pdHkkMyA9IHRvSW50ZWdlck9ySW5maW5pdHkkNDtcblxuICB2YXIgbWluJDIgPSBNYXRoLm1pbjtcblxuICAvLyBgVG9MZW5ndGhgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXRvbGVuZ3RoXG4gIHZhciB0b0xlbmd0aCQxID0gZnVuY3Rpb24gKGFyZ3VtZW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50ID4gMCA/IG1pbiQyKHRvSW50ZWdlck9ySW5maW5pdHkkMyhhcmd1bWVudCksIDB4MUZGRkZGRkZGRkZGRkYpIDogMDsgLy8gMiAqKiA1MyAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuICB9O1xuXG4gIHZhciB0b0xlbmd0aCA9IHRvTGVuZ3RoJDE7XG5cbiAgLy8gYExlbmd0aE9mQXJyYXlMaWtlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1sZW5ndGhvZmFycmF5bGlrZVxuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkZCA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdG9MZW5ndGgob2JqLmxlbmd0aCk7XG4gIH07XG5cbiAgdmFyICRUeXBlRXJyb3IkYSA9IFR5cGVFcnJvcjtcbiAgdmFyIE1BWF9TQUZFX0lOVEVHRVIgPSAweDFGRkZGRkZGRkZGRkZGOyAvLyAyICoqIDUzIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG5cbiAgdmFyIGRvZXNOb3RFeGNlZWRTYWZlSW50ZWdlciQ0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKGl0ID4gTUFYX1NBRkVfSU5URUdFUikgdGhyb3cgJFR5cGVFcnJvciRhKCdNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWQnKTtcbiAgICByZXR1cm4gaXQ7XG4gIH07XG5cbiAgdmFyIHRvUHJvcGVydHlLZXkkMSA9IHRvUHJvcGVydHlLZXkkNDtcbiAgdmFyIGRlZmluZVByb3BlcnR5TW9kdWxlJDMgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ0ID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDc7XG5cbiAgdmFyIGNyZWF0ZVByb3BlcnR5JDYgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgdmFyIHByb3BlcnR5S2V5ID0gdG9Qcm9wZXJ0eUtleSQxKGtleSk7XG4gICAgaWYgKHByb3BlcnR5S2V5IGluIG9iamVjdCkgZGVmaW5lUHJvcGVydHlNb2R1bGUkMy5mKG9iamVjdCwgcHJvcGVydHlLZXksIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQ0KDAsIHZhbHVlKSk7XG4gICAgZWxzZSBvYmplY3RbcHJvcGVydHlLZXldID0gdmFsdWU7XG4gIH07XG5cbiAgdmFyIHdlbGxLbm93blN5bWJvbCRsID0gd2VsbEtub3duU3ltYm9sJG47XG5cbiAgdmFyIFRPX1NUUklOR19UQUckNCA9IHdlbGxLbm93blN5bWJvbCRsKCd0b1N0cmluZ1RhZycpO1xuICB2YXIgdGVzdCQyID0ge307XG5cbiAgdGVzdCQyW1RPX1NUUklOR19UQUckNF0gPSAneic7XG5cbiAgdmFyIHRvU3RyaW5nVGFnU3VwcG9ydCA9IFN0cmluZyh0ZXN0JDIpID09PSAnW29iamVjdCB6XSc7XG5cbiAgdmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCQyID0gdG9TdHJpbmdUYWdTdXBwb3J0O1xuICB2YXIgaXNDYWxsYWJsZSRlID0gaXNDYWxsYWJsZSRtO1xuICB2YXIgY2xhc3NvZlJhdyA9IGNsYXNzb2ZSYXckMjtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCRrID0gd2VsbEtub3duU3ltYm9sJG47XG5cbiAgdmFyIFRPX1NUUklOR19UQUckMyA9IHdlbGxLbm93blN5bWJvbCRrKCd0b1N0cmluZ1RhZycpO1xuICB2YXIgJE9iamVjdCQxID0gT2JqZWN0O1xuXG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gIHZhciBDT1JSRUNUX0FSR1VNRU5UUyA9IGNsYXNzb2ZSYXcoZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09PSAnQXJndW1lbnRzJztcblxuICAvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxuICB2YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGl0W2tleV07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICB9O1xuXG4gIC8vIGdldHRpbmcgdGFnIGZyb20gRVM2KyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2BcbiAgdmFyIGNsYXNzb2YkZCA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCQyID8gY2xhc3NvZlJhdyA6IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBPLCB0YWcsIHJlc3VsdDtcbiAgICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgICAgOiB0eXBlb2YgKHRhZyA9IHRyeUdldChPID0gJE9iamVjdCQxKGl0KSwgVE9fU1RSSU5HX1RBRyQzKSkgPT0gJ3N0cmluZycgPyB0YWdcbiAgICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgICAgOiBDT1JSRUNUX0FSR1VNRU5UUyA/IGNsYXNzb2ZSYXcoTylcbiAgICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICAgIDogKHJlc3VsdCA9IGNsYXNzb2ZSYXcoTykpID09PSAnT2JqZWN0JyAmJiBpc0NhbGxhYmxlJGUoTy5jYWxsZWUpID8gJ0FyZ3VtZW50cycgOiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJGkgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgaXNDYWxsYWJsZSRkID0gaXNDYWxsYWJsZSRtO1xuICB2YXIgc3RvcmUkMSA9IHNoYXJlZFN0b3JlO1xuXG4gIHZhciBmdW5jdGlvblRvU3RyaW5nID0gdW5jdXJyeVRoaXMkaShGdW5jdGlvbi50b1N0cmluZyk7XG5cbiAgLy8gdGhpcyBoZWxwZXIgYnJva2VuIGluIGBjb3JlLWpzQDMuNC4xLTMuNC40YCwgc28gd2UgY2FuJ3QgdXNlIGBzaGFyZWRgIGhlbHBlclxuICBpZiAoIWlzQ2FsbGFibGUkZChzdG9yZSQxLmluc3BlY3RTb3VyY2UpKSB7XG4gICAgc3RvcmUkMS5pbnNwZWN0U291cmNlID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb25Ub1N0cmluZyhpdCk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBpbnNwZWN0U291cmNlJDIgPSBzdG9yZSQxLmluc3BlY3RTb3VyY2U7XG5cbiAgdmFyIHVuY3VycnlUaGlzJGggPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgZmFpbHMkbSA9IGZhaWxzJHU7XG4gIHZhciBpc0NhbGxhYmxlJGMgPSBpc0NhbGxhYmxlJG07XG4gIHZhciBjbGFzc29mJGMgPSBjbGFzc29mJGQ7XG4gIHZhciBnZXRCdWlsdEluJGQgPSBnZXRCdWlsdEluJGY7XG4gIHZhciBpbnNwZWN0U291cmNlJDEgPSBpbnNwZWN0U291cmNlJDI7XG5cbiAgdmFyIG5vb3AgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG4gIHZhciBlbXB0eSA9IFtdO1xuICB2YXIgY29uc3RydWN0JDQgPSBnZXRCdWlsdEluJGQoJ1JlZmxlY3QnLCAnY29uc3RydWN0Jyk7XG4gIHZhciBjb25zdHJ1Y3RvclJlZ0V4cCA9IC9eXFxzKig/OmNsYXNzfGZ1bmN0aW9uKVxcYi87XG4gIHZhciBleGVjJDEgPSB1bmN1cnJ5VGhpcyRoKGNvbnN0cnVjdG9yUmVnRXhwLmV4ZWMpO1xuICB2YXIgSU5DT1JSRUNUX1RPX1NUUklORyA9ICFjb25zdHJ1Y3RvclJlZ0V4cC50ZXN0KG5vb3ApO1xuXG4gIHZhciBpc0NvbnN0cnVjdG9yTW9kZXJuID0gZnVuY3Rpb24gaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgIGlmICghaXNDYWxsYWJsZSRjKGFyZ3VtZW50KSkgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdHJ1Y3QkNChub29wLCBlbXB0eSwgYXJndW1lbnQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzQ29uc3RydWN0b3JMZWdhY3kgPSBmdW5jdGlvbiBpc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7XG4gICAgaWYgKCFpc0NhbGxhYmxlJGMoYXJndW1lbnQpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc29mJGMoYXJndW1lbnQpKSB7XG4gICAgICBjYXNlICdBc3luY0Z1bmN0aW9uJzpcbiAgICAgIGNhc2UgJ0dlbmVyYXRvckZ1bmN0aW9uJzpcbiAgICAgIGNhc2UgJ0FzeW5jR2VuZXJhdG9yRnVuY3Rpb24nOiByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyB3ZSBjYW4ndCBjaGVjayAucHJvdG90eXBlIHNpbmNlIGNvbnN0cnVjdG9ycyBwcm9kdWNlZCBieSAuYmluZCBoYXZlbid0IGl0XG4gICAgICAvLyBgRnVuY3Rpb24jdG9TdHJpbmdgIHRocm93cyBvbiBzb21lIGJ1aWx0LWl0IGZ1bmN0aW9uIGluIHNvbWUgbGVnYWN5IGVuZ2luZXNcbiAgICAgIC8vIChmb3IgZXhhbXBsZSwgYERPTVF1YWRgIGFuZCBzaW1pbGFyIGluIEZGNDEtKVxuICAgICAgcmV0dXJuIElOQ09SUkVDVF9UT19TVFJJTkcgfHwgISFleGVjJDEoY29uc3RydWN0b3JSZWdFeHAsIGluc3BlY3RTb3VyY2UkMShhcmd1bWVudCkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgaXNDb25zdHJ1Y3RvckxlZ2FjeS5zaGFtID0gdHJ1ZTtcblxuICAvLyBgSXNDb25zdHJ1Y3RvcmAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtaXNjb25zdHJ1Y3RvclxuICB2YXIgaXNDb25zdHJ1Y3RvciQ0ID0gIWNvbnN0cnVjdCQ0IHx8IGZhaWxzJG0oZnVuY3Rpb24gKCkge1xuICAgIHZhciBjYWxsZWQ7XG4gICAgcmV0dXJuIGlzQ29uc3RydWN0b3JNb2Rlcm4oaXNDb25zdHJ1Y3Rvck1vZGVybi5jYWxsKVxuICAgICAgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oT2JqZWN0KVxuICAgICAgfHwgIWlzQ29uc3RydWN0b3JNb2Rlcm4oZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlOyB9KVxuICAgICAgfHwgY2FsbGVkO1xuICB9KSA/IGlzQ29uc3RydWN0b3JMZWdhY3kgOiBpc0NvbnN0cnVjdG9yTW9kZXJuO1xuXG4gIHZhciBpc0FycmF5JGQgPSBpc0FycmF5JGU7XG4gIHZhciBpc0NvbnN0cnVjdG9yJDMgPSBpc0NvbnN0cnVjdG9yJDQ7XG4gIHZhciBpc09iamVjdCRjID0gaXNPYmplY3QkaDtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCRqID0gd2VsbEtub3duU3ltYm9sJG47XG5cbiAgdmFyIFNQRUNJRVMkNSA9IHdlbGxLbm93blN5bWJvbCRqKCdzcGVjaWVzJyk7XG4gIHZhciAkQXJyYXkkMyA9IEFycmF5O1xuXG4gIC8vIGEgcGFydCBvZiBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheXNwZWNpZXNjcmVhdGVcbiAgdmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yJDEgPSBmdW5jdGlvbiAob3JpZ2luYWxBcnJheSkge1xuICAgIHZhciBDO1xuICAgIGlmIChpc0FycmF5JGQob3JpZ2luYWxBcnJheSkpIHtcbiAgICAgIEMgPSBvcmlnaW5hbEFycmF5LmNvbnN0cnVjdG9yO1xuICAgICAgLy8gY3Jvc3MtcmVhbG0gZmFsbGJhY2tcbiAgICAgIGlmIChpc0NvbnN0cnVjdG9yJDMoQykgJiYgKEMgPT09ICRBcnJheSQzIHx8IGlzQXJyYXkkZChDLnByb3RvdHlwZSkpKSBDID0gdW5kZWZpbmVkO1xuICAgICAgZWxzZSBpZiAoaXNPYmplY3QkYyhDKSkge1xuICAgICAgICBDID0gQ1tTUEVDSUVTJDVdO1xuICAgICAgICBpZiAoQyA9PT0gbnVsbCkgQyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyAkQXJyYXkkMyA6IEM7XG4gIH07XG5cbiAgdmFyIGFycmF5U3BlY2llc0NvbnN0cnVjdG9yID0gYXJyYXlTcGVjaWVzQ29uc3RydWN0b3IkMTtcblxuICAvLyBgQXJyYXlTcGVjaWVzQ3JlYXRlYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheXNwZWNpZXNjcmVhdGVcbiAgdmFyIGFycmF5U3BlY2llc0NyZWF0ZSQ0ID0gZnVuY3Rpb24gKG9yaWdpbmFsQXJyYXksIGxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgKGFycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsQXJyYXkpKShsZW5ndGggPT09IDAgPyAwIDogbGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgZmFpbHMkbCA9IGZhaWxzJHU7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkaSA9IHdlbGxLbm93blN5bWJvbCRuO1xuICB2YXIgVjhfVkVSU0lPTiQyID0gZW5naW5lVjhWZXJzaW9uO1xuXG4gIHZhciBTUEVDSUVTJDQgPSB3ZWxsS25vd25TeW1ib2wkaSgnc3BlY2llcycpO1xuXG4gIHZhciBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDUgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUpIHtcbiAgICAvLyBXZSBjYW4ndCB1c2UgdGhpcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbiAgICAvLyBkZW9wdGltaXphdGlvbiBhbmQgc2VyaW91cyBwZXJmb3JtYW5jZSBkZWdyYWRhdGlvblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzdcbiAgICByZXR1cm4gVjhfVkVSU0lPTiQyID49IDUxIHx8ICFmYWlscyRsKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgdmFyIGNvbnN0cnVjdG9yID0gYXJyYXkuY29uc3RydWN0b3IgPSB7fTtcbiAgICAgIGNvbnN0cnVjdG9yW1NQRUNJRVMkNF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7IGZvbzogMSB9O1xuICAgICAgfTtcbiAgICAgIHJldHVybiBhcnJheVtNRVRIT0RfTkFNRV0oQm9vbGVhbikuZm9vICE9PSAxO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciAkJE8gPSBfZXhwb3J0O1xuICB2YXIgZmFpbHMkayA9IGZhaWxzJHU7XG4gIHZhciBpc0FycmF5JGMgPSBpc0FycmF5JGU7XG4gIHZhciBpc09iamVjdCRiID0gaXNPYmplY3QkaDtcbiAgdmFyIHRvT2JqZWN0JGMgPSB0b09iamVjdCRlO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkYyA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIkMyA9IGRvZXNOb3RFeGNlZWRTYWZlSW50ZWdlciQ0O1xuICB2YXIgY3JlYXRlUHJvcGVydHkkNSA9IGNyZWF0ZVByb3BlcnR5JDY7XG4gIHZhciBhcnJheVNwZWNpZXNDcmVhdGUkMyA9IGFycmF5U3BlY2llc0NyZWF0ZSQ0O1xuICB2YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ0ID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ1O1xuICB2YXIgd2VsbEtub3duU3ltYm9sJGggPSB3ZWxsS25vd25TeW1ib2wkbjtcbiAgdmFyIFY4X1ZFUlNJT04kMSA9IGVuZ2luZVY4VmVyc2lvbjtcblxuICB2YXIgSVNfQ09OQ0FUX1NQUkVBREFCTEUgPSB3ZWxsS25vd25TeW1ib2wkaCgnaXNDb25jYXRTcHJlYWRhYmxlJyk7XG5cbiAgLy8gV2UgY2FuJ3QgdXNlIHRoaXMgZmVhdHVyZSBkZXRlY3Rpb24gaW4gVjggc2luY2UgaXQgY2F1c2VzXG4gIC8vIGRlb3B0aW1pemF0aW9uIGFuZCBzZXJpb3VzIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy82NzlcbiAgdmFyIElTX0NPTkNBVF9TUFJFQURBQkxFX1NVUFBPUlQgPSBWOF9WRVJTSU9OJDEgPj0gNTEgfHwgIWZhaWxzJGsoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGFycmF5W0lTX0NPTkNBVF9TUFJFQURBQkxFXSA9IGZhbHNlO1xuICAgIHJldHVybiBhcnJheS5jb25jYXQoKVswXSAhPT0gYXJyYXk7XG4gIH0pO1xuXG4gIHZhciBpc0NvbmNhdFNwcmVhZGFibGUgPSBmdW5jdGlvbiAoTykge1xuICAgIGlmICghaXNPYmplY3QkYihPKSkgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBzcHJlYWRhYmxlID0gT1tJU19DT05DQVRfU1BSRUFEQUJMRV07XG4gICAgcmV0dXJuIHNwcmVhZGFibGUgIT09IHVuZGVmaW5lZCA/ICEhc3ByZWFkYWJsZSA6IGlzQXJyYXkkYyhPKTtcbiAgfTtcblxuICB2YXIgRk9SQ0VEJDYgPSAhSVNfQ09OQ0FUX1NQUkVBREFCTEVfU1VQUE9SVCB8fCAhYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ0KCdjb25jYXQnKTtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLmNvbmNhdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmNvbmNhdFxuICAvLyB3aXRoIGFkZGluZyBzdXBwb3J0IG9mIEBAaXNDb25jYXRTcHJlYWRhYmxlIGFuZCBAQHNwZWNpZXNcbiAgJCRPKHsgdGFyZ2V0OiAnQXJyYXknLCBwcm90bzogdHJ1ZSwgYXJpdHk6IDEsIGZvcmNlZDogRk9SQ0VEJDYgfSwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgY29uY2F0OiBmdW5jdGlvbiBjb25jYXQoYXJnKSB7XG4gICAgICB2YXIgTyA9IHRvT2JqZWN0JGModGhpcyk7XG4gICAgICB2YXIgQSA9IGFycmF5U3BlY2llc0NyZWF0ZSQzKE8sIDApO1xuICAgICAgdmFyIG4gPSAwO1xuICAgICAgdmFyIGksIGssIGxlbmd0aCwgbGVuLCBFO1xuICAgICAgZm9yIChpID0gLTEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBFID0gaSA9PT0gLTEgPyBPIDogYXJndW1lbnRzW2ldO1xuICAgICAgICBpZiAoaXNDb25jYXRTcHJlYWRhYmxlKEUpKSB7XG4gICAgICAgICAgbGVuID0gbGVuZ3RoT2ZBcnJheUxpa2UkYyhFKTtcbiAgICAgICAgICBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIkMyhuICsgbGVuKTtcbiAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbGVuOyBrKyssIG4rKykgaWYgKGsgaW4gRSkgY3JlYXRlUHJvcGVydHkkNShBLCBuLCBFW2tdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIkMyhuICsgMSk7XG4gICAgICAgICAgY3JlYXRlUHJvcGVydHkkNShBLCBuKyssIEUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBBLmxlbmd0aCA9IG47XG4gICAgICByZXR1cm4gQTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBjbGFzc29mJGIgPSBjbGFzc29mJGQ7XG5cbiAgdmFyICRTdHJpbmckMiA9IFN0cmluZztcblxuICB2YXIgdG9TdHJpbmckNyA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIGlmIChjbGFzc29mJGIoYXJndW1lbnQpID09PSAnU3ltYm9sJykgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmcnKTtcbiAgICByZXR1cm4gJFN0cmluZyQyKGFyZ3VtZW50KTtcbiAgfTtcblxuICB2YXIgb2JqZWN0RGVmaW5lUHJvcGVydGllcyA9IHt9O1xuXG4gIHZhciB0b0ludGVnZXJPckluZmluaXR5JDIgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG5cbiAgdmFyIG1heCQzID0gTWF0aC5tYXg7XG4gIHZhciBtaW4kMSA9IE1hdGgubWluO1xuXG4gIC8vIEhlbHBlciBmb3IgYSBwb3B1bGFyIHJlcGVhdGluZyBjYXNlIG9mIHRoZSBzcGVjOlxuICAvLyBMZXQgaW50ZWdlciBiZSA/IFRvSW50ZWdlcihpbmRleCkuXG4gIC8vIElmIGludGVnZXIgPCAwLCBsZXQgcmVzdWx0IGJlIG1heCgobGVuZ3RoICsgaW50ZWdlciksIDApOyBlbHNlIGxldCByZXN1bHQgYmUgbWluKGludGVnZXIsIGxlbmd0aCkuXG4gIHZhciB0b0Fic29sdXRlSW5kZXgkNCA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gICAgdmFyIGludGVnZXIgPSB0b0ludGVnZXJPckluZmluaXR5JDIoaW5kZXgpO1xuICAgIHJldHVybiBpbnRlZ2VyIDwgMCA/IG1heCQzKGludGVnZXIgKyBsZW5ndGgsIDApIDogbWluJDEoaW50ZWdlciwgbGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgdG9JbmRleGVkT2JqZWN0JDggPSB0b0luZGV4ZWRPYmplY3QkYTtcbiAgdmFyIHRvQWJzb2x1dGVJbmRleCQzID0gdG9BYnNvbHV0ZUluZGV4JDQ7XG4gIHZhciBsZW5ndGhPZkFycmF5TGlrZSRiID0gbGVuZ3RoT2ZBcnJheUxpa2UkZDtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLnsgaW5kZXhPZiwgaW5jbHVkZXMgfWAgbWV0aG9kcyBpbXBsZW1lbnRhdGlvblxuICB2YXIgY3JlYXRlTWV0aG9kJDMgPSBmdW5jdGlvbiAoSVNfSU5DTFVERVMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBlbCwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCQ4KCR0aGlzKTtcbiAgICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSRiKE8pO1xuICAgICAgdmFyIGluZGV4ID0gdG9BYnNvbHV0ZUluZGV4JDMoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgLy8gQXJyYXkjaW5jbHVkZXMgdXNlcyBTYW1lVmFsdWVaZXJvIGVxdWFsaXR5IGFsZ29yaXRobVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZSAtLSBOYU4gY2hlY2tcbiAgICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmUgLS0gTmFOIGNoZWNrXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgICAgLy8gQXJyYXkjaW5kZXhPZiBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgICAgfSBlbHNlIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICgoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTykgJiYgT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBhcnJheUluY2x1ZGVzID0ge1xuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmluY2x1ZGVzXG4gICAgaW5jbHVkZXM6IGNyZWF0ZU1ldGhvZCQzKHRydWUpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuaW5kZXhvZlxuICAgIGluZGV4T2Y6IGNyZWF0ZU1ldGhvZCQzKGZhbHNlKVxuICB9O1xuXG4gIHZhciBoaWRkZW5LZXlzJDYgPSB7fTtcblxuICB2YXIgdW5jdXJyeVRoaXMkZyA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBoYXNPd24kZyA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkNyA9IHRvSW5kZXhlZE9iamVjdCRhO1xuICB2YXIgaW5kZXhPZiA9IGFycmF5SW5jbHVkZXMuaW5kZXhPZjtcbiAgdmFyIGhpZGRlbktleXMkNSA9IGhpZGRlbktleXMkNjtcblxuICB2YXIgcHVzaCRjID0gdW5jdXJyeVRoaXMkZyhbXS5wdXNoKTtcblxuICB2YXIgb2JqZWN0S2V5c0ludGVybmFsID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCQ3KG9iamVjdCk7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIE8pICFoYXNPd24kZyhoaWRkZW5LZXlzJDUsIGtleSkgJiYgaGFzT3duJGcoTywga2V5KSAmJiBwdXNoJGMocmVzdWx0LCBrZXkpO1xuICAgIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgICB3aGlsZSAobmFtZXMubGVuZ3RoID4gaSkgaWYgKGhhc093biRnKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgICB+aW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcHVzaCRjKHJlc3VsdCwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBJRTgtIGRvbid0IGVudW0gYnVnIGtleXNcbiAgdmFyIGVudW1CdWdLZXlzJDMgPSBbXG4gICAgJ2NvbnN0cnVjdG9yJyxcbiAgICAnaGFzT3duUHJvcGVydHknLFxuICAgICdpc1Byb3RvdHlwZU9mJyxcbiAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLFxuICAgICd0b0xvY2FsZVN0cmluZycsXG4gICAgJ3RvU3RyaW5nJyxcbiAgICAndmFsdWVPZidcbiAgXTtcblxuICB2YXIgaW50ZXJuYWxPYmplY3RLZXlzJDEgPSBvYmplY3RLZXlzSW50ZXJuYWw7XG4gIHZhciBlbnVtQnVnS2V5cyQyID0gZW51bUJ1Z0tleXMkMztcblxuICAvLyBgT2JqZWN0LmtleXNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5rZXlzXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3Qta2V5cyAtLSBzYWZlXG4gIHZhciBvYmplY3RLZXlzJDMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pIHtcbiAgICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzJDEoTywgZW51bUJ1Z0tleXMkMik7XG4gIH07XG5cbiAgdmFyIERFU0NSSVBUT1JTJGIgPSBkZXNjcmlwdG9ycztcbiAgdmFyIFY4X1BST1RPVFlQRV9ERUZJTkVfQlVHID0gdjhQcm90b3R5cGVEZWZpbmVCdWc7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQyID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG4gIHZhciBhbk9iamVjdCRiID0gYW5PYmplY3QkZDtcbiAgdmFyIHRvSW5kZXhlZE9iamVjdCQ2ID0gdG9JbmRleGVkT2JqZWN0JGE7XG4gIHZhciBvYmplY3RLZXlzJDIgPSBvYmplY3RLZXlzJDM7XG5cbiAgLy8gYE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZGVmaW5lcHJvcGVydGllc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnRpZXMgLS0gc2FmZVxuICBvYmplY3REZWZpbmVQcm9wZXJ0aWVzLmYgPSBERVNDUklQVE9SUyRiICYmICFWOF9QUk9UT1RZUEVfREVGSU5FX0JVRyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gICAgYW5PYmplY3QkYihPKTtcbiAgICB2YXIgcHJvcHMgPSB0b0luZGV4ZWRPYmplY3QkNihQcm9wZXJ0aWVzKTtcbiAgICB2YXIga2V5cyA9IG9iamVjdEtleXMkMihQcm9wZXJ0aWVzKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIga2V5O1xuICAgIHdoaWxlIChsZW5ndGggPiBpbmRleCkgZGVmaW5lUHJvcGVydHlNb2R1bGUkMi5mKE8sIGtleSA9IGtleXNbaW5kZXgrK10sIHByb3BzW2tleV0pO1xuICAgIHJldHVybiBPO1xuICB9O1xuXG4gIHZhciBnZXRCdWlsdEluJGMgPSBnZXRCdWlsdEluJGY7XG5cbiAgdmFyIGh0bWwkMiA9IGdldEJ1aWx0SW4kYygnZG9jdW1lbnQnLCAnZG9jdW1lbnRFbGVtZW50Jyk7XG5cbiAgdmFyIHNoYXJlZCQ1ID0gc2hhcmVkRXhwb3J0cztcbiAgdmFyIHVpZCQyID0gdWlkJDQ7XG5cbiAgdmFyIGtleXMkNyA9IHNoYXJlZCQ1KCdrZXlzJyk7XG5cbiAgdmFyIHNoYXJlZEtleSQ0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXlzJDdba2V5XSB8fCAoa2V5cyQ3W2tleV0gPSB1aWQkMihrZXkpKTtcbiAgfTtcblxuICAvKiBnbG9iYWwgQWN0aXZlWE9iamVjdCAtLSBvbGQgSUUsIFdTSCAqL1xuICB2YXIgYW5PYmplY3QkYSA9IGFuT2JqZWN0JGQ7XG4gIHZhciBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlJDEgPSBvYmplY3REZWZpbmVQcm9wZXJ0aWVzO1xuICB2YXIgZW51bUJ1Z0tleXMkMSA9IGVudW1CdWdLZXlzJDM7XG4gIHZhciBoaWRkZW5LZXlzJDQgPSBoaWRkZW5LZXlzJDY7XG4gIHZhciBodG1sJDEgPSBodG1sJDI7XG4gIHZhciBkb2N1bWVudENyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMTtcbiAgdmFyIHNoYXJlZEtleSQzID0gc2hhcmVkS2V5JDQ7XG5cbiAgdmFyIEdUID0gJz4nO1xuICB2YXIgTFQgPSAnPCc7XG4gIHZhciBQUk9UT1RZUEUkMSA9ICdwcm90b3R5cGUnO1xuICB2YXIgU0NSSVBUID0gJ3NjcmlwdCc7XG4gIHZhciBJRV9QUk9UTyQxID0gc2hhcmVkS2V5JDMoJ0lFX1BST1RPJyk7XG5cbiAgdmFyIEVtcHR5Q29uc3RydWN0b3IgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG5cbiAgdmFyIHNjcmlwdFRhZyA9IGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgcmV0dXJuIExUICsgU0NSSVBUICsgR1QgKyBjb250ZW50ICsgTFQgKyAnLycgKyBTQ1JJUFQgKyBHVDtcbiAgfTtcblxuICAvLyBDcmVhdGUgb2JqZWN0IHdpdGggZmFrZSBgbnVsbGAgcHJvdG90eXBlOiB1c2UgQWN0aXZlWCBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxuICB2YXIgTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWCA9IGZ1bmN0aW9uIChhY3RpdmVYRG9jdW1lbnQpIHtcbiAgICBhY3RpdmVYRG9jdW1lbnQud3JpdGUoc2NyaXB0VGFnKCcnKSk7XG4gICAgYWN0aXZlWERvY3VtZW50LmNsb3NlKCk7XG4gICAgdmFyIHRlbXAgPSBhY3RpdmVYRG9jdW1lbnQucGFyZW50V2luZG93Lk9iamVjdDtcbiAgICBhY3RpdmVYRG9jdW1lbnQgPSBudWxsOyAvLyBhdm9pZCBtZW1vcnkgbGVha1xuICAgIHJldHVybiB0ZW1wO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbiAgdmFyIE51bGxQcm90b09iamVjdFZpYUlGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIHZhciBKUyA9ICdqYXZhJyArIFNDUklQVCArICc6JztcbiAgICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgaHRtbCQxLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzQ3NVxuICAgIGlmcmFtZS5zcmMgPSBTdHJpbmcoSlMpO1xuICAgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICAgIGlmcmFtZURvY3VtZW50LndyaXRlKHNjcmlwdFRhZygnZG9jdW1lbnQuRj1PYmplY3QnKSk7XG4gICAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcbiAgICByZXR1cm4gaWZyYW1lRG9jdW1lbnQuRjtcbiAgfTtcblxuICAvLyBDaGVjayBmb3IgZG9jdW1lbnQuZG9tYWluIGFuZCBhY3RpdmUgeCBzdXBwb3J0XG4gIC8vIE5vIG5lZWQgdG8gdXNlIGFjdGl2ZSB4IGFwcHJvYWNoIHdoZW4gZG9jdW1lbnQuZG9tYWluIGlzIG5vdCBzZXRcbiAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lcy1zaGltcy9lczUtc2hpbS9pc3N1ZXMvMTUwXG4gIC8vIHZhcmlhdGlvbiBvZiBodHRwczovL2dpdGh1Yi5jb20va2l0Y2FtYnJpZGdlL2VzNS1zaGltL2NvbW1pdC80ZjczOGFjMDY2MzQ2XG4gIC8vIGF2b2lkIElFIEdDIGJ1Z1xuICB2YXIgYWN0aXZlWERvY3VtZW50O1xuICB2YXIgTnVsbFByb3RvT2JqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICBhY3RpdmVYRG9jdW1lbnQgPSBuZXcgQWN0aXZlWE9iamVjdCgnaHRtbGZpbGUnKTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyAvKiBpZ25vcmUgKi8gfVxuICAgIE51bGxQcm90b09iamVjdCA9IHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJ1xuICAgICAgPyBkb2N1bWVudC5kb21haW4gJiYgYWN0aXZlWERvY3VtZW50XG4gICAgICAgID8gTnVsbFByb3RvT2JqZWN0VmlhQWN0aXZlWChhY3RpdmVYRG9jdW1lbnQpIC8vIG9sZCBJRVxuICAgICAgICA6IE51bGxQcm90b09iamVjdFZpYUlGcmFtZSgpXG4gICAgICA6IE51bGxQcm90b09iamVjdFZpYUFjdGl2ZVgoYWN0aXZlWERvY3VtZW50KTsgLy8gV1NIXG4gICAgdmFyIGxlbmd0aCA9IGVudW1CdWdLZXlzJDEubGVuZ3RoO1xuICAgIHdoaWxlIChsZW5ndGgtLSkgZGVsZXRlIE51bGxQcm90b09iamVjdFtQUk9UT1RZUEUkMV1bZW51bUJ1Z0tleXMkMVtsZW5ndGhdXTtcbiAgICByZXR1cm4gTnVsbFByb3RvT2JqZWN0KCk7XG4gIH07XG5cbiAgaGlkZGVuS2V5cyQ0W0lFX1BST1RPJDFdID0gdHJ1ZTtcblxuICAvLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWNyZWF0ZSAtLSBzYWZlXG4gIHZhciBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoTyAhPT0gbnVsbCkge1xuICAgICAgRW1wdHlDb25zdHJ1Y3RvcltQUk9UT1RZUEUkMV0gPSBhbk9iamVjdCRhKE8pO1xuICAgICAgcmVzdWx0ID0gbmV3IEVtcHR5Q29uc3RydWN0b3IoKTtcbiAgICAgIEVtcHR5Q29uc3RydWN0b3JbUFJPVE9UWVBFJDFdID0gbnVsbDtcbiAgICAgIC8vIGFkZCBcIl9fcHJvdG9fX1wiIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YgcG9seWZpbGxcbiAgICAgIHJlc3VsdFtJRV9QUk9UTyQxXSA9IE87XG4gICAgfSBlbHNlIHJlc3VsdCA9IE51bGxQcm90b09iamVjdCgpO1xuICAgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkZWZpbmVQcm9wZXJ0aWVzTW9kdWxlJDEuZihyZXN1bHQsIFByb3BlcnRpZXMpO1xuICB9O1xuXG4gIHZhciBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzID0ge307XG5cbiAgdmFyIGludGVybmFsT2JqZWN0S2V5cyA9IG9iamVjdEtleXNJbnRlcm5hbDtcbiAgdmFyIGVudW1CdWdLZXlzID0gZW51bUJ1Z0tleXMkMztcblxuICB2YXIgaGlkZGVuS2V5cyQzID0gZW51bUJ1Z0tleXMuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbiAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5bmFtZXMgLS0gc2FmZVxuICBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyB8fCBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgICByZXR1cm4gaW50ZXJuYWxPYmplY3RLZXlzKE8sIGhpZGRlbktleXMkMyk7XG4gIH07XG5cbiAgdmFyIG9iamVjdEdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbCA9IHt9O1xuXG4gIHZhciB0b0Fic29sdXRlSW5kZXgkMiA9IHRvQWJzb2x1dGVJbmRleCQ0O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkYSA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBjcmVhdGVQcm9wZXJ0eSQ0ID0gY3JlYXRlUHJvcGVydHkkNjtcblxuICB2YXIgJEFycmF5JDIgPSBBcnJheTtcbiAgdmFyIG1heCQyID0gTWF0aC5tYXg7XG5cbiAgdmFyIGFycmF5U2xpY2VTaW1wbGUgPSBmdW5jdGlvbiAoTywgc3RhcnQsIGVuZCkge1xuICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSRhKE8pO1xuICAgIHZhciBrID0gdG9BYnNvbHV0ZUluZGV4JDIoc3RhcnQsIGxlbmd0aCk7XG4gICAgdmFyIGZpbiA9IHRvQWJzb2x1dGVJbmRleCQyKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICAgIHZhciByZXN1bHQgPSAkQXJyYXkkMihtYXgkMihmaW4gLSBrLCAwKSk7XG4gICAgdmFyIG4gPSAwO1xuICAgIGZvciAoOyBrIDwgZmluOyBrKyssIG4rKykgY3JlYXRlUHJvcGVydHkkNChyZXN1bHQsIG4sIE9ba10pO1xuICAgIHJlc3VsdC5sZW5ndGggPSBuO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyogZXNsaW50LWRpc2FibGUgZXMvbm8tb2JqZWN0LWdldG93bnByb3BlcnR5bmFtZXMgLS0gc2FmZSAqL1xuICB2YXIgY2xhc3NvZiRhID0gY2xhc3NvZlJhdyQyO1xuICB2YXIgdG9JbmRleGVkT2JqZWN0JDUgPSB0b0luZGV4ZWRPYmplY3QkYTtcbiAgdmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzJDEgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzLmY7XG4gIHZhciBhcnJheVNsaWNlJDYgPSBhcnJheVNsaWNlU2ltcGxlO1xuXG4gIHZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gICAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbiAgdmFyIGdldFdpbmRvd05hbWVzID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAkZ2V0T3duUHJvcGVydHlOYW1lcyQxKGl0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGFycmF5U2xpY2UkNih3aW5kb3dOYW1lcyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbiAgb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KSB7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzICYmIGNsYXNzb2YkYShpdCkgPT09ICdXaW5kb3cnXG4gICAgICA/IGdldFdpbmRvd05hbWVzKGl0KVxuICAgICAgOiAkZ2V0T3duUHJvcGVydHlOYW1lcyQxKHRvSW5kZXhlZE9iamVjdCQ1KGl0KSk7XG4gIH07XG5cbiAgdmFyIG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scyA9IHt9O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlzeW1ib2xzIC0tIHNhZmVcbiAgb2JqZWN0R2V0T3duUHJvcGVydHlTeW1ib2xzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNyA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ5O1xuXG4gIHZhciBkZWZpbmVCdWlsdEluJDYgPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXksIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5lbnVtZXJhYmxlKSB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgIGVsc2UgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDcodGFyZ2V0LCBrZXksIHZhbHVlKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSQ3ID0gb2JqZWN0RGVmaW5lUHJvcGVydHk7XG5cbiAgdmFyIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciQzID0gZnVuY3Rpb24gKHRhcmdldCwgbmFtZSwgZGVzY3JpcHRvcikge1xuICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eSQ3LmYodGFyZ2V0LCBuYW1lLCBkZXNjcmlwdG9yKTtcbiAgfTtcblxuICB2YXIgd2VsbEtub3duU3ltYm9sV3JhcHBlZCA9IHt9O1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkZyA9IHdlbGxLbm93blN5bWJvbCRuO1xuXG4gIHdlbGxLbm93blN5bWJvbFdyYXBwZWQuZiA9IHdlbGxLbm93blN5bWJvbCRnO1xuXG4gIHZhciBwYXRoJGsgPSBwYXRoJG87XG4gIHZhciBoYXNPd24kZiA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciB3cmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlJDEgPSB3ZWxsS25vd25TeW1ib2xXcmFwcGVkO1xuICB2YXIgZGVmaW5lUHJvcGVydHkkNiA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG5cbiAgdmFyIHdlbGxLbm93blN5bWJvbERlZmluZSA9IGZ1bmN0aW9uIChOQU1FKSB7XG4gICAgdmFyIFN5bWJvbCA9IHBhdGgkay5TeW1ib2wgfHwgKHBhdGgkay5TeW1ib2wgPSB7fSk7XG4gICAgaWYgKCFoYXNPd24kZihTeW1ib2wsIE5BTUUpKSBkZWZpbmVQcm9wZXJ0eSQ2KFN5bWJvbCwgTkFNRSwge1xuICAgICAgdmFsdWU6IHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUkMS5mKE5BTUUpXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGNhbGwkZSA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGdldEJ1aWx0SW4kYiA9IGdldEJ1aWx0SW4kZjtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCRmID0gd2VsbEtub3duU3ltYm9sJG47XG4gIHZhciBkZWZpbmVCdWlsdEluJDUgPSBkZWZpbmVCdWlsdEluJDY7XG5cbiAgdmFyIHN5bWJvbERlZmluZVRvUHJpbWl0aXZlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBTeW1ib2wgPSBnZXRCdWlsdEluJGIoJ1N5bWJvbCcpO1xuICAgIHZhciBTeW1ib2xQcm90b3R5cGUgPSBTeW1ib2wgJiYgU3ltYm9sLnByb3RvdHlwZTtcbiAgICB2YXIgdmFsdWVPZiA9IFN5bWJvbFByb3RvdHlwZSAmJiBTeW1ib2xQcm90b3R5cGUudmFsdWVPZjtcbiAgICB2YXIgVE9fUFJJTUlUSVZFID0gd2VsbEtub3duU3ltYm9sJGYoJ3RvUHJpbWl0aXZlJyk7XG5cbiAgICBpZiAoU3ltYm9sUHJvdG90eXBlICYmICFTeW1ib2xQcm90b3R5cGVbVE9fUFJJTUlUSVZFXSkge1xuICAgICAgLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV1gIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9wcmltaXRpdmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgLmxlbmd0aFxuICAgICAgZGVmaW5lQnVpbHRJbiQ1KFN5bWJvbFByb3RvdHlwZSwgVE9fUFJJTUlUSVZFLCBmdW5jdGlvbiAoaGludCkge1xuICAgICAgICByZXR1cm4gY2FsbCRlKHZhbHVlT2YsIHRoaXMpO1xuICAgICAgfSwgeyBhcml0eTogMSB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIFRPX1NUUklOR19UQUdfU1VQUE9SVCQxID0gdG9TdHJpbmdUYWdTdXBwb3J0O1xuICB2YXIgY2xhc3NvZiQ5ID0gY2xhc3NvZiRkO1xuXG4gIC8vIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nXG4gIHZhciBvYmplY3RUb1N0cmluZyA9IFRPX1NUUklOR19UQUdfU1VQUE9SVCQxID8ge30udG9TdHJpbmcgOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ1tvYmplY3QgJyArIGNsYXNzb2YkOSh0aGlzKSArICddJztcbiAgfTtcblxuICB2YXIgVE9fU1RSSU5HX1RBR19TVVBQT1JUID0gdG9TdHJpbmdUYWdTdXBwb3J0O1xuICB2YXIgZGVmaW5lUHJvcGVydHkkNSA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkNiA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ5O1xuICB2YXIgaGFzT3duJGUgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgdG9TdHJpbmckNiA9IG9iamVjdFRvU3RyaW5nO1xuICB2YXIgd2VsbEtub3duU3ltYm9sJGUgPSB3ZWxsS25vd25TeW1ib2wkbjtcblxuICB2YXIgVE9fU1RSSU5HX1RBRyQyID0gd2VsbEtub3duU3ltYm9sJGUoJ3RvU3RyaW5nVGFnJyk7XG5cbiAgdmFyIHNldFRvU3RyaW5nVGFnJDcgPSBmdW5jdGlvbiAoaXQsIFRBRywgU1RBVElDLCBTRVRfTUVUSE9EKSB7XG4gICAgaWYgKGl0KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gU1RBVElDID8gaXQgOiBpdC5wcm90b3R5cGU7XG4gICAgICBpZiAoIWhhc093biRlKHRhcmdldCwgVE9fU1RSSU5HX1RBRyQyKSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSQ1KHRhcmdldCwgVE9fU1RSSU5HX1RBRyQyLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IFRBRyB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChTRVRfTUVUSE9EICYmICFUT19TVFJJTkdfVEFHX1NVUFBPUlQpIHtcbiAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDYodGFyZ2V0LCAndG9TdHJpbmcnLCB0b1N0cmluZyQ2KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGdsb2JhbCRnID0gZ2xvYmFsJHA7XG4gIHZhciBpc0NhbGxhYmxlJGIgPSBpc0NhbGxhYmxlJG07XG5cbiAgdmFyIFdlYWtNYXAkMSA9IGdsb2JhbCRnLldlYWtNYXA7XG5cbiAgdmFyIHdlYWtNYXBCYXNpY0RldGVjdGlvbiA9IGlzQ2FsbGFibGUkYihXZWFrTWFwJDEpICYmIC9uYXRpdmUgY29kZS8udGVzdChTdHJpbmcoV2Vha01hcCQxKSk7XG5cbiAgdmFyIE5BVElWRV9XRUFLX01BUCA9IHdlYWtNYXBCYXNpY0RldGVjdGlvbjtcbiAgdmFyIGdsb2JhbCRmID0gZ2xvYmFsJHA7XG4gIHZhciBpc09iamVjdCRhID0gaXNPYmplY3QkaDtcbiAgdmFyIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ1ID0gY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDk7XG4gIHZhciBoYXNPd24kZCA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBzaGFyZWQkNCA9IHNoYXJlZFN0b3JlO1xuICB2YXIgc2hhcmVkS2V5JDIgPSBzaGFyZWRLZXkkNDtcbiAgdmFyIGhpZGRlbktleXMkMiA9IGhpZGRlbktleXMkNjtcblxuICB2YXIgT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQgPSAnT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQnO1xuICB2YXIgVHlwZUVycm9yJDMgPSBnbG9iYWwkZi5UeXBlRXJyb3I7XG4gIHZhciBXZWFrTWFwID0gZ2xvYmFsJGYuV2Vha01hcDtcbiAgdmFyIHNldCQ0LCBnZXQsIGhhcztcblxuICB2YXIgZW5mb3JjZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBoYXMoaXQpID8gZ2V0KGl0KSA6IHNldCQ0KGl0LCB7fSk7XG4gIH07XG5cbiAgdmFyIGdldHRlckZvciA9IGZ1bmN0aW9uIChUWVBFKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpdCkge1xuICAgICAgdmFyIHN0YXRlO1xuICAgICAgaWYgKCFpc09iamVjdCRhKGl0KSB8fCAoc3RhdGUgPSBnZXQoaXQpKS50eXBlICE9PSBUWVBFKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IkMygnSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAnICsgVFlQRSArICcgcmVxdWlyZWQnKTtcbiAgICAgIH0gcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gIH07XG5cbiAgaWYgKE5BVElWRV9XRUFLX01BUCB8fCBzaGFyZWQkNC5zdGF0ZSkge1xuICAgIHZhciBzdG9yZSA9IHNoYXJlZCQ0LnN0YXRlIHx8IChzaGFyZWQkNC5zdGF0ZSA9IG5ldyBXZWFrTWFwKCkpO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtYXNzaWduIC0tIHByb3RvdHlwZSBtZXRob2RzIHByb3RlY3Rpb24gKi9cbiAgICBzdG9yZS5nZXQgPSBzdG9yZS5nZXQ7XG4gICAgc3RvcmUuaGFzID0gc3RvcmUuaGFzO1xuICAgIHN0b3JlLnNldCA9IHN0b3JlLnNldDtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtYXNzaWduIC0tIHByb3RvdHlwZSBtZXRob2RzIHByb3RlY3Rpb24gKi9cbiAgICBzZXQkNCA9IGZ1bmN0aW9uIChpdCwgbWV0YWRhdGEpIHtcbiAgICAgIGlmIChzdG9yZS5oYXMoaXQpKSB0aHJvdyBuZXcgVHlwZUVycm9yJDMoT0JKRUNUX0FMUkVBRFlfSU5JVElBTElaRUQpO1xuICAgICAgbWV0YWRhdGEuZmFjYWRlID0gaXQ7XG4gICAgICBzdG9yZS5zZXQoaXQsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9O1xuICAgIGdldCA9IGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIHN0b3JlLmdldChpdCkgfHwge307XG4gICAgfTtcbiAgICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHJldHVybiBzdG9yZS5oYXMoaXQpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdmFyIFNUQVRFID0gc2hhcmVkS2V5JDIoJ3N0YXRlJyk7XG4gICAgaGlkZGVuS2V5cyQyW1NUQVRFXSA9IHRydWU7XG4gICAgc2V0JDQgPSBmdW5jdGlvbiAoaXQsIG1ldGFkYXRhKSB7XG4gICAgICBpZiAoaGFzT3duJGQoaXQsIFNUQVRFKSkgdGhyb3cgbmV3IFR5cGVFcnJvciQzKE9CSkVDVF9BTFJFQURZX0lOSVRJQUxJWkVEKTtcbiAgICAgIG1ldGFkYXRhLmZhY2FkZSA9IGl0O1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDUoaXQsIFNUQVRFLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfTtcbiAgICBnZXQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHJldHVybiBoYXNPd24kZChpdCwgU1RBVEUpID8gaXRbU1RBVEVdIDoge307XG4gICAgfTtcbiAgICBoYXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICAgIHJldHVybiBoYXNPd24kZChpdCwgU1RBVEUpO1xuICAgIH07XG4gIH1cblxuICB2YXIgaW50ZXJuYWxTdGF0ZSA9IHtcbiAgICBzZXQ6IHNldCQ0LFxuICAgIGdldDogZ2V0LFxuICAgIGhhczogaGFzLFxuICAgIGVuZm9yY2U6IGVuZm9yY2UsXG4gICAgZ2V0dGVyRm9yOiBnZXR0ZXJGb3JcbiAgfTtcblxuICB2YXIgYmluZCRnID0gZnVuY3Rpb25CaW5kQ29udGV4dDtcbiAgdmFyIHVuY3VycnlUaGlzJGYgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgSW5kZXhlZE9iamVjdCQyID0gaW5kZXhlZE9iamVjdDtcbiAgdmFyIHRvT2JqZWN0JGIgPSB0b09iamVjdCRlO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkOSA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciBhcnJheVNwZWNpZXNDcmVhdGUkMiA9IGFycmF5U3BlY2llc0NyZWF0ZSQ0O1xuXG4gIHZhciBwdXNoJGIgPSB1bmN1cnJ5VGhpcyRmKFtdLnB1c2gpO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUueyBmb3JFYWNoLCBtYXAsIGZpbHRlciwgc29tZSwgZXZlcnksIGZpbmQsIGZpbmRJbmRleCwgZmlsdGVyUmVqZWN0IH1gIG1ldGhvZHMgaW1wbGVtZW50YXRpb25cbiAgdmFyIGNyZWF0ZU1ldGhvZCQyID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgICB2YXIgSVNfTUFQID0gVFlQRSA9PT0gMTtcbiAgICB2YXIgSVNfRklMVEVSID0gVFlQRSA9PT0gMjtcbiAgICB2YXIgSVNfU09NRSA9IFRZUEUgPT09IDM7XG4gICAgdmFyIElTX0VWRVJZID0gVFlQRSA9PT0gNDtcbiAgICB2YXIgSVNfRklORF9JTkRFWCA9IFRZUEUgPT09IDY7XG4gICAgdmFyIElTX0ZJTFRFUl9SRUpFQ1QgPSBUWVBFID09PSA3O1xuICAgIHZhciBOT19IT0xFUyA9IFRZUEUgPT09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBjYWxsYmFja2ZuLCB0aGF0LCBzcGVjaWZpY0NyZWF0ZSkge1xuICAgICAgdmFyIE8gPSB0b09iamVjdCRiKCR0aGlzKTtcbiAgICAgIHZhciBzZWxmID0gSW5kZXhlZE9iamVjdCQyKE8pO1xuICAgICAgdmFyIGJvdW5kRnVuY3Rpb24gPSBiaW5kJGcoY2FsbGJhY2tmbiwgdGhhdCk7XG4gICAgICB2YXIgbGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UkOShzZWxmKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgY3JlYXRlID0gc3BlY2lmaWNDcmVhdGUgfHwgYXJyYXlTcGVjaWVzQ3JlYXRlJDI7XG4gICAgICB2YXIgdGFyZ2V0ID0gSVNfTUFQID8gY3JlYXRlKCR0aGlzLCBsZW5ndGgpIDogSVNfRklMVEVSIHx8IElTX0ZJTFRFUl9SRUpFQ1QgPyBjcmVhdGUoJHRoaXMsIDApIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHZhbHVlLCByZXN1bHQ7XG4gICAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgICAgdmFsdWUgPSBzZWxmW2luZGV4XTtcbiAgICAgICAgcmVzdWx0ID0gYm91bmRGdW5jdGlvbih2YWx1ZSwgaW5kZXgsIE8pO1xuICAgICAgICBpZiAoVFlQRSkge1xuICAgICAgICAgIGlmIChJU19NQVApIHRhcmdldFtpbmRleF0gPSByZXN1bHQ7IC8vIG1hcFxuICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdCkgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gdmFsdWU7ICAgICAgICAgICAgIC8vIGZpbmRcbiAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIGluZGV4OyAgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICAgIGNhc2UgMjogcHVzaCRiKHRhcmdldCwgdmFsdWUpOyAgICAgIC8vIGZpbHRlclxuICAgICAgICAgIH0gZWxzZSBzd2l0Y2ggKFRZUEUpIHtcbiAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIGZhbHNlOyAgICAgICAgICAgICAvLyBldmVyeVxuICAgICAgICAgICAgY2FzZSA3OiBwdXNoJGIodGFyZ2V0LCB2YWx1ZSk7ICAgICAgLy8gZmlsdGVyUmVqZWN0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogdGFyZ2V0O1xuICAgIH07XG4gIH07XG5cbiAgdmFyIGFycmF5SXRlcmF0aW9uID0ge1xuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZm9yZWFjaFxuICAgIGZvckVhY2g6IGNyZWF0ZU1ldGhvZCQyKDApLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUubWFwYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5tYXBcbiAgICBtYXA6IGNyZWF0ZU1ldGhvZCQyKDEpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maWx0ZXJcbiAgICBmaWx0ZXI6IGNyZWF0ZU1ldGhvZCQyKDIpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuc29tZWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc29tZVxuICAgIHNvbWU6IGNyZWF0ZU1ldGhvZCQyKDMpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZXZlcnlgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmV2ZXJ5XG4gICAgZXZlcnk6IGNyZWF0ZU1ldGhvZCQyKDQpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmluZFxuICAgIGZpbmQ6IGNyZWF0ZU1ldGhvZCQyKDUpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4YCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5maW5kSW5kZXhcbiAgICBmaW5kSW5kZXg6IGNyZWF0ZU1ldGhvZCQyKDYpLFxuICAgIC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyUmVqZWN0YCBtZXRob2RcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1hcnJheS1maWx0ZXJpbmdcbiAgICBmaWx0ZXJSZWplY3Q6IGNyZWF0ZU1ldGhvZCQyKDcpXG4gIH07XG5cbiAgdmFyICQkTiA9IF9leHBvcnQ7XG4gIHZhciBnbG9iYWwkZSA9IGdsb2JhbCRwO1xuICB2YXIgY2FsbCRkID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgdW5jdXJyeVRoaXMkZSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBERVNDUklQVE9SUyRhID0gZGVzY3JpcHRvcnM7XG4gIHZhciBOQVRJVkVfU1lNQk9MJDMgPSBzeW1ib2xDb25zdHJ1Y3RvckRldGVjdGlvbjtcbiAgdmFyIGZhaWxzJGogPSBmYWlscyR1O1xuICB2YXIgaGFzT3duJGMgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgaXNQcm90b3R5cGVPZiRqID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIGFuT2JqZWN0JDkgPSBhbk9iamVjdCRkO1xuICB2YXIgdG9JbmRleGVkT2JqZWN0JDQgPSB0b0luZGV4ZWRPYmplY3QkYTtcbiAgdmFyIHRvUHJvcGVydHlLZXkgPSB0b1Byb3BlcnR5S2V5JDQ7XG4gIHZhciAkdG9TdHJpbmcgPSB0b1N0cmluZyQ3O1xuICB2YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDMgPSBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNztcbiAgdmFyIG5hdGl2ZU9iamVjdENyZWF0ZSA9IG9iamVjdENyZWF0ZTtcbiAgdmFyIG9iamVjdEtleXMkMSA9IG9iamVjdEtleXMkMztcbiAgdmFyIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUkMiA9IG9iamVjdEdldE93blByb3BlcnR5TmFtZXM7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWwgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzRXh0ZXJuYWw7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMyA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scztcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSQyID0gb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICB2YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUkMSA9IG9iamVjdERlZmluZVByb3BlcnR5O1xuICB2YXIgZGVmaW5lUHJvcGVydGllc01vZHVsZSA9IG9iamVjdERlZmluZVByb3BlcnRpZXM7XG4gIHZhciBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQxID0gb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHZhciBkZWZpbmVCdWlsdEluJDQgPSBkZWZpbmVCdWlsdEluJDY7XG4gIHZhciBkZWZpbmVCdWlsdEluQWNjZXNzb3IkMiA9IGRlZmluZUJ1aWx0SW5BY2Nlc3NvciQzO1xuICB2YXIgc2hhcmVkJDMgPSBzaGFyZWRFeHBvcnRzO1xuICB2YXIgc2hhcmVkS2V5JDEgPSBzaGFyZWRLZXkkNDtcbiAgdmFyIGhpZGRlbktleXMkMSA9IGhpZGRlbktleXMkNjtcbiAgdmFyIHVpZCQxID0gdWlkJDQ7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkZCA9IHdlbGxLbm93blN5bWJvbCRuO1xuICB2YXIgd3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSA9IHdlbGxLbm93blN5bWJvbFdyYXBwZWQ7XG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkbCA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcbiAgdmFyIGRlZmluZVN5bWJvbFRvUHJpbWl0aXZlJDEgPSBzeW1ib2xEZWZpbmVUb1ByaW1pdGl2ZTtcbiAgdmFyIHNldFRvU3RyaW5nVGFnJDYgPSBzZXRUb1N0cmluZ1RhZyQ3O1xuICB2YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSQ1ID0gaW50ZXJuYWxTdGF0ZTtcbiAgdmFyICRmb3JFYWNoJDEgPSBhcnJheUl0ZXJhdGlvbi5mb3JFYWNoO1xuXG4gIHZhciBISURERU4gPSBzaGFyZWRLZXkkMSgnaGlkZGVuJyk7XG4gIHZhciBTWU1CT0wgPSAnU3ltYm9sJztcbiAgdmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4gIHZhciBzZXRJbnRlcm5hbFN0YXRlJDUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDUuc2V0O1xuICB2YXIgZ2V0SW50ZXJuYWxTdGF0ZSQyID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQ1LmdldHRlckZvcihTWU1CT0wpO1xuXG4gIHZhciBPYmplY3RQcm90b3R5cGUkMiA9IE9iamVjdFtQUk9UT1RZUEVdO1xuICB2YXIgJFN5bWJvbCA9IGdsb2JhbCRlLlN5bWJvbDtcbiAgdmFyIFN5bWJvbFByb3RvdHlwZSA9ICRTeW1ib2wgJiYgJFN5bWJvbFtQUk9UT1RZUEVdO1xuICB2YXIgUmFuZ2VFcnJvciA9IGdsb2JhbCRlLlJhbmdlRXJyb3I7XG4gIHZhciBUeXBlRXJyb3IkMiA9IGdsb2JhbCRlLlR5cGVFcnJvcjtcbiAgdmFyIFFPYmplY3QgPSBnbG9iYWwkZS5RT2JqZWN0O1xuICB2YXIgbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUkMi5mO1xuICB2YXIgbmF0aXZlRGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZSQxLmY7XG4gIHZhciBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzID0gZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmY7XG4gIHZhciBuYXRpdmVQcm9wZXJ0eUlzRW51bWVyYWJsZSA9IHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlJDEuZjtcbiAgdmFyIHB1c2gkYSA9IHVuY3VycnlUaGlzJGUoW10ucHVzaCk7XG5cbiAgdmFyIEFsbFN5bWJvbHMgPSBzaGFyZWQkMygnc3ltYm9scycpO1xuICB2YXIgT2JqZWN0UHJvdG90eXBlU3ltYm9scyA9IHNoYXJlZCQzKCdvcC1zeW1ib2xzJyk7XG4gIHZhciBXZWxsS25vd25TeW1ib2xzU3RvcmUkMSA9IHNoYXJlZCQzKCd3a3MnKTtcblxuICAvLyBEb24ndCB1c2Ugc2V0dGVycyBpbiBRdCBTY3JpcHQsIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8xNzNcbiAgdmFyIFVTRV9TRVRURVIgPSAhUU9iamVjdCB8fCAhUU9iamVjdFtQUk9UT1RZUEVdIHx8ICFRT2JqZWN0W1BST1RPVFlQRV0uZmluZENoaWxkO1xuXG4gIC8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xuICB2YXIgZmFsbGJhY2tEZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gICAgdmFyIE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMShPYmplY3RQcm90b3R5cGUkMiwgUCk7XG4gICAgaWYgKE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IpIGRlbGV0ZSBPYmplY3RQcm90b3R5cGUkMltQXTtcbiAgICBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgICBpZiAoT2JqZWN0UHJvdG90eXBlRGVzY3JpcHRvciAmJiBPICE9PSBPYmplY3RQcm90b3R5cGUkMikge1xuICAgICAgbmF0aXZlRGVmaW5lUHJvcGVydHkoT2JqZWN0UHJvdG90eXBlJDIsIFAsIE9iamVjdFByb3RvdHlwZURlc2NyaXB0b3IpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc2V0U3ltYm9sRGVzY3JpcHRvciA9IERFU0NSSVBUT1JTJGEgJiYgZmFpbHMkaihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5hdGl2ZU9iamVjdENyZWF0ZShuYXRpdmVEZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5hdGl2ZURlZmluZVByb3BlcnR5KHRoaXMsICdhJywgeyB2YWx1ZTogNyB9KS5hOyB9XG4gICAgfSkpLmEgIT09IDc7XG4gIH0pID8gZmFsbGJhY2tEZWZpbmVQcm9wZXJ0eSA6IG5hdGl2ZURlZmluZVByb3BlcnR5O1xuXG4gIHZhciB3cmFwID0gZnVuY3Rpb24gKHRhZywgZGVzY3JpcHRpb24pIHtcbiAgICB2YXIgc3ltYm9sID0gQWxsU3ltYm9sc1t0YWddID0gbmF0aXZlT2JqZWN0Q3JlYXRlKFN5bWJvbFByb3RvdHlwZSk7XG4gICAgc2V0SW50ZXJuYWxTdGF0ZSQ1KHN5bWJvbCwge1xuICAgICAgdHlwZTogU1lNQk9MLFxuICAgICAgdGFnOiB0YWcsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cbiAgICB9KTtcbiAgICBpZiAoIURFU0NSSVBUT1JTJGEpIHN5bWJvbC5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHJldHVybiBzeW1ib2w7XG4gIH07XG5cbiAgdmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgICBpZiAoTyA9PT0gT2JqZWN0UHJvdG90eXBlJDIpICRkZWZpbmVQcm9wZXJ0eShPYmplY3RQcm90b3R5cGVTeW1ib2xzLCBQLCBBdHRyaWJ1dGVzKTtcbiAgICBhbk9iamVjdCQ5KE8pO1xuICAgIHZhciBrZXkgPSB0b1Byb3BlcnR5S2V5KFApO1xuICAgIGFuT2JqZWN0JDkoQXR0cmlidXRlcyk7XG4gICAgaWYgKGhhc093biRjKEFsbFN5bWJvbHMsIGtleSkpIHtcbiAgICAgIGlmICghQXR0cmlidXRlcy5lbnVtZXJhYmxlKSB7XG4gICAgICAgIGlmICghaGFzT3duJGMoTywgSElEREVOKSkgbmF0aXZlRGVmaW5lUHJvcGVydHkoTywgSElEREVOLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMygxLCB7fSkpO1xuICAgICAgICBPW0hJRERFTl1ba2V5XSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaGFzT3duJGMoTywgSElEREVOKSAmJiBPW0hJRERFTl1ba2V5XSkgT1tISURERU5dW2tleV0gPSBmYWxzZTtcbiAgICAgICAgQXR0cmlidXRlcyA9IG5hdGl2ZU9iamVjdENyZWF0ZShBdHRyaWJ1dGVzLCB7IGVudW1lcmFibGU6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQzKDAsIGZhbHNlKSB9KTtcbiAgICAgIH0gcmV0dXJuIHNldFN5bWJvbERlc2NyaXB0b3IoTywga2V5LCBBdHRyaWJ1dGVzKTtcbiAgICB9IHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eShPLCBrZXksIEF0dHJpYnV0ZXMpO1xuICB9O1xuXG4gIHZhciAkZGVmaW5lUHJvcGVydGllcyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICAgIGFuT2JqZWN0JDkoTyk7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB0b0luZGV4ZWRPYmplY3QkNChQcm9wZXJ0aWVzKTtcbiAgICB2YXIga2V5cyA9IG9iamVjdEtleXMkMShwcm9wZXJ0aWVzKS5jb25jYXQoJGdldE93blByb3BlcnR5U3ltYm9scyhwcm9wZXJ0aWVzKSk7XG4gICAgJGZvckVhY2gkMShrZXlzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoIURFU0NSSVBUT1JTJGEgfHwgY2FsbCRkKCRwcm9wZXJ0eUlzRW51bWVyYWJsZSwgcHJvcGVydGllcywga2V5KSkgJGRlZmluZVByb3BlcnR5KE8sIGtleSwgcHJvcGVydGllc1trZXldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gTztcbiAgfTtcblxuICB2YXIgJGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCA/IG5hdGl2ZU9iamVjdENyZWF0ZShPKSA6ICRkZWZpbmVQcm9wZXJ0aWVzKG5hdGl2ZU9iamVjdENyZWF0ZShPKSwgUHJvcGVydGllcyk7XG4gIH07XG5cbiAgdmFyICRwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uIHByb3BlcnR5SXNFbnVtZXJhYmxlKFYpIHtcbiAgICB2YXIgUCA9IHRvUHJvcGVydHlLZXkoVik7XG4gICAgdmFyIGVudW1lcmFibGUgPSBjYWxsJGQobmF0aXZlUHJvcGVydHlJc0VudW1lcmFibGUsIHRoaXMsIFApO1xuICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90b3R5cGUkMiAmJiBoYXNPd24kYyhBbGxTeW1ib2xzLCBQKSAmJiAhaGFzT3duJGMoT2JqZWN0UHJvdG90eXBlU3ltYm9scywgUCkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gZW51bWVyYWJsZSB8fCAhaGFzT3duJGModGhpcywgUCkgfHwgIWhhc093biRjKEFsbFN5bWJvbHMsIFApIHx8IGhhc093biRjKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW1BdXG4gICAgICA/IGVudW1lcmFibGUgOiB0cnVlO1xuICB9O1xuXG4gIHZhciAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApIHtcbiAgICB2YXIgaXQgPSB0b0luZGV4ZWRPYmplY3QkNChPKTtcbiAgICB2YXIga2V5ID0gdG9Qcm9wZXJ0eUtleShQKTtcbiAgICBpZiAoaXQgPT09IE9iamVjdFByb3RvdHlwZSQyICYmIGhhc093biRjKEFsbFN5bWJvbHMsIGtleSkgJiYgIWhhc093biRjKE9iamVjdFByb3RvdHlwZVN5bWJvbHMsIGtleSkpIHJldHVybjtcbiAgICB2YXIgZGVzY3JpcHRvciA9IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvciQxKGl0LCBrZXkpO1xuICAgIGlmIChkZXNjcmlwdG9yICYmIGhhc093biRjKEFsbFN5bWJvbHMsIGtleSkgJiYgIShoYXNPd24kYyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pKSB7XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgfTtcblxuICB2YXIgJGdldE93blByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKE8pIHtcbiAgICB2YXIgbmFtZXMgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzKHRvSW5kZXhlZE9iamVjdCQ0KE8pKTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgJGZvckVhY2gkMShuYW1lcywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKCFoYXNPd24kYyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXNPd24kYyhoaWRkZW5LZXlzJDEsIGtleSkpIHB1c2gkYShyZXN1bHQsIGtleSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgJGdldE93blByb3BlcnR5U3ltYm9scyA9IGZ1bmN0aW9uIChPKSB7XG4gICAgdmFyIElTX09CSkVDVF9QUk9UT1RZUEUgPSBPID09PSBPYmplY3RQcm90b3R5cGUkMjtcbiAgICB2YXIgbmFtZXMgPSBuYXRpdmVHZXRPd25Qcm9wZXJ0eU5hbWVzKElTX09CSkVDVF9QUk9UT1RZUEUgPyBPYmplY3RQcm90b3R5cGVTeW1ib2xzIDogdG9JbmRleGVkT2JqZWN0JDQoTykpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAkZm9yRWFjaCQxKG5hbWVzLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoaGFzT3duJGMoQWxsU3ltYm9scywga2V5KSAmJiAoIUlTX09CSkVDVF9QUk9UT1RZUEUgfHwgaGFzT3duJGMoT2JqZWN0UHJvdG90eXBlJDIsIGtleSkpKSB7XG4gICAgICAgIHB1c2gkYShyZXN1bHQsIEFsbFN5bWJvbHNba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBgU3ltYm9sYCBjb25zdHJ1Y3RvclxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC1jb25zdHJ1Y3RvclxuICBpZiAoIU5BVElWRV9TWU1CT0wkMykge1xuICAgICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGVPZiRqKFN5bWJvbFByb3RvdHlwZSwgdGhpcykpIHRocm93IG5ldyBUeXBlRXJyb3IkMignU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yJyk7XG4gICAgICB2YXIgZGVzY3JpcHRpb24gPSAhYXJndW1lbnRzLmxlbmd0aCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6ICR0b1N0cmluZyhhcmd1bWVudHNbMF0pO1xuICAgICAgdmFyIHRhZyA9IHVpZCQxKGRlc2NyaXB0aW9uKTtcbiAgICAgIHZhciBzZXR0ZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyICR0aGlzID0gdGhpcyA9PT0gdW5kZWZpbmVkID8gZ2xvYmFsJGUgOiB0aGlzO1xuICAgICAgICBpZiAoJHRoaXMgPT09IE9iamVjdFByb3RvdHlwZSQyKSBjYWxsJGQoc2V0dGVyLCBPYmplY3RQcm90b3R5cGVTeW1ib2xzLCB2YWx1ZSk7XG4gICAgICAgIGlmIChoYXNPd24kYygkdGhpcywgSElEREVOKSAmJiBoYXNPd24kYygkdGhpc1tISURERU5dLCB0YWcpKSAkdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMygxLCB2YWx1ZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2V0U3ltYm9sRGVzY3JpcHRvcigkdGhpcywgdGFnLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKSB0aHJvdyBlcnJvcjtcbiAgICAgICAgICBmYWxsYmFja0RlZmluZVByb3BlcnR5KCR0aGlzLCB0YWcsIGRlc2NyaXB0b3IpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKERFU0NSSVBUT1JTJGEgJiYgVVNFX1NFVFRFUikgc2V0U3ltYm9sRGVzY3JpcHRvcihPYmplY3RQcm90b3R5cGUkMiwgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiBzZXR0ZXIgfSk7XG4gICAgICByZXR1cm4gd3JhcCh0YWcsIGRlc2NyaXB0aW9uKTtcbiAgICB9O1xuXG4gICAgU3ltYm9sUHJvdG90eXBlID0gJFN5bWJvbFtQUk9UT1RZUEVdO1xuXG4gICAgZGVmaW5lQnVpbHRJbiQ0KFN5bWJvbFByb3RvdHlwZSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSQyKHRoaXMpLnRhZztcbiAgICB9KTtcblxuICAgIGRlZmluZUJ1aWx0SW4kNCgkU3ltYm9sLCAnd2l0aG91dFNldHRlcicsIGZ1bmN0aW9uIChkZXNjcmlwdGlvbikge1xuICAgICAgcmV0dXJuIHdyYXAodWlkJDEoZGVzY3JpcHRpb24pLCBkZXNjcmlwdGlvbik7XG4gICAgfSk7XG5cbiAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZU1vZHVsZSQxLmYgPSAkcHJvcGVydHlJc0VudW1lcmFibGU7XG4gICAgZGVmaW5lUHJvcGVydHlNb2R1bGUkMS5mID0gJGRlZmluZVByb3BlcnR5O1xuICAgIGRlZmluZVByb3BlcnRpZXNNb2R1bGUuZiA9ICRkZWZpbmVQcm9wZXJ0aWVzO1xuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvck1vZHVsZSQyLmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAgIGdldE93blByb3BlcnR5TmFtZXNNb2R1bGUkMi5mID0gZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsLmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMy5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICAgIHdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUuZiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gd3JhcCh3ZWxsS25vd25TeW1ib2wkZChuYW1lKSwgbmFtZSk7XG4gICAgfTtcblxuICAgIGlmIChERVNDUklQVE9SUyRhKSB7XG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1TeW1ib2wtZGVzY3JpcHRpb25cbiAgICAgIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciQyKFN5bWJvbFByb3RvdHlwZSwgJ2Rlc2NyaXB0aW9uJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZGVzY3JpcHRpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGdldEludGVybmFsU3RhdGUkMih0aGlzKS5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgJCROKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgd3JhcDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCQzLCBzaGFtOiAhTkFUSVZFX1NZTUJPTCQzIH0sIHtcbiAgICBTeW1ib2w6ICRTeW1ib2xcbiAgfSk7XG5cbiAgJGZvckVhY2gkMShvYmplY3RLZXlzJDEoV2VsbEtub3duU3ltYm9sc1N0b3JlJDEpLCBmdW5jdGlvbiAobmFtZSkge1xuICAgIGRlZmluZVdlbGxLbm93blN5bWJvbCRsKG5hbWUpO1xuICB9KTtcblxuICAkJE4oeyB0YXJnZXQ6IFNZTUJPTCwgc3RhdDogdHJ1ZSwgZm9yY2VkOiAhTkFUSVZFX1NZTUJPTCQzIH0sIHtcbiAgICB1c2VTZXR0ZXI6IGZ1bmN0aW9uICgpIHsgVVNFX1NFVFRFUiA9IHRydWU7IH0sXG4gICAgdXNlU2ltcGxlOiBmdW5jdGlvbiAoKSB7IFVTRV9TRVRURVIgPSBmYWxzZTsgfVxuICB9KTtcblxuICAkJE4oeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MJDMsIHNoYW06ICFERVNDUklQVE9SUyRhIH0sIHtcbiAgICAvLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuY3JlYXRlXG4gICAgY3JlYXRlOiAkY3JlYXRlLFxuICAgIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydHlgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnR5XG4gICAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgICAvLyBgT2JqZWN0LmRlZmluZVByb3BlcnRpZXNgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbiAgICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgICAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcmAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yc1xuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogJGdldE93blByb3BlcnR5RGVzY3JpcHRvclxuICB9KTtcblxuICAkJE4oeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MJDMgfSwge1xuICAgIC8vIGBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc2AgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuZ2V0b3ducHJvcGVydHluYW1lc1xuICAgIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzXG4gIH0pO1xuXG4gIC8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9QcmltaXRpdmVdYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucHJvdG90eXBlLUBAdG9wcmltaXRpdmVcbiAgZGVmaW5lU3ltYm9sVG9QcmltaXRpdmUkMSgpO1xuXG4gIC8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddYCBwcm9wZXJ0eVxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZ1xuICBzZXRUb1N0cmluZ1RhZyQ2KCRTeW1ib2wsIFNZTUJPTCk7XG5cbiAgaGlkZGVuS2V5cyQxW0hJRERFTl0gPSB0cnVlO1xuXG4gIHZhciBOQVRJVkVfU1lNQk9MJDIgPSBzeW1ib2xDb25zdHJ1Y3RvckRldGVjdGlvbjtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1zeW1ib2wgLS0gc2FmZSAqL1xuICB2YXIgc3ltYm9sUmVnaXN0cnlEZXRlY3Rpb24gPSBOQVRJVkVfU1lNQk9MJDIgJiYgISFTeW1ib2xbJ2ZvciddICYmICEhU3ltYm9sLmtleUZvcjtcblxuICB2YXIgJCRNID0gX2V4cG9ydDtcbiAgdmFyIGdldEJ1aWx0SW4kYSA9IGdldEJ1aWx0SW4kZjtcbiAgdmFyIGhhc093biRiID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIHRvU3RyaW5nJDUgPSB0b1N0cmluZyQ3O1xuICB2YXIgc2hhcmVkJDIgPSBzaGFyZWRFeHBvcnRzO1xuICB2YXIgTkFUSVZFX1NZTUJPTF9SRUdJU1RSWSQxID0gc3ltYm9sUmVnaXN0cnlEZXRlY3Rpb247XG5cbiAgdmFyIFN0cmluZ1RvU3ltYm9sUmVnaXN0cnkgPSBzaGFyZWQkMignc3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeScpO1xuICB2YXIgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSQxID0gc2hhcmVkJDIoJ3N5bWJvbC10by1zdHJpbmctcmVnaXN0cnknKTtcblxuICAvLyBgU3ltYm9sLmZvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmZvclxuICAkJE0oeyB0YXJnZXQ6ICdTeW1ib2wnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MX1JFR0lTVFJZJDEgfSwge1xuICAgICdmb3InOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgc3RyaW5nID0gdG9TdHJpbmckNShrZXkpO1xuICAgICAgaWYgKGhhc093biRiKFN0cmluZ1RvU3ltYm9sUmVnaXN0cnksIHN0cmluZykpIHJldHVybiBTdHJpbmdUb1N5bWJvbFJlZ2lzdHJ5W3N0cmluZ107XG4gICAgICB2YXIgc3ltYm9sID0gZ2V0QnVpbHRJbiRhKCdTeW1ib2wnKShzdHJpbmcpO1xuICAgICAgU3RyaW5nVG9TeW1ib2xSZWdpc3RyeVtzdHJpbmddID0gc3ltYm9sO1xuICAgICAgU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSQxW3N5bWJvbF0gPSBzdHJpbmc7XG4gICAgICByZXR1cm4gc3ltYm9sO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyICQkTCA9IF9leHBvcnQ7XG4gIHZhciBoYXNPd24kYSA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBpc1N5bWJvbCQyID0gaXNTeW1ib2wkNTtcbiAgdmFyIHRyeVRvU3RyaW5nJDQgPSB0cnlUb1N0cmluZyQ2O1xuICB2YXIgc2hhcmVkJDEgPSBzaGFyZWRFeHBvcnRzO1xuICB2YXIgTkFUSVZFX1NZTUJPTF9SRUdJU1RSWSA9IHN5bWJvbFJlZ2lzdHJ5RGV0ZWN0aW9uO1xuXG4gIHZhciBTeW1ib2xUb1N0cmluZ1JlZ2lzdHJ5ID0gc2hhcmVkJDEoJ3N5bWJvbC10by1zdHJpbmctcmVnaXN0cnknKTtcblxuICAvLyBgU3ltYm9sLmtleUZvcmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmtleWZvclxuICAkJEwoeyB0YXJnZXQ6ICdTeW1ib2wnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6ICFOQVRJVkVfU1lNQk9MX1JFR0lTVFJZIH0sIHtcbiAgICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihzeW0pIHtcbiAgICAgIGlmICghaXNTeW1ib2wkMihzeW0pKSB0aHJvdyBuZXcgVHlwZUVycm9yKHRyeVRvU3RyaW5nJDQoc3ltKSArICcgaXMgbm90IGEgc3ltYm9sJyk7XG4gICAgICBpZiAoaGFzT3duJGEoU3ltYm9sVG9TdHJpbmdSZWdpc3RyeSwgc3ltKSkgcmV0dXJuIFN5bWJvbFRvU3RyaW5nUmVnaXN0cnlbc3ltXTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciB1bmN1cnJ5VGhpcyRkID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcblxuICB2YXIgYXJyYXlTbGljZSQ1ID0gdW5jdXJyeVRoaXMkZChbXS5zbGljZSk7XG5cbiAgdmFyIHVuY3VycnlUaGlzJGMgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgaXNBcnJheSRiID0gaXNBcnJheSRlO1xuICB2YXIgaXNDYWxsYWJsZSRhID0gaXNDYWxsYWJsZSRtO1xuICB2YXIgY2xhc3NvZiQ4ID0gY2xhc3NvZlJhdyQyO1xuICB2YXIgdG9TdHJpbmckNCA9IHRvU3RyaW5nJDc7XG5cbiAgdmFyIHB1c2gkOSA9IHVuY3VycnlUaGlzJGMoW10ucHVzaCk7XG5cbiAgdmFyIGdldEpzb25SZXBsYWNlckZ1bmN0aW9uID0gZnVuY3Rpb24gKHJlcGxhY2VyKSB7XG4gICAgaWYgKGlzQ2FsbGFibGUkYShyZXBsYWNlcikpIHJldHVybiByZXBsYWNlcjtcbiAgICBpZiAoIWlzQXJyYXkkYihyZXBsYWNlcikpIHJldHVybjtcbiAgICB2YXIgcmF3TGVuZ3RoID0gcmVwbGFjZXIubGVuZ3RoO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdMZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGVsZW1lbnQgPSByZXBsYWNlcltpXTtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PSAnc3RyaW5nJykgcHVzaCQ5KGtleXMsIGVsZW1lbnQpO1xuICAgICAgZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQgPT0gJ251bWJlcicgfHwgY2xhc3NvZiQ4KGVsZW1lbnQpID09PSAnTnVtYmVyJyB8fCBjbGFzc29mJDgoZWxlbWVudCkgPT09ICdTdHJpbmcnKSBwdXNoJDkoa2V5cywgdG9TdHJpbmckNChlbGVtZW50KSk7XG4gICAgfVxuICAgIHZhciBrZXlzTGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHJvb3QgPSB0cnVlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgcm9vdCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNBcnJheSRiKHRoaXMpKSByZXR1cm4gdmFsdWU7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGtleXNMZW5ndGg7IGorKykgaWYgKGtleXNbal0gPT09IGtleSkgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH07XG5cbiAgdmFyICQkSyA9IF9leHBvcnQ7XG4gIHZhciBnZXRCdWlsdEluJDkgPSBnZXRCdWlsdEluJGY7XG4gIHZhciBhcHBseSQ0ID0gZnVuY3Rpb25BcHBseTtcbiAgdmFyIGNhbGwkYyA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIHVuY3VycnlUaGlzJGIgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgZmFpbHMkaSA9IGZhaWxzJHU7XG4gIHZhciBpc0NhbGxhYmxlJDkgPSBpc0NhbGxhYmxlJG07XG4gIHZhciBpc1N5bWJvbCQxID0gaXNTeW1ib2wkNTtcbiAgdmFyIGFycmF5U2xpY2UkNCA9IGFycmF5U2xpY2UkNTtcbiAgdmFyIGdldFJlcGxhY2VyRnVuY3Rpb24gPSBnZXRKc29uUmVwbGFjZXJGdW5jdGlvbjtcbiAgdmFyIE5BVElWRV9TWU1CT0wkMSA9IHN5bWJvbENvbnN0cnVjdG9yRGV0ZWN0aW9uO1xuXG4gIHZhciAkU3RyaW5nJDEgPSBTdHJpbmc7XG4gIHZhciAkc3RyaW5naWZ5ID0gZ2V0QnVpbHRJbiQ5KCdKU09OJywgJ3N0cmluZ2lmeScpO1xuICB2YXIgZXhlYyA9IHVuY3VycnlUaGlzJGIoLy4vLmV4ZWMpO1xuICB2YXIgY2hhckF0JDIgPSB1bmN1cnJ5VGhpcyRiKCcnLmNoYXJBdCk7XG4gIHZhciBjaGFyQ29kZUF0JDEgPSB1bmN1cnJ5VGhpcyRiKCcnLmNoYXJDb2RlQXQpO1xuICB2YXIgcmVwbGFjZSQxID0gdW5jdXJyeVRoaXMkYignJy5yZXBsYWNlKTtcbiAgdmFyIG51bWJlclRvU3RyaW5nID0gdW5jdXJyeVRoaXMkYigxLjAudG9TdHJpbmcpO1xuXG4gIHZhciB0ZXN0ZXIgPSAvW1xcdUQ4MDAtXFx1REZGRl0vZztcbiAgdmFyIGxvdyA9IC9eW1xcdUQ4MDAtXFx1REJGRl0kLztcbiAgdmFyIGhpID0gL15bXFx1REMwMC1cXHVERkZGXSQvO1xuXG4gIHZhciBXUk9OR19TWU1CT0xTX0NPTlZFUlNJT04gPSAhTkFUSVZFX1NZTUJPTCQxIHx8IGZhaWxzJGkoZnVuY3Rpb24gKCkge1xuICAgIHZhciBzeW1ib2wgPSBnZXRCdWlsdEluJDkoJ1N5bWJvbCcpKCdzdHJpbmdpZnkgZGV0ZWN0aW9uJyk7XG4gICAgLy8gTVMgRWRnZSBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMge31cbiAgICByZXR1cm4gJHN0cmluZ2lmeShbc3ltYm9sXSkgIT09ICdbbnVsbF0nXG4gICAgICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgICAgIHx8ICRzdHJpbmdpZnkoeyBhOiBzeW1ib2wgfSkgIT09ICd7fSdcbiAgICAgIC8vIFY4IHRocm93cyBvbiBib3hlZCBzeW1ib2xzXG4gICAgICB8fCAkc3RyaW5naWZ5KE9iamVjdChzeW1ib2wpKSAhPT0gJ3t9JztcbiAgfSk7XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtd2VsbC1mb3JtZWQtc3RyaW5naWZ5XG4gIHZhciBJTExfRk9STUVEX1VOSUNPREUgPSBmYWlscyRpKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJHN0cmluZ2lmeSgnXFx1REYwNlxcdUQ4MzQnKSAhPT0gJ1wiXFxcXHVkZjA2XFxcXHVkODM0XCInXG4gICAgICB8fCAkc3RyaW5naWZ5KCdcXHVERUFEJykgIT09ICdcIlxcXFx1ZGVhZFwiJztcbiAgfSk7XG5cbiAgdmFyIHN0cmluZ2lmeVdpdGhTeW1ib2xzRml4ID0gZnVuY3Rpb24gKGl0LCByZXBsYWNlcikge1xuICAgIHZhciBhcmdzID0gYXJyYXlTbGljZSQ0KGFyZ3VtZW50cyk7XG4gICAgdmFyICRyZXBsYWNlciA9IGdldFJlcGxhY2VyRnVuY3Rpb24ocmVwbGFjZXIpO1xuICAgIGlmICghaXNDYWxsYWJsZSQ5KCRyZXBsYWNlcikgJiYgKGl0ID09PSB1bmRlZmluZWQgfHwgaXNTeW1ib2wkMShpdCkpKSByZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICBhcmdzWzFdID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgIC8vIHNvbWUgb2xkIGltcGxlbWVudGF0aW9ucyAobGlrZSBXZWJLaXQpIGNvdWxkIHBhc3MgbnVtYmVycyBhcyBrZXlzXG4gICAgICBpZiAoaXNDYWxsYWJsZSQ5KCRyZXBsYWNlcikpIHZhbHVlID0gY2FsbCRjKCRyZXBsYWNlciwgdGhpcywgJFN0cmluZyQxKGtleSksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wkMSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIHJldHVybiBhcHBseSQ0KCRzdHJpbmdpZnksIG51bGwsIGFyZ3MpO1xuICB9O1xuXG4gIHZhciBmaXhJbGxGb3JtZWQgPSBmdW5jdGlvbiAobWF0Y2gsIG9mZnNldCwgc3RyaW5nKSB7XG4gICAgdmFyIHByZXYgPSBjaGFyQXQkMihzdHJpbmcsIG9mZnNldCAtIDEpO1xuICAgIHZhciBuZXh0ID0gY2hhckF0JDIoc3RyaW5nLCBvZmZzZXQgKyAxKTtcbiAgICBpZiAoKGV4ZWMobG93LCBtYXRjaCkgJiYgIWV4ZWMoaGksIG5leHQpKSB8fCAoZXhlYyhoaSwgbWF0Y2gpICYmICFleGVjKGxvdywgcHJldikpKSB7XG4gICAgICByZXR1cm4gJ1xcXFx1JyArIG51bWJlclRvU3RyaW5nKGNoYXJDb2RlQXQkMShtYXRjaCwgMCksIDE2KTtcbiAgICB9IHJldHVybiBtYXRjaDtcbiAgfTtcblxuICBpZiAoJHN0cmluZ2lmeSkge1xuICAgIC8vIGBKU09OLnN0cmluZ2lmeWAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1qc29uLnN0cmluZ2lmeVxuICAgICQkSyh7IHRhcmdldDogJ0pTT04nLCBzdGF0OiB0cnVlLCBhcml0eTogMywgZm9yY2VkOiBXUk9OR19TWU1CT0xTX0NPTlZFUlNJT04gfHwgSUxMX0ZPUk1FRF9VTklDT0RFIH0sIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCwgcmVwbGFjZXIsIHNwYWNlKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJyYXlTbGljZSQ0KGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciByZXN1bHQgPSBhcHBseSQ0KFdST05HX1NZTUJPTFNfQ09OVkVSU0lPTiA/IHN0cmluZ2lmeVdpdGhTeW1ib2xzRml4IDogJHN0cmluZ2lmeSwgbnVsbCwgYXJncyk7XG4gICAgICAgIHJldHVybiBJTExfRk9STUVEX1VOSUNPREUgJiYgdHlwZW9mIHJlc3VsdCA9PSAnc3RyaW5nJyA/IHJlcGxhY2UkMShyZXN1bHQsIHRlc3RlciwgZml4SWxsRm9ybWVkKSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciAkJEogPSBfZXhwb3J0O1xuICB2YXIgTkFUSVZFX1NZTUJPTCA9IHN5bWJvbENvbnN0cnVjdG9yRGV0ZWN0aW9uO1xuICB2YXIgZmFpbHMkaCA9IGZhaWxzJHU7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMiA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scztcbiAgdmFyIHRvT2JqZWN0JGEgPSB0b09iamVjdCRlO1xuXG4gIC8vIFY4IH4gQ2hyb21lIDM4IGFuZCAzOSBgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc2AgZmFpbHMgb24gcHJpbWl0aXZlc1xuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNDQzXG4gIHZhciBGT1JDRUQkNSA9ICFOQVRJVkVfU1lNQk9MIHx8IGZhaWxzJGgoZnVuY3Rpb24gKCkgeyBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMi5mKDEpOyB9KTtcblxuICAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldG93bnByb3BlcnR5c3ltYm9sc1xuICAkJEooeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCQ1IH0sIHtcbiAgICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkge1xuICAgICAgdmFyICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHNNb2R1bGUkMi5mO1xuICAgICAgcmV0dXJuICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyAkZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRvT2JqZWN0JGEoaXQpKSA6IFtdO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRrID0gd2VsbEtub3duU3ltYm9sRGVmaW5lO1xuXG4gIC8vIGBTeW1ib2wuYXN5bmNJdGVyYXRvcmAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuYXN5bmNpdGVyYXRvclxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkaygnYXN5bmNJdGVyYXRvcicpO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkaiA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcblxuICAvLyBgU3ltYm9sLmhhc0luc3RhbmNlYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5oYXNpbnN0YW5jZVxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkaignaGFzSW5zdGFuY2UnKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJGkgPSB3ZWxsS25vd25TeW1ib2xEZWZpbmU7XG5cbiAgLy8gYFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGVgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLmlzY29uY2F0c3ByZWFkYWJsZVxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkaSgnaXNDb25jYXRTcHJlYWRhYmxlJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRoID0gd2VsbEtub3duU3ltYm9sRGVmaW5lO1xuXG4gIC8vIGBTeW1ib2wuaXRlcmF0b3JgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLml0ZXJhdG9yXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCRoKCdpdGVyYXRvcicpO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkZyA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcblxuICAvLyBgU3ltYm9sLm1hdGNoYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5tYXRjaFxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkZygnbWF0Y2gnKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJGYgPSB3ZWxsS25vd25TeW1ib2xEZWZpbmU7XG5cbiAgLy8gYFN5bWJvbC5tYXRjaEFsbGAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wubWF0Y2hhbGxcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGYoJ21hdGNoQWxsJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRlID0gd2VsbEtub3duU3ltYm9sRGVmaW5lO1xuXG4gIC8vIGBTeW1ib2wucmVwbGFjZWAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wucmVwbGFjZVxuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkZSgncmVwbGFjZScpO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkZCA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcblxuICAvLyBgU3ltYm9sLnNlYXJjaGAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wuc2VhcmNoXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCRkKCdzZWFyY2gnKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJGMgPSB3ZWxsS25vd25TeW1ib2xEZWZpbmU7XG5cbiAgLy8gYFN5bWJvbC5zcGVjaWVzYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5zcGVjaWVzXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCRjKCdzcGVjaWVzJyk7XG5cbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCRiID0gd2VsbEtub3duU3ltYm9sRGVmaW5lO1xuXG4gIC8vIGBTeW1ib2wuc3BsaXRgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnNwbGl0XG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCRiKCdzcGxpdCcpO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkYSA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcbiAgdmFyIGRlZmluZVN5bWJvbFRvUHJpbWl0aXZlID0gc3ltYm9sRGVmaW5lVG9QcmltaXRpdmU7XG5cbiAgLy8gYFN5bWJvbC50b1ByaW1pdGl2ZWAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wudG9wcmltaXRpdmVcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJGEoJ3RvUHJpbWl0aXZlJyk7XG5cbiAgLy8gYFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV1gIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3ByaW1pdGl2ZVxuICBkZWZpbmVTeW1ib2xUb1ByaW1pdGl2ZSgpO1xuXG4gIHZhciBnZXRCdWlsdEluJDggPSBnZXRCdWlsdEluJGY7XG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkOSA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcbiAgdmFyIHNldFRvU3RyaW5nVGFnJDUgPSBzZXRUb1N0cmluZ1RhZyQ3O1xuXG4gIC8vIGBTeW1ib2wudG9TdHJpbmdUYWdgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3ltYm9sLnRvc3RyaW5ndGFnXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCQ5KCd0b1N0cmluZ1RhZycpO1xuXG4gIC8vIGBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddYCBwcm9wZXJ0eVxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXN5bWJvbC5wcm90b3R5cGUtQEB0b3N0cmluZ3RhZ1xuICBzZXRUb1N0cmluZ1RhZyQ1KGdldEJ1aWx0SW4kOCgnU3ltYm9sJyksICdTeW1ib2wnKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJDggPSB3ZWxsS25vd25TeW1ib2xEZWZpbmU7XG5cbiAgLy8gYFN5bWJvbC51bnNjb3BhYmxlc2Agd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zeW1ib2wudW5zY29wYWJsZXNcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDgoJ3Vuc2NvcGFibGVzJyk7XG5cbiAgdmFyIGdsb2JhbCRkID0gZ2xvYmFsJHA7XG4gIHZhciBzZXRUb1N0cmluZ1RhZyQ0ID0gc2V0VG9TdHJpbmdUYWckNztcblxuICAvLyBKU09OW0BAdG9TdHJpbmdUYWddIHByb3BlcnR5XG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtanNvbi1AQHRvc3RyaW5ndGFnXG4gIHNldFRvU3RyaW5nVGFnJDQoZ2xvYmFsJGQuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuICB2YXIgcGF0aCRqID0gcGF0aCRvO1xuXG4gIHZhciBzeW1ib2wkNSA9IHBhdGgkai5TeW1ib2w7XG5cbiAgdmFyIGl0ZXJhdG9ycyA9IHt9O1xuXG4gIHZhciBERVNDUklQVE9SUyQ5ID0gZGVzY3JpcHRvcnM7XG4gIHZhciBoYXNPd24kOSA9IGhhc093blByb3BlcnR5XzE7XG5cbiAgdmFyIEZ1bmN0aW9uUHJvdG90eXBlJDIgPSBGdW5jdGlvbi5wcm90b3R5cGU7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgdmFyIGdldERlc2NyaXB0b3IgPSBERVNDUklQVE9SUyQ5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG5cbiAgdmFyIEVYSVNUUyA9IGhhc093biQ5KEZ1bmN0aW9uUHJvdG90eXBlJDIsICduYW1lJyk7XG4gIC8vIGFkZGl0aW9uYWwgcHJvdGVjdGlvbiBmcm9tIG1pbmlmaWVkIC8gbWFuZ2xlZCAvIGRyb3BwZWQgZnVuY3Rpb24gbmFtZXNcbiAgdmFyIFBST1BFUiA9IEVYSVNUUyAmJiAoZnVuY3Rpb24gc29tZXRoaW5nKCkgeyAvKiBlbXB0eSAqLyB9KS5uYW1lID09PSAnc29tZXRoaW5nJztcbiAgdmFyIENPTkZJR1VSQUJMRSA9IEVYSVNUUyAmJiAoIURFU0NSSVBUT1JTJDkgfHwgKERFU0NSSVBUT1JTJDkgJiYgZ2V0RGVzY3JpcHRvcihGdW5jdGlvblByb3RvdHlwZSQyLCAnbmFtZScpLmNvbmZpZ3VyYWJsZSkpO1xuXG4gIHZhciBmdW5jdGlvbk5hbWUgPSB7XG4gICAgRVhJU1RTOiBFWElTVFMsXG4gICAgUFJPUEVSOiBQUk9QRVIsXG4gICAgQ09ORklHVVJBQkxFOiBDT05GSUdVUkFCTEVcbiAgfTtcblxuICB2YXIgZmFpbHMkZyA9IGZhaWxzJHU7XG5cbiAgdmFyIGNvcnJlY3RQcm90b3R5cGVHZXR0ZXIgPSAhZmFpbHMkZyhmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRigpIHsgLyogZW1wdHkgKi8gfVxuICAgIEYucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgRigpKSAhPT0gRi5wcm90b3R5cGU7XG4gIH0pO1xuXG4gIHZhciBoYXNPd24kOCA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBpc0NhbGxhYmxlJDggPSBpc0NhbGxhYmxlJG07XG4gIHZhciB0b09iamVjdCQ5ID0gdG9PYmplY3QkZTtcbiAgdmFyIHNoYXJlZEtleSA9IHNoYXJlZEtleSQ0O1xuICB2YXIgQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSJDEgPSBjb3JyZWN0UHJvdG90eXBlR2V0dGVyO1xuXG4gIHZhciBJRV9QUk9UTyA9IHNoYXJlZEtleSgnSUVfUFJPVE8nKTtcbiAgdmFyICRPYmplY3QgPSBPYmplY3Q7XG4gIHZhciBPYmplY3RQcm90b3R5cGUkMSA9ICRPYmplY3QucHJvdG90eXBlO1xuXG4gIC8vIGBPYmplY3QuZ2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRwcm90b3R5cGVvZlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWdldHByb3RvdHlwZW9mIC0tIHNhZmVcbiAgdmFyIG9iamVjdEdldFByb3RvdHlwZU9mID0gQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSJDEgPyAkT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gKE8pIHtcbiAgICB2YXIgb2JqZWN0ID0gdG9PYmplY3QkOShPKTtcbiAgICBpZiAoaGFzT3duJDgob2JqZWN0LCBJRV9QUk9UTykpIHJldHVybiBvYmplY3RbSUVfUFJPVE9dO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoaXNDYWxsYWJsZSQ4KGNvbnN0cnVjdG9yKSAmJiBvYmplY3QgaW5zdGFuY2VvZiBjb25zdHJ1Y3Rvcikge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICB9IHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiAkT2JqZWN0ID8gT2JqZWN0UHJvdG90eXBlJDEgOiBudWxsO1xuICB9O1xuXG4gIHZhciBmYWlscyRmID0gZmFpbHMkdTtcbiAgdmFyIGlzQ2FsbGFibGUkNyA9IGlzQ2FsbGFibGUkbTtcbiAgdmFyIGlzT2JqZWN0JDkgPSBpc09iamVjdCRoO1xuICB2YXIgY3JlYXRlJGIgPSBvYmplY3RDcmVhdGU7XG4gIHZhciBnZXRQcm90b3R5cGVPZiQ3ID0gb2JqZWN0R2V0UHJvdG90eXBlT2Y7XG4gIHZhciBkZWZpbmVCdWlsdEluJDMgPSBkZWZpbmVCdWlsdEluJDY7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkYyA9IHdlbGxLbm93blN5bWJvbCRuO1xuXG4gIHZhciBJVEVSQVRPUiQ0ID0gd2VsbEtub3duU3ltYm9sJGMoJ2l0ZXJhdG9yJyk7XG4gIHZhciBCVUdHWV9TQUZBUklfSVRFUkFUT1JTJDEgPSBmYWxzZTtcblxuICAvLyBgJUl0ZXJhdG9yUHJvdG90eXBlJWAgb2JqZWN0XG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1vYmplY3RcbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlJDEsIFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSwgYXJyYXlJdGVyYXRvcjtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBlcy9uby1hcnJheS1wcm90b3R5cGUta2V5cyAtLSBzYWZlICovXG4gIGlmIChbXS5rZXlzKSB7XG4gICAgYXJyYXlJdGVyYXRvciA9IFtdLmtleXMoKTtcbiAgICAvLyBTYWZhcmkgOCBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgICBpZiAoISgnbmV4dCcgaW4gYXJyYXlJdGVyYXRvcikpIEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMkMSA9IHRydWU7XG4gICAgZWxzZSB7XG4gICAgICBQcm90b3R5cGVPZkFycmF5SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZiQ3KGdldFByb3RvdHlwZU9mJDcoYXJyYXlJdGVyYXRvcikpO1xuICAgICAgaWYgKFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSkgSXRlcmF0b3JQcm90b3R5cGUkMSA9IFByb3RvdHlwZU9mQXJyYXlJdGVyYXRvclByb3RvdHlwZTtcbiAgICB9XG4gIH1cblxuICB2YXIgTkVXX0lURVJBVE9SX1BST1RPVFlQRSA9ICFpc09iamVjdCQ5KEl0ZXJhdG9yUHJvdG90eXBlJDEpIHx8IGZhaWxzJGYoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0ZXN0ID0ge307XG4gICAgLy8gRkY0NC0gbGVnYWN5IGl0ZXJhdG9ycyBjYXNlXG4gICAgcmV0dXJuIEl0ZXJhdG9yUHJvdG90eXBlJDFbSVRFUkFUT1IkNF0uY2FsbCh0ZXN0KSAhPT0gdGVzdDtcbiAgfSk7XG5cbiAgaWYgKE5FV19JVEVSQVRPUl9QUk9UT1RZUEUpIEl0ZXJhdG9yUHJvdG90eXBlJDEgPSB7fTtcbiAgZWxzZSBJdGVyYXRvclByb3RvdHlwZSQxID0gY3JlYXRlJGIoSXRlcmF0b3JQcm90b3R5cGUkMSk7XG5cbiAgLy8gYCVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtJWl0ZXJhdG9ycHJvdG90eXBlJS1AQGl0ZXJhdG9yXG4gIGlmICghaXNDYWxsYWJsZSQ3KEl0ZXJhdG9yUHJvdG90eXBlJDFbSVRFUkFUT1IkNF0pKSB7XG4gICAgZGVmaW5lQnVpbHRJbiQzKEl0ZXJhdG9yUHJvdG90eXBlJDEsIElURVJBVE9SJDQsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGl0ZXJhdG9yc0NvcmUgPSB7XG4gICAgSXRlcmF0b3JQcm90b3R5cGU6IEl0ZXJhdG9yUHJvdG90eXBlJDEsXG4gICAgQlVHR1lfU0FGQVJJX0lURVJBVE9SUzogQlVHR1lfU0FGQVJJX0lURVJBVE9SUyQxXG4gIH07XG5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0gaXRlcmF0b3JzQ29yZS5JdGVyYXRvclByb3RvdHlwZTtcbiAgdmFyIGNyZWF0ZSRhID0gb2JqZWN0Q3JlYXRlO1xuICB2YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDIgPSBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkNztcbiAgdmFyIHNldFRvU3RyaW5nVGFnJDMgPSBzZXRUb1N0cmluZ1RhZyQ3O1xuICB2YXIgSXRlcmF0b3JzJDUgPSBpdGVyYXRvcnM7XG5cbiAgdmFyIHJldHVyblRoaXMkMSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbiAgdmFyIGl0ZXJhdG9yQ3JlYXRlQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAoSXRlcmF0b3JDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCwgRU5VTUVSQUJMRV9ORVhUKSB7XG4gICAgdmFyIFRPX1NUUklOR19UQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gICAgSXRlcmF0b3JDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUkYShJdGVyYXRvclByb3RvdHlwZSwgeyBuZXh0OiBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMigrIUVOVU1FUkFCTEVfTkVYVCwgbmV4dCkgfSk7XG4gICAgc2V0VG9TdHJpbmdUYWckMyhJdGVyYXRvckNvbnN0cnVjdG9yLCBUT19TVFJJTkdfVEFHLCBmYWxzZSwgdHJ1ZSk7XG4gICAgSXRlcmF0b3JzJDVbVE9fU1RSSU5HX1RBR10gPSByZXR1cm5UaGlzJDE7XG4gICAgcmV0dXJuIEl0ZXJhdG9yQ29uc3RydWN0b3I7XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJGEgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgYUNhbGxhYmxlJGIgPSBhQ2FsbGFibGUkZTtcblxuICB2YXIgZnVuY3Rpb25VbmN1cnJ5VGhpc0FjY2Vzc29yID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCBtZXRob2QpIHtcbiAgICB0cnkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3IgLS0gc2FmZVxuICAgICAgcmV0dXJuIHVuY3VycnlUaGlzJGEoYUNhbGxhYmxlJGIoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIGtleSlbbWV0aG9kXSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgfTtcblxuICB2YXIgaXNDYWxsYWJsZSQ2ID0gaXNDYWxsYWJsZSRtO1xuXG4gIHZhciAkU3RyaW5nID0gU3RyaW5nO1xuICB2YXIgJFR5cGVFcnJvciQ5ID0gVHlwZUVycm9yO1xuXG4gIHZhciBhUG9zc2libGVQcm90b3R5cGUkMSA9IGZ1bmN0aW9uIChhcmd1bWVudCkge1xuICAgIGlmICh0eXBlb2YgYXJndW1lbnQgPT0gJ29iamVjdCcgfHwgaXNDYWxsYWJsZSQ2KGFyZ3VtZW50KSkgcmV0dXJuIGFyZ3VtZW50O1xuICAgIHRocm93IG5ldyAkVHlwZUVycm9yJDkoXCJDYW4ndCBzZXQgXCIgKyAkU3RyaW5nKGFyZ3VtZW50KSArICcgYXMgYSBwcm90b3R5cGUnKTtcbiAgfTtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAtLSBzYWZlICovXG4gIHZhciB1bmN1cnJ5VGhpc0FjY2Vzc29yID0gZnVuY3Rpb25VbmN1cnJ5VGhpc0FjY2Vzc29yO1xuICB2YXIgYW5PYmplY3QkOCA9IGFuT2JqZWN0JGQ7XG4gIHZhciBhUG9zc2libGVQcm90b3R5cGUgPSBhUG9zc2libGVQcm90b3R5cGUkMTtcblxuICAvLyBgT2JqZWN0LnNldFByb3RvdHlwZU9mYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3Quc2V0cHJvdG90eXBlb2ZcbiAgLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3Qtc2V0cHJvdG90eXBlb2YgLS0gc2FmZVxuICB2YXIgb2JqZWN0U2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gZnVuY3Rpb24gKCkge1xuICAgIHZhciBDT1JSRUNUX1NFVFRFUiA9IGZhbHNlO1xuICAgIHZhciB0ZXN0ID0ge307XG4gICAgdmFyIHNldHRlcjtcbiAgICB0cnkge1xuICAgICAgc2V0dGVyID0gdW5jdXJyeVRoaXNBY2Nlc3NvcihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJywgJ3NldCcpO1xuICAgICAgc2V0dGVyKHRlc3QsIFtdKTtcbiAgICAgIENPUlJFQ1RfU0VUVEVSID0gdGVzdCBpbnN0YW5jZW9mIEFycmF5O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pIHtcbiAgICAgIGFuT2JqZWN0JDgoTyk7XG4gICAgICBhUG9zc2libGVQcm90b3R5cGUocHJvdG8pO1xuICAgICAgaWYgKENPUlJFQ1RfU0VUVEVSKSBzZXR0ZXIoTywgcHJvdG8pO1xuICAgICAgZWxzZSBPLl9fcHJvdG9fXyA9IHByb3RvO1xuICAgICAgcmV0dXJuIE87XG4gICAgfTtcbiAgfSgpIDogdW5kZWZpbmVkKTtcblxuICB2YXIgJCRJID0gX2V4cG9ydDtcbiAgdmFyIGNhbGwkYiA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIEZ1bmN0aW9uTmFtZSA9IGZ1bmN0aW9uTmFtZTtcbiAgdmFyIGNyZWF0ZUl0ZXJhdG9yQ29uc3RydWN0b3IgPSBpdGVyYXRvckNyZWF0ZUNvbnN0cnVjdG9yO1xuICB2YXIgZ2V0UHJvdG90eXBlT2YkNiA9IG9iamVjdEdldFByb3RvdHlwZU9mO1xuICB2YXIgc2V0VG9TdHJpbmdUYWckMiA9IHNldFRvU3RyaW5nVGFnJDc7XG4gIHZhciBkZWZpbmVCdWlsdEluJDIgPSBkZWZpbmVCdWlsdEluJDY7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkYiA9IHdlbGxLbm93blN5bWJvbCRuO1xuICB2YXIgSXRlcmF0b3JzJDQgPSBpdGVyYXRvcnM7XG4gIHZhciBJdGVyYXRvcnNDb3JlID0gaXRlcmF0b3JzQ29yZTtcblxuICB2YXIgUFJPUEVSX0ZVTkNUSU9OX05BTUUgPSBGdW5jdGlvbk5hbWUuUFJPUEVSO1xuICBGdW5jdGlvbk5hbWUuQ09ORklHVVJBQkxFO1xuICBJdGVyYXRvcnNDb3JlLkl0ZXJhdG9yUHJvdG90eXBlO1xuICB2YXIgQlVHR1lfU0FGQVJJX0lURVJBVE9SUyA9IEl0ZXJhdG9yc0NvcmUuQlVHR1lfU0FGQVJJX0lURVJBVE9SUztcbiAgdmFyIElURVJBVE9SJDMgPSB3ZWxsS25vd25TeW1ib2wkYignaXRlcmF0b3InKTtcbiAgdmFyIEtFWVMgPSAna2V5cyc7XG4gIHZhciBWQUxVRVMgPSAndmFsdWVzJztcbiAgdmFyIEVOVFJJRVMgPSAnZW50cmllcyc7XG5cbiAgdmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuXG4gIHZhciBpdGVyYXRvckRlZmluZSA9IGZ1bmN0aW9uIChJdGVyYWJsZSwgTkFNRSwgSXRlcmF0b3JDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpIHtcbiAgICBjcmVhdGVJdGVyYXRvckNvbnN0cnVjdG9yKEl0ZXJhdG9yQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuXG4gICAgdmFyIGdldEl0ZXJhdGlvbk1ldGhvZCA9IGZ1bmN0aW9uIChLSU5EKSB7XG4gICAgICBpZiAoS0lORCA9PT0gREVGQVVMVCAmJiBkZWZhdWx0SXRlcmF0b3IpIHJldHVybiBkZWZhdWx0SXRlcmF0b3I7XG4gICAgICBpZiAoIUJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgJiYgS0lORCAmJiBLSU5EIGluIEl0ZXJhYmxlUHJvdG90eXBlKSByZXR1cm4gSXRlcmFibGVQcm90b3R5cGVbS0lORF07XG5cbiAgICAgIHN3aXRjaCAoS0lORCkge1xuICAgICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IEl0ZXJhdG9yQ29uc3RydWN0b3IodGhpcywgS0lORCk7IH07XG4gICAgICAgIGNhc2UgRU5UUklFUzogcmV0dXJuIGZ1bmN0aW9uIGVudHJpZXMoKSB7IHJldHVybiBuZXcgSXRlcmF0b3JDb25zdHJ1Y3Rvcih0aGlzLCBLSU5EKTsgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBJdGVyYXRvckNvbnN0cnVjdG9yKHRoaXMpOyB9O1xuICAgIH07XG5cbiAgICB2YXIgVE9fU1RSSU5HX1RBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgICB2YXIgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gZmFsc2U7XG4gICAgdmFyIEl0ZXJhYmxlUHJvdG90eXBlID0gSXRlcmFibGUucHJvdG90eXBlO1xuICAgIHZhciBuYXRpdmVJdGVyYXRvciA9IEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SJDNdXG4gICAgICB8fCBJdGVyYWJsZVByb3RvdHlwZVsnQEBpdGVyYXRvciddXG4gICAgICB8fCBERUZBVUxUICYmIEl0ZXJhYmxlUHJvdG90eXBlW0RFRkFVTFRdO1xuICAgIHZhciBkZWZhdWx0SXRlcmF0b3IgPSAhQlVHR1lfU0FGQVJJX0lURVJBVE9SUyAmJiBuYXRpdmVJdGVyYXRvciB8fCBnZXRJdGVyYXRpb25NZXRob2QoREVGQVVMVCk7XG4gICAgdmFyIGFueU5hdGl2ZUl0ZXJhdG9yID0gTkFNRSA9PT0gJ0FycmF5JyA/IEl0ZXJhYmxlUHJvdG90eXBlLmVudHJpZXMgfHwgbmF0aXZlSXRlcmF0b3IgOiBuYXRpdmVJdGVyYXRvcjtcbiAgICB2YXIgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLCBtZXRob2RzLCBLRVk7XG5cbiAgICAvLyBmaXggbmF0aXZlXG4gICAgaWYgKGFueU5hdGl2ZUl0ZXJhdG9yKSB7XG4gICAgICBDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZiQ2KGFueU5hdGl2ZUl0ZXJhdG9yLmNhbGwobmV3IEl0ZXJhYmxlKCkpKTtcbiAgICAgIGlmIChDdXJyZW50SXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgQ3VycmVudEl0ZXJhdG9yUHJvdG90eXBlLm5leHQpIHtcbiAgICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgICBzZXRUb1N0cmluZ1RhZyQyKEN1cnJlbnRJdGVyYXRvclByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIEl0ZXJhdG9ycyQ0W1RPX1NUUklOR19UQUddID0gcmV0dXJuVGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaXggQXJyYXkucHJvdG90eXBlLnsgdmFsdWVzLCBAQGl0ZXJhdG9yIH0ubmFtZSBpbiBWOCAvIEZGXG4gICAgaWYgKFBST1BFUl9GVU5DVElPTl9OQU1FICYmIERFRkFVTFQgPT09IFZBTFVFUyAmJiBuYXRpdmVJdGVyYXRvciAmJiBuYXRpdmVJdGVyYXRvci5uYW1lICE9PSBWQUxVRVMpIHtcbiAgICAgIHtcbiAgICAgICAgSU5DT1JSRUNUX1ZBTFVFU19OQU1FID0gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdEl0ZXJhdG9yID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gY2FsbCRiKG5hdGl2ZUl0ZXJhdG9yLCB0aGlzKTsgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBleHBvcnQgYWRkaXRpb25hbCBtZXRob2RzXG4gICAgaWYgKERFRkFVTFQpIHtcbiAgICAgIG1ldGhvZHMgPSB7XG4gICAgICAgIHZhbHVlczogZ2V0SXRlcmF0aW9uTWV0aG9kKFZBTFVFUyksXG4gICAgICAgIGtleXM6IElTX1NFVCA/IGRlZmF1bHRJdGVyYXRvciA6IGdldEl0ZXJhdGlvbk1ldGhvZChLRVlTKSxcbiAgICAgICAgZW50cmllczogZ2V0SXRlcmF0aW9uTWV0aG9kKEVOVFJJRVMpXG4gICAgICB9O1xuICAgICAgaWYgKEZPUkNFRCkgZm9yIChLRVkgaW4gbWV0aG9kcykge1xuICAgICAgICBpZiAoQlVHR1lfU0FGQVJJX0lURVJBVE9SUyB8fCBJTkNPUlJFQ1RfVkFMVUVTX05BTUUgfHwgIShLRVkgaW4gSXRlcmFibGVQcm90b3R5cGUpKSB7XG4gICAgICAgICAgZGVmaW5lQnVpbHRJbiQyKEl0ZXJhYmxlUHJvdG90eXBlLCBLRVksIG1ldGhvZHNbS0VZXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSAkJEkoeyB0YXJnZXQ6IE5BTUUsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEJVR0dZX1NBRkFSSV9JVEVSQVRPUlMgfHwgSU5DT1JSRUNUX1ZBTFVFU19OQU1FIH0sIG1ldGhvZHMpO1xuICAgIH1cblxuICAgIC8vIGRlZmluZSBpdGVyYXRvclxuICAgIGlmICgoRk9SQ0VEKSAmJiBJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUiQzXSAhPT0gZGVmYXVsdEl0ZXJhdG9yKSB7XG4gICAgICBkZWZpbmVCdWlsdEluJDIoSXRlcmFibGVQcm90b3R5cGUsIElURVJBVE9SJDMsIGRlZmF1bHRJdGVyYXRvciwgeyBuYW1lOiBERUZBVUxUIH0pO1xuICAgIH1cbiAgICBJdGVyYXRvcnMkNFtOQU1FXSA9IGRlZmF1bHRJdGVyYXRvcjtcblxuICAgIHJldHVybiBtZXRob2RzO1xuICB9O1xuXG4gIC8vIGBDcmVhdGVJdGVyUmVzdWx0T2JqZWN0YCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1jcmVhdGVpdGVycmVzdWx0b2JqZWN0XG4gIHZhciBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0JDMgPSBmdW5jdGlvbiAodmFsdWUsIGRvbmUpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6IGRvbmUgfTtcbiAgfTtcblxuICB2YXIgdG9JbmRleGVkT2JqZWN0JDMgPSB0b0luZGV4ZWRPYmplY3QkYTtcbiAgdmFyIEl0ZXJhdG9ycyQzID0gaXRlcmF0b3JzO1xuICB2YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSQ0ID0gaW50ZXJuYWxTdGF0ZTtcbiAgb2JqZWN0RGVmaW5lUHJvcGVydHkuZjtcbiAgdmFyIGRlZmluZUl0ZXJhdG9yJDIgPSBpdGVyYXRvckRlZmluZTtcbiAgdmFyIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QkMiA9IGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QkMztcblxuICB2YXIgQVJSQVlfSVRFUkFUT1IgPSAnQXJyYXkgSXRlcmF0b3InO1xuICB2YXIgc2V0SW50ZXJuYWxTdGF0ZSQ0ID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQ0LnNldDtcbiAgdmFyIGdldEludGVybmFsU3RhdGUkMSA9IEludGVybmFsU3RhdGVNb2R1bGUkNC5nZXR0ZXJGb3IoQVJSQVlfSVRFUkFUT1IpO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZW50cmllc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmVudHJpZXNcbiAgLy8gYEFycmF5LnByb3RvdHlwZS5rZXlzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUua2V5c1xuICAvLyBgQXJyYXkucHJvdG90eXBlLnZhbHVlc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnZhbHVlc1xuICAvLyBgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUtQEBpdGVyYXRvclxuICAvLyBgQ3JlYXRlQXJyYXlJdGVyYXRvcmAgaW50ZXJuYWwgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlYXJyYXlpdGVyYXRvclxuICBkZWZpbmVJdGVyYXRvciQyKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgICBzZXRJbnRlcm5hbFN0YXRlJDQodGhpcywge1xuICAgICAgdHlwZTogQVJSQVlfSVRFUkFUT1IsXG4gICAgICB0YXJnZXQ6IHRvSW5kZXhlZE9iamVjdCQzKGl0ZXJhdGVkKSwgLy8gdGFyZ2V0XG4gICAgICBpbmRleDogMCwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbiAgICAgIGtpbmQ6IGtpbmQgICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2luZFxuICAgIH0pO1xuICAvLyBgJUFycmF5SXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVhcnJheWl0ZXJhdG9ycHJvdG90eXBlJS5uZXh0XG4gIH0sIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFN0YXRlJDEodGhpcyk7XG4gICAgdmFyIHRhcmdldCA9IHN0YXRlLnRhcmdldDtcbiAgICB2YXIgaW5kZXggPSBzdGF0ZS5pbmRleCsrO1xuICAgIGlmICghdGFyZ2V0IHx8IGluZGV4ID49IHRhcmdldC5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLnRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0JDIodW5kZWZpbmVkLCB0cnVlKTtcbiAgICB9XG4gICAgc3dpdGNoIChzdGF0ZS5raW5kKSB7XG4gICAgICBjYXNlICdrZXlzJzogcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QkMihpbmRleCwgZmFsc2UpO1xuICAgICAgY2FzZSAndmFsdWVzJzogcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QkMih0YXJnZXRbaW5kZXhdLCBmYWxzZSk7XG4gICAgfSByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdCQyKFtpbmRleCwgdGFyZ2V0W2luZGV4XV0sIGZhbHNlKTtcbiAgfSwgJ3ZhbHVlcycpO1xuXG4gIC8vIGFyZ3VtZW50c0xpc3RbQEBpdGVyYXRvcl0gaXMgJUFycmF5UHJvdG9fdmFsdWVzJVxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWNyZWF0ZXVubWFwcGVkYXJndW1lbnRzb2JqZWN0XG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtY3JlYXRlbWFwcGVkYXJndW1lbnRzb2JqZWN0XG4gIEl0ZXJhdG9ycyQzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycyQzLkFycmF5O1xuXG4gIC8vIGl0ZXJhYmxlIERPTSBjb2xsZWN0aW9uc1xuICAvLyBmbGFnIC0gYGl0ZXJhYmxlYCBpbnRlcmZhY2UgLSAnZW50cmllcycsICdrZXlzJywgJ3ZhbHVlcycsICdmb3JFYWNoJyBtZXRob2RzXG4gIHZhciBkb21JdGVyYWJsZXMgPSB7XG4gICAgQ1NTUnVsZUxpc3Q6IDAsXG4gICAgQ1NTU3R5bGVEZWNsYXJhdGlvbjogMCxcbiAgICBDU1NWYWx1ZUxpc3Q6IDAsXG4gICAgQ2xpZW50UmVjdExpc3Q6IDAsXG4gICAgRE9NUmVjdExpc3Q6IDAsXG4gICAgRE9NU3RyaW5nTGlzdDogMCxcbiAgICBET01Ub2tlbkxpc3Q6IDEsXG4gICAgRGF0YVRyYW5zZmVySXRlbUxpc3Q6IDAsXG4gICAgRmlsZUxpc3Q6IDAsXG4gICAgSFRNTEFsbENvbGxlY3Rpb246IDAsXG4gICAgSFRNTENvbGxlY3Rpb246IDAsXG4gICAgSFRNTEZvcm1FbGVtZW50OiAwLFxuICAgIEhUTUxTZWxlY3RFbGVtZW50OiAwLFxuICAgIE1lZGlhTGlzdDogMCxcbiAgICBNaW1lVHlwZUFycmF5OiAwLFxuICAgIE5hbWVkTm9kZU1hcDogMCxcbiAgICBOb2RlTGlzdDogMSxcbiAgICBQYWludFJlcXVlc3RMaXN0OiAwLFxuICAgIFBsdWdpbjogMCxcbiAgICBQbHVnaW5BcnJheTogMCxcbiAgICBTVkdMZW5ndGhMaXN0OiAwLFxuICAgIFNWR051bWJlckxpc3Q6IDAsXG4gICAgU1ZHUGF0aFNlZ0xpc3Q6IDAsXG4gICAgU1ZHUG9pbnRMaXN0OiAwLFxuICAgIFNWR1N0cmluZ0xpc3Q6IDAsXG4gICAgU1ZHVHJhbnNmb3JtTGlzdDogMCxcbiAgICBTb3VyY2VCdWZmZXJMaXN0OiAwLFxuICAgIFN0eWxlU2hlZXRMaXN0OiAwLFxuICAgIFRleHRUcmFja0N1ZUxpc3Q6IDAsXG4gICAgVGV4dFRyYWNrTGlzdDogMCxcbiAgICBUb3VjaExpc3Q6IDBcbiAgfTtcblxuICB2YXIgRE9NSXRlcmFibGVzJDQgPSBkb21JdGVyYWJsZXM7XG4gIHZhciBnbG9iYWwkYyA9IGdsb2JhbCRwO1xuICB2YXIgY2xhc3NvZiQ3ID0gY2xhc3NvZiRkO1xuICB2YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQgPSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkOTtcbiAgdmFyIEl0ZXJhdG9ycyQyID0gaXRlcmF0b3JzO1xuICB2YXIgd2VsbEtub3duU3ltYm9sJGEgPSB3ZWxsS25vd25TeW1ib2wkbjtcblxuICB2YXIgVE9fU1RSSU5HX1RBRyQxID0gd2VsbEtub3duU3ltYm9sJGEoJ3RvU3RyaW5nVGFnJyk7XG5cbiAgZm9yICh2YXIgQ09MTEVDVElPTl9OQU1FIGluIERPTUl0ZXJhYmxlcyQ0KSB7XG4gICAgdmFyIENvbGxlY3Rpb24gPSBnbG9iYWwkY1tDT0xMRUNUSU9OX05BTUVdO1xuICAgIHZhciBDb2xsZWN0aW9uUHJvdG90eXBlID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgICBpZiAoQ29sbGVjdGlvblByb3RvdHlwZSAmJiBjbGFzc29mJDcoQ29sbGVjdGlvblByb3RvdHlwZSkgIT09IFRPX1NUUklOR19UQUckMSkge1xuICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDQoQ29sbGVjdGlvblByb3RvdHlwZSwgVE9fU1RSSU5HX1RBRyQxLCBDT0xMRUNUSU9OX05BTUUpO1xuICAgIH1cbiAgICBJdGVyYXRvcnMkMltDT0xMRUNUSU9OX05BTUVdID0gSXRlcmF0b3JzJDIuQXJyYXk7XG4gIH1cblxuICB2YXIgcGFyZW50JDE1ID0gc3ltYm9sJDU7XG5cblxuICB2YXIgc3ltYm9sJDQgPSBwYXJlbnQkMTU7XG5cbiAgdmFyIHdlbGxLbm93blN5bWJvbCQ5ID0gd2VsbEtub3duU3ltYm9sJG47XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSQ0ID0gb2JqZWN0RGVmaW5lUHJvcGVydHkuZjtcblxuICB2YXIgTUVUQURBVEEkMSA9IHdlbGxLbm93blN5bWJvbCQ5KCdtZXRhZGF0YScpO1xuICB2YXIgRnVuY3Rpb25Qcm90b3R5cGUkMSA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuICAvLyBGdW5jdGlvbi5wcm90b3R5cGVbQEBtZXRhZGF0YV1cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZGVjb3JhdG9yLW1ldGFkYXRhXG4gIGlmIChGdW5jdGlvblByb3RvdHlwZSQxW01FVEFEQVRBJDFdID09PSB1bmRlZmluZWQpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eSQ0KEZ1bmN0aW9uUHJvdG90eXBlJDEsIE1FVEFEQVRBJDEsIHtcbiAgICAgIHZhbHVlOiBudWxsXG4gICAgfSk7XG4gIH1cblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJDcgPSB3ZWxsS25vd25TeW1ib2xEZWZpbmU7XG5cbiAgLy8gYFN5bWJvbC5hc3luY0Rpc3Bvc2VgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWFzeW5jLWV4cGxpY2l0LXJlc291cmNlLW1hbmFnZW1lbnRcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDcoJ2FzeW5jRGlzcG9zZScpO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkNiA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcblxuICAvLyBgU3ltYm9sLmRpc3Bvc2VgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWV4cGxpY2l0LXJlc291cmNlLW1hbmFnZW1lbnRcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDYoJ2Rpc3Bvc2UnKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJDUgPSB3ZWxsS25vd25TeW1ib2xEZWZpbmU7XG5cbiAgLy8gYFN5bWJvbC5tZXRhZGF0YWAgd2VsbC1rbm93biBzeW1ib2xcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZGVjb3JhdG9yc1xuICBkZWZpbmVXZWxsS25vd25TeW1ib2wkNSgnbWV0YWRhdGEnKTtcblxuICB2YXIgcGFyZW50JDE0ID0gc3ltYm9sJDQ7XG5cblxuXG5cblxuXG4gIHZhciBzeW1ib2wkMyA9IHBhcmVudCQxNDtcblxuICB2YXIgZ2V0QnVpbHRJbiQ3ID0gZ2V0QnVpbHRJbiRmO1xuICB2YXIgdW5jdXJyeVRoaXMkOSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG5cbiAgdmFyIFN5bWJvbCQyID0gZ2V0QnVpbHRJbiQ3KCdTeW1ib2wnKTtcbiAgdmFyIGtleUZvciA9IFN5bWJvbCQyLmtleUZvcjtcbiAgdmFyIHRoaXNTeW1ib2xWYWx1ZSQxID0gdW5jdXJyeVRoaXMkOShTeW1ib2wkMi5wcm90b3R5cGUudmFsdWVPZik7XG5cbiAgLy8gYFN5bWJvbC5pc1JlZ2lzdGVyZWRTeW1ib2xgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvcHJvcG9zYWwtc3ltYm9sLXByZWRpY2F0ZXMvI3NlYy1zeW1ib2wtaXNyZWdpc3RlcmVkc3ltYm9sXG4gIHZhciBzeW1ib2xJc1JlZ2lzdGVyZWQgPSBTeW1ib2wkMi5pc1JlZ2lzdGVyZWRTeW1ib2wgfHwgZnVuY3Rpb24gaXNSZWdpc3RlcmVkU3ltYm9sKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBrZXlGb3IodGhpc1N5bWJvbFZhbHVlJDEodmFsdWUpKSAhPT0gdW5kZWZpbmVkO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuXG4gIHZhciAkJEggPSBfZXhwb3J0O1xuICB2YXIgaXNSZWdpc3RlcmVkU3ltYm9sJDEgPSBzeW1ib2xJc1JlZ2lzdGVyZWQ7XG5cbiAgLy8gYFN5bWJvbC5pc1JlZ2lzdGVyZWRTeW1ib2xgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvcHJvcG9zYWwtc3ltYm9sLXByZWRpY2F0ZXMvI3NlYy1zeW1ib2wtaXNyZWdpc3RlcmVkc3ltYm9sXG4gICQkSCh7IHRhcmdldDogJ1N5bWJvbCcsIHN0YXQ6IHRydWUgfSwge1xuICAgIGlzUmVnaXN0ZXJlZFN5bWJvbDogaXNSZWdpc3RlcmVkU3ltYm9sJDFcbiAgfSk7XG5cbiAgdmFyIHNoYXJlZCA9IHNoYXJlZEV4cG9ydHM7XG4gIHZhciBnZXRCdWlsdEluJDYgPSBnZXRCdWlsdEluJGY7XG4gIHZhciB1bmN1cnJ5VGhpcyQ4ID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGlzU3ltYm9sID0gaXNTeW1ib2wkNTtcbiAgdmFyIHdlbGxLbm93blN5bWJvbCQ4ID0gd2VsbEtub3duU3ltYm9sJG47XG5cbiAgdmFyIFN5bWJvbCQxID0gZ2V0QnVpbHRJbiQ2KCdTeW1ib2wnKTtcbiAgdmFyICRpc1dlbGxLbm93blN5bWJvbCA9IFN5bWJvbCQxLmlzV2VsbEtub3duU3ltYm9sO1xuICB2YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IGdldEJ1aWx0SW4kNignT2JqZWN0JywgJ2dldE93blByb3BlcnR5TmFtZXMnKTtcbiAgdmFyIHRoaXNTeW1ib2xWYWx1ZSA9IHVuY3VycnlUaGlzJDgoU3ltYm9sJDEucHJvdG90eXBlLnZhbHVlT2YpO1xuICB2YXIgV2VsbEtub3duU3ltYm9sc1N0b3JlID0gc2hhcmVkKCd3a3MnKTtcblxuICBmb3IgKHZhciBpID0gMCwgc3ltYm9sS2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoU3ltYm9sJDEpLCBzeW1ib2xLZXlzTGVuZ3RoID0gc3ltYm9sS2V5cy5sZW5ndGg7IGkgPCBzeW1ib2xLZXlzTGVuZ3RoOyBpKyspIHtcbiAgICAvLyBzb21lIG9sZCBlbmdpbmVzIHRocm93cyBvbiBhY2Nlc3MgdG8gc29tZSBrZXlzIGxpa2UgYGFyZ3VtZW50c2Agb3IgYGNhbGxlcmBcbiAgICB0cnkge1xuICAgICAgdmFyIHN5bWJvbEtleSA9IHN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoaXNTeW1ib2woU3ltYm9sJDFbc3ltYm9sS2V5XSkpIHdlbGxLbm93blN5bWJvbCQ4KHN5bWJvbEtleSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICB9XG5cbiAgLy8gYFN5bWJvbC5pc1dlbGxLbm93blN5bWJvbGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9wcm9wb3NhbC1zeW1ib2wtcHJlZGljYXRlcy8jc2VjLXN5bWJvbC1pc3dlbGxrbm93bnN5bWJvbFxuICAvLyBXZSBzaG91bGQgcGF0Y2ggaXQgZm9yIG5ld2x5IGFkZGVkIHdlbGwta25vd24gc3ltYm9scy4gSWYgaXQncyBub3QgcmVxdWlyZWQsIHRoaXMgbW9kdWxlIGp1c3Qgd2lsbCBub3QgYmUgaW5qZWN0ZWRcbiAgdmFyIHN5bWJvbElzV2VsbEtub3duID0gZnVuY3Rpb24gaXNXZWxsS25vd25TeW1ib2wodmFsdWUpIHtcbiAgICBpZiAoJGlzV2VsbEtub3duU3ltYm9sICYmICRpc1dlbGxLbm93blN5bWJvbCh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgIHRyeSB7XG4gICAgICB2YXIgc3ltYm9sID0gdGhpc1N5bWJvbFZhbHVlKHZhbHVlKTtcbiAgICAgIGZvciAodmFyIGogPSAwLCBrZXlzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhXZWxsS25vd25TeW1ib2xzU3RvcmUpLCBrZXlzTGVuZ3RoID0ga2V5cy5sZW5ndGg7IGogPCBrZXlzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcSAtLSBwb2x5ZmlsbGVkIHN5bWJvbHMgY2FzZVxuICAgICAgICBpZiAoV2VsbEtub3duU3ltYm9sc1N0b3JlW2tleXNbal1dID09IHN5bWJvbCkgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICB2YXIgJCRHID0gX2V4cG9ydDtcbiAgdmFyIGlzV2VsbEtub3duU3ltYm9sJDEgPSBzeW1ib2xJc1dlbGxLbm93bjtcblxuICAvLyBgU3ltYm9sLmlzV2VsbEtub3duU3ltYm9sYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL3Byb3Bvc2FsLXN5bWJvbC1wcmVkaWNhdGVzLyNzZWMtc3ltYm9sLWlzd2VsbGtub3duc3ltYm9sXG4gIC8vIFdlIHNob3VsZCBwYXRjaCBpdCBmb3IgbmV3bHkgYWRkZWQgd2VsbC1rbm93biBzeW1ib2xzLiBJZiBpdCdzIG5vdCByZXF1aXJlZCwgdGhpcyBtb2R1bGUganVzdCB3aWxsIG5vdCBiZSBpbmplY3RlZFxuICAkJEcoeyB0YXJnZXQ6ICdTeW1ib2wnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IHRydWUgfSwge1xuICAgIGlzV2VsbEtub3duU3ltYm9sOiBpc1dlbGxLbm93blN5bWJvbCQxXG4gIH0pO1xuXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkNCA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcblxuICAvLyBgU3ltYm9sLm1hdGNoZXJgIHdlbGwta25vd24gc3ltYm9sXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXBhdHRlcm4tbWF0Y2hpbmdcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDQoJ21hdGNoZXInKTtcblxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sJDMgPSB3ZWxsS25vd25TeW1ib2xEZWZpbmU7XG5cbiAgLy8gYFN5bWJvbC5vYnNlcnZhYmxlYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCQzKCdvYnNlcnZhYmxlJyk7XG5cbiAgdmFyICQkRiA9IF9leHBvcnQ7XG4gIHZhciBpc1JlZ2lzdGVyZWRTeW1ib2wgPSBzeW1ib2xJc1JlZ2lzdGVyZWQ7XG5cbiAgLy8gYFN5bWJvbC5pc1JlZ2lzdGVyZWRgIG1ldGhvZFxuICAvLyBvYnNvbGV0ZSB2ZXJzaW9uIG9mIGh0dHBzOi8vdGMzOS5lcy9wcm9wb3NhbC1zeW1ib2wtcHJlZGljYXRlcy8jc2VjLXN5bWJvbC1pc3JlZ2lzdGVyZWRzeW1ib2xcbiAgJCRGKHsgdGFyZ2V0OiAnU3ltYm9sJywgc3RhdDogdHJ1ZSwgbmFtZTogJ2lzUmVnaXN0ZXJlZFN5bWJvbCcgfSwge1xuICAgIGlzUmVnaXN0ZXJlZDogaXNSZWdpc3RlcmVkU3ltYm9sXG4gIH0pO1xuXG4gIHZhciAkJEUgPSBfZXhwb3J0O1xuICB2YXIgaXNXZWxsS25vd25TeW1ib2wgPSBzeW1ib2xJc1dlbGxLbm93bjtcblxuICAvLyBgU3ltYm9sLmlzV2VsbEtub3duYCBtZXRob2RcbiAgLy8gb2Jzb2xldGUgdmVyc2lvbiBvZiBodHRwczovL3RjMzkuZXMvcHJvcG9zYWwtc3ltYm9sLXByZWRpY2F0ZXMvI3NlYy1zeW1ib2wtaXN3ZWxsa25vd25zeW1ib2xcbiAgLy8gV2Ugc2hvdWxkIHBhdGNoIGl0IGZvciBuZXdseSBhZGRlZCB3ZWxsLWtub3duIHN5bWJvbHMuIElmIGl0J3Mgbm90IHJlcXVpcmVkLCB0aGlzIG1vZHVsZSBqdXN0IHdpbGwgbm90IGJlIGluamVjdGVkXG4gICQkRSh7IHRhcmdldDogJ1N5bWJvbCcsIHN0YXQ6IHRydWUsIG5hbWU6ICdpc1dlbGxLbm93blN5bWJvbCcsIGZvcmNlZDogdHJ1ZSB9LCB7XG4gICAgaXNXZWxsS25vd246IGlzV2VsbEtub3duU3ltYm9sXG4gIH0pO1xuXG4gIC8vIFRPRE86IFJlbW92ZSBmcm9tIGBjb3JlLWpzQDRgXG4gIHZhciBkZWZpbmVXZWxsS25vd25TeW1ib2wkMiA9IHdlbGxLbm93blN5bWJvbERlZmluZTtcblxuICAvLyBgU3ltYm9sLm1ldGFkYXRhS2V5YCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1kZWNvcmF0b3ItbWV0YWRhdGFcbiAgZGVmaW5lV2VsbEtub3duU3ltYm9sJDIoJ21ldGFkYXRhS2V5Jyk7XG5cbiAgLy8gVE9ETzogcmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbiAgdmFyIGRlZmluZVdlbGxLbm93blN5bWJvbCQxID0gd2VsbEtub3duU3ltYm9sRGVmaW5lO1xuXG4gIC8vIGBTeW1ib2wucGF0dGVybk1hdGNoYCB3ZWxsLWtub3duIHN5bWJvbFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wYXR0ZXJuLW1hdGNoaW5nXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCQxKCdwYXR0ZXJuTWF0Y2gnKTtcblxuICAvLyBUT0RPOiByZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxuICB2YXIgZGVmaW5lV2VsbEtub3duU3ltYm9sID0gd2VsbEtub3duU3ltYm9sRGVmaW5lO1xuXG4gIGRlZmluZVdlbGxLbm93blN5bWJvbCgncmVwbGFjZUFsbCcpO1xuXG4gIHZhciBwYXJlbnQkMTMgPSBzeW1ib2wkMztcblxuXG5cblxuICAvLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxuXG5cblxuXG5cblxuICB2YXIgc3ltYm9sJDIgPSBwYXJlbnQkMTM7XG5cbiAgdmFyIHN5bWJvbCQxID0gc3ltYm9sJDI7XG5cbiAgdmFyIF9TeW1ib2wkMSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhzeW1ib2wkMSk7XG5cbiAgdmFyIHVuY3VycnlUaGlzJDcgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgdG9JbnRlZ2VyT3JJbmZpbml0eSQxID0gdG9JbnRlZ2VyT3JJbmZpbml0eSQ0O1xuICB2YXIgdG9TdHJpbmckMyA9IHRvU3RyaW5nJDc7XG4gIHZhciByZXF1aXJlT2JqZWN0Q29lcmNpYmxlID0gcmVxdWlyZU9iamVjdENvZXJjaWJsZSQzO1xuXG4gIHZhciBjaGFyQXQkMSA9IHVuY3VycnlUaGlzJDcoJycuY2hhckF0KTtcbiAgdmFyIGNoYXJDb2RlQXQgPSB1bmN1cnJ5VGhpcyQ3KCcnLmNoYXJDb2RlQXQpO1xuICB2YXIgc3RyaW5nU2xpY2UgPSB1bmN1cnJ5VGhpcyQ3KCcnLnNsaWNlKTtcblxuICB2YXIgY3JlYXRlTWV0aG9kJDEgPSBmdW5jdGlvbiAoQ09OVkVSVF9UT19TVFJJTkcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCR0aGlzLCBwb3MpIHtcbiAgICAgIHZhciBTID0gdG9TdHJpbmckMyhyZXF1aXJlT2JqZWN0Q29lcmNpYmxlKCR0aGlzKSk7XG4gICAgICB2YXIgcG9zaXRpb24gPSB0b0ludGVnZXJPckluZmluaXR5JDEocG9zKTtcbiAgICAgIHZhciBzaXplID0gUy5sZW5ndGg7XG4gICAgICB2YXIgZmlyc3QsIHNlY29uZDtcbiAgICAgIGlmIChwb3NpdGlvbiA8IDAgfHwgcG9zaXRpb24gPj0gc2l6ZSkgcmV0dXJuIENPTlZFUlRfVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgICBmaXJzdCA9IGNoYXJDb2RlQXQoUywgcG9zaXRpb24pO1xuICAgICAgcmV0dXJuIGZpcnN0IDwgMHhEODAwIHx8IGZpcnN0ID4gMHhEQkZGIHx8IHBvc2l0aW9uICsgMSA9PT0gc2l6ZVxuICAgICAgICB8fCAoc2Vjb25kID0gY2hhckNvZGVBdChTLCBwb3NpdGlvbiArIDEpKSA8IDB4REMwMCB8fCBzZWNvbmQgPiAweERGRkZcbiAgICAgICAgICA/IENPTlZFUlRfVE9fU1RSSU5HXG4gICAgICAgICAgICA/IGNoYXJBdCQxKFMsIHBvc2l0aW9uKVxuICAgICAgICAgICAgOiBmaXJzdFxuICAgICAgICAgIDogQ09OVkVSVF9UT19TVFJJTkdcbiAgICAgICAgICAgID8gc3RyaW5nU2xpY2UoUywgcG9zaXRpb24sIHBvc2l0aW9uICsgMilcbiAgICAgICAgICAgIDogKGZpcnN0IC0gMHhEODAwIDw8IDEwKSArIChzZWNvbmQgLSAweERDMDApICsgMHgxMDAwMDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBzdHJpbmdNdWx0aWJ5dGUgPSB7XG4gICAgLy8gYFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXRgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc3RyaW5nLnByb3RvdHlwZS5jb2RlcG9pbnRhdFxuICAgIGNvZGVBdDogY3JlYXRlTWV0aG9kJDEoZmFsc2UpLFxuICAgIC8vIGBTdHJpbmcucHJvdG90eXBlLmF0YCBtZXRob2RcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWF0aGlhc2J5bmVucy9TdHJpbmcucHJvdG90eXBlLmF0XG4gICAgY2hhckF0OiBjcmVhdGVNZXRob2QkMSh0cnVlKVxuICB9O1xuXG4gIHZhciBjaGFyQXQgPSBzdHJpbmdNdWx0aWJ5dGUuY2hhckF0O1xuICB2YXIgdG9TdHJpbmckMiA9IHRvU3RyaW5nJDc7XG4gIHZhciBJbnRlcm5hbFN0YXRlTW9kdWxlJDMgPSBpbnRlcm5hbFN0YXRlO1xuICB2YXIgZGVmaW5lSXRlcmF0b3IkMSA9IGl0ZXJhdG9yRGVmaW5lO1xuICB2YXIgY3JlYXRlSXRlclJlc3VsdE9iamVjdCQxID0gY3JlYXRlSXRlclJlc3VsdE9iamVjdCQzO1xuXG4gIHZhciBTVFJJTkdfSVRFUkFUT1IgPSAnU3RyaW5nIEl0ZXJhdG9yJztcbiAgdmFyIHNldEludGVybmFsU3RhdGUkMyA9IEludGVybmFsU3RhdGVNb2R1bGUkMy5zZXQ7XG4gIHZhciBnZXRJbnRlcm5hbFN0YXRlID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQzLmdldHRlckZvcihTVFJJTkdfSVRFUkFUT1IpO1xuXG4gIC8vIGBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLUBAaXRlcmF0b3JcbiAgZGVmaW5lSXRlcmF0b3IkMShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbiAoaXRlcmF0ZWQpIHtcbiAgICBzZXRJbnRlcm5hbFN0YXRlJDModGhpcywge1xuICAgICAgdHlwZTogU1RSSU5HX0lURVJBVE9SLFxuICAgICAgc3RyaW5nOiB0b1N0cmluZyQyKGl0ZXJhdGVkKSxcbiAgICAgIGluZGV4OiAwXG4gICAgfSk7XG4gIC8vIGAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLSVzdHJpbmdpdGVyYXRvcnByb3RvdHlwZSUubmV4dFxuICB9LCBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gICAgdmFyIHN0cmluZyA9IHN0YXRlLnN0cmluZztcbiAgICB2YXIgaW5kZXggPSBzdGF0ZS5pbmRleDtcbiAgICB2YXIgcG9pbnQ7XG4gICAgaWYgKGluZGV4ID49IHN0cmluZy5sZW5ndGgpIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0JDEodW5kZWZpbmVkLCB0cnVlKTtcbiAgICBwb2ludCA9IGNoYXJBdChzdHJpbmcsIGluZGV4KTtcbiAgICBzdGF0ZS5pbmRleCArPSBwb2ludC5sZW5ndGg7XG4gICAgcmV0dXJuIGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QkMShwb2ludCwgZmFsc2UpO1xuICB9KTtcblxuICB2YXIgV3JhcHBlZFdlbGxLbm93blN5bWJvbE1vZHVsZSQxID0gd2VsbEtub3duU3ltYm9sV3JhcHBlZDtcblxuICB2YXIgaXRlcmF0b3IkNSA9IFdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUkMS5mKCdpdGVyYXRvcicpO1xuXG4gIHZhciBwYXJlbnQkMTIgPSBpdGVyYXRvciQ1O1xuXG5cbiAgdmFyIGl0ZXJhdG9yJDQgPSBwYXJlbnQkMTI7XG5cbiAgdmFyIHBhcmVudCQxMSA9IGl0ZXJhdG9yJDQ7XG5cbiAgdmFyIGl0ZXJhdG9yJDMgPSBwYXJlbnQkMTE7XG5cbiAgdmFyIHBhcmVudCQxMCA9IGl0ZXJhdG9yJDM7XG5cbiAgdmFyIGl0ZXJhdG9yJDIgPSBwYXJlbnQkMTA7XG5cbiAgdmFyIGl0ZXJhdG9yJDEgPSBpdGVyYXRvciQyO1xuXG4gIHZhciBfU3ltYm9sJGl0ZXJhdG9yJDEgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoaXRlcmF0b3IkMSk7XG5cbiAgZnVuY3Rpb24gX3R5cGVvZiQxKG8pIHtcbiAgICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgICByZXR1cm4gX3R5cGVvZiQxID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBfU3ltYm9sJDEgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgX1N5bWJvbCRpdGVyYXRvciQxID8gZnVuY3Rpb24gKG8pIHtcbiAgICAgIHJldHVybiB0eXBlb2YgbztcbiAgICB9IDogZnVuY3Rpb24gKG8pIHtcbiAgICAgIHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgX1N5bWJvbCQxICYmIG8uY29uc3RydWN0b3IgPT09IF9TeW1ib2wkMSAmJiBvICE9PSBfU3ltYm9sJDEucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvO1xuICAgIH0sIF90eXBlb2YkMShvKTtcbiAgfVxuXG4gIHZhciBXcmFwcGVkV2VsbEtub3duU3ltYm9sTW9kdWxlID0gd2VsbEtub3duU3ltYm9sV3JhcHBlZDtcblxuICB2YXIgdG9QcmltaXRpdmUkNCA9IFdyYXBwZWRXZWxsS25vd25TeW1ib2xNb2R1bGUuZigndG9QcmltaXRpdmUnKTtcblxuICB2YXIgcGFyZW50JCQgPSB0b1ByaW1pdGl2ZSQ0O1xuXG4gIHZhciB0b1ByaW1pdGl2ZSQzID0gcGFyZW50JCQ7XG5cbiAgdmFyIHBhcmVudCRfID0gdG9QcmltaXRpdmUkMztcblxuICB2YXIgdG9QcmltaXRpdmUkMiA9IHBhcmVudCRfO1xuXG4gIHZhciBwYXJlbnQkWiA9IHRvUHJpbWl0aXZlJDI7XG5cbiAgdmFyIHRvUHJpbWl0aXZlJDEgPSBwYXJlbnQkWjtcblxuICB2YXIgdG9QcmltaXRpdmUgPSB0b1ByaW1pdGl2ZSQxO1xuXG4gIHZhciBfU3ltYm9sJHRvUHJpbWl0aXZlID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHRvUHJpbWl0aXZlKTtcblxuICBmdW5jdGlvbiBfdG9QcmltaXRpdmUoaW5wdXQsIGhpbnQpIHtcbiAgICBpZiAoX3R5cGVvZiQxKGlucHV0KSAhPT0gXCJvYmplY3RcIiB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICAgIHZhciBwcmltID0gaW5wdXRbX1N5bWJvbCR0b1ByaW1pdGl2ZV07XG4gICAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgICBpZiAoX3R5cGVvZiQxKHJlcykgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gICAgfVxuICAgIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gICAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsIFwic3RyaW5nXCIpO1xuICAgIHJldHVybiBfdHlwZW9mJDEoa2V5KSA9PT0gXCJzeW1ib2xcIiA/IGtleSA6IFN0cmluZyhrZXkpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSQxKHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5JDEoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpO1xuICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5JDEob2JqLCBrZXksIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciB1bmN1cnJ5VGhpcyQ2ID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGFDYWxsYWJsZSRhID0gYUNhbGxhYmxlJGU7XG4gIHZhciBpc09iamVjdCQ4ID0gaXNPYmplY3QkaDtcbiAgdmFyIGhhc093biQ3ID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIGFycmF5U2xpY2UkMyA9IGFycmF5U2xpY2UkNTtcbiAgdmFyIE5BVElWRV9CSU5EID0gZnVuY3Rpb25CaW5kTmF0aXZlO1xuXG4gIHZhciAkRnVuY3Rpb24gPSBGdW5jdGlvbjtcbiAgdmFyIGNvbmNhdCQ2ID0gdW5jdXJyeVRoaXMkNihbXS5jb25jYXQpO1xuICB2YXIgam9pbiA9IHVuY3VycnlUaGlzJDYoW10uam9pbik7XG4gIHZhciBmYWN0b3JpZXMgPSB7fTtcblxuICB2YXIgY29uc3RydWN0JDMgPSBmdW5jdGlvbiAoQywgYXJnc0xlbmd0aCwgYXJncykge1xuICAgIGlmICghaGFzT3duJDcoZmFjdG9yaWVzLCBhcmdzTGVuZ3RoKSkge1xuICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIGZvciAoOyBpIDwgYXJnc0xlbmd0aDsgaSsrKSBsaXN0W2ldID0gJ2FbJyArIGkgKyAnXSc7XG4gICAgICBmYWN0b3JpZXNbYXJnc0xlbmd0aF0gPSAkRnVuY3Rpb24oJ0MsYScsICdyZXR1cm4gbmV3IEMoJyArIGpvaW4obGlzdCwgJywnKSArICcpJyk7XG4gICAgfSByZXR1cm4gZmFjdG9yaWVzW2FyZ3NMZW5ndGhdKEMsIGFyZ3MpO1xuICB9O1xuXG4gIC8vIGBGdW5jdGlvbi5wcm90b3R5cGUuYmluZGAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtZnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWZ1bmN0aW9uLXByb3RvdHlwZS1iaW5kIC0tIGRldGVjdGlvblxuICB2YXIgZnVuY3Rpb25CaW5kID0gTkFUSVZFX0JJTkQgPyAkRnVuY3Rpb24uYmluZCA6IGZ1bmN0aW9uIGJpbmQodGhhdCAvKiAsIC4uLmFyZ3MgKi8pIHtcbiAgICB2YXIgRiA9IGFDYWxsYWJsZSRhKHRoaXMpO1xuICAgIHZhciBQcm90b3R5cGUgPSBGLnByb3RvdHlwZTtcbiAgICB2YXIgcGFydEFyZ3MgPSBhcnJheVNsaWNlJDMoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgYm91bmRGdW5jdGlvbiA9IGZ1bmN0aW9uIGJvdW5kKC8qIGFyZ3MuLi4gKi8pIHtcbiAgICAgIHZhciBhcmdzID0gY29uY2F0JDYocGFydEFyZ3MsIGFycmF5U2xpY2UkMyhhcmd1bWVudHMpKTtcbiAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgYm91bmRGdW5jdGlvbiA/IGNvbnN0cnVjdCQzKEYsIGFyZ3MubGVuZ3RoLCBhcmdzKSA6IEYuYXBwbHkodGhhdCwgYXJncyk7XG4gICAgfTtcbiAgICBpZiAoaXNPYmplY3QkOChQcm90b3R5cGUpKSBib3VuZEZ1bmN0aW9uLnByb3RvdHlwZSA9IFByb3RvdHlwZTtcbiAgICByZXR1cm4gYm91bmRGdW5jdGlvbjtcbiAgfTtcblxuICAvLyBUT0RPOiBSZW1vdmUgZnJvbSBgY29yZS1qc0A0YFxuICB2YXIgJCREID0gX2V4cG9ydDtcbiAgdmFyIGJpbmQkZiA9IGZ1bmN0aW9uQmluZDtcblxuICAvLyBgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1mdW5jdGlvbi1wcm90b3R5cGUtYmluZCAtLSBkZXRlY3Rpb25cbiAgJCREKHsgdGFyZ2V0OiAnRnVuY3Rpb24nLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBGdW5jdGlvbi5iaW5kICE9PSBiaW5kJGYgfSwge1xuICAgIGJpbmQ6IGJpbmQkZlxuICB9KTtcblxuICB2YXIgZ2xvYmFsJGIgPSBnbG9iYWwkcDtcbiAgdmFyIHBhdGgkaSA9IHBhdGgkbztcblxuICB2YXIgZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRnID0gZnVuY3Rpb24gKENPTlNUUlVDVE9SLCBNRVRIT0QpIHtcbiAgICB2YXIgTmFtZXNwYWNlID0gcGF0aCRpW0NPTlNUUlVDVE9SICsgJ1Byb3RvdHlwZSddO1xuICAgIHZhciBwdXJlTWV0aG9kID0gTmFtZXNwYWNlICYmIE5hbWVzcGFjZVtNRVRIT0RdO1xuICAgIGlmIChwdXJlTWV0aG9kKSByZXR1cm4gcHVyZU1ldGhvZDtcbiAgICB2YXIgTmF0aXZlQ29uc3RydWN0b3IgPSBnbG9iYWwkYltDT05TVFJVQ1RPUl07XG4gICAgdmFyIE5hdGl2ZVByb3RvdHlwZSA9IE5hdGl2ZUNvbnN0cnVjdG9yICYmIE5hdGl2ZUNvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICByZXR1cm4gTmF0aXZlUHJvdG90eXBlICYmIE5hdGl2ZVByb3RvdHlwZVtNRVRIT0RdO1xuICB9O1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGYgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGc7XG5cbiAgdmFyIGJpbmQkZSA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkZignRnVuY3Rpb24nLCAnYmluZCcpO1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJGkgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJGYgPSBiaW5kJGU7XG5cbiAgdmFyIEZ1bmN0aW9uUHJvdG90eXBlID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIHZhciBiaW5kJGQgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgb3duID0gaXQuYmluZDtcbiAgICByZXR1cm4gaXQgPT09IEZ1bmN0aW9uUHJvdG90eXBlIHx8IChpc1Byb3RvdHlwZU9mJGkoRnVuY3Rpb25Qcm90b3R5cGUsIGl0KSAmJiBvd24gPT09IEZ1bmN0aW9uUHJvdG90eXBlLmJpbmQpID8gbWV0aG9kJGYgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRZID0gYmluZCRkO1xuXG4gIHZhciBiaW5kJGMgPSBwYXJlbnQkWTtcblxuICB2YXIgYmluZCRiID0gYmluZCRjO1xuXG4gIHZhciBfYmluZEluc3RhbmNlUHJvcGVydHkkMSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhiaW5kJGIpO1xuXG4gIHZhciBhQ2FsbGFibGUkOSA9IGFDYWxsYWJsZSRlO1xuICB2YXIgdG9PYmplY3QkOCA9IHRvT2JqZWN0JGU7XG4gIHZhciBJbmRleGVkT2JqZWN0JDEgPSBpbmRleGVkT2JqZWN0O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkOCA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG5cbiAgdmFyICRUeXBlRXJyb3IkOCA9IFR5cGVFcnJvcjtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLnsgcmVkdWNlLCByZWR1Y2VSaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG4gIHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbiAoSVNfUklHSFQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRoYXQsIGNhbGxiYWNrZm4sIGFyZ3VtZW50c0xlbmd0aCwgbWVtbykge1xuICAgICAgYUNhbGxhYmxlJDkoY2FsbGJhY2tmbik7XG4gICAgICB2YXIgTyA9IHRvT2JqZWN0JDgodGhhdCk7XG4gICAgICB2YXIgc2VsZiA9IEluZGV4ZWRPYmplY3QkMShPKTtcbiAgICAgIHZhciBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQ4KE8pO1xuICAgICAgdmFyIGluZGV4ID0gSVNfUklHSFQgPyBsZW5ndGggLSAxIDogMDtcbiAgICAgIHZhciBpID0gSVNfUklHSFQgPyAtMSA6IDE7XG4gICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoIDwgMikgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKGluZGV4IGluIHNlbGYpIHtcbiAgICAgICAgICBtZW1vID0gc2VsZltpbmRleF07XG4gICAgICAgICAgaW5kZXggKz0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpbmRleCArPSBpO1xuICAgICAgICBpZiAoSVNfUklHSFQgPyBpbmRleCA8IDAgOiBsZW5ndGggPD0gaW5kZXgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgJFR5cGVFcnJvciQ4KCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoO0lTX1JJR0hUID8gaW5kZXggPj0gMCA6IGxlbmd0aCA+IGluZGV4OyBpbmRleCArPSBpKSBpZiAoaW5kZXggaW4gc2VsZikge1xuICAgICAgICBtZW1vID0gY2FsbGJhY2tmbihtZW1vLCBzZWxmW2luZGV4XSwgaW5kZXgsIE8pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICB2YXIgYXJyYXlSZWR1Y2UgPSB7XG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VgIG1ldGhvZFxuICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJlZHVjZVxuICAgIGxlZnQ6IGNyZWF0ZU1ldGhvZChmYWxzZSksXG4gICAgLy8gYEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodGAgbWV0aG9kXG4gICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlcmlnaHRcbiAgICByaWdodDogY3JlYXRlTWV0aG9kKHRydWUpXG4gIH07XG5cbiAgdmFyIGZhaWxzJGUgPSBmYWlscyR1O1xuXG4gIHZhciBhcnJheU1ldGhvZElzU3RyaWN0JDQgPSBmdW5jdGlvbiAoTUVUSE9EX05BTUUsIGFyZ3VtZW50KSB7XG4gICAgdmFyIG1ldGhvZCA9IFtdW01FVEhPRF9OQU1FXTtcbiAgICByZXR1cm4gISFtZXRob2QgJiYgZmFpbHMkZShmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jYWxsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgICBtZXRob2QuY2FsbChudWxsLCBhcmd1bWVudCB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiAxOyB9LCAxKTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZ2xvYmFsJGEgPSBnbG9iYWwkcDtcbiAgdmFyIGNsYXNzb2YkNiA9IGNsYXNzb2ZSYXckMjtcblxuICB2YXIgZW5naW5lSXNOb2RlID0gY2xhc3NvZiQ2KGdsb2JhbCRhLnByb2Nlc3MpID09PSAncHJvY2Vzcyc7XG5cbiAgdmFyICQkQyA9IF9leHBvcnQ7XG4gIHZhciAkcmVkdWNlID0gYXJyYXlSZWR1Y2UubGVmdDtcbiAgdmFyIGFycmF5TWV0aG9kSXNTdHJpY3QkMyA9IGFycmF5TWV0aG9kSXNTdHJpY3QkNDtcbiAgdmFyIENIUk9NRV9WRVJTSU9OID0gZW5naW5lVjhWZXJzaW9uO1xuICB2YXIgSVNfTk9ERSQ0ID0gZW5naW5lSXNOb2RlO1xuXG4gIC8vIENocm9tZSA4MC04MiBoYXMgYSBjcml0aWNhbCBidWdcbiAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTA0OTk4MlxuICB2YXIgQ0hST01FX0JVRyA9ICFJU19OT0RFJDQgJiYgQ0hST01FX1ZFUlNJT04gPiA3OSAmJiBDSFJPTUVfVkVSU0lPTiA8IDgzO1xuICB2YXIgRk9SQ0VEJDQgPSBDSFJPTUVfQlVHIHx8ICFhcnJheU1ldGhvZElzU3RyaWN0JDMoJ3JlZHVjZScpO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUucmVkdWNlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUucmVkdWNlXG4gICQkQyh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogRk9SQ0VEJDQgfSwge1xuICAgIHJlZHVjZTogZnVuY3Rpb24gcmVkdWNlKGNhbGxiYWNrZm4gLyogLCBpbml0aWFsVmFsdWUgKi8pIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgcmV0dXJuICRyZWR1Y2UodGhpcywgY2FsbGJhY2tmbiwgbGVuZ3RoLCBsZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGUgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGc7XG5cbiAgdmFyIHJlZHVjZSQzID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRlKCdBcnJheScsICdyZWR1Y2UnKTtcblxuICB2YXIgaXNQcm90b3R5cGVPZiRoID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCRlID0gcmVkdWNlJDM7XG5cbiAgdmFyIEFycmF5UHJvdG90eXBlJGYgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIHJlZHVjZSQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnJlZHVjZTtcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJGYgfHwgKGlzUHJvdG90eXBlT2YkaChBcnJheVByb3RvdHlwZSRmLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZSRmLnJlZHVjZSkgPyBtZXRob2QkZSA6IG93bjtcbiAgfTtcblxuICB2YXIgcGFyZW50JFggPSByZWR1Y2UkMjtcblxuICB2YXIgcmVkdWNlJDEgPSBwYXJlbnQkWDtcblxuICB2YXIgcmVkdWNlID0gcmVkdWNlJDE7XG5cbiAgdmFyIF9yZWR1Y2VJbnN0YW5jZVByb3BlcnR5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHJlZHVjZSk7XG5cbiAgdmFyICQkQiA9IF9leHBvcnQ7XG4gIHZhciAkZmlsdGVyID0gYXJyYXlJdGVyYXRpb24uZmlsdGVyO1xuICB2YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQzID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ1O1xuXG4gIHZhciBIQVNfU1BFQ0lFU19TVVBQT1JUJDMgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDMoJ2ZpbHRlcicpO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZmlsdGVyYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZmlsdGVyXG4gIC8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBzcGVjaWVzXG4gICQkQih7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlQkMyB9LCB7XG4gICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiAkZmlsdGVyKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGQgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGc7XG5cbiAgdmFyIGZpbHRlciQzID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRkKCdBcnJheScsICdmaWx0ZXInKTtcblxuICB2YXIgaXNQcm90b3R5cGVPZiRnID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCRkID0gZmlsdGVyJDM7XG5cbiAgdmFyIEFycmF5UHJvdG90eXBlJGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIGZpbHRlciQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LmZpbHRlcjtcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJGUgfHwgKGlzUHJvdG90eXBlT2YkZyhBcnJheVByb3RvdHlwZSRlLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZSRlLmZpbHRlcikgPyBtZXRob2QkZCA6IG93bjtcbiAgfTtcblxuICB2YXIgcGFyZW50JFcgPSBmaWx0ZXIkMjtcblxuICB2YXIgZmlsdGVyJDEgPSBwYXJlbnQkVztcblxuICB2YXIgZmlsdGVyID0gZmlsdGVyJDE7XG5cbiAgdmFyIF9maWx0ZXJJbnN0YW5jZVByb3BlcnR5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGZpbHRlcik7XG5cbiAgdmFyICQkQSA9IF9leHBvcnQ7XG4gIHZhciAkbWFwID0gYXJyYXlJdGVyYXRpb24ubWFwO1xuICB2YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQyID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ1O1xuXG4gIHZhciBIQVNfU1BFQ0lFU19TVVBQT1JUJDIgPSBhcnJheU1ldGhvZEhhc1NwZWNpZXNTdXBwb3J0JDIoJ21hcCcpO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUubWFwYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUubWFwXG4gIC8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBzcGVjaWVzXG4gICQkQSh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlQkMiB9LCB7XG4gICAgbWFwOiBmdW5jdGlvbiBtYXAoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHJldHVybiAkbWFwKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGMgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGc7XG5cbiAgdmFyIG1hcCQ2ID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRjKCdBcnJheScsICdtYXAnKTtcblxuICB2YXIgaXNQcm90b3R5cGVPZiRmID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCRjID0gbWFwJDY7XG5cbiAgdmFyIEFycmF5UHJvdG90eXBlJGQgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIG1hcCQ1ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0Lm1hcDtcbiAgICByZXR1cm4gaXQgPT09IEFycmF5UHJvdG90eXBlJGQgfHwgKGlzUHJvdG90eXBlT2YkZihBcnJheVByb3RvdHlwZSRkLCBpdCkgJiYgb3duID09PSBBcnJheVByb3RvdHlwZSRkLm1hcCkgPyBtZXRob2QkYyA6IG93bjtcbiAgfTtcblxuICB2YXIgcGFyZW50JFYgPSBtYXAkNTtcblxuICB2YXIgbWFwJDQgPSBwYXJlbnQkVjtcblxuICB2YXIgbWFwJDMgPSBtYXAkNDtcblxuICB2YXIgX21hcEluc3RhbmNlUHJvcGVydHkgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMobWFwJDMpO1xuXG4gIHZhciBpc0FycmF5JGEgPSBpc0FycmF5JGU7XG4gIHZhciBsZW5ndGhPZkFycmF5TGlrZSQ3ID0gbGVuZ3RoT2ZBcnJheUxpa2UkZDtcbiAgdmFyIGRvZXNOb3RFeGNlZWRTYWZlSW50ZWdlciQyID0gZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyJDQ7XG4gIHZhciBiaW5kJGEgPSBmdW5jdGlvbkJpbmRDb250ZXh0O1xuXG4gIC8vIGBGbGF0dGVuSW50b0FycmF5YCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9wcm9wb3NhbC1mbGF0TWFwLyNzZWMtRmxhdHRlbkludG9BcnJheVxuICB2YXIgZmxhdHRlbkludG9BcnJheSQxID0gZnVuY3Rpb24gKHRhcmdldCwgb3JpZ2luYWwsIHNvdXJjZSwgc291cmNlTGVuLCBzdGFydCwgZGVwdGgsIG1hcHBlciwgdGhpc0FyZykge1xuICAgIHZhciB0YXJnZXRJbmRleCA9IHN0YXJ0O1xuICAgIHZhciBzb3VyY2VJbmRleCA9IDA7XG4gICAgdmFyIG1hcEZuID0gbWFwcGVyID8gYmluZCRhKG1hcHBlciwgdGhpc0FyZykgOiBmYWxzZTtcbiAgICB2YXIgZWxlbWVudCwgZWxlbWVudExlbjtcblxuICAgIHdoaWxlIChzb3VyY2VJbmRleCA8IHNvdXJjZUxlbikge1xuICAgICAgaWYgKHNvdXJjZUluZGV4IGluIHNvdXJjZSkge1xuICAgICAgICBlbGVtZW50ID0gbWFwRm4gPyBtYXBGbihzb3VyY2Vbc291cmNlSW5kZXhdLCBzb3VyY2VJbmRleCwgb3JpZ2luYWwpIDogc291cmNlW3NvdXJjZUluZGV4XTtcblxuICAgICAgICBpZiAoZGVwdGggPiAwICYmIGlzQXJyYXkkYShlbGVtZW50KSkge1xuICAgICAgICAgIGVsZW1lbnRMZW4gPSBsZW5ndGhPZkFycmF5TGlrZSQ3KGVsZW1lbnQpO1xuICAgICAgICAgIHRhcmdldEluZGV4ID0gZmxhdHRlbkludG9BcnJheSQxKHRhcmdldCwgb3JpZ2luYWwsIGVsZW1lbnQsIGVsZW1lbnRMZW4sIHRhcmdldEluZGV4LCBkZXB0aCAtIDEpIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIkMih0YXJnZXRJbmRleCArIDEpO1xuICAgICAgICAgIHRhcmdldFt0YXJnZXRJbmRleF0gPSBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0SW5kZXgrKztcbiAgICAgIH1cbiAgICAgIHNvdXJjZUluZGV4Kys7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRJbmRleDtcbiAgfTtcblxuICB2YXIgZmxhdHRlbkludG9BcnJheV8xID0gZmxhdHRlbkludG9BcnJheSQxO1xuXG4gIHZhciAkJHogPSBfZXhwb3J0O1xuICB2YXIgZmxhdHRlbkludG9BcnJheSA9IGZsYXR0ZW5JbnRvQXJyYXlfMTtcbiAgdmFyIGFDYWxsYWJsZSQ4ID0gYUNhbGxhYmxlJGU7XG4gIHZhciB0b09iamVjdCQ3ID0gdG9PYmplY3QkZTtcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJDYgPSBsZW5ndGhPZkFycmF5TGlrZSRkO1xuICB2YXIgYXJyYXlTcGVjaWVzQ3JlYXRlJDEgPSBhcnJheVNwZWNpZXNDcmVhdGUkNDtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLmZsYXRNYXBgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5mbGF0bWFwXG4gICQkeih7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUgfSwge1xuICAgIGZsYXRNYXA6IGZ1bmN0aW9uIGZsYXRNYXAoY2FsbGJhY2tmbiAvKiAsIHRoaXNBcmcgKi8pIHtcbiAgICAgIHZhciBPID0gdG9PYmplY3QkNyh0aGlzKTtcbiAgICAgIHZhciBzb3VyY2VMZW4gPSBsZW5ndGhPZkFycmF5TGlrZSQ2KE8pO1xuICAgICAgdmFyIEE7XG4gICAgICBhQ2FsbGFibGUkOChjYWxsYmFja2ZuKTtcbiAgICAgIEEgPSBhcnJheVNwZWNpZXNDcmVhdGUkMShPLCAwKTtcbiAgICAgIEEubGVuZ3RoID0gZmxhdHRlbkludG9BcnJheShBLCBPLCBPLCBzb3VyY2VMZW4sIDAsIDEsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICAgIHJldHVybiBBO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkYiA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkZztcblxuICB2YXIgZmxhdE1hcCQzID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRiKCdBcnJheScsICdmbGF0TWFwJyk7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkZSA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkYiA9IGZsYXRNYXAkMztcblxuICB2YXIgQXJyYXlQcm90b3R5cGUkYyA9IEFycmF5LnByb3RvdHlwZTtcblxuICB2YXIgZmxhdE1hcCQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LmZsYXRNYXA7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSRjIHx8IChpc1Byb3RvdHlwZU9mJGUoQXJyYXlQcm90b3R5cGUkYywgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkYy5mbGF0TWFwKSA/IG1ldGhvZCRiIDogb3duO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkVSA9IGZsYXRNYXAkMjtcblxuICB2YXIgZmxhdE1hcCQxID0gcGFyZW50JFU7XG5cbiAgdmFyIGZsYXRNYXAgPSBmbGF0TWFwJDE7XG5cbiAgdmFyIF9mbGF0TWFwSW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhmbGF0TWFwKTtcblxuICAvKipcclxuICAgKiBDcmVhdGUgbmV3IGRhdGEgcGlwZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSBmcm9tIC0gVGhlIHNvdXJjZSBkYXRhIHNldCBvciBkYXRhIHZpZXcuXHJcbiAgICogQHJlbWFya3NcclxuICAgKiBFeGFtcGxlIHVzYWdlOlxyXG4gICAqIGBgYHR5cGVzY3JpcHRcclxuICAgKiBpbnRlcmZhY2UgQXBwSXRlbSB7XHJcbiAgICogICB3aG9hbWk6IHN0cmluZztcclxuICAgKiAgIGFwcERhdGE6IHVua25vd247XHJcbiAgICogICB2aXNEYXRhOiBWaXNJdGVtO1xyXG4gICAqIH1cclxuICAgKiBpbnRlcmZhY2UgVmlzSXRlbSB7XHJcbiAgICogICBpZDogbnVtYmVyO1xyXG4gICAqICAgbGFiZWw6IHN0cmluZztcclxuICAgKiAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICogICB4OiBudW1iZXI7XHJcbiAgICogICB5OiBudW1iZXI7XHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogY29uc3QgZHMxID0gbmV3IERhdGFTZXQ8QXBwSXRlbSwgXCJ3aG9hbWlcIj4oW10sIHsgZmllbGRJZDogXCJ3aG9hbWlcIiB9KTtcclxuICAgKiBjb25zdCBkczIgPSBuZXcgRGF0YVNldDxWaXNJdGVtLCBcImlkXCI+KCk7XHJcbiAgICpcclxuICAgKiBjb25zdCBwaXBlID0gY3JlYXRlTmV3RGF0YVBpcGVGcm9tKGRzMSlcclxuICAgKiAgIC5maWx0ZXIoKGl0ZW0pOiBib29sZWFuID0+IGl0ZW0uZW5hYmxlZCA9PT0gdHJ1ZSlcclxuICAgKiAgIC5tYXA8VmlzSXRlbSwgXCJpZFwiPigoaXRlbSk6IFZpc0l0ZW0gPT4gaXRlbS52aXNEYXRhKVxyXG4gICAqICAgLnRvKGRzMik7XHJcbiAgICpcclxuICAgKiBwaXBlLnN0YXJ0KCk7XHJcbiAgICogYGBgXHJcbiAgICogQHJldHVybnMgQSBmYWN0b3J5IHdob3NlIG1ldGhvZHMgY2FuIGJlIHVzZWQgdG8gY29uZmlndXJlIHRoZSBwaXBlLlxyXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVOZXdEYXRhUGlwZUZyb20oZnJvbSkge1xuICAgIHJldHVybiBuZXcgRGF0YVBpcGVVbmRlckNvbnN0cnVjdGlvbihmcm9tKTtcbiAgfVxuICAvKipcclxuICAgKiBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcGlwZS4gVGhpcyBzaG91bGQgYmUgYWNjZXNzaWJsZSBvbmx5IHRocm91Z2hcclxuICAgKiBgY3JlYXRlTmV3RGF0YVBpcGVGcm9tYCBmcm9tIHRoZSBvdXRzaWRlLlxyXG4gICAqXHJcbiAgICogQHR5cGVQYXJhbSBTSSAtIFNvdXJjZSBpdGVtIHR5cGUuXHJcbiAgICogQHR5cGVQYXJhbSBTUCAtIFNvdXJjZSBpdGVtIHR5cGUncyBpZCBwcm9wZXJ0eSBuYW1lLlxyXG4gICAqIEB0eXBlUGFyYW0gVEkgLSBUYXJnZXQgaXRlbSB0eXBlLlxyXG4gICAqIEB0eXBlUGFyYW0gVFAgLSBUYXJnZXQgaXRlbSB0eXBlJ3MgaWQgcHJvcGVydHkgbmFtZS5cclxuICAgKi9cbiAgdmFyIFNpbXBsZURhdGFQaXBlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIG5ldyBkYXRhIHBpcGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIF9zb3VyY2UgLSBUaGUgZGF0YSBzZXQgb3IgZGF0YSB2aWV3IHRoYXQgd2lsbCBiZSBvYnNlcnZlZC5cclxuICAgICAqIEBwYXJhbSBfdHJhbnNmb3JtZXJzIC0gQW4gYXJyYXkgb2YgdHJhbnNmb3JtaW5nIGZ1bmN0aW9ucyB0byBiZSB1c2VkIHRvXHJcbiAgICAgKiBmaWx0ZXIgb3IgdHJhbnNmb3JtIHRoZSBpdGVtcyBpbiB0aGUgcGlwZS5cclxuICAgICAqIEBwYXJhbSBfdGFyZ2V0IC0gVGhlIGRhdGEgc2V0IG9yIGRhdGEgdmlldyB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgaXRlbXMuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTaW1wbGVEYXRhUGlwZShfc291cmNlLCBfdHJhbnNmb3JtZXJzLCBfdGFyZ2V0KSB7XG4gICAgICB2YXIgX2NvbnRleHQsIF9jb250ZXh0MiwgX2NvbnRleHQzO1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpbXBsZURhdGFQaXBlKTtcbiAgICAgIC8qKlxyXG4gICAgICAgKiBCb3VuZCBsaXN0ZW5lcnMgZm9yIHVzZSB3aXRoIGBEYXRhSW50ZXJmYWNlWydvbicgfCAnb2ZmJ11gLlxyXG4gICAgICAgKi9cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9saXN0ZW5lcnNcIiwge1xuICAgICAgICBhZGQ6IF9iaW5kSW5zdGFuY2VQcm9wZXJ0eSQxKF9jb250ZXh0ID0gdGhpcy5fYWRkKS5jYWxsKF9jb250ZXh0LCB0aGlzKSxcbiAgICAgICAgcmVtb3ZlOiBfYmluZEluc3RhbmNlUHJvcGVydHkkMShfY29udGV4dDIgPSB0aGlzLl9yZW1vdmUpLmNhbGwoX2NvbnRleHQyLCB0aGlzKSxcbiAgICAgICAgdXBkYXRlOiBfYmluZEluc3RhbmNlUHJvcGVydHkkMShfY29udGV4dDMgPSB0aGlzLl91cGRhdGUpLmNhbGwoX2NvbnRleHQzLCB0aGlzKVxuICAgICAgfSk7XG4gICAgICB0aGlzLl9zb3VyY2UgPSBfc291cmNlO1xuICAgICAgdGhpcy5fdHJhbnNmb3JtZXJzID0gX3RyYW5zZm9ybWVycztcbiAgICAgIHRoaXMuX3RhcmdldCA9IF90YXJnZXQ7XG4gICAgfVxuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIF9jcmVhdGVDbGFzcyhTaW1wbGVEYXRhUGlwZSwgW3tcbiAgICAgIGtleTogXCJhbGxcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBhbGwoKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldC51cGRhdGUodGhpcy5fdHJhbnNmb3JtSXRlbXModGhpcy5fc291cmNlLmdldCgpKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcInN0YXJ0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZS5vbihcImFkZFwiLCB0aGlzLl9saXN0ZW5lcnMuYWRkKTtcbiAgICAgICAgdGhpcy5fc291cmNlLm9uKFwicmVtb3ZlXCIsIHRoaXMuX2xpc3RlbmVycy5yZW1vdmUpO1xuICAgICAgICB0aGlzLl9zb3VyY2Uub24oXCJ1cGRhdGVcIiwgdGhpcy5fbGlzdGVuZXJzLnVwZGF0ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcInN0b3BcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICB0aGlzLl9zb3VyY2Uub2ZmKFwiYWRkXCIsIHRoaXMuX2xpc3RlbmVycy5hZGQpO1xuICAgICAgICB0aGlzLl9zb3VyY2Uub2ZmKFwicmVtb3ZlXCIsIHRoaXMuX2xpc3RlbmVycy5yZW1vdmUpO1xuICAgICAgICB0aGlzLl9zb3VyY2Uub2ZmKFwidXBkYXRlXCIsIHRoaXMuX2xpc3RlbmVycy51cGRhdGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBBcHBseSB0aGUgdHJhbnNmb3JtZXJzIHRvIHRoZSBpdGVtcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGl0ZW1zIC0gVGhlIGl0ZW1zIHRvIGJlIHRyYW5zZm9ybWVkLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgdHJhbnNmb3JtZWQgaXRlbXMuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdHJhbnNmb3JtSXRlbXNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJhbnNmb3JtSXRlbXMoaXRlbXMpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0NDtcbiAgICAgICAgcmV0dXJuIF9yZWR1Y2VJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0NCA9IHRoaXMuX3RyYW5zZm9ybWVycykuY2FsbChfY29udGV4dDQsIGZ1bmN0aW9uIChpdGVtcywgdHJhbnNmb3JtKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybShpdGVtcyk7XG4gICAgICAgIH0sIGl0ZW1zKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBIYW5kbGUgYW4gYWRkIGV2ZW50LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gX25hbWUgLSBJZ25vcmVkLlxyXG4gICAgICAgKiBAcGFyYW0gcGF5bG9hZCAtIFRoZSBwYXlsb2FkIGNvbnRhaW5pbmcgdGhlIGlkcyBvZiB0aGUgYWRkZWQgaXRlbXMuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYWRkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZChfbmFtZSwgcGF5bG9hZCkge1xuICAgICAgICBpZiAocGF5bG9hZCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RhcmdldC5hZGQodGhpcy5fdHJhbnNmb3JtSXRlbXModGhpcy5fc291cmNlLmdldChwYXlsb2FkLml0ZW1zKSkpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEhhbmRsZSBhbiB1cGRhdGUgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBfbmFtZSAtIElnbm9yZWQuXHJcbiAgICAgICAqIEBwYXJhbSBwYXlsb2FkIC0gVGhlIHBheWxvYWQgY29udGFpbmluZyB0aGUgaWRzIG9mIHRoZSB1cGRhdGVkIGl0ZW1zLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3VwZGF0ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGUoX25hbWUsIHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90YXJnZXQudXBkYXRlKHRoaXMuX3RyYW5zZm9ybUl0ZW1zKHRoaXMuX3NvdXJjZS5nZXQocGF5bG9hZC5pdGVtcykpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBIYW5kbGUgYSByZW1vdmUgZXZlbnQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBfbmFtZSAtIElnbm9yZWQuXHJcbiAgICAgICAqIEBwYXJhbSBwYXlsb2FkIC0gVGhlIHBheWxvYWQgY29udGFpbmluZyB0aGUgZGF0YSBvZiB0aGUgcmVtb3ZlZCBpdGVtcy5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9yZW1vdmVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVtb3ZlKF9uYW1lLCBwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGFyZ2V0LnJlbW92ZSh0aGlzLl90cmFuc2Zvcm1JdGVtcyhwYXlsb2FkLm9sZERhdGEpKTtcbiAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIFNpbXBsZURhdGFQaXBlO1xuICB9KCk7XG4gIC8qKlxyXG4gICAqIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIHRoZSBwaXBlIGZhY3RvcnkuIFRoaXMgc2hvdWxkIGJlIGFjY2Vzc2libGVcclxuICAgKiBvbmx5IHRocm91Z2ggYGNyZWF0ZU5ld0RhdGFQaXBlRnJvbWAgZnJvbSB0aGUgb3V0c2lkZS5cclxuICAgKlxyXG4gICAqIEB0eXBlUGFyYW0gVEkgLSBUYXJnZXQgaXRlbSB0eXBlLlxyXG4gICAqIEB0eXBlUGFyYW0gVFAgLSBUYXJnZXQgaXRlbSB0eXBlJ3MgaWQgcHJvcGVydHkgbmFtZS5cclxuICAgKi9cbiAgdmFyIERhdGFQaXBlVW5kZXJDb25zdHJ1Y3Rpb24gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIGEgbmV3IGRhdGEgcGlwZSBmYWN0b3J5LiBUaGlzIGlzIGFuIGludGVybmFsIGNvbnN0cnVjdG9yIHRoYXRcclxuICAgICAqIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgZnJvbSBvdXRzaWRlIG9mIHRoaXMgZmlsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gX3NvdXJjZSAtIFRoZSBzb3VyY2UgZGF0YSBzZXQgb3IgZGF0YSB2aWV3IGZvciB0aGlzIHBpcGUuXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEYXRhUGlwZVVuZGVyQ29uc3RydWN0aW9uKF9zb3VyY2UpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRhUGlwZVVuZGVyQ29uc3RydWN0aW9uKTtcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBcnJheSB0cmFuc2Zvcm1lcnMgdXNlZCB0byB0cmFuc2Zvcm0gaXRlbXMgd2l0aGluIHRoZSBwaXBlLiBUaGlzIGlzIHR5cGVkXHJcbiAgICAgICAqIGFzIGFueSBmb3IgdGhlIHNha2Ugb2Ygc2ltcGxpY2l0eS5cclxuICAgICAgICovXG4gICAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfdHJhbnNmb3JtZXJzXCIsIFtdKTtcbiAgICAgIHRoaXMuX3NvdXJjZSA9IF9zb3VyY2U7XG4gICAgfVxuICAgIC8qKlxyXG4gICAgICogRmlsdGVyIHRoZSBpdGVtcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIGZpbHRlcmluZyBmdW5jdGlvbiB0aGF0IHJldHVybnMgdHJ1ZSBpZiBnaXZlbiBpdGVtXHJcbiAgICAgKiBzaG91bGQgYmUgcGlwZWQgYW5kIGZhbHNlIGlmIG5vdC5cclxuICAgICAqIEByZXR1cm5zIFRoaXMgZmFjdG9yeSBmb3IgZnVydGhlciBjb25maWd1cmF0aW9uLlxyXG4gICAgICovXG4gICAgX2NyZWF0ZUNsYXNzKERhdGFQaXBlVW5kZXJDb25zdHJ1Y3Rpb24sIFt7XG4gICAgICBrZXk6IFwiZmlsdGVyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZmlsdGVyKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVycy5wdXNoKGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgIHJldHVybiBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eShpbnB1dCkuY2FsbChpbnB1dCwgY2FsbGJhY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogTWFwIGVhY2ggc291cmNlIGl0ZW0gdG8gYSBuZXcgdHlwZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGNhbGxiYWNrIC0gQSBtYXBwaW5nIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBzb3VyY2UgaXRlbSBhbmQgcmV0dXJuc1xyXG4gICAgICAgKiBjb3JyZXNwb25kaW5nIG1hcHBlZCBpdGVtLlxyXG4gICAgICAgKiBAdHlwZVBhcmFtIFRJIC0gVGFyZ2V0IGl0ZW0gdHlwZS5cclxuICAgICAgICogQHR5cGVQYXJhbSBUUCAtIFRhcmdldCBpdGVtIHR5cGUncyBpZCBwcm9wZXJ0eSBuYW1lLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGlzIGZhY3RvcnkgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIm1hcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1hcChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1lcnMucHVzaChmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICByZXR1cm4gX21hcEluc3RhbmNlUHJvcGVydHkoaW5wdXQpLmNhbGwoaW5wdXQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIE1hcCBlYWNoIHNvdXJjZSBpdGVtIHRvIHplcm8gb3IgbW9yZSBpdGVtcyBvZiBhIG5ldyB0eXBlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIG1hcHBpbmcgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHNvdXJjZSBpdGVtIGFuZCByZXR1cm5zXHJcbiAgICAgICAqIGFuIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgbWFwcGVkIGl0ZW1zLlxyXG4gICAgICAgKiBAdHlwZVBhcmFtIFRJIC0gVGFyZ2V0IGl0ZW0gdHlwZS5cclxuICAgICAgICogQHR5cGVQYXJhbSBUUCAtIFRhcmdldCBpdGVtIHR5cGUncyBpZCBwcm9wZXJ0eSBuYW1lLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGlzIGZhY3RvcnkgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImZsYXRNYXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmbGF0TWFwKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybWVycy5wdXNoKGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgIHJldHVybiBfZmxhdE1hcEluc3RhbmNlUHJvcGVydHkoaW5wdXQpLmNhbGwoaW5wdXQsIGNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIENvbm5lY3QgdGhpcyBwaXBlIHRvIGdpdmVuIGRhdGEgc2V0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gVGhlIGRhdGEgc2V0IHRoYXQgd2lsbCByZWNlaXZlIHRoZSBpdGVtcyBmcm9tIHRoaXMgcGlwZS5cclxuICAgICAgICogQHJldHVybnMgVGhlIHBpcGUgY29ubmVjdGVkIGJldHdlZW4gZ2l2ZW4gZGF0YSBzZXRzIGFuZCBwZXJmb3JtaW5nXHJcbiAgICAgICAqIGNvbmZpZ3VyZWQgdHJhbnNmb3JtYXRpb24gb24gdGhlIHByb2Nlc3NlZCBpdGVtcy5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcInRvXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG8odGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2ltcGxlRGF0YVBpcGUodGhpcy5fc291cmNlLCB0aGlzLl90cmFuc2Zvcm1lcnMsIHRhcmdldCk7XG4gICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBEYXRhUGlwZVVuZGVyQ29uc3RydWN0aW9uO1xuICB9KCk7XG5cbiAgdmFyIGNhbGwkYSA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGFuT2JqZWN0JDcgPSBhbk9iamVjdCRkO1xuICB2YXIgZ2V0TWV0aG9kJDEgPSBnZXRNZXRob2QkMztcblxuICB2YXIgaXRlcmF0b3JDbG9zZSQyID0gZnVuY3Rpb24gKGl0ZXJhdG9yLCBraW5kLCB2YWx1ZSkge1xuICAgIHZhciBpbm5lclJlc3VsdCwgaW5uZXJFcnJvcjtcbiAgICBhbk9iamVjdCQ3KGl0ZXJhdG9yKTtcbiAgICB0cnkge1xuICAgICAgaW5uZXJSZXN1bHQgPSBnZXRNZXRob2QkMShpdGVyYXRvciwgJ3JldHVybicpO1xuICAgICAgaWYgKCFpbm5lclJlc3VsdCkge1xuICAgICAgICBpZiAoa2luZCA9PT0gJ3Rocm93JykgdGhyb3cgdmFsdWU7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlubmVyUmVzdWx0ID0gY2FsbCRhKGlubmVyUmVzdWx0LCBpdGVyYXRvcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlubmVyRXJyb3IgPSB0cnVlO1xuICAgICAgaW5uZXJSZXN1bHQgPSBlcnJvcjtcbiAgICB9XG4gICAgaWYgKGtpbmQgPT09ICd0aHJvdycpIHRocm93IHZhbHVlO1xuICAgIGlmIChpbm5lckVycm9yKSB0aHJvdyBpbm5lclJlc3VsdDtcbiAgICBhbk9iamVjdCQ3KGlubmVyUmVzdWx0KTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgdmFyIGFuT2JqZWN0JDYgPSBhbk9iamVjdCRkO1xuICB2YXIgaXRlcmF0b3JDbG9zZSQxID0gaXRlcmF0b3JDbG9zZSQyO1xuXG4gIC8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbiAgdmFyIGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmckMSA9IGZ1bmN0aW9uIChpdGVyYXRvciwgZm4sIHZhbHVlLCBFTlRSSUVTKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBFTlRSSUVTID8gZm4oYW5PYmplY3QkNih2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaXRlcmF0b3JDbG9zZSQxKGl0ZXJhdG9yLCAndGhyb3cnLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkNyA9IHdlbGxLbm93blN5bWJvbCRuO1xuICB2YXIgSXRlcmF0b3JzJDEgPSBpdGVyYXRvcnM7XG5cbiAgdmFyIElURVJBVE9SJDIgPSB3ZWxsS25vd25TeW1ib2wkNygnaXRlcmF0b3InKTtcbiAgdmFyIEFycmF5UHJvdG90eXBlJGIgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxuICB2YXIgaXNBcnJheUl0ZXJhdG9yTWV0aG9kJDIgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaXQgIT09IHVuZGVmaW5lZCAmJiAoSXRlcmF0b3JzJDEuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG90eXBlJGJbSVRFUkFUT1IkMl0gPT09IGl0KTtcbiAgfTtcblxuICB2YXIgY2xhc3NvZiQ1ID0gY2xhc3NvZiRkO1xuICB2YXIgZ2V0TWV0aG9kID0gZ2V0TWV0aG9kJDM7XG4gIHZhciBpc051bGxPclVuZGVmaW5lZCQzID0gaXNOdWxsT3JVbmRlZmluZWQkNjtcbiAgdmFyIEl0ZXJhdG9ycyA9IGl0ZXJhdG9ycztcbiAgdmFyIHdlbGxLbm93blN5bWJvbCQ2ID0gd2VsbEtub3duU3ltYm9sJG47XG5cbiAgdmFyIElURVJBVE9SJDEgPSB3ZWxsS25vd25TeW1ib2wkNignaXRlcmF0b3InKTtcblxuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2QkOSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQkMyhpdCkpIHJldHVybiBnZXRNZXRob2QoaXQsIElURVJBVE9SJDEpXG4gICAgICB8fCBnZXRNZXRob2QoaXQsICdAQGl0ZXJhdG9yJylcbiAgICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mJDUoaXQpXTtcbiAgfTtcblxuICB2YXIgY2FsbCQ5ID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgYUNhbGxhYmxlJDcgPSBhQ2FsbGFibGUkZTtcbiAgdmFyIGFuT2JqZWN0JDUgPSBhbk9iamVjdCRkO1xuICB2YXIgdHJ5VG9TdHJpbmckMyA9IHRyeVRvU3RyaW5nJDY7XG4gIHZhciBnZXRJdGVyYXRvck1ldGhvZCQ4ID0gZ2V0SXRlcmF0b3JNZXRob2QkOTtcblxuICB2YXIgJFR5cGVFcnJvciQ3ID0gVHlwZUVycm9yO1xuXG4gIHZhciBnZXRJdGVyYXRvciQ4ID0gZnVuY3Rpb24gKGFyZ3VtZW50LCB1c2luZ0l0ZXJhdG9yKSB7XG4gICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyBnZXRJdGVyYXRvck1ldGhvZCQ4KGFyZ3VtZW50KSA6IHVzaW5nSXRlcmF0b3I7XG4gICAgaWYgKGFDYWxsYWJsZSQ3KGl0ZXJhdG9yTWV0aG9kKSkgcmV0dXJuIGFuT2JqZWN0JDUoY2FsbCQ5KGl0ZXJhdG9yTWV0aG9kLCBhcmd1bWVudCkpO1xuICAgIHRocm93IG5ldyAkVHlwZUVycm9yJDcodHJ5VG9TdHJpbmckMyhhcmd1bWVudCkgKyAnIGlzIG5vdCBpdGVyYWJsZScpO1xuICB9O1xuXG4gIHZhciBiaW5kJDkgPSBmdW5jdGlvbkJpbmRDb250ZXh0O1xuICB2YXIgY2FsbCQ4ID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgdG9PYmplY3QkNiA9IHRvT2JqZWN0JGU7XG4gIHZhciBjYWxsV2l0aFNhZmVJdGVyYXRpb25DbG9zaW5nID0gY2FsbFdpdGhTYWZlSXRlcmF0aW9uQ2xvc2luZyQxO1xuICB2YXIgaXNBcnJheUl0ZXJhdG9yTWV0aG9kJDEgPSBpc0FycmF5SXRlcmF0b3JNZXRob2QkMjtcbiAgdmFyIGlzQ29uc3RydWN0b3IkMiA9IGlzQ29uc3RydWN0b3IkNDtcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJDUgPSBsZW5ndGhPZkFycmF5TGlrZSRkO1xuICB2YXIgY3JlYXRlUHJvcGVydHkkMyA9IGNyZWF0ZVByb3BlcnR5JDY7XG4gIHZhciBnZXRJdGVyYXRvciQ3ID0gZ2V0SXRlcmF0b3IkODtcbiAgdmFyIGdldEl0ZXJhdG9yTWV0aG9kJDcgPSBnZXRJdGVyYXRvck1ldGhvZCQ5O1xuXG4gIHZhciAkQXJyYXkkMSA9IEFycmF5O1xuXG4gIC8vIGBBcnJheS5mcm9tYCBtZXRob2QgaW1wbGVtZW50YXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5mcm9tXG4gIHZhciBhcnJheUZyb20gPSBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZSAvKiAsIG1hcGZuID0gdW5kZWZpbmVkLCB0aGlzQXJnID0gdW5kZWZpbmVkICovKSB7XG4gICAgdmFyIE8gPSB0b09iamVjdCQ2KGFycmF5TGlrZSk7XG4gICAgdmFyIElTX0NPTlNUUlVDVE9SID0gaXNDb25zdHJ1Y3RvciQyKHRoaXMpO1xuICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBtYXBmbiA9IGFyZ3VtZW50c0xlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChtYXBwaW5nKSBtYXBmbiA9IGJpbmQkOShtYXBmbiwgYXJndW1lbnRzTGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyIGl0ZXJhdG9yTWV0aG9kID0gZ2V0SXRlcmF0b3JNZXRob2QkNyhPKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBsZW5ndGgsIHJlc3VsdCwgc3RlcCwgaXRlcmF0b3IsIG5leHQsIHZhbHVlO1xuICAgIC8vIGlmIHRoZSB0YXJnZXQgaXMgbm90IGl0ZXJhYmxlIG9yIGl0J3MgYW4gYXJyYXkgd2l0aCB0aGUgZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBhIHNpbXBsZSBjYXNlXG4gICAgaWYgKGl0ZXJhdG9yTWV0aG9kICYmICEodGhpcyA9PT0gJEFycmF5JDEgJiYgaXNBcnJheUl0ZXJhdG9yTWV0aG9kJDEoaXRlcmF0b3JNZXRob2QpKSkge1xuICAgICAgaXRlcmF0b3IgPSBnZXRJdGVyYXRvciQ3KE8sIGl0ZXJhdG9yTWV0aG9kKTtcbiAgICAgIG5leHQgPSBpdGVyYXRvci5uZXh0O1xuICAgICAgcmVzdWx0ID0gSVNfQ09OU1RSVUNUT1IgPyBuZXcgdGhpcygpIDogW107XG4gICAgICBmb3IgKDshKHN0ZXAgPSBjYWxsJDgobmV4dCwgaXRlcmF0b3IpKS5kb25lOyBpbmRleCsrKSB7XG4gICAgICAgIHZhbHVlID0gbWFwcGluZyA/IGNhbGxXaXRoU2FmZUl0ZXJhdGlvbkNsb3NpbmcoaXRlcmF0b3IsIG1hcGZuLCBbc3RlcC52YWx1ZSwgaW5kZXhdLCB0cnVlKSA6IHN0ZXAudmFsdWU7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5JDMocmVzdWx0LCBpbmRleCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQ1KE8pO1xuICAgICAgcmVzdWx0ID0gSVNfQ09OU1RSVUNUT1IgPyBuZXcgdGhpcyhsZW5ndGgpIDogJEFycmF5JDEobGVuZ3RoKTtcbiAgICAgIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHZhbHVlID0gbWFwcGluZyA/IG1hcGZuKE9baW5kZXhdLCBpbmRleCkgOiBPW2luZGV4XTtcbiAgICAgICAgY3JlYXRlUHJvcGVydHkkMyhyZXN1bHQsIGluZGV4LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sZW5ndGggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciB3ZWxsS25vd25TeW1ib2wkNSA9IHdlbGxLbm93blN5bWJvbCRuO1xuXG4gIHZhciBJVEVSQVRPUiA9IHdlbGxLbm93blN5bWJvbCQ1KCdpdGVyYXRvcicpO1xuICB2YXIgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbiAgdHJ5IHtcbiAgICB2YXIgY2FsbGVkID0gMDtcbiAgICB2YXIgaXRlcmF0b3JXaXRoUmV0dXJuID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4geyBkb25lOiAhIWNhbGxlZCsrIH07XG4gICAgICB9LFxuICAgICAgJ3JldHVybic6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgU0FGRV9DTE9TSU5HID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGl0ZXJhdG9yV2l0aFJldHVybltJVEVSQVRPUl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1hcnJheS1mcm9tLCBuby10aHJvdy1saXRlcmFsIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgQXJyYXkuZnJvbShpdGVyYXRvcldpdGhSZXR1cm4sIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7IC8qIGVtcHR5ICovIH1cblxuICB2YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uJDIgPSBmdW5jdGlvbiAoZXhlYywgU0tJUF9DTE9TSU5HKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghU0tJUF9DTE9TSU5HICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikgeyByZXR1cm4gZmFsc2U7IH0gLy8gd29ya2Fyb3VuZCBvZiBvbGQgV2ViS2l0ICsgYGV2YWxgIGJ1Z1xuICAgIHZhciBJVEVSQVRJT05fU1VQUE9SVCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICBvYmplY3RbSVRFUkFUT1JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IElURVJBVElPTl9TVVBQT1JUID0gdHJ1ZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgICBleGVjKG9iamVjdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICAgIHJldHVybiBJVEVSQVRJT05fU1VQUE9SVDtcbiAgfTtcblxuICB2YXIgJCR5ID0gX2V4cG9ydDtcbiAgdmFyIGZyb20kNiA9IGFycmF5RnJvbTtcbiAgdmFyIGNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbiQxID0gY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uJDI7XG5cbiAgdmFyIElOQ09SUkVDVF9JVEVSQVRJT04gPSAhY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uJDEoZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWFycmF5LWZyb20gLS0gcmVxdWlyZWQgZm9yIHRlc3RpbmdcbiAgICBBcnJheS5mcm9tKGl0ZXJhYmxlKTtcbiAgfSk7XG5cbiAgLy8gYEFycmF5LmZyb21gIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LmZyb21cbiAgJCR5KHsgdGFyZ2V0OiAnQXJyYXknLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IElOQ09SUkVDVF9JVEVSQVRJT04gfSwge1xuICAgIGZyb206IGZyb20kNlxuICB9KTtcblxuICB2YXIgcGF0aCRoID0gcGF0aCRvO1xuXG4gIHZhciBmcm9tJDUgPSBwYXRoJGguQXJyYXkuZnJvbTtcblxuICB2YXIgcGFyZW50JFQgPSBmcm9tJDU7XG5cbiAgdmFyIGZyb20kNCA9IHBhcmVudCRUO1xuXG4gIHZhciBmcm9tJDMgPSBmcm9tJDQ7XG5cbiAgdmFyIF9BcnJheSRmcm9tJDEgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoZnJvbSQzKTtcblxuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2QkNiA9IGdldEl0ZXJhdG9yTWV0aG9kJDk7XG5cbiAgdmFyIGdldEl0ZXJhdG9yTWV0aG9kXzEgPSBnZXRJdGVyYXRvck1ldGhvZCQ2O1xuXG4gIHZhciBwYXJlbnQkUyA9IGdldEl0ZXJhdG9yTWV0aG9kXzE7XG5cblxuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2QkNSA9IHBhcmVudCRTO1xuXG4gIHZhciBwYXJlbnQkUiA9IGdldEl0ZXJhdG9yTWV0aG9kJDU7XG5cbiAgdmFyIGdldEl0ZXJhdG9yTWV0aG9kJDQgPSBwYXJlbnQkUjtcblxuICB2YXIgcGFyZW50JFEgPSBnZXRJdGVyYXRvck1ldGhvZCQ0O1xuXG4gIHZhciBnZXRJdGVyYXRvck1ldGhvZCQzID0gcGFyZW50JFE7XG5cbiAgdmFyIGdldEl0ZXJhdG9yTWV0aG9kJDIgPSBnZXRJdGVyYXRvck1ldGhvZCQzO1xuXG4gIHZhciBfZ2V0SXRlcmF0b3JNZXRob2QkMSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhnZXRJdGVyYXRvck1ldGhvZCQyKTtcblxuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2QkMSA9IGdldEl0ZXJhdG9yTWV0aG9kJDI7XG5cbiAgdmFyIF9nZXRJdGVyYXRvck1ldGhvZCA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhnZXRJdGVyYXRvck1ldGhvZCQxKTtcblxuICB2YXIgJCR4ID0gX2V4cG9ydDtcbiAgdmFyIGlzQXJyYXkkOSA9IGlzQXJyYXkkZTtcblxuICAvLyBgQXJyYXkuaXNBcnJheWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkuaXNhcnJheVxuICAkJHgoeyB0YXJnZXQ6ICdBcnJheScsIHN0YXQ6IHRydWUgfSwge1xuICAgIGlzQXJyYXk6IGlzQXJyYXkkOVxuICB9KTtcblxuICB2YXIgcGF0aCRnID0gcGF0aCRvO1xuXG4gIHZhciBpc0FycmF5JDggPSBwYXRoJGcuQXJyYXkuaXNBcnJheTtcblxuICB2YXIgcGFyZW50JFAgPSBpc0FycmF5JDg7XG5cbiAgdmFyIGlzQXJyYXkkNyA9IHBhcmVudCRQO1xuXG4gIHZhciBwYXJlbnQkTyA9IGlzQXJyYXkkNztcblxuICB2YXIgaXNBcnJheSQ2ID0gcGFyZW50JE87XG5cbiAgdmFyIHBhcmVudCROID0gaXNBcnJheSQ2O1xuXG4gIHZhciBpc0FycmF5JDUgPSBwYXJlbnQkTjtcblxuICB2YXIgaXNBcnJheSQ0ID0gaXNBcnJheSQ1O1xuXG4gIHZhciBfQXJyYXkkaXNBcnJheSQxID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGlzQXJyYXkkNCk7XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICAgIGlmIChfQXJyYXkkaXNBcnJheSQxKGFycikpIHJldHVybiBhcnI7XG4gIH1cblxuICB2YXIgREVTQ1JJUFRPUlMkOCA9IGRlc2NyaXB0b3JzO1xuICB2YXIgaXNBcnJheSQzID0gaXNBcnJheSRlO1xuXG4gIHZhciAkVHlwZUVycm9yJDYgPSBUeXBlRXJyb3I7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZ2V0b3ducHJvcGVydHlkZXNjcmlwdG9yIC0tIHNhZmVcbiAgdmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciQ1ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcblxuICAvLyBTYWZhcmkgPCAxMyBkb2VzIG5vdCB0aHJvdyBhbiBlcnJvciBpbiB0aGlzIGNhc2VcbiAgdmFyIFNJTEVOVF9PTl9OT05fV1JJVEFCTEVfTEVOR1RIX1NFVCA9IERFU0NSSVBUT1JTJDggJiYgIWZ1bmN0aW9uICgpIHtcbiAgICAvLyBtYWtlcyBubyBzZW5zZSB3aXRob3V0IHByb3BlciBzdHJpY3QgbW9kZSBzdXBwb3J0XG4gICAgaWYgKHRoaXMgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtZGVmaW5lcHJvcGVydHkgLS0gc2FmZVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFtdLCAnbGVuZ3RoJywgeyB3cml0YWJsZTogZmFsc2UgfSkubGVuZ3RoID0gMTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yO1xuICAgIH1cbiAgfSgpO1xuXG4gIHZhciBhcnJheVNldExlbmd0aCA9IFNJTEVOVF9PTl9OT05fV1JJVEFCTEVfTEVOR1RIX1NFVCA/IGZ1bmN0aW9uIChPLCBsZW5ndGgpIHtcbiAgICBpZiAoaXNBcnJheSQzKE8pICYmICFnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkNShPLCAnbGVuZ3RoJykud3JpdGFibGUpIHtcbiAgICAgIHRocm93IG5ldyAkVHlwZUVycm9yJDYoJ0Nhbm5vdCBzZXQgcmVhZCBvbmx5IC5sZW5ndGgnKTtcbiAgICB9IHJldHVybiBPLmxlbmd0aCA9IGxlbmd0aDtcbiAgfSA6IGZ1bmN0aW9uIChPLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gTy5sZW5ndGggPSBsZW5ndGg7XG4gIH07XG5cbiAgdmFyICQkdyA9IF9leHBvcnQ7XG4gIHZhciB0b09iamVjdCQ1ID0gdG9PYmplY3QkZTtcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJDQgPSBsZW5ndGhPZkFycmF5TGlrZSRkO1xuICB2YXIgc2V0QXJyYXlMZW5ndGgkMSA9IGFycmF5U2V0TGVuZ3RoO1xuICB2YXIgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyJDEgPSBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIkNDtcbiAgdmFyIGZhaWxzJGQgPSBmYWlscyR1O1xuXG4gIHZhciBJTkNPUlJFQ1RfVE9fTEVOR1RIID0gZmFpbHMkZChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFtdLnB1c2guY2FsbCh7IGxlbmd0aDogMHgxMDAwMDAwMDAgfSwgMSkgIT09IDQyOTQ5NjcyOTc7XG4gIH0pO1xuXG4gIC8vIFY4IGFuZCBTYWZhcmkgPD0gMTUuNCwgRkYgPCAyMyB0aHJvd3MgSW50ZXJuYWxFcnJvclxuICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0xMjY4MVxuICB2YXIgcHJvcGVyRXJyb3JPbk5vbldyaXRhYmxlTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHNhZmVcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShbXSwgJ2xlbmd0aCcsIHsgd3JpdGFibGU6IGZhbHNlIH0pLnB1c2goKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yO1xuICAgIH1cbiAgfTtcblxuICB2YXIgRk9SQ0VEJDMgPSBJTkNPUlJFQ1RfVE9fTEVOR1RIIHx8ICFwcm9wZXJFcnJvck9uTm9uV3JpdGFibGVMZW5ndGgoKTtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLnB1c2hgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5wdXNoXG4gICQkdyh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGFyaXR5OiAxLCBmb3JjZWQ6IEZPUkNFRCQzIH0sIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goaXRlbSkge1xuICAgICAgdmFyIE8gPSB0b09iamVjdCQ1KHRoaXMpO1xuICAgICAgdmFyIGxlbiA9IGxlbmd0aE9mQXJyYXlMaWtlJDQoTyk7XG4gICAgICB2YXIgYXJnQ291bnQgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgZG9lc05vdEV4Y2VlZFNhZmVJbnRlZ2VyJDEobGVuICsgYXJnQ291bnQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdDb3VudDsgaSsrKSB7XG4gICAgICAgIE9bbGVuXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgbGVuKys7XG4gICAgICB9XG4gICAgICBzZXRBcnJheUxlbmd0aCQxKE8sIGxlbik7XG4gICAgICByZXR1cm4gbGVuO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkYSA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkZztcblxuICB2YXIgcHVzaCQ4ID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRhKCdBcnJheScsICdwdXNoJyk7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkZCA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkYSA9IHB1c2gkODtcblxuICB2YXIgQXJyYXlQcm90b3R5cGUkYSA9IEFycmF5LnByb3RvdHlwZTtcblxuICB2YXIgcHVzaCQ3ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnB1c2g7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSRhIHx8IChpc1Byb3RvdHlwZU9mJGQoQXJyYXlQcm90b3R5cGUkYSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkYS5wdXNoKSA/IG1ldGhvZCRhIDogb3duO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkTSA9IHB1c2gkNztcblxuICB2YXIgcHVzaCQ2ID0gcGFyZW50JE07XG5cbiAgdmFyIHBhcmVudCRMID0gcHVzaCQ2O1xuXG4gIHZhciBwdXNoJDUgPSBwYXJlbnQkTDtcblxuICB2YXIgcGFyZW50JEsgPSBwdXNoJDU7XG5cbiAgdmFyIHB1c2gkNCA9IHBhcmVudCRLO1xuXG4gIHZhciBwdXNoJDMgPSBwdXNoJDQ7XG5cbiAgdmFyIF9wdXNoSW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhwdXNoJDMpO1xuXG4gIGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7XG4gICAgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgX1N5bWJvbCQxICYmIF9nZXRJdGVyYXRvck1ldGhvZCQxKHIpIHx8IHJbXCJAQGl0ZXJhdG9yXCJdO1xuICAgIGlmIChudWxsICE9IHQpIHtcbiAgICAgIHZhciBlLFxuICAgICAgICBuLFxuICAgICAgICBpLFxuICAgICAgICB1LFxuICAgICAgICBhID0gW10sXG4gICAgICAgIGYgPSAhMCxcbiAgICAgICAgbyA9ICExO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkge1xuICAgICAgICAgIGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjtcbiAgICAgICAgICBmID0gITE7XG4gICAgICAgIH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChfcHVzaEluc3RhbmNlUHJvcGVydHkoYSkuY2FsbChhLCBlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApO1xuICAgICAgfSBjYXRjaCAocikge1xuICAgICAgICBvID0gITAsIG4gPSByO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWYgJiYgbnVsbCAhPSB0W1wicmV0dXJuXCJdICYmICh1ID0gdFtcInJldHVyblwiXSgpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKG8pIHRocm93IG47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfVxuXG4gIHZhciAkJHYgPSBfZXhwb3J0O1xuICB2YXIgaXNBcnJheSQyID0gaXNBcnJheSRlO1xuICB2YXIgaXNDb25zdHJ1Y3RvciQxID0gaXNDb25zdHJ1Y3RvciQ0O1xuICB2YXIgaXNPYmplY3QkNyA9IGlzT2JqZWN0JGg7XG4gIHZhciB0b0Fic29sdXRlSW5kZXgkMSA9IHRvQWJzb2x1dGVJbmRleCQ0O1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UkMyA9IGxlbmd0aE9mQXJyYXlMaWtlJGQ7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkMiA9IHRvSW5kZXhlZE9iamVjdCRhO1xuICB2YXIgY3JlYXRlUHJvcGVydHkkMiA9IGNyZWF0ZVByb3BlcnR5JDY7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkNCA9IHdlbGxLbm93blN5bWJvbCRuO1xuICB2YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQxID0gYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCQ1O1xuICB2YXIgbmF0aXZlU2xpY2UgPSBhcnJheVNsaWNlJDU7XG5cbiAgdmFyIEhBU19TUEVDSUVTX1NVUFBPUlQkMSA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkMSgnc2xpY2UnKTtcblxuICB2YXIgU1BFQ0lFUyQzID0gd2VsbEtub3duU3ltYm9sJDQoJ3NwZWNpZXMnKTtcbiAgdmFyICRBcnJheSA9IEFycmF5O1xuICB2YXIgbWF4JDEgPSBNYXRoLm1heDtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLnNsaWNlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgLy8gZmFsbGJhY2sgZm9yIG5vdCBhcnJheS1saWtlIEVTMyBzdHJpbmdzIGFuZCBET00gb2JqZWN0c1xuICAkJHYoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6ICFIQVNfU1BFQ0lFU19TVVBQT1JUJDEgfSwge1xuICAgIHNsaWNlOiBmdW5jdGlvbiBzbGljZShzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgTyA9IHRvSW5kZXhlZE9iamVjdCQyKHRoaXMpO1xuICAgICAgdmFyIGxlbmd0aCA9IGxlbmd0aE9mQXJyYXlMaWtlJDMoTyk7XG4gICAgICB2YXIgayA9IHRvQWJzb2x1dGVJbmRleCQxKHN0YXJ0LCBsZW5ndGgpO1xuICAgICAgdmFyIGZpbiA9IHRvQWJzb2x1dGVJbmRleCQxKGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kLCBsZW5ndGgpO1xuICAgICAgLy8gaW5saW5lIGBBcnJheVNwZWNpZXNDcmVhdGVgIGZvciB1c2FnZSBuYXRpdmUgYEFycmF5I3NsaWNlYCB3aGVyZSBpdCdzIHBvc3NpYmxlXG4gICAgICB2YXIgQ29uc3RydWN0b3IsIHJlc3VsdCwgbjtcbiAgICAgIGlmIChpc0FycmF5JDIoTykpIHtcbiAgICAgICAgQ29uc3RydWN0b3IgPSBPLmNvbnN0cnVjdG9yO1xuICAgICAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgICAgICBpZiAoaXNDb25zdHJ1Y3RvciQxKENvbnN0cnVjdG9yKSAmJiAoQ29uc3RydWN0b3IgPT09ICRBcnJheSB8fCBpc0FycmF5JDIoQ29uc3RydWN0b3IucHJvdG90eXBlKSkpIHtcbiAgICAgICAgICBDb25zdHJ1Y3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdCQ3KENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgIENvbnN0cnVjdG9yID0gQ29uc3RydWN0b3JbU1BFQ0lFUyQzXTtcbiAgICAgICAgICBpZiAoQ29uc3RydWN0b3IgPT09IG51bGwpIENvbnN0cnVjdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDb25zdHJ1Y3RvciA9PT0gJEFycmF5IHx8IENvbnN0cnVjdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gbmF0aXZlU2xpY2UoTywgaywgZmluKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0ID0gbmV3IChDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkID8gJEFycmF5IDogQ29uc3RydWN0b3IpKG1heCQxKGZpbiAtIGssIDApKTtcbiAgICAgIGZvciAobiA9IDA7IGsgPCBmaW47IGsrKywgbisrKSBpZiAoayBpbiBPKSBjcmVhdGVQcm9wZXJ0eSQyKHJlc3VsdCwgbiwgT1trXSk7XG4gICAgICByZXN1bHQubGVuZ3RoID0gbjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCQ5ID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRnO1xuXG4gIHZhciBzbGljZSQ2ID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCQ5KCdBcnJheScsICdzbGljZScpO1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJGMgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJDkgPSBzbGljZSQ2O1xuXG4gIHZhciBBcnJheVByb3RvdHlwZSQ5ID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBzbGljZSQ1ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnNsaWNlO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkOSB8fCAoaXNQcm90b3R5cGVPZiRjKEFycmF5UHJvdG90eXBlJDksIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDkuc2xpY2UpID8gbWV0aG9kJDkgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRKID0gc2xpY2UkNTtcblxuICB2YXIgc2xpY2UkNCA9IHBhcmVudCRKO1xuXG4gIHZhciBwYXJlbnQkSSA9IHNsaWNlJDQ7XG5cbiAgdmFyIHNsaWNlJDMgPSBwYXJlbnQkSTtcblxuICB2YXIgcGFyZW50JEggPSBzbGljZSQzO1xuXG4gIHZhciBzbGljZSQyID0gcGFyZW50JEg7XG5cbiAgdmFyIHNsaWNlJDEgPSBzbGljZSQyO1xuXG4gIHZhciBfc2xpY2VJbnN0YW5jZVByb3BlcnR5JDEgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoc2xpY2UkMSk7XG5cbiAgdmFyIHBhcmVudCRHID0gZnJvbSQ0O1xuXG4gIHZhciBmcm9tJDIgPSBwYXJlbnQkRztcblxuICB2YXIgcGFyZW50JEYgPSBmcm9tJDI7XG5cbiAgdmFyIGZyb20kMSA9IHBhcmVudCRGO1xuXG4gIHZhciBmcm9tID0gZnJvbSQxO1xuXG4gIHZhciBfQXJyYXkkZnJvbSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhmcm9tKTtcblxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQ0KGFyciwgbGVuKSB7XG4gICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuICAgIHJldHVybiBhcnIyO1xuICB9XG5cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDQobywgbWluTGVuKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuICAgIGlmICghbykgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDQobywgbWluTGVuKTtcbiAgICB2YXIgbiA9IF9zbGljZUluc3RhbmNlUHJvcGVydHkkMShfY29udGV4dCA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKSkuY2FsbChfY29udGV4dCwgOCwgLTEpO1xuICAgIGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIF9BcnJheSRmcm9tKG8pO1xuICAgIGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkNChvLCBtaW5MZW4pO1xuICB9XG5cbiAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gICAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQ0KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICAgIGlmIChfQXJyYXkkaXNBcnJheSQxKGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQ0KGFycik7XG4gIH1cblxuICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgICBpZiAodHlwZW9mIF9TeW1ib2wkMSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBfZ2V0SXRlcmF0b3JNZXRob2QkMShpdGVyKSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBfQXJyYXkkZnJvbShpdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgICByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQ0KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG4gIH1cblxuICB2YXIgc3ltYm9sID0gc3ltYm9sJDQ7XG5cbiAgdmFyIF9TeW1ib2wgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoc3ltYm9sKTtcblxuICB2YXIgZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCQ4ID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRnO1xuXG4gIHZhciBjb25jYXQkNSA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkOCgnQXJyYXknLCAnY29uY2F0Jyk7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkYiA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkOCA9IGNvbmNhdCQ1O1xuXG4gIHZhciBBcnJheVByb3RvdHlwZSQ4ID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBjb25jYXQkNCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5jb25jYXQ7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSQ4IHx8IChpc1Byb3RvdHlwZU9mJGIoQXJyYXlQcm90b3R5cGUkOCwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkOC5jb25jYXQpID8gbWV0aG9kJDggOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCRFID0gY29uY2F0JDQ7XG5cbiAgdmFyIGNvbmNhdCQzID0gcGFyZW50JEU7XG5cbiAgdmFyIGNvbmNhdCQyID0gY29uY2F0JDM7XG5cbiAgdmFyIF9jb25jYXRJbnN0YW5jZVByb3BlcnR5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGNvbmNhdCQyKTtcblxuICB2YXIgc2xpY2UgPSBzbGljZSQ0O1xuXG4gIHZhciBfc2xpY2VJbnN0YW5jZVByb3BlcnR5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHNsaWNlKTtcblxuICB2YXIgZ2V0QnVpbHRJbiQ1ID0gZ2V0QnVpbHRJbiRmO1xuICB2YXIgdW5jdXJyeVRoaXMkNSA9IGZ1bmN0aW9uVW5jdXJyeVRoaXM7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlJDEgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eU5hbWVzO1xuICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlJDEgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG4gIHZhciBhbk9iamVjdCQ0ID0gYW5PYmplY3QkZDtcblxuICB2YXIgY29uY2F0JDEgPSB1bmN1cnJ5VGhpcyQ1KFtdLmNvbmNhdCk7XG5cbiAgLy8gYWxsIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBub24tZW51bWVyYWJsZSBhbmQgc3ltYm9sc1xuICB2YXIgb3duS2V5cyQ3ID0gZ2V0QnVpbHRJbiQ1KCdSZWZsZWN0JywgJ293bktleXMnKSB8fCBmdW5jdGlvbiBvd25LZXlzKGl0KSB7XG4gICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlJDEuZihhbk9iamVjdCQ0KGl0KSk7XG4gICAgdmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSQxLmY7XG4gICAgcmV0dXJuIGdldE93blByb3BlcnR5U3ltYm9scyA/IGNvbmNhdCQxKGtleXMsIGdldE93blByb3BlcnR5U3ltYm9scyhpdCkpIDoga2V5cztcbiAgfTtcblxuICB2YXIgJCR1ID0gX2V4cG9ydDtcbiAgdmFyIG93bktleXMkNiA9IG93bktleXMkNztcblxuICAvLyBgUmVmbGVjdC5vd25LZXlzYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1yZWZsZWN0Lm93bmtleXNcbiAgJCR1KHsgdGFyZ2V0OiAnUmVmbGVjdCcsIHN0YXQ6IHRydWUgfSwge1xuICAgIG93bktleXM6IG93bktleXMkNlxuICB9KTtcblxuICB2YXIgcGF0aCRmID0gcGF0aCRvO1xuXG4gIHZhciBvd25LZXlzJDUgPSBwYXRoJGYuUmVmbGVjdC5vd25LZXlzO1xuXG4gIHZhciBwYXJlbnQkRCA9IG93bktleXMkNTtcblxuICB2YXIgb3duS2V5cyQ0ID0gcGFyZW50JEQ7XG5cbiAgdmFyIG93bktleXMkMyA9IG93bktleXMkNDtcblxuICB2YXIgX1JlZmxlY3Qkb3duS2V5cyA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhvd25LZXlzJDMpO1xuXG4gIHZhciBpc0FycmF5JDEgPSBpc0FycmF5JDc7XG5cbiAgdmFyIF9BcnJheSRpc0FycmF5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGlzQXJyYXkkMSk7XG5cbiAgdmFyICQkdCA9IF9leHBvcnQ7XG4gIHZhciB0b09iamVjdCQ0ID0gdG9PYmplY3QkZTtcbiAgdmFyIG5hdGl2ZUtleXMgPSBvYmplY3RLZXlzJDM7XG4gIHZhciBmYWlscyRjID0gZmFpbHMkdTtcblxuICB2YXIgRkFJTFNfT05fUFJJTUlUSVZFUyQyID0gZmFpbHMkYyhmdW5jdGlvbiAoKSB7IG5hdGl2ZUtleXMoMSk7IH0pO1xuXG4gIC8vIGBPYmplY3Qua2V5c2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmtleXNcbiAgJCR0KHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGQUlMU19PTl9QUklNSVRJVkVTJDIgfSwge1xuICAgIGtleXM6IGZ1bmN0aW9uIGtleXMoaXQpIHtcbiAgICAgIHJldHVybiBuYXRpdmVLZXlzKHRvT2JqZWN0JDQoaXQpKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBwYXRoJGUgPSBwYXRoJG87XG5cbiAgdmFyIGtleXMkNiA9IHBhdGgkZS5PYmplY3Qua2V5cztcblxuICB2YXIgcGFyZW50JEMgPSBrZXlzJDY7XG5cbiAgdmFyIGtleXMkNSA9IHBhcmVudCRDO1xuXG4gIHZhciBrZXlzJDQgPSBrZXlzJDU7XG5cbiAgdmFyIF9PYmplY3Qka2V5cyA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhrZXlzJDQpO1xuXG4gIHZhciAkZm9yRWFjaCA9IGFycmF5SXRlcmF0aW9uLmZvckVhY2g7XG4gIHZhciBhcnJheU1ldGhvZElzU3RyaWN0JDIgPSBhcnJheU1ldGhvZElzU3RyaWN0JDQ7XG5cbiAgdmFyIFNUUklDVF9NRVRIT0QkMiA9IGFycmF5TWV0aG9kSXNTdHJpY3QkMignZm9yRWFjaCcpO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuZm9yRWFjaGAgbWV0aG9kIGltcGxlbWVudGF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLmZvcmVhY2hcbiAgdmFyIGFycmF5Rm9yRWFjaCA9ICFTVFJJQ1RfTUVUSE9EJDIgPyBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyogLCB0aGlzQXJnICovKSB7XG4gICAgcmV0dXJuICRmb3JFYWNoKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWFycmF5LXByb3RvdHlwZS1mb3JlYWNoIC0tIHNhZmVcbiAgfSA6IFtdLmZvckVhY2g7XG5cbiAgdmFyICQkcyA9IF9leHBvcnQ7XG4gIHZhciBmb3JFYWNoJDggPSBhcnJheUZvckVhY2g7XG5cbiAgLy8gYEFycmF5LnByb3RvdHlwZS5mb3JFYWNoYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuZm9yZWFjaFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tYXJyYXktcHJvdG90eXBlLWZvcmVhY2ggLS0gc2FmZVxuICAkJHMoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IFtdLmZvckVhY2ggIT09IGZvckVhY2gkOCB9LCB7XG4gICAgZm9yRWFjaDogZm9yRWFjaCQ4XG4gIH0pO1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJDcgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGc7XG5cbiAgdmFyIGZvckVhY2gkNyA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkNygnQXJyYXknLCAnZm9yRWFjaCcpO1xuXG4gIHZhciBwYXJlbnQkQiA9IGZvckVhY2gkNztcblxuICB2YXIgZm9yRWFjaCQ2ID0gcGFyZW50JEI7XG5cbiAgdmFyIGNsYXNzb2YkNCA9IGNsYXNzb2YkZDtcbiAgdmFyIGhhc093biQ2ID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIGlzUHJvdG90eXBlT2YkYSA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkNyA9IGZvckVhY2gkNjtcblxuXG4gIHZhciBBcnJheVByb3RvdHlwZSQ3ID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBET01JdGVyYWJsZXMkMyA9IHtcbiAgICBET01Ub2tlbkxpc3Q6IHRydWUsXG4gICAgTm9kZUxpc3Q6IHRydWVcbiAgfTtcblxuICB2YXIgZm9yRWFjaCQ1ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LmZvckVhY2g7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSQ3IHx8IChpc1Byb3RvdHlwZU9mJGEoQXJyYXlQcm90b3R5cGUkNywgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkNy5mb3JFYWNoKVxuICAgICAgfHwgaGFzT3duJDYoRE9NSXRlcmFibGVzJDMsIGNsYXNzb2YkNChpdCkpID8gbWV0aG9kJDcgOiBvd247XG4gIH07XG5cbiAgdmFyIGZvckVhY2gkNCA9IGZvckVhY2gkNTtcblxuICB2YXIgX2ZvckVhY2hJbnN0YW5jZVByb3BlcnR5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGZvckVhY2gkNCk7XG5cbiAgdmFyICQkciA9IF9leHBvcnQ7XG4gIHZhciB1bmN1cnJ5VGhpcyQ0ID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGlzQXJyYXkgPSBpc0FycmF5JGU7XG5cbiAgdmFyIG5hdGl2ZVJldmVyc2UgPSB1bmN1cnJ5VGhpcyQ0KFtdLnJldmVyc2UpO1xuICB2YXIgdGVzdCQxID0gWzEsIDJdO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUucmV2ZXJzZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtYXJyYXkucHJvdG90eXBlLnJldmVyc2VcbiAgLy8gZml4IGZvciBTYWZhcmkgMTIuMCBidWdcbiAgLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE4ODc5NFxuICAkJHIoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IFN0cmluZyh0ZXN0JDEpID09PSBTdHJpbmcodGVzdCQxLnJldmVyc2UoKSkgfSwge1xuICAgIHJldmVyc2U6IGZ1bmN0aW9uIHJldmVyc2UoKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1hc3NpZ24gLS0gZGlydHkgaGFja1xuICAgICAgaWYgKGlzQXJyYXkodGhpcykpIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGg7XG4gICAgICByZXR1cm4gbmF0aXZlUmV2ZXJzZSh0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJDYgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGc7XG5cbiAgdmFyIHJldmVyc2UkNiA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkNignQXJyYXknLCAncmV2ZXJzZScpO1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJDkgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJDYgPSByZXZlcnNlJDY7XG5cbiAgdmFyIEFycmF5UHJvdG90eXBlJDYgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIHJldmVyc2UkNSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5yZXZlcnNlO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkNiB8fCAoaXNQcm90b3R5cGVPZiQ5KEFycmF5UHJvdG90eXBlJDYsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDYucmV2ZXJzZSkgPyBtZXRob2QkNiA6IG93bjtcbiAgfTtcblxuICB2YXIgcGFyZW50JEEgPSByZXZlcnNlJDU7XG5cbiAgdmFyIHJldmVyc2UkNCA9IHBhcmVudCRBO1xuXG4gIHZhciByZXZlcnNlJDMgPSByZXZlcnNlJDQ7XG5cbiAgdmFyIF9yZXZlcnNlSW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhyZXZlcnNlJDMpO1xuXG4gIHZhciB0cnlUb1N0cmluZyQyID0gdHJ5VG9TdHJpbmckNjtcblxuICB2YXIgJFR5cGVFcnJvciQ1ID0gVHlwZUVycm9yO1xuXG4gIHZhciBkZWxldGVQcm9wZXJ0eU9yVGhyb3ckMiA9IGZ1bmN0aW9uIChPLCBQKSB7XG4gICAgaWYgKCFkZWxldGUgT1tQXSkgdGhyb3cgbmV3ICRUeXBlRXJyb3IkNSgnQ2Fubm90IGRlbGV0ZSBwcm9wZXJ0eSAnICsgdHJ5VG9TdHJpbmckMihQKSArICcgb2YgJyArIHRyeVRvU3RyaW5nJDIoTykpO1xuICB9O1xuXG4gIHZhciAkJHEgPSBfZXhwb3J0O1xuICB2YXIgdG9PYmplY3QkMyA9IHRvT2JqZWN0JGU7XG4gIHZhciB0b0Fic29sdXRlSW5kZXggPSB0b0Fic29sdXRlSW5kZXgkNDtcbiAgdmFyIHRvSW50ZWdlck9ySW5maW5pdHkgPSB0b0ludGVnZXJPckluZmluaXR5JDQ7XG4gIHZhciBsZW5ndGhPZkFycmF5TGlrZSQyID0gbGVuZ3RoT2ZBcnJheUxpa2UkZDtcbiAgdmFyIHNldEFycmF5TGVuZ3RoID0gYXJyYXlTZXRMZW5ndGg7XG4gIHZhciBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIgPSBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIkNDtcbiAgdmFyIGFycmF5U3BlY2llc0NyZWF0ZSA9IGFycmF5U3BlY2llc0NyZWF0ZSQ0O1xuICB2YXIgY3JlYXRlUHJvcGVydHkkMSA9IGNyZWF0ZVByb3BlcnR5JDY7XG4gIHZhciBkZWxldGVQcm9wZXJ0eU9yVGhyb3ckMSA9IGRlbGV0ZVByb3BlcnR5T3JUaHJvdyQyO1xuICB2YXIgYXJyYXlNZXRob2RIYXNTcGVjaWVzU3VwcG9ydCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQkNTtcblxuICB2YXIgSEFTX1NQRUNJRVNfU1VQUE9SVCA9IGFycmF5TWV0aG9kSGFzU3BlY2llc1N1cHBvcnQoJ3NwbGljZScpO1xuXG4gIHZhciBtYXggPSBNYXRoLm1heDtcbiAgdmFyIG1pbiA9IE1hdGgubWluO1xuXG4gIC8vIGBBcnJheS5wcm90b3R5cGUuc3BsaWNlYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hcnJheS5wcm90b3R5cGUuc3BsaWNlXG4gIC8vIHdpdGggYWRkaW5nIHN1cHBvcnQgb2YgQEBzcGVjaWVzXG4gICQkcSh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIUhBU19TUEVDSUVTX1NVUFBPUlQgfSwge1xuICAgIHNwbGljZTogZnVuY3Rpb24gc3BsaWNlKHN0YXJ0LCBkZWxldGVDb3VudCAvKiAsIC4uLml0ZW1zICovKSB7XG4gICAgICB2YXIgTyA9IHRvT2JqZWN0JDModGhpcyk7XG4gICAgICB2YXIgbGVuID0gbGVuZ3RoT2ZBcnJheUxpa2UkMihPKTtcbiAgICAgIHZhciBhY3R1YWxTdGFydCA9IHRvQWJzb2x1dGVJbmRleChzdGFydCwgbGVuKTtcbiAgICAgIHZhciBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgdmFyIGluc2VydENvdW50LCBhY3R1YWxEZWxldGVDb3VudCwgQSwgaywgZnJvbSwgdG87XG4gICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGluc2VydENvdW50ID0gYWN0dWFsRGVsZXRlQ291bnQgPSAwO1xuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHNMZW5ndGggPT09IDEpIHtcbiAgICAgICAgaW5zZXJ0Q291bnQgPSAwO1xuICAgICAgICBhY3R1YWxEZWxldGVDb3VudCA9IGxlbiAtIGFjdHVhbFN0YXJ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zZXJ0Q291bnQgPSBhcmd1bWVudHNMZW5ndGggLSAyO1xuICAgICAgICBhY3R1YWxEZWxldGVDb3VudCA9IG1pbihtYXgodG9JbnRlZ2VyT3JJbmZpbml0eShkZWxldGVDb3VudCksIDApLCBsZW4gLSBhY3R1YWxTdGFydCk7XG4gICAgICB9XG4gICAgICBkb2VzTm90RXhjZWVkU2FmZUludGVnZXIobGVuICsgaW5zZXJ0Q291bnQgLSBhY3R1YWxEZWxldGVDb3VudCk7XG4gICAgICBBID0gYXJyYXlTcGVjaWVzQ3JlYXRlKE8sIGFjdHVhbERlbGV0ZUNvdW50KTtcbiAgICAgIGZvciAoayA9IDA7IGsgPCBhY3R1YWxEZWxldGVDb3VudDsgaysrKSB7XG4gICAgICAgIGZyb20gPSBhY3R1YWxTdGFydCArIGs7XG4gICAgICAgIGlmIChmcm9tIGluIE8pIGNyZWF0ZVByb3BlcnR5JDEoQSwgaywgT1tmcm9tXSk7XG4gICAgICB9XG4gICAgICBBLmxlbmd0aCA9IGFjdHVhbERlbGV0ZUNvdW50O1xuICAgICAgaWYgKGluc2VydENvdW50IDwgYWN0dWFsRGVsZXRlQ291bnQpIHtcbiAgICAgICAgZm9yIChrID0gYWN0dWFsU3RhcnQ7IGsgPCBsZW4gLSBhY3R1YWxEZWxldGVDb3VudDsgaysrKSB7XG4gICAgICAgICAgZnJvbSA9IGsgKyBhY3R1YWxEZWxldGVDb3VudDtcbiAgICAgICAgICB0byA9IGsgKyBpbnNlcnRDb3VudDtcbiAgICAgICAgICBpZiAoZnJvbSBpbiBPKSBPW3RvXSA9IE9bZnJvbV07XG4gICAgICAgICAgZWxzZSBkZWxldGVQcm9wZXJ0eU9yVGhyb3ckMShPLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChrID0gbGVuOyBrID4gbGVuIC0gYWN0dWFsRGVsZXRlQ291bnQgKyBpbnNlcnRDb3VudDsgay0tKSBkZWxldGVQcm9wZXJ0eU9yVGhyb3ckMShPLCBrIC0gMSk7XG4gICAgICB9IGVsc2UgaWYgKGluc2VydENvdW50ID4gYWN0dWFsRGVsZXRlQ291bnQpIHtcbiAgICAgICAgZm9yIChrID0gbGVuIC0gYWN0dWFsRGVsZXRlQ291bnQ7IGsgPiBhY3R1YWxTdGFydDsgay0tKSB7XG4gICAgICAgICAgZnJvbSA9IGsgKyBhY3R1YWxEZWxldGVDb3VudCAtIDE7XG4gICAgICAgICAgdG8gPSBrICsgaW5zZXJ0Q291bnQgLSAxO1xuICAgICAgICAgIGlmIChmcm9tIGluIE8pIE9bdG9dID0gT1tmcm9tXTtcbiAgICAgICAgICBlbHNlIGRlbGV0ZVByb3BlcnR5T3JUaHJvdyQxKE8sIHRvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChrID0gMDsgayA8IGluc2VydENvdW50OyBrKyspIHtcbiAgICAgICAgT1trICsgYWN0dWFsU3RhcnRdID0gYXJndW1lbnRzW2sgKyAyXTtcbiAgICAgIH1cbiAgICAgIHNldEFycmF5TGVuZ3RoKE8sIGxlbiAtIGFjdHVhbERlbGV0ZUNvdW50ICsgaW5zZXJ0Q291bnQpO1xuICAgICAgcmV0dXJuIEE7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCQ1ID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRnO1xuXG4gIHZhciBzcGxpY2UkMyA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkNSgnQXJyYXknLCAnc3BsaWNlJyk7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkOCA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkNSA9IHNwbGljZSQzO1xuXG4gIHZhciBBcnJheVByb3RvdHlwZSQ1ID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBzcGxpY2UkMiA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5zcGxpY2U7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSQ1IHx8IChpc1Byb3RvdHlwZU9mJDgoQXJyYXlQcm90b3R5cGUkNSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkNS5zcGxpY2UpID8gbWV0aG9kJDUgOiBvd247XG4gIH07XG5cbiAgdmFyIHBhcmVudCR6ID0gc3BsaWNlJDI7XG5cbiAgdmFyIHNwbGljZSQxID0gcGFyZW50JHo7XG5cbiAgdmFyIHNwbGljZSA9IHNwbGljZSQxO1xuXG4gIHZhciBfc3BsaWNlSW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhzcGxpY2UpO1xuXG4gIHZhciBERVNDUklQVE9SUyQ3ID0gZGVzY3JpcHRvcnM7XG4gIHZhciB1bmN1cnJ5VGhpcyQzID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGNhbGwkNyA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGZhaWxzJGIgPSBmYWlscyR1O1xuICB2YXIgb2JqZWN0S2V5cyA9IG9iamVjdEtleXMkMztcbiAgdmFyIGdldE93blByb3BlcnR5U3ltYm9sc01vZHVsZSA9IG9iamVjdEdldE93blByb3BlcnR5U3ltYm9scztcbiAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlTW9kdWxlID0gb2JqZWN0UHJvcGVydHlJc0VudW1lcmFibGU7XG4gIHZhciB0b09iamVjdCQyID0gdG9PYmplY3QkZTtcbiAgdmFyIEluZGV4ZWRPYmplY3QgPSBpbmRleGVkT2JqZWN0O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1vYmplY3QtYXNzaWduIC0tIHNhZmVcbiAgdmFyICRhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWRlZmluZXByb3BlcnR5IC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gIHZhciBkZWZpbmVQcm9wZXJ0eSQzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuICB2YXIgY29uY2F0ID0gdW5jdXJyeVRoaXMkMyhbXS5jb25jYXQpO1xuXG4gIC8vIGBPYmplY3QuYXNzaWduYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1vYmplY3QuYXNzaWduXG4gIHZhciBvYmplY3RBc3NpZ24gPSAhJGFzc2lnbiB8fCBmYWlscyRiKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzaG91bGQgaGF2ZSBjb3JyZWN0IG9yZGVyIG9mIG9wZXJhdGlvbnMgKEVkZ2UgYnVnKVxuICAgIGlmIChERVNDUklQVE9SUyQ3ICYmICRhc3NpZ24oeyBiOiAxIH0sICRhc3NpZ24oZGVmaW5lUHJvcGVydHkkMyh7fSwgJ2EnLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5JDModGhpcywgJ2InLCB7XG4gICAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksIHsgYjogMiB9KSkuYiAhPT0gMSkgcmV0dXJuIHRydWU7XG4gICAgLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG4gICAgdmFyIEEgPSB7fTtcbiAgICB2YXIgQiA9IHt9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcy9uby1zeW1ib2wgLS0gc2FmZVxuICAgIHZhciBzeW1ib2wgPSBTeW1ib2woJ2Fzc2lnbiBkZXRlY3Rpb24nKTtcbiAgICB2YXIgYWxwaGFiZXQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3QnO1xuICAgIEFbc3ltYm9sXSA9IDc7XG4gICAgYWxwaGFiZXQuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGNocikgeyBCW2Nocl0gPSBjaHI7IH0pO1xuICAgIHJldHVybiAkYXNzaWduKHt9LCBBKVtzeW1ib2xdICE9PSA3IHx8IG9iamVjdEtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9PSBhbHBoYWJldDtcbiAgfSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gICAgdmFyIFQgPSB0b09iamVjdCQyKHRhcmdldCk7XG4gICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4ID0gMTtcbiAgICB2YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzTW9kdWxlLmY7XG4gICAgdmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gcHJvcGVydHlJc0VudW1lcmFibGVNb2R1bGUuZjtcbiAgICB3aGlsZSAoYXJndW1lbnRzTGVuZ3RoID4gaW5kZXgpIHtcbiAgICAgIHZhciBTID0gSW5kZXhlZE9iamVjdChhcmd1bWVudHNbaW5kZXgrK10pO1xuICAgICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPyBjb25jYXQob2JqZWN0S2V5cyhTKSwgZ2V0T3duUHJvcGVydHlTeW1ib2xzKFMpKSA6IG9iamVjdEtleXMoUyk7XG4gICAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICB2YXIgaiA9IDA7XG4gICAgICB2YXIga2V5O1xuICAgICAgd2hpbGUgKGxlbmd0aCA+IGopIHtcbiAgICAgICAga2V5ID0ga2V5c1tqKytdO1xuICAgICAgICBpZiAoIURFU0NSSVBUT1JTJDcgfHwgY2FsbCQ3KHByb3BlcnR5SXNFbnVtZXJhYmxlLCBTLCBrZXkpKSBUW2tleV0gPSBTW2tleV07XG4gICAgICB9XG4gICAgfSByZXR1cm4gVDtcbiAgfSA6ICRhc3NpZ247XG5cbiAgdmFyICQkcCA9IF9leHBvcnQ7XG4gIHZhciBhc3NpZ24kNSA9IG9iamVjdEFzc2lnbjtcblxuICAvLyBgT2JqZWN0LmFzc2lnbmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmFzc2lnblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWFzc2lnbiAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAkJHAoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBhcml0eTogMiwgZm9yY2VkOiBPYmplY3QuYXNzaWduICE9PSBhc3NpZ24kNSB9LCB7XG4gICAgYXNzaWduOiBhc3NpZ24kNVxuICB9KTtcblxuICB2YXIgcGF0aCRkID0gcGF0aCRvO1xuXG4gIHZhciBhc3NpZ24kNCA9IHBhdGgkZC5PYmplY3QuYXNzaWduO1xuXG4gIHZhciBwYXJlbnQkeSA9IGFzc2lnbiQ0O1xuXG4gIHZhciBhc3NpZ24kMyA9IHBhcmVudCR5O1xuXG4gIHZhciBhc3NpZ24kMiA9IGFzc2lnbiQzO1xuXG4gIHZhciBfT2JqZWN0JGFzc2lnbiA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhhc3NpZ24kMik7XG5cbiAgdmFyICQkbyA9IF9leHBvcnQ7XG4gIHZhciBmYWlscyRhID0gZmFpbHMkdTtcbiAgdmFyIHRvT2JqZWN0JDEgPSB0b09iamVjdCRlO1xuICB2YXIgbmF0aXZlR2V0UHJvdG90eXBlT2YgPSBvYmplY3RHZXRQcm90b3R5cGVPZjtcbiAgdmFyIENPUlJFQ1RfUFJPVE9UWVBFX0dFVFRFUiA9IGNvcnJlY3RQcm90b3R5cGVHZXR0ZXI7XG5cbiAgdmFyIEZBSUxTX09OX1BSSU1JVElWRVMkMSA9IGZhaWxzJGEoZnVuY3Rpb24gKCkgeyBuYXRpdmVHZXRQcm90b3R5cGVPZigxKTsgfSk7XG5cbiAgLy8gYE9iamVjdC5nZXRQcm90b3R5cGVPZmAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmdldHByb3RvdHlwZW9mXG4gICQkbyh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIGZvcmNlZDogRkFJTFNfT05fUFJJTUlUSVZFUyQxLCBzaGFtOiAhQ09SUkVDVF9QUk9UT1RZUEVfR0VUVEVSIH0sIHtcbiAgICBnZXRQcm90b3R5cGVPZjogZnVuY3Rpb24gZ2V0UHJvdG90eXBlT2YoaXQpIHtcbiAgICAgIHJldHVybiBuYXRpdmVHZXRQcm90b3R5cGVPZih0b09iamVjdCQxKGl0KSk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgcGF0aCRjID0gcGF0aCRvO1xuXG4gIHZhciBnZXRQcm90b3R5cGVPZiQ1ID0gcGF0aCRjLk9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxuICB2YXIgcGFyZW50JHggPSBnZXRQcm90b3R5cGVPZiQ1O1xuXG4gIHZhciBnZXRQcm90b3R5cGVPZiQ0ID0gcGFyZW50JHg7XG5cbiAgLy8gVE9ETzogUmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbiAgdmFyICQkbiA9IF9leHBvcnQ7XG4gIHZhciBERVNDUklQVE9SUyQ2ID0gZGVzY3JpcHRvcnM7XG4gIHZhciBjcmVhdGUkOSA9IG9iamVjdENyZWF0ZTtcblxuICAvLyBgT2JqZWN0LmNyZWF0ZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmNyZWF0ZVxuICAkJG4oeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlLCBzaGFtOiAhREVTQ1JJUFRPUlMkNiB9LCB7XG4gICAgY3JlYXRlOiBjcmVhdGUkOVxuICB9KTtcblxuICB2YXIgcGF0aCRiID0gcGF0aCRvO1xuXG4gIHZhciBPYmplY3QkMyA9IHBhdGgkYi5PYmplY3Q7XG5cbiAgdmFyIGNyZWF0ZSQ4ID0gZnVuY3Rpb24gY3JlYXRlKFAsIEQpIHtcbiAgICByZXR1cm4gT2JqZWN0JDMuY3JlYXRlKFAsIEQpO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkdyA9IGNyZWF0ZSQ4O1xuXG4gIHZhciBjcmVhdGUkNyA9IHBhcmVudCR3O1xuXG4gIHZhciBjcmVhdGUkNiA9IGNyZWF0ZSQ3O1xuXG4gIHZhciBfT2JqZWN0JGNyZWF0ZSQxID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGNyZWF0ZSQ2KTtcblxuICB2YXIgcGF0aCRhID0gcGF0aCRvO1xuICB2YXIgYXBwbHkkMyA9IGZ1bmN0aW9uQXBwbHk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLWpzb24gLS0gc2FmZVxuICBpZiAoIXBhdGgkYS5KU09OKSBwYXRoJGEuSlNPTiA9IHsgc3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeSB9O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycyAtLSByZXF1aXJlZCBmb3IgYC5sZW5ndGhgXG4gIHZhciBzdHJpbmdpZnkkMiA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCwgcmVwbGFjZXIsIHNwYWNlKSB7XG4gICAgcmV0dXJuIGFwcGx5JDMocGF0aCRhLkpTT04uc3RyaW5naWZ5LCBudWxsLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkdiA9IHN0cmluZ2lmeSQyO1xuXG4gIHZhciBzdHJpbmdpZnkkMSA9IHBhcmVudCR2O1xuXG4gIHZhciBzdHJpbmdpZnkgPSBzdHJpbmdpZnkkMTtcblxuICB2YXIgX0pTT04kc3RyaW5naWZ5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKHN0cmluZ2lmeSk7XG5cbiAgLyogZ2xvYmFsIEJ1biAtLSBEZW5vIGNhc2UgKi9cbiAgdmFyIGVuZ2luZUlzQnVuID0gdHlwZW9mIEJ1biA9PSAnZnVuY3Rpb24nICYmIEJ1biAmJiB0eXBlb2YgQnVuLnZlcnNpb24gPT0gJ3N0cmluZyc7XG5cbiAgdmFyICRUeXBlRXJyb3IkNCA9IFR5cGVFcnJvcjtcblxuICB2YXIgdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgkMiA9IGZ1bmN0aW9uIChwYXNzZWQsIHJlcXVpcmVkKSB7XG4gICAgaWYgKHBhc3NlZCA8IHJlcXVpcmVkKSB0aHJvdyBuZXcgJFR5cGVFcnJvciQ0KCdOb3QgZW5vdWdoIGFyZ3VtZW50cycpO1xuICAgIHJldHVybiBwYXNzZWQ7XG4gIH07XG5cbiAgdmFyIGdsb2JhbCQ5ID0gZ2xvYmFsJHA7XG4gIHZhciBhcHBseSQyID0gZnVuY3Rpb25BcHBseTtcbiAgdmFyIGlzQ2FsbGFibGUkNSA9IGlzQ2FsbGFibGUkbTtcbiAgdmFyIEVOR0lORV9JU19CVU4gPSBlbmdpbmVJc0J1bjtcbiAgdmFyIFVTRVJfQUdFTlQgPSBlbmdpbmVVc2VyQWdlbnQ7XG4gIHZhciBhcnJheVNsaWNlJDIgPSBhcnJheVNsaWNlJDU7XG4gIHZhciB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aCQxID0gdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgkMjtcblxuICB2YXIgRnVuY3Rpb24kMiA9IGdsb2JhbCQ5LkZ1bmN0aW9uO1xuICAvLyBkaXJ0eSBJRTktIGFuZCBCdW4gMC4zLjAtIGNoZWNrc1xuICB2YXIgV1JBUCA9IC9NU0lFIC5cXC4vLnRlc3QoVVNFUl9BR0VOVCkgfHwgRU5HSU5FX0lTX0JVTiAmJiAoZnVuY3Rpb24gKCkge1xuICAgIHZhciB2ZXJzaW9uID0gZ2xvYmFsJDkuQnVuLnZlcnNpb24uc3BsaXQoJy4nKTtcbiAgICByZXR1cm4gdmVyc2lvbi5sZW5ndGggPCAzIHx8IHZlcnNpb25bMF0gPT09ICcwJyAmJiAodmVyc2lvblsxXSA8IDMgfHwgdmVyc2lvblsxXSA9PT0gJzMnICYmIHZlcnNpb25bMl0gPT09ICcwJyk7XG4gIH0pKCk7XG5cbiAgLy8gSUU5LSAvIEJ1biAwLjMuMC0gc2V0VGltZW91dCAvIHNldEludGVydmFsIC8gc2V0SW1tZWRpYXRlIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBmaXhcbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvdGltZXJzLWFuZC11c2VyLXByb21wdHMuaHRtbCN0aW1lcnNcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL292ZW4tc2gvYnVuL2lzc3Vlcy8xNjMzXG4gIHZhciBzY2hlZHVsZXJzRml4JDIgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBoYXNUaW1lQXJnKSB7XG4gICAgdmFyIGZpcnN0UGFyYW1JbmRleCA9IGhhc1RpbWVBcmcgPyAyIDogMTtcbiAgICByZXR1cm4gV1JBUCA/IGZ1bmN0aW9uIChoYW5kbGVyLCB0aW1lb3V0IC8qICwgLi4uYXJndW1lbnRzICovKSB7XG4gICAgICB2YXIgYm91bmRBcmdzID0gdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgkMShhcmd1bWVudHMubGVuZ3RoLCAxKSA+IGZpcnN0UGFyYW1JbmRleDtcbiAgICAgIHZhciBmbiA9IGlzQ2FsbGFibGUkNShoYW5kbGVyKSA/IGhhbmRsZXIgOiBGdW5jdGlvbiQyKGhhbmRsZXIpO1xuICAgICAgdmFyIHBhcmFtcyA9IGJvdW5kQXJncyA/IGFycmF5U2xpY2UkMihhcmd1bWVudHMsIGZpcnN0UGFyYW1JbmRleCkgOiBbXTtcbiAgICAgIHZhciBjYWxsYmFjayA9IGJvdW5kQXJncyA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXBwbHkkMihmbiwgdGhpcywgcGFyYW1zKTtcbiAgICAgIH0gOiBmbjtcbiAgICAgIHJldHVybiBoYXNUaW1lQXJnID8gc2NoZWR1bGVyKGNhbGxiYWNrLCB0aW1lb3V0KSA6IHNjaGVkdWxlcihjYWxsYmFjayk7XG4gICAgfSA6IHNjaGVkdWxlcjtcbiAgfTtcblxuICB2YXIgJCRtID0gX2V4cG9ydDtcbiAgdmFyIGdsb2JhbCQ4ID0gZ2xvYmFsJHA7XG4gIHZhciBzY2hlZHVsZXJzRml4JDEgPSBzY2hlZHVsZXJzRml4JDI7XG5cbiAgdmFyIHNldEludGVydmFsID0gc2NoZWR1bGVyc0ZpeCQxKGdsb2JhbCQ4LnNldEludGVydmFsLCB0cnVlKTtcblxuICAvLyBCdW4gLyBJRTktIHNldEludGVydmFsIGFkZGl0aW9uYWwgcGFyYW1ldGVycyBmaXhcbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvdGltZXJzLWFuZC11c2VyLXByb21wdHMuaHRtbCNkb20tc2V0aW50ZXJ2YWxcbiAgJCRtKHsgZ2xvYmFsOiB0cnVlLCBiaW5kOiB0cnVlLCBmb3JjZWQ6IGdsb2JhbCQ4LnNldEludGVydmFsICE9PSBzZXRJbnRlcnZhbCB9LCB7XG4gICAgc2V0SW50ZXJ2YWw6IHNldEludGVydmFsXG4gIH0pO1xuXG4gIHZhciAkJGwgPSBfZXhwb3J0O1xuICB2YXIgZ2xvYmFsJDcgPSBnbG9iYWwkcDtcbiAgdmFyIHNjaGVkdWxlcnNGaXggPSBzY2hlZHVsZXJzRml4JDI7XG5cbiAgdmFyIHNldFRpbWVvdXQkMyA9IHNjaGVkdWxlcnNGaXgoZ2xvYmFsJDcuc2V0VGltZW91dCwgdHJ1ZSk7XG5cbiAgLy8gQnVuIC8gSUU5LSBzZXRUaW1lb3V0IGFkZGl0aW9uYWwgcGFyYW1ldGVycyBmaXhcbiAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvdGltZXJzLWFuZC11c2VyLXByb21wdHMuaHRtbCNkb20tc2V0dGltZW91dFxuICAkJGwoeyBnbG9iYWw6IHRydWUsIGJpbmQ6IHRydWUsIGZvcmNlZDogZ2xvYmFsJDcuc2V0VGltZW91dCAhPT0gc2V0VGltZW91dCQzIH0sIHtcbiAgICBzZXRUaW1lb3V0OiBzZXRUaW1lb3V0JDNcbiAgfSk7XG5cbiAgdmFyIHBhdGgkOSA9IHBhdGgkbztcblxuICB2YXIgc2V0VGltZW91dCQyID0gcGF0aCQ5LnNldFRpbWVvdXQ7XG5cbiAgdmFyIHNldFRpbWVvdXQkMSA9IHNldFRpbWVvdXQkMjtcblxuICB2YXIgX3NldFRpbWVvdXQgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoc2V0VGltZW91dCQxKTtcblxuICB2YXIgY29tcG9uZW50RW1pdHRlciA9IHtleHBvcnRzOiB7fX07XG5cbiAgKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgXHRmdW5jdGlvbiBFbWl0dGVyKG9iamVjdCkge1xuICBcdFx0aWYgKG9iamVjdCkge1xuICBcdFx0XHRyZXR1cm4gbWl4aW4ob2JqZWN0KTtcbiAgXHRcdH1cblxuICBcdFx0dGhpcy5fY2FsbGJhY2tzID0gbmV3IE1hcCgpO1xuICBcdH1cblxuICBcdGZ1bmN0aW9uIG1peGluKG9iamVjdCkge1xuICBcdFx0T2JqZWN0LmFzc2lnbihvYmplY3QsIEVtaXR0ZXIucHJvdG90eXBlKTtcbiAgXHRcdG9iamVjdC5fY2FsbGJhY2tzID0gbmV3IE1hcCgpO1xuICBcdFx0cmV0dXJuIG9iamVjdDtcbiAgXHR9XG5cbiAgXHRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldmVudCwgbGlzdGVuZXIpIHtcbiAgXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcy5nZXQoZXZlbnQpID8/IFtdO1xuICBcdFx0Y2FsbGJhY2tzLnB1c2gobGlzdGVuZXIpO1xuICBcdFx0dGhpcy5fY2FsbGJhY2tzLnNldChldmVudCwgY2FsbGJhY2tzKTtcbiAgXHRcdHJldHVybiB0aGlzO1xuICBcdH07XG5cbiAgXHRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xuICBcdFx0Y29uc3Qgb24gPSAoLi4uYXJndW1lbnRzXykgPT4ge1xuICBcdFx0XHR0aGlzLm9mZihldmVudCwgb24pO1xuICBcdFx0XHRsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHNfKTtcbiAgXHRcdH07XG5cbiAgXHRcdG9uLmZuID0gbGlzdGVuZXI7XG4gIFx0XHR0aGlzLm9uKGV2ZW50LCBvbik7XG4gIFx0XHRyZXR1cm4gdGhpcztcbiAgXHR9O1xuXG4gIFx0RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xuICBcdFx0aWYgKGV2ZW50ID09PSB1bmRlZmluZWQgJiYgbGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICBcdFx0XHR0aGlzLl9jYWxsYmFja3MuY2xlYXIoKTtcbiAgXHRcdFx0cmV0dXJuIHRoaXM7XG4gIFx0XHR9XG5cbiAgXHRcdGlmIChsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gIFx0XHRcdHRoaXMuX2NhbGxiYWNrcy5kZWxldGUoZXZlbnQpO1xuICBcdFx0XHRyZXR1cm4gdGhpcztcbiAgXHRcdH1cblxuICBcdFx0Y29uc3QgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzLmdldChldmVudCk7XG4gIFx0XHRpZiAoY2FsbGJhY2tzKSB7XG4gIFx0XHRcdGZvciAoY29uc3QgW2luZGV4LCBjYWxsYmFja10gb2YgY2FsbGJhY2tzLmVudHJpZXMoKSkge1xuICBcdFx0XHRcdGlmIChjYWxsYmFjayA9PT0gbGlzdGVuZXIgfHwgY2FsbGJhY2suZm4gPT09IGxpc3RlbmVyKSB7XG4gIFx0XHRcdFx0XHRjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgXHRcdFx0XHRcdGJyZWFrO1xuICBcdFx0XHRcdH1cbiAgXHRcdFx0fVxuXG4gIFx0XHRcdGlmIChjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XG4gIFx0XHRcdFx0dGhpcy5fY2FsbGJhY2tzLmRlbGV0ZShldmVudCk7XG4gIFx0XHRcdH0gZWxzZSB7XG4gIFx0XHRcdFx0dGhpcy5fY2FsbGJhY2tzLnNldChldmVudCwgY2FsbGJhY2tzKTtcbiAgXHRcdFx0fVxuICBcdFx0fVxuXG4gIFx0XHRyZXR1cm4gdGhpcztcbiAgXHR9O1xuXG4gIFx0RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCwgLi4uYXJndW1lbnRzXykge1xuICBcdFx0Y29uc3QgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzLmdldChldmVudCk7XG4gIFx0XHRpZiAoY2FsbGJhY2tzKSB7XG4gIFx0XHRcdC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhlIGNhbGxiYWNrcyBhcnJheSB0byBhdm9pZCBpc3N1ZXMgaWYgaXQncyBtb2RpZmllZCBkdXJpbmcgaXRlcmF0aW9uXG4gIFx0XHRcdGNvbnN0IGNhbGxiYWNrc0NvcHkgPSBbLi4uY2FsbGJhY2tzXTtcblxuICBcdFx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrc0NvcHkpIHtcbiAgXHRcdFx0XHRjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHNfKTtcbiAgXHRcdFx0fVxuICBcdFx0fVxuXG4gIFx0XHRyZXR1cm4gdGhpcztcbiAgXHR9O1xuXG4gIFx0RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIFx0XHRyZXR1cm4gdGhpcy5fY2FsbGJhY2tzLmdldChldmVudCkgPz8gW107XG4gIFx0fTtcblxuICBcdEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgXHRcdGlmIChldmVudCkge1xuICBcdFx0XHRyZXR1cm4gdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcbiAgXHRcdH1cblxuICBcdFx0bGV0IHRvdGFsQ291bnQgPSAwO1xuICBcdFx0Zm9yIChjb25zdCBjYWxsYmFja3Mgb2YgdGhpcy5fY2FsbGJhY2tzLnZhbHVlcygpKSB7XG4gIFx0XHRcdHRvdGFsQ291bnQgKz0gY2FsbGJhY2tzLmxlbmd0aDtcbiAgXHRcdH1cblxuICBcdFx0cmV0dXJuIHRvdGFsQ291bnQ7XG4gIFx0fTtcblxuICBcdEVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCkge1xuICBcdFx0cmV0dXJuIHRoaXMubGlzdGVuZXJDb3VudChldmVudCkgPiAwO1xuICBcdH07XG5cbiAgXHQvLyBBbGlhc2VzXG4gIFx0RW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuICBcdEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gRW1pdHRlci5wcm90b3R5cGUub2ZmO1xuICBcdEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBFbWl0dGVyLnByb3RvdHlwZS5vZmY7XG4gIFx0RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gRW1pdHRlci5wcm90b3R5cGUub2ZmO1xuXG4gIFx0e1xuICBcdFx0bW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xuICBcdH0gXG4gIH0gKGNvbXBvbmVudEVtaXR0ZXIpKTtcblxuICB2YXIgY29tcG9uZW50RW1pdHRlckV4cG9ydHMgPSBjb21wb25lbnRFbWl0dGVyLmV4cG9ydHM7XG4gIHZhciBFbWl0dGVyID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGNvbXBvbmVudEVtaXR0ZXJFeHBvcnRzKTtcblxuICAvKiEgSGFtbWVyLkpTIC0gdjIuMC4xNy1yYyAtIDIwMTktMTItMTZcbiAgICogaHR0cDovL25hdmVyLmdpdGh1Yi5pby9lZ2pzXG4gICAqXG4gICAqIEZvcmtlZCBCeSBOYXZlciBlZ2pzXG4gICAqIENvcHlyaWdodCAoYykgaGFtbWVyanNcbiAgICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlICovXG4gIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICAgIHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH1cblxuICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkJDEoc2VsZikge1xuICAgIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBleHRlbmQgb2JqZWN0LlxuICAgKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgaW4gZGVzdCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IHRoZSBvbmVzIGluIHNyYy5cbiAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICAgKiBAcGFyYW0gey4uLk9iamVjdH0gb2JqZWN0c190b19hc3NpZ25cbiAgICogQHJldHVybnMge09iamVjdH0gdGFyZ2V0XG4gICAqL1xuICB2YXIgYXNzaWduO1xuXG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgIGlmICh0YXJnZXQgPT09IHVuZGVmaW5lZCB8fCB0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0Jyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgIG91dHB1dFtuZXh0S2V5XSA9IHNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4gIH1cblxuICB2YXIgYXNzaWduJDEgPSBhc3NpZ247XG5cbiAgdmFyIFZFTkRPUl9QUkVGSVhFUyA9IFsnJywgJ3dlYmtpdCcsICdNb3onLCAnTVMnLCAnbXMnLCAnbyddO1xuICB2YXIgVEVTVF9FTEVNRU5UID0gdHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiID8ge1xuICAgIHN0eWxlOiB7fVxuICB9IDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHZhciBUWVBFX0ZVTkNUSU9OID0gJ2Z1bmN0aW9uJztcbiAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZCxcbiAgICAgIGFicyA9IE1hdGguYWJzO1xuICB2YXIgbm93ID0gRGF0ZS5ub3c7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCB0aGUgcHJlZml4ZWQgcHJvcGVydHlcbiAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHlcbiAgICogQHJldHVybnMge1N0cmluZ3xVbmRlZmluZWR9IHByZWZpeGVkXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHByZWZpeGVkKG9iaiwgcHJvcGVydHkpIHtcbiAgICB2YXIgcHJlZml4O1xuICAgIHZhciBwcm9wO1xuICAgIHZhciBjYW1lbFByb3AgPSBwcm9wZXJ0eVswXS50b1VwcGVyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSk7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBWRU5ET1JfUFJFRklYRVMubGVuZ3RoKSB7XG4gICAgICBwcmVmaXggPSBWRU5ET1JfUFJFRklYRVNbaV07XG4gICAgICBwcm9wID0gcHJlZml4ID8gcHJlZml4ICsgY2FtZWxQcm9wIDogcHJvcGVydHk7XG5cbiAgICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgIH1cblxuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYywgbm8tbmVzdGVkLXRlcm5hcnkgKi9cbiAgdmFyIHdpbjtcblxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIHdpbmRvdyBpcyB1bmRlZmluZWQgaW4gbm9kZS5qc1xuICAgIHdpbiA9IHt9O1xuICB9IGVsc2Uge1xuICAgIHdpbiA9IHdpbmRvdztcbiAgfVxuXG4gIHZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xuICB2YXIgTkFUSVZFX1RPVUNIX0FDVElPTiA9IFBSRUZJWEVEX1RPVUNIX0FDVElPTiAhPT0gdW5kZWZpbmVkO1xuICBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvblByb3BzKCkge1xuICAgIGlmICghTkFUSVZFX1RPVUNIX0FDVElPTikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB0b3VjaE1hcCA9IHt9O1xuICAgIHZhciBjc3NTdXBwb3J0cyA9IHdpbi5DU1MgJiYgd2luLkNTUy5zdXBwb3J0cztcbiAgICBbJ2F1dG8nLCAnbWFuaXB1bGF0aW9uJywgJ3Bhbi15JywgJ3Bhbi14JywgJ3Bhbi14IHBhbi15JywgJ25vbmUnXS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIC8vIElmIGNzcy5zdXBwb3J0cyBpcyBub3Qgc3VwcG9ydGVkIGJ1dCB0aGVyZSBpcyBuYXRpdmUgdG91Y2gtYWN0aW9uIGFzc3VtZSBpdCBzdXBwb3J0c1xuICAgICAgLy8gYWxsIHZhbHVlcy4gVGhpcyBpcyB0aGUgY2FzZSBmb3IgSUUgMTAgYW5kIDExLlxuICAgICAgcmV0dXJuIHRvdWNoTWFwW3ZhbF0gPSBjc3NTdXBwb3J0cyA/IHdpbi5DU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsIHZhbCkgOiB0cnVlO1xuICAgIH0pO1xuICAgIHJldHVybiB0b3VjaE1hcDtcbiAgfVxuXG4gIHZhciBUT1VDSF9BQ1RJT05fQ09NUFVURSA9ICdjb21wdXRlJztcbiAgdmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xuICB2YXIgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTiA9ICdtYW5pcHVsYXRpb24nOyAvLyBub3QgaW1wbGVtZW50ZWRcblxuICB2YXIgVE9VQ0hfQUNUSU9OX05PTkUgPSAnbm9uZSc7XG4gIHZhciBUT1VDSF9BQ1RJT05fUEFOX1ggPSAncGFuLXgnO1xuICB2YXIgVE9VQ0hfQUNUSU9OX1BBTl9ZID0gJ3Bhbi15JztcbiAgdmFyIFRPVUNIX0FDVElPTl9NQVAgPSBnZXRUb3VjaEFjdGlvblByb3BzKCk7XG5cbiAgdmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTtcbiAgdmFyIFNVUFBPUlRfVE9VQ0ggPSAnb250b3VjaHN0YXJ0JyBpbiB3aW47XG4gIHZhciBTVVBQT1JUX1BPSU5URVJfRVZFTlRTID0gcHJlZml4ZWQod2luLCAnUG9pbnRlckV2ZW50JykgIT09IHVuZGVmaW5lZDtcbiAgdmFyIFNVUFBPUlRfT05MWV9UT1VDSCA9IFNVUFBPUlRfVE9VQ0ggJiYgTU9CSUxFX1JFR0VYLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIHZhciBJTlBVVF9UWVBFX1RPVUNIID0gJ3RvdWNoJztcbiAgdmFyIElOUFVUX1RZUEVfUEVOID0gJ3Blbic7XG4gIHZhciBJTlBVVF9UWVBFX01PVVNFID0gJ21vdXNlJztcbiAgdmFyIElOUFVUX1RZUEVfS0lORUNUID0gJ2tpbmVjdCc7XG4gIHZhciBDT01QVVRFX0lOVEVSVkFMID0gMjU7XG4gIHZhciBJTlBVVF9TVEFSVCA9IDE7XG4gIHZhciBJTlBVVF9NT1ZFID0gMjtcbiAgdmFyIElOUFVUX0VORCA9IDQ7XG4gIHZhciBJTlBVVF9DQU5DRUwgPSA4O1xuICB2YXIgRElSRUNUSU9OX05PTkUgPSAxO1xuICB2YXIgRElSRUNUSU9OX0xFRlQgPSAyO1xuICB2YXIgRElSRUNUSU9OX1JJR0hUID0gNDtcbiAgdmFyIERJUkVDVElPTl9VUCA9IDg7XG4gIHZhciBESVJFQ1RJT05fRE9XTiA9IDE2O1xuICB2YXIgRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fTEVGVCB8IERJUkVDVElPTl9SSUdIVDtcbiAgdmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xuICB2YXIgRElSRUNUSU9OX0FMTCA9IERJUkVDVElPTl9IT1JJWk9OVEFMIHwgRElSRUNUSU9OX1ZFUlRJQ0FMO1xuICB2YXIgUFJPUFNfWFkgPSBbJ3gnLCAneSddO1xuICB2YXIgUFJPUFNfQ0xJRU5UX1hZID0gWydjbGllbnRYJywgJ2NsaWVudFknXTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogd2FsayBvYmplY3RzIGFuZCBhcnJheXNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRvclxuICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxuICAgKi9cbiAgZnVuY3Rpb24gZWFjaChvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGk7XG5cbiAgICBpZiAoIW9iaikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvYmouZm9yRWFjaCkge1xuICAgICAgb2JqLmZvckVhY2goaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpID0gMDtcblxuICAgICAgd2hpbGUgKGkgPCBvYmoubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgb2JqLmhhc093blByb3BlcnR5KGkpICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBsZXQgYSBib29sZWFuIHZhbHVlIGFsc28gYmUgYSBmdW5jdGlvbiB0aGF0IG11c3QgcmV0dXJuIGEgYm9vbGVhblxuICAgKiB0aGlzIGZpcnN0IGl0ZW0gaW4gYXJncyB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRleHRcbiAgICogQHBhcmFtIHtCb29sZWFufEZ1bmN0aW9ufSB2YWxcbiAgICogQHBhcmFtIHtBcnJheX0gW2FyZ3NdXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cblxuICBmdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gVFlQRV9GVU5DVElPTikge1xuICAgICAgcmV0dXJuIHZhbC5hcHBseShhcmdzID8gYXJnc1swXSB8fCB1bmRlZmluZWQgOiB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAgICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBpblN0cihzdHIsIGZpbmQpIHtcbiAgICByZXR1cm4gc3RyLmluZGV4T2YoZmluZCkgPiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiB3aGVuIHRoZSB0b3VjaEFjdGlvbnMgYXJlIGNvbGxlY3RlZCB0aGV5IGFyZSBub3QgYSB2YWxpZCB2YWx1ZSwgc28gd2UgbmVlZCB0byBjbGVhbiB0aGluZ3MgdXAuICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGFjdGlvbnNcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHtcbiAgICAvLyBub25lXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuICAgICAgcmV0dXJuIFRPVUNIX0FDVElPTl9OT05FO1xuICAgIH1cblxuICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKTtcbiAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSk7IC8vIGlmIGJvdGggcGFuLXggYW5kIHBhbi15IGFyZSBzZXQgKGRpZmZlcmVudCByZWNvZ25pemVyc1xuICAgIC8vIGZvciBkaWZmZXJlbnQgZGlyZWN0aW9ucywgZS5nLiBob3Jpem9udGFsIHBhbiBidXQgdmVydGljYWwgc3dpcGU/KVxuICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgd29yaywgc2luY2UgdGhlIGJyb3dzZXIgd291bGQgaGFuZGxlIGFsbCBwYW5uaW5nXG5cbiAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfSAvLyBwYW4teCBPUiBwYW4teVxuXG5cbiAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7XG4gICAgICByZXR1cm4gaGFzUGFuWCA/IFRPVUNIX0FDVElPTl9QQU5fWCA6IFRPVUNIX0FDVElPTl9QQU5fWTtcbiAgICB9IC8vIG1hbmlwdWxhdGlvblxuXG5cbiAgICBpZiAoaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTikpIHtcbiAgICAgIHJldHVybiBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OO1xuICAgIH1cblxuICAgIHJldHVybiBUT1VDSF9BQ1RJT05fQVVUTztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBUb3VjaCBBY3Rpb25cbiAgICogc2V0cyB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgb3IgdXNlcyB0aGUganMgYWx0ZXJuYXRpdmVcbiAgICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG5cbiAgdmFyIFRvdWNoQWN0aW9uID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG91Y2hBY3Rpb24obWFuYWdlciwgdmFsdWUpIHtcbiAgICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgICB0aGlzLnNldCh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG5cblxuICAgIHZhciBfcHJvdG8gPSBUb3VjaEFjdGlvbi5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2V0ID0gZnVuY3Rpb24gc2V0KHZhbHVlKSB7XG4gICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgaWYgKHZhbHVlID09PSBUT1VDSF9BQ1RJT05fQ09NUFVURSkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuY29tcHV0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuICAgICAgICB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtQUkVGSVhFRF9UT1VDSF9BQ1RJT05dID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogY29tcHV0ZSB0aGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcmVjb2duaXplcidzIHNldHRpbmdzXG4gICAgICogQHJldHVybnMge1N0cmluZ30gdmFsdWVcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmNvbXB1dGUgPSBmdW5jdGlvbiBjb21wdXRlKCkge1xuICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcbiAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbiAocmVjb2duaXplcikge1xuICAgICAgICBpZiAoYm9vbE9yRm4ocmVjb2duaXplci5vcHRpb25zLmVuYWJsZSwgW3JlY29nbml6ZXJdKSkge1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjbGVhblRvdWNoQWN0aW9ucyhhY3Rpb25zLmpvaW4oJyAnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbiBlYWNoIGlucHV0IGN5Y2xlIGFuZCBwcm92aWRlcyB0aGUgcHJldmVudGluZyBvZiB0aGUgYnJvd3NlciBiZWhhdmlvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ucHJldmVudERlZmF1bHRzID0gZnVuY3Rpb24gcHJldmVudERlZmF1bHRzKGlucHV0KSB7XG4gICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5vZmZzZXREaXJlY3Rpb247IC8vIGlmIHRoZSB0b3VjaCBhY3Rpb24gZGlkIHByZXZlbnRlZCBvbmNlIHRoaXMgc2Vzc2lvblxuXG4gICAgICBpZiAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKSB7XG4gICAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGFjdGlvbnMgPSB0aGlzLmFjdGlvbnM7XG4gICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgICB2YXIgaGFzUGFuWSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWSkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9ZXTtcbiAgICAgIHZhciBoYXNQYW5YID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9YKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1hdO1xuXG4gICAgICBpZiAoaGFzTm9uZSkge1xuICAgICAgICAvLyBkbyBub3QgcHJldmVudCBkZWZhdWx0cyBpZiB0aGlzIGlzIGEgdGFwIGdlc3R1cmVcbiAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgdmFyIGlzVGFwTW92ZW1lbnQgPSBpbnB1dC5kaXN0YW5jZSA8IDI7XG4gICAgICAgIHZhciBpc1RhcFRvdWNoVGltZSA9IGlucHV0LmRlbHRhVGltZSA8IDI1MDtcblxuICAgICAgICBpZiAoaXNUYXBQb2ludGVyICYmIGlzVGFwTW92ZW1lbnQgJiYgaXNUYXBUb3VjaFRpbWUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICAvLyBgcGFuLXggcGFuLXlgIG1lYW5zIGJyb3dzZXIgaGFuZGxlcyBhbGwgc2Nyb2xsaW5nL3Bhbm5pbmcsIGRvIG5vdCBwcmV2ZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc05vbmUgfHwgaGFzUGFuWSAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8fCBoYXNQYW5YICYmIGRpcmVjdGlvbiAmIERJUkVDVElPTl9WRVJUSUNBTCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogY2FsbCBwcmV2ZW50RGVmYXVsdCB0byBwcmV2ZW50IHRoZSBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvciAoc2Nyb2xsaW5nIGluIG1vc3QgY2FzZXMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNyY0V2ZW50XG4gICAgICovXG5cblxuICAgIF9wcm90by5wcmV2ZW50U3JjID0gZnVuY3Rpb24gcHJldmVudFNyYyhzcmNFdmVudCkge1xuICAgICAgdGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkID0gdHJ1ZTtcbiAgICAgIHNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUb3VjaEFjdGlvbjtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBmaW5kIGlmIGEgbm9kZSBpcyBpbiB0aGUgZ2l2ZW4gcGFyZW50XG4gICAqIEBtZXRob2QgaGFzUGFyZW50XG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGVcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGZvdW5kXG4gICAqL1xuICBmdW5jdGlvbiBoYXNQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChub2RlID09PSBwYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCB0aGUgY2VudGVyIG9mIGFsbCB0aGUgcG9pbnRlcnNcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRlcnNcbiAgICogQHJldHVybiB7T2JqZWN0fSBjZW50ZXIgY29udGFpbnMgYHhgIGFuZCBgeWAgcHJvcGVydGllc1xuICAgKi9cblxuICBmdW5jdGlvbiBnZXRDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7IC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG5cbiAgICBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFgpLFxuICAgICAgICB5OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRZKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgcG9pbnRlcnNMZW5ndGgpIHtcbiAgICAgIHggKz0gcG9pbnRlcnNbaV0uY2xpZW50WDtcbiAgICAgIHkgKz0gcG9pbnRlcnNbaV0uY2xpZW50WTtcbiAgICAgIGkrKztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogcm91bmQoeCAvIHBvaW50ZXJzTGVuZ3RoKSxcbiAgICAgIHk6IHJvdW5kKHkgLyBwb2ludGVyc0xlbmd0aClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGNyZWF0ZSBhIHNpbXBsZSBjbG9uZSBmcm9tIHRoZSBpbnB1dCB1c2VkIGZvciBzdG9yYWdlIG9mIGZpcnN0SW5wdXQgYW5kIGZpcnN0TXVsdGlwbGVcbiAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuICAgKi9cblxuICBmdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuICAgIC8vIG1ha2UgYSBzaW1wbGUgY29weSBvZiB0aGUgcG9pbnRlcnMgYmVjYXVzZSB3ZSB3aWxsIGdldCBhIHJlZmVyZW5jZSBpZiB3ZSBkb24ndFxuICAgIC8vIHdlIG9ubHkgbmVlZCBjbGllbnRYWSBmb3IgdGhlIGNhbGN1bGF0aW9uc1xuICAgIHZhciBwb2ludGVycyA9IFtdO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgaW5wdXQucG9pbnRlcnMubGVuZ3RoKSB7XG4gICAgICBwb2ludGVyc1tpXSA9IHtcbiAgICAgICAgY2xpZW50WDogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WCksXG4gICAgICAgIGNsaWVudFk6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFkpXG4gICAgICB9O1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0aW1lU3RhbXA6IG5vdygpLFxuICAgICAgcG9pbnRlcnM6IHBvaW50ZXJzLFxuICAgICAgY2VudGVyOiBnZXRDZW50ZXIocG9pbnRlcnMpLFxuICAgICAgZGVsdGFYOiBpbnB1dC5kZWx0YVgsXG4gICAgICBkZWx0YVk6IGlucHV0LmRlbHRhWVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY2FsY3VsYXRlIHRoZSBhYnNvbHV0ZSBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAgICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuICAgKiBAcGFyYW0ge09iamVjdH0gcDIge3gsIHl9XG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wc10gY29udGFpbmluZyB4IGFuZCB5IGtleXNcbiAgICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICAgKi9cblxuICBmdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgcHJvcHMgPSBQUk9QU19YWTtcbiAgICB9XG5cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXTtcbiAgICB2YXIgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IHAxXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwMlxuICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gICAqIEByZXR1cm4ge051bWJlcn0gYW5nbGVcbiAgICovXG5cbiAgZnVuY3Rpb24gZ2V0QW5nbGUocDEsIHAyLCBwcm9wcykge1xuICAgIGlmICghcHJvcHMpIHtcbiAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuXG4gICAgdmFyIHggPSBwMltwcm9wc1swXV0gLSBwMVtwcm9wc1swXV07XG4gICAgdmFyIHkgPSBwMltwcm9wc1sxXV0gLSBwMVtwcm9wc1sxXV07XG4gICAgcmV0dXJuIE1hdGguYXRhbjIoeSwgeCkgKiAxODAgLyBNYXRoLlBJO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCB0aGUgZGlyZWN0aW9uIGJldHdlZW4gdHdvIHBvaW50c1xuICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGRpcmVjdGlvblxuICAgKi9cblxuICBmdW5jdGlvbiBnZXREaXJlY3Rpb24oeCwgeSkge1xuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICByZXR1cm4gRElSRUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgaWYgKGFicyh4KSA+PSBhYnMoeSkpIHtcbiAgICAgIHJldHVybiB4IDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cblxuICAgIHJldHVybiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyOyAvLyBsZXQgeyBvZmZzZXREZWx0YTpvZmZzZXQgPSB7fSwgcHJldkRlbHRhID0ge30sIHByZXZJbnB1dCA9IHt9IH0gPSBzZXNzaW9uO1xuICAgIC8vIGpzY3MgdGhyb3dpbmcgZXJyb3Igb24gZGVmYWx1dCBkZXN0cnVjdHVyZWQgdmFsdWVzIGFuZCB3aXRob3V0IGRlZmF1bHRzIHRlc3RzIGZhaWxcblxuICAgIHZhciBvZmZzZXQgPSBzZXNzaW9uLm9mZnNldERlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSB8fCB7fTtcbiAgICB2YXIgcHJldklucHV0ID0gc2Vzc2lvbi5wcmV2SW5wdXQgfHwge307XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9TVEFSVCB8fCBwcmV2SW5wdXQuZXZlbnRUeXBlID09PSBJTlBVVF9FTkQpIHtcbiAgICAgIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhID0ge1xuICAgICAgICB4OiBwcmV2SW5wdXQuZGVsdGFYIHx8IDAsXG4gICAgICAgIHk6IHByZXZJbnB1dC5kZWx0YVkgfHwgMFxuICAgICAgfTtcbiAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7XG4gICAgICAgIHg6IGNlbnRlci54LFxuICAgICAgICB5OiBjZW50ZXIueVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpbnB1dC5kZWx0YVggPSBwcmV2RGVsdGEueCArIChjZW50ZXIueCAtIG9mZnNldC54KTtcbiAgICBpbnB1dC5kZWx0YVkgPSBwcmV2RGVsdGEueSArIChjZW50ZXIueSAtIG9mZnNldC55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBjYWxjdWxhdGUgdGhlIHZlbG9jaXR5IGJldHdlZW4gdHdvIHBvaW50cy4gdW5pdCBpcyBpbiBweCBwZXIgbXMuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVRpbWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICogQHJldHVybiB7T2JqZWN0fSB2ZWxvY2l0eSBgeGAgYW5kIGB5YFxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0VmVsb2NpdHkoZGVsdGFUaW1lLCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHggLyBkZWx0YVRpbWUgfHwgMCxcbiAgICAgIHk6IHkgLyBkZWx0YVRpbWUgfHwgMFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3IgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAgICogbm8gc2NhbGUgaXMgMSwgYW5kIGdvZXMgZG93biB0byAwIHdoZW4gcGluY2hlZCB0b2dldGhlciwgYW5kIGJpZ2dlciB3aGVuIHBpbmNoZWQgb3V0XG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0RGlzdGFuY2UoZW5kWzBdLCBlbmRbMV0sIFBST1BTX0NMSUVOVF9YWSkgLyBnZXREaXN0YW5jZShzdGFydFswXSwgc3RhcnRbMV0sIFBST1BTX0NMSUVOVF9YWSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY2FsY3VsYXRlIHRoZSByb3RhdGlvbiBkZWdyZWVzIGJldHdlZW4gdHdvIHBvaW50ZXJzZXRzXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGVuZCBhcnJheSBvZiBwb2ludGVyc1xuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHJvdGF0aW9uXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGdldFJvdGF0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0QW5nbGUoZW5kWzFdLCBlbmRbMF0sIFBST1BTX0NMSUVOVF9YWSkgKyBnZXRBbmdsZShzdGFydFsxXSwgc3RhcnRbMF0sIFBST1BTX0NMSUVOVF9YWSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXNzaW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFxuICAgKi9cblxuICBmdW5jdGlvbiBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpIHtcbiAgICB2YXIgbGFzdCA9IHNlc3Npb24ubGFzdEludGVydmFsIHx8IGlucHV0O1xuICAgIHZhciBkZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBsYXN0LnRpbWVTdGFtcDtcbiAgICB2YXIgdmVsb2NpdHk7XG4gICAgdmFyIHZlbG9jaXR5WDtcbiAgICB2YXIgdmVsb2NpdHlZO1xuICAgIHZhciBkaXJlY3Rpb247XG5cbiAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9PSBJTlBVVF9DQU5DRUwgJiYgKGRlbHRhVGltZSA+IENPTVBVVEVfSU5URVJWQUwgfHwgbGFzdC52ZWxvY2l0eSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgdmFyIGRlbHRhWCA9IGlucHV0LmRlbHRhWCAtIGxhc3QuZGVsdGFYO1xuICAgICAgdmFyIGRlbHRhWSA9IGlucHV0LmRlbHRhWSAtIGxhc3QuZGVsdGFZO1xuICAgICAgdmFyIHYgPSBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgIHZlbG9jaXR5WCA9IHYueDtcbiAgICAgIHZlbG9jaXR5WSA9IHYueTtcbiAgICAgIHZlbG9jaXR5ID0gYWJzKHYueCkgPiBhYnModi55KSA/IHYueCA6IHYueTtcbiAgICAgIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihkZWx0YVgsIGRlbHRhWSk7XG4gICAgICBzZXNzaW9uLmxhc3RJbnRlcnZhbCA9IGlucHV0O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2UgbGF0ZXN0IHZlbG9jaXR5IGluZm8gaWYgaXQgZG9lc24ndCBvdmVydGFrZSBhIG1pbmltdW0gcGVyaW9kXG4gICAgICB2ZWxvY2l0eSA9IGxhc3QudmVsb2NpdHk7XG4gICAgICB2ZWxvY2l0eVggPSBsYXN0LnZlbG9jaXR5WDtcbiAgICAgIHZlbG9jaXR5WSA9IGxhc3QudmVsb2NpdHlZO1xuICAgICAgZGlyZWN0aW9uID0gbGFzdC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICBpbnB1dC52ZWxvY2l0eVggPSB2ZWxvY2l0eVg7XG4gICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAqIEBwcml2YXRlXG4gICAqIGV4dGVuZCB0aGUgZGF0YSB3aXRoIHNvbWUgdXNhYmxlIHByb3BlcnRpZXMgbGlrZSBzY2FsZSwgcm90YXRlLCB2ZWxvY2l0eSBldGNcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hbmFnZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGNvbXB1dGVJbnB1dERhdGEobWFuYWdlciwgaW5wdXQpIHtcbiAgICB2YXIgc2Vzc2lvbiA9IG1hbmFnZXIuc2Vzc2lvbjtcbiAgICB2YXIgcG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycztcbiAgICB2YXIgcG9pbnRlcnNMZW5ndGggPSBwb2ludGVycy5sZW5ndGg7IC8vIHN0b3JlIHRoZSBmaXJzdCBpbnB1dCB0byBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGFuZCBkaXJlY3Rpb25cblxuICAgIGlmICghc2Vzc2lvbi5maXJzdElucHV0KSB7XG4gICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfSAvLyB0byBjb21wdXRlIHNjYWxlIGFuZCByb3RhdGlvbiB3ZSBuZWVkIHRvIHN0b3JlIHRoZSBtdWx0aXBsZSB0b3VjaGVzXG5cblxuICAgIGlmIChwb2ludGVyc0xlbmd0aCA+IDEgJiYgIXNlc3Npb24uZmlyc3RNdWx0aXBsZSkge1xuICAgICAgc2Vzc2lvbi5maXJzdE11bHRpcGxlID0gc2ltcGxlQ2xvbmVJbnB1dERhdGEoaW5wdXQpO1xuICAgIH0gZWxzZSBpZiAocG9pbnRlcnNMZW5ndGggPT09IDEpIHtcbiAgICAgIHNlc3Npb24uZmlyc3RNdWx0aXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaXJzdElucHV0ID0gc2Vzc2lvbi5maXJzdElucHV0LFxuICAgICAgICBmaXJzdE11bHRpcGxlID0gc2Vzc2lvbi5maXJzdE11bHRpcGxlO1xuICAgIHZhciBvZmZzZXRDZW50ZXIgPSBmaXJzdE11bHRpcGxlID8gZmlyc3RNdWx0aXBsZS5jZW50ZXIgOiBmaXJzdElucHV0LmNlbnRlcjtcbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcbiAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICBpbnB1dC5kZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBmaXJzdElucHV0LnRpbWVTdGFtcDtcbiAgICBpbnB1dC5hbmdsZSA9IGdldEFuZ2xlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBpbnB1dC5kaXN0YW5jZSA9IGdldERpc3RhbmNlKG9mZnNldENlbnRlciwgY2VudGVyKTtcbiAgICBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCk7XG4gICAgaW5wdXQub2Zmc2V0RGlyZWN0aW9uID0gZ2V0RGlyZWN0aW9uKGlucHV0LmRlbHRhWCwgaW5wdXQuZGVsdGFZKTtcbiAgICB2YXIgb3ZlcmFsbFZlbG9jaXR5ID0gZ2V0VmVsb2NpdHkoaW5wdXQuZGVsdGFUaW1lLCBpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WCA9IG92ZXJhbGxWZWxvY2l0eS54O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHkgPSBhYnMob3ZlcmFsbFZlbG9jaXR5LngpID4gYWJzKG92ZXJhbGxWZWxvY2l0eS55KSA/IG92ZXJhbGxWZWxvY2l0eS54IDogb3ZlcmFsbFZlbG9jaXR5Lnk7XG4gICAgaW5wdXQuc2NhbGUgPSBmaXJzdE11bHRpcGxlID8gZ2V0U2NhbGUoZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMTtcbiAgICBpbnB1dC5yb3RhdGlvbiA9IGZpcnN0TXVsdGlwbGUgPyBnZXRSb3RhdGlvbihmaXJzdE11bHRpcGxlLnBvaW50ZXJzLCBwb2ludGVycykgOiAwO1xuICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogaW5wdXQucG9pbnRlcnMubGVuZ3RoID4gc2Vzc2lvbi5wcmV2SW5wdXQubWF4UG9pbnRlcnMgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycztcbiAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpOyAvLyBmaW5kIHRoZSBjb3JyZWN0IHRhcmdldFxuXG4gICAgdmFyIHRhcmdldCA9IG1hbmFnZXIuZWxlbWVudDtcbiAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcbiAgICB2YXIgc3JjRXZlbnRUYXJnZXQ7XG5cbiAgICBpZiAoc3JjRXZlbnQuY29tcG9zZWRQYXRoKSB7XG4gICAgICBzcmNFdmVudFRhcmdldCA9IHNyY0V2ZW50LmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgIH0gZWxzZSBpZiAoc3JjRXZlbnQucGF0aCkge1xuICAgICAgc3JjRXZlbnRUYXJnZXQgPSBzcmNFdmVudC5wYXRoWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcmNFdmVudFRhcmdldCA9IHNyY0V2ZW50LnRhcmdldDtcbiAgICB9XG5cbiAgICBpZiAoaGFzUGFyZW50KHNyY0V2ZW50VGFyZ2V0LCB0YXJnZXQpKSB7XG4gICAgICB0YXJnZXQgPSBzcmNFdmVudFRhcmdldDtcbiAgICB9XG5cbiAgICBpbnB1dC50YXJnZXQgPSB0YXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogaGFuZGxlIGlucHV0IGV2ZW50c1xuICAgKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICovXG5cbiAgZnVuY3Rpb24gaW5wdXRIYW5kbGVyKG1hbmFnZXIsIGV2ZW50VHlwZSwgaW5wdXQpIHtcbiAgICB2YXIgcG9pbnRlcnNMZW4gPSBpbnB1dC5wb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGNoYW5nZWRQb2ludGVyc0xlbiA9IGlucHV0LmNoYW5nZWRQb2ludGVycy5sZW5ndGg7XG4gICAgdmFyIGlzRmlyc3QgPSBldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMDtcbiAgICB2YXIgaXNGaW5hbCA9IGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIHBvaW50ZXJzTGVuIC0gY2hhbmdlZFBvaW50ZXJzTGVuID09PSAwO1xuICAgIGlucHV0LmlzRmlyc3QgPSAhIWlzRmlyc3Q7XG4gICAgaW5wdXQuaXNGaW5hbCA9ICEhaXNGaW5hbDtcblxuICAgIGlmIChpc0ZpcnN0KSB7XG4gICAgICBtYW5hZ2VyLnNlc3Npb24gPSB7fTtcbiAgICB9IC8vIHNvdXJjZSBldmVudCBpcyB0aGUgbm9ybWFsaXplZCB2YWx1ZSBvZiB0aGUgZG9tRXZlbnRzXG4gICAgLy8gbGlrZSAndG91Y2hzdGFydCwgbW91c2V1cCwgcG9pbnRlcmRvd24nXG5cblxuICAgIGlucHV0LmV2ZW50VHlwZSA9IGV2ZW50VHlwZTsgLy8gY29tcHV0ZSBzY2FsZSwgcm90YXRpb24gZXRjXG5cbiAgICBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KTsgLy8gZW1pdCBzZWNyZXQgZXZlbnRcblxuICAgIG1hbmFnZXIuZW1pdCgnaGFtbWVyLmlucHV0JywgaW5wdXQpO1xuICAgIG1hbmFnZXIucmVjb2duaXplKGlucHV0KTtcbiAgICBtYW5hZ2VyLnNlc3Npb24ucHJldklucHV0ID0gaW5wdXQ7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogc3BsaXQgc3RyaW5nIG9uIHdoaXRlc3BhY2VcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG4gICAqL1xuICBmdW5jdGlvbiBzcGxpdFN0cihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRyaW0oKS5zcGxpdCgvXFxzKy9nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBhZGRFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuXG4gIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiByZW1vdmVFdmVudExpc3RlbmVyIHdpdGggbXVsdGlwbGUgZXZlbnRzIGF0IG9uY2VcbiAgICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRhcmdldCwgdHlwZXMsIGhhbmRsZXIpIHtcbiAgICBlYWNoKHNwbGl0U3RyKHR5cGVzKSwgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBnZXQgdGhlIHdpbmRvdyBvYmplY3Qgb2YgYW4gZWxlbWVudFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtEb2N1bWVudFZpZXd8V2luZG93fVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBlbGVtZW50O1xuICAgIHJldHVybiBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyB8fCB3aW5kb3c7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAgICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEByZXR1cm5zIHtJbnB1dH1cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuXG4gIHZhciBJbnB1dCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElucHV0KG1hbmFnZXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgdGhpcy5lbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgICAgdGhpcy50YXJnZXQgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRUYXJnZXQ7IC8vIHNtYWxsZXIgd3JhcHBlciBhcm91bmQgdGhlIGhhbmRsZXIsIGZvciB0aGUgc2NvcGUgYW5kIHRoZSBlbmFibGVkIHN0YXRlIG9mIHRoZSBtYW5hZ2VyLFxuICAgICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuXG4gICAgICB0aGlzLmRvbUhhbmRsZXIgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgaWYgKGJvb2xPckZuKG1hbmFnZXIub3B0aW9ucy5lbmFibGUsIFttYW5hZ2VyXSkpIHtcbiAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBzaG91bGQgaGFuZGxlIHRoZSBpbnB1dEV2ZW50IGRhdGEgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IElucHV0LnByb3RvdHlwZTtcblxuICAgIF9wcm90by5oYW5kbGVyID0gZnVuY3Rpb24gaGFuZGxlcigpIHt9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogYmluZCB0aGUgZXZlbnRzXG4gICAgICovXG5cblxuICAgIF9wcm90by5pbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHRoaXMuZXZFbCAmJiBhZGRFdmVudExpc3RlbmVycyh0aGlzLmVsZW1lbnQsIHRoaXMuZXZFbCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgIHRoaXMuZXZUYXJnZXQgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICB0aGlzLmV2V2luICYmIGFkZEV2ZW50TGlzdGVuZXJzKGdldFdpbmRvd0ZvckVsZW1lbnQodGhpcy5lbGVtZW50KSwgdGhpcy5ldldpbiwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogdW5iaW5kIHRoZSBldmVudHNcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdGhpcy5ldkVsICYmIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMuZWxlbWVudCwgdGhpcy5ldkVsLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgICAgdGhpcy5ldlRhcmdldCAmJiByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnRhcmdldCwgdGhpcy5ldlRhcmdldCwgdGhpcy5kb21IYW5kbGVyKTtcbiAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW5wdXQ7XG4gIH0oKTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogZmluZCBpZiBhIGFycmF5IGNvbnRhaW5zIHRoZSBvYmplY3QgdXNpbmcgaW5kZXhPZiBvciBhIHNpbXBsZSBwb2x5RmlsbFxuICAgKiBAcGFyYW0ge0FycmF5fSBzcmNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtmaW5kQnlLZXldXG4gICAqIEByZXR1cm4ge0Jvb2xlYW58TnVtYmVyfSBmYWxzZSB3aGVuIG5vdCBmb3VuZCwgb3IgdGhlIGluZGV4XG4gICAqL1xuICBmdW5jdGlvbiBpbkFycmF5KHNyYywgZmluZCwgZmluZEJ5S2V5KSB7XG4gICAgaWYgKHNyYy5pbmRleE9mICYmICFmaW5kQnlLZXkpIHtcbiAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICB3aGlsZSAoaSA8IHNyYy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGZpbmRCeUtleSAmJiBzcmNbaV1bZmluZEJ5S2V5XSA9PSBmaW5kIHx8ICFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSB7XG4gICAgICAgICAgLy8gZG8gbm90IHVzZSA9PT0gaGVyZSwgdGVzdCBmYWlsc1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG5cbiAgICAgICAgaSsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgdmFyIFBPSU5URVJfSU5QVVRfTUFQID0ge1xuICAgIHBvaW50ZXJkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBwb2ludGVybW92ZTogSU5QVVRfTU9WRSxcbiAgICBwb2ludGVydXA6IElOUFVUX0VORCxcbiAgICBwb2ludGVyY2FuY2VsOiBJTlBVVF9DQU5DRUwsXG4gICAgcG9pbnRlcm91dDogSU5QVVRfQ0FOQ0VMXG4gIH07IC8vIGluIElFMTAgdGhlIHBvaW50ZXIgdHlwZXMgaXMgZGVmaW5lZCBhcyBhbiBlbnVtXG5cbiAgdmFyIElFMTBfUE9JTlRFUl9UWVBFX0VOVU0gPSB7XG4gICAgMjogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAzOiBJTlBVVF9UWVBFX1BFTixcbiAgICA0OiBJTlBVVF9UWVBFX01PVVNFLFxuICAgIDU6IElOUFVUX1RZUEVfS0lORUNUIC8vIHNlZSBodHRwczovL3R3aXR0ZXIuY29tL2phY29icm9zc2kvc3RhdHVzLzQ4MDU5NjQzODQ4OTg5MDgxNlxuXG4gIH07XG4gIHZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcbiAgdmFyIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbCc7IC8vIElFMTAgaGFzIHByZWZpeGVkIHN1cHBvcnQsIGFuZCBjYXNlLXNlbnNpdGl2ZVxuXG4gIGlmICh3aW4uTVNQb2ludGVyRXZlbnQgJiYgIXdpbi5Qb2ludGVyRXZlbnQpIHtcbiAgICBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ01TUG9pbnRlckRvd24nO1xuICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG4gIH1cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFBvaW50ZXIgZXZlbnRzIGlucHV0XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBJbnB1dFxuICAgKi9cblxuXG4gIHZhciBQb2ludGVyRXZlbnRJbnB1dCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9JbnB1dCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFBvaW50ZXJFdmVudElucHV0LCBfSW5wdXQpO1xuXG4gICAgZnVuY3Rpb24gUG9pbnRlckV2ZW50SW5wdXQoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIHZhciBwcm90byA9IFBvaW50ZXJFdmVudElucHV0LnByb3RvdHlwZTtcbiAgICAgIHByb3RvLmV2RWwgPSBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTO1xuICAgICAgcHJvdG8uZXZXaW4gPSBQT0lOVEVSX1dJTkRPV19FVkVOVFM7XG4gICAgICBfdGhpcyA9IF9JbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5zdG9yZSA9IF90aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzID0gW107XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gUG9pbnRlckV2ZW50SW5wdXQucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKGV2KSB7XG4gICAgICB2YXIgc3RvcmUgPSB0aGlzLnN0b3JlO1xuICAgICAgdmFyIHJlbW92ZVBvaW50ZXIgPSBmYWxzZTtcbiAgICAgIHZhciBldmVudFR5cGVOb3JtYWxpemVkID0gZXYudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ21zJywgJycpO1xuICAgICAgdmFyIGV2ZW50VHlwZSA9IFBPSU5URVJfSU5QVVRfTUFQW2V2ZW50VHlwZU5vcm1hbGl6ZWRdO1xuICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7XG4gICAgICB2YXIgaXNUb3VjaCA9IHBvaW50ZXJUeXBlID09PSBJTlBVVF9UWVBFX1RPVUNIOyAvLyBnZXQgaW5kZXggb2YgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuXG4gICAgICB2YXIgc3RvcmVJbmRleCA9IGluQXJyYXkoc3RvcmUsIGV2LnBvaW50ZXJJZCwgJ3BvaW50ZXJJZCcpOyAvLyBzdGFydCBhbmQgbW91c2UgbXVzdCBiZSBkb3duXG5cbiAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG4gICAgICAgIGlmIChzdG9yZUluZGV4IDwgMCkge1xuICAgICAgICAgIHN0b3JlLnB1c2goZXYpO1xuICAgICAgICAgIHN0b3JlSW5kZXggPSBzdG9yZS5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIHJlbW92ZVBvaW50ZXIgPSB0cnVlO1xuICAgICAgfSAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3ZlcilcblxuXG4gICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyB1cGRhdGUgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuXG5cbiAgICAgIHN0b3JlW3N0b3JlSW5kZXhdID0gZXY7XG4gICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcbiAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICBwb2ludGVyVHlwZTogcG9pbnRlclR5cGUsXG4gICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZW1vdmVQb2ludGVyKSB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIHRoZSBzdG9yZVxuICAgICAgICBzdG9yZS5zcGxpY2Uoc3RvcmVJbmRleCwgMSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBQb2ludGVyRXZlbnRJbnB1dDtcbiAgfShJbnB1dCk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGNvbnZlcnQgYXJyYXktbGlrZSBvYmplY3RzIHRvIHJlYWwgYXJyYXlzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAgICogQHJldHVybnMge0FycmF5fVxuICAgKi9cbiAgZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiB1bmlxdWUgYXJyYXkgd2l0aCBvYmplY3RzIGJhc2VkIG9uIGEga2V5IChsaWtlICdpZCcpIG9yIGp1c3QgYnkgdGhlIGFycmF5J3MgdmFsdWVcbiAgICogQHBhcmFtIHtBcnJheX0gc3JjIFt7aWQ6MX0se2lkOjJ9LHtpZDoxfV1cbiAgICogQHBhcmFtIHtTdHJpbmd9IFtrZXldXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NvcnQ9RmFsc2VdXG4gICAqIEByZXR1cm5zIHtBcnJheX0gW3tpZDoxfSx7aWQ6Mn1dXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHVuaXF1ZUFycmF5KHNyYywga2V5LCBzb3J0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICB2YXIgdmFsdWVzID0gW107XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBzcmMubGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsID0ga2V5ID8gc3JjW2ldW2tleV0gOiBzcmNbaV07XG5cbiAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHNyY1tpXSk7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlc1tpXSA9IHZhbDtcbiAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoc29ydCkge1xuICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgIHJldHVybiBhW2tleV0gPiBiW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgdmFyIFRPVUNIX0lOUFVUX01BUCA9IHtcbiAgICB0b3VjaHN0YXJ0OiBJTlBVVF9TVEFSVCxcbiAgICB0b3VjaG1vdmU6IElOUFVUX01PVkUsXG4gICAgdG91Y2hlbmQ6IElOUFVUX0VORCxcbiAgICB0b3VjaGNhbmNlbDogSU5QVVRfQ0FOQ0VMXG4gIH07XG4gIHZhciBUT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIE11bHRpLXVzZXIgdG91Y2ggZXZlbnRzIGlucHV0XG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBJbnB1dFxuICAgKi9cblxuICB2YXIgVG91Y2hJbnB1dCA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9JbnB1dCkge1xuICAgIF9pbmhlcml0c0xvb3NlKFRvdWNoSW5wdXQsIF9JbnB1dCk7XG5cbiAgICBmdW5jdGlvbiBUb3VjaElucHV0KCkge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBUb3VjaElucHV0LnByb3RvdHlwZS5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgICBfdGhpcyA9IF9JbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy50YXJnZXRJZHMgPSB7fTsgLy8gdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gVG91Y2hJbnB1dC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoZXYpIHtcbiAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuICAgICAgdmFyIHRvdWNoZXMgPSBnZXRUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXG4gICAgICBpZiAoIXRvdWNoZXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgdHlwZSwge1xuICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICBwb2ludGVyVHlwZTogSU5QVVRfVFlQRV9UT1VDSCxcbiAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFRvdWNoSW5wdXQ7XG4gIH0oSW5wdXQpO1xuXG4gIGZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIHRhcmdldElkcyA9IHRoaXMudGFyZ2V0SWRzOyAvLyB3aGVuIHRoZXJlIGlzIG9ubHkgb25lIHRvdWNoLCB0aGUgcHJvY2VzcyBjYW4gYmUgc2ltcGxpZmllZFxuXG4gICAgaWYgKHR5cGUgJiAoSU5QVVRfU1RBUlQgfCBJTlBVVF9NT1ZFKSAmJiBhbGxUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGFyZ2V0SWRzW2FsbFRvdWNoZXNbMF0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgdGFyZ2V0VG91Y2hlcztcbiAgICB2YXIgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcbiAgICB2YXIgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXTtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7IC8vIGdldCB0YXJnZXQgdG91Y2hlcyBmcm9tIHRvdWNoZXNcblxuICAgIHRhcmdldFRvdWNoZXMgPSBhbGxUb3VjaGVzLmZpbHRlcihmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuICAgIH0pOyAvLyBjb2xsZWN0IHRvdWNoZXNcblxuICAgIGlmICh0eXBlID09PSBJTlBVVF9TVEFSVCkge1xuICAgICAgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChpIDwgdGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgdGFyZ2V0SWRzW3RhcmdldFRvdWNoZXNbaV0uaWRlbnRpZmllcl0gPSB0cnVlO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG5cblxuICAgIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgIGlmICh0YXJnZXRJZHNbY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcl0pIHtcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG4gICAgICB9IC8vIGNsZWFudXAgcmVtb3ZlZCB0b3VjaGVzXG5cblxuICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuICAgICAgfVxuXG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKCFjaGFuZ2VkVGFyZ2V0VG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gWy8vIG1lcmdlIHRhcmdldFRvdWNoZXMgd2l0aCBjaGFuZ2VkVGFyZ2V0VG91Y2hlcyBzbyBpdCBjb250YWlucyBBTEwgdG91Y2hlcywgaW5jbHVkaW5nICdlbmQnIGFuZCAnY2FuY2VsJ1xuICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSwgY2hhbmdlZFRhcmdldFRvdWNoZXNdO1xuICB9XG5cbiAgdmFyIE1PVVNFX0lOUFVUX01BUCA9IHtcbiAgICBtb3VzZWRvd246IElOUFVUX1NUQVJULFxuICAgIG1vdXNlbW92ZTogSU5QVVRfTU9WRSxcbiAgICBtb3VzZXVwOiBJTlBVVF9FTkRcbiAgfTtcbiAgdmFyIE1PVVNFX0VMRU1FTlRfRVZFTlRTID0gJ21vdXNlZG93bic7XG4gIHZhciBNT1VTRV9XSU5ET1dfRVZFTlRTID0gJ21vdXNlbW92ZSBtb3VzZXVwJztcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIE1vdXNlIGV2ZW50cyBpbnB1dFxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgSW5wdXRcbiAgICovXG5cbiAgdmFyIE1vdXNlSW5wdXQgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfSW5wdXQpIHtcbiAgICBfaW5oZXJpdHNMb29zZShNb3VzZUlucHV0LCBfSW5wdXQpO1xuXG4gICAgZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgdmFyIHByb3RvID0gTW91c2VJbnB1dC5wcm90b3R5cGU7XG4gICAgICBwcm90by5ldkVsID0gTU9VU0VfRUxFTUVOVF9FVkVOVFM7XG4gICAgICBwcm90by5ldldpbiA9IE1PVVNFX1dJTkRPV19FVkVOVFM7XG4gICAgICBfdGhpcyA9IF9JbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5wcmVzc2VkID0gZmFsc2U7IC8vIG1vdXNlZG93biBzdGF0ZVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogaGFuZGxlIG1vdXNlIGV2ZW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldlxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gTW91c2VJbnB1dC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoZXYpIHtcbiAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07IC8vIG9uIHN0YXJ0IHdlIHdhbnQgdG8gaGF2ZSB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93blxuXG4gICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfU1RBUlQgJiYgZXYuYnV0dG9uID09PSAwKSB7XG4gICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9NT1ZFICYmIGV2LndoaWNoICE9PSAxKSB7XG4gICAgICAgIGV2ZW50VHlwZSA9IElOUFVUX0VORDtcbiAgICAgIH0gLy8gbW91c2UgbXVzdCBiZSBkb3duXG5cblxuICAgICAgaWYgKCF0aGlzLnByZXNzZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlciwgZXZlbnRUeXBlLCB7XG4gICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuICAgICAgICBjaGFuZ2VkUG9pbnRlcnM6IFtldl0sXG4gICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX01PVVNFLFxuICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gTW91c2VJbnB1dDtcbiAgfShJbnB1dCk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIENvbWJpbmVkIHRvdWNoIGFuZCBtb3VzZSBpbnB1dFxuICAgKlxuICAgKiBUb3VjaCBoYXMgYSBoaWdoZXIgcHJpb3JpdHkgdGhlbiBtb3VzZSwgYW5kIHdoaWxlIHRvdWNoaW5nIG5vIG1vdXNlIGV2ZW50cyBhcmUgYWxsb3dlZC5cbiAgICogVGhpcyBiZWNhdXNlIHRvdWNoIGRldmljZXMgYWxzbyBlbWl0IG1vdXNlIGV2ZW50cyB3aGlsZSBkb2luZyBhIHRvdWNoLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgSW5wdXRcbiAgICovXG5cbiAgdmFyIERFRFVQX1RJTUVPVVQgPSAyNTAwO1xuICB2YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblxuICBmdW5jdGlvbiBzZXRMYXN0VG91Y2goZXZlbnREYXRhKSB7XG4gICAgdmFyIF9ldmVudERhdGEkY2hhbmdlZFBvaSA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnMsXG4gICAgICAgIHRvdWNoID0gX2V2ZW50RGF0YSRjaGFuZ2VkUG9pWzBdO1xuXG4gICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IHRoaXMucHJpbWFyeVRvdWNoKSB7XG4gICAgICB2YXIgbGFzdFRvdWNoID0ge1xuICAgICAgICB4OiB0b3VjaC5jbGllbnRYLFxuICAgICAgICB5OiB0b3VjaC5jbGllbnRZXG4gICAgICB9O1xuICAgICAgdmFyIGx0cyA9IHRoaXMubGFzdFRvdWNoZXM7XG4gICAgICB0aGlzLmxhc3RUb3VjaGVzLnB1c2gobGFzdFRvdWNoKTtcblxuICAgICAgdmFyIHJlbW92ZUxhc3RUb3VjaCA9IGZ1bmN0aW9uIHJlbW92ZUxhc3RUb3VjaCgpIHtcbiAgICAgICAgdmFyIGkgPSBsdHMuaW5kZXhPZihsYXN0VG91Y2gpO1xuXG4gICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVjb3JkVG91Y2hlcyhldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBldmVudERhdGEuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXI7XG4gICAgICBzZXRMYXN0VG91Y2guY2FsbCh0aGlzLCBldmVudERhdGEpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudChldmVudERhdGEpIHtcbiAgICB2YXIgeCA9IGV2ZW50RGF0YS5zcmNFdmVudC5jbGllbnRYO1xuICAgIHZhciB5ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ID0gdGhpcy5sYXN0VG91Y2hlc1tpXTtcbiAgICAgIHZhciBkeCA9IE1hdGguYWJzKHggLSB0LngpO1xuICAgICAgdmFyIGR5ID0gTWF0aC5hYnMoeSAtIHQueSk7XG5cbiAgICAgIGlmIChkeCA8PSBERURVUF9ESVNUQU5DRSAmJiBkeSA8PSBERURVUF9ESVNUQU5DRSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgVG91Y2hNb3VzZUlucHV0ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIFRvdWNoTW91c2VJbnB1dCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uIChfSW5wdXQpIHtcbiAgICAgIF9pbmhlcml0c0xvb3NlKFRvdWNoTW91c2VJbnB1dCwgX0lucHV0KTtcblxuICAgICAgZnVuY3Rpb24gVG91Y2hNb3VzZUlucHV0KF9tYW5hZ2VyLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXM7XG5cbiAgICAgICAgX3RoaXMgPSBfSW5wdXQuY2FsbCh0aGlzLCBfbWFuYWdlciwgY2FsbGJhY2spIHx8IHRoaXM7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlciA9IGZ1bmN0aW9uIChtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpIHtcbiAgICAgICAgICB2YXIgaXNUb3VjaCA9IGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PT0gSU5QVVRfVFlQRV9UT1VDSDtcbiAgICAgICAgICB2YXIgaXNNb3VzZSA9IGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PT0gSU5QVVRfVFlQRV9NT1VTRTtcblxuICAgICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSAvLyB3aGVuIHdlJ3JlIGluIGEgdG91Y2ggZXZlbnQsIHJlY29yZCB0b3VjaGVzIHRvICBkZS1kdXBlIHN5bnRoZXRpYyBtb3VzZSBldmVudFxuXG5cbiAgICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQkMShfYXNzZXJ0VGhpc0luaXRpYWxpemVkJDEoX3RoaXMpKSwgaW5wdXRFdmVudCwgaW5wdXREYXRhKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTW91c2UgJiYgaXNTeW50aGV0aWNFdmVudC5jYWxsKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQkMShfYXNzZXJ0VGhpc0luaXRpYWxpemVkJDEoX3RoaXMpKSwgaW5wdXREYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzLmNhbGxiYWNrKG1hbmFnZXIsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dChfdGhpcy5tYW5hZ2VyLCBfdGhpcy5oYW5kbGVyKTtcbiAgICAgICAgX3RoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dChfdGhpcy5tYW5hZ2VyLCBfdGhpcy5oYW5kbGVyKTtcbiAgICAgICAgX3RoaXMucHJpbWFyeVRvdWNoID0gbnVsbDtcbiAgICAgICAgX3RoaXMubGFzdFRvdWNoZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcbiAgICAgICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXRFdmVudFxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAgICovXG5cblxuICAgICAgdmFyIF9wcm90byA9IFRvdWNoTW91c2VJbnB1dC5wcm90b3R5cGU7XG5cbiAgICAgIC8qKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgKi9cbiAgICAgIF9wcm90by5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy50b3VjaC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW91c2UuZGVzdHJveSgpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIFRvdWNoTW91c2VJbnB1dDtcbiAgICB9KElucHV0KTtcblxuICAgIHJldHVybiBUb3VjaE1vdXNlSW5wdXQ7XG4gIH0oKTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAgICogY2FsbGVkIGJ5IHRoZSBNYW5hZ2VyIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7SGFtbWVyfSBtYW5hZ2VyXG4gICAqIEByZXR1cm5zIHtJbnB1dH1cbiAgICovXG5cbiAgZnVuY3Rpb24gY3JlYXRlSW5wdXRJbnN0YW5jZShtYW5hZ2VyKSB7XG4gICAgdmFyIFR5cGU7IC8vIGxldCBpbnB1dENsYXNzID0gbWFuYWdlci5vcHRpb25zLmlucHV0Q2xhc3M7XG5cbiAgICB2YXIgaW5wdXRDbGFzcyA9IG1hbmFnZXIub3B0aW9ucy5pbnB1dENsYXNzO1xuXG4gICAgaWYgKGlucHV0Q2xhc3MpIHtcbiAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuICAgICAgVHlwZSA9IFBvaW50ZXJFdmVudElucHV0O1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9PTkxZX1RPVUNIKSB7XG4gICAgICBUeXBlID0gVG91Y2hJbnB1dDtcbiAgICB9IGVsc2UgaWYgKCFTVVBQT1JUX1RPVUNIKSB7XG4gICAgICBUeXBlID0gTW91c2VJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgVHlwZSA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFR5cGUobWFuYWdlciwgaW5wdXRIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBpZiB0aGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHdlIHdhbnQgdG8gZXhlY3V0ZSB0aGUgZm4gb24gZWFjaCBlbnRyeVxuICAgKiBpZiBpdCBhaW50IGFuIGFycmF5IHdlIGRvbid0IHdhbnQgdG8gZG8gYSB0aGluZy5cbiAgICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG4gICAqIEBwYXJhbSB7KnxBcnJheX0gYXJnXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgKi9cblxuICBmdW5jdGlvbiBpbnZva2VBcnJheUFyZyhhcmcsIGZuLCBjb250ZXh0KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBTVEFURV9QT1NTSUJMRSA9IDE7XG4gIHZhciBTVEFURV9CRUdBTiA9IDI7XG4gIHZhciBTVEFURV9DSEFOR0VEID0gNDtcbiAgdmFyIFNUQVRFX0VOREVEID0gODtcbiAgdmFyIFNUQVRFX1JFQ09HTklaRUQgPSBTVEFURV9FTkRFRDtcbiAgdmFyIFNUQVRFX0NBTkNFTExFRCA9IDE2O1xuICB2YXIgU1RBVEVfRkFJTEVEID0gMzI7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGdldCBhIHVuaXF1ZSBpZFxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSB1bmlxdWVJZFxuICAgKi9cbiAgdmFyIF91bmlxdWVJZCA9IDE7XG4gIGZ1bmN0aW9uIHVuaXF1ZUlkKCkge1xuICAgIHJldHVybiBfdW5pcXVlSWQrKztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IG5hbWUgaWYgaXQgaXMgYm91bmQgdG8gYSBtYW5hZ2VyXG4gICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IG90aGVyUmVjb2duaXplclxuICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICogQHJldHVybnMge1JlY29nbml6ZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuXG4gICAgaWYgKG1hbmFnZXIpIHtcbiAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBvdGhlclJlY29nbml6ZXI7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogZ2V0IGEgdXNhYmxlIHN0cmluZywgdXNlZCBhcyBldmVudCBwb3N0Zml4XG4gICAqIEBwYXJhbSB7Y29uc3RhbnR9IHN0YXRlXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHN0YXRlU3RyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG4gICAgICByZXR1cm4gJ2NhbmNlbCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0VOREVEKSB7XG4gICAgICByZXR1cm4gJ2VuZCc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0NIQU5HRUQpIHtcbiAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG4gICAgICByZXR1cm4gJ3N0YXJ0JztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogUmVjb2duaXplciBmbG93IGV4cGxhaW5lZDsgKlxuICAgKiBBbGwgcmVjb2duaXplcnMgaGF2ZSB0aGUgaW5pdGlhbCBzdGF0ZSBvZiBQT1NTSUJMRSB3aGVuIGEgaW5wdXQgc2Vzc2lvbiBzdGFydHMuXG4gICAqIFRoZSBkZWZpbml0aW9uIG9mIGEgaW5wdXQgc2Vzc2lvbiBpcyBmcm9tIHRoZSBmaXJzdCBpbnB1dCB1bnRpbCB0aGUgbGFzdCBpbnB1dCwgd2l0aCBhbGwgaXQncyBtb3ZlbWVudCBpbiBpdC4gKlxuICAgKiBFeGFtcGxlIHNlc3Npb24gZm9yIG1vdXNlLWlucHV0OiBtb3VzZWRvd24gLT4gbW91c2Vtb3ZlIC0+IG1vdXNldXBcbiAgICpcbiAgICogT24gZWFjaCByZWNvZ25pemluZyBjeWNsZSAoc2VlIE1hbmFnZXIucmVjb2duaXplKSB0aGUgLnJlY29nbml6ZSgpIG1ldGhvZCBpcyBleGVjdXRlZFxuICAgKiB3aGljaCBkZXRlcm1pbmVzIHdpdGggc3RhdGUgaXQgc2hvdWxkIGJlLlxuICAgKlxuICAgKiBJZiB0aGUgcmVjb2duaXplciBoYXMgdGhlIHN0YXRlIEZBSUxFRCwgQ0FOQ0VMTEVEIG9yIFJFQ09HTklaRUQgKGVxdWFscyBFTkRFRCksIGl0IGlzIHJlc2V0IHRvXG4gICAqIFBPU1NJQkxFIHRvIGdpdmUgaXQgYW5vdGhlciBjaGFuZ2Ugb24gdGhlIG5leHQgY3ljbGUuXG4gICAqXG4gICAqICAgICAgICAgICAgICAgUG9zc2libGVcbiAgICogICAgICAgICAgICAgICAgICB8XG4gICAqICAgICAgICAgICAgKy0tLS0tKy0tLS0tLS0tLS0tLS0tLStcbiAgICogICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfFxuICAgKiAgICAgICstLS0tLSstLS0tLSsgICAgICAgICAgICAgICB8XG4gICAqICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgICAgIHxcbiAgICogICBGYWlsZWQgICAgICBDYW5jZWxsZWQgICAgICAgICAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0rLS0tLS0tK1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgKiAgICAgICAgICAgICAgICAgICAgICBSZWNvZ25pemVkICAgICAgIEJlZ2FuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VkXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVuZGVkL1JlY29nbml6ZWRcbiAgICovXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFJlY29nbml6ZXJcbiAgICogRXZlcnkgcmVjb2duaXplciBuZWVkcyB0byBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICovXG5cbiAgdmFyIFJlY29nbml6ZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyh7XG4gICAgICAgIGVuYWJsZTogdHJ1ZVxuICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICB0aGlzLmlkID0gdW5pcXVlSWQoKTtcbiAgICAgIHRoaXMubWFuYWdlciA9IG51bGw7IC8vIGRlZmF1bHQgaXMgZW5hYmxlIHRydWVcblxuICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1BPU1NJQkxFO1xuICAgICAgdGhpcy5zaW11bHRhbmVvdXMgPSB7fTtcbiAgICAgIHRoaXMucmVxdWlyZUZhaWwgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7UmVjb2duaXplcn1cbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IFJlY29nbml6ZXIucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnNldCA9IGZ1bmN0aW9uIHNldChvcHRpb25zKSB7XG4gICAgICBhc3NpZ24kMSh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpOyAvLyBhbHNvIHVwZGF0ZSB0aGUgdG91Y2hBY3Rpb24sIGluIGNhc2Ugc29tZXRoaW5nIGNoYW5nZWQgYWJvdXQgdGhlIGRpcmVjdGlvbnMvZW5hYmxlZCBzdGF0ZVxuXG4gICAgICB0aGlzLm1hbmFnZXIgJiYgdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHJlY29nbml6ZSBzaW11bHRhbmVvdXMgd2l0aCBhbiBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLnJlY29nbml6ZVdpdGggPSBmdW5jdGlvbiByZWNvZ25pemVXaXRoKG90aGVyUmVjb2duaXplcikge1xuICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ3JlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIHNpbXVsdGFuZW91cyA9IHRoaXMuc2ltdWx0YW5lb3VzO1xuICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXG4gICAgICBpZiAoIXNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdKSB7XG4gICAgICAgIHNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdID0gb3RoZXJSZWNvZ25pemVyO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIucmVjb2duaXplV2l0aCh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGRyb3AgdGhlIHNpbXVsdGFuZW91cyBsaW5rLiBpdCBkb2VzbnQgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmRyb3BSZWNvZ25pemVXaXRoID0gZnVuY3Rpb24gZHJvcFJlY29nbml6ZVdpdGgob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAnZHJvcFJlY29nbml6ZVdpdGgnLCB0aGlzKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogcmVjb2duaXplciBjYW4gb25seSBydW4gd2hlbiBhbiBvdGhlciBpcyBmYWlsaW5nXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ucmVxdWlyZUZhaWx1cmUgPSBmdW5jdGlvbiByZXF1aXJlRmFpbHVyZShvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVxdWlyZUZhaWwgPSB0aGlzLnJlcXVpcmVGYWlsO1xuICAgICAgb3RoZXJSZWNvZ25pemVyID0gZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlcihvdGhlclJlY29nbml6ZXIsIHRoaXMpO1xuXG4gICAgICBpZiAoaW5BcnJheShyZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKSA9PT0gLTEpIHtcbiAgICAgICAgcmVxdWlyZUZhaWwucHVzaChvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIucmVxdWlyZUZhaWx1cmUodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuXG5cbiAgICBfcHJvdG8uZHJvcFJlcXVpcmVGYWlsdXJlID0gZnVuY3Rpb24gZHJvcFJlcXVpcmVGYWlsdXJlKG90aGVyUmVjb2duaXplcikge1xuICAgICAgaWYgKGludm9rZUFycmF5QXJnKG90aGVyUmVjb2duaXplciwgJ2Ryb3BSZXF1aXJlRmFpbHVyZScsIHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHRoaXMucmVxdWlyZUZhaWwsIG90aGVyUmVjb2duaXplcik7XG5cbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGhhcyByZXF1aXJlIGZhaWx1cmVzIGJvb2xlYW5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmhhc1JlcXVpcmVGYWlsdXJlcyA9IGZ1bmN0aW9uIGhhc1JlcXVpcmVGYWlsdXJlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCA+IDA7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIGlmIHRoZSByZWNvZ25pemVyIGNhbiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG5cblxuICAgIF9wcm90by5jYW5SZWNvZ25pemVXaXRoID0gZnVuY3Rpb24gY2FuUmVjb2duaXplV2l0aChvdGhlclJlY29nbml6ZXIpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIFlvdSBzaG91bGQgdXNlIGB0cnlFbWl0YCBpbnN0ZWFkIG9mIGBlbWl0YCBkaXJlY3RseSB0byBjaGVja1xuICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG5cblxuICAgIF9wcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChpbnB1dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcblxuICAgICAgZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgICAgICBzZWxmLm1hbmFnZXIuZW1pdChldmVudCwgaW5wdXQpO1xuICAgICAgfSAvLyAncGFuc3RhcnQnIGFuZCAncGFubW92ZSdcblxuXG4gICAgICBpZiAoc3RhdGUgPCBTVEFURV9FTkRFRCkge1xuICAgICAgICBlbWl0KHNlbGYub3B0aW9ucy5ldmVudCArIHN0YXRlU3RyKHN0YXRlKSk7XG4gICAgICB9XG5cbiAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50KTsgLy8gc2ltcGxlICdldmVudE5hbWUnIGV2ZW50c1xuXG4gICAgICBpZiAoaW5wdXQuYWRkaXRpb25hbEV2ZW50KSB7XG4gICAgICAgIC8vIGFkZGl0aW9uYWwgZXZlbnQocGFubGVmdCwgcGFucmlnaHQsIHBpbmNoaW4sIHBpbmNob3V0Li4uKVxuICAgICAgICBlbWl0KGlucHV0LmFkZGl0aW9uYWxFdmVudCk7XG4gICAgICB9IC8vIHBhbmVuZCBhbmQgcGFuY2FuY2VsXG5cblxuICAgICAgaWYgKHN0YXRlID49IFNUQVRFX0VOREVEKSB7XG4gICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQ2hlY2sgdGhhdCBhbGwgdGhlIHJlcXVpcmUgZmFpbHVyZSByZWNvZ25pemVycyBoYXMgZmFpbGVkLFxuICAgICAqIGlmIHRydWUsIGl0IGVtaXRzIGEgZ2VzdHVyZSBldmVudCxcbiAgICAgKiBvdGhlcndpc2UsIHNldHVwIHRoZSBzdGF0ZSB0byBGQUlMRUQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG5cblxuICAgIF9wcm90by50cnlFbWl0ID0gZnVuY3Rpb24gdHJ5RW1pdChpbnB1dCkge1xuICAgICAgaWYgKHRoaXMuY2FuRW1pdCgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuICAgICAgfSAvLyBpdCdzIGZhaWxpbmcgYW55d2F5XG5cblxuICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogY2FuIHdlIGVtaXQ/XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG5cblxuICAgIF9wcm90by5jYW5FbWl0ID0gZnVuY3Rpb24gY2FuRW1pdCgpIHtcbiAgICAgIHZhciBpID0gMDtcblxuICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuICAgICAgICBpZiAoISh0aGlzLnJlcXVpcmVGYWlsW2ldLnN0YXRlICYgKFNUQVRFX0ZBSUxFRCB8IFNUQVRFX1BPU1NJQkxFKSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpKys7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiB1cGRhdGUgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG5cblxuICAgIF9wcm90by5yZWNvZ25pemUgPSBmdW5jdGlvbiByZWNvZ25pemUoaW5wdXREYXRhKSB7XG4gICAgICAvLyBtYWtlIGEgbmV3IGNvcHkgb2YgdGhlIGlucHV0RGF0YVxuICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcbiAgICAgIHZhciBpbnB1dERhdGFDbG9uZSA9IGFzc2lnbiQxKHt9LCBpbnB1dERhdGEpOyAvLyBpcyBpcyBlbmFibGVkIGFuZCBhbGxvdyByZWNvZ25pemluZz9cblxuICAgICAgaWYgKCFib29sT3JGbih0aGlzLm9wdGlvbnMuZW5hYmxlLCBbdGhpcywgaW5wdXREYXRhQ2xvbmVdKSkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GQUlMRUQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gcmVzZXQgd2hlbiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmRcblxuXG4gICAgICBpZiAodGhpcy5zdGF0ZSAmIChTVEFURV9SRUNPR05JWkVEIHwgU1RBVEVfQ0FOQ0VMTEVEIHwgU1RBVEVfRkFJTEVEKSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpOyAvLyB0aGUgcmVjb2duaXplciBoYXMgcmVjb2duaXplZCBhIGdlc3R1cmVcbiAgICAgIC8vIHNvIHRyaWdnZXIgYW4gZXZlbnRcblxuICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQgfCBTVEFURV9DQU5DRUxMRUQpKSB7XG4gICAgICAgIHRoaXMudHJ5RW1pdChpbnB1dERhdGFDbG9uZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHJldHVybiB0aGUgc3RhdGUgb2YgdGhlIHJlY29nbml6ZXJcbiAgICAgKiB0aGUgYWN0dWFsIHJlY29nbml6aW5nIGhhcHBlbnMgaW4gdGhpcyBtZXRob2RcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dERhdGFcbiAgICAgKiBAcmV0dXJucyB7Y29uc3RhbnR9IFNUQVRFXG4gICAgICovXG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG5cblxuICAgIF9wcm90by5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyhpbnB1dERhdGEpIHt9O1xuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIHJldHVybiB0aGUgcHJlZmVycmVkIHRvdWNoLWFjdGlvblxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHt9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogY2FsbGVkIHdoZW4gdGhlIGdlc3R1cmUgaXNuJ3QgYWxsb3dlZCB0byByZWNvZ25pemVcbiAgICAgKiBsaWtlIHdoZW4gYW5vdGhlciBpcyBiZWluZyByZWNvZ25pemVkIG9yIGl0IGlzIGRpc2FibGVkXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7fTtcblxuICAgIHJldHVybiBSZWNvZ25pemVyO1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEEgdGFwIGlzIHJlY29nbml6ZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBkb2luZyBhIHNtYWxsIHRhcC9jbGljay4gTXVsdGlwbGUgdGFwcyBhcmUgcmVjb2duaXplZCBpZiB0aGV5IG9jY3VyXG4gICAqIGJldHdlZW4gdGhlIGdpdmVuIGludGVydmFsIGFuZCBwb3NpdGlvbi4gVGhlIGRlbGF5IG9wdGlvbiBjYW4gYmUgdXNlZCB0byByZWNvZ25pemUgbXVsdGktdGFwcyB3aXRob3V0IGZpcmluZ1xuICAgKiBhIHNpbmdsZSB0YXAuXG4gICAqXG4gICAqIFRoZSBldmVudERhdGEgZnJvbSB0aGUgZW1pdHRlZCBldmVudCBjb250YWlucyB0aGUgcHJvcGVydHkgYHRhcENvdW50YCwgd2hpY2ggY29udGFpbnMgdGhlIGFtb3VudCBvZlxuICAgKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gICAqL1xuXG4gIHZhciBUYXBSZWNvZ25pemVyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX1JlY29nbml6ZXIpIHtcbiAgICBfaW5oZXJpdHNMb29zZShUYXBSZWNvZ25pemVyLCBfUmVjb2duaXplcik7XG5cbiAgICBmdW5jdGlvbiBUYXBSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIF90aGlzID0gX1JlY29nbml6ZXIuY2FsbCh0aGlzLCBfZXh0ZW5kcyh7XG4gICAgICAgIGV2ZW50OiAndGFwJyxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIHRhcHM6IDEsXG4gICAgICAgIGludGVydmFsOiAzMDAsXG4gICAgICAgIC8vIG1heCB0aW1lIGJldHdlZW4gdGhlIG11bHRpLXRhcCB0YXBzXG4gICAgICAgIHRpbWU6IDI1MCxcbiAgICAgICAgLy8gbWF4IHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgZG93biAobGlrZSBmaW5nZXIgb24gdGhlIHNjcmVlbilcbiAgICAgICAgdGhyZXNob2xkOiA5LFxuICAgICAgICAvLyBhIG1pbmltYWwgbW92ZW1lbnQgaXMgb2ssIGJ1dCBrZWVwIGl0IGxvd1xuICAgICAgICBwb3NUaHJlc2hvbGQ6IDEwXG4gICAgICB9LCBvcHRpb25zKSkgfHwgdGhpczsgLy8gcHJldmlvdXMgdGltZSBhbmQgY2VudGVyLFxuICAgICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG5cbiAgICAgIF90aGlzLnBUaW1lID0gZmFsc2U7XG4gICAgICBfdGhpcy5wQ2VudGVyID0gZmFsc2U7XG4gICAgICBfdGhpcy5fdGltZXIgPSBudWxsO1xuICAgICAgX3RoaXMuX2lucHV0ID0gbnVsbDtcbiAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gVGFwUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHtcbiAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTl07XG4gICAgfTtcblxuICAgIF9wcm90by5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyhpbnB1dCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICB2YXIgdmFsaWRUb3VjaFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPCBvcHRpb25zLnRpbWU7XG4gICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiB0aGlzLmNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICB9IC8vIHdlIG9ubHkgYWxsb3cgbGl0dGxlIG1vdmVtZW50XG4gICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG5cblxuICAgICAgaWYgKHZhbGlkTW92ZW1lbnQgJiYgdmFsaWRUb3VjaFRpbWUgJiYgdmFsaWRQb2ludGVycykge1xuICAgICAgICBpZiAoaW5wdXQuZXZlbnRUeXBlICE9PSBJTlBVVF9FTkQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gaW5wdXQudGltZVN0YW1wIC0gdGhpcy5wVGltZSA8IG9wdGlvbnMuaW50ZXJ2YWwgOiB0cnVlO1xuICAgICAgICB2YXIgdmFsaWRNdWx0aVRhcCA9ICF0aGlzLnBDZW50ZXIgfHwgZ2V0RGlzdGFuY2UodGhpcy5wQ2VudGVyLCBpbnB1dC5jZW50ZXIpIDwgb3B0aW9ucy5wb3NUaHJlc2hvbGQ7XG4gICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG4gICAgICAgIHRoaXMucENlbnRlciA9IGlucHV0LmNlbnRlcjtcblxuICAgICAgICBpZiAoIXZhbGlkTXVsdGlUYXAgfHwgIXZhbGlkSW50ZXJ2YWwpIHtcbiAgICAgICAgICB0aGlzLmNvdW50ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0OyAvLyBpZiB0YXAgY291bnQgbWF0Y2hlcyB3ZSBoYXZlIHJlY29nbml6ZWQgaXQsXG4gICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG5cbiAgICAgICAgdmFyIHRhcENvdW50ID0gdGhpcy5jb3VudCAlIG9wdGlvbnMudGFwcztcblxuICAgICAgICBpZiAodGFwQ291bnQgPT09IDApIHtcbiAgICAgICAgICAvLyBubyBmYWlsaW5nIHJlcXVpcmVtZW50cywgaW1tZWRpYXRlbHkgdHJpZ2dlciB0aGUgdGFwIGV2ZW50XG4gICAgICAgICAgLy8gb3Igd2FpdCBhcyBsb25nIGFzIHRoZSBtdWx0aXRhcCBpbnRlcnZhbCB0byB0cmlnZ2VyXG4gICAgICAgICAgaWYgKCF0aGlzLmhhc1JlcXVpcmVGYWlsdXJlcygpKSB7XG4gICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcblxuICAgICAgICAgICAgICBfdGhpczIudHJ5RW1pdCgpO1xuICAgICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCk7XG4gICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfTtcblxuICAgIF9wcm90by5mYWlsVGltZW91dCA9IGZ1bmN0aW9uIGZhaWxUaW1lb3V0KCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgIH0sIHRoaXMub3B0aW9ucy5pbnRlcnZhbCk7XG4gICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH07XG5cbiAgICBfcHJvdG8ucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfTtcblxuICAgIF9wcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdCgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlID09PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgIHRoaXMuX2lucHV0LnRhcENvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUYXBSZWNvZ25pemVyO1xuICB9KFJlY29nbml6ZXIpO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBUaGlzIHJlY29nbml6ZXIgaXMganVzdCB1c2VkIGFzIGEgYmFzZSBmb3IgdGhlIHNpbXBsZSBhdHRyaWJ1dGUgcmVjb2duaXplcnMuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBSZWNvZ25pemVyXG4gICAqL1xuXG4gIHZhciBBdHRyUmVjb2duaXplciA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9SZWNvZ25pemVyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoQXR0clJlY29nbml6ZXIsIF9SZWNvZ25pemVyKTtcblxuICAgIGZ1bmN0aW9uIEF0dHJSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX1JlY29nbml6ZXIuY2FsbCh0aGlzLCBfZXh0ZW5kcyh7XG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgICB9LCBvcHRpb25zKSkgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIGl0IHRoZSByZWNvZ25pemVyIHJlY2VpdmVzIHZhbGlkIGlucHV0LCBsaWtlIGlucHV0LmRpc3RhbmNlID4gMTAuXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHJlY29nbml6ZWRcbiAgICAgKi9cblxuXG4gICAgdmFyIF9wcm90byA9IEF0dHJSZWNvZ25pemVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5hdHRyVGVzdCA9IGZ1bmN0aW9uIGF0dHJUZXN0KGlucHV0KSB7XG4gICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG4gICAgICByZXR1cm4gb3B0aW9uUG9pbnRlcnMgPT09IDAgfHwgaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25Qb2ludGVycztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogUHJvY2VzcyB0aGUgaW5wdXQgYW5kIHJldHVybiB0aGUgc3RhdGUgZm9yIHRoZSByZWNvZ25pemVyXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICogQHJldHVybnMgeyp9IFN0YXRlXG4gICAgICovXG5cblxuICAgIF9wcm90by5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyhpbnB1dCkge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgIHZhciBldmVudFR5cGUgPSBpbnB1dC5ldmVudFR5cGU7XG4gICAgICB2YXIgaXNSZWNvZ25pemVkID0gc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEKTtcbiAgICAgIHZhciBpc1ZhbGlkID0gdGhpcy5hdHRyVGVzdChpbnB1dCk7IC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcblxuICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DQU5DRUxMRUQ7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9FTkQpIHtcbiAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9FTkRFRDtcbiAgICAgICAgfSBlbHNlIGlmICghKHN0YXRlICYgU1RBVEVfQkVHQU4pKSB7XG4gICAgICAgICAgcmV0dXJuIFNUQVRFX0JFR0FOO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0hBTkdFRDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEF0dHJSZWNvZ25pemVyO1xuICB9KFJlY29nbml6ZXIpO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBkaXJlY3Rpb24gY29ucyB0byBzdHJpbmdcbiAgICogQHBhcmFtIHtjb25zdGFudH0gZGlyZWN0aW9uXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAqL1xuXG4gIGZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT05fRE9XTikge1xuICAgICAgcmV0dXJuICdkb3duJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX1VQKSB7XG4gICAgICByZXR1cm4gJ3VwJztcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gRElSRUNUSU9OX0xFRlQpIHtcbiAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTl9SSUdIVCkge1xuICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFBhblxuICAgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBhbmQgbW92ZWQgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAgICovXG5cbiAgdmFyIFBhblJlY29nbml6ZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQXR0clJlY29nbml6ZXIpIHtcbiAgICBfaW5oZXJpdHNMb29zZShQYW5SZWNvZ25pemVyLCBfQXR0clJlY29nbml6ZXIpO1xuXG4gICAgZnVuY3Rpb24gUGFuUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICBfdGhpcyA9IF9BdHRyUmVjb2duaXplci5jYWxsKHRoaXMsIF9leHRlbmRzKHtcbiAgICAgICAgZXZlbnQ6ICdwYW4nLFxuICAgICAgICB0aHJlc2hvbGQ6IDEwLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fQUxMXG4gICAgICB9LCBvcHRpb25zKSkgfHwgdGhpcztcbiAgICAgIF90aGlzLnBYID0gbnVsbDtcbiAgICAgIF90aGlzLnBZID0gbnVsbDtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gUGFuUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgdmFyIGFjdGlvbnMgPSBbXTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1kpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWN0aW9ucztcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRpcmVjdGlvblRlc3QgPSBmdW5jdGlvbiBkaXJlY3Rpb25UZXN0KGlucHV0KSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgIHZhciBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBpbnB1dC5kaXN0YW5jZTtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5kaXJlY3Rpb247XG4gICAgICB2YXIgeCA9IGlucHV0LmRlbHRhWDtcbiAgICAgIHZhciB5ID0gaW5wdXQuZGVsdGFZOyAvLyBsb2NrIHRvIGF4aXM/XG5cbiAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkge1xuICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3Rpb24gJiBESVJFQ1RJT05fSE9SSVpPTlRBTCkge1xuICAgICAgICAgIGRpcmVjdGlvbiA9IHggPT09IDAgPyBESVJFQ1RJT05fTk9ORSA6IHggPCAwID8gRElSRUNUSU9OX0xFRlQgOiBESVJFQ1RJT05fUklHSFQ7XG4gICAgICAgICAgaGFzTW92ZWQgPSB4ICE9PSB0aGlzLnBYO1xuICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFYKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXJlY3Rpb24gPSB5ID09PSAwID8gRElSRUNUSU9OX05PTkUgOiB5IDwgMCA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuICAgICAgICAgIGhhc01vdmVkID0geSAhPT0gdGhpcy5wWTtcbiAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaW5wdXQuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuICAgICAgcmV0dXJuIGhhc01vdmVkICYmIGRpc3RhbmNlID4gb3B0aW9ucy50aHJlc2hvbGQgJiYgZGlyZWN0aW9uICYgb3B0aW9ucy5kaXJlY3Rpb247XG4gICAgfTtcblxuICAgIF9wcm90by5hdHRyVGVzdCA9IGZ1bmN0aW9uIGF0dHJUZXN0KGlucHV0KSB7XG4gICAgICByZXR1cm4gQXR0clJlY29nbml6ZXIucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmICggLy8gcmVwbGFjZSB3aXRoIGEgc3VwZXIgY2FsbFxuICAgICAgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOIHx8ICEodGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKSAmJiB0aGlzLmRpcmVjdGlvblRlc3QoaW5wdXQpKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGlucHV0KSB7XG4gICAgICB0aGlzLnBYID0gaW5wdXQuZGVsdGFYO1xuICAgICAgdGhpcy5wWSA9IGlucHV0LmRlbHRhWTtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQuZGlyZWN0aW9uKTtcblxuICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb247XG4gICAgICB9XG5cbiAgICAgIF9BdHRyUmVjb2duaXplci5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhblJlY29nbml6ZXI7XG4gIH0oQXR0clJlY29nbml6ZXIpO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBTd2lwZVxuICAgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAgICovXG5cbiAgdmFyIFN3aXBlUmVjb2duaXplciA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9BdHRyUmVjb2duaXplcikge1xuICAgIF9pbmhlcml0c0xvb3NlKFN3aXBlUmVjb2duaXplciwgX0F0dHJSZWNvZ25pemVyKTtcblxuICAgIGZ1bmN0aW9uIFN3aXBlUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9BdHRyUmVjb2duaXplci5jYWxsKHRoaXMsIF9leHRlbmRzKHtcbiAgICAgICAgZXZlbnQ6ICdzd2lwZScsXG4gICAgICAgIHRocmVzaG9sZDogMTAsXG4gICAgICAgIHZlbG9jaXR5OiAwLjMsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0hPUklaT05UQUwgfCBESVJFQ1RJT05fVkVSVElDQUwsXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgICB9LCBvcHRpb25zKSkgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gU3dpcGVSZWNvZ25pemVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5nZXRUb3VjaEFjdGlvbiA9IGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uKCkge1xuICAgICAgcmV0dXJuIFBhblJlY29nbml6ZXIucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIF9wcm90by5hdHRyVGVzdCA9IGZ1bmN0aW9uIGF0dHJUZXN0KGlucHV0KSB7XG4gICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5vcHRpb25zLmRpcmVjdGlvbjtcbiAgICAgIHZhciB2ZWxvY2l0eTtcblxuICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgdmVsb2NpdHkgPSBpbnB1dC5vdmVyYWxsVmVsb2NpdHk7XG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WDtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5WTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9BdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiYgZGlyZWN0aW9uICYgaW5wdXQub2Zmc2V0RGlyZWN0aW9uICYmIGlucHV0LmRpc3RhbmNlID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCAmJiBpbnB1dC5tYXhQb2ludGVycyA9PT0gdGhpcy5vcHRpb25zLnBvaW50ZXJzICYmIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIGVtaXQoaW5wdXQpIHtcbiAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQub2Zmc2V0RGlyZWN0aW9uKTtcblxuICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb24sIGlucHV0KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTd2lwZVJlY29nbml6ZXI7XG4gIH0oQXR0clJlY29nbml6ZXIpO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBQaW5jaFxuICAgKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlcnMgYXJlIG1vdmluZyB0b3dhcmQgKHpvb20taW4pIG9yIGF3YXkgZnJvbSBlYWNoIG90aGVyICh6b29tLW91dCkuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICAgKi9cblxuICB2YXIgUGluY2hSZWNvZ25pemVyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0F0dHJSZWNvZ25pemVyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUGluY2hSZWNvZ25pemVyLCBfQXR0clJlY29nbml6ZXIpO1xuXG4gICAgZnVuY3Rpb24gUGluY2hSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX0F0dHJSZWNvZ25pemVyLmNhbGwodGhpcywgX2V4dGVuZHMoe1xuICAgICAgICBldmVudDogJ3BpbmNoJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgICAgfSwgb3B0aW9ucykpIHx8IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFBpbmNoUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHtcbiAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYXR0clRlc3QgPSBmdW5jdGlvbiBhdHRyVGVzdChpbnB1dCkge1xuICAgICAgcmV0dXJuIF9BdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiYgKE1hdGguYWJzKGlucHV0LnNjYWxlIC0gMSkgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkIHx8IHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTik7XG4gICAgfTtcblxuICAgIF9wcm90by5lbWl0ID0gZnVuY3Rpb24gZW1pdChpbnB1dCkge1xuICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG4gICAgICAgIHZhciBpbk91dCA9IGlucHV0LnNjYWxlIDwgMSA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgaW5wdXQuYWRkaXRpb25hbEV2ZW50ID0gdGhpcy5vcHRpb25zLmV2ZW50ICsgaW5PdXQ7XG4gICAgICB9XG5cbiAgICAgIF9BdHRyUmVjb2duaXplci5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBpbmNoUmVjb2duaXplcjtcbiAgfShBdHRyUmVjb2duaXplcik7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIFJvdGF0ZVxuICAgKiBSZWNvZ25pemVkIHdoZW4gdHdvIG9yIG1vcmUgcG9pbnRlciBhcmUgbW92aW5nIGluIGEgY2lyY3VsYXIgbW90aW9uLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGV4dGVuZHMgQXR0clJlY29nbml6ZXJcbiAgICovXG5cbiAgdmFyIFJvdGF0ZVJlY29nbml6ZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfQXR0clJlY29nbml6ZXIpIHtcbiAgICBfaW5oZXJpdHNMb29zZShSb3RhdGVSZWNvZ25pemVyLCBfQXR0clJlY29nbml6ZXIpO1xuXG4gICAgZnVuY3Rpb24gUm90YXRlUmVjb2duaXplcihvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9BdHRyUmVjb2duaXplci5jYWxsKHRoaXMsIF9leHRlbmRzKHtcbiAgICAgICAgZXZlbnQ6ICdyb3RhdGUnLFxuICAgICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICAgIHBvaW50ZXJzOiAyXG4gICAgICB9LCBvcHRpb25zKSkgfHwgdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gUm90YXRlUmVjb2duaXplci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uZ2V0VG91Y2hBY3Rpb24gPSBmdW5jdGlvbiBnZXRUb3VjaEFjdGlvbigpIHtcbiAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH07XG5cbiAgICBfcHJvdG8uYXR0clRlc3QgPSBmdW5jdGlvbiBhdHRyVGVzdChpbnB1dCkge1xuICAgICAgcmV0dXJuIF9BdHRyUmVjb2duaXplci5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiYgKE1hdGguYWJzKGlucHV0LnJvdGF0aW9uKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJvdGF0ZVJlY29nbml6ZXI7XG4gIH0oQXR0clJlY29nbml6ZXIpO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBQcmVzc1xuICAgKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAgICovXG5cbiAgdmFyIFByZXNzUmVjb2duaXplciA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9SZWNvZ25pemVyKSB7XG4gICAgX2luaGVyaXRzTG9vc2UoUHJlc3NSZWNvZ25pemVyLCBfUmVjb2duaXplcik7XG5cbiAgICBmdW5jdGlvbiBQcmVzc1JlY29nbml6ZXIob3B0aW9ucykge1xuICAgICAgdmFyIF90aGlzO1xuXG4gICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMgPSBfUmVjb2duaXplci5jYWxsKHRoaXMsIF9leHRlbmRzKHtcbiAgICAgICAgZXZlbnQ6ICdwcmVzcycsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0aW1lOiAyNTEsXG4gICAgICAgIC8vIG1pbmltYWwgdGltZSBvZiB0aGUgcG9pbnRlciB0byBiZSBwcmVzc2VkXG4gICAgICAgIHRocmVzaG9sZDogOVxuICAgICAgfSwgb3B0aW9ucykpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5fdGltZXIgPSBudWxsO1xuICAgICAgX3RoaXMuX2lucHV0ID0gbnVsbDtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gUHJlc3NSZWNvZ25pemVyLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5nZXRUb3VjaEFjdGlvbiA9IGZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uKCkge1xuICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fQVVUT107XG4gICAgfTtcblxuICAgIF9wcm90by5wcm9jZXNzID0gZnVuY3Rpb24gcHJvY2VzcyhpbnB1dCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICB2YXIgdmFsaWRUaW1lID0gaW5wdXQuZGVsdGFUaW1lID4gb3B0aW9ucy50aW1lO1xuICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDsgLy8gd2Ugb25seSBhbGxvdyBsaXR0bGUgbW92ZW1lbnRcbiAgICAgIC8vIGFuZCB3ZSd2ZSByZWFjaGVkIGFuIGVuZCBldmVudCwgc28gYSB0YXAgaXMgcG9zc2libGVcblxuICAgICAgaWYgKCF2YWxpZE1vdmVtZW50IHx8ICF2YWxpZFBvaW50ZXJzIHx8IGlucHV0LmV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmICF2YWxpZFRpbWUpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcblxuICAgICAgICAgIF90aGlzMi50cnlFbWl0KCk7XG4gICAgICAgIH0sIG9wdGlvbnMudGltZSk7XG4gICAgICB9IGVsc2UgaWYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIGVtaXQoaW5wdXQpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlucHV0ICYmIGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQgKyBcInVwXCIsIGlucHV0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2lucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgICAgICB0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsIHRoaXMuX2lucHV0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFByZXNzUmVjb2duaXplcjtcbiAgfShSZWNvZ25pemVyKTtcblxuICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBzZXQgaWYgRE9NIGV2ZW50cyBhcmUgYmVpbmcgdHJpZ2dlcmVkLlxuICAgICAqIEJ1dCB0aGlzIGlzIHNsb3dlciBhbmQgdW51c2VkIGJ5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbnMsIHNvIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBkb21FdmVudHM6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cbiAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcbiAgICAgKi9cbiAgICB0b3VjaEFjdGlvbjogVE9VQ0hfQUNUSU9OX0NPTVBVVEUsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBlbmFibGU6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEVYUEVSSU1FTlRBTCBGRUFUVVJFIC0tIGNhbiBiZSByZW1vdmVkL2NoYW5nZWRcbiAgICAgKiBDaGFuZ2UgdGhlIHBhcmVudCBpbnB1dCB0YXJnZXQgZWxlbWVudC5cbiAgICAgKiBJZiBOdWxsLCB0aGVuIGl0IGlzIGJlaW5nIHNldCB0aGUgdG8gbWFpbiBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtOdWxsfEV2ZW50VGFyZ2V0fVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBpbnB1dFRhcmdldDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogZm9yY2UgYW4gaW5wdXQgY2xhc3NcbiAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRDbGFzczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogU29tZSBDU1MgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBpbXByb3ZlIHRoZSB3b3JraW5nIG9mIEhhbW1lci5cbiAgICAgKiBBZGQgdGhlbSB0byB0aGlzIG1ldGhvZCBhbmQgdGhleSB3aWxsIGJlIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIuXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqL1xuICAgIGNzc1Byb3BzOiB7XG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBEaXNhYmxlcyB0ZXh0IHNlbGVjdGlvbiB0byBpbXByb3ZlIHRoZSBkcmFnZ2luZyBnZXN0dXJlLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgKi9cbiAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBEaXNhYmxlIHRoZSBXaW5kb3dzIFBob25lIGdyaXBwZXJzIHdoZW4gcHJlc3NpbmcgYW4gZWxlbWVudC5cbiAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAqL1xuICAgICAgdG91Y2hTZWxlY3Q6IFwibm9uZVwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuICAgICAgICogT24gaU9TLCB3aGVuIHlvdSB0b3VjaCBhbmQgaG9sZCBhIHRvdWNoIHRhcmdldCBzdWNoIGFzIGEgbGluaywgU2FmYXJpIGRpc3BsYXlzXG4gICAgICAgKiBhIGNhbGxvdXQgY29udGFpbmluZyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbGluay4gVGhpcyBwcm9wZXJ0eSBhbGxvd3MgeW91IHRvIGRpc2FibGUgdGhhdCBjYWxsb3V0LlxuICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICovXG4gICAgICB0b3VjaENhbGxvdXQ6IFwibm9uZVwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBTcGVjaWZpZXMgd2hldGhlciB6b29taW5nIGlzIGVuYWJsZWQuIFVzZWQgYnkgSUUxMD5cbiAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAqL1xuICAgICAgY29udGVudFpvb21pbmc6IFwibm9uZVwiLFxuXG4gICAgICAvKipcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBTcGVjaWZpZXMgdGhhdCBhbiBlbnRpcmUgZWxlbWVudCBzaG91bGQgYmUgZHJhZ2dhYmxlIGluc3RlYWQgb2YgaXRzIGNvbnRlbnRzLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgKi9cbiAgICAgIHVzZXJEcmFnOiBcIm5vbmVcIixcblxuICAgICAgLyoqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogT3ZlcnJpZGVzIHRoZSBoaWdobGlnaHQgY29sb3Igc2hvd24gd2hlbiB0aGUgdXNlciB0YXBzIGEgbGluayBvciBhIEphdmFTY3JpcHRcbiAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cbiAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgKiBAZGVmYXVsdCAncmdiYSgwLDAsMCwwKSdcbiAgICAgICAqL1xuICAgICAgdGFwSGlnaGxpZ2h0Q29sb3I6IFwicmdiYSgwLDAsMCwwKVwiXG4gICAgfVxuICB9O1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogRGVmYXVsdCByZWNvZ25pemVyIHNldHVwIHdoZW4gY2FsbGluZyBgSGFtbWVyKClgXG4gICAqIFdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlciB0aGVzZSB3aWxsIGJlIHNraXBwZWQuXG4gICAqIFRoaXMgaXMgc2VwYXJhdGVkIHdpdGggb3RoZXIgZGVmYXVsdHMgYmVjYXVzZSBvZiB0cmVlLXNoYWtpbmcuXG4gICAqIEB0eXBlIHtBcnJheX1cbiAgICovXG5cbiAgdmFyIHByZXNldCA9IFtbUm90YXRlUmVjb2duaXplciwge1xuICAgIGVuYWJsZTogZmFsc2VcbiAgfV0sIFtQaW5jaFJlY29nbml6ZXIsIHtcbiAgICBlbmFibGU6IGZhbHNlXG4gIH0sIFsncm90YXRlJ11dLCBbU3dpcGVSZWNvZ25pemVyLCB7XG4gICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTFxuICB9XSwgW1BhblJlY29nbml6ZXIsIHtcbiAgICBkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMXG4gIH0sIFsnc3dpcGUnXV0sIFtUYXBSZWNvZ25pemVyXSwgW1RhcFJlY29nbml6ZXIsIHtcbiAgICBldmVudDogJ2RvdWJsZXRhcCcsXG4gICAgdGFwczogMlxuICB9LCBbJ3RhcCddXSwgW1ByZXNzUmVjb2duaXplcl1dO1xuXG4gIHZhciBTVE9QID0gMTtcbiAgdmFyIEZPUkNFRF9TVE9QID0gMjtcbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGFkZC9yZW1vdmUgdGhlIGNzcyBwcm9wZXJ0aWVzIGFzIGRlZmluZWQgaW4gbWFuYWdlci5vcHRpb25zLmNzc1Byb3BzXG4gICAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFkZFxuICAgKi9cblxuICBmdW5jdGlvbiB0b2dnbGVDc3NQcm9wcyhtYW5hZ2VyLCBhZGQpIHtcbiAgICB2YXIgZWxlbWVudCA9IG1hbmFnZXIuZWxlbWVudDtcblxuICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwcm9wO1xuICAgIGVhY2gobWFuYWdlci5vcHRpb25zLmNzc1Byb3BzLCBmdW5jdGlvbiAodmFsdWUsIG5hbWUpIHtcbiAgICAgIHByb3AgPSBwcmVmaXhlZChlbGVtZW50LnN0eWxlLCBuYW1lKTtcblxuICAgICAgaWYgKGFkZCkge1xuICAgICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzW3Byb3BdID0gZWxlbWVudC5zdHlsZVtwcm9wXTtcbiAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IG1hbmFnZXIub2xkQ3NzUHJvcHNbcHJvcF0gfHwgXCJcIjtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICghYWRkKSB7XG4gICAgICBtYW5hZ2VyLm9sZENzc1Byb3BzID0ge307XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiB0cmlnZ2VyIGRvbSBldmVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICovXG5cblxuICBmdW5jdGlvbiB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICB2YXIgZ2VzdHVyZUV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcbiAgICBnZXN0dXJlRXZlbnQuaW5pdEV2ZW50KGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICBnZXN0dXJlRXZlbnQuZ2VzdHVyZSA9IGRhdGE7XG4gICAgZGF0YS50YXJnZXQuZGlzcGF0Y2hFdmVudChnZXN0dXJlRXZlbnQpO1xuICB9XG4gIC8qKlxuICAqIEBwcml2YXRlXG4gICAqIE1hbmFnZXJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cblxuXG4gIHZhciBNYW5hZ2VyID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24kMSh7fSwgZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuICAgICAgdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0ID0gdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0IHx8IGVsZW1lbnQ7XG4gICAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgICB0aGlzLnNlc3Npb24gPSB7fTtcbiAgICAgIHRoaXMucmVjb2duaXplcnMgPSBbXTtcbiAgICAgIHRoaXMub2xkQ3NzUHJvcHMgPSB7fTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB0aGlzLmlucHV0ID0gY3JlYXRlSW5wdXRJbnN0YW5jZSh0aGlzKTtcbiAgICAgIHRoaXMudG91Y2hBY3Rpb24gPSBuZXcgVG91Y2hBY3Rpb24odGhpcywgdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKTtcbiAgICAgIHRvZ2dsZUNzc1Byb3BzKHRoaXMsIHRydWUpO1xuICAgICAgZWFjaCh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciByZWNvZ25pemVyID0gX3RoaXMuYWRkKG5ldyBpdGVtWzBdKGl0ZW1bMV0pKTtcblxuICAgICAgICBpdGVtWzJdICYmIHJlY29nbml6ZXIucmVjb2duaXplV2l0aChpdGVtWzJdKTtcbiAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuXG5cbiAgICB2YXIgX3Byb3RvID0gTWFuYWdlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2V0ID0gZnVuY3Rpb24gc2V0KG9wdGlvbnMpIHtcbiAgICAgIGFzc2lnbiQxKHRoaXMub3B0aW9ucywgb3B0aW9ucyk7IC8vIE9wdGlvbnMgdGhhdCBuZWVkIGEgbGl0dGxlIG1vcmUgc2V0dXBcblxuICAgICAgaWYgKG9wdGlvbnMudG91Y2hBY3Rpb24pIHtcbiAgICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUYXJnZXQpIHtcbiAgICAgICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgZXZlbnQgbGlzdGVuZXJzIGFuZCByZWluaXRpYWxpemVcbiAgICAgICAgdGhpcy5pbnB1dC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuaW5wdXQudGFyZ2V0ID0gb3B0aW9ucy5pbnB1dFRhcmdldDtcbiAgICAgICAgdGhpcy5pbnB1dC5pbml0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG4gICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBXaGVuIGZvcmNlZCwgdGhlIHJlY29nbml6ZXIgY3ljbGUgaXMgc3RvcHBlZCBpbW1lZGlhdGVseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLnN0b3AgPSBmdW5jdGlvbiBzdG9wKGZvcmNlKSB7XG4gICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBydW4gdGhlIHJlY29nbml6ZXJzIVxuICAgICAqIGNhbGxlZCBieSB0aGUgaW5wdXRIYW5kbGVyIGZ1bmN0aW9uIG9uIGV2ZXJ5IG1vdmVtZW50IG9mIHRoZSBwb2ludGVycyAodG91Y2hlcylcbiAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG5cblxuICAgIF9wcm90by5yZWNvZ25pemUgPSBmdW5jdGlvbiByZWNvZ25pemUoaW5wdXREYXRhKSB7XG4gICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbjtcblxuICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG5cblxuICAgICAgdGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHMoaW5wdXREYXRhKTtcbiAgICAgIHZhciByZWNvZ25pemVyO1xuICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVyczsgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAvLyBzbyB0aGUgcmVjb2duaXplcidzIHN0YXRlIG5lZWRzIHRvIGJlIEJFR0FOLCBDSEFOR0VELCBFTkRFRCBvciBSRUNPR05JWkVEXG4gICAgICAvLyBpZiBubyByZWNvZ25pemVyIGlzIGRldGVjdGluZyBhIHRoaW5nLCBpdCBpcyBzZXQgdG8gYG51bGxgXG5cbiAgICAgIHZhciBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyOyAvLyByZXNldCB3aGVuIHRoZSBsYXN0IHJlY29nbml6ZXIgaXMgcmVjb2duaXplZFxuICAgICAgLy8gb3Igd2hlbiB3ZSdyZSBpbiBhIG5ldyBzZXNzaW9uXG5cbiAgICAgIGlmICghY3VyUmVjb2duaXplciB8fCBjdXJSZWNvZ25pemVyICYmIGN1clJlY29nbml6ZXIuc3RhdGUgJiBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgIHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7XG4gICAgICAgIGN1clJlY29nbml6ZXIgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlY29nbml6ZXIgPSByZWNvZ25pemVyc1tpXTsgLy8gZmluZCBvdXQgaWYgd2UgYXJlIGFsbG93ZWQgdHJ5IHRvIHJlY29nbml6ZSB0aGUgaW5wdXQgZm9yIHRoaXMgb25lLlxuICAgICAgICAvLyAxLiAgIGFsbG93IGlmIHRoZSBzZXNzaW9uIGlzIE5PVCBmb3JjZWQgc3RvcHBlZCAoc2VlIHRoZSAuc3RvcCgpIG1ldGhvZClcbiAgICAgICAgLy8gMi4gICBhbGxvdyBpZiB3ZSBzdGlsbCBoYXZlbid0IHJlY29nbml6ZWQgYSBnZXN0dXJlIGluIHRoaXMgc2Vzc2lvbiwgb3IgdGhlIHRoaXMgcmVjb2duaXplciBpcyB0aGUgb25lXG4gICAgICAgIC8vICAgICAgdGhhdCBpcyBiZWluZyByZWNvZ25pemVkLlxuICAgICAgICAvLyAzLiAgIGFsbG93IGlmIHRoZSByZWNvZ25pemVyIGlzIGFsbG93ZWQgdG8gcnVuIHNpbXVsdGFuZW91cyB3aXRoIHRoZSBjdXJyZW50IHJlY29nbml6ZWQgcmVjb2duaXplci5cbiAgICAgICAgLy8gICAgICB0aGlzIGNhbiBiZSBzZXR1cCB3aXRoIHRoZSBgcmVjb2duaXplV2l0aCgpYCBtZXRob2Qgb24gdGhlIHJlY29nbml6ZXIuXG5cbiAgICAgICAgaWYgKHNlc3Npb24uc3RvcHBlZCAhPT0gRk9SQ0VEX1NUT1AgJiYgKCAvLyAxXG4gICAgICAgICFjdXJSZWNvZ25pemVyIHx8IHJlY29nbml6ZXIgPT09IGN1clJlY29nbml6ZXIgfHwgLy8gMlxuICAgICAgICByZWNvZ25pemVyLmNhblJlY29nbml6ZVdpdGgoY3VyUmVjb2duaXplcikpKSB7XG4gICAgICAgICAgLy8gM1xuICAgICAgICAgIHJlY29nbml6ZXIucmVjb2duaXplKGlucHV0RGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjb2duaXplci5yZXNldCgpO1xuICAgICAgICB9IC8vIGlmIHRoZSByZWNvZ25pemVyIGhhcyBiZWVuIHJlY29nbml6aW5nIHRoZSBpbnB1dCBhcyBhIHZhbGlkIGdlc3R1cmUsIHdlIHdhbnQgdG8gc3RvcmUgdGhpcyBvbmUgYXMgdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHJlY29nbml6ZXIuIGJ1dCBvbmx5IGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhbiBhY3RpdmUgcmVjb2duaXplclxuXG5cbiAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyICYmIHJlY29nbml6ZXIuc3RhdGUgJiAoU1RBVEVfQkVHQU4gfCBTVEFURV9DSEFOR0VEIHwgU1RBVEVfRU5ERUQpKSB7XG4gICAgICAgICAgc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjtcbiAgICAgICAgICBjdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogZ2V0IGEgcmVjb2duaXplciBieSBpdHMgZXZlbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ8TnVsbH1cbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmdldCA9IGZ1bmN0aW9uIGdldChyZWNvZ25pemVyKSB7XG4gICAgICBpZiAocmVjb2duaXplciBpbnN0YW5jZW9mIFJlY29nbml6ZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlY29nbml6ZXI7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJlY29nbml6ZXJzW2ldLm9wdGlvbnMuZXZlbnQgPT09IHJlY29nbml6ZXIpIHtcbiAgICAgICAgICByZXR1cm4gcmVjb2duaXplcnNbaV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZSBhZGQgYSByZWNvZ25pemVyIHRvIHRoZSBtYW5hZ2VyXG4gICAgICogZXhpc3RpbmcgcmVjb2duaXplcnMgd2l0aCB0aGUgc2FtZSBldmVudCBuYW1lIHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfE1hbmFnZXJ9XG4gICAgICovXG5cblxuICAgIF9wcm90by5hZGQgPSBmdW5jdGlvbiBhZGQocmVjb2duaXplcikge1xuICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsIFwiYWRkXCIsIHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSAvLyByZW1vdmUgZXhpc3RpbmdcblxuXG4gICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuXG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgdGhpcy5yZW1vdmUoZXhpc3RpbmcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlY29nbml6ZXJzLnB1c2gocmVjb2duaXplcik7XG4gICAgICByZWNvZ25pemVyLm1hbmFnZXIgPSB0aGlzO1xuICAgICAgdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKTtcbiAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiByZW1vdmUgYSByZWNvZ25pemVyIGJ5IG5hbWUgb3IgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ8U3RyaW5nfSByZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG5cblxuICAgIF9wcm90by5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUocmVjb2duaXplcikge1xuICAgICAgaWYgKGludm9rZUFycmF5QXJnKHJlY29nbml6ZXIsIFwicmVtb3ZlXCIsIHRoaXMpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0UmVjb2duaXplciA9IHRoaXMuZ2V0KHJlY29nbml6ZXIpOyAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuXG4gICAgICBpZiAocmVjb2duaXplcikge1xuICAgICAgICB2YXIgcmVjb2duaXplcnMgPSB0aGlzLnJlY29nbml6ZXJzO1xuICAgICAgICB2YXIgaW5kZXggPSBpbkFycmF5KHJlY29nbml6ZXJzLCB0YXJnZXRSZWNvZ25pemVyKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBiaW5kIGV2ZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSB0aGlzXG4gICAgICovXG5cblxuICAgIF9wcm90by5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkIHx8IGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5oYW5kbGVycztcbiAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcbiAgICAgICAgaGFuZGxlcnNbZXZlbnRdLnB1c2goaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgdW5iaW5kIGV2ZW50LCBsZWF2ZSBlbWl0IGJsYW5rIHRvIHJlbW92ZSBhbGwgaGFuZGxlcnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2hhbmRsZXJdXG4gICAgICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gdGhpc1xuICAgICAqL1xuXG5cbiAgICBfcHJvdG8ub2ZmID0gZnVuY3Rpb24gb2ZmKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzO1xuICAgICAgZWFjaChzcGxpdFN0cihldmVudHMpLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgZGVsZXRlIGhhbmRsZXJzW2V2ZW50XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVyc1tldmVudF0gJiYgaGFuZGxlcnNbZXZlbnRdLnNwbGljZShpbkFycmF5KGhhbmRsZXJzW2V2ZW50XSwgaGFuZGxlciksIDEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGUgZW1pdCBldmVudCB0byB0aGUgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cblxuXG4gICAgX3Byb3RvLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBkYXRhKSB7XG4gICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRvbUV2ZW50cykge1xuICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuICAgICAgfSAvLyBubyBoYW5kbGVycywgc28gc2tpcCBpdCBhbGxcblxuXG4gICAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzW2V2ZW50XSAmJiB0aGlzLmhhbmRsZXJzW2V2ZW50XS5zbGljZSgpO1xuXG4gICAgICBpZiAoIWhhbmRsZXJzIHx8ICFoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkYXRhLnR5cGUgPSBldmVudDtcblxuICAgICAgZGF0YS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGF0YS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICB3aGlsZSAoaSA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBkZXN0cm95IHRoZSBtYW5hZ2VyIGFuZCB1bmJpbmRzIGFsbCBldmVudHNcbiAgICAgKiBpdCBkb2Vzbid0IHVuYmluZCBkb20gZXZlbnRzLCB0aGF0IGlzIHRoZSB1c2VyIG93biByZXNwb25zaWJpbGl0eVxuICAgICAqL1xuXG5cbiAgICBfcHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLmVsZW1lbnQgJiYgdG9nZ2xlQ3NzUHJvcHModGhpcywgZmFsc2UpO1xuICAgICAgdGhpcy5oYW5kbGVycyA9IHt9O1xuICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBNYW5hZ2VyO1xuICB9KCk7XG5cbiAgdmFyIFNJTkdMRV9UT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxuICB9O1xuICB2YXIgU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCc7XG4gIHZhciBTSU5HTEVfVE9VQ0hfV0lORE9XX0VWRU5UUyA9ICd0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBUb3VjaCBldmVudHMgaW5wdXRcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIElucHV0XG4gICAqL1xuXG4gIHZhciBTaW5nbGVUb3VjaElucHV0ID1cbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoX0lucHV0KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoU2luZ2xlVG91Y2hJbnB1dCwgX0lucHV0KTtcblxuICAgIGZ1bmN0aW9uIFNpbmdsZVRvdWNoSW5wdXQoKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIHZhciBwcm90byA9IFNpbmdsZVRvdWNoSW5wdXQucHJvdG90eXBlO1xuICAgICAgcHJvdG8uZXZUYXJnZXQgPSBTSU5HTEVfVE9VQ0hfVEFSR0VUX0VWRU5UUztcbiAgICAgIHByb3RvLmV2V2luID0gU0lOR0xFX1RPVUNIX1dJTkRPV19FVkVOVFM7XG4gICAgICBfdGhpcyA9IF9JbnB1dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICBfdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IFNpbmdsZVRvdWNoSW5wdXQucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLmhhbmRsZXIgPSBmdW5jdGlvbiBoYW5kbGVyKGV2KSB7XG4gICAgICB2YXIgdHlwZSA9IFNJTkdMRV9UT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07IC8vIHNob3VsZCB3ZSBoYW5kbGUgdGhlIHRvdWNoIGV2ZW50cz9cblxuICAgICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpOyAvLyB3aGVuIGRvbmUsIHJlc2V0IHRoZSBzdGFydGVkIHN0YXRlXG5cbiAgICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgdG91Y2hlc1swXS5sZW5ndGggLSB0b3VjaGVzWzFdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgcG9pbnRlcnM6IHRvdWNoZXNbMF0sXG4gICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiBTaW5nbGVUb3VjaElucHV0O1xuICB9KElucHV0KTtcblxuICBmdW5jdGlvbiBub3JtYWxpemVTaW5nbGVUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblxuICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgIGFsbCA9IHVuaXF1ZUFycmF5KGFsbC5jb25jYXQoY2hhbmdlZCksICdpZGVudGlmaWVyJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFthbGwsIGNoYW5nZWRdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIHdyYXAgYSBtZXRob2Qgd2l0aCBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgYW5kIHN0YWNrIHRyYWNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZVxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG4gICAqL1xuICBmdW5jdGlvbiBkZXByZWNhdGUobWV0aG9kLCBuYW1lLCBtZXNzYWdlKSB7XG4gICAgdmFyIGRlcHJlY2F0aW9uTWVzc2FnZSA9IFwiREVQUkVDQVRFRCBNRVRIT0Q6IFwiICsgbmFtZSArIFwiXFxuXCIgKyBtZXNzYWdlICsgXCIgQVQgXFxuXCI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKCdnZXQtc3RhY2stdHJhY2UnKTtcbiAgICAgIHZhciBzdGFjayA9IGUgJiYgZS5zdGFjayA/IGUuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLCAnJykucmVwbGFjZSgvXlxccythdFxccysvZ20sICcnKS5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XFxzKlxcKC9nbSwgJ3thbm9ueW1vdXN9KClAJykgOiAnVW5rbm93biBTdGFjayBUcmFjZSc7XG4gICAgICB2YXIgbG9nID0gd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLndhcm4gfHwgd2luZG93LmNvbnNvbGUubG9nKTtcblxuICAgICAgaWYgKGxvZykge1xuICAgICAgICBsb2cuY2FsbCh3aW5kb3cuY29uc29sZSwgZGVwcmVjYXRpb25NZXNzYWdlLCBzdGFjayk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIGV4dGVuZCBvYmplY3QuXG4gICAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdFxuICAgKiBAcGFyYW0ge09iamVjdH0gc3JjXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gICAqL1xuXG4gIHZhciBleHRlbmQgPSBkZXByZWNhdGUoZnVuY3Rpb24gKGRlc3QsIHNyYywgbWVyZ2UpIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyk7XG4gICAgdmFyIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBrZXlzLmxlbmd0aCkge1xuICAgICAgaWYgKCFtZXJnZSB8fCBtZXJnZSAmJiBkZXN0W2tleXNbaV1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICAgIH1cblxuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiBkZXN0O1xuICB9LCAnZXh0ZW5kJywgJ1VzZSBgYXNzaWduYC4nKTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogbWVyZ2UgdGhlIHZhbHVlcyBmcm9tIHNyYyBpbiB0aGUgZGVzdC5cbiAgICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIHRoYXQgZXhpc3QgaW4gZGVzdCB3aWxsIG5vdCBiZSBvdmVyd3JpdHRlbiBieSBzcmNcbiAgICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAgICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBkZXN0XG4gICAqL1xuXG4gIHZhciBtZXJnZSQxID0gZGVwcmVjYXRlKGZ1bmN0aW9uIChkZXN0LCBzcmMpIHtcbiAgICByZXR1cm4gZXh0ZW5kKGRlc3QsIHNyYywgdHJ1ZSk7XG4gIH0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIHNpbXBsZSBjbGFzcyBpbmhlcml0YW5jZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGlsZFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBiYXNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllc11cbiAgICovXG5cbiAgZnVuY3Rpb24gaW5oZXJpdChjaGlsZCwgYmFzZSwgcHJvcGVydGllcykge1xuICAgIHZhciBiYXNlUCA9IGJhc2UucHJvdG90eXBlO1xuICAgIHZhciBjaGlsZFA7XG4gICAgY2hpbGRQID0gY2hpbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShiYXNlUCk7XG4gICAgY2hpbGRQLmNvbnN0cnVjdG9yID0gY2hpbGQ7XG4gICAgY2hpbGRQLl9zdXBlciA9IGJhc2VQO1xuXG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgIGFzc2lnbiQxKGNoaWxkUCwgcHJvcGVydGllcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIHNpbXBsZSBmdW5jdGlvbiBiaW5kXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICovXG4gIGZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuXG4gIHZhciBIYW1tZXIgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgSGFtbWVyID1cbiAgICAvKipcbiAgICAgICogQHByaXZhdGVcbiAgICAgICogQGNvbnN0IHtzdHJpbmd9XG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhbW1lcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBNYW5hZ2VyKGVsZW1lbnQsIF9leHRlbmRzKHtcbiAgICAgICAgcmVjb2duaXplcnM6IHByZXNldC5jb25jYXQoKVxuICAgICAgfSwgb3B0aW9ucykpO1xuICAgIH07XG5cbiAgICBIYW1tZXIuVkVSU0lPTiA9IFwiMi4wLjE3LXJjXCI7XG4gICAgSGFtbWVyLkRJUkVDVElPTl9BTEwgPSBESVJFQ1RJT05fQUxMO1xuICAgIEhhbW1lci5ESVJFQ1RJT05fRE9XTiA9IERJUkVDVElPTl9ET1dOO1xuICAgIEhhbW1lci5ESVJFQ1RJT05fTEVGVCA9IERJUkVDVElPTl9MRUZUO1xuICAgIEhhbW1lci5ESVJFQ1RJT05fUklHSFQgPSBESVJFQ1RJT05fUklHSFQ7XG4gICAgSGFtbWVyLkRJUkVDVElPTl9VUCA9IERJUkVDVElPTl9VUDtcbiAgICBIYW1tZXIuRElSRUNUSU9OX0hPUklaT05UQUwgPSBESVJFQ1RJT05fSE9SSVpPTlRBTDtcbiAgICBIYW1tZXIuRElSRUNUSU9OX1ZFUlRJQ0FMID0gRElSRUNUSU9OX1ZFUlRJQ0FMO1xuICAgIEhhbW1lci5ESVJFQ1RJT05fTk9ORSA9IERJUkVDVElPTl9OT05FO1xuICAgIEhhbW1lci5ESVJFQ1RJT05fRE9XTiA9IERJUkVDVElPTl9ET1dOO1xuICAgIEhhbW1lci5JTlBVVF9TVEFSVCA9IElOUFVUX1NUQVJUO1xuICAgIEhhbW1lci5JTlBVVF9NT1ZFID0gSU5QVVRfTU9WRTtcbiAgICBIYW1tZXIuSU5QVVRfRU5EID0gSU5QVVRfRU5EO1xuICAgIEhhbW1lci5JTlBVVF9DQU5DRUwgPSBJTlBVVF9DQU5DRUw7XG4gICAgSGFtbWVyLlNUQVRFX1BPU1NJQkxFID0gU1RBVEVfUE9TU0lCTEU7XG4gICAgSGFtbWVyLlNUQVRFX0JFR0FOID0gU1RBVEVfQkVHQU47XG4gICAgSGFtbWVyLlNUQVRFX0NIQU5HRUQgPSBTVEFURV9DSEFOR0VEO1xuICAgIEhhbW1lci5TVEFURV9FTkRFRCA9IFNUQVRFX0VOREVEO1xuICAgIEhhbW1lci5TVEFURV9SRUNPR05JWkVEID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICBIYW1tZXIuU1RBVEVfQ0FOQ0VMTEVEID0gU1RBVEVfQ0FOQ0VMTEVEO1xuICAgIEhhbW1lci5TVEFURV9GQUlMRUQgPSBTVEFURV9GQUlMRUQ7XG4gICAgSGFtbWVyLk1hbmFnZXIgPSBNYW5hZ2VyO1xuICAgIEhhbW1lci5JbnB1dCA9IElucHV0O1xuICAgIEhhbW1lci5Ub3VjaEFjdGlvbiA9IFRvdWNoQWN0aW9uO1xuICAgIEhhbW1lci5Ub3VjaElucHV0ID0gVG91Y2hJbnB1dDtcbiAgICBIYW1tZXIuTW91c2VJbnB1dCA9IE1vdXNlSW5wdXQ7XG4gICAgSGFtbWVyLlBvaW50ZXJFdmVudElucHV0ID0gUG9pbnRlckV2ZW50SW5wdXQ7XG4gICAgSGFtbWVyLlRvdWNoTW91c2VJbnB1dCA9IFRvdWNoTW91c2VJbnB1dDtcbiAgICBIYW1tZXIuU2luZ2xlVG91Y2hJbnB1dCA9IFNpbmdsZVRvdWNoSW5wdXQ7XG4gICAgSGFtbWVyLlJlY29nbml6ZXIgPSBSZWNvZ25pemVyO1xuICAgIEhhbW1lci5BdHRyUmVjb2duaXplciA9IEF0dHJSZWNvZ25pemVyO1xuICAgIEhhbW1lci5UYXAgPSBUYXBSZWNvZ25pemVyO1xuICAgIEhhbW1lci5QYW4gPSBQYW5SZWNvZ25pemVyO1xuICAgIEhhbW1lci5Td2lwZSA9IFN3aXBlUmVjb2duaXplcjtcbiAgICBIYW1tZXIuUGluY2ggPSBQaW5jaFJlY29nbml6ZXI7XG4gICAgSGFtbWVyLlJvdGF0ZSA9IFJvdGF0ZVJlY29nbml6ZXI7XG4gICAgSGFtbWVyLlByZXNzID0gUHJlc3NSZWNvZ25pemVyO1xuICAgIEhhbW1lci5vbiA9IGFkZEV2ZW50TGlzdGVuZXJzO1xuICAgIEhhbW1lci5vZmYgPSByZW1vdmVFdmVudExpc3RlbmVycztcbiAgICBIYW1tZXIuZWFjaCA9IGVhY2g7XG4gICAgSGFtbWVyLm1lcmdlID0gbWVyZ2UkMTtcbiAgICBIYW1tZXIuZXh0ZW5kID0gZXh0ZW5kO1xuICAgIEhhbW1lci5iaW5kRm4gPSBiaW5kRm47XG4gICAgSGFtbWVyLmFzc2lnbiA9IGFzc2lnbiQxO1xuICAgIEhhbW1lci5pbmhlcml0ID0gaW5oZXJpdDtcbiAgICBIYW1tZXIuYmluZEZuID0gYmluZEZuO1xuICAgIEhhbW1lci5wcmVmaXhlZCA9IHByZWZpeGVkO1xuICAgIEhhbW1lci50b0FycmF5ID0gdG9BcnJheTtcbiAgICBIYW1tZXIuaW5BcnJheSA9IGluQXJyYXk7XG4gICAgSGFtbWVyLnVuaXF1ZUFycmF5ID0gdW5pcXVlQXJyYXk7XG4gICAgSGFtbWVyLnNwbGl0U3RyID0gc3BsaXRTdHI7XG4gICAgSGFtbWVyLmJvb2xPckZuID0gYm9vbE9yRm47XG4gICAgSGFtbWVyLmhhc1BhcmVudCA9IGhhc1BhcmVudDtcbiAgICBIYW1tZXIuYWRkRXZlbnRMaXN0ZW5lcnMgPSBhZGRFdmVudExpc3RlbmVycztcbiAgICBIYW1tZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcnMgPSByZW1vdmVFdmVudExpc3RlbmVycztcbiAgICBIYW1tZXIuZGVmYXVsdHMgPSBhc3NpZ24kMSh7fSwgZGVmYXVsdHMsIHtcbiAgICAgIHByZXNldDogcHJlc2V0XG4gICAgfSk7XG4gICAgcmV0dXJuIEhhbW1lcjtcbiAgfSgpO1xuXG4gIHZhciBSZWFsSGFtbWVyID0gSGFtbWVyO1xuXG4gIGZ1bmN0aW9uIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDMobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIF9TeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgX2dldEl0ZXJhdG9yTWV0aG9kKG8pIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChfQXJyYXkkaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMyhvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgdmFyIEYgPSBmdW5jdGlvbiBGKCkge307IHJldHVybiB7IHM6IEYsIG46IGZ1bmN0aW9uIG4oKSB7IGlmIChpID49IG8ubGVuZ3RoKSByZXR1cm4geyBkb25lOiB0cnVlIH07IHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogb1tpKytdIH07IH0sIGU6IGZ1bmN0aW9uIGUoX2UpIHsgdGhyb3cgX2U7IH0sIGY6IEYgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gdmFyIG5vcm1hbENvbXBsZXRpb24gPSB0cnVlLCBkaWRFcnIgPSBmYWxzZSwgZXJyOyByZXR1cm4geyBzOiBmdW5jdGlvbiBzKCkgeyBpdCA9IGl0LmNhbGwobyk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9XG4gIGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQzKG8sIG1pbkxlbikgeyB2YXIgX2NvbnRleHQxNTsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDMobywgbWluTGVuKTsgdmFyIG4gPSBfc2xpY2VJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0MTUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpLmNhbGwoX2NvbnRleHQxNSwgOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gX0FycmF5JGZyb20kMShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQzKG8sIG1pbkxlbik7IH1cbiAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkkMyhhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOyByZXR1cm4gYXJyMjsgfVxuXG4gIC8qKlxyXG4gICAqIFVzZSB0aGlzIHN5bWJvbCB0byBkZWxldGUgcHJvcGVyaWVzIGluIGRlZXBPYmplY3RBc3NpZ24uXHJcbiAgICovXG4gIHZhciBERUxFVEUgPSBfU3ltYm9sKFwiREVMRVRFXCIpO1xuICAvKipcclxuICAgKiBQdXJlIHZlcnNpb24gb2YgZGVlcE9iamVjdEFzc2lnbiwgaXQgZG9lc24ndCBtb2RpZnkgYW55IG9mIGl0J3MgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIGJhc2UgLSBUaGUgYmFzZSBvYmplY3QgdGhhdCBmdWxsZmlscyB0aGUgd2hvbGUgaW50ZXJmYWNlIFQuXHJcbiAgICogQHBhcmFtIHVwZGF0ZXMgLSBVcGRhdGVzIHRoYXQgbWF5IGNoYW5nZSBvciBkZWxldGUgcHJvcHMuXHJcbiAgICogQHJldHVybnMgQSBicmFuZCBuZXcgaW5zdGFuY2Ugd2l0aCBhbGwgdGhlIHN1cHBsaWVkIG9iamVjdHMgZGVlcGx5IG1lcmdlZC5cclxuICAgKi9cbiAgZnVuY3Rpb24gcHVyZURlZXBPYmplY3RBc3NpZ24oYmFzZSkge1xuICAgIHZhciBfY29udGV4dDtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdXBkYXRlcyA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICB1cGRhdGVzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZXBPYmplY3RBc3NpZ24uYXBwbHkodm9pZCAwLCBfY29uY2F0SW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dCA9IFt7fSwgYmFzZV0pLmNhbGwoX2NvbnRleHQsIHVwZGF0ZXMpKTtcbiAgfVxuICAvKipcclxuICAgKiBEZWVwIHZlcnNpb24gb2Ygb2JqZWN0IGFzc2lnbiB3aXRoIGFkZGl0aW9uYWwgZGVsZXRpbmcgYnkgdGhlIERFTEVURSBzeW1ib2wuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gdmFsdWVzIC0gT2JqZWN0cyB0byBiZSBkZWVwbHkgbWVyZ2VkLlxyXG4gICAqIEByZXR1cm5zIFRoZSBmaXJzdCBvYmplY3QgZnJvbSB2YWx1ZXMuXHJcbiAgICovXG4gIGZ1bmN0aW9uIGRlZXBPYmplY3RBc3NpZ24oKSB7XG4gICAgdmFyIG1lcmdlZCA9IGRlZXBPYmplY3RBc3NpZ25Ob25lbnRyeS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgc3RyaXBEZWxldGUobWVyZ2VkKTtcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9XG4gIC8qKlxyXG4gICAqIERlZXAgdmVyc2lvbiBvZiBvYmplY3QgYXNzaWduIHdpdGggYWRkaXRpb25hbCBkZWxldGluZyBieSB0aGUgREVMRVRFIHN5bWJvbC5cclxuICAgKlxyXG4gICAqIEByZW1hcmtzXHJcbiAgICogVGhpcyBkb2Vzbid0IHN0cmlwIHRoZSBERUxFVEUgc3ltYm9scyBzbyB0aGV5IG1heSBlbmQgdXAgaW4gdGhlIGZpbmFsIG9iamVjdC5cclxuICAgKiBAcGFyYW0gdmFsdWVzIC0gT2JqZWN0cyB0byBiZSBkZWVwbHkgbWVyZ2VkLlxyXG4gICAqIEByZXR1cm5zIFRoZSBmaXJzdCBvYmplY3QgZnJvbSB2YWx1ZXMuXHJcbiAgICovXG4gIGZ1bmN0aW9uIGRlZXBPYmplY3RBc3NpZ25Ob25lbnRyeSgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgdmFsdWVzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuICAgIGlmICh2YWx1ZXMubGVuZ3RoIDwgMikge1xuICAgICAgcmV0dXJuIHZhbHVlc1swXTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPiAyKSB7XG4gICAgICB2YXIgX2NvbnRleHQyO1xuICAgICAgcmV0dXJuIGRlZXBPYmplY3RBc3NpZ25Ob25lbnRyeS5hcHBseSh2b2lkIDAsIF9jb25jYXRJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0MiA9IFtkZWVwT2JqZWN0QXNzaWduKHZhbHVlc1swXSwgdmFsdWVzWzFdKV0pLmNhbGwoX2NvbnRleHQyLCBfdG9Db25zdW1hYmxlQXJyYXkoX3NsaWNlSW5zdGFuY2VQcm9wZXJ0eSh2YWx1ZXMpLmNhbGwodmFsdWVzLCAyKSkpKTtcbiAgICB9XG4gICAgdmFyIGEgPSB2YWx1ZXNbMF07XG4gICAgdmFyIGIgPSB2YWx1ZXNbMV07XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBEYXRlICYmIGIgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICBhLnNldFRpbWUoYi5nZXRUaW1lKCkpO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQzKF9SZWZsZWN0JG93bktleXMoYikpLFxuICAgICAgX3N0ZXA7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBwcm9wID0gX3N0ZXAudmFsdWU7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGIsIHByb3ApKSA7ZWxzZSBpZiAoYltwcm9wXSA9PT0gREVMRVRFKSB7XG4gICAgICAgICAgZGVsZXRlIGFbcHJvcF07XG4gICAgICAgIH0gZWxzZSBpZiAoYVtwcm9wXSAhPT0gbnVsbCAmJiBiW3Byb3BdICE9PSBudWxsICYmIHR5cGVvZiBhW3Byb3BdID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBiW3Byb3BdID09PSBcIm9iamVjdFwiICYmICFfQXJyYXkkaXNBcnJheShhW3Byb3BdKSAmJiAhX0FycmF5JGlzQXJyYXkoYltwcm9wXSkpIHtcbiAgICAgICAgICBhW3Byb3BdID0gZGVlcE9iamVjdEFzc2lnbk5vbmVudHJ5KGFbcHJvcF0sIGJbcHJvcF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFbcHJvcF0gPSBjbG9uZShiW3Byb3BdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICB9XG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgLyoqXHJcbiAgICogRGVlcCBjbG9uZSBnaXZlbiBvYmplY3Qgb3IgYXJyYXkuIEluIGNhc2Ugb2YgcHJpbWl0aXZlIHNpbXBseSByZXR1cm4uXHJcbiAgICpcclxuICAgKiBAcGFyYW0gYSAtIEFueXRoaW5nLlxyXG4gICAqIEByZXR1cm5zIERlZXAgY2xvbmVkIG9iamVjdC9hcnJheSBvciB1bmNoYW5nZWQgYS5cclxuICAgKi9cbiAgZnVuY3Rpb24gY2xvbmUoYSkge1xuICAgIGlmIChfQXJyYXkkaXNBcnJheShhKSkge1xuICAgICAgcmV0dXJuIF9tYXBJbnN0YW5jZVByb3BlcnR5KGEpLmNhbGwoYSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjbG9uZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBhID09PSBcIm9iamVjdFwiICYmIGEgIT09IG51bGwpIHtcbiAgICAgIGlmIChhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5nZXRUaW1lKCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZXBPYmplY3RBc3NpZ25Ob25lbnRyeSh7fSwgYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgfVxuICAvKipcclxuICAgKiBTdHJpcCBERUxFVEUgZnJvbSBnaXZlbiBvYmplY3QuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gYSAtIE9iamVjdCB3aGljaCBtYXkgY29udGFpbiBERUxFVEUgYnV0IHdvbid0IGFmdGVyIHRoaXMgaXMgZXhlY3V0ZWQuXHJcbiAgICovXG4gIGZ1bmN0aW9uIHN0cmlwRGVsZXRlKGEpIHtcbiAgICBmb3IgKHZhciBfaSA9IDAsIF9PYmplY3Qka2V5cyQxID0gX09iamVjdCRrZXlzKGEpOyBfaSA8IF9PYmplY3Qka2V5cyQxLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIHByb3AgPSBfT2JqZWN0JGtleXMkMVtfaV07XG4gICAgICBpZiAoYVtwcm9wXSA9PT0gREVMRVRFKSB7XG4gICAgICAgIGRlbGV0ZSBhW3Byb3BdO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYVtwcm9wXSA9PT0gXCJvYmplY3RcIiAmJiBhW3Byb3BdICE9PSBudWxsKSB7XG4gICAgICAgIHN0cmlwRGVsZXRlKGFbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBhIG1vY2sgaGFtbWVyLmpzIG9iamVjdCwgZm9yIHVuaXQgdGVzdGluZy5cbiAgICpcbiAgICogSW5zcGlyYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyL2RlY2suZ2wvcHVsbC82NThcbiAgICpcbiAgICogQHJldHVybnMge3tvbjogbm9vcCwgb2ZmOiBub29wLCBkZXN0cm95OiBub29wLCBlbWl0OiBub29wLCBnZXQ6IGdldH19XG4gICAqL1xuICBmdW5jdGlvbiBoYW1tZXJNb2NrKCkge1xuICAgIHZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuICAgIHJldHVybiB7XG4gICAgICBvbjogbm9vcCxcbiAgICAgIG9mZjogbm9vcCxcbiAgICAgIGRlc3Ryb3k6IG5vb3AsXG4gICAgICBlbWl0OiBub29wLFxuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldDogbm9vcFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgdmFyIEhhbW1lciQxID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5IYW1tZXIgfHwgUmVhbEhhbW1lciA6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBoYW1tZXIuanMgaXMgb25seSBhdmFpbGFibGUgaW4gYSBicm93c2VyLCBub3QgaW4gbm9kZS5qcy4gUmVwbGFjaW5nIGl0IHdpdGggYSBtb2NrIG9iamVjdC5cbiAgICByZXR1cm4gaGFtbWVyTW9jaygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUdXJuIGFuIGVsZW1lbnQgaW50byBhbiBjbGlja1RvVXNlIGVsZW1lbnQuXG4gICAqIFdoZW4gbm90IGFjdGl2ZSwgdGhlIGVsZW1lbnQgaGFzIGEgdHJhbnNwYXJlbnQgb3ZlcmxheS4gV2hlbiB0aGUgb3ZlcmxheSBpc1xuICAgKiBjbGlja2VkLCB0aGUgbW9kZSBpcyBjaGFuZ2VkIHRvIGFjdGl2ZS5cbiAgICogV2hlbiBhY3RpdmUsIHRoZSBlbGVtZW50IGlzIGRpc3BsYXllZCB3aXRoIGEgYmx1ZSBib3JkZXIgYXJvdW5kIGl0LCBhbmRcbiAgICogdGhlIGludGVyYWN0aXZlIGNvbnRlbnRzIG9mIHRoZSBlbGVtZW50IGNhbiBiZSB1c2VkLiBXaGVuIGNsaWNrZWQgb3V0c2lkZVxuICAgKiB0aGUgZWxlbWVudCwgdGhlIGVsZW1lbnRzIG1vZGUgaXMgY2hhbmdlZCB0byBpbmFjdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXJcbiAgICogQGNsYXNzIEFjdGl2YXRvclxuICAgKi9cbiAgZnVuY3Rpb24gQWN0aXZhdG9yJDEoY29udGFpbmVyKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgIF9jb250ZXh0MztcbiAgICB0aGlzLl9jbGVhbnVwUXVldWUgPSBbXTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuX2RvbSA9IHtcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG92ZXJsYXk6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICB9O1xuICAgIHRoaXMuX2RvbS5vdmVybGF5LmNsYXNzTGlzdC5hZGQoXCJ2aXMtb3ZlcmxheVwiKTtcbiAgICB0aGlzLl9kb20uY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX2RvbS5vdmVybGF5KTtcbiAgICB0aGlzLl9jbGVhbnVwUXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5fZG9tLm92ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChfdGhpcy5fZG9tLm92ZXJsYXkpO1xuICAgIH0pO1xuICAgIHZhciBoYW1tZXIgPSBIYW1tZXIkMSh0aGlzLl9kb20ub3ZlcmxheSk7XG4gICAgaGFtbWVyLm9uKFwidGFwXCIsIF9iaW5kSW5zdGFuY2VQcm9wZXJ0eSQxKF9jb250ZXh0MyA9IHRoaXMuX29uVGFwT3ZlcmxheSkuY2FsbChfY29udGV4dDMsIHRoaXMpKTtcbiAgICB0aGlzLl9jbGVhbnVwUXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICBoYW1tZXIuZGVzdHJveSgpO1xuICAgICAgLy8gRklYTUU6IGNsZWFuaW5nIHVwIGhhbW1lciBpbnN0YW5jZXMgZG9lc24ndCB3b3JrIChUaW1lbGluZSBub3QgcmVtb3ZlZFxuICAgICAgLy8gZnJvbSBtZW1vcnkpXG4gICAgfSk7XG5cbiAgICAvLyBibG9jayBhbGwgdG91Y2ggZXZlbnRzIChleGNlcHQgdGFwKVxuICAgIHZhciBldmVudHMgPSBbXCJ0YXBcIiwgXCJkb3VibGV0YXBcIiwgXCJwcmVzc1wiLCBcInBpbmNoXCIsIFwicGFuXCIsIFwicGFuc3RhcnRcIiwgXCJwYW5tb3ZlXCIsIFwicGFuZW5kXCJdO1xuICAgIF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eShldmVudHMpLmNhbGwoZXZlbnRzLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGhhbW1lci5vbihldmVudCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBhdHRhY2ggYSBjbGljayBldmVudCB0byB0aGUgd2luZG93LCBpbiBvcmRlciB0byBkZWFjdGl2YXRlIHdoZW4gY2xpY2tpbmcgb3V0c2lkZSB0aGUgdGltZWxpbmVcbiAgICBpZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQuYm9keSkge1xuICAgICAgdGhpcy5fb25DbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoIV9oYXNQYXJlbnQoZXZlbnQudGFyZ2V0LCBjb250YWluZXIpKSB7XG4gICAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fb25DbGljayk7XG4gICAgICB0aGlzLl9jbGVhbnVwUXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF90aGlzLl9vbkNsaWNrKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHByZXBhcmUgZXNjYXBlIGtleSBsaXN0ZW5lciBmb3IgZGVhY3RpdmF0aW5nIHdoZW4gYWN0aXZlXG4gICAgdGhpcy5fZXNjTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChcImtleVwiIGluIGV2ZW50ID8gZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiIDogZXZlbnQua2V5Q29kZSA9PT0gMjcgLyogdGhlIGtleUNvZGUgaXMgZm9yIElFMTEgKi8pIHtcbiAgICAgICAgX3RoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyB0dXJuIGludG8gYW4gZXZlbnQgZW1pdHRlclxuICBFbWl0dGVyKEFjdGl2YXRvciQxLnByb3RvdHlwZSk7XG5cbiAgLy8gVGhlIGN1cnJlbnRseSBhY3RpdmUgYWN0aXZhdG9yXG4gIEFjdGl2YXRvciQxLmN1cnJlbnQgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoZSBhY3RpdmF0b3IuIENsZWFucyB1cCBhbGwgY3JlYXRlZCBET00gYW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgKi9cbiAgQWN0aXZhdG9yJDEucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9jb250ZXh0NCwgX2NvbnRleHQ1O1xuICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMyhfcmV2ZXJzZUluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQ0ID0gX3NwbGljZUluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQ1ID0gdGhpcy5fY2xlYW51cFF1ZXVlKS5jYWxsKF9jb250ZXh0NSwgMCkpLmNhbGwoX2NvbnRleHQ0KSksXG4gICAgICBfc3RlcDI7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9pdGVyYXRvcjIuZShlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEFjdGl2YXRlIHRoZSBlbGVtZW50XG4gICAqIE92ZXJsYXkgaXMgaGlkZGVuLCBlbGVtZW50IGlzIGRlY29yYXRlZCB3aXRoIGEgYmx1ZSBzaGFkb3cgYm9yZGVyXG4gICAqL1xuICBBY3RpdmF0b3IkMS5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gd2UgYWxsb3cgb25seSBvbmUgYWN0aXZlIGFjdGl2YXRvciBhdCBhIHRpbWVcbiAgICBpZiAoQWN0aXZhdG9yJDEuY3VycmVudCkge1xuICAgICAgQWN0aXZhdG9yJDEuY3VycmVudC5kZWFjdGl2YXRlKCk7XG4gICAgfVxuICAgIEFjdGl2YXRvciQxLmN1cnJlbnQgPSB0aGlzO1xuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLl9kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdGhpcy5fZG9tLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidmlzLWFjdGl2ZVwiKTtcbiAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIik7XG4gICAgdGhpcy5lbWl0KFwiYWN0aXZhdGVcIik7XG5cbiAgICAvLyB1Z2x5IGhhY2s6IGJpbmQgRVNDIGFmdGVyIGVtaXR0aW5nIHRoZSBldmVudHMsIGFzIHRoZSBOZXR3b3JrIHJlYmluZHMgYWxsXG4gICAgLy8ga2V5Ym9hcmQgZXZlbnRzIG9uIGEgJ2NoYW5nZScgZXZlbnRcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2VzY0xpc3RlbmVyKTtcbiAgfTtcblxuICAvKipcbiAgICogRGVhY3RpdmF0ZSB0aGUgZWxlbWVudFxuICAgKiBPdmVybGF5IGlzIGRpc3BsYXllZCBvbiB0b3Agb2YgdGhlIGVsZW1lbnRcbiAgICovXG4gIEFjdGl2YXRvciQxLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgdGhpcy5fZG9tLm92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB0aGlzLl9kb20uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXMtYWN0aXZlXCIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fZXNjTGlzdGVuZXIpO1xuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiKTtcbiAgICB0aGlzLmVtaXQoXCJkZWFjdGl2YXRlXCIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYSB0YXAgZXZlbnQ6IGFjdGl2YXRlIHRoZSBjb250YWluZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gIGV2ZW50ICAgVGhlIGV2ZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBBY3RpdmF0b3IkMS5wcm90b3R5cGUuX29uVGFwT3ZlcmxheSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIC8vIGFjdGl2YXRlIHRoZSBjb250YWluZXJcbiAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgZXZlbnQuc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRlc3Qgd2hldGhlciB0aGUgZWxlbWVudCBoYXMgdGhlIHJlcXVlc3RlZCBwYXJlbnQgZWxlbWVudCBzb21ld2hlcmUgaW5cbiAgICogaXRzIGNoYWluIG9mIHBhcmVudCBub2Rlcy5cbiAgICpcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwYXJlbnRcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSB3aGVuIHRoZSBwYXJlbnQgaXMgZm91bmQgc29tZXdoZXJlIGluIHRoZVxuICAgKiAgICAgICAgICAgICAgICAgICAgY2hhaW4gb2YgcGFyZW50IG5vZGVzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gX2hhc1BhcmVudChlbGVtZW50LCBwYXJlbnQpIHtcbiAgICB3aGlsZSAoZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQgPT09IHBhcmVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBpc0NvbnN0cnVjdG9yID0gaXNDb25zdHJ1Y3RvciQ0O1xuICB2YXIgdHJ5VG9TdHJpbmckMSA9IHRyeVRvU3RyaW5nJDY7XG5cbiAgdmFyICRUeXBlRXJyb3IkMyA9IFR5cGVFcnJvcjtcblxuICAvLyBgQXNzZXJ0OiBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSBpcyB0cnVlYFxuICB2YXIgYUNvbnN0cnVjdG9yJDIgPSBmdW5jdGlvbiAoYXJndW1lbnQpIHtcbiAgICBpZiAoaXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkpIHJldHVybiBhcmd1bWVudDtcbiAgICB0aHJvdyBuZXcgJFR5cGVFcnJvciQzKHRyeVRvU3RyaW5nJDEoYXJndW1lbnQpICsgJyBpcyBub3QgYSBjb25zdHJ1Y3RvcicpO1xuICB9O1xuXG4gIHZhciAkJGsgPSBfZXhwb3J0O1xuICB2YXIgZ2V0QnVpbHRJbiQ0ID0gZ2V0QnVpbHRJbiRmO1xuICB2YXIgYXBwbHkkMSA9IGZ1bmN0aW9uQXBwbHk7XG4gIHZhciBiaW5kJDggPSBmdW5jdGlvbkJpbmQ7XG4gIHZhciBhQ29uc3RydWN0b3IkMSA9IGFDb25zdHJ1Y3RvciQyO1xuICB2YXIgYW5PYmplY3QkMyA9IGFuT2JqZWN0JGQ7XG4gIHZhciBpc09iamVjdCQ2ID0gaXNPYmplY3QkaDtcbiAgdmFyIGNyZWF0ZSQ1ID0gb2JqZWN0Q3JlYXRlO1xuICB2YXIgZmFpbHMkOSA9IGZhaWxzJHU7XG5cbiAgdmFyIG5hdGl2ZUNvbnN0cnVjdCA9IGdldEJ1aWx0SW4kNCgnUmVmbGVjdCcsICdjb25zdHJ1Y3QnKTtcbiAgdmFyIE9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBwdXNoJDIgPSBbXS5wdXNoO1xuXG4gIC8vIGBSZWZsZWN0LmNvbnN0cnVjdGAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcmVmbGVjdC5jb25zdHJ1Y3RcbiAgLy8gTVMgRWRnZSBzdXBwb3J0cyBvbmx5IDIgYXJndW1lbnRzIGFuZCBhcmd1bWVudHNMaXN0IGFyZ3VtZW50IGlzIG9wdGlvbmFsXG4gIC8vIEZGIE5pZ2h0bHkgc2V0cyB0aGlyZCBhcmd1bWVudCBhcyBgbmV3LnRhcmdldGAsIGJ1dCBkb2VzIG5vdCBjcmVhdGUgYHRoaXNgIGZyb20gaXRcbiAgdmFyIE5FV19UQVJHRVRfQlVHID0gZmFpbHMkOShmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRigpIHsgLyogZW1wdHkgKi8gfVxuICAgIHJldHVybiAhKG5hdGl2ZUNvbnN0cnVjdChmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sIFtdLCBGKSBpbnN0YW5jZW9mIEYpO1xuICB9KTtcblxuICB2YXIgQVJHU19CVUcgPSAhZmFpbHMkOShmdW5jdGlvbiAoKSB7XG4gICAgbmF0aXZlQ29uc3RydWN0KGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSk7XG4gIH0pO1xuXG4gIHZhciBGT1JDRUQkMiA9IE5FV19UQVJHRVRfQlVHIHx8IEFSR1NfQlVHO1xuXG4gICQkayh7IHRhcmdldDogJ1JlZmxlY3QnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCQyLCBzaGFtOiBGT1JDRUQkMiB9LCB7XG4gICAgY29uc3RydWN0OiBmdW5jdGlvbiBjb25zdHJ1Y3QoVGFyZ2V0LCBhcmdzIC8qICwgbmV3VGFyZ2V0ICovKSB7XG4gICAgICBhQ29uc3RydWN0b3IkMShUYXJnZXQpO1xuICAgICAgYW5PYmplY3QkMyhhcmdzKTtcbiAgICAgIHZhciBuZXdUYXJnZXQgPSBhcmd1bWVudHMubGVuZ3RoIDwgMyA/IFRhcmdldCA6IGFDb25zdHJ1Y3RvciQxKGFyZ3VtZW50c1syXSk7XG4gICAgICBpZiAoQVJHU19CVUcgJiYgIU5FV19UQVJHRVRfQlVHKSByZXR1cm4gbmF0aXZlQ29uc3RydWN0KFRhcmdldCwgYXJncywgbmV3VGFyZ2V0KTtcbiAgICAgIGlmIChUYXJnZXQgPT09IG5ld1RhcmdldCkge1xuICAgICAgICAvLyB3L28gYWx0ZXJlZCBuZXdUYXJnZXQsIG9wdGltaXphdGlvbiBmb3IgMC00IGFyZ3VtZW50c1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IFRhcmdldCgpO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IFRhcmdldChhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiBuZXcgVGFyZ2V0KGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBUYXJnZXQoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdy9vIGFsdGVyZWQgbmV3VGFyZ2V0LCBsb3Qgb2YgYXJndW1lbnRzIGNhc2VcbiAgICAgICAgdmFyICRhcmdzID0gW251bGxdO1xuICAgICAgICBhcHBseSQxKHB1c2gkMiwgJGFyZ3MsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gbmV3IChhcHBseSQxKGJpbmQkOCwgVGFyZ2V0LCAkYXJncykpKCk7XG4gICAgICB9XG4gICAgICAvLyB3aXRoIGFsdGVyZWQgbmV3VGFyZ2V0LCBub3Qgc3VwcG9ydCBidWlsdC1pbiBjb25zdHJ1Y3RvcnNcbiAgICAgIHZhciBwcm90byA9IG5ld1RhcmdldC5wcm90b3R5cGU7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBjcmVhdGUkNShpc09iamVjdCQ2KHByb3RvKSA/IHByb3RvIDogT2JqZWN0UHJvdG90eXBlKTtcbiAgICAgIHZhciByZXN1bHQgPSBhcHBseSQxKFRhcmdldCwgaW5zdGFuY2UsIGFyZ3MpO1xuICAgICAgcmV0dXJuIGlzT2JqZWN0JDYocmVzdWx0KSA/IHJlc3VsdCA6IGluc3RhbmNlO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHBhdGgkOCA9IHBhdGgkbztcblxuICB2YXIgY29uc3RydWN0JDIgPSBwYXRoJDguUmVmbGVjdC5jb25zdHJ1Y3Q7XG5cbiAgdmFyIHBhcmVudCR1ID0gY29uc3RydWN0JDI7XG5cbiAgdmFyIGNvbnN0cnVjdCQxID0gcGFyZW50JHU7XG5cbiAgdmFyIGNvbnN0cnVjdCA9IGNvbnN0cnVjdCQxO1xuXG4gIHZhciBfUmVmbGVjdCRjb25zdHJ1Y3QgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoY29uc3RydWN0KTtcblxuICB2YXIgcGF0aCQ3ID0gcGF0aCRvO1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMkMiA9IHBhdGgkNy5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIHZhciBwYXJlbnQkdCA9IGdldE93blByb3BlcnR5U3ltYm9scyQyO1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMkMSA9IHBhcmVudCR0O1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMkMTtcblxuICB2YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoZ2V0T3duUHJvcGVydHlTeW1ib2xzKTtcblxuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDQgPSB7ZXhwb3J0czoge319O1xuXG4gIHZhciAkJGogPSBfZXhwb3J0O1xuICB2YXIgZmFpbHMkOCA9IGZhaWxzJHU7XG4gIHZhciB0b0luZGV4ZWRPYmplY3QkMSA9IHRvSW5kZXhlZE9iamVjdCRhO1xuICB2YXIgbmF0aXZlR2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLmY7XG4gIHZhciBERVNDUklQVE9SUyQ1ID0gZGVzY3JpcHRvcnM7XG5cbiAgdmFyIEZPUkNFRCQxID0gIURFU0NSSVBUT1JTJDUgfHwgZmFpbHMkOChmdW5jdGlvbiAoKSB7IG5hdGl2ZUdldE93blByb3BlcnR5RGVzY3JpcHRvcigxKTsgfSk7XG5cbiAgLy8gYE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JcbiAgJCRqKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBGT1JDRUQkMSwgc2hhbTogIURFU0NSSVBUT1JTJDUgfSwge1xuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgICAgIHJldHVybiBuYXRpdmVHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodG9JbmRleGVkT2JqZWN0JDEoaXQpLCBrZXkpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIHBhdGgkNiA9IHBhdGgkbztcblxuICB2YXIgT2JqZWN0JDIgPSBwYXRoJDYuT2JqZWN0O1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQ0LmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICAgIHJldHVybiBPYmplY3QkMi5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSk7XG4gIH07XG5cbiAgaWYgKE9iamVjdCQyLmdldE93blByb3BlcnR5RGVzY3JpcHRvci5zaGFtKSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMy5zaGFtID0gdHJ1ZTtcblxuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yRXhwb3J0cyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvciQ0LmV4cG9ydHM7XG5cbiAgdmFyIHBhcmVudCRzID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yRXhwb3J0cztcblxuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDIgPSBwYXJlbnQkcztcblxuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IkMjtcblxuICB2YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJDEpO1xuXG4gIHZhciAkJGkgPSBfZXhwb3J0O1xuICB2YXIgREVTQ1JJUFRPUlMkNCA9IGRlc2NyaXB0b3JzO1xuICB2YXIgb3duS2V5cyQyID0gb3duS2V5cyQ3O1xuICB2YXIgdG9JbmRleGVkT2JqZWN0ID0gdG9JbmRleGVkT2JqZWN0JGE7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUkMSA9IG9iamVjdEdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5ID0gY3JlYXRlUHJvcGVydHkkNjtcblxuICAvLyBgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnNgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5nZXRvd25wcm9wZXJ0eWRlc2NyaXB0b3JzXG4gICQkaSh7IHRhcmdldDogJ09iamVjdCcsIHN0YXQ6IHRydWUsIHNoYW06ICFERVNDUklQVE9SUyQ0IH0sIHtcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzOiBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iamVjdCkge1xuICAgICAgdmFyIE8gPSB0b0luZGV4ZWRPYmplY3Qob2JqZWN0KTtcbiAgICAgIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUkMS5mO1xuICAgICAgdmFyIGtleXMgPSBvd25LZXlzJDIoTyk7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIGtleSwgZGVzY3JpcHRvcjtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCA+IGluZGV4KSB7XG4gICAgICAgIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywga2V5ID0ga2V5c1tpbmRleCsrXSk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yICE9PSB1bmRlZmluZWQpIGNyZWF0ZVByb3BlcnR5KHJlc3VsdCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9KTtcblxuICB2YXIgcGF0aCQ1ID0gcGF0aCRvO1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzJDIgPSBwYXRoJDUuT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG5cbiAgdmFyIHBhcmVudCRyID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyQyO1xuXG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzJDEgPSBwYXJlbnQkcjtcblxuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMkMTtcblxuICB2YXIgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpO1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0aWVzJDQgPSB7ZXhwb3J0czoge319O1xuXG4gIHZhciAkJGggPSBfZXhwb3J0O1xuICB2YXIgREVTQ1JJUFRPUlMkMyA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZGVmaW5lUHJvcGVydGllcyQzID0gb2JqZWN0RGVmaW5lUHJvcGVydGllcy5mO1xuXG4gIC8vIGBPYmplY3QuZGVmaW5lUHJvcGVydGllc2AgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtb2JqZWN0LmRlZmluZXByb3BlcnRpZXNcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0aWVzIC0tIHNhZmVcbiAgJCRoKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyAhPT0gZGVmaW5lUHJvcGVydGllcyQzLCBzaGFtOiAhREVTQ1JJUFRPUlMkMyB9LCB7XG4gICAgZGVmaW5lUHJvcGVydGllczogZGVmaW5lUHJvcGVydGllcyQzXG4gIH0pO1xuXG4gIHZhciBwYXRoJDQgPSBwYXRoJG87XG5cbiAgdmFyIE9iamVjdCQxID0gcGF0aCQ0Lk9iamVjdDtcblxuICB2YXIgZGVmaW5lUHJvcGVydGllcyQyID0gZGVmaW5lUHJvcGVydGllcyQ0LmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKFQsIEQpIHtcbiAgICByZXR1cm4gT2JqZWN0JDEuZGVmaW5lUHJvcGVydGllcyhULCBEKTtcbiAgfTtcblxuICBpZiAoT2JqZWN0JDEuZGVmaW5lUHJvcGVydGllcy5zaGFtKSBkZWZpbmVQcm9wZXJ0aWVzJDIuc2hhbSA9IHRydWU7XG5cbiAgdmFyIGRlZmluZVByb3BlcnRpZXNFeHBvcnRzID0gZGVmaW5lUHJvcGVydGllcyQ0LmV4cG9ydHM7XG5cbiAgdmFyIHBhcmVudCRxID0gZGVmaW5lUHJvcGVydGllc0V4cG9ydHM7XG5cbiAgdmFyIGRlZmluZVByb3BlcnRpZXMkMSA9IHBhcmVudCRxO1xuXG4gIHZhciBkZWZpbmVQcm9wZXJ0aWVzID0gZGVmaW5lUHJvcGVydGllcyQxO1xuXG4gIHZhciBfT2JqZWN0JGRlZmluZVByb3BlcnRpZXMgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoZGVmaW5lUHJvcGVydGllcyk7XG5cbiAgdmFyIGRlZmluZVByb3BlcnR5JDIgPSBkZWZpbmVQcm9wZXJ0eSRiO1xuXG4gIHZhciBfT2JqZWN0JGRlZmluZVByb3BlcnR5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGRlZmluZVByb3BlcnR5JDIpO1xuXG4gIGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICAgIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICB2YXIgcGFyZW50JHAgPSBjcmVhdGUkNztcblxuICB2YXIgY3JlYXRlJDQgPSBwYXJlbnQkcDtcblxuICB2YXIgcGFyZW50JG8gPSBjcmVhdGUkNDtcblxuICB2YXIgY3JlYXRlJDMgPSBwYXJlbnQkbztcblxuICB2YXIgY3JlYXRlJDIgPSBjcmVhdGUkMztcblxuICB2YXIgX09iamVjdCRjcmVhdGUgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoY3JlYXRlJDIpO1xuXG4gIHZhciAkJGcgPSBfZXhwb3J0O1xuICB2YXIgc2V0UHJvdG90eXBlT2YkNiA9IG9iamVjdFNldFByb3RvdHlwZU9mO1xuXG4gIC8vIGBPYmplY3Quc2V0UHJvdG90eXBlT2ZgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5zZXRwcm90b3R5cGVvZlxuICAkJGcoeyB0YXJnZXQ6ICdPYmplY3QnLCBzdGF0OiB0cnVlIH0sIHtcbiAgICBzZXRQcm90b3R5cGVPZjogc2V0UHJvdG90eXBlT2YkNlxuICB9KTtcblxuICB2YXIgcGF0aCQzID0gcGF0aCRvO1xuXG4gIHZhciBzZXRQcm90b3R5cGVPZiQ1ID0gcGF0aCQzLk9iamVjdC5zZXRQcm90b3R5cGVPZjtcblxuICB2YXIgcGFyZW50JG4gPSBzZXRQcm90b3R5cGVPZiQ1O1xuXG4gIHZhciBzZXRQcm90b3R5cGVPZiQ0ID0gcGFyZW50JG47XG5cbiAgdmFyIHBhcmVudCRtID0gc2V0UHJvdG90eXBlT2YkNDtcblxuICB2YXIgc2V0UHJvdG90eXBlT2YkMyA9IHBhcmVudCRtO1xuXG4gIHZhciBwYXJlbnQkbCA9IHNldFByb3RvdHlwZU9mJDM7XG5cbiAgdmFyIHNldFByb3RvdHlwZU9mJDIgPSBwYXJlbnQkbDtcblxuICB2YXIgc2V0UHJvdG90eXBlT2YkMSA9IHNldFByb3RvdHlwZU9mJDI7XG5cbiAgdmFyIF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoc2V0UHJvdG90eXBlT2YkMSk7XG5cbiAgdmFyIHBhcmVudCRrID0gYmluZCRjO1xuXG4gIHZhciBiaW5kJDcgPSBwYXJlbnQkaztcblxuICB2YXIgcGFyZW50JGogPSBiaW5kJDc7XG5cbiAgdmFyIGJpbmQkNiA9IHBhcmVudCRqO1xuXG4gIHZhciBiaW5kJDUgPSBiaW5kJDY7XG5cbiAgdmFyIF9iaW5kSW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhiaW5kJDUpO1xuXG4gIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgdmFyIF9jb250ZXh0O1xuICAgIF9zZXRQcm90b3R5cGVPZiA9IF9PYmplY3Qkc2V0UHJvdG90eXBlT2YgPyBfYmluZEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQgPSBfT2JqZWN0JHNldFByb3RvdHlwZU9mKS5jYWxsKF9jb250ZXh0KSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgICByZXR1cm4gbztcbiAgICB9O1xuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG4gIH1cblxuICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IF9PYmplY3QkY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIF9PYmplY3QkZGVmaW5lUHJvcGVydHkkMShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwge1xuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG4gICAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG4gIH1cblxuICBmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gICAgaWYgKGNhbGwgJiYgKF90eXBlb2YkMShjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgcmV0dXJuIGNhbGw7XG4gICAgfSBlbHNlIGlmIChjYWxsICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG4gIH1cblxuICB2YXIgcGFyZW50JGkgPSBnZXRQcm90b3R5cGVPZiQ0O1xuXG4gIHZhciBnZXRQcm90b3R5cGVPZiQzID0gcGFyZW50JGk7XG5cbiAgdmFyIHBhcmVudCRoID0gZ2V0UHJvdG90eXBlT2YkMztcblxuICB2YXIgZ2V0UHJvdG90eXBlT2YkMiA9IHBhcmVudCRoO1xuXG4gIHZhciBnZXRQcm90b3R5cGVPZiQxID0gZ2V0UHJvdG90eXBlT2YkMjtcblxuICB2YXIgX09iamVjdCRnZXRQcm90b3R5cGVPZiA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhnZXRQcm90b3R5cGVPZiQxKTtcblxuICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHZhciBfY29udGV4dDtcbiAgICBfZ2V0UHJvdG90eXBlT2YgPSBfT2JqZWN0JHNldFByb3RvdHlwZU9mID8gX2JpbmRJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0ID0gX09iamVjdCRnZXRQcm90b3R5cGVPZikuY2FsbChfY29udGV4dCkgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgICAgcmV0dXJuIG8uX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2Yobyk7XG4gICAgfTtcbiAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICB9XG5cbiAgdmFyIHJlZ2VuZXJhdG9yUnVudGltZSQxID0ge2V4cG9ydHM6IHt9fTtcblxuICB2YXIgX3R5cGVvZiA9IHtleHBvcnRzOiB7fX07XG5cbiAgKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgXHR2YXIgX1N5bWJvbCA9IHN5bWJvbCQxO1xuICBcdHZhciBfU3ltYm9sJGl0ZXJhdG9yID0gaXRlcmF0b3IkMTtcbiAgXHRmdW5jdGlvbiBfdHlwZW9mKG8pIHtcbiAgXHQgIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICBcdCAgcmV0dXJuIChtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIF9TeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgX1N5bWJvbCRpdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7XG4gIFx0ICAgIHJldHVybiB0eXBlb2YgbztcbiAgXHQgIH0gOiBmdW5jdGlvbiAobykge1xuICBcdCAgICByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIF9TeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gX1N5bWJvbCAmJiBvICE9PSBfU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbztcbiAgXHQgIH0sIG1vZHVsZS5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlLCBtb2R1bGUuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBtb2R1bGUuZXhwb3J0cyksIF90eXBlb2Yobyk7XG4gIFx0fVxuICBcdG1vZHVsZS5leHBvcnRzID0gX3R5cGVvZiwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyBcbiAgfSAoX3R5cGVvZikpO1xuXG4gIHZhciBfdHlwZW9mRXhwb3J0cyA9IF90eXBlb2YuZXhwb3J0cztcblxuICB2YXIgcGFyZW50JGcgPSBmb3JFYWNoJDU7XG5cbiAgdmFyIGZvckVhY2gkMyA9IHBhcmVudCRnO1xuXG4gIHZhciBwYXJlbnQkZiA9IGZvckVhY2gkMztcblxuICB2YXIgZm9yRWFjaCQyID0gcGFyZW50JGY7XG5cbiAgdmFyIGZvckVhY2gkMSA9IGZvckVhY2gkMjtcblxuICB2YXIgaGFzT3duJDUgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgb3duS2V5cyQxID0gb3duS2V5cyQ3O1xuICB2YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yTW9kdWxlID0gb2JqZWN0R2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICB2YXIgZGVmaW5lUHJvcGVydHlNb2R1bGUgPSBvYmplY3REZWZpbmVQcm9wZXJ0eTtcblxuICB2YXIgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyQxID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlLCBleGNlcHRpb25zKSB7XG4gICAgdmFyIGtleXMgPSBvd25LZXlzJDEoc291cmNlKTtcbiAgICB2YXIgZGVmaW5lUHJvcGVydHkgPSBkZWZpbmVQcm9wZXJ0eU1vZHVsZS5mO1xuICAgIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JNb2R1bGUuZjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKCFoYXNPd24kNSh0YXJnZXQsIGtleSkgJiYgIShleGNlcHRpb25zICYmIGhhc093biQ1KGV4Y2VwdGlvbnMsIGtleSkpKSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzT2JqZWN0JDUgPSBpc09iamVjdCRoO1xuICB2YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDMgPSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkOTtcblxuICAvLyBgSW5zdGFsbEVycm9yQ2F1c2VgIGFic3RyYWN0IG9wZXJhdGlvblxuICAvLyBodHRwczovL3RjMzkuZXMvcHJvcG9zYWwtZXJyb3ItY2F1c2UvI3NlYy1lcnJvcm9iamVjdHMtaW5zdGFsbC1lcnJvci1jYXVzZVxuICB2YXIgaW5zdGFsbEVycm9yQ2F1c2UkMSA9IGZ1bmN0aW9uIChPLCBvcHRpb25zKSB7XG4gICAgaWYgKGlzT2JqZWN0JDUob3B0aW9ucykgJiYgJ2NhdXNlJyBpbiBvcHRpb25zKSB7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMyhPLCAnY2F1c2UnLCBvcHRpb25zLmNhdXNlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVuY3VycnlUaGlzJDIgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuXG4gIHZhciAkRXJyb3IkMSA9IEVycm9yO1xuICB2YXIgcmVwbGFjZSA9IHVuY3VycnlUaGlzJDIoJycucmVwbGFjZSk7XG5cbiAgdmFyIFRFU1QgPSAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gU3RyaW5nKG5ldyAkRXJyb3IkMShhcmcpLnN0YWNrKTsgfSkoJ3p4Y2FzZCcpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVkb3Mvbm8tdnVsbmVyYWJsZSAtLSBzYWZlXG4gIHZhciBWOF9PUl9DSEFLUkFfU1RBQ0tfRU5UUlkgPSAvXFxuXFxzKmF0IFteOl0qOlteXFxuXSovO1xuICB2YXIgSVNfVjhfT1JfQ0hBS1JBX1NUQUNLID0gVjhfT1JfQ0hBS1JBX1NUQUNLX0VOVFJZLnRlc3QoVEVTVCk7XG5cbiAgdmFyIGVycm9yU3RhY2tDbGVhciA9IGZ1bmN0aW9uIChzdGFjaywgZHJvcEVudHJpZXMpIHtcbiAgICBpZiAoSVNfVjhfT1JfQ0hBS1JBX1NUQUNLICYmIHR5cGVvZiBzdGFjayA9PSAnc3RyaW5nJyAmJiAhJEVycm9yJDEucHJlcGFyZVN0YWNrVHJhY2UpIHtcbiAgICAgIHdoaWxlIChkcm9wRW50cmllcy0tKSBzdGFjayA9IHJlcGxhY2Uoc3RhY2ssIFY4X09SX0NIQUtSQV9TVEFDS19FTlRSWSwgJycpO1xuICAgIH0gcmV0dXJuIHN0YWNrO1xuICB9O1xuXG4gIHZhciBmYWlscyQ3ID0gZmFpbHMkdTtcbiAgdmFyIGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvciQxID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDc7XG5cbiAgdmFyIGVycm9yU3RhY2tJbnN0YWxsYWJsZSA9ICFmYWlscyQ3KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ2EnKTtcbiAgICBpZiAoISgnc3RhY2snIGluIGVycm9yKSkgcmV0dXJuIHRydWU7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVycm9yLCAnc3RhY2snLCBjcmVhdGVQcm9wZXJ0eURlc2NyaXB0b3IkMSgxLCA3KSk7XG4gICAgcmV0dXJuIGVycm9yLnN0YWNrICE9PSA3O1xuICB9KTtcblxuICB2YXIgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDIgPSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkOTtcbiAgdmFyIGNsZWFyRXJyb3JTdGFjayA9IGVycm9yU3RhY2tDbGVhcjtcbiAgdmFyIEVSUk9SX1NUQUNLX0lOU1RBTExBQkxFID0gZXJyb3JTdGFja0luc3RhbGxhYmxlO1xuXG4gIC8vIG5vbi1zdGFuZGFyZCBWOFxuICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTtcblxuICB2YXIgZXJyb3JTdGFja0luc3RhbGwgPSBmdW5jdGlvbiAoZXJyb3IsIEMsIHN0YWNrLCBkcm9wRW50cmllcykge1xuICAgIGlmIChFUlJPUl9TVEFDS19JTlNUQUxMQUJMRSkge1xuICAgICAgaWYgKGNhcHR1cmVTdGFja1RyYWNlKSBjYXB0dXJlU3RhY2tUcmFjZShlcnJvciwgQyk7XG4gICAgICBlbHNlIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQyKGVycm9yLCAnc3RhY2snLCBjbGVhckVycm9yU3RhY2soc3RhY2ssIGRyb3BFbnRyaWVzKSk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBiaW5kJDQgPSBmdW5jdGlvbkJpbmRDb250ZXh0O1xuICB2YXIgY2FsbCQ2ID0gZnVuY3Rpb25DYWxsO1xuICB2YXIgYW5PYmplY3QkMiA9IGFuT2JqZWN0JGQ7XG4gIHZhciB0cnlUb1N0cmluZyA9IHRyeVRvU3RyaW5nJDY7XG4gIHZhciBpc0FycmF5SXRlcmF0b3JNZXRob2QgPSBpc0FycmF5SXRlcmF0b3JNZXRob2QkMjtcbiAgdmFyIGxlbmd0aE9mQXJyYXlMaWtlJDEgPSBsZW5ndGhPZkFycmF5TGlrZSRkO1xuICB2YXIgaXNQcm90b3R5cGVPZiQ3ID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIGdldEl0ZXJhdG9yJDYgPSBnZXRJdGVyYXRvciQ4O1xuICB2YXIgZ2V0SXRlcmF0b3JNZXRob2QgPSBnZXRJdGVyYXRvck1ldGhvZCQ5O1xuICB2YXIgaXRlcmF0b3JDbG9zZSA9IGl0ZXJhdG9yQ2xvc2UkMjtcblxuICB2YXIgJFR5cGVFcnJvciQyID0gVHlwZUVycm9yO1xuXG4gIHZhciBSZXN1bHQgPSBmdW5jdGlvbiAoc3RvcHBlZCwgcmVzdWx0KSB7XG4gICAgdGhpcy5zdG9wcGVkID0gc3RvcHBlZDtcbiAgICB0aGlzLnJlc3VsdCA9IHJlc3VsdDtcbiAgfTtcblxuICB2YXIgUmVzdWx0UHJvdG90eXBlID0gUmVzdWx0LnByb3RvdHlwZTtcblxuICB2YXIgaXRlcmF0ZSQ3ID0gZnVuY3Rpb24gKGl0ZXJhYmxlLCB1bmJvdW5kRnVuY3Rpb24sIG9wdGlvbnMpIHtcbiAgICB2YXIgdGhhdCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aGF0O1xuICAgIHZhciBBU19FTlRSSUVTID0gISEob3B0aW9ucyAmJiBvcHRpb25zLkFTX0VOVFJJRVMpO1xuICAgIHZhciBJU19SRUNPUkQgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuSVNfUkVDT1JEKTtcbiAgICB2YXIgSVNfSVRFUkFUT1IgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuSVNfSVRFUkFUT1IpO1xuICAgIHZhciBJTlRFUlJVUFRFRCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5JTlRFUlJVUFRFRCk7XG4gICAgdmFyIGZuID0gYmluZCQ0KHVuYm91bmRGdW5jdGlvbiwgdGhhdCk7XG4gICAgdmFyIGl0ZXJhdG9yLCBpdGVyRm4sIGluZGV4LCBsZW5ndGgsIHJlc3VsdCwgbmV4dCwgc3RlcDtcblxuICAgIHZhciBzdG9wID0gZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgICAgaWYgKGl0ZXJhdG9yKSBpdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCAnbm9ybWFsJywgY29uZGl0aW9uKTtcbiAgICAgIHJldHVybiBuZXcgUmVzdWx0KHRydWUsIGNvbmRpdGlvbik7XG4gICAgfTtcblxuICAgIHZhciBjYWxsRm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChBU19FTlRSSUVTKSB7XG4gICAgICAgIGFuT2JqZWN0JDIodmFsdWUpO1xuICAgICAgICByZXR1cm4gSU5URVJSVVBURUQgPyBmbih2YWx1ZVswXSwgdmFsdWVbMV0sIHN0b3ApIDogZm4odmFsdWVbMF0sIHZhbHVlWzFdKTtcbiAgICAgIH0gcmV0dXJuIElOVEVSUlVQVEVEID8gZm4odmFsdWUsIHN0b3ApIDogZm4odmFsdWUpO1xuICAgIH07XG5cbiAgICBpZiAoSVNfUkVDT1JEKSB7XG4gICAgICBpdGVyYXRvciA9IGl0ZXJhYmxlLml0ZXJhdG9yO1xuICAgIH0gZWxzZSBpZiAoSVNfSVRFUkFUT1IpIHtcbiAgICAgIGl0ZXJhdG9yID0gaXRlcmFibGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJGbiA9IGdldEl0ZXJhdG9yTWV0aG9kKGl0ZXJhYmxlKTtcbiAgICAgIGlmICghaXRlckZuKSB0aHJvdyBuZXcgJFR5cGVFcnJvciQyKHRyeVRvU3RyaW5nKGl0ZXJhYmxlKSArICcgaXMgbm90IGl0ZXJhYmxlJyk7XG4gICAgICAvLyBvcHRpbWlzYXRpb24gZm9yIGFycmF5IGl0ZXJhdG9yc1xuICAgICAgaWYgKGlzQXJyYXlJdGVyYXRvck1ldGhvZChpdGVyRm4pKSB7XG4gICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZSQxKGl0ZXJhYmxlKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgICByZXN1bHQgPSBjYWxsRm4oaXRlcmFibGVbaW5kZXhdKTtcbiAgICAgICAgICBpZiAocmVzdWx0ICYmIGlzUHJvdG90eXBlT2YkNyhSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gcmV0dXJuIG5ldyBSZXN1bHQoZmFsc2UpO1xuICAgICAgfVxuICAgICAgaXRlcmF0b3IgPSBnZXRJdGVyYXRvciQ2KGl0ZXJhYmxlLCBpdGVyRm4pO1xuICAgIH1cblxuICAgIG5leHQgPSBJU19SRUNPUkQgPyBpdGVyYWJsZS5uZXh0IDogaXRlcmF0b3IubmV4dDtcbiAgICB3aGlsZSAoIShzdGVwID0gY2FsbCQ2KG5leHQsIGl0ZXJhdG9yKSkuZG9uZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gY2FsbEZuKHN0ZXAudmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaXRlcmF0b3JDbG9zZShpdGVyYXRvciwgJ3Rocm93JywgZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT0gJ29iamVjdCcgJiYgcmVzdWx0ICYmIGlzUHJvdG90eXBlT2YkNyhSZXN1bHRQcm90b3R5cGUsIHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgfSByZXR1cm4gbmV3IFJlc3VsdChmYWxzZSk7XG4gIH07XG5cbiAgdmFyIHRvU3RyaW5nJDEgPSB0b1N0cmluZyQ3O1xuXG4gIHZhciBub3JtYWxpemVTdHJpbmdBcmd1bWVudCQxID0gZnVuY3Rpb24gKGFyZ3VtZW50LCAkZGVmYXVsdCkge1xuICAgIHJldHVybiBhcmd1bWVudCA9PT0gdW5kZWZpbmVkID8gYXJndW1lbnRzLmxlbmd0aCA8IDIgPyAnJyA6ICRkZWZhdWx0IDogdG9TdHJpbmckMShhcmd1bWVudCk7XG4gIH07XG5cbiAgdmFyICQkZiA9IF9leHBvcnQ7XG4gIHZhciBpc1Byb3RvdHlwZU9mJDYgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgZ2V0UHJvdG90eXBlT2YgPSBvYmplY3RHZXRQcm90b3R5cGVPZjtcbiAgdmFyIHNldFByb3RvdHlwZU9mID0gb2JqZWN0U2V0UHJvdG90eXBlT2Y7XG4gIHZhciBjb3B5Q29uc3RydWN0b3JQcm9wZXJ0aWVzID0gY29weUNvbnN0cnVjdG9yUHJvcGVydGllcyQxO1xuICB2YXIgY3JlYXRlJDEgPSBvYmplY3RDcmVhdGU7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMSA9IGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQ5O1xuICB2YXIgY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yID0gY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yJDc7XG4gIHZhciBpbnN0YWxsRXJyb3JDYXVzZSA9IGluc3RhbGxFcnJvckNhdXNlJDE7XG4gIHZhciBpbnN0YWxsRXJyb3JTdGFjayA9IGVycm9yU3RhY2tJbnN0YWxsO1xuICB2YXIgaXRlcmF0ZSQ2ID0gaXRlcmF0ZSQ3O1xuICB2YXIgbm9ybWFsaXplU3RyaW5nQXJndW1lbnQgPSBub3JtYWxpemVTdHJpbmdBcmd1bWVudCQxO1xuICB2YXIgd2VsbEtub3duU3ltYm9sJDMgPSB3ZWxsS25vd25TeW1ib2wkbjtcblxuICB2YXIgVE9fU1RSSU5HX1RBRyA9IHdlbGxLbm93blN5bWJvbCQzKCd0b1N0cmluZ1RhZycpO1xuICB2YXIgJEVycm9yID0gRXJyb3I7XG4gIHZhciBwdXNoJDEgPSBbXS5wdXNoO1xuXG4gIHZhciAkQWdncmVnYXRlRXJyb3IgPSBmdW5jdGlvbiBBZ2dyZWdhdGVFcnJvcihlcnJvcnMsIG1lc3NhZ2UgLyogLCBvcHRpb25zICovKSB7XG4gICAgdmFyIGlzSW5zdGFuY2UgPSBpc1Byb3RvdHlwZU9mJDYoQWdncmVnYXRlRXJyb3JQcm90b3R5cGUsIHRoaXMpO1xuICAgIHZhciB0aGF0O1xuICAgIGlmIChzZXRQcm90b3R5cGVPZikge1xuICAgICAgdGhhdCA9IHNldFByb3RvdHlwZU9mKG5ldyAkRXJyb3IoKSwgaXNJbnN0YW5jZSA/IGdldFByb3RvdHlwZU9mKHRoaXMpIDogQWdncmVnYXRlRXJyb3JQcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGF0ID0gaXNJbnN0YW5jZSA/IHRoaXMgOiBjcmVhdGUkMShBZ2dyZWdhdGVFcnJvclByb3RvdHlwZSk7XG4gICAgICBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkMSh0aGF0LCBUT19TVFJJTkdfVEFHLCAnRXJyb3InKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UgIT09IHVuZGVmaW5lZCkgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5JDEodGhhdCwgJ21lc3NhZ2UnLCBub3JtYWxpemVTdHJpbmdBcmd1bWVudChtZXNzYWdlKSk7XG4gICAgaW5zdGFsbEVycm9yU3RhY2sodGhhdCwgJEFnZ3JlZ2F0ZUVycm9yLCB0aGF0LnN0YWNrLCAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIGluc3RhbGxFcnJvckNhdXNlKHRoYXQsIGFyZ3VtZW50c1syXSk7XG4gICAgdmFyIGVycm9yc0FycmF5ID0gW107XG4gICAgaXRlcmF0ZSQ2KGVycm9ycywgcHVzaCQxLCB7IHRoYXQ6IGVycm9yc0FycmF5IH0pO1xuICAgIGNyZWF0ZU5vbkVudW1lcmFibGVQcm9wZXJ0eSQxKHRoYXQsICdlcnJvcnMnLCBlcnJvcnNBcnJheSk7XG4gICAgcmV0dXJuIHRoYXQ7XG4gIH07XG5cbiAgaWYgKHNldFByb3RvdHlwZU9mKSBzZXRQcm90b3R5cGVPZigkQWdncmVnYXRlRXJyb3IsICRFcnJvcik7XG4gIGVsc2UgY29weUNvbnN0cnVjdG9yUHJvcGVydGllcygkQWdncmVnYXRlRXJyb3IsICRFcnJvciwgeyBuYW1lOiB0cnVlIH0pO1xuXG4gIHZhciBBZ2dyZWdhdGVFcnJvclByb3RvdHlwZSA9ICRBZ2dyZWdhdGVFcnJvci5wcm90b3R5cGUgPSBjcmVhdGUkMSgkRXJyb3IucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCAkQWdncmVnYXRlRXJyb3IpLFxuICAgIG1lc3NhZ2U6IGNyZWF0ZVByb3BlcnR5RGVzY3JpcHRvcigxLCAnJyksXG4gICAgbmFtZTogY3JlYXRlUHJvcGVydHlEZXNjcmlwdG9yKDEsICdBZ2dyZWdhdGVFcnJvcicpXG4gIH0pO1xuXG4gIC8vIGBBZ2dyZWdhdGVFcnJvcmAgY29uc3RydWN0b3JcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1hZ2dyZWdhdGUtZXJyb3ItY29uc3RydWN0b3JcbiAgJCRmKHsgZ2xvYmFsOiB0cnVlLCBjb25zdHJ1Y3RvcjogdHJ1ZSwgYXJpdHk6IDIgfSwge1xuICAgIEFnZ3JlZ2F0ZUVycm9yOiAkQWdncmVnYXRlRXJyb3JcbiAgfSk7XG5cbiAgdmFyIGdldEJ1aWx0SW4kMyA9IGdldEJ1aWx0SW4kZjtcbiAgdmFyIGRlZmluZUJ1aWx0SW5BY2Nlc3NvciQxID0gZGVmaW5lQnVpbHRJbkFjY2Vzc29yJDM7XG4gIHZhciB3ZWxsS25vd25TeW1ib2wkMiA9IHdlbGxLbm93blN5bWJvbCRuO1xuICB2YXIgREVTQ1JJUFRPUlMkMiA9IGRlc2NyaXB0b3JzO1xuXG4gIHZhciBTUEVDSUVTJDIgPSB3ZWxsS25vd25TeW1ib2wkMignc3BlY2llcycpO1xuXG4gIHZhciBzZXRTcGVjaWVzJDIgPSBmdW5jdGlvbiAoQ09OU1RSVUNUT1JfTkFNRSkge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IGdldEJ1aWx0SW4kMyhDT05TVFJVQ1RPUl9OQU1FKTtcblxuICAgIGlmIChERVNDUklQVE9SUyQyICYmIENvbnN0cnVjdG9yICYmICFDb25zdHJ1Y3RvcltTUEVDSUVTJDJdKSB7XG4gICAgICBkZWZpbmVCdWlsdEluQWNjZXNzb3IkMShDb25zdHJ1Y3RvciwgU1BFQ0lFUyQyLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkNSA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG5cbiAgdmFyICRUeXBlRXJyb3IkMSA9IFR5cGVFcnJvcjtcblxuICB2YXIgYW5JbnN0YW5jZSQzID0gZnVuY3Rpb24gKGl0LCBQcm90b3R5cGUpIHtcbiAgICBpZiAoaXNQcm90b3R5cGVPZiQ1KFByb3RvdHlwZSwgaXQpKSByZXR1cm4gaXQ7XG4gICAgdGhyb3cgbmV3ICRUeXBlRXJyb3IkMSgnSW5jb3JyZWN0IGludm9jYXRpb24nKTtcbiAgfTtcblxuICB2YXIgYW5PYmplY3QkMSA9IGFuT2JqZWN0JGQ7XG4gIHZhciBhQ29uc3RydWN0b3IgPSBhQ29uc3RydWN0b3IkMjtcbiAgdmFyIGlzTnVsbE9yVW5kZWZpbmVkJDIgPSBpc051bGxPclVuZGVmaW5lZCQ2O1xuICB2YXIgd2VsbEtub3duU3ltYm9sJDEgPSB3ZWxsS25vd25TeW1ib2wkbjtcblxuICB2YXIgU1BFQ0lFUyQxID0gd2VsbEtub3duU3ltYm9sJDEoJ3NwZWNpZXMnKTtcblxuICAvLyBgU3BlY2llc0NvbnN0cnVjdG9yYCBhYnN0cmFjdCBvcGVyYXRpb25cbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zcGVjaWVzY29uc3RydWN0b3JcbiAgdmFyIHNwZWNpZXNDb25zdHJ1Y3RvciQyID0gZnVuY3Rpb24gKE8sIGRlZmF1bHRDb25zdHJ1Y3Rvcikge1xuICAgIHZhciBDID0gYW5PYmplY3QkMShPKS5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgUztcbiAgICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IGlzTnVsbE9yVW5kZWZpbmVkJDIoUyA9IGFuT2JqZWN0JDEoQylbU1BFQ0lFUyQxXSkgPyBkZWZhdWx0Q29uc3RydWN0b3IgOiBhQ29uc3RydWN0b3IoUyk7XG4gIH07XG5cbiAgdmFyIHVzZXJBZ2VudCQ0ID0gZW5naW5lVXNlckFnZW50O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWRvcy9uby12dWxuZXJhYmxlIC0tIHNhZmVcbiAgdmFyIGVuZ2luZUlzSW9zID0gLyg/OmlwYWR8aXBob25lfGlwb2QpLiphcHBsZXdlYmtpdC9pLnRlc3QodXNlckFnZW50JDQpO1xuXG4gIHZhciBnbG9iYWwkNiA9IGdsb2JhbCRwO1xuICB2YXIgYXBwbHkgPSBmdW5jdGlvbkFwcGx5O1xuICB2YXIgYmluZCQzID0gZnVuY3Rpb25CaW5kQ29udGV4dDtcbiAgdmFyIGlzQ2FsbGFibGUkNCA9IGlzQ2FsbGFibGUkbTtcbiAgdmFyIGhhc093biQ0ID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIGZhaWxzJDYgPSBmYWlscyR1O1xuICB2YXIgaHRtbCA9IGh0bWwkMjtcbiAgdmFyIGFycmF5U2xpY2UkMSA9IGFycmF5U2xpY2UkNTtcbiAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBkb2N1bWVudENyZWF0ZUVsZW1lbnQkMTtcbiAgdmFyIHZhbGlkYXRlQXJndW1lbnRzTGVuZ3RoID0gdmFsaWRhdGVBcmd1bWVudHNMZW5ndGgkMjtcbiAgdmFyIElTX0lPUyQxID0gZW5naW5lSXNJb3M7XG4gIHZhciBJU19OT0RFJDMgPSBlbmdpbmVJc05vZGU7XG5cbiAgdmFyIHNldCQzID0gZ2xvYmFsJDYuc2V0SW1tZWRpYXRlO1xuICB2YXIgY2xlYXIgPSBnbG9iYWwkNi5jbGVhckltbWVkaWF0ZTtcbiAgdmFyIHByb2Nlc3MkMiA9IGdsb2JhbCQ2LnByb2Nlc3M7XG4gIHZhciBEaXNwYXRjaCA9IGdsb2JhbCQ2LkRpc3BhdGNoO1xuICB2YXIgRnVuY3Rpb24kMSA9IGdsb2JhbCQ2LkZ1bmN0aW9uO1xuICB2YXIgTWVzc2FnZUNoYW5uZWwgPSBnbG9iYWwkNi5NZXNzYWdlQ2hhbm5lbDtcbiAgdmFyIFN0cmluZyQxID0gZ2xvYmFsJDYuU3RyaW5nO1xuICB2YXIgY291bnRlciA9IDA7XG4gIHZhciBxdWV1ZSQyID0ge307XG4gIHZhciBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbiAgdmFyICRsb2NhdGlvbiwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG5cbiAgZmFpbHMkNihmdW5jdGlvbiAoKSB7XG4gICAgLy8gRGVubyB0aHJvd3MgYSBSZWZlcmVuY2VFcnJvciBvbiBgbG9jYXRpb25gIGFjY2VzcyB3aXRob3V0IGAtLWxvY2F0aW9uYCBmbGFnXG4gICAgJGxvY2F0aW9uID0gZ2xvYmFsJDYubG9jYXRpb247XG4gIH0pO1xuXG4gIHZhciBydW4gPSBmdW5jdGlvbiAoaWQpIHtcbiAgICBpZiAoaGFzT3duJDQocXVldWUkMiwgaWQpKSB7XG4gICAgICB2YXIgZm4gPSBxdWV1ZSQyW2lkXTtcbiAgICAgIGRlbGV0ZSBxdWV1ZSQyW2lkXTtcbiAgICAgIGZuKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBydW5uZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcnVuKGlkKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBldmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgcnVuKGV2ZW50LmRhdGEpO1xuICB9O1xuXG4gIHZhciBnbG9iYWxQb3N0TWVzc2FnZURlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgLy8gb2xkIGVuZ2luZXMgaGF2ZSBub3QgbG9jYXRpb24ub3JpZ2luXG4gICAgZ2xvYmFsJDYucG9zdE1lc3NhZ2UoU3RyaW5nJDEoaWQpLCAkbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgJGxvY2F0aW9uLmhvc3QpO1xuICB9O1xuXG4gIC8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbiAgaWYgKCFzZXQkMyB8fCAhY2xlYXIpIHtcbiAgICBzZXQkMyA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShoYW5kbGVyKSB7XG4gICAgICB2YWxpZGF0ZUFyZ3VtZW50c0xlbmd0aChhcmd1bWVudHMubGVuZ3RoLCAxKTtcbiAgICAgIHZhciBmbiA9IGlzQ2FsbGFibGUkNChoYW5kbGVyKSA/IGhhbmRsZXIgOiBGdW5jdGlvbiQxKGhhbmRsZXIpO1xuICAgICAgdmFyIGFyZ3MgPSBhcnJheVNsaWNlJDEoYXJndW1lbnRzLCAxKTtcbiAgICAgIHF1ZXVlJDJbKytjb3VudGVyXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXBwbHkoZm4sIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9O1xuICAgICAgZGVmZXIoY291bnRlcik7XG4gICAgICByZXR1cm4gY291bnRlcjtcbiAgICB9O1xuICAgIGNsZWFyID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpIHtcbiAgICAgIGRlbGV0ZSBxdWV1ZSQyW2lkXTtcbiAgICB9O1xuICAgIC8vIE5vZGUuanMgMC44LVxuICAgIGlmIChJU19OT0RFJDMpIHtcbiAgICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHByb2Nlc3MkMi5uZXh0VGljayhydW5uZXIoaWQpKTtcbiAgICAgIH07XG4gICAgLy8gU3BoZXJlIChKUyBnYW1lIGVuZ2luZSkgRGlzcGF0Y2ggQVBJXG4gICAgfSBlbHNlIGlmIChEaXNwYXRjaCAmJiBEaXNwYXRjaC5ub3cpIHtcbiAgICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIERpc3BhdGNoLm5vdyhydW5uZXIoaWQpKTtcbiAgICAgIH07XG4gICAgLy8gQnJvd3NlcnMgd2l0aCBNZXNzYWdlQ2hhbm5lbCwgaW5jbHVkZXMgV2ViV29ya2Vyc1xuICAgIC8vIGV4Y2VwdCBpT1MgLSBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjI0XG4gICAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCAmJiAhSVNfSU9TJDEpIHtcbiAgICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBldmVudExpc3RlbmVyO1xuICAgICAgZGVmZXIgPSBiaW5kJDMocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCk7XG4gICAgLy8gQnJvd3NlcnMgd2l0aCBwb3N0TWVzc2FnZSwgc2tpcCBXZWJXb3JrZXJzXG4gICAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZ2xvYmFsJDYuYWRkRXZlbnRMaXN0ZW5lciAmJlxuICAgICAgaXNDYWxsYWJsZSQ0KGdsb2JhbCQ2LnBvc3RNZXNzYWdlKSAmJlxuICAgICAgIWdsb2JhbCQ2LmltcG9ydFNjcmlwdHMgJiZcbiAgICAgICRsb2NhdGlvbiAmJiAkbG9jYXRpb24ucHJvdG9jb2wgIT09ICdmaWxlOicgJiZcbiAgICAgICFmYWlscyQ2KGdsb2JhbFBvc3RNZXNzYWdlRGVmZXIpXG4gICAgKSB7XG4gICAgICBkZWZlciA9IGdsb2JhbFBvc3RNZXNzYWdlRGVmZXI7XG4gICAgICBnbG9iYWwkNi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnRMaXN0ZW5lciwgZmFsc2UpO1xuICAgIC8vIElFOC1cbiAgICB9IGVsc2UgaWYgKE9OUkVBRFlTVEFURUNIQU5HRSBpbiBjcmVhdGVFbGVtZW50KCdzY3JpcHQnKSkge1xuICAgICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KCdzY3JpcHQnKSlbT05SRUFEWVNUQVRFQ0hBTkdFXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICAgIHJ1bihpZCk7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHNldFRpbWVvdXQocnVubmVyKGlkKSwgMCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciB0YXNrJDEgPSB7XG4gICAgc2V0OiBzZXQkMyxcbiAgICBjbGVhcjogY2xlYXJcbiAgfTtcblxuICB2YXIgUXVldWUkMyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmhlYWQgPSBudWxsO1xuICAgIHRoaXMudGFpbCA9IG51bGw7XG4gIH07XG5cbiAgUXVldWUkMy5wcm90b3R5cGUgPSB7XG4gICAgYWRkOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGVudHJ5ID0geyBpdGVtOiBpdGVtLCBuZXh0OiBudWxsIH07XG4gICAgICB2YXIgdGFpbCA9IHRoaXMudGFpbDtcbiAgICAgIGlmICh0YWlsKSB0YWlsLm5leHQgPSBlbnRyeTtcbiAgICAgIGVsc2UgdGhpcy5oZWFkID0gZW50cnk7XG4gICAgICB0aGlzLnRhaWwgPSBlbnRyeTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5oZWFkO1xuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIHZhciBuZXh0ID0gdGhpcy5oZWFkID0gZW50cnkubmV4dDtcbiAgICAgICAgaWYgKG5leHQgPT09IG51bGwpIHRoaXMudGFpbCA9IG51bGw7XG4gICAgICAgIHJldHVybiBlbnRyeS5pdGVtO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgcXVldWUkMSA9IFF1ZXVlJDM7XG5cbiAgdmFyIHVzZXJBZ2VudCQzID0gZW5naW5lVXNlckFnZW50O1xuXG4gIHZhciBlbmdpbmVJc0lvc1BlYmJsZSA9IC9pcGFkfGlwaG9uZXxpcG9kL2kudGVzdCh1c2VyQWdlbnQkMykgJiYgdHlwZW9mIFBlYmJsZSAhPSAndW5kZWZpbmVkJztcblxuICB2YXIgdXNlckFnZW50JDIgPSBlbmdpbmVVc2VyQWdlbnQ7XG5cbiAgdmFyIGVuZ2luZUlzV2Vib3NXZWJraXQgPSAvd2ViMHMoPyEuKmNocm9tZSkvaS50ZXN0KHVzZXJBZ2VudCQyKTtcblxuICB2YXIgZ2xvYmFsJDUgPSBnbG9iYWwkcDtcbiAgdmFyIGJpbmQkMiA9IGZ1bmN0aW9uQmluZENvbnRleHQ7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBvYmplY3RHZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuZjtcbiAgdmFyIG1hY3JvdGFzayA9IHRhc2skMS5zZXQ7XG4gIHZhciBRdWV1ZSQyID0gcXVldWUkMTtcbiAgdmFyIElTX0lPUyA9IGVuZ2luZUlzSW9zO1xuICB2YXIgSVNfSU9TX1BFQkJMRSA9IGVuZ2luZUlzSW9zUGViYmxlO1xuICB2YXIgSVNfV0VCT1NfV0VCS0lUID0gZW5naW5lSXNXZWJvc1dlYmtpdDtcbiAgdmFyIElTX05PREUkMiA9IGVuZ2luZUlzTm9kZTtcblxuICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IGdsb2JhbCQ1Lk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsJDUuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgdmFyIGRvY3VtZW50JDIgPSBnbG9iYWwkNS5kb2N1bWVudDtcbiAgdmFyIHByb2Nlc3MkMSA9IGdsb2JhbCQ1LnByb2Nlc3M7XG4gIHZhciBQcm9taXNlJDEgPSBnbG9iYWwkNS5Qcm9taXNlO1xuICAvLyBOb2RlLmpzIDExIHNob3dzIEV4cGVyaW1lbnRhbFdhcm5pbmcgb24gZ2V0dGluZyBgcXVldWVNaWNyb3Rhc2tgXG4gIHZhciBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZ2xvYmFsJDUsICdxdWV1ZU1pY3JvdGFzaycpO1xuICB2YXIgbWljcm90YXNrJDEgPSBxdWV1ZU1pY3JvdGFza0Rlc2NyaXB0b3IgJiYgcXVldWVNaWNyb3Rhc2tEZXNjcmlwdG9yLnZhbHVlO1xuICB2YXIgbm90aWZ5JDEsIHRvZ2dsZSwgbm9kZSwgcHJvbWlzZSQ1LCB0aGVuO1xuXG4gIC8vIG1vZGVybiBlbmdpbmVzIGhhdmUgcXVldWVNaWNyb3Rhc2sgbWV0aG9kXG4gIGlmICghbWljcm90YXNrJDEpIHtcbiAgICB2YXIgcXVldWUgPSBuZXcgUXVldWUkMigpO1xuXG4gICAgdmFyIGZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmVudCwgZm47XG4gICAgICBpZiAoSVNfTk9ERSQyICYmIChwYXJlbnQgPSBwcm9jZXNzJDEuZG9tYWluKSkgcGFyZW50LmV4aXQoKTtcbiAgICAgIHdoaWxlIChmbiA9IHF1ZXVlLmdldCgpKSB0cnkge1xuICAgICAgICBmbigpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHF1ZXVlLmhlYWQpIG5vdGlmeSQxKCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudCkgcGFyZW50LmVudGVyKCk7XG4gICAgfTtcblxuICAgIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlciwgZXhjZXB0IGlPUyAtIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8zMzlcbiAgICAvLyBhbHNvIGV4Y2VwdCBXZWJPUyBXZWJraXQgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg5OFxuICAgIGlmICghSVNfSU9TICYmICFJU19OT0RFJDIgJiYgIUlTX1dFQk9TX1dFQktJVCAmJiBNdXRhdGlvbk9ic2VydmVyICYmIGRvY3VtZW50JDIpIHtcbiAgICAgIHRvZ2dsZSA9IHRydWU7XG4gICAgICBub2RlID0gZG9jdW1lbnQkMi5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG4gICAgICBub3RpZnkkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcbiAgICAgIH07XG4gICAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgICB9IGVsc2UgaWYgKCFJU19JT1NfUEVCQkxFICYmIFByb21pc2UkMSAmJiBQcm9taXNlJDEucmVzb2x2ZSkge1xuICAgICAgLy8gUHJvbWlzZS5yZXNvbHZlIHdpdGhvdXQgYW4gYXJndW1lbnQgdGhyb3dzIGFuIGVycm9yIGluIExHIFdlYk9TIDJcbiAgICAgIHByb21pc2UkNSA9IFByb21pc2UkMS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAvLyB3b3JrYXJvdW5kIG9mIFdlYktpdCB+IGlPUyBTYWZhcmkgMTAuMSBidWdcbiAgICAgIHByb21pc2UkNS5jb25zdHJ1Y3RvciA9IFByb21pc2UkMTtcbiAgICAgIHRoZW4gPSBiaW5kJDIocHJvbWlzZSQ1LnRoZW4sIHByb21pc2UkNSk7XG4gICAgICBub3RpZnkkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhlbihmbHVzaCk7XG4gICAgICB9O1xuICAgIC8vIE5vZGUuanMgd2l0aG91dCBwcm9taXNlc1xuICAgIH0gZWxzZSBpZiAoSVNfTk9ERSQyKSB7XG4gICAgICBub3RpZnkkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcHJvY2VzcyQxLm5leHRUaWNrKGZsdXNoKTtcbiAgICAgIH07XG4gICAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgICAvLyAtIHNldEltbWVkaWF0ZVxuICAgIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnZVxuICAgIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gICAgLy8gLSBzZXRUaW1lb3V0XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGB3ZWJwYWNrYCBkZXYgc2VydmVyIGJ1ZyBvbiBJRSBnbG9iYWwgbWV0aG9kcyAtIHVzZSBiaW5kKGZuLCBnbG9iYWwpXG4gICAgICBtYWNyb3Rhc2sgPSBiaW5kJDIobWFjcm90YXNrLCBnbG9iYWwkNSk7XG4gICAgICBub3RpZnkkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWFjcm90YXNrKGZsdXNoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbWljcm90YXNrJDEgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIGlmICghcXVldWUuaGVhZCkgbm90aWZ5JDEoKTtcbiAgICAgIHF1ZXVlLmFkZChmbik7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBtaWNyb3Rhc2tfMSA9IG1pY3JvdGFzayQxO1xuXG4gIHZhciBob3N0UmVwb3J0RXJyb3JzJDEgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHRyeSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZSAtLSBzYWZlXG4gICAgICBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gY29uc29sZS5lcnJvcihhKSA6IGNvbnNvbGUuZXJyb3IoYSwgYik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHsgLyogZW1wdHkgKi8gfVxuICB9O1xuXG4gIHZhciBwZXJmb3JtJDYgPSBmdW5jdGlvbiAoZXhlYykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyBlcnJvcjogZmFsc2UsIHZhbHVlOiBleGVjKCkgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IHRydWUsIHZhbHVlOiBlcnJvciB9O1xuICAgIH1cbiAgfTtcblxuICB2YXIgZ2xvYmFsJDQgPSBnbG9iYWwkcDtcblxuICB2YXIgcHJvbWlzZU5hdGl2ZUNvbnN0cnVjdG9yID0gZ2xvYmFsJDQuUHJvbWlzZTtcblxuICAvKiBnbG9iYWwgRGVubyAtLSBEZW5vIGNhc2UgKi9cbiAgdmFyIGVuZ2luZUlzRGVubyA9IHR5cGVvZiBEZW5vID09ICdvYmplY3QnICYmIERlbm8gJiYgdHlwZW9mIERlbm8udmVyc2lvbiA9PSAnb2JqZWN0JztcblxuICB2YXIgSVNfREVOTyQxID0gZW5naW5lSXNEZW5vO1xuICB2YXIgSVNfTk9ERSQxID0gZW5naW5lSXNOb2RlO1xuXG4gIHZhciBlbmdpbmVJc0Jyb3dzZXIgPSAhSVNfREVOTyQxICYmICFJU19OT0RFJDFcbiAgICAmJiB0eXBlb2Ygd2luZG93ID09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGRvY3VtZW50ID09ICdvYmplY3QnO1xuXG4gIHZhciBnbG9iYWwkMyA9IGdsb2JhbCRwO1xuICB2YXIgTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yJDUgPSBwcm9taXNlTmF0aXZlQ29uc3RydWN0b3I7XG4gIHZhciBpc0NhbGxhYmxlJDMgPSBpc0NhbGxhYmxlJG07XG4gIHZhciBpc0ZvcmNlZCA9IGlzRm9yY2VkXzE7XG4gIHZhciBpbnNwZWN0U291cmNlID0gaW5zcGVjdFNvdXJjZSQyO1xuICB2YXIgd2VsbEtub3duU3ltYm9sID0gd2VsbEtub3duU3ltYm9sJG47XG4gIHZhciBJU19CUk9XU0VSID0gZW5naW5lSXNCcm93c2VyO1xuICB2YXIgSVNfREVOTyA9IGVuZ2luZUlzRGVubztcbiAgdmFyIFY4X1ZFUlNJT04gPSBlbmdpbmVWOFZlcnNpb247XG5cbiAgdmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUkMiA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ1ICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ1LnByb3RvdHlwZTtcbiAgdmFyIFNQRUNJRVMgPSB3ZWxsS25vd25TeW1ib2woJ3NwZWNpZXMnKTtcbiAgdmFyIFNVQkNMQVNTSU5HID0gZmFsc2U7XG4gIHZhciBOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQkMSA9IGlzQ2FsbGFibGUkMyhnbG9iYWwkMy5Qcm9taXNlUmVqZWN0aW9uRXZlbnQpO1xuXG4gIHZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQ1ID0gaXNGb3JjZWQoJ1Byb21pc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFID0gaW5zcGVjdFNvdXJjZShOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IkNSk7XG4gICAgdmFyIEdMT0JBTF9DT1JFX0pTX1BST01JU0UgPSBQUk9NSVNFX0NPTlNUUlVDVE9SX1NPVVJDRSAhPT0gU3RyaW5nKE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ1KTtcbiAgICAvLyBWOCA2LjYgKE5vZGUgMTAgYW5kIENocm9tZSA2NikgaGF2ZSBhIGJ1ZyB3aXRoIHJlc29sdmluZyBjdXN0b20gdGhlbmFibGVzXG4gICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODMwNTY1XG4gICAgLy8gV2UgY2FuJ3QgZGV0ZWN0IGl0IHN5bmNocm9ub3VzbHksIHNvIGp1c3QgY2hlY2sgdmVyc2lvbnNcbiAgICBpZiAoIUdMT0JBTF9DT1JFX0pTX1BST01JU0UgJiYgVjhfVkVSU0lPTiA9PT0gNjYpIHJldHVybiB0cnVlO1xuICAgIC8vIFdlIG5lZWQgUHJvbWlzZSN7IGNhdGNoLCBmaW5hbGx5IH0gaW4gdGhlIHB1cmUgdmVyc2lvbiBmb3IgcHJldmVudGluZyBwcm90b3R5cGUgcG9sbHV0aW9uXG4gICAgaWYgKCEoTmF0aXZlUHJvbWlzZVByb3RvdHlwZSQyWydjYXRjaCddICYmIE5hdGl2ZVByb21pc2VQcm90b3R5cGUkMlsnZmluYWxseSddKSkgcmV0dXJuIHRydWU7XG4gICAgLy8gV2UgY2FuJ3QgdXNlIEBAc3BlY2llcyBmZWF0dXJlIGRldGVjdGlvbiBpbiBWOCBzaW5jZSBpdCBjYXVzZXNcbiAgICAvLyBkZW9wdGltaXphdGlvbiBhbmQgcGVyZm9ybWFuY2UgZGVncmFkYXRpb25cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvNjc5XG4gICAgaWYgKCFWOF9WRVJTSU9OIHx8IFY4X1ZFUlNJT04gPCA1MSB8fCAhL25hdGl2ZSBjb2RlLy50ZXN0KFBST01JU0VfQ09OU1RSVUNUT1JfU09VUkNFKSkge1xuICAgICAgLy8gRGV0ZWN0IGNvcnJlY3RuZXNzIG9mIHN1YmNsYXNzaW5nIHdpdGggQEBzcGVjaWVzIHN1cHBvcnRcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ1KGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUoMSk7IH0pO1xuICAgICAgdmFyIEZha2VQcm9taXNlID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgICAgICAgZXhlYyhmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0sIGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSk7XG4gICAgICB9O1xuICAgICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9O1xuICAgICAgY29uc3RydWN0b3JbU1BFQ0lFU10gPSBGYWtlUHJvbWlzZTtcbiAgICAgIFNVQkNMQVNTSU5HID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsgLyogZW1wdHkgKi8gfSkgaW5zdGFuY2VvZiBGYWtlUHJvbWlzZTtcbiAgICAgIGlmICghU1VCQ0xBU1NJTkcpIHJldHVybiB0cnVlO1xuICAgIC8vIFVuaGFuZGxlZCByZWplY3Rpb25zIHRyYWNraW5nIHN1cHBvcnQsIE5vZGVKUyBQcm9taXNlIHdpdGhvdXQgaXQgZmFpbHMgQEBzcGVjaWVzIHRlc3RcbiAgICB9IHJldHVybiAhR0xPQkFMX0NPUkVfSlNfUFJPTUlTRSAmJiAoSVNfQlJPV1NFUiB8fCBJU19ERU5PKSAmJiAhTkFUSVZFX1BST01JU0VfUkVKRUNUSU9OX0VWRU5UJDE7XG4gIH0pO1xuXG4gIHZhciBwcm9taXNlQ29uc3RydWN0b3JEZXRlY3Rpb24gPSB7XG4gICAgQ09OU1RSVUNUT1I6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SJDUsXG4gICAgUkVKRUNUSU9OX0VWRU5UOiBOQVRJVkVfUFJPTUlTRV9SRUpFQ1RJT05fRVZFTlQkMSxcbiAgICBTVUJDTEFTU0lORzogU1VCQ0xBU1NJTkdcbiAgfTtcblxuICB2YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkkMiA9IHt9O1xuXG4gIHZhciBhQ2FsbGFibGUkNiA9IGFDYWxsYWJsZSRlO1xuXG4gIHZhciAkVHlwZUVycm9yID0gVHlwZUVycm9yO1xuXG4gIHZhciBQcm9taXNlQ2FwYWJpbGl0eSA9IGZ1bmN0aW9uIChDKSB7XG4gICAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgICAgaWYgKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3ICRUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgICAgcmVqZWN0ID0gJCRyZWplY3Q7XG4gICAgfSk7XG4gICAgdGhpcy5yZXNvbHZlID0gYUNhbGxhYmxlJDYocmVzb2x2ZSk7XG4gICAgdGhpcy5yZWplY3QgPSBhQ2FsbGFibGUkNihyZWplY3QpO1xuICB9O1xuXG4gIC8vIGBOZXdQcm9taXNlQ2FwYWJpbGl0eWAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbmV3cHJvbWlzZWNhcGFiaWxpdHlcbiAgbmV3UHJvbWlzZUNhcGFiaWxpdHkkMi5mID0gZnVuY3Rpb24gKEMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2VDYXBhYmlsaXR5KEMpO1xuICB9O1xuXG4gIHZhciAkJGUgPSBfZXhwb3J0O1xuICB2YXIgSVNfTk9ERSA9IGVuZ2luZUlzTm9kZTtcbiAgdmFyIGdsb2JhbCQyID0gZ2xvYmFsJHA7XG4gIHZhciBjYWxsJDUgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBkZWZpbmVCdWlsdEluJDEgPSBkZWZpbmVCdWlsdEluJDY7XG4gIHZhciBzZXRUb1N0cmluZ1RhZyQxID0gc2V0VG9TdHJpbmdUYWckNztcbiAgdmFyIHNldFNwZWNpZXMkMSA9IHNldFNwZWNpZXMkMjtcbiAgdmFyIGFDYWxsYWJsZSQ1ID0gYUNhbGxhYmxlJGU7XG4gIHZhciBpc0NhbGxhYmxlJDIgPSBpc0NhbGxhYmxlJG07XG4gIHZhciBpc09iamVjdCQ0ID0gaXNPYmplY3QkaDtcbiAgdmFyIGFuSW5zdGFuY2UkMiA9IGFuSW5zdGFuY2UkMztcbiAgdmFyIHNwZWNpZXNDb25zdHJ1Y3RvciQxID0gc3BlY2llc0NvbnN0cnVjdG9yJDI7XG4gIHZhciB0YXNrID0gdGFzayQxLnNldDtcbiAgdmFyIG1pY3JvdGFzayA9IG1pY3JvdGFza18xO1xuICB2YXIgaG9zdFJlcG9ydEVycm9ycyA9IGhvc3RSZXBvcnRFcnJvcnMkMTtcbiAgdmFyIHBlcmZvcm0kNSA9IHBlcmZvcm0kNjtcbiAgdmFyIFF1ZXVlJDEgPSBxdWV1ZSQxO1xuICB2YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSQyID0gaW50ZXJuYWxTdGF0ZTtcbiAgdmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ0ID0gcHJvbWlzZU5hdGl2ZUNvbnN0cnVjdG9yO1xuICB2YXIgUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uID0gcHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uO1xuICB2YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkNyA9IG5ld1Byb21pc2VDYXBhYmlsaXR5JDI7XG5cbiAgdmFyIFBST01JU0UgPSAnUHJvbWlzZSc7XG4gIHZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQ0ID0gUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xuICB2YXIgTkFUSVZFX1BST01JU0VfUkVKRUNUSU9OX0VWRU5UID0gUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLlJFSkVDVElPTl9FVkVOVDtcbiAgUHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLlNVQkNMQVNTSU5HO1xuICB2YXIgZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUgPSBJbnRlcm5hbFN0YXRlTW9kdWxlJDIuZ2V0dGVyRm9yKFBST01JU0UpO1xuICB2YXIgc2V0SW50ZXJuYWxTdGF0ZSQyID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQyLnNldDtcbiAgdmFyIE5hdGl2ZVByb21pc2VQcm90b3R5cGUkMSA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ0ICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ0LnByb3RvdHlwZTtcbiAgdmFyIFByb21pc2VDb25zdHJ1Y3RvciA9IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQ0O1xuICB2YXIgUHJvbWlzZVByb3RvdHlwZSA9IE5hdGl2ZVByb21pc2VQcm90b3R5cGUkMTtcbiAgdmFyIFR5cGVFcnJvciQxID0gZ2xvYmFsJDIuVHlwZUVycm9yO1xuICB2YXIgZG9jdW1lbnQkMSA9IGdsb2JhbCQyLmRvY3VtZW50O1xuICB2YXIgcHJvY2VzcyA9IGdsb2JhbCQyLnByb2Nlc3M7XG4gIHZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eSQxID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkNy5mO1xuICB2YXIgbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMTtcblxuICB2YXIgRElTUEFUQ0hfRVZFTlQgPSAhIShkb2N1bWVudCQxICYmIGRvY3VtZW50JDEuY3JlYXRlRXZlbnQgJiYgZ2xvYmFsJDIuZGlzcGF0Y2hFdmVudCk7XG4gIHZhciBVTkhBTkRMRURfUkVKRUNUSU9OID0gJ3VuaGFuZGxlZHJlamVjdGlvbic7XG4gIHZhciBSRUpFQ1RJT05fSEFORExFRCA9ICdyZWplY3Rpb25oYW5kbGVkJztcbiAgdmFyIFBFTkRJTkcgPSAwO1xuICB2YXIgRlVMRklMTEVEID0gMTtcbiAgdmFyIFJFSkVDVEVEID0gMjtcbiAgdmFyIEhBTkRMRUQgPSAxO1xuICB2YXIgVU5IQU5ETEVEID0gMjtcblxuICB2YXIgSW50ZXJuYWwsIE93blByb21pc2VDYXBhYmlsaXR5LCBQcm9taXNlV3JhcHBlcjtcblxuICAvLyBoZWxwZXJzXG4gIHZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIHRoZW47XG4gICAgcmV0dXJuIGlzT2JqZWN0JDQoaXQpICYmIGlzQ2FsbGFibGUkMih0aGVuID0gaXQudGhlbikgPyB0aGVuIDogZmFsc2U7XG4gIH07XG5cbiAgdmFyIGNhbGxSZWFjdGlvbiA9IGZ1bmN0aW9uIChyZWFjdGlvbiwgc3RhdGUpIHtcbiAgICB2YXIgdmFsdWUgPSBzdGF0ZS52YWx1ZTtcbiAgICB2YXIgb2sgPSBzdGF0ZS5zdGF0ZSA9PT0gRlVMRklMTEVEO1xuICAgIHZhciBoYW5kbGVyID0gb2sgPyByZWFjdGlvbi5vayA6IHJlYWN0aW9uLmZhaWw7XG4gICAgdmFyIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlO1xuICAgIHZhciByZWplY3QgPSByZWFjdGlvbi5yZWplY3Q7XG4gICAgdmFyIGRvbWFpbiA9IHJlYWN0aW9uLmRvbWFpbjtcbiAgICB2YXIgcmVzdWx0LCB0aGVuLCBleGl0ZWQ7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICBpZiAoc3RhdGUucmVqZWN0aW9uID09PSBVTkhBTkRMRUQpIG9uSGFuZGxlVW5oYW5kbGVkKHN0YXRlKTtcbiAgICAgICAgICBzdGF0ZS5yZWplY3Rpb24gPSBIQU5ETEVEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB0cnVlKSByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGRvbWFpbikgZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgcmVzdWx0ID0gaGFuZGxlcih2YWx1ZSk7IC8vIGNhbiB0aHJvd1xuICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgIGRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgICBleGl0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSByZWFjdGlvbi5wcm9taXNlKSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IkMSgnUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgY2FsbCQ1KHRoZW4sIHJlc3VsdCwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZG9tYWluICYmICFleGl0ZWQpIGRvbWFpbi5leGl0KCk7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbm90aWZ5ID0gZnVuY3Rpb24gKHN0YXRlLCBpc1JlamVjdCkge1xuICAgIGlmIChzdGF0ZS5ub3RpZmllZCkgcmV0dXJuO1xuICAgIHN0YXRlLm5vdGlmaWVkID0gdHJ1ZTtcbiAgICBtaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlYWN0aW9ucyA9IHN0YXRlLnJlYWN0aW9ucztcbiAgICAgIHZhciByZWFjdGlvbjtcbiAgICAgIHdoaWxlIChyZWFjdGlvbiA9IHJlYWN0aW9ucy5nZXQoKSkge1xuICAgICAgICBjYWxsUmVhY3Rpb24ocmVhY3Rpb24sIHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLm5vdGlmaWVkID0gZmFsc2U7XG4gICAgICBpZiAoaXNSZWplY3QgJiYgIXN0YXRlLnJlamVjdGlvbikgb25VbmhhbmRsZWQoc3RhdGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBkaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKG5hbWUsIHByb21pc2UsIHJlYXNvbikge1xuICAgIHZhciBldmVudCwgaGFuZGxlcjtcbiAgICBpZiAoRElTUEFUQ0hfRVZFTlQpIHtcbiAgICAgIGV2ZW50ID0gZG9jdW1lbnQkMS5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgIGV2ZW50LnByb21pc2UgPSBwcm9taXNlO1xuICAgICAgZXZlbnQucmVhc29uID0gcmVhc29uO1xuICAgICAgZXZlbnQuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgIGdsb2JhbCQyLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0gZWxzZSBldmVudCA9IHsgcHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiByZWFzb24gfTtcbiAgICBpZiAoIU5BVElWRV9QUk9NSVNFX1JFSkVDVElPTl9FVkVOVCAmJiAoaGFuZGxlciA9IGdsb2JhbCQyWydvbicgKyBuYW1lXSkpIGhhbmRsZXIoZXZlbnQpO1xuICAgIGVsc2UgaWYgKG5hbWUgPT09IFVOSEFORExFRF9SRUpFQ1RJT04pIGhvc3RSZXBvcnRFcnJvcnMoJ1VuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbicsIHJlYXNvbik7XG4gIH07XG5cbiAgdmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgY2FsbCQ1KHRhc2ssIGdsb2JhbCQyLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IHN0YXRlLmZhY2FkZTtcbiAgICAgIHZhciB2YWx1ZSA9IHN0YXRlLnZhbHVlO1xuICAgICAgdmFyIElTX1VOSEFORExFRCA9IGlzVW5oYW5kbGVkKHN0YXRlKTtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICBpZiAoSVNfVU5IQU5ETEVEKSB7XG4gICAgICAgIHJlc3VsdCA9IHBlcmZvcm0kNShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKElTX05PREUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICAgIH0gZWxzZSBkaXNwYXRjaEV2ZW50KFVOSEFORExFRF9SRUpFQ1RJT04sIHByb21pc2UsIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICAgIHN0YXRlLnJlamVjdGlvbiA9IElTX05PREUgfHwgaXNVbmhhbmRsZWQoc3RhdGUpID8gVU5IQU5ETEVEIDogSEFORExFRDtcbiAgICAgICAgaWYgKHJlc3VsdC5lcnJvcikgdGhyb3cgcmVzdWx0LnZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5yZWplY3Rpb24gIT09IEhBTkRMRUQgJiYgIXN0YXRlLnBhcmVudDtcbiAgfTtcblxuICB2YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICBjYWxsJDUodGFzaywgZ2xvYmFsJDIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwcm9taXNlID0gc3RhdGUuZmFjYWRlO1xuICAgICAgaWYgKElTX05PREUpIHtcbiAgICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgICB9IGVsc2UgZGlzcGF0Y2hFdmVudChSRUpFQ1RJT05fSEFORExFRCwgcHJvbWlzZSwgc3RhdGUudmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBiaW5kJDEgPSBmdW5jdGlvbiAoZm4sIHN0YXRlLCB1bndyYXApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBmbihzdGF0ZSwgdmFsdWUsIHVud3JhcCk7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgaW50ZXJuYWxSZWplY3QgPSBmdW5jdGlvbiAoc3RhdGUsIHZhbHVlLCB1bndyYXApIHtcbiAgICBpZiAoc3RhdGUuZG9uZSkgcmV0dXJuO1xuICAgIHN0YXRlLmRvbmUgPSB0cnVlO1xuICAgIGlmICh1bndyYXApIHN0YXRlID0gdW53cmFwO1xuICAgIHN0YXRlLnZhbHVlID0gdmFsdWU7XG4gICAgc3RhdGUuc3RhdGUgPSBSRUpFQ1RFRDtcbiAgICBub3RpZnkoc3RhdGUsIHRydWUpO1xuICB9O1xuXG4gIHZhciBpbnRlcm5hbFJlc29sdmUgPSBmdW5jdGlvbiAoc3RhdGUsIHZhbHVlLCB1bndyYXApIHtcbiAgICBpZiAoc3RhdGUuZG9uZSkgcmV0dXJuO1xuICAgIHN0YXRlLmRvbmUgPSB0cnVlO1xuICAgIGlmICh1bndyYXApIHN0YXRlID0gdW53cmFwO1xuICAgIHRyeSB7XG4gICAgICBpZiAoc3RhdGUuZmFjYWRlID09PSB2YWx1ZSkgdGhyb3cgbmV3IFR5cGVFcnJvciQxKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgICB2YXIgdGhlbiA9IGlzVGhlbmFibGUodmFsdWUpO1xuICAgICAgaWYgKHRoZW4pIHtcbiAgICAgICAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IHsgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbCQ1KHRoZW4sIHZhbHVlLFxuICAgICAgICAgICAgICBiaW5kJDEoaW50ZXJuYWxSZXNvbHZlLCB3cmFwcGVyLCBzdGF0ZSksXG4gICAgICAgICAgICAgIGJpbmQkMShpbnRlcm5hbFJlamVjdCwgd3JhcHBlciwgc3RhdGUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpbnRlcm5hbFJlamVjdCh3cmFwcGVyLCBlcnJvciwgc3RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBzdGF0ZS5zdGF0ZSA9IEZVTEZJTExFRDtcbiAgICAgICAgbm90aWZ5KHN0YXRlLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGludGVybmFsUmVqZWN0KHsgZG9uZTogZmFsc2UgfSwgZXJyb3IsIHN0YXRlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbiAgaWYgKEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SJDQpIHtcbiAgICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAgIFByb21pc2VDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3IpIHtcbiAgICAgIGFuSW5zdGFuY2UkMih0aGlzLCBQcm9taXNlUHJvdG90eXBlKTtcbiAgICAgIGFDYWxsYWJsZSQ1KGV4ZWN1dG9yKTtcbiAgICAgIGNhbGwkNShJbnRlcm5hbCwgdGhpcyk7XG4gICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFByb21pc2VTdGF0ZSh0aGlzKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGV4ZWN1dG9yKGJpbmQkMShpbnRlcm5hbFJlc29sdmUsIHN0YXRlKSwgYmluZCQxKGludGVybmFsUmVqZWN0LCBzdGF0ZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaW50ZXJuYWxSZWplY3Qoc3RhdGUsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUHJvbWlzZVByb3RvdHlwZSA9IFByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMgLS0gcmVxdWlyZWQgZm9yIGAubGVuZ3RoYFxuICAgIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcikge1xuICAgICAgc2V0SW50ZXJuYWxTdGF0ZSQyKHRoaXMsIHtcbiAgICAgICAgdHlwZTogUFJPTUlTRSxcbiAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgIG5vdGlmaWVkOiBmYWxzZSxcbiAgICAgICAgcGFyZW50OiBmYWxzZSxcbiAgICAgICAgcmVhY3Rpb25zOiBuZXcgUXVldWUkMSgpLFxuICAgICAgICByZWplY3Rpb246IGZhbHNlLFxuICAgICAgICBzdGF0ZTogUEVORElORyxcbiAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGBQcm9taXNlLnByb3RvdHlwZS50aGVuYCBtZXRob2RcbiAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucHJvdG90eXBlLnRoZW5cbiAgICBJbnRlcm5hbC5wcm90b3R5cGUgPSBkZWZpbmVCdWlsdEluJDEoUHJvbWlzZVByb3RvdHlwZSwgJ3RoZW4nLCBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbFByb21pc2VTdGF0ZSh0aGlzKTtcbiAgICAgIHZhciByZWFjdGlvbiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5JDEoc3BlY2llc0NvbnN0cnVjdG9yJDEodGhpcywgUHJvbWlzZUNvbnN0cnVjdG9yKSk7XG4gICAgICBzdGF0ZS5wYXJlbnQgPSB0cnVlO1xuICAgICAgcmVhY3Rpb24ub2sgPSBpc0NhbGxhYmxlJDIob25GdWxmaWxsZWQpID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgcmVhY3Rpb24uZmFpbCA9IGlzQ2FsbGFibGUkMihvblJlamVjdGVkKSAmJiBvblJlamVjdGVkO1xuICAgICAgcmVhY3Rpb24uZG9tYWluID0gSVNfTk9ERSA/IHByb2Nlc3MuZG9tYWluIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKHN0YXRlLnN0YXRlID09PSBQRU5ESU5HKSBzdGF0ZS5yZWFjdGlvbnMuYWRkKHJlYWN0aW9uKTtcbiAgICAgIGVsc2UgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbFJlYWN0aW9uKHJlYWN0aW9uLCBzdGF0ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICAgIH0pO1xuXG4gICAgT3duUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcHJvbWlzZSA9IG5ldyBJbnRlcm5hbCgpO1xuICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxQcm9taXNlU3RhdGUocHJvbWlzZSk7XG4gICAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgICAgdGhpcy5yZXNvbHZlID0gYmluZCQxKGludGVybmFsUmVzb2x2ZSwgc3RhdGUpO1xuICAgICAgdGhpcy5yZWplY3QgPSBiaW5kJDEoaW50ZXJuYWxSZWplY3QsIHN0YXRlKTtcbiAgICB9O1xuXG4gICAgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkNy5mID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMSA9IGZ1bmN0aW9uIChDKSB7XG4gICAgICByZXR1cm4gQyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yIHx8IEMgPT09IFByb21pc2VXcmFwcGVyXG4gICAgICAgID8gbmV3IE93blByb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICAgIDogbmV3R2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5KEMpO1xuICAgIH07XG4gIH1cblxuICAkJGUoeyBnbG9iYWw6IHRydWUsIGNvbnN0cnVjdG9yOiB0cnVlLCB3cmFwOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SJDQgfSwge1xuICAgIFByb21pc2U6IFByb21pc2VDb25zdHJ1Y3RvclxuICB9KTtcblxuICBzZXRUb1N0cmluZ1RhZyQxKFByb21pc2VDb25zdHJ1Y3RvciwgUFJPTUlTRSwgZmFsc2UsIHRydWUpO1xuICBzZXRTcGVjaWVzJDEoUFJPTUlTRSk7XG5cbiAgdmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQzID0gcHJvbWlzZU5hdGl2ZUNvbnN0cnVjdG9yO1xuICB2YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uID0gY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uJDI7XG4gIHZhciBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQzID0gcHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xuXG4gIHZhciBwcm9taXNlU3RhdGljc0luY29ycmVjdEl0ZXJhdGlvbiA9IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SJDMgfHwgIWNoZWNrQ29ycmVjdG5lc3NPZkl0ZXJhdGlvbihmdW5jdGlvbiAoaXRlcmFibGUpIHtcbiAgICBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IkMy5hbGwoaXRlcmFibGUpLnRoZW4odW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0pO1xuICB9KTtcblxuICB2YXIgJCRkID0gX2V4cG9ydDtcbiAgdmFyIGNhbGwkNCA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGFDYWxsYWJsZSQ0ID0gYUNhbGxhYmxlJGU7XG4gIHZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSQ2ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMjtcbiAgdmFyIHBlcmZvcm0kNCA9IHBlcmZvcm0kNjtcbiAgdmFyIGl0ZXJhdGUkNSA9IGl0ZXJhdGUkNztcbiAgdmFyIFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OJDMgPSBwcm9taXNlU3RhdGljc0luY29ycmVjdEl0ZXJhdGlvbjtcblxuICAvLyBgUHJvbWlzZS5hbGxgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UuYWxsXG4gICQkZCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OJDMgfSwge1xuICAgIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgQyA9IHRoaXM7XG4gICAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlJDYuZihDKTtcbiAgICAgIHZhciByZXNvbHZlID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0kNChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUkNChDLnJlc29sdmUpO1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICAgIGl0ZXJhdGUkNShpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBjb3VudGVyKys7XG4gICAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgICBjYWxsJDQoJHByb21pc2VSZXNvbHZlLCBDLCBwcm9taXNlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGFscmVhZHlDYWxsZWQpIHJldHVybjtcbiAgICAgICAgICAgIGFscmVhZHlDYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHJlamVjdChyZXN1bHQudmFsdWUpO1xuICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciAkJGMgPSBfZXhwb3J0O1xuICB2YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IkMiA9IHByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5DT05TVFJVQ1RPUjtcbiAgdmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQyID0gcHJvbWlzZU5hdGl2ZUNvbnN0cnVjdG9yO1xuXG4gIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQyICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQyLnByb3RvdHlwZTtcblxuICAvLyBgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2hgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucHJvdG90eXBlLmNhdGNoXG4gICQkYyh7IHRhcmdldDogJ1Byb21pc2UnLCBwcm90bzogdHJ1ZSwgZm9yY2VkOiBGT1JDRURfUFJPTUlTRV9DT05TVFJVQ1RPUiQyLCByZWFsOiB0cnVlIH0sIHtcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyICQkYiA9IF9leHBvcnQ7XG4gIHZhciBjYWxsJDMgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBhQ2FsbGFibGUkMyA9IGFDYWxsYWJsZSRlO1xuICB2YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkNSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5JDI7XG4gIHZhciBwZXJmb3JtJDMgPSBwZXJmb3JtJDY7XG4gIHZhciBpdGVyYXRlJDQgPSBpdGVyYXRlJDc7XG4gIHZhciBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiQyID0gcHJvbWlzZVN0YXRpY3NJbmNvcnJlY3RJdGVyYXRpb247XG5cbiAgLy8gYFByb21pc2UucmFjZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5yYWNlXG4gICQkYih7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OJDIgfSwge1xuICAgIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgICAgIHZhciBDID0gdGhpcztcbiAgICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkNS5mKEMpO1xuICAgICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0kMyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUkMyhDLnJlc29sdmUpO1xuICAgICAgICBpdGVyYXRlJDQoaXRlcmFibGUsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgY2FsbCQzKCRwcm9taXNlUmVzb2x2ZSwgQywgcHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgfVxuICB9KTtcblxuICB2YXIgJCRhID0gX2V4cG9ydDtcbiAgdmFyIGNhbGwkMiA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlJDQgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSQyO1xuICB2YXIgRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1IkMSA9IHByb21pc2VDb25zdHJ1Y3RvckRldGVjdGlvbi5DT05TVFJVQ1RPUjtcblxuICAvLyBgUHJvbWlzZS5yZWplY3RgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucmVqZWN0XG4gICQkYSh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SJDEgfSwge1xuICAgIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpIHtcbiAgICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkNC5mKHRoaXMpO1xuICAgICAgY2FsbCQyKGNhcGFiaWxpdHkucmVqZWN0LCB1bmRlZmluZWQsIHIpO1xuICAgICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBhbk9iamVjdCA9IGFuT2JqZWN0JGQ7XG4gIHZhciBpc09iamVjdCQzID0gaXNPYmplY3QkaDtcbiAgdmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMjtcblxuICB2YXIgcHJvbWlzZVJlc29sdmUkMiA9IGZ1bmN0aW9uIChDLCB4KSB7XG4gICAgYW5PYmplY3QoQyk7XG4gICAgaWYgKGlzT2JqZWN0JDMoeCkgJiYgeC5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIHg7XG4gICAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcbiAgICB2YXIgcmVzb2x2ZSA9IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgcmVzb2x2ZSh4KTtcbiAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfTtcblxuICB2YXIgJCQ5ID0gX2V4cG9ydDtcbiAgdmFyIGdldEJ1aWx0SW4kMiA9IGdldEJ1aWx0SW4kZjtcbiAgdmFyIElTX1BVUkUgPSBpc1B1cmU7XG4gIHZhciBOYXRpdmVQcm9taXNlQ29uc3RydWN0b3IkMSA9IHByb21pc2VOYXRpdmVDb25zdHJ1Y3RvcjtcbiAgdmFyIEZPUkNFRF9QUk9NSVNFX0NPTlNUUlVDVE9SID0gcHJvbWlzZUNvbnN0cnVjdG9yRGV0ZWN0aW9uLkNPTlNUUlVDVE9SO1xuICB2YXIgcHJvbWlzZVJlc29sdmUkMSA9IHByb21pc2VSZXNvbHZlJDI7XG5cbiAgdmFyIFByb21pc2VDb25zdHJ1Y3RvcldyYXBwZXIgPSBnZXRCdWlsdEluJDIoJ1Byb21pc2UnKTtcbiAgdmFyIENIRUNLX1dSQVBQRVIgPSAhRk9SQ0VEX1BST01JU0VfQ09OU1RSVUNUT1I7XG5cbiAgLy8gYFByb21pc2UucmVzb2x2ZWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtcHJvbWlzZS5yZXNvbHZlXG4gICQkOSh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IElTX1BVUkUgIH0sIHtcbiAgICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHgpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZSQxKENIRUNLX1dSQVBQRVIgJiYgdGhpcyA9PT0gUHJvbWlzZUNvbnN0cnVjdG9yV3JhcHBlciA/IE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciQxIDogdGhpcywgeCk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgJCQ4ID0gX2V4cG9ydDtcbiAgdmFyIGNhbGwkMSA9IGZ1bmN0aW9uQ2FsbDtcbiAgdmFyIGFDYWxsYWJsZSQyID0gYUNhbGxhYmxlJGU7XG4gIHZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSQzID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkkMjtcbiAgdmFyIHBlcmZvcm0kMiA9IHBlcmZvcm0kNjtcbiAgdmFyIGl0ZXJhdGUkMyA9IGl0ZXJhdGUkNztcbiAgdmFyIFBST01JU0VfU1RBVElDU19JTkNPUlJFQ1RfSVRFUkFUSU9OJDEgPSBwcm9taXNlU3RhdGljc0luY29ycmVjdEl0ZXJhdGlvbjtcblxuICAvLyBgUHJvbWlzZS5hbGxTZXR0bGVkYCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFsbHNldHRsZWRcbiAgJCQ4KHsgdGFyZ2V0OiAnUHJvbWlzZScsIHN0YXQ6IHRydWUsIGZvcmNlZDogUFJPTUlTRV9TVEFUSUNTX0lOQ09SUkVDVF9JVEVSQVRJT04kMSB9LCB7XG4gICAgYWxsU2V0dGxlZDogZnVuY3Rpb24gYWxsU2V0dGxlZChpdGVyYWJsZSkge1xuICAgICAgdmFyIEMgPSB0aGlzO1xuICAgICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSQzLmYoQyk7XG4gICAgICB2YXIgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICAgIHZhciByZWplY3QgPSBjYXBhYmlsaXR5LnJlamVjdDtcbiAgICAgIHZhciByZXN1bHQgPSBwZXJmb3JtJDIoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJvbWlzZVJlc29sdmUgPSBhQ2FsbGFibGUkMihDLnJlc29sdmUpO1xuICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgIHZhciBjb3VudGVyID0gMDtcbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IDE7XG4gICAgICAgIGl0ZXJhdGUkMyhpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBjb3VudGVyKys7XG4gICAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgICBjYWxsJDEocHJvbWlzZVJlc29sdmUsIEMsIHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoYWxyZWFkeUNhbGxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgICB2YWx1ZXNbaW5kZXhdID0geyBzdGF0dXM6ICdmdWxmaWxsZWQnLCB2YWx1ZTogdmFsdWUgfTtcbiAgICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChhbHJlYWR5Q2FsbGVkKSByZXR1cm47XG4gICAgICAgICAgICBhbHJlYWR5Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gPSB7IHN0YXR1czogJ3JlamVjdGVkJywgcmVhc29uOiBlcnJvciB9O1xuICAgICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgfSk7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgfVxuICB9KTtcblxuICB2YXIgJCQ3ID0gX2V4cG9ydDtcbiAgdmFyIGNhbGwgPSBmdW5jdGlvbkNhbGw7XG4gIHZhciBhQ2FsbGFibGUkMSA9IGFDYWxsYWJsZSRlO1xuICB2YXIgZ2V0QnVpbHRJbiQxID0gZ2V0QnVpbHRJbiRmO1xuICB2YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkMiA9IG5ld1Byb21pc2VDYXBhYmlsaXR5JDI7XG4gIHZhciBwZXJmb3JtJDEgPSBwZXJmb3JtJDY7XG4gIHZhciBpdGVyYXRlJDIgPSBpdGVyYXRlJDc7XG4gIHZhciBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiA9IHByb21pc2VTdGF0aWNzSW5jb3JyZWN0SXRlcmF0aW9uO1xuXG4gIHZhciBQUk9NSVNFX0FOWV9FUlJPUiA9ICdObyBvbmUgcHJvbWlzZSByZXNvbHZlZCc7XG5cbiAgLy8gYFByb21pc2UuYW55YCBtZXRob2RcbiAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1wcm9taXNlLmFueVxuICAkJDcoeyB0YXJnZXQ6ICdQcm9taXNlJywgc3RhdDogdHJ1ZSwgZm9yY2VkOiBQUk9NSVNFX1NUQVRJQ1NfSU5DT1JSRUNUX0lURVJBVElPTiB9LCB7XG4gICAgYW55OiBmdW5jdGlvbiBhbnkoaXRlcmFibGUpIHtcbiAgICAgIHZhciBDID0gdGhpcztcbiAgICAgIHZhciBBZ2dyZWdhdGVFcnJvciA9IGdldEJ1aWx0SW4kMSgnQWdncmVnYXRlRXJyb3InKTtcbiAgICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkMi5mKEMpO1xuICAgICAgdmFyIHJlc29sdmUgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgICB2YXIgcmVzdWx0ID0gcGVyZm9ybSQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb21pc2VSZXNvbHZlID0gYUNhbGxhYmxlJDEoQy5yZXNvbHZlKTtcbiAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgICB2YXIgYWxyZWFkeVJlc29sdmVkID0gZmFsc2U7XG4gICAgICAgIGl0ZXJhdGUkMihpdGVyYWJsZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBjb3VudGVyKys7XG4gICAgICAgICAgdmFyIGFscmVhZHlSZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICAgIGNhbGwocHJvbWlzZVJlc29sdmUsIEMsIHByb21pc2UpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoYWxyZWFkeVJlamVjdGVkIHx8IGFscmVhZHlSZXNvbHZlZCkgcmV0dXJuO1xuICAgICAgICAgICAgYWxyZWFkeVJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGFscmVhZHlSZWplY3RlZCB8fCBhbHJlYWR5UmVzb2x2ZWQpIHJldHVybjtcbiAgICAgICAgICAgIGFscmVhZHlSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvcnNbaW5kZXhdID0gZXJyb3I7XG4gICAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZWplY3QobmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgUFJPTUlTRV9BTllfRVJST1IpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC0tcmVtYWluaW5nIHx8IHJlamVjdChuZXcgQWdncmVnYXRlRXJyb3IoZXJyb3JzLCBQUk9NSVNFX0FOWV9FUlJPUikpO1xuICAgICAgfSk7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSByZWplY3QocmVzdWx0LnZhbHVlKTtcbiAgICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gICAgfVxuICB9KTtcblxuICB2YXIgJCQ2ID0gX2V4cG9ydDtcbiAgdmFyIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3RvciA9IHByb21pc2VOYXRpdmVDb25zdHJ1Y3RvcjtcbiAgdmFyIGZhaWxzJDUgPSBmYWlscyR1O1xuICB2YXIgZ2V0QnVpbHRJbiA9IGdldEJ1aWx0SW4kZjtcbiAgdmFyIGlzQ2FsbGFibGUkMSA9IGlzQ2FsbGFibGUkbTtcbiAgdmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHNwZWNpZXNDb25zdHJ1Y3RvciQyO1xuICB2YXIgcHJvbWlzZVJlc29sdmUgPSBwcm9taXNlUmVzb2x2ZSQyO1xuXG4gIHZhciBOYXRpdmVQcm9taXNlUHJvdG90eXBlID0gTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIE5hdGl2ZVByb21pc2VDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgLy8gU2FmYXJpIGJ1ZyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjAwODI5XG4gIHZhciBOT05fR0VORVJJQyA9ICEhTmF0aXZlUHJvbWlzZUNvbnN0cnVjdG9yICYmIGZhaWxzJDUoZnVuY3Rpb24gKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL25vLXRoZW5hYmxlIC0tIHJlcXVpcmVkIGZvciB0ZXN0aW5nXG4gICAgTmF0aXZlUHJvbWlzZVByb3RvdHlwZVsnZmluYWxseSddLmNhbGwoeyB0aGVuOiBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH0gfSwgZnVuY3Rpb24gKCkgeyAvKiBlbXB0eSAqLyB9KTtcbiAgfSk7XG5cbiAgLy8gYFByb21pc2UucHJvdG90eXBlLmZpbmFsbHlgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXByb21pc2UucHJvdG90eXBlLmZpbmFsbHlcbiAgJCQ2KHsgdGFyZ2V0OiAnUHJvbWlzZScsIHByb3RvOiB0cnVlLCByZWFsOiB0cnVlLCBmb3JjZWQ6IE5PTl9HRU5FUklDIH0sIHtcbiAgICAnZmluYWxseSc6IGZ1bmN0aW9uIChvbkZpbmFsbHkpIHtcbiAgICAgIHZhciBDID0gc3BlY2llc0NvbnN0cnVjdG9yKHRoaXMsIGdldEJ1aWx0SW4oJ1Byb21pc2UnKSk7XG4gICAgICB2YXIgaXNGdW5jdGlvbiA9IGlzQ2FsbGFibGUkMShvbkZpbmFsbHkpO1xuICAgICAgcmV0dXJuIHRoaXMudGhlbihcbiAgICAgICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgcmV0dXJuIHByb21pc2VSZXNvbHZlKEMsIG9uRmluYWxseSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHg7IH0pO1xuICAgICAgICB9IDogb25GaW5hbGx5LFxuICAgICAgICBpc0Z1bmN0aW9uID8gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB0aHJvdyBlOyB9KTtcbiAgICAgICAgfSA6IG9uRmluYWxseVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBwYXRoJDIgPSBwYXRoJG87XG5cbiAgdmFyIHByb21pc2UkNCA9IHBhdGgkMi5Qcm9taXNlO1xuXG4gIHZhciBwYXJlbnQkZSA9IHByb21pc2UkNDtcblxuXG4gIHZhciBwcm9taXNlJDMgPSBwYXJlbnQkZTtcblxuICB2YXIgJCQ1ID0gX2V4cG9ydDtcbiAgdmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5TW9kdWxlJDEgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSQyO1xuXG4gIC8vIGBQcm9taXNlLndpdGhSZXNvbHZlcnNgIG1ldGhvZFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLXdpdGgtcmVzb2x2ZXJzXG4gICQkNSh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlIH0sIHtcbiAgICB3aXRoUmVzb2x2ZXJzOiBmdW5jdGlvbiB3aXRoUmVzb2x2ZXJzKCkge1xuICAgICAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUkMS5mKHRoaXMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZSxcbiAgICAgICAgcmVzb2x2ZTogcHJvbWlzZUNhcGFiaWxpdHkucmVzb2x2ZSxcbiAgICAgICAgcmVqZWN0OiBwcm9taXNlQ2FwYWJpbGl0eS5yZWplY3RcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICB2YXIgcGFyZW50JGQgPSBwcm9taXNlJDM7XG5cblxuICB2YXIgcHJvbWlzZSQyID0gcGFyZW50JGQ7XG5cbiAgLy8gVE9ETzogUmVtb3ZlIGZyb20gYGNvcmUtanNANGBcbiAgdmFyICQkNCA9IF9leHBvcnQ7XG4gIHZhciBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5JDI7XG4gIHZhciBwZXJmb3JtID0gcGVyZm9ybSQ2O1xuXG4gIC8vIGBQcm9taXNlLnRyeWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2UtdHJ5XG4gICQkNCh7IHRhcmdldDogJ1Byb21pc2UnLCBzdGF0OiB0cnVlLCBmb3JjZWQ6IHRydWUgfSwge1xuICAgICd0cnknOiBmdW5jdGlvbiAoY2FsbGJhY2tmbikge1xuICAgICAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUuZih0aGlzKTtcbiAgICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGNhbGxiYWNrZm4pO1xuICAgICAgKHJlc3VsdC5lcnJvciA/IHByb21pc2VDYXBhYmlsaXR5LnJlamVjdCA6IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmUpKHJlc3VsdC52YWx1ZSk7XG4gICAgICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBwYXJlbnQkYyA9IHByb21pc2UkMjtcbiAgLy8gVE9ETzogUmVtb3ZlIGZyb20gYGNvcmUtanNANGBcblxuXG5cblxuXG4gIHZhciBwcm9taXNlJDEgPSBwYXJlbnQkYztcblxuICB2YXIgcHJvbWlzZSA9IHByb21pc2UkMTtcblxuICB2YXIgcGFyZW50JGIgPSByZXZlcnNlJDQ7XG5cbiAgdmFyIHJldmVyc2UkMiA9IHBhcmVudCRiO1xuXG4gIHZhciBwYXJlbnQkYSA9IHJldmVyc2UkMjtcblxuICB2YXIgcmV2ZXJzZSQxID0gcGFyZW50JGE7XG5cbiAgdmFyIHJldmVyc2UgPSByZXZlcnNlJDE7XG5cbiAgKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgXHR2YXIgX3R5cGVvZiA9IF90eXBlb2ZFeHBvcnRzW1wiZGVmYXVsdFwiXTtcbiAgXHR2YXIgX09iamVjdCRkZWZpbmVQcm9wZXJ0eSA9IGRlZmluZVByb3BlcnR5JDg7XG4gIFx0dmFyIF9TeW1ib2wgPSBzeW1ib2wkMTtcbiAgXHR2YXIgX09iamVjdCRjcmVhdGUgPSBjcmVhdGUkMjtcbiAgXHR2YXIgX09iamVjdCRnZXRQcm90b3R5cGVPZiA9IGdldFByb3RvdHlwZU9mJDE7XG4gIFx0dmFyIF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eSA9IGZvckVhY2gkMTtcbiAgXHR2YXIgX3B1c2hJbnN0YW5jZVByb3BlcnR5ID0gcHVzaCQzO1xuICBcdHZhciBfT2JqZWN0JHNldFByb3RvdHlwZU9mID0gc2V0UHJvdG90eXBlT2YkMTtcbiAgXHR2YXIgX1Byb21pc2UgPSBwcm9taXNlO1xuICBcdHZhciBfcmV2ZXJzZUluc3RhbmNlUHJvcGVydHkgPSByZXZlcnNlO1xuICBcdHZhciBfc2xpY2VJbnN0YW5jZVByb3BlcnR5ID0gc2xpY2UkMTtcbiAgXHRmdW5jdGlvbiBfcmVnZW5lcmF0b3JSdW50aW1lKCkge1xuICBcdCAgbW9kdWxlLmV4cG9ydHMgPSBfcmVnZW5lcmF0b3JSdW50aW1lID0gZnVuY3Rpb24gX3JlZ2VuZXJhdG9yUnVudGltZSgpIHtcbiAgXHQgICAgcmV0dXJuIGU7XG4gIFx0ICB9LCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7XG4gIFx0ICB2YXIgdCxcbiAgXHQgICAgZSA9IHt9LFxuICBcdCAgICByID0gT2JqZWN0LnByb3RvdHlwZSxcbiAgXHQgICAgbiA9IHIuaGFzT3duUHJvcGVydHksXG4gIFx0ICAgIG8gPSBfT2JqZWN0JGRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uICh0LCBlLCByKSB7XG4gIFx0ICAgICAgdFtlXSA9IHIudmFsdWU7XG4gIFx0ICAgIH0sXG4gIFx0ICAgIGkgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIF9TeW1ib2wgPyBfU3ltYm9sIDoge30sXG4gIFx0ICAgIGEgPSBpLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiLFxuICBcdCAgICBjID0gaS5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCIsXG4gIFx0ICAgIHUgPSBpLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuICBcdCAgZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHtcbiAgXHQgICAgcmV0dXJuIF9PYmplY3QkZGVmaW5lUHJvcGVydHkodCwgZSwge1xuICBcdCAgICAgIHZhbHVlOiByLFxuICBcdCAgICAgIGVudW1lcmFibGU6ICEwLFxuICBcdCAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gIFx0ICAgICAgd3JpdGFibGU6ICEwXG4gIFx0ICAgIH0pLCB0W2VdO1xuICBcdCAgfVxuICBcdCAgdHJ5IHtcbiAgXHQgICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgXHQgIH0gY2F0Y2ggKHQpIHtcbiAgXHQgICAgZGVmaW5lID0gZnVuY3Rpb24gZGVmaW5lKHQsIGUsIHIpIHtcbiAgXHQgICAgICByZXR1cm4gdFtlXSA9IHI7XG4gIFx0ICAgIH07XG4gIFx0ICB9XG4gIFx0ICBmdW5jdGlvbiB3cmFwKHQsIGUsIHIsIG4pIHtcbiAgXHQgICAgdmFyIGkgPSBlICYmIGUucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gZSA6IEdlbmVyYXRvcixcbiAgXHQgICAgICBhID0gX09iamVjdCRjcmVhdGUoaS5wcm90b3R5cGUpLFxuICBcdCAgICAgIGMgPSBuZXcgQ29udGV4dChuIHx8IFtdKTtcbiAgXHQgICAgcmV0dXJuIG8oYSwgXCJfaW52b2tlXCIsIHtcbiAgXHQgICAgICB2YWx1ZTogbWFrZUludm9rZU1ldGhvZCh0LCByLCBjKVxuICBcdCAgICB9KSwgYTtcbiAgXHQgIH1cbiAgXHQgIGZ1bmN0aW9uIHRyeUNhdGNoKHQsIGUsIHIpIHtcbiAgXHQgICAgdHJ5IHtcbiAgXHQgICAgICByZXR1cm4ge1xuICBcdCAgICAgICAgdHlwZTogXCJub3JtYWxcIixcbiAgXHQgICAgICAgIGFyZzogdC5jYWxsKGUsIHIpXG4gIFx0ICAgICAgfTtcbiAgXHQgICAgfSBjYXRjaCAodCkge1xuICBcdCAgICAgIHJldHVybiB7XG4gIFx0ICAgICAgICB0eXBlOiBcInRocm93XCIsXG4gIFx0ICAgICAgICBhcmc6IHRcbiAgXHQgICAgICB9O1xuICBcdCAgICB9XG4gIFx0ICB9XG4gIFx0ICBlLndyYXAgPSB3cmFwO1xuICBcdCAgdmFyIGggPSBcInN1c3BlbmRlZFN0YXJ0XCIsXG4gIFx0ICAgIGwgPSBcInN1c3BlbmRlZFlpZWxkXCIsXG4gIFx0ICAgIGYgPSBcImV4ZWN1dGluZ1wiLFxuICBcdCAgICBzID0gXCJjb21wbGV0ZWRcIixcbiAgXHQgICAgeSA9IHt9O1xuICBcdCAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgXHQgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgXHQgIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKCkge31cbiAgXHQgIHZhciBwID0ge307XG4gIFx0ICBkZWZpbmUocCwgYSwgZnVuY3Rpb24gKCkge1xuICBcdCAgICByZXR1cm4gdGhpcztcbiAgXHQgIH0pO1xuICBcdCAgdmFyIGQgPSBfT2JqZWN0JGdldFByb3RvdHlwZU9mLFxuICBcdCAgICB2ID0gZCAmJiBkKGQodmFsdWVzKFtdKSkpO1xuICBcdCAgdiAmJiB2ICE9PSByICYmIG4uY2FsbCh2LCBhKSAmJiAocCA9IHYpO1xuICBcdCAgdmFyIGcgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPSBHZW5lcmF0b3IucHJvdG90eXBlID0gX09iamVjdCRjcmVhdGUocCk7XG4gIFx0ICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHModCkge1xuICBcdCAgICB2YXIgX2NvbnRleHQ7XG4gIFx0ICAgIF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dCA9IFtcIm5leHRcIiwgXCJ0aHJvd1wiLCBcInJldHVyblwiXSkuY2FsbChfY29udGV4dCwgZnVuY3Rpb24gKGUpIHtcbiAgXHQgICAgICBkZWZpbmUodCwgZSwgZnVuY3Rpb24gKHQpIHtcbiAgXHQgICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UoZSwgdCk7XG4gIFx0ICAgICAgfSk7XG4gIFx0ICAgIH0pO1xuICBcdCAgfVxuICBcdCAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcih0LCBlKSB7XG4gIFx0ICAgIGZ1bmN0aW9uIGludm9rZShyLCBvLCBpLCBhKSB7XG4gIFx0ICAgICAgdmFyIGMgPSB0cnlDYXRjaCh0W3JdLCB0LCBvKTtcbiAgXHQgICAgICBpZiAoXCJ0aHJvd1wiICE9PSBjLnR5cGUpIHtcbiAgXHQgICAgICAgIHZhciB1ID0gYy5hcmcsXG4gIFx0ICAgICAgICAgIGggPSB1LnZhbHVlO1xuICBcdCAgICAgICAgcmV0dXJuIGggJiYgXCJvYmplY3RcIiA9PSBfdHlwZW9mKGgpICYmIG4uY2FsbChoLCBcIl9fYXdhaXRcIikgPyBlLnJlc29sdmUoaC5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uICh0KSB7XG4gIFx0ICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdCwgaSwgYSk7XG4gIFx0ICAgICAgICB9LCBmdW5jdGlvbiAodCkge1xuICBcdCAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCB0LCBpLCBhKTtcbiAgXHQgICAgICAgIH0pIDogZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24gKHQpIHtcbiAgXHQgICAgICAgICAgdS52YWx1ZSA9IHQsIGkodSk7XG4gIFx0ICAgICAgICB9LCBmdW5jdGlvbiAodCkge1xuICBcdCAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgdCwgaSwgYSk7XG4gIFx0ICAgICAgICB9KTtcbiAgXHQgICAgICB9XG4gIFx0ICAgICAgYShjLmFyZyk7XG4gIFx0ICAgIH1cbiAgXHQgICAgdmFyIHI7XG4gIFx0ICAgIG8odGhpcywgXCJfaW52b2tlXCIsIHtcbiAgXHQgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCwgbikge1xuICBcdCAgICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gIFx0ICAgICAgICAgIHJldHVybiBuZXcgZShmdW5jdGlvbiAoZSwgcikge1xuICBcdCAgICAgICAgICAgIGludm9rZSh0LCBuLCBlLCByKTtcbiAgXHQgICAgICAgICAgfSk7XG4gIFx0ICAgICAgICB9XG4gIFx0ICAgICAgICByZXR1cm4gciA9IHIgPyByLnRoZW4oY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gIFx0ICAgICAgfVxuICBcdCAgICB9KTtcbiAgXHQgIH1cbiAgXHQgIGZ1bmN0aW9uIG1ha2VJbnZva2VNZXRob2QoZSwgciwgbikge1xuICBcdCAgICB2YXIgbyA9IGg7XG4gIFx0ICAgIHJldHVybiBmdW5jdGlvbiAoaSwgYSkge1xuICBcdCAgICAgIGlmIChvID09PSBmKSB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICBcdCAgICAgIGlmIChvID09PSBzKSB7XG4gIFx0ICAgICAgICBpZiAoXCJ0aHJvd1wiID09PSBpKSB0aHJvdyBhO1xuICBcdCAgICAgICAgcmV0dXJuIHtcbiAgXHQgICAgICAgICAgdmFsdWU6IHQsXG4gIFx0ICAgICAgICAgIGRvbmU6ICEwXG4gIFx0ICAgICAgICB9O1xuICBcdCAgICAgIH1cbiAgXHQgICAgICBmb3IgKG4ubWV0aG9kID0gaSwgbi5hcmcgPSBhOzspIHtcbiAgXHQgICAgICAgIHZhciBjID0gbi5kZWxlZ2F0ZTtcbiAgXHQgICAgICAgIGlmIChjKSB7XG4gIFx0ICAgICAgICAgIHZhciB1ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShjLCBuKTtcbiAgXHQgICAgICAgICAgaWYgKHUpIHtcbiAgXHQgICAgICAgICAgICBpZiAodSA9PT0geSkgY29udGludWU7XG4gIFx0ICAgICAgICAgICAgcmV0dXJuIHU7XG4gIFx0ICAgICAgICAgIH1cbiAgXHQgICAgICAgIH1cbiAgXHQgICAgICAgIGlmIChcIm5leHRcIiA9PT0gbi5tZXRob2QpIG4uc2VudCA9IG4uX3NlbnQgPSBuLmFyZztlbHNlIGlmIChcInRocm93XCIgPT09IG4ubWV0aG9kKSB7XG4gIFx0ICAgICAgICAgIGlmIChvID09PSBoKSB0aHJvdyBvID0gcywgbi5hcmc7XG4gIFx0ICAgICAgICAgIG4uZGlzcGF0Y2hFeGNlcHRpb24obi5hcmcpO1xuICBcdCAgICAgICAgfSBlbHNlIFwicmV0dXJuXCIgPT09IG4ubWV0aG9kICYmIG4uYWJydXB0KFwicmV0dXJuXCIsIG4uYXJnKTtcbiAgXHQgICAgICAgIG8gPSBmO1xuICBcdCAgICAgICAgdmFyIHAgPSB0cnlDYXRjaChlLCByLCBuKTtcbiAgXHQgICAgICAgIGlmIChcIm5vcm1hbFwiID09PSBwLnR5cGUpIHtcbiAgXHQgICAgICAgICAgaWYgKG8gPSBuLmRvbmUgPyBzIDogbCwgcC5hcmcgPT09IHkpIGNvbnRpbnVlO1xuICBcdCAgICAgICAgICByZXR1cm4ge1xuICBcdCAgICAgICAgICAgIHZhbHVlOiBwLmFyZyxcbiAgXHQgICAgICAgICAgICBkb25lOiBuLmRvbmVcbiAgXHQgICAgICAgICAgfTtcbiAgXHQgICAgICAgIH1cbiAgXHQgICAgICAgIFwidGhyb3dcIiA9PT0gcC50eXBlICYmIChvID0gcywgbi5tZXRob2QgPSBcInRocm93XCIsIG4uYXJnID0gcC5hcmcpO1xuICBcdCAgICAgIH1cbiAgXHQgICAgfTtcbiAgXHQgIH1cbiAgXHQgIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgcikge1xuICBcdCAgICB2YXIgbiA9IHIubWV0aG9kLFxuICBcdCAgICAgIG8gPSBlLml0ZXJhdG9yW25dO1xuICBcdCAgICBpZiAobyA9PT0gdCkgcmV0dXJuIHIuZGVsZWdhdGUgPSBudWxsLCBcInRocm93XCIgPT09IG4gJiYgZS5pdGVyYXRvcltcInJldHVyblwiXSAmJiAoci5tZXRob2QgPSBcInJldHVyblwiLCByLmFyZyA9IHQsIG1heWJlSW52b2tlRGVsZWdhdGUoZSwgciksIFwidGhyb3dcIiA9PT0gci5tZXRob2QpIHx8IFwicmV0dXJuXCIgIT09IG4gJiYgKHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IG5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIiArIG4gKyBcIicgbWV0aG9kXCIpKSwgeTtcbiAgXHQgICAgdmFyIGkgPSB0cnlDYXRjaChvLCBlLml0ZXJhdG9yLCByLmFyZyk7XG4gIFx0ICAgIGlmIChcInRocm93XCIgPT09IGkudHlwZSkgcmV0dXJuIHIubWV0aG9kID0gXCJ0aHJvd1wiLCByLmFyZyA9IGkuYXJnLCByLmRlbGVnYXRlID0gbnVsbCwgeTtcbiAgXHQgICAgdmFyIGEgPSBpLmFyZztcbiAgXHQgICAgcmV0dXJuIGEgPyBhLmRvbmUgPyAocltlLnJlc3VsdE5hbWVdID0gYS52YWx1ZSwgci5uZXh0ID0gZS5uZXh0TG9jLCBcInJldHVyblwiICE9PSByLm1ldGhvZCAmJiAoci5tZXRob2QgPSBcIm5leHRcIiwgci5hcmcgPSB0KSwgci5kZWxlZ2F0ZSA9IG51bGwsIHkpIDogYSA6IChyLm1ldGhvZCA9IFwidGhyb3dcIiwgci5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIiksIHIuZGVsZWdhdGUgPSBudWxsLCB5KTtcbiAgXHQgIH1cbiAgXHQgIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeSh0KSB7XG4gIFx0ICAgIHZhciBfY29udGV4dDI7XG4gIFx0ICAgIHZhciBlID0ge1xuICBcdCAgICAgIHRyeUxvYzogdFswXVxuICBcdCAgICB9O1xuICBcdCAgICAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIF9wdXNoSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dDIgPSB0aGlzLnRyeUVudHJpZXMpLmNhbGwoX2NvbnRleHQyLCBlKTtcbiAgXHQgIH1cbiAgXHQgIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkodCkge1xuICBcdCAgICB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTtcbiAgXHQgICAgZS50eXBlID0gXCJub3JtYWxcIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlO1xuICBcdCAgfVxuICBcdCAgZnVuY3Rpb24gQ29udGV4dCh0KSB7XG4gIFx0ICAgIHRoaXMudHJ5RW50cmllcyA9IFt7XG4gIFx0ICAgICAgdHJ5TG9jOiBcInJvb3RcIlxuICBcdCAgICB9XSwgX2ZvckVhY2hJbnN0YW5jZVByb3BlcnR5KHQpLmNhbGwodCwgcHVzaFRyeUVudHJ5LCB0aGlzKSwgdGhpcy5yZXNldCghMCk7XG4gIFx0ICB9XG4gIFx0ICBmdW5jdGlvbiB2YWx1ZXMoZSkge1xuICBcdCAgICBpZiAoZSB8fCBcIlwiID09PSBlKSB7XG4gIFx0ICAgICAgdmFyIHIgPSBlW2FdO1xuICBcdCAgICAgIGlmIChyKSByZXR1cm4gci5jYWxsKGUpO1xuICBcdCAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUubmV4dCkgcmV0dXJuIGU7XG4gIFx0ICAgICAgaWYgKCFpc05hTihlLmxlbmd0aCkpIHtcbiAgXHQgICAgICAgIHZhciBvID0gLTEsXG4gIFx0ICAgICAgICAgIGkgPSBmdW5jdGlvbiBuZXh0KCkge1xuICBcdCAgICAgICAgICAgIGZvciAoOyArK28gPCBlLmxlbmd0aDspIGlmIChuLmNhbGwoZSwgbykpIHJldHVybiBuZXh0LnZhbHVlID0gZVtvXSwgbmV4dC5kb25lID0gITEsIG5leHQ7XG4gIFx0ICAgICAgICAgICAgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMCwgbmV4dDtcbiAgXHQgICAgICAgICAgfTtcbiAgXHQgICAgICAgIHJldHVybiBpLm5leHQgPSBpO1xuICBcdCAgICAgIH1cbiAgXHQgICAgfVxuICBcdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKF90eXBlb2YoZSkgKyBcIiBpcyBub3QgaXRlcmFibGVcIik7XG4gIFx0ICB9XG4gIFx0ICByZXR1cm4gR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIG8oZywgXCJjb25zdHJ1Y3RvclwiLCB7XG4gIFx0ICAgIHZhbHVlOiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgXHQgICAgY29uZmlndXJhYmxlOiAhMFxuICBcdCAgfSksIG8oR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwge1xuICBcdCAgICB2YWx1ZTogR2VuZXJhdG9yRnVuY3Rpb24sXG4gIFx0ICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgXHQgIH0pLCBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgdSwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKSwgZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHtcbiAgXHQgICAgdmFyIGUgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjtcbiAgXHQgICAgcmV0dXJuICEhZSAmJiAoZSA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHwgXCJHZW5lcmF0b3JGdW5jdGlvblwiID09PSAoZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUpKTtcbiAgXHQgIH0sIGUubWFyayA9IGZ1bmN0aW9uICh0KSB7XG4gIFx0ICAgIHJldHVybiBfT2JqZWN0JHNldFByb3RvdHlwZU9mID8gX09iamVjdCRzZXRQcm90b3R5cGVPZih0LCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSkgOiAodC5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSwgZGVmaW5lKHQsIHUsIFwiR2VuZXJhdG9yRnVuY3Rpb25cIikpLCB0LnByb3RvdHlwZSA9IF9PYmplY3QkY3JlYXRlKGcpLCB0O1xuICBcdCAgfSwgZS5hd3JhcCA9IGZ1bmN0aW9uICh0KSB7XG4gIFx0ICAgIHJldHVybiB7XG4gIFx0ICAgICAgX19hd2FpdDogdFxuICBcdCAgICB9O1xuICBcdCAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKSwgZGVmaW5lKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlLCBjLCBmdW5jdGlvbiAoKSB7XG4gIFx0ICAgIHJldHVybiB0aGlzO1xuICBcdCAgfSksIGUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3IsIGUuYXN5bmMgPSBmdW5jdGlvbiAodCwgciwgbiwgbywgaSkge1xuICBcdCAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSBfUHJvbWlzZSk7XG4gIFx0ICAgIHZhciBhID0gbmV3IEFzeW5jSXRlcmF0b3Iod3JhcCh0LCByLCBuLCBvKSwgaSk7XG4gIFx0ICAgIHJldHVybiBlLmlzR2VuZXJhdG9yRnVuY3Rpb24ocikgPyBhIDogYS5uZXh0KCkudGhlbihmdW5jdGlvbiAodCkge1xuICBcdCAgICAgIHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7XG4gIFx0ICAgIH0pO1xuICBcdCAgfSwgZGVmaW5lSXRlcmF0b3JNZXRob2RzKGcpLCBkZWZpbmUoZywgdSwgXCJHZW5lcmF0b3JcIiksIGRlZmluZShnLCBhLCBmdW5jdGlvbiAoKSB7XG4gIFx0ICAgIHJldHVybiB0aGlzO1xuICBcdCAgfSksIGRlZmluZShnLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uICgpIHtcbiAgXHQgICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIFx0ICB9KSwgZS5rZXlzID0gZnVuY3Rpb24gKHQpIHtcbiAgXHQgICAgdmFyIGUgPSBPYmplY3QodCksXG4gIFx0ICAgICAgciA9IFtdO1xuICBcdCAgICBmb3IgKHZhciBuIGluIGUpIF9wdXNoSW5zdGFuY2VQcm9wZXJ0eShyKS5jYWxsKHIsIG4pO1xuICBcdCAgICByZXR1cm4gX3JldmVyc2VJbnN0YW5jZVByb3BlcnR5KHIpLmNhbGwociksIGZ1bmN0aW9uIG5leHQoKSB7XG4gIFx0ICAgICAgZm9yICg7IHIubGVuZ3RoOykge1xuICBcdCAgICAgICAgdmFyIHQgPSByLnBvcCgpO1xuICBcdCAgICAgICAgaWYgKHQgaW4gZSkgcmV0dXJuIG5leHQudmFsdWUgPSB0LCBuZXh0LmRvbmUgPSAhMSwgbmV4dDtcbiAgXHQgICAgICB9XG4gIFx0ICAgICAgcmV0dXJuIG5leHQuZG9uZSA9ICEwLCBuZXh0O1xuICBcdCAgICB9O1xuICBcdCAgfSwgZS52YWx1ZXMgPSB2YWx1ZXMsIENvbnRleHQucHJvdG90eXBlID0ge1xuICBcdCAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcbiAgXHQgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KGUpIHtcbiAgXHQgICAgICB2YXIgX2NvbnRleHQzO1xuICBcdCAgICAgIGlmICh0aGlzLnByZXYgPSAwLCB0aGlzLm5leHQgPSAwLCB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLmFyZyA9IHQsIF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dDMgPSB0aGlzLnRyeUVudHJpZXMpLmNhbGwoX2NvbnRleHQzLCByZXNldFRyeUVudHJ5KSwgIWUpIGZvciAodmFyIHIgaW4gdGhpcykgXCJ0XCIgPT09IHIuY2hhckF0KDApICYmIG4uY2FsbCh0aGlzLCByKSAmJiAhaXNOYU4oK19zbGljZUluc3RhbmNlUHJvcGVydHkocikuY2FsbChyLCAxKSkgJiYgKHRoaXNbcl0gPSB0KTtcbiAgXHQgICAgfSxcbiAgXHQgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHtcbiAgXHQgICAgICB0aGlzLmRvbmUgPSAhMDtcbiAgXHQgICAgICB2YXIgdCA9IHRoaXMudHJ5RW50cmllc1swXS5jb21wbGV0aW9uO1xuICBcdCAgICAgIGlmIChcInRocm93XCIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7XG4gIFx0ICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgXHQgICAgfSxcbiAgXHQgICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uIGRpc3BhdGNoRXhjZXB0aW9uKGUpIHtcbiAgXHQgICAgICBpZiAodGhpcy5kb25lKSB0aHJvdyBlO1xuICBcdCAgICAgIHZhciByID0gdGhpcztcbiAgXHQgICAgICBmdW5jdGlvbiBoYW5kbGUobiwgbykge1xuICBcdCAgICAgICAgcmV0dXJuIGEudHlwZSA9IFwidGhyb3dcIiwgYS5hcmcgPSBlLCByLm5leHQgPSBuLCBvICYmIChyLm1ldGhvZCA9IFwibmV4dFwiLCByLmFyZyA9IHQpLCAhIW87XG4gIFx0ICAgICAgfVxuICBcdCAgICAgIGZvciAodmFyIG8gPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgbyA+PSAwOyAtLW8pIHtcbiAgXHQgICAgICAgIHZhciBpID0gdGhpcy50cnlFbnRyaWVzW29dLFxuICBcdCAgICAgICAgICBhID0gaS5jb21wbGV0aW9uO1xuICBcdCAgICAgICAgaWYgKFwicm9vdFwiID09PSBpLnRyeUxvYykgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgXHQgICAgICAgIGlmIChpLnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgXHQgICAgICAgICAgdmFyIGMgPSBuLmNhbGwoaSwgXCJjYXRjaExvY1wiKSxcbiAgXHQgICAgICAgICAgICB1ID0gbi5jYWxsKGksIFwiZmluYWxseUxvY1wiKTtcbiAgXHQgICAgICAgICAgaWYgKGMgJiYgdSkge1xuICBcdCAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTtcbiAgXHQgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgaS5maW5hbGx5TG9jKSByZXR1cm4gaGFuZGxlKGkuZmluYWxseUxvYyk7XG4gIFx0ICAgICAgICAgIH0gZWxzZSBpZiAoYykge1xuICBcdCAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBpLmNhdGNoTG9jKSByZXR1cm4gaGFuZGxlKGkuY2F0Y2hMb2MsICEwKTtcbiAgXHQgICAgICAgICAgfSBlbHNlIHtcbiAgXHQgICAgICAgICAgICBpZiAoIXUpIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICBcdCAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHJldHVybiBoYW5kbGUoaS5maW5hbGx5TG9jKTtcbiAgXHQgICAgICAgICAgfVxuICBcdCAgICAgICAgfVxuICBcdCAgICAgIH1cbiAgXHQgICAgfSxcbiAgXHQgICAgYWJydXB0OiBmdW5jdGlvbiBhYnJ1cHQodCwgZSkge1xuICBcdCAgICAgIGZvciAodmFyIHIgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgciA+PSAwOyAtLXIpIHtcbiAgXHQgICAgICAgIHZhciBvID0gdGhpcy50cnlFbnRyaWVzW3JdO1xuICBcdCAgICAgICAgaWYgKG8udHJ5TG9jIDw9IHRoaXMucHJldiAmJiBuLmNhbGwobywgXCJmaW5hbGx5TG9jXCIpICYmIHRoaXMucHJldiA8IG8uZmluYWxseUxvYykge1xuICBcdCAgICAgICAgICB2YXIgaSA9IG87XG4gIFx0ICAgICAgICAgIGJyZWFrO1xuICBcdCAgICAgICAgfVxuICBcdCAgICAgIH1cbiAgXHQgICAgICBpICYmIChcImJyZWFrXCIgPT09IHQgfHwgXCJjb250aW51ZVwiID09PSB0KSAmJiBpLnRyeUxvYyA8PSBlICYmIGUgPD0gaS5maW5hbGx5TG9jICYmIChpID0gbnVsbCk7XG4gIFx0ICAgICAgdmFyIGEgPSBpID8gaS5jb21wbGV0aW9uIDoge307XG4gIFx0ICAgICAgcmV0dXJuIGEudHlwZSA9IHQsIGEuYXJnID0gZSwgaSA/ICh0aGlzLm1ldGhvZCA9IFwibmV4dFwiLCB0aGlzLm5leHQgPSBpLmZpbmFsbHlMb2MsIHkpIDogdGhpcy5jb21wbGV0ZShhKTtcbiAgXHQgICAgfSxcbiAgXHQgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHQsIGUpIHtcbiAgXHQgICAgICBpZiAoXCJ0aHJvd1wiID09PSB0LnR5cGUpIHRocm93IHQuYXJnO1xuICBcdCAgICAgIHJldHVybiBcImJyZWFrXCIgPT09IHQudHlwZSB8fCBcImNvbnRpbnVlXCIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogXCJyZXR1cm5cIiA9PT0gdC50eXBlID8gKHRoaXMucnZhbCA9IHRoaXMuYXJnID0gdC5hcmcsIHRoaXMubWV0aG9kID0gXCJyZXR1cm5cIiwgdGhpcy5uZXh0ID0gXCJlbmRcIikgOiBcIm5vcm1hbFwiID09PSB0LnR5cGUgJiYgZSAmJiAodGhpcy5uZXh0ID0gZSksIHk7XG4gIFx0ICAgIH0sXG4gIFx0ICAgIGZpbmlzaDogZnVuY3Rpb24gZmluaXNoKHQpIHtcbiAgXHQgICAgICBmb3IgKHZhciBlID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSB7XG4gIFx0ICAgICAgICB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTtcbiAgXHQgICAgICAgIGlmIChyLmZpbmFsbHlMb2MgPT09IHQpIHJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbiwgci5hZnRlckxvYyksIHJlc2V0VHJ5RW50cnkociksIHk7XG4gIFx0ICAgICAgfVxuICBcdCAgICB9LFxuICBcdCAgICBcImNhdGNoXCI6IGZ1bmN0aW9uIF9jYXRjaCh0KSB7XG4gIFx0ICAgICAgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkge1xuICBcdCAgICAgICAgdmFyIHIgPSB0aGlzLnRyeUVudHJpZXNbZV07XG4gIFx0ICAgICAgICBpZiAoci50cnlMb2MgPT09IHQpIHtcbiAgXHQgICAgICAgICAgdmFyIG4gPSByLmNvbXBsZXRpb247XG4gIFx0ICAgICAgICAgIGlmIChcInRocm93XCIgPT09IG4udHlwZSkge1xuICBcdCAgICAgICAgICAgIHZhciBvID0gbi5hcmc7XG4gIFx0ICAgICAgICAgICAgcmVzZXRUcnlFbnRyeShyKTtcbiAgXHQgICAgICAgICAgfVxuICBcdCAgICAgICAgICByZXR1cm4gbztcbiAgXHQgICAgICAgIH1cbiAgXHQgICAgICB9XG4gIFx0ICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICBcdCAgICB9LFxuICBcdCAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbiBkZWxlZ2F0ZVlpZWxkKGUsIHIsIG4pIHtcbiAgXHQgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgXHQgICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoZSksXG4gIFx0ICAgICAgICByZXN1bHROYW1lOiByLFxuICBcdCAgICAgICAgbmV4dExvYzogblxuICBcdCAgICAgIH0sIFwibmV4dFwiID09PSB0aGlzLm1ldGhvZCAmJiAodGhpcy5hcmcgPSB0KSwgeTtcbiAgXHQgICAgfVxuICBcdCAgfSwgZTtcbiAgXHR9XG4gIFx0bW9kdWxlLmV4cG9ydHMgPSBfcmVnZW5lcmF0b3JSdW50aW1lLCBtb2R1bGUuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZSwgbW9kdWxlLmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gbW9kdWxlLmV4cG9ydHM7IFxuICB9IChyZWdlbmVyYXRvclJ1bnRpbWUkMSkpO1xuXG4gIHZhciByZWdlbmVyYXRvclJ1bnRpbWVFeHBvcnRzID0gcmVnZW5lcmF0b3JSdW50aW1lJDEuZXhwb3J0cztcblxuICAvLyBUT0RPKEJhYmVsIDgpOiBSZW1vdmUgdGhpcyBmaWxlLlxuXG4gIHZhciBydW50aW1lID0gcmVnZW5lcmF0b3JSdW50aW1lRXhwb3J0cygpO1xuICB2YXIgcmVnZW5lcmF0b3IgPSBydW50aW1lO1xuXG4gIC8vIENvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9ibG9iL21haW4vcGFja2FnZXMvcnVudGltZS9ydW50aW1lLmpzI0w3MzY9XG4gIHRyeSB7XG4gICAgcmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgfSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGdsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lID0gcnVudGltZTtcbiAgICB9IGVsc2Uge1xuICAgICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgICB9XG4gIH1cblxuICB2YXIgX3JlZ2VuZXJhdG9yUnVudGltZSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhyZWdlbmVyYXRvcik7XG5cbiAgdmFyIGludGVybmFsTWV0YWRhdGEgPSB7ZXhwb3J0czoge319O1xuXG4gIC8vIEZGMjYtIGJ1ZzogQXJyYXlCdWZmZXJzIGFyZSBub24tZXh0ZW5zaWJsZSwgYnV0IE9iamVjdC5pc0V4dGVuc2libGUgZG9lcyBub3QgcmVwb3J0IGl0XG4gIHZhciBmYWlscyQ0ID0gZmFpbHMkdTtcblxuICB2YXIgYXJyYXlCdWZmZXJOb25FeHRlbnNpYmxlID0gZmFpbHMkNChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDgpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1pc2V4dGVuc2libGUsIGVzL25vLW9iamVjdC1kZWZpbmVwcm9wZXJ0eSAtLSBzYWZlXG4gICAgICBpZiAoT2JqZWN0LmlzRXh0ZW5zaWJsZShidWZmZXIpKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoYnVmZmVyLCAnYScsIHsgdmFsdWU6IDggfSk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgZmFpbHMkMyA9IGZhaWxzJHU7XG4gIHZhciBpc09iamVjdCQyID0gaXNPYmplY3QkaDtcbiAgdmFyIGNsYXNzb2YkMyA9IGNsYXNzb2ZSYXckMjtcbiAgdmFyIEFSUkFZX0JVRkZFUl9OT05fRVhURU5TSUJMRSA9IGFycmF5QnVmZmVyTm9uRXh0ZW5zaWJsZTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXMvbm8tb2JqZWN0LWlzZXh0ZW5zaWJsZSAtLSBzYWZlXG4gIHZhciAkaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcbiAgdmFyIEZBSUxTX09OX1BSSU1JVElWRVMgPSBmYWlscyQzKGZ1bmN0aW9uICgpIHsgJGlzRXh0ZW5zaWJsZSgxKTsgfSk7XG5cbiAgLy8gYE9iamVjdC5pc0V4dGVuc2libGVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW9iamVjdC5pc2V4dGVuc2libGVcbiAgdmFyIG9iamVjdElzRXh0ZW5zaWJsZSA9IChGQUlMU19PTl9QUklNSVRJVkVTIHx8IEFSUkFZX0JVRkZFUl9OT05fRVhURU5TSUJMRSkgPyBmdW5jdGlvbiBpc0V4dGVuc2libGUoaXQpIHtcbiAgICBpZiAoIWlzT2JqZWN0JDIoaXQpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKEFSUkFZX0JVRkZFUl9OT05fRVhURU5TSUJMRSAmJiBjbGFzc29mJDMoaXQpID09PSAnQXJyYXlCdWZmZXInKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuICRpc0V4dGVuc2libGUgPyAkaXNFeHRlbnNpYmxlKGl0KSA6IHRydWU7XG4gIH0gOiAkaXNFeHRlbnNpYmxlO1xuXG4gIHZhciBmYWlscyQyID0gZmFpbHMkdTtcblxuICB2YXIgZnJlZXppbmcgPSAhZmFpbHMkMihmdW5jdGlvbiAoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVzL25vLW9iamVjdC1pc2V4dGVuc2libGUsIGVzL25vLW9iamVjdC1wcmV2ZW50ZXh0ZW5zaW9ucyAtLSByZXF1aXJlZCBmb3IgdGVzdGluZ1xuICAgIHJldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xuICB9KTtcblxuICB2YXIgJCQzID0gX2V4cG9ydDtcbiAgdmFyIHVuY3VycnlUaGlzJDEgPSBmdW5jdGlvblVuY3VycnlUaGlzO1xuICB2YXIgaGlkZGVuS2V5cyA9IGhpZGRlbktleXMkNjtcbiAgdmFyIGlzT2JqZWN0JDEgPSBpc09iamVjdCRoO1xuICB2YXIgaGFzT3duJDMgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgZGVmaW5lUHJvcGVydHkkMSA9IG9iamVjdERlZmluZVByb3BlcnR5LmY7XG4gIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzTW9kdWxlID0gb2JqZWN0R2V0T3duUHJvcGVydHlOYW1lcztcbiAgdmFyIGdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbE1vZHVsZSA9IG9iamVjdEdldE93blByb3BlcnR5TmFtZXNFeHRlcm5hbDtcbiAgdmFyIGlzRXh0ZW5zaWJsZSA9IG9iamVjdElzRXh0ZW5zaWJsZTtcbiAgdmFyIHVpZCA9IHVpZCQ0O1xuICB2YXIgRlJFRVpJTkcgPSBmcmVlemluZztcblxuICB2YXIgUkVRVUlSRUQgPSBmYWxzZTtcbiAgdmFyIE1FVEFEQVRBID0gdWlkKCdtZXRhJyk7XG4gIHZhciBpZCA9IDA7XG5cbiAgdmFyIHNldE1ldGFkYXRhID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgZGVmaW5lUHJvcGVydHkkMShpdCwgTUVUQURBVEEsIHsgdmFsdWU6IHtcbiAgICAgIG9iamVjdElEOiAnTycgKyBpZCsrLCAvLyBvYmplY3QgSURcbiAgICAgIHdlYWtEYXRhOiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICAgIH0gfSk7XG4gIH07XG5cbiAgdmFyIGZhc3RLZXkkMSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gICAgLy8gcmV0dXJuIGEgcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gICAgaWYgKCFpc09iamVjdCQxKGl0KSkgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgICBpZiAoIWhhc093biQzKGl0LCBNRVRBREFUQSkpIHtcbiAgICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiAnRic7XG4gICAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgICAgc2V0TWV0YWRhdGEoaXQpO1xuICAgIC8vIHJldHVybiBvYmplY3QgSURcbiAgICB9IHJldHVybiBpdFtNRVRBREFUQV0ub2JqZWN0SUQ7XG4gIH07XG5cbiAgdmFyIGdldFdlYWtEYXRhID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgICBpZiAoIWhhc093biQzKGl0LCBNRVRBREFUQSkpIHtcbiAgICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICAgIGlmICghY3JlYXRlKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgICAgc2V0TWV0YWRhdGEoaXQpO1xuICAgIC8vIHJldHVybiB0aGUgc3RvcmUgb2Ygd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgICB9IHJldHVybiBpdFtNRVRBREFUQV0ud2Vha0RhdGE7XG4gIH07XG5cbiAgLy8gYWRkIG1ldGFkYXRhIG9uIGZyZWV6ZS1mYW1pbHkgbWV0aG9kcyBjYWxsaW5nXG4gIHZhciBvbkZyZWV6ZSA9IGZ1bmN0aW9uIChpdCkge1xuICAgIGlmIChGUkVFWklORyAmJiBSRVFVSVJFRCAmJiBpc0V4dGVuc2libGUoaXQpICYmICFoYXNPd24kMyhpdCwgTUVUQURBVEEpKSBzZXRNZXRhZGF0YShpdCk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuXG4gIHZhciBlbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgbWV0YS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG4gICAgUkVRVUlSRUQgPSB0cnVlO1xuICAgIHZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mO1xuICAgIHZhciBzcGxpY2UgPSB1bmN1cnJ5VGhpcyQxKFtdLnNwbGljZSk7XG4gICAgdmFyIHRlc3QgPSB7fTtcbiAgICB0ZXN0W01FVEFEQVRBXSA9IDE7XG5cbiAgICAvLyBwcmV2ZW50IGV4cG9zaW5nIG9mIG1ldGFkYXRhIGtleVxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QpLmxlbmd0aCkge1xuICAgICAgZ2V0T3duUHJvcGVydHlOYW1lc01vZHVsZS5mID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChyZXN1bHRbaV0gPT09IE1FVEFEQVRBKSB7XG4gICAgICAgICAgICBzcGxpY2UocmVzdWx0LCBpLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcblxuICAgICAgJCQzKHsgdGFyZ2V0OiAnT2JqZWN0Jywgc3RhdDogdHJ1ZSwgZm9yY2VkOiB0cnVlIH0sIHtcbiAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lczogZ2V0T3duUHJvcGVydHlOYW1lc0V4dGVybmFsTW9kdWxlLmZcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgbWV0YSA9IGludGVybmFsTWV0YWRhdGEuZXhwb3J0cyA9IHtcbiAgICBlbmFibGU6IGVuYWJsZSxcbiAgICBmYXN0S2V5OiBmYXN0S2V5JDEsXG4gICAgZ2V0V2Vha0RhdGE6IGdldFdlYWtEYXRhLFxuICAgIG9uRnJlZXplOiBvbkZyZWV6ZVxuICB9O1xuXG4gIGhpZGRlbktleXNbTUVUQURBVEFdID0gdHJ1ZTtcblxuICB2YXIgaW50ZXJuYWxNZXRhZGF0YUV4cG9ydHMgPSBpbnRlcm5hbE1ldGFkYXRhLmV4cG9ydHM7XG5cbiAgdmFyICQkMiA9IF9leHBvcnQ7XG4gIHZhciBnbG9iYWwkMSA9IGdsb2JhbCRwO1xuICB2YXIgSW50ZXJuYWxNZXRhZGF0YU1vZHVsZSA9IGludGVybmFsTWV0YWRhdGFFeHBvcnRzO1xuICB2YXIgZmFpbHMkMSA9IGZhaWxzJHU7XG4gIHZhciBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkgPSBjcmVhdGVOb25FbnVtZXJhYmxlUHJvcGVydHkkOTtcbiAgdmFyIGl0ZXJhdGUkMSA9IGl0ZXJhdGUkNztcbiAgdmFyIGFuSW5zdGFuY2UkMSA9IGFuSW5zdGFuY2UkMztcbiAgdmFyIGlzQ2FsbGFibGUgPSBpc0NhbGxhYmxlJG07XG4gIHZhciBpc09iamVjdCA9IGlzT2JqZWN0JGg7XG4gIHZhciBpc051bGxPclVuZGVmaW5lZCQxID0gaXNOdWxsT3JVbmRlZmluZWQkNjtcbiAgdmFyIHNldFRvU3RyaW5nVGFnID0gc2V0VG9TdHJpbmdUYWckNztcbiAgdmFyIGRlZmluZVByb3BlcnR5ID0gb2JqZWN0RGVmaW5lUHJvcGVydHkuZjtcbiAgdmFyIGZvckVhY2ggPSBhcnJheUl0ZXJhdGlvbi5mb3JFYWNoO1xuICB2YXIgREVTQ1JJUFRPUlMkMSA9IGRlc2NyaXB0b3JzO1xuICB2YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSQxID0gaW50ZXJuYWxTdGF0ZTtcblxuICB2YXIgc2V0SW50ZXJuYWxTdGF0ZSQxID0gSW50ZXJuYWxTdGF0ZU1vZHVsZSQxLnNldDtcbiAgdmFyIGludGVybmFsU3RhdGVHZXR0ZXJGb3IkMSA9IEludGVybmFsU3RhdGVNb2R1bGUkMS5nZXR0ZXJGb3I7XG5cbiAgdmFyIGNvbGxlY3Rpb24kMiA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUl9OQU1FLCB3cmFwcGVyLCBjb21tb24pIHtcbiAgICB2YXIgSVNfTUFQID0gQ09OU1RSVUNUT1JfTkFNRS5pbmRleE9mKCdNYXAnKSAhPT0gLTE7XG4gICAgdmFyIElTX1dFQUsgPSBDT05TVFJVQ1RPUl9OQU1FLmluZGV4T2YoJ1dlYWsnKSAhPT0gLTE7XG4gICAgdmFyIEFEREVSID0gSVNfTUFQID8gJ3NldCcgOiAnYWRkJztcbiAgICB2YXIgTmF0aXZlQ29uc3RydWN0b3IgPSBnbG9iYWwkMVtDT05TVFJVQ1RPUl9OQU1FXTtcbiAgICB2YXIgTmF0aXZlUHJvdG90eXBlID0gTmF0aXZlQ29uc3RydWN0b3IgJiYgTmF0aXZlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgIHZhciBleHBvcnRlZCA9IHt9O1xuICAgIHZhciBDb25zdHJ1Y3RvcjtcblxuICAgIGlmICghREVTQ1JJUFRPUlMkMSB8fCAhaXNDYWxsYWJsZShOYXRpdmVDb25zdHJ1Y3RvcilcbiAgICAgIHx8ICEoSVNfV0VBSyB8fCBOYXRpdmVQcm90b3R5cGUuZm9yRWFjaCAmJiAhZmFpbHMkMShmdW5jdGlvbiAoKSB7IG5ldyBOYXRpdmVDb25zdHJ1Y3RvcigpLmVudHJpZXMoKS5uZXh0KCk7IH0pKVxuICAgICkge1xuICAgICAgLy8gY3JlYXRlIGNvbGxlY3Rpb24gY29uc3RydWN0b3JcbiAgICAgIENvbnN0cnVjdG9yID0gY29tbW9uLmdldENvbnN0cnVjdG9yKHdyYXBwZXIsIENPTlNUUlVDVE9SX05BTUUsIElTX01BUCwgQURERVIpO1xuICAgICAgSW50ZXJuYWxNZXRhZGF0YU1vZHVsZS5lbmFibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgQ29uc3RydWN0b3IgPSB3cmFwcGVyKGZ1bmN0aW9uICh0YXJnZXQsIGl0ZXJhYmxlKSB7XG4gICAgICAgIHNldEludGVybmFsU3RhdGUkMShhbkluc3RhbmNlJDEodGFyZ2V0LCBQcm90b3R5cGUpLCB7XG4gICAgICAgICAgdHlwZTogQ09OU1RSVUNUT1JfTkFNRSxcbiAgICAgICAgICBjb2xsZWN0aW9uOiBuZXcgTmF0aXZlQ29uc3RydWN0b3IoKVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZCQxKGl0ZXJhYmxlKSkgaXRlcmF0ZSQxKGl0ZXJhYmxlLCB0YXJnZXRbQURERVJdLCB7IHRoYXQ6IHRhcmdldCwgQVNfRU5UUklFUzogSVNfTUFQIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBQcm90b3R5cGUgPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgICAgIHZhciBnZXRJbnRlcm5hbFN0YXRlID0gaW50ZXJuYWxTdGF0ZUdldHRlckZvciQxKENPTlNUUlVDVE9SX05BTUUpO1xuXG4gICAgICBmb3JFYWNoKFsnYWRkJywgJ2NsZWFyJywgJ2RlbGV0ZScsICdmb3JFYWNoJywgJ2dldCcsICdoYXMnLCAnc2V0JywgJ2tleXMnLCAndmFsdWVzJywgJ2VudHJpZXMnXSwgZnVuY3Rpb24gKEtFWSkge1xuICAgICAgICB2YXIgSVNfQURERVIgPSBLRVkgPT09ICdhZGQnIHx8IEtFWSA9PT0gJ3NldCc7XG4gICAgICAgIGlmIChLRVkgaW4gTmF0aXZlUHJvdG90eXBlICYmICEoSVNfV0VBSyAmJiBLRVkgPT09ICdjbGVhcicpKSB7XG4gICAgICAgICAgY3JlYXRlTm9uRW51bWVyYWJsZVByb3BlcnR5KFByb3RvdHlwZSwgS0VZLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBnZXRJbnRlcm5hbFN0YXRlKHRoaXMpLmNvbGxlY3Rpb247XG4gICAgICAgICAgICBpZiAoIUlTX0FEREVSICYmIElTX1dFQUsgJiYgIWlzT2JqZWN0KGEpKSByZXR1cm4gS0VZID09PSAnZ2V0JyA/IHVuZGVmaW5lZCA6IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbGxlY3Rpb25bS0VZXShhID09PSAwID8gMCA6IGEsIGIpO1xuICAgICAgICAgICAgcmV0dXJuIElTX0FEREVSID8gdGhpcyA6IHJlc3VsdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIElTX1dFQUsgfHwgZGVmaW5lUHJvcGVydHkoUHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5jb2xsZWN0aW9uLnNpemU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBDT05TVFJVQ1RPUl9OQU1FLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICBleHBvcnRlZFtDT05TVFJVQ1RPUl9OQU1FXSA9IENvbnN0cnVjdG9yO1xuICAgICQkMih7IGdsb2JhbDogdHJ1ZSwgZm9yY2VkOiB0cnVlIH0sIGV4cG9ydGVkKTtcblxuICAgIGlmICghSVNfV0VBSykgY29tbW9uLnNldFN0cm9uZyhDb25zdHJ1Y3RvciwgQ09OU1RSVUNUT1JfTkFNRSwgSVNfTUFQKTtcblxuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcblxuICB2YXIgZGVmaW5lQnVpbHRJbiA9IGRlZmluZUJ1aWx0SW4kNjtcblxuICB2YXIgZGVmaW5lQnVpbHRJbnMkMSA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgb3B0aW9ucykge1xuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudW5zYWZlICYmIHRhcmdldFtrZXldKSB0YXJnZXRba2V5XSA9IHNyY1trZXldO1xuICAgICAgZWxzZSBkZWZpbmVCdWlsdEluKHRhcmdldCwga2V5LCBzcmNba2V5XSwgb3B0aW9ucyk7XG4gICAgfSByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHZhciBjcmVhdGUgPSBvYmplY3RDcmVhdGU7XG4gIHZhciBkZWZpbmVCdWlsdEluQWNjZXNzb3IgPSBkZWZpbmVCdWlsdEluQWNjZXNzb3IkMztcbiAgdmFyIGRlZmluZUJ1aWx0SW5zID0gZGVmaW5lQnVpbHRJbnMkMTtcbiAgdmFyIGJpbmQgPSBmdW5jdGlvbkJpbmRDb250ZXh0O1xuICB2YXIgYW5JbnN0YW5jZSA9IGFuSW5zdGFuY2UkMztcbiAgdmFyIGlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQkNjtcbiAgdmFyIGl0ZXJhdGUgPSBpdGVyYXRlJDc7XG4gIHZhciBkZWZpbmVJdGVyYXRvciA9IGl0ZXJhdG9yRGVmaW5lO1xuICB2YXIgY3JlYXRlSXRlclJlc3VsdE9iamVjdCA9IGNyZWF0ZUl0ZXJSZXN1bHRPYmplY3QkMztcbiAgdmFyIHNldFNwZWNpZXMgPSBzZXRTcGVjaWVzJDI7XG4gIHZhciBERVNDUklQVE9SUyA9IGRlc2NyaXB0b3JzO1xuICB2YXIgZmFzdEtleSA9IGludGVybmFsTWV0YWRhdGFFeHBvcnRzLmZhc3RLZXk7XG4gIHZhciBJbnRlcm5hbFN0YXRlTW9kdWxlID0gaW50ZXJuYWxTdGF0ZTtcblxuICB2YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xuICB2YXIgaW50ZXJuYWxTdGF0ZUdldHRlckZvciA9IEludGVybmFsU3RhdGVNb2R1bGUuZ2V0dGVyRm9yO1xuXG4gIHZhciBjb2xsZWN0aW9uU3Ryb25nJDIgPSB7XG4gICAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVAsIEFEREVSKSB7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBpdGVyYWJsZSkge1xuICAgICAgICBhbkluc3RhbmNlKHRoYXQsIFByb3RvdHlwZSk7XG4gICAgICAgIHNldEludGVybmFsU3RhdGUodGhhdCwge1xuICAgICAgICAgIHR5cGU6IENPTlNUUlVDVE9SX05BTUUsXG4gICAgICAgICAgaW5kZXg6IGNyZWF0ZShudWxsKSxcbiAgICAgICAgICBmaXJzdDogdW5kZWZpbmVkLFxuICAgICAgICAgIGxhc3Q6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzaXplOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIURFU0NSSVBUT1JTKSB0aGF0LnNpemUgPSAwO1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGl0ZXJhYmxlKSkgaXRlcmF0ZShpdGVyYWJsZSwgdGhhdFtBRERFUl0sIHsgdGhhdDogdGhhdCwgQVNfRU5UUklFUzogSVNfTUFQIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBQcm90b3R5cGUgPSBDb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG5cbiAgICAgIHZhciBnZXRJbnRlcm5hbFN0YXRlID0gaW50ZXJuYWxTdGF0ZUdldHRlckZvcihDT05TVFJVQ1RPUl9OQU1FKTtcblxuICAgICAgdmFyIGRlZmluZSA9IGZ1bmN0aW9uICh0aGF0LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7XG4gICAgICAgIHZhciBlbnRyeSA9IGdldEVudHJ5KHRoYXQsIGtleSk7XG4gICAgICAgIHZhciBwcmV2aW91cywgaW5kZXg7XG4gICAgICAgIC8vIGNoYW5nZSBleGlzdGluZyBlbnRyeVxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICBlbnRyeS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAvLyBjcmVhdGUgbmV3IGVudHJ5XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUubGFzdCA9IGVudHJ5ID0ge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4ID0gZmFzdEtleShrZXksIHRydWUpLFxuICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwcmV2aW91czogcHJldmlvdXMgPSBzdGF0ZS5sYXN0LFxuICAgICAgICAgICAgbmV4dDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmVtb3ZlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmICghc3RhdGUuZmlyc3QpIHN0YXRlLmZpcnN0ID0gZW50cnk7XG4gICAgICAgICAgaWYgKHByZXZpb3VzKSBwcmV2aW91cy5uZXh0ID0gZW50cnk7XG4gICAgICAgICAgaWYgKERFU0NSSVBUT1JTKSBzdGF0ZS5zaXplKys7XG4gICAgICAgICAgZWxzZSB0aGF0LnNpemUrKztcbiAgICAgICAgICAvLyBhZGQgdG8gaW5kZXhcbiAgICAgICAgICBpZiAoaW5kZXggIT09ICdGJykgc3RhdGUuaW5kZXhbaW5kZXhdID0gZW50cnk7XG4gICAgICAgIH0gcmV0dXJuIHRoYXQ7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZ2V0RW50cnkgPSBmdW5jdGlvbiAodGhhdCwga2V5KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7XG4gICAgICAgIC8vIGZhc3QgY2FzZVxuICAgICAgICB2YXIgaW5kZXggPSBmYXN0S2V5KGtleSk7XG4gICAgICAgIHZhciBlbnRyeTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAnRicpIHJldHVybiBzdGF0ZS5pbmRleFtpbmRleF07XG4gICAgICAgIC8vIGZyb3plbiBvYmplY3QgY2FzZVxuICAgICAgICBmb3IgKGVudHJ5ID0gc3RhdGUuZmlyc3Q7IGVudHJ5OyBlbnRyeSA9IGVudHJ5Lm5leHQpIHtcbiAgICAgICAgICBpZiAoZW50cnkua2V5ID09PSBrZXkpIHJldHVybiBlbnRyeTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZGVmaW5lQnVpbHRJbnMoUHJvdG90eXBlLCB7XG4gICAgICAgIC8vIGB7IE1hcCwgU2V0IH0ucHJvdG90eXBlLmNsZWFyKClgIG1ldGhvZHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmNsZWFyXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS5jbGVhclxuICAgICAgICBjbGVhcjogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7XG4gICAgICAgICAgdmFyIGRhdGEgPSBzdGF0ZS5pbmRleDtcbiAgICAgICAgICB2YXIgZW50cnkgPSBzdGF0ZS5maXJzdDtcbiAgICAgICAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgICAgICAgIGVudHJ5LnJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGVudHJ5LnByZXZpb3VzKSBlbnRyeS5wcmV2aW91cyA9IGVudHJ5LnByZXZpb3VzLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgZGF0YVtlbnRyeS5pbmRleF07XG4gICAgICAgICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlLmZpcnN0ID0gc3RhdGUubGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoREVTQ1JJUFRPUlMpIHN0YXRlLnNpemUgPSAwO1xuICAgICAgICAgIGVsc2UgdGhhdC5zaXplID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYHsgTWFwLCBTZXQgfS5wcm90b3R5cGUuZGVsZXRlKGtleSlgIG1ldGhvZHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmRlbGV0ZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuZGVsZXRlXG4gICAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7XG4gICAgICAgICAgdmFyIGVudHJ5ID0gZ2V0RW50cnkodGhhdCwga2V5KTtcbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gZW50cnkubmV4dDtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gZW50cnkucHJldmlvdXM7XG4gICAgICAgICAgICBkZWxldGUgc3RhdGUuaW5kZXhbZW50cnkuaW5kZXhdO1xuICAgICAgICAgICAgZW50cnkucmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAocHJldikgcHJldi5uZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIGlmIChuZXh0KSBuZXh0LnByZXZpb3VzID0gcHJldjtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5maXJzdCA9PT0gZW50cnkpIHN0YXRlLmZpcnN0ID0gbmV4dDtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5sYXN0ID09PSBlbnRyeSkgc3RhdGUubGFzdCA9IHByZXY7XG4gICAgICAgICAgICBpZiAoREVTQ1JJUFRPUlMpIHN0YXRlLnNpemUtLTtcbiAgICAgICAgICAgIGVsc2UgdGhhdC5zaXplLS07XG4gICAgICAgICAgfSByZXR1cm4gISFlbnRyeTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYHsgTWFwLCBTZXQgfS5wcm90b3R5cGUuZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnID0gdW5kZWZpbmVkKWAgbWV0aG9kc1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUuZm9yZWFjaFxuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuZm9yZWFjaFxuICAgICAgICBmb3JFYWNoOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG4gICAgICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgICAgICAgICB2YXIgYm91bmRGdW5jdGlvbiA9IGJpbmQoY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgICAgICAgIHZhciBlbnRyeTtcbiAgICAgICAgICB3aGlsZSAoZW50cnkgPSBlbnRyeSA/IGVudHJ5Lm5leHQgOiBzdGF0ZS5maXJzdCkge1xuICAgICAgICAgICAgYm91bmRGdW5jdGlvbihlbnRyeS52YWx1ZSwgZW50cnkua2V5LCB0aGlzKTtcbiAgICAgICAgICAgIC8vIHJldmVydCB0byB0aGUgbGFzdCBleGlzdGluZyBlbnRyeVxuICAgICAgICAgICAgd2hpbGUgKGVudHJ5ICYmIGVudHJ5LnJlbW92ZWQpIGVudHJ5ID0gZW50cnkucHJldmlvdXM7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvLyBgeyBNYXAsIFNldH0ucHJvdG90eXBlLmhhcyhrZXkpYCBtZXRob2RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS5oYXNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQucHJvdG90eXBlLmhhc1xuICAgICAgICBoYXM6IGZ1bmN0aW9uIGhhcyhrZXkpIHtcbiAgICAgICAgICByZXR1cm4gISFnZXRFbnRyeSh0aGlzLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZGVmaW5lQnVpbHRJbnMoUHJvdG90eXBlLCBJU19NQVAgPyB7XG4gICAgICAgIC8vIGBNYXAucHJvdG90eXBlLmdldChrZXkpYCBtZXRob2RcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmdldFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgICAgICB2YXIgZW50cnkgPSBnZXRFbnRyeSh0aGlzLCBrZXkpO1xuICAgICAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeS52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYE1hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpYCBtZXRob2RcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLnNldFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZSh0aGlzLCBrZXkgPT09IDAgPyAwIDoga2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gOiB7XG4gICAgICAgIC8vIGBTZXQucHJvdG90eXBlLmFkZCh2YWx1ZSlgIG1ldGhvZFxuICAgICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuYWRkXG4gICAgICAgIGFkZDogZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmluZSh0aGlzLCB2YWx1ZSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKERFU0NSSVBUT1JTKSBkZWZpbmVCdWlsdEluQWNjZXNzb3IoUHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKS5zaXplO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICB9LFxuICAgIHNldFN0cm9uZzogZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVApIHtcbiAgICAgIHZhciBJVEVSQVRPUl9OQU1FID0gQ09OU1RSVUNUT1JfTkFNRSArICcgSXRlcmF0b3InO1xuICAgICAgdmFyIGdldEludGVybmFsQ29sbGVjdGlvblN0YXRlID0gaW50ZXJuYWxTdGF0ZUdldHRlckZvcihDT05TVFJVQ1RPUl9OQU1FKTtcbiAgICAgIHZhciBnZXRJbnRlcm5hbEl0ZXJhdG9yU3RhdGUgPSBpbnRlcm5hbFN0YXRlR2V0dGVyRm9yKElURVJBVE9SX05BTUUpO1xuICAgICAgLy8gYHsgTWFwLCBTZXQgfS5wcm90b3R5cGUueyBrZXlzLCB2YWx1ZXMsIGVudHJpZXMsIEBAaXRlcmF0b3IgfSgpYCBtZXRob2RzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLW1hcC5wcm90b3R5cGUuZW50cmllc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1tYXAucHJvdG90eXBlLmtleXNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS52YWx1ZXNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLnByb3RvdHlwZS1AQGl0ZXJhdG9yXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLXNldC5wcm90b3R5cGUuZW50cmllc1xuICAgICAgLy8gaHR0cHM6Ly90YzM5LmVzL2VjbWEyNjIvI3NlYy1zZXQucHJvdG90eXBlLmtleXNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS52YWx1ZXNcbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LnByb3RvdHlwZS1AQGl0ZXJhdG9yXG4gICAgICBkZWZpbmVJdGVyYXRvcihDb25zdHJ1Y3RvciwgQ09OU1RSVUNUT1JfTkFNRSwgZnVuY3Rpb24gKGl0ZXJhdGVkLCBraW5kKSB7XG4gICAgICAgIHNldEludGVybmFsU3RhdGUodGhpcywge1xuICAgICAgICAgIHR5cGU6IElURVJBVE9SX05BTUUsXG4gICAgICAgICAgdGFyZ2V0OiBpdGVyYXRlZCxcbiAgICAgICAgICBzdGF0ZTogZ2V0SW50ZXJuYWxDb2xsZWN0aW9uU3RhdGUoaXRlcmF0ZWQpLFxuICAgICAgICAgIGtpbmQ6IGtpbmQsXG4gICAgICAgICAgbGFzdDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBnZXRJbnRlcm5hbEl0ZXJhdG9yU3RhdGUodGhpcyk7XG4gICAgICAgIHZhciBraW5kID0gc3RhdGUua2luZDtcbiAgICAgICAgdmFyIGVudHJ5ID0gc3RhdGUubGFzdDtcbiAgICAgICAgLy8gcmV2ZXJ0IHRvIHRoZSBsYXN0IGV4aXN0aW5nIGVudHJ5XG4gICAgICAgIHdoaWxlIChlbnRyeSAmJiBlbnRyeS5yZW1vdmVkKSBlbnRyeSA9IGVudHJ5LnByZXZpb3VzO1xuICAgICAgICAvLyBnZXQgbmV4dCBlbnRyeVxuICAgICAgICBpZiAoIXN0YXRlLnRhcmdldCB8fCAhKHN0YXRlLmxhc3QgPSBlbnRyeSA9IGVudHJ5ID8gZW50cnkubmV4dCA6IHN0YXRlLnN0YXRlLmZpcnN0KSkge1xuICAgICAgICAgIC8vIG9yIGZpbmlzaCB0aGUgaXRlcmF0aW9uXG4gICAgICAgICAgc3RhdGUudGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVJdGVyUmVzdWx0T2JqZWN0KHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIHN0ZXAgYnkga2luZFxuICAgICAgICBpZiAoa2luZCA9PT0gJ2tleXMnKSByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdChlbnRyeS5rZXksIGZhbHNlKTtcbiAgICAgICAgaWYgKGtpbmQgPT09ICd2YWx1ZXMnKSByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdChlbnRyeS52YWx1ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY3JlYXRlSXRlclJlc3VsdE9iamVjdChbZW50cnkua2V5LCBlbnRyeS52YWx1ZV0sIGZhbHNlKTtcbiAgICAgIH0sIElTX01BUCA/ICdlbnRyaWVzJyA6ICd2YWx1ZXMnLCAhSVNfTUFQLCB0cnVlKTtcblxuICAgICAgLy8gYHsgTWFwLCBTZXQgfS5wcm90b3R5cGVbQEBzcGVjaWVzXWAgYWNjZXNzb3JzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1tYXAtQEBzcGVjaWVzXG4gICAgICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWdldC1zZXQtQEBzcGVjaWVzXG4gICAgICBzZXRTcGVjaWVzKENPTlNUUlVDVE9SX05BTUUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY29sbGVjdGlvbiQxID0gY29sbGVjdGlvbiQyO1xuICB2YXIgY29sbGVjdGlvblN0cm9uZyQxID0gY29sbGVjdGlvblN0cm9uZyQyO1xuXG4gIC8vIGBNYXBgIGNvbnN0cnVjdG9yXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtbWFwLW9iamVjdHNcbiAgY29sbGVjdGlvbiQxKCdNYXAnLCBmdW5jdGlvbiAoaW5pdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBNYXAoKSB7IHJldHVybiBpbml0KHRoaXMsIGFyZ3VtZW50cy5sZW5ndGggPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQpOyB9O1xuICB9LCBjb2xsZWN0aW9uU3Ryb25nJDEpO1xuXG4gIHZhciBwYXRoJDEgPSBwYXRoJG87XG5cbiAgdmFyIG1hcCQyID0gcGF0aCQxLk1hcDtcblxuICB2YXIgcGFyZW50JDkgPSBtYXAkMjtcblxuXG4gIHZhciBtYXAkMSA9IHBhcmVudCQ5O1xuXG4gIHZhciBtYXAgPSBtYXAkMTtcblxuICB2YXIgX01hcCA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhtYXApO1xuXG4gIHZhciAkJDEgPSBfZXhwb3J0O1xuICB2YXIgJHNvbWUgPSBhcnJheUl0ZXJhdGlvbi5zb21lO1xuICB2YXIgYXJyYXlNZXRob2RJc1N0cmljdCQxID0gYXJyYXlNZXRob2RJc1N0cmljdCQ0O1xuXG4gIHZhciBTVFJJQ1RfTUVUSE9EJDEgPSBhcnJheU1ldGhvZElzU3RyaWN0JDEoJ3NvbWUnKTtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLnNvbWVgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb21lXG4gICQkMSh7IHRhcmdldDogJ0FycmF5JywgcHJvdG86IHRydWUsIGZvcmNlZDogIVNUUklDVF9NRVRIT0QkMSB9LCB7XG4gICAgc29tZTogZnVuY3Rpb24gc29tZShjYWxsYmFja2ZuIC8qICwgdGhpc0FyZyAqLykge1xuICAgICAgcmV0dXJuICRzb21lKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJDQgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kJGc7XG5cbiAgdmFyIHNvbWUkMyA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkNCgnQXJyYXknLCAnc29tZScpO1xuXG4gIHZhciBpc1Byb3RvdHlwZU9mJDQgPSBvYmplY3RJc1Byb3RvdHlwZU9mO1xuICB2YXIgbWV0aG9kJDQgPSBzb21lJDM7XG5cbiAgdmFyIEFycmF5UHJvdG90eXBlJDQgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIHNvbWUkMiA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBvd24gPSBpdC5zb21lO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkNCB8fCAoaXNQcm90b3R5cGVPZiQ0KEFycmF5UHJvdG90eXBlJDQsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDQuc29tZSkgPyBtZXRob2QkNCA6IG93bjtcbiAgfTtcblxuICB2YXIgcGFyZW50JDggPSBzb21lJDI7XG5cbiAgdmFyIHNvbWUkMSA9IHBhcmVudCQ4O1xuXG4gIHZhciBzb21lID0gc29tZSQxO1xuXG4gIHZhciBfc29tZUluc3RhbmNlUHJvcGVydHkgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoc29tZSk7XG5cbiAgdmFyIGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkMyA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkZztcblxuICB2YXIga2V5cyQzID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCQzKCdBcnJheScsICdrZXlzJyk7XG5cbiAgdmFyIHBhcmVudCQ3ID0ga2V5cyQzO1xuXG4gIHZhciBrZXlzJDIgPSBwYXJlbnQkNztcblxuICB2YXIgY2xhc3NvZiQyID0gY2xhc3NvZiRkO1xuICB2YXIgaGFzT3duJDIgPSBoYXNPd25Qcm9wZXJ0eV8xO1xuICB2YXIgaXNQcm90b3R5cGVPZiQzID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCQzID0ga2V5cyQyO1xuXG4gIHZhciBBcnJheVByb3RvdHlwZSQzID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBET01JdGVyYWJsZXMkMiA9IHtcbiAgICBET01Ub2tlbkxpc3Q6IHRydWUsXG4gICAgTm9kZUxpc3Q6IHRydWVcbiAgfTtcblxuICB2YXIga2V5cyQxID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LmtleXM7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSQzIHx8IChpc1Byb3RvdHlwZU9mJDMoQXJyYXlQcm90b3R5cGUkMywgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkMy5rZXlzKVxuICAgICAgfHwgaGFzT3duJDIoRE9NSXRlcmFibGVzJDIsIGNsYXNzb2YkMihpdCkpID8gbWV0aG9kJDMgOiBvd247XG4gIH07XG5cbiAgdmFyIGtleXMgPSBrZXlzJDE7XG5cbiAgdmFyIF9rZXlzSW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhrZXlzKTtcblxuICB2YXIgYXJyYXlTbGljZSA9IGFycmF5U2xpY2VTaW1wbGU7XG5cbiAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjtcblxuICB2YXIgbWVyZ2VTb3J0ID0gZnVuY3Rpb24gKGFycmF5LCBjb21wYXJlZm4pIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIHZhciBtaWRkbGUgPSBmbG9vcihsZW5ndGggLyAyKTtcbiAgICByZXR1cm4gbGVuZ3RoIDwgOCA/IGluc2VydGlvblNvcnQoYXJyYXksIGNvbXBhcmVmbikgOiBtZXJnZShcbiAgICAgIGFycmF5LFxuICAgICAgbWVyZ2VTb3J0KGFycmF5U2xpY2UoYXJyYXksIDAsIG1pZGRsZSksIGNvbXBhcmVmbiksXG4gICAgICBtZXJnZVNvcnQoYXJyYXlTbGljZShhcnJheSwgbWlkZGxlKSwgY29tcGFyZWZuKSxcbiAgICAgIGNvbXBhcmVmblxuICAgICk7XG4gIH07XG5cbiAgdmFyIGluc2VydGlvblNvcnQgPSBmdW5jdGlvbiAoYXJyYXksIGNvbXBhcmVmbikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgdmFyIGkgPSAxO1xuICAgIHZhciBlbGVtZW50LCBqO1xuXG4gICAgd2hpbGUgKGkgPCBsZW5ndGgpIHtcbiAgICAgIGogPSBpO1xuICAgICAgZWxlbWVudCA9IGFycmF5W2ldO1xuICAgICAgd2hpbGUgKGogJiYgY29tcGFyZWZuKGFycmF5W2ogLSAxXSwgZWxlbWVudCkgPiAwKSB7XG4gICAgICAgIGFycmF5W2pdID0gYXJyYXlbLS1qXTtcbiAgICAgIH1cbiAgICAgIGlmIChqICE9PSBpKyspIGFycmF5W2pdID0gZWxlbWVudDtcbiAgICB9IHJldHVybiBhcnJheTtcbiAgfTtcblxuICB2YXIgbWVyZ2UgPSBmdW5jdGlvbiAoYXJyYXksIGxlZnQsIHJpZ2h0LCBjb21wYXJlZm4pIHtcbiAgICB2YXIgbGxlbmd0aCA9IGxlZnQubGVuZ3RoO1xuICAgIHZhciBybGVuZ3RoID0gcmlnaHQubGVuZ3RoO1xuICAgIHZhciBsaW5kZXggPSAwO1xuICAgIHZhciByaW5kZXggPSAwO1xuXG4gICAgd2hpbGUgKGxpbmRleCA8IGxsZW5ndGggfHwgcmluZGV4IDwgcmxlbmd0aCkge1xuICAgICAgYXJyYXlbbGluZGV4ICsgcmluZGV4XSA9IChsaW5kZXggPCBsbGVuZ3RoICYmIHJpbmRleCA8IHJsZW5ndGgpXG4gICAgICAgID8gY29tcGFyZWZuKGxlZnRbbGluZGV4XSwgcmlnaHRbcmluZGV4XSkgPD0gMCA/IGxlZnRbbGluZGV4KytdIDogcmlnaHRbcmluZGV4KytdXG4gICAgICAgIDogbGluZGV4IDwgbGxlbmd0aCA/IGxlZnRbbGluZGV4KytdIDogcmlnaHRbcmluZGV4KytdO1xuICAgIH0gcmV0dXJuIGFycmF5O1xuICB9O1xuXG4gIHZhciBhcnJheVNvcnQgPSBtZXJnZVNvcnQ7XG5cbiAgdmFyIHVzZXJBZ2VudCQxID0gZW5naW5lVXNlckFnZW50O1xuXG4gIHZhciBmaXJlZm94ID0gdXNlckFnZW50JDEubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSk7XG5cbiAgdmFyIGVuZ2luZUZmVmVyc2lvbiA9ICEhZmlyZWZveCAmJiArZmlyZWZveFsxXTtcblxuICB2YXIgVUEgPSBlbmdpbmVVc2VyQWdlbnQ7XG5cbiAgdmFyIGVuZ2luZUlzSWVPckVkZ2UgPSAvTVNJRXxUcmlkZW50Ly50ZXN0KFVBKTtcblxuICB2YXIgdXNlckFnZW50ID0gZW5naW5lVXNlckFnZW50O1xuXG4gIHZhciB3ZWJraXQgPSB1c2VyQWdlbnQubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLyk7XG5cbiAgdmFyIGVuZ2luZVdlYmtpdFZlcnNpb24gPSAhIXdlYmtpdCAmJiArd2Via2l0WzFdO1xuXG4gIHZhciAkID0gX2V4cG9ydDtcbiAgdmFyIHVuY3VycnlUaGlzID0gZnVuY3Rpb25VbmN1cnJ5VGhpcztcbiAgdmFyIGFDYWxsYWJsZSA9IGFDYWxsYWJsZSRlO1xuICB2YXIgdG9PYmplY3QgPSB0b09iamVjdCRlO1xuICB2YXIgbGVuZ3RoT2ZBcnJheUxpa2UgPSBsZW5ndGhPZkFycmF5TGlrZSRkO1xuICB2YXIgZGVsZXRlUHJvcGVydHlPclRocm93ID0gZGVsZXRlUHJvcGVydHlPclRocm93JDI7XG4gIHZhciB0b1N0cmluZyA9IHRvU3RyaW5nJDc7XG4gIHZhciBmYWlscyA9IGZhaWxzJHU7XG4gIHZhciBpbnRlcm5hbFNvcnQgPSBhcnJheVNvcnQ7XG4gIHZhciBhcnJheU1ldGhvZElzU3RyaWN0ID0gYXJyYXlNZXRob2RJc1N0cmljdCQ0O1xuICB2YXIgRkYgPSBlbmdpbmVGZlZlcnNpb247XG4gIHZhciBJRV9PUl9FREdFID0gZW5naW5lSXNJZU9yRWRnZTtcbiAgdmFyIFY4ID0gZW5naW5lVjhWZXJzaW9uO1xuICB2YXIgV0VCS0lUID0gZW5naW5lV2Via2l0VmVyc2lvbjtcblxuICB2YXIgdGVzdCA9IFtdO1xuICB2YXIgbmF0aXZlU29ydCA9IHVuY3VycnlUaGlzKHRlc3Quc29ydCk7XG4gIHZhciBwdXNoID0gdW5jdXJyeVRoaXModGVzdC5wdXNoKTtcblxuICAvLyBJRTgtXG4gIHZhciBGQUlMU19PTl9VTkRFRklORUQgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdGVzdC5zb3J0KHVuZGVmaW5lZCk7XG4gIH0pO1xuICAvLyBWOCBidWdcbiAgdmFyIEZBSUxTX09OX05VTEwgPSBmYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgdGVzdC5zb3J0KG51bGwpO1xuICB9KTtcbiAgLy8gT2xkIFdlYktpdFxuICB2YXIgU1RSSUNUX01FVEhPRCA9IGFycmF5TWV0aG9kSXNTdHJpY3QoJ3NvcnQnKTtcblxuICB2YXIgU1RBQkxFX1NPUlQgPSAhZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIC8vIGZlYXR1cmUgZGV0ZWN0aW9uIGNhbiBiZSB0b28gc2xvdywgc28gY2hlY2sgZW5naW5lcyB2ZXJzaW9uc1xuICAgIGlmIChWOCkgcmV0dXJuIFY4IDwgNzA7XG4gICAgaWYgKEZGICYmIEZGID4gMykgcmV0dXJuO1xuICAgIGlmIChJRV9PUl9FREdFKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoV0VCS0lUKSByZXR1cm4gV0VCS0lUIDwgNjAzO1xuXG4gICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgIHZhciBjb2RlLCBjaHIsIHZhbHVlLCBpbmRleDtcblxuICAgIC8vIGdlbmVyYXRlIGFuIGFycmF5IHdpdGggbW9yZSA1MTIgZWxlbWVudHMgKENoYWtyYSBhbmQgb2xkIFY4IGZhaWxzIG9ubHkgaW4gdGhpcyBjYXNlKVxuICAgIGZvciAoY29kZSA9IDY1OyBjb2RlIDwgNzY7IGNvZGUrKykge1xuICAgICAgY2hyID0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblxuICAgICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICAgIGNhc2UgNjY6IGNhc2UgNjk6IGNhc2UgNzA6IGNhc2UgNzI6IHZhbHVlID0gMzsgYnJlYWs7XG4gICAgICAgIGNhc2UgNjg6IGNhc2UgNzE6IHZhbHVlID0gNDsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHZhbHVlID0gMjtcbiAgICAgIH1cblxuICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgNDc7IGluZGV4KyspIHtcbiAgICAgICAgdGVzdC5wdXNoKHsgazogY2hyICsgaW5kZXgsIHY6IHZhbHVlIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRlc3Quc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYi52IC0gYS52OyB9KTtcblxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHRlc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjaHIgPSB0ZXN0W2luZGV4XS5rLmNoYXJBdCgwKTtcbiAgICAgIGlmIChyZXN1bHQuY2hhckF0KHJlc3VsdC5sZW5ndGggLSAxKSAhPT0gY2hyKSByZXN1bHQgKz0gY2hyO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQgIT09ICdER0JFRkhBQ0lKSyc7XG4gIH0pO1xuXG4gIHZhciBGT1JDRUQgPSBGQUlMU19PTl9VTkRFRklORUQgfHwgIUZBSUxTX09OX05VTEwgfHwgIVNUUklDVF9NRVRIT0QgfHwgIVNUQUJMRV9TT1JUO1xuXG4gIHZhciBnZXRTb3J0Q29tcGFyZSA9IGZ1bmN0aW9uIChjb21wYXJlZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgIGlmICh5ID09PSB1bmRlZmluZWQpIHJldHVybiAtMTtcbiAgICAgIGlmICh4ID09PSB1bmRlZmluZWQpIHJldHVybiAxO1xuICAgICAgaWYgKGNvbXBhcmVmbiAhPT0gdW5kZWZpbmVkKSByZXR1cm4gK2NvbXBhcmVmbih4LCB5KSB8fCAwO1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHgpID4gdG9TdHJpbmcoeSkgPyAxIDogLTE7XG4gICAgfTtcbiAgfTtcblxuICAvLyBgQXJyYXkucHJvdG90eXBlLnNvcnRgIG1ldGhvZFxuICAvLyBodHRwczovL3RjMzkuZXMvZWNtYTI2Mi8jc2VjLWFycmF5LnByb3RvdHlwZS5zb3J0XG4gICQoeyB0YXJnZXQ6ICdBcnJheScsIHByb3RvOiB0cnVlLCBmb3JjZWQ6IEZPUkNFRCB9LCB7XG4gICAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJlZm4pIHtcbiAgICAgIGlmIChjb21wYXJlZm4gIT09IHVuZGVmaW5lZCkgYUNhbGxhYmxlKGNvbXBhcmVmbik7XG5cbiAgICAgIHZhciBhcnJheSA9IHRvT2JqZWN0KHRoaXMpO1xuXG4gICAgICBpZiAoU1RBQkxFX1NPUlQpIHJldHVybiBjb21wYXJlZm4gPT09IHVuZGVmaW5lZCA/IG5hdGl2ZVNvcnQoYXJyYXkpIDogbmF0aXZlU29ydChhcnJheSwgY29tcGFyZWZuKTtcblxuICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICB2YXIgYXJyYXlMZW5ndGggPSBsZW5ndGhPZkFycmF5TGlrZShhcnJheSk7XG4gICAgICB2YXIgaXRlbXNMZW5ndGgsIGluZGV4O1xuXG4gICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBhcnJheUxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBpZiAoaW5kZXggaW4gYXJyYXkpIHB1c2goaXRlbXMsIGFycmF5W2luZGV4XSk7XG4gICAgICB9XG5cbiAgICAgIGludGVybmFsU29ydChpdGVtcywgZ2V0U29ydENvbXBhcmUoY29tcGFyZWZuKSk7XG5cbiAgICAgIGl0ZW1zTGVuZ3RoID0gbGVuZ3RoT2ZBcnJheUxpa2UoaXRlbXMpO1xuICAgICAgaW5kZXggPSAwO1xuXG4gICAgICB3aGlsZSAoaW5kZXggPCBpdGVtc0xlbmd0aCkgYXJyYXlbaW5kZXhdID0gaXRlbXNbaW5kZXgrK107XG4gICAgICB3aGlsZSAoaW5kZXggPCBhcnJheUxlbmd0aCkgZGVsZXRlUHJvcGVydHlPclRocm93KGFycmF5LCBpbmRleCsrKTtcblxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkMiA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkZztcblxuICB2YXIgc29ydCQzID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCQyKCdBcnJheScsICdzb3J0Jyk7XG5cbiAgdmFyIGlzUHJvdG90eXBlT2YkMiA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkMiA9IHNvcnQkMztcblxuICB2YXIgQXJyYXlQcm90b3R5cGUkMiA9IEFycmF5LnByb3RvdHlwZTtcblxuICB2YXIgc29ydCQyID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LnNvcnQ7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSQyIHx8IChpc1Byb3RvdHlwZU9mJDIoQXJyYXlQcm90b3R5cGUkMiwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUkMi5zb3J0KSA/IG1ldGhvZCQyIDogb3duO1xuICB9O1xuXG4gIHZhciBwYXJlbnQkNiA9IHNvcnQkMjtcblxuICB2YXIgc29ydCQxID0gcGFyZW50JDY7XG5cbiAgdmFyIHNvcnQgPSBzb3J0JDE7XG5cbiAgdmFyIF9zb3J0SW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyhzb3J0KTtcblxuICB2YXIgZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCQxID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRnO1xuXG4gIHZhciB2YWx1ZXMkMyA9IGdldEJ1aWx0SW5Qcm90b3R5cGVNZXRob2QkMSgnQXJyYXknLCAndmFsdWVzJyk7XG5cbiAgdmFyIHBhcmVudCQ1ID0gdmFsdWVzJDM7XG5cbiAgdmFyIHZhbHVlcyQyID0gcGFyZW50JDU7XG5cbiAgdmFyIGNsYXNzb2YkMSA9IGNsYXNzb2YkZDtcbiAgdmFyIGhhc093biQxID0gaGFzT3duUHJvcGVydHlfMTtcbiAgdmFyIGlzUHJvdG90eXBlT2YkMSA9IG9iamVjdElzUHJvdG90eXBlT2Y7XG4gIHZhciBtZXRob2QkMSA9IHZhbHVlcyQyO1xuXG4gIHZhciBBcnJheVByb3RvdHlwZSQxID0gQXJyYXkucHJvdG90eXBlO1xuXG4gIHZhciBET01JdGVyYWJsZXMkMSA9IHtcbiAgICBET01Ub2tlbkxpc3Q6IHRydWUsXG4gICAgTm9kZUxpc3Q6IHRydWVcbiAgfTtcblxuICB2YXIgdmFsdWVzJDEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICB2YXIgb3duID0gaXQudmFsdWVzO1xuICAgIHJldHVybiBpdCA9PT0gQXJyYXlQcm90b3R5cGUkMSB8fCAoaXNQcm90b3R5cGVPZiQxKEFycmF5UHJvdG90eXBlJDEsIGl0KSAmJiBvd24gPT09IEFycmF5UHJvdG90eXBlJDEudmFsdWVzKVxuICAgICAgfHwgaGFzT3duJDEoRE9NSXRlcmFibGVzJDEsIGNsYXNzb2YkMShpdCkpID8gbWV0aG9kJDEgOiBvd247XG4gIH07XG5cbiAgdmFyIHZhbHVlcyA9IHZhbHVlcyQxO1xuXG4gIHZhciBfdmFsdWVzSW5zdGFuY2VQcm9wZXJ0eSA9IC8qQF9fUFVSRV9fKi9nZXREZWZhdWx0RXhwb3J0RnJvbUNqcyh2YWx1ZXMpO1xuXG4gIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yJDQ7XG5cbiAgdmFyIF9TeW1ib2wkaXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoaXRlcmF0b3IpO1xuXG4gIHZhciBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kID0gZ2V0QnVpbHRJblByb3RvdHlwZU1ldGhvZCRnO1xuXG4gIHZhciBlbnRyaWVzJDMgPSBnZXRCdWlsdEluUHJvdG90eXBlTWV0aG9kKCdBcnJheScsICdlbnRyaWVzJyk7XG5cbiAgdmFyIHBhcmVudCQ0ID0gZW50cmllcyQzO1xuXG4gIHZhciBlbnRyaWVzJDIgPSBwYXJlbnQkNDtcblxuICB2YXIgY2xhc3NvZiA9IGNsYXNzb2YkZDtcbiAgdmFyIGhhc093biA9IGhhc093blByb3BlcnR5XzE7XG4gIHZhciBpc1Byb3RvdHlwZU9mID0gb2JqZWN0SXNQcm90b3R5cGVPZjtcbiAgdmFyIG1ldGhvZCA9IGVudHJpZXMkMjtcblxuICB2YXIgQXJyYXlQcm90b3R5cGUgPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIERPTUl0ZXJhYmxlcyA9IHtcbiAgICBET01Ub2tlbkxpc3Q6IHRydWUsXG4gICAgTm9kZUxpc3Q6IHRydWVcbiAgfTtcblxuICB2YXIgZW50cmllcyQxID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIG93biA9IGl0LmVudHJpZXM7XG4gICAgcmV0dXJuIGl0ID09PSBBcnJheVByb3RvdHlwZSB8fCAoaXNQcm90b3R5cGVPZihBcnJheVByb3RvdHlwZSwgaXQpICYmIG93biA9PT0gQXJyYXlQcm90b3R5cGUuZW50cmllcylcbiAgICAgIHx8IGhhc093bihET01JdGVyYWJsZXMsIGNsYXNzb2YoaXQpKSA/IG1ldGhvZCA6IG93bjtcbiAgfTtcblxuICB2YXIgZW50cmllcyA9IGVudHJpZXMkMTtcblxuICB2YXIgX2VudHJpZXNJbnN0YW5jZVByb3BlcnR5ID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGVudHJpZXMpO1xuXG4gIC8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuICAvLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbiAgLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbiAgbGV0IGdldFJhbmRvbVZhbHVlcztcbiAgY29uc3Qgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGZ1bmN0aW9uIHJuZygpIHtcbiAgICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLlxuICAgICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcblxuICAgICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICAgKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAgICovXG5cbiAgY29uc3QgYnl0ZVRvSGV4ID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zbGljZSgxKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gICAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgICByZXR1cm4gYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV07XG4gIH1cblxuICBjb25zdCByYW5kb21VVUlEID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLnJhbmRvbVVVSUQgJiYgY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pO1xuICB2YXIgbmF0aXZlID0ge1xuICAgIHJhbmRvbVVVSURcbiAgfTtcblxuICBmdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICAgIGlmIChuYXRpdmUucmFuZG9tVVVJRCAmJiAhYnVmICYmICFvcHRpb25zKSB7XG4gICAgICByZXR1cm4gbmF0aXZlLnJhbmRvbVVVSUQoKTtcbiAgICB9XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gICAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KHJuZHMpO1xuICB9XG5cbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgYSB2YWx1ZSBjYW4gYmUgdXNlZCBhcyBhbiBpZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIElucHV0IHZhbHVlIG9mIHVua25vd24gdHlwZS5cclxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB2YWxpZCBpZCwgZmFsc2Ugb3RoZXJ3aXNlLlxyXG4gICAqL1xuICBmdW5jdGlvbiBpc0lkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCI7XG4gIH1cblxuICAvKipcclxuICAgKiBBIHF1ZXVlLlxyXG4gICAqXHJcbiAgICogQHR5cGVQYXJhbSBUIC0gVGhlIHR5cGUgb2YgbWV0aG9kIG5hbWVzIHRvIGJlIHJlcGxhY2VkIGJ5IHF1ZXVlZCB2ZXJzaW9ucy5cclxuICAgKi9cbiAgdmFyIFF1ZXVlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBRdWV1ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFF1ZXVlIGNvbmZpZ3VyYXRpb24uXHJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBRdWV1ZShvcHRpb25zKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVldWUpO1xuICAgICAgLyoqIERlbGF5IGluIG1pbGxpc2Vjb25kcy4gSWYgZGVmaW5lZCB0aGUgcXVldWUgd2lsbCBiZSBwZXJpb2RpY2FsbHkgZmx1c2hlZC4gKi9cbiAgICAgIC8qKiBNYXhpbXVtIG51bWJlciBvZiBlbnRyaWVzIGluIHRoZSBxdWV1ZSBiZWZvcmUgaXQgd2lsbCBiZSBmbHVzaGVkLiAqL1xuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3F1ZXVlXCIsIFtdKTtcbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl90aW1lb3V0XCIsIG51bGwpO1xuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2V4dGVuZGVkXCIsIG51bGwpO1xuICAgICAgLy8gb3B0aW9uc1xuICAgICAgdGhpcy5kZWxheSA9IG51bGw7XG4gICAgICB0aGlzLm1heCA9IEluZmluaXR5O1xuICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgcXVldWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBRdWV1ZSBjb25maWd1cmF0aW9uLlxyXG4gICAgICovXG4gICAgX2NyZWF0ZUNsYXNzKFF1ZXVlLCBbe1xuICAgICAga2V5OiBcInNldE9wdGlvbnNcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICB0aGlzLmRlbGF5ID0gb3B0aW9ucy5kZWxheTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXggIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICB0aGlzLm1heCA9IG9wdGlvbnMubWF4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZsdXNoSWZOZWVkZWQoKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBFeHRlbmQgYW4gb2JqZWN0IHdpdGggcXVldWluZyBmdW5jdGlvbmFsaXR5LlxyXG4gICAgICAgKiBUaGUgb2JqZWN0IHdpbGwgYmUgZXh0ZW5kZWQgd2l0aCBhIGZ1bmN0aW9uIGZsdXNoLCBhbmQgdGhlIG1ldGhvZHMgcHJvdmlkZWQgaW4gb3B0aW9ucy5yZXBsYWNlIHdpbGwgYmUgcmVwbGFjZWQgd2l0aCBxdWV1ZWQgb25lcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIG9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWQuXHJcbiAgICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQWRkaXRpb25hbCBvcHRpb25zLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBxdWV1ZS5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICAgIHZhbHVlOlxuICAgICAgLyoqXHJcbiAgICAgICAqIERlc3Ryb3kgdGhlIHF1ZXVlLiBUaGUgcXVldWUgd2lsbCBmaXJzdCBmbHVzaCBhbGwgcXVldWVkIGFjdGlvbnMsIGFuZCBpbiBjYXNlIGl0IGhhcyBleHRlbmRlZCBhbiBvYmplY3QsIHdpbGwgcmVzdG9yZSB0aGUgb3JpZ2luYWwgb2JqZWN0LlxyXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgaWYgKHRoaXMuX2V4dGVuZGVkKSB7XG4gICAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMuX2V4dGVuZGVkLm9iamVjdDtcbiAgICAgICAgICB2YXIgbWV0aG9kcyA9IHRoaXMuX2V4dGVuZGVkLm1ldGhvZHM7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gbWV0aG9kc1tpXTtcbiAgICAgICAgICAgIGlmIChtZXRob2Qub3JpZ2luYWwpIHtcbiAgICAgICAgICAgICAgLy8gQFRPRE86IGJldHRlciBzb2x1dGlvbj9cbiAgICAgICAgICAgICAgb2JqZWN0W21ldGhvZC5uYW1lXSA9IG1ldGhvZC5vcmlnaW5hbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEBUT0RPOiBiZXR0ZXIgc29sdXRpb24/XG4gICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3RbbWV0aG9kLm5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9leHRlbmRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXBsYWNlIGEgbWV0aG9kIG9uIGFuIG9iamVjdCB3aXRoIGEgcXVldWVkIHZlcnNpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBvYmplY3QgLSBPYmplY3QgaGF2aW5nIHRoZSBtZXRob2QuXHJcbiAgICAgICAqIEBwYXJhbSBtZXRob2QgLSBUaGUgbWV0aG9kIG5hbWUuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZXBsYWNlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVwbGFjZShvYmplY3QsIG1ldGhvZCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMgLS0gRnVuY3Rpb24gdGhpcyBpcyBuZWNlc3NhcnkgaW4gdGhlIGZ1bmN0aW9uIGJlbGxvdywgc28gY2xhc3MgdGhpcyBoYXMgdG8gYmUgc2F2ZWQgaW50byBhIHZhcmlhYmxlIGhlcmUuICovXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHZhciBvcmlnaW5hbCA9IG9iamVjdFttZXRob2RdO1xuICAgICAgICBpZiAoIW9yaWdpbmFsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIFwiICsgbWV0aG9kICsgXCIgdW5kZWZpbmVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdFttZXRob2RdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gYWRkIHRoaXMgY2FsbCB0byB0aGUgcXVldWVcbiAgICAgICAgICBtZS5xdWV1ZSh7XG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgZm46IG9yaWdpbmFsLFxuICAgICAgICAgICAgY29udGV4dDogdGhpc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFF1ZXVlIGEgY2FsbC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGVudHJ5IC0gVGhlIGZ1bmN0aW9uIG9yIGVudHJ5IHRvIGJlIHF1ZXVlZC5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcInF1ZXVlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcXVldWUoZW50cnkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdGhpcy5fcXVldWUucHVzaCh7XG4gICAgICAgICAgICBmbjogZW50cnlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9xdWV1ZS5wdXNoKGVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mbHVzaElmTmVlZGVkKCk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogQ2hlY2sgd2hldGhlciB0aGUgcXVldWUgbmVlZHMgdG8gYmUgZmx1c2hlZC5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9mbHVzaElmTmVlZGVkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZsdXNoSWZOZWVkZWQoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIGZsdXNoIHdoZW4gdGhlIG1heGltdW0gaXMgZXhjZWVkZWQuXG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZS5sZW5ndGggPiB0aGlzLm1heCkge1xuICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmbHVzaCBhZnRlciBhIHBlcmlvZCBvZiBpbmFjdGl2aXR5IHdoZW4gYSBkZWxheSBpcyBjb25maWd1cmVkXG4gICAgICAgIGlmICh0aGlzLl90aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgICAgICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoID4gMCAmJiB0eXBlb2YgdGhpcy5kZWxheSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSBfc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5mbHVzaCgpO1xuICAgICAgICAgIH0sIHRoaXMuZGVsYXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmx1c2ggYWxsIHF1ZXVlZCBjYWxsc1xyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZmx1c2hcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0LCBfY29udGV4dDI7XG4gICAgICAgIF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dCA9IF9zcGxpY2VJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0MiA9IHRoaXMuX3F1ZXVlKS5jYWxsKF9jb250ZXh0MiwgMCkpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgIGVudHJ5LmZuLmFwcGx5KGVudHJ5LmNvbnRleHQgfHwgZW50cnkuZm4sIGVudHJ5LmFyZ3MgfHwgW10pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogXCJleHRlbmRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBleHRlbmQob2JqZWN0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IG5ldyBRdWV1ZShvcHRpb25zKTtcbiAgICAgICAgaWYgKG9iamVjdC5mbHVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGFyZ2V0IG9iamVjdCBhbHJlYWR5IGhhcyBhIHByb3BlcnR5IGZsdXNoXCIpO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBxdWV1ZS5mbHVzaCgpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbWV0aG9kcyA9IFt7XG4gICAgICAgICAgbmFtZTogXCJmbHVzaFwiLFxuICAgICAgICAgIG9yaWdpbmFsOiB1bmRlZmluZWRcbiAgICAgICAgfV07XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVwbGFjZSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5yZXBsYWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IG9wdGlvbnMucmVwbGFjZVtpXTtcbiAgICAgICAgICAgIG1ldGhvZHMucHVzaCh7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgIC8vIEBUT0RPOiBiZXR0ZXIgc29sdXRpb24/XG4gICAgICAgICAgICAgIG9yaWdpbmFsOiBvYmplY3RbbmFtZV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gQFRPRE86IGJldHRlciBzb2x1dGlvbj9cbiAgICAgICAgICAgIHF1ZXVlLnJlcGxhY2Uob2JqZWN0LCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWUuX2V4dGVuZGVkID0ge1xuICAgICAgICAgIG9iamVjdDogb2JqZWN0LFxuICAgICAgICAgIG1ldGhvZHM6IG1ldGhvZHNcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHF1ZXVlO1xuICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gUXVldWU7XG4gIH0oKTtcblxuICAvKipcclxuICAgKiB7QGxpbmsgRGF0YVNldH0gY29kZSB0aGF0IGNhbiBiZSByZXVzZWQgaW4ge0BsaW5rIERhdGFWaWV3fSBvciBvdGhlciBzaW1pbGFyIGltcGxlbWVudGF0aW9ucyBvZiB7QGxpbmsgRGF0YUludGVyZmFjZX0uXHJcbiAgICpcclxuICAgKiBAdHlwZVBhcmFtIEl0ZW0gLSBJdGVtIHR5cGUgdGhhdCBtYXkgb3IgbWF5IG5vdCBoYXZlIGFuIGlkLlxyXG4gICAqIEB0eXBlUGFyYW0gSWRQcm9wIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBjb250YWlucyB0aGUgaWQuXHJcbiAgICovXG4gIHZhciBEYXRhU2V0UGFydCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGF0YVNldFBhcnQoKSB7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0YVNldFBhcnQpO1xuICAgICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3N1YnNjcmliZXJzXCIsIHtcbiAgICAgICAgXCIqXCI6IFtdLFxuICAgICAgICBhZGQ6IFtdLFxuICAgICAgICByZW1vdmU6IFtdLFxuICAgICAgICB1cGRhdGU6IFtdXG4gICAgICB9KTtcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAZGVwcmVjYXRlZCBVc2Ugb24gaW5zdGVhZCAoUFM6IERhdGFWaWV3LnN1YnNjcmliZSA9PT0gRGF0YVZpZXcub24pLlxyXG4gICAgICAgKi9cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN1YnNjcmliZVwiLCBEYXRhU2V0UGFydC5wcm90b3R5cGUub24pO1xuICAgICAgLyoqXHJcbiAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBvZmYgaW5zdGVhZCAoUFM6IERhdGFWaWV3LnVuc3Vic2NyaWJlID09PSBEYXRhVmlldy5vZmYpLlxyXG4gICAgICAgKi9cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInVuc3Vic2NyaWJlXCIsIERhdGFTZXRQYXJ0LnByb3RvdHlwZS5vZmYpO1xuICAgIH1cbiAgICBfY3JlYXRlQ2xhc3MoRGF0YVNldFBhcnQsIFt7XG4gICAgICBrZXk6IFwiX3RyaWdnZXJcIixcbiAgICAgIHZhbHVlOlxuICAgICAgLyoqXHJcbiAgICAgICAqIFRyaWdnZXIgYW4gZXZlbnRcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGV2ZW50IC0gRXZlbnQgbmFtZS5cclxuICAgICAgICogQHBhcmFtIHBheWxvYWQgLSBFdmVudCBwYXlsb2FkLlxyXG4gICAgICAgKiBAcGFyYW0gc2VuZGVySWQgLSBJZCBvZiB0aGUgc2VuZGVyLlxyXG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIF90cmlnZ2VyKGV2ZW50LCBwYXlsb2FkLCBzZW5kZXJJZCkge1xuICAgICAgICB2YXIgX2NvbnRleHQsIF9jb250ZXh0MjtcbiAgICAgICAgaWYgKGV2ZW50ID09PSBcIipcIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB0cmlnZ2VyIGV2ZW50ICpcIik7XG4gICAgICAgIH1cbiAgICAgICAgX2ZvckVhY2hJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0ID0gX2NvbmNhdEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQyID0gW10pLmNhbGwoX2NvbnRleHQyLCBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdKSwgX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX3N1YnNjcmliZXJzW1wiKlwiXSkpKS5jYWxsKF9jb250ZXh0LCBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgIHN1YnNjcmliZXIoZXZlbnQsIHBheWxvYWQsIHNlbmRlcklkICE9IG51bGwgPyBzZW5kZXJJZCA6IG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBTdWJzY3JpYmUgdG8gYW4gZXZlbnQsIGFkZCBhbiBldmVudCBsaXN0ZW5lci5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3MgTm9uLWZ1bmN0aW9uIGNhbGxiYWNrcyBhcmUgaWdub3JlZC5cclxuICAgICAgICogQHBhcmFtIGV2ZW50IC0gRXZlbnQgbmFtZS5cclxuICAgICAgICogQHBhcmFtIGNhbGxiYWNrIC0gQ2FsbGJhY2sgbWV0aG9kLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwib25cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdGhpcy5fc3Vic2NyaWJlcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIEBUT0RPOiBNYXliZSB0aHJvdyBmb3IgaW52YWxpZCBjYWxsYmFja3M/XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogVW5zdWJzY3JpYmUgZnJvbSBhbiBldmVudCwgcmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrcyBJZiB0aGUgc2FtZSBjYWxsYmFjayB3YXMgc3Vic2NyaWJlZCBtb3JlIHRoYW4gb25jZSAqKmFsbCoqIG9jY3VyZW5jZXMgd2lsbCBiZSByZW1vdmVkLlxyXG4gICAgICAgKiBAcGFyYW0gZXZlbnQgLSBFdmVudCBuYW1lLlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBDYWxsYmFjayBtZXRob2QuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJvZmZcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfY29udGV4dDM7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSA9IF9maWx0ZXJJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0MyA9IHRoaXMuX3N1YnNjcmliZXJzW2V2ZW50XSkuY2FsbChfY29udGV4dDMsIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIgIT09IGNhbGxiYWNrO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIERhdGFTZXRQYXJ0O1xuICB9KCk7XG5cbiAgdmFyIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uJDI7XG4gIHZhciBjb2xsZWN0aW9uU3Ryb25nID0gY29sbGVjdGlvblN0cm9uZyQyO1xuXG4gIC8vIGBTZXRgIGNvbnN0cnVjdG9yXG4gIC8vIGh0dHBzOi8vdGMzOS5lcy9lY21hMjYyLyNzZWMtc2V0LW9iamVjdHNcbiAgY29sbGVjdGlvbignU2V0JywgZnVuY3Rpb24gKGluaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gU2V0KCkgeyByZXR1cm4gaW5pdCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTsgfTtcbiAgfSwgY29sbGVjdGlvblN0cm9uZyk7XG5cbiAgdmFyIHBhdGggPSBwYXRoJG87XG5cbiAgdmFyIHNldCQyID0gcGF0aC5TZXQ7XG5cbiAgdmFyIHBhcmVudCQzID0gc2V0JDI7XG5cblxuICB2YXIgc2V0JDEgPSBwYXJlbnQkMztcblxuICB2YXIgc2V0ID0gc2V0JDE7XG5cbiAgdmFyIF9TZXQgPSAvKkBfX1BVUkVfXyovZ2V0RGVmYXVsdEV4cG9ydEZyb21DanMoc2V0KTtcblxuICB2YXIgZ2V0SXRlcmF0b3IkNSA9IGdldEl0ZXJhdG9yJDg7XG5cbiAgdmFyIGdldEl0ZXJhdG9yXzEgPSBnZXRJdGVyYXRvciQ1O1xuXG4gIHZhciBwYXJlbnQkMiA9IGdldEl0ZXJhdG9yXzE7XG5cblxuICB2YXIgZ2V0SXRlcmF0b3IkNCA9IHBhcmVudCQyO1xuXG4gIHZhciBwYXJlbnQkMSA9IGdldEl0ZXJhdG9yJDQ7XG5cbiAgdmFyIGdldEl0ZXJhdG9yJDMgPSBwYXJlbnQkMTtcblxuICB2YXIgcGFyZW50ID0gZ2V0SXRlcmF0b3IkMztcblxuICB2YXIgZ2V0SXRlcmF0b3IkMiA9IHBhcmVudDtcblxuICB2YXIgZ2V0SXRlcmF0b3IkMSA9IGdldEl0ZXJhdG9yJDI7XG5cbiAgdmFyIGdldEl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IkMTtcblxuICB2YXIgX2dldEl0ZXJhdG9yID0gLypAX19QVVJFX18qL2dldERlZmF1bHRFeHBvcnRGcm9tQ2pzKGdldEl0ZXJhdG9yKTtcblxuICBmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKG8sIGFsbG93QXJyYXlMaWtlKSB7IHZhciBpdCA9IHR5cGVvZiBfU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIF9nZXRJdGVyYXRvck1ldGhvZChvKSB8fCBvW1wiQEBpdGVyYXRvclwiXTsgaWYgKCFpdCkgeyBpZiAoX0FycmF5JGlzQXJyYXkobykgfHwgKGl0ID0gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDIobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkkMihvLCBtaW5MZW4pIHsgdmFyIF9jb250ZXh0MTA7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQyKG8sIG1pbkxlbik7IHZhciBuID0gX3NsaWNlSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dDEwID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKS5jYWxsKF9jb250ZXh0MTAsIDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIF9BcnJheSRmcm9tJDEobyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkkMihvLCBtaW5MZW4pOyB9XG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5JDIoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsgcmV0dXJuIGFycjI7IH1cbiAgLyoqXHJcbiAgICogRGF0YSBzdHJlYW1cclxuICAgKlxyXG4gICAqIEByZW1hcmtzXHJcbiAgICoge0BsaW5rIERhdGFTdHJlYW19IG9mZmVycyBhbiBhbHdheXMgdXAgdG8gZGF0ZSBzdHJlYW0gb2YgaXRlbXMgZnJvbSBhIHtAbGluayBEYXRhU2V0fSBvciB7QGxpbmsgRGF0YVZpZXd9LlxyXG4gICAqIFRoYXQgbWVhbnMgdGhhdCB0aGUgc3RyZWFtIGlzIGV2YWx1YXRlZCBhdCB0aGUgdGltZSBvZiBpdGVyYXRpb24sIGNvbnZlcnNpb24gdG8gYW5vdGhlciBkYXRhIHR5cGUgb3Igd2hlbiB7QGxpbmsgY2FjaGV9IGlzIGNhbGxlZCwgbm90IHdoZW4gdGhlIHtAbGluayBEYXRhU3RyZWFtfSB3YXMgY3JlYXRlZC5cclxuICAgKiBNdWx0aXBsZSBpbnZvY2F0aW9ucyBvZiBmb3IgZXhhbXBsZSB7QGxpbmsgdG9JdGVtQXJyYXl9IG1heSB5aWVsZCBkaWZmZXJlbnQgcmVzdWx0cyAoaWYgdGhlIGRhdGEgc291cmNlIGxpa2UgZm9yIGV4YW1wbGUge0BsaW5rIERhdGFTZXR9IGdldHMgbW9kaWZpZWQpLlxyXG4gICAqIEB0eXBlUGFyYW0gSXRlbSAtIFRoZSBpdGVtIHR5cGUgdGhpcyBzdHJlYW0gaXMgZ29pbmcgdG8gd29yayB3aXRoLlxyXG4gICAqL1xuICB2YXIgRGF0YVN0cmVhbSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1N5bWJvbCRpdGVyYXRvciQxKSB7XG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBuZXcgZGF0YSBzdHJlYW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhaXJzIC0gVGhlIGlkLCBpdGVtIHBhaXJzLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGF0YVN0cmVhbShwYWlycykge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGFTdHJlYW0pO1xuICAgICAgdGhpcy5fcGFpcnMgPSBwYWlycztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYW4gaXRlcmFibGUgb2Yga2V5LCB2YWx1ZSBwYWlycyBmb3IgZXZlcnkgZW50cnkgaW4gdGhlIHN0cmVhbS5cclxuICAgICAqL1xuICAgIF9jcmVhdGVDbGFzcyhEYXRhU3RyZWFtLCBbe1xuICAgICAga2V5OiBfU3ltYm9sJGl0ZXJhdG9yJDEsXG4gICAgICB2YWx1ZTpcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIF9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvciwgX3N0ZXAsIF9zdGVwJHZhbHVlLCBpZCwgaXRlbTtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiB2YWx1ZSQoX2NvbnRleHQpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHRoaXMuX3BhaXJzKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7XG4gICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGlmICgoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3N0ZXAkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcC52YWx1ZSwgMiksIGlkID0gX3N0ZXAkdmFsdWVbMF0sIGl0ZW0gPSBfc3RlcCR2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7XG4gICAgICAgICAgICAgIHJldHVybiBbaWQsIGl0ZW1dO1xuICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7XG4gICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbXCJjYXRjaFwiXSgxKTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yLmUoX2NvbnRleHQudDApO1xuICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0O1xuICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDE0KTtcbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB2YWx1ZSwgdGhpcywgW1sxLCAxMSwgMTQsIDE3XV0pO1xuICAgICAgfSlcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXR1cm4gYW4gaXRlcmFibGUgb2Yga2V5LCB2YWx1ZSBwYWlycyBmb3IgZXZlcnkgZW50cnkgaW4gdGhlIHN0cmVhbS5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImVudHJpZXNcIixcbiAgICAgIHZhbHVlOlxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IyLCBfc3RlcDIsIF9zdGVwMiR2YWx1ZSwgaWQsIGl0ZW07XG4gICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gZW50cmllcyQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMih0aGlzLl9wYWlycyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5zKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGlmICgoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3N0ZXAyJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAyLnZhbHVlLCAyKSwgaWQgPSBfc3RlcDIkdmFsdWVbMF0sIGl0ZW0gPSBfc3RlcDIkdmFsdWVbMV07XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNztcbiAgICAgICAgICAgICAgcmV0dXJuIFtpZCwgaXRlbV07XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMTtcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyW1wiY2F0Y2hcIl0oMSk7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjIuZShfY29udGV4dDIudDApO1xuICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxNDtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5mKCk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuZmluaXNoKDE0KTtcbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgZW50cmllcywgdGhpcywgW1sxLCAxMSwgMTQsIDE3XV0pO1xuICAgICAgfSlcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXR1cm4gYW4gaXRlcmFibGUgb2Yga2V5cyBpbiB0aGUgc3RyZWFtLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwia2V5c1wiLFxuICAgICAgdmFsdWU6XG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICBfcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24ga2V5cygpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjMsIF9zdGVwMywgX3N0ZXAzJHZhbHVlLCBpZDtcbiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBrZXlzJChfY29udGV4dDMpIHtcbiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHRoaXMuX3BhaXJzKTtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxO1xuICAgICAgICAgICAgICBfaXRlcmF0b3IzLnMoKTtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgaWYgKChfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfc3RlcDMkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDMudmFsdWUsIDEpLCBpZCA9IF9zdGVwMyR2YWx1ZVswXTtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA3O1xuICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxMTtcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzW1wiY2F0Y2hcIl0oMSk7XG4gICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShfY29udGV4dDMudDApO1xuICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNDtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuZmluaXNoKDE0KTtcbiAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwga2V5cywgdGhpcywgW1sxLCAxMSwgMTQsIDE3XV0pO1xuICAgICAgfSlcbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXR1cm4gYW4gaXRlcmFibGUgb2YgdmFsdWVzIGluIHRoZSBzdHJlYW0uXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJ2YWx1ZXNcIixcbiAgICAgIHZhbHVlOlxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjQsIF9zdGVwNCwgX3N0ZXA0JHZhbHVlLCBpdGVtO1xuICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIHZhbHVlcyQoX2NvbnRleHQ0KSB7XG4gICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMih0aGlzLl9wYWlycyk7XG4gICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5zKCk7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgIGlmICgoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3N0ZXA0JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA0LnZhbHVlLCAyKSwgaXRlbSA9IF9zdGVwNCR2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3O1xuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDExO1xuICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDRbXCJjYXRjaFwiXSgxKTtcbiAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5lKF9jb250ZXh0NC50MCk7XG4gICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDE0O1xuICAgICAgICAgICAgICBfaXRlcmF0b3I0LmYoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5maW5pc2goMTQpO1xuICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgIGNhc2UgXCJlbmRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB2YWx1ZXMsIHRoaXMsIFtbMSwgMTEsIDE0LCAxN11dKTtcbiAgICAgIH0pXG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBpZHMgaW4gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZW1hcmtzXHJcbiAgICAgICAqIFRoZSBhcnJheSBtYXkgY29udGFpbiBkdXBsaWNpdGllcy5cclxuICAgICAgICogQHJldHVybnMgVGhlIGFycmF5IHdpdGggYWxsIGlkcyBmcm9tIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9JZEFycmF5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG9JZEFycmF5KCkge1xuICAgICAgICB2YXIgX2NvbnRleHQ1O1xuICAgICAgICByZXR1cm4gX21hcEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQ1ID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX3BhaXJzKSkuY2FsbChfY29udGV4dDUsIGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgICAgcmV0dXJuIHBhaXJbMF07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJldHVybiBhbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgaXRlbXMgaW4gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZW1hcmtzXHJcbiAgICAgICAqIFRoZSBhcnJheSBtYXkgY29udGFpbiBkdXBsaWNpdGllcy5cclxuICAgICAgICogQHJldHVybnMgVGhlIGFycmF5IHdpdGggYWxsIGl0ZW1zIGZyb20gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJ0b0l0ZW1BcnJheVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvSXRlbUFycmF5KCkge1xuICAgICAgICB2YXIgX2NvbnRleHQ2O1xuICAgICAgICByZXR1cm4gX21hcEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQ2ID0gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX3BhaXJzKSkuY2FsbChfY29udGV4dDYsIGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgICAgcmV0dXJuIHBhaXJbMV07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJldHVybiBhbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgZW50cmllcyBpbiB0aGlzIHN0cmVhbS5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3NcclxuICAgICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2l0aWVzLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgYXJyYXkgd2l0aCBhbGwgZW50cmllcyBmcm9tIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9FbnRyeUFycmF5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG9FbnRyeUFycmF5KCkge1xuICAgICAgICByZXR1cm4gX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuX3BhaXJzKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXR1cm4gYW4gb2JqZWN0IG1hcCBjb250YWluaW5nIGFsbCB0aGUgaXRlbXMgaW4gdGhpcyBzdHJlYW0gYWNjZXNzaWJsZSBieSBpZHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZW1hcmtzXHJcbiAgICAgICAqIEluIGNhc2Ugb2YgZHVwbGljYXRlIGlkcyAoY29lcmNlZCB0byBzdHJpbmcgc28gYDcgPT0gJzcnYCkgdGhlIGxhc3QgZW5jb3V0ZXJlZCBhcHBlYXJzIGluIHRoZSByZXR1cm5lZCBvYmplY3QuXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBvYmplY3QgbWFwIG9mIGFsbCBpZCDihpIgaXRlbSBwYWlycyBmcm9tIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9PYmplY3RNYXBcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiB0b09iamVjdE1hcCgpIHtcbiAgICAgICAgdmFyIG1hcCA9IF9PYmplY3QkY3JlYXRlJDEobnVsbCk7XG4gICAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMih0aGlzLl9wYWlycyksXG4gICAgICAgICAgX3N0ZXA1O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIgX3N0ZXA1JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA1LnZhbHVlLCAyKSxcbiAgICAgICAgICAgICAgaWQgPSBfc3RlcDUkdmFsdWVbMF0sXG4gICAgICAgICAgICAgIGl0ZW0gPSBfc3RlcDUkdmFsdWVbMV07XG4gICAgICAgICAgICBtYXBbaWRdID0gaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjUuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjUuZigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGEgbWFwIGNvbnRhaW5pbmcgYWxsIHRoZSBpdGVtcyBpbiB0aGlzIHN0cmVhbSBhY2Nlc3NpYmxlIGJ5IGlkcy5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMgVGhlIG1hcCBvZiBhbGwgaWQg4oaSIGl0ZW0gcGFpcnMgZnJvbSB0aGlzIHN0cmVhbS5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcInRvTWFwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG9NYXAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgX01hcCh0aGlzLl9wYWlycyk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogUmV0dXJuIGEgc2V0IGNvbnRhaW5pbmcgYWxsIHRoZSAodW5pcXVlKSBpZHMgaW4gdGhpcyBzdHJlYW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBzZXQgb2YgYWxsIGlkcyBmcm9tIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9JZFNldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvSWRTZXQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgX1NldCh0aGlzLnRvSWRBcnJheSgpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZXR1cm4gYSBzZXQgY29udGFpbmluZyBhbGwgdGhlICh1bmlxdWUpIGl0ZW1zIGluIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgc2V0IG9mIGFsbCBpdGVtcyBmcm9tIHRoaXMgc3RyZWFtLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidG9JdGVtU2V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdG9JdGVtU2V0KCkge1xuICAgICAgICByZXR1cm4gbmV3IF9TZXQodGhpcy50b0l0ZW1BcnJheSgpKTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBDYWNoZSB0aGUgaXRlbXMgZnJvbSB0aGlzIHN0cmVhbS5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3NcclxuICAgICAgICogVGhpcyBtZXRob2QgYWxsb3dzIGZvciBpdGVtcyB0byBiZSBmZXRjaGVkIGltbWVkaWF0ZWxseSBhbmQgdXNlZCAocG9zc2libHkgbXVsdGlwbGUgdGltZXMpIGxhdGVyLlxyXG4gICAgICAgKiBJdCBjYW4gYWxzbyBiZSB1c2VkIHRvIG9wdGltaXplIHBlcmZvcm1hbmNlIGFzIHtAbGluayBEYXRhU3RyZWFtfSB3b3VsZCBvdGhlcndpc2UgcmVldmFsdWF0ZSBldmVyeXRoaW5nIHVwb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIEV4YW1wbGVcclxuICAgICAgICogYGBgamF2YXNjcmlwdFxyXG4gICAgICAgKiBjb25zdCBkcyA9IG5ldyBEYXRhU2V0KFvigKZdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBjb25zdCBjYWNoZWRTdHJlYW0gPSBkcy5zdHJlYW0oKVxyXG4gICAgICAgKiAgIC5maWx0ZXIo4oCmKVxyXG4gICAgICAgKiAgIC5zb3J0KOKApilcclxuICAgICAgICogICAubWFwKOKApilcclxuICAgICAgICogICAuY2FjaGVkKOKApikgLy8gRGF0YSBhcmUgZmV0Y2hlZCwgcHJvY2Vzc2VkIGFuZCBjYWNoZWQgaGVyZS5cclxuICAgICAgICpcclxuICAgICAgICogZHMuY2xlYXIoKVxyXG4gICAgICAgKiBjaGFjaGVkU3RyZWFtIC8vIFN0aWxsIGhhcyBhbGwgdGhlIGl0ZW1zLlxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICogQHJldHVybnMgQSBuZXcge0BsaW5rIERhdGFTdHJlYW19IHdpdGggY2FjaGVkIGl0ZW1zIChkZXRhY2hlZCBmcm9tIHRoZSBvcmlnaW5hbCB7QGxpbmsgRGF0YVNldH0pLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiY2FjaGVcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhU3RyZWFtKF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9wYWlycykpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEdldCB0aGUgZGlzdGluY3QgdmFsdWVzIG9mIGdpdmVuIHByb3BlcnR5LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCBwaWNrcyBhbmQgcG9zc2libHkgY29udmVydHMgdGhlIHByb3BlcnR5LlxyXG4gICAgICAgKiBAdHlwZVBhcmFtIFQgLSBUaGUgdHlwZSBvZiB0aGUgZGlzdGluY3QgdmFsdWUuXHJcbiAgICAgICAqIEByZXR1cm5zIEEgc2V0IG9mIGFsbCBkaXN0aW5jdCBwcm9wZXJ0aWVzLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGlzdGluY3RcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXN0aW5jdChjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2V0ID0gbmV3IF9TZXQoKTtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHRoaXMuX3BhaXJzKSxcbiAgICAgICAgICBfc3RlcDY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I2LnMoKTsgIShfc3RlcDYgPSBfaXRlcmF0b3I2Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBfc3RlcDYkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDYudmFsdWUsIDIpLFxuICAgICAgICAgICAgICBpZCA9IF9zdGVwNiR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgaXRlbSA9IF9zdGVwNiR2YWx1ZVsxXTtcbiAgICAgICAgICAgIHNldC5hZGQoY2FsbGJhY2soaXRlbSwgaWQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjYuZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjYuZigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmlsdGVyIHRoZSBpdGVtcyBvZiB0aGUgc3RyZWFtLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgZnVuY3Rpb24gdGhhdCBkZWNpZGVzIHdoZXRoZXIgYW4gaXRlbSB3aWxsIGJlIGluY2x1ZGVkLlxyXG4gICAgICAgKiBAcmV0dXJucyBBIG5ldyBkYXRhIHN0cmVhbSB3aXRoIHRoZSBmaWx0ZXJlZCBpdGVtcy5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImZpbHRlclwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbHRlcihjYWxsYmFjaykge1xuICAgICAgICB2YXIgcGFpcnMgPSB0aGlzLl9wYWlycztcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhU3RyZWFtKHtcbiAgICAgICAgICBbX1N5bWJvbCRpdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkge1xuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yNywgX3N0ZXA3LCBfc3RlcDckdmFsdWUsIGlkLCBpdGVtO1xuICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0Nykge1xuICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIocGFpcnMpO1xuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjcucygpO1xuICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAoKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfc3RlcDckdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDcudmFsdWUsIDIpLCBpZCA9IF9zdGVwNyR2YWx1ZVswXSwgaXRlbSA9IF9zdGVwNyR2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjayhpdGVtLCBpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDg7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA4O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2lkLCBpdGVtXTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAzO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3W1wiY2F0Y2hcIl0oMSk7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjcuZShfY29udGV4dDcudDApO1xuICAgICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxNTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNy5mKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuZmluaXNoKDE1KTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMiwgMTUsIDE4XV0pO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZWFjaCBpdGVtIG9mIHRoZSBzdHJlYW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCBmb3IgZWFjaCBpdGVtLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZm9yRWFjaFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvckVhY2goY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9pdGVyYXRvcjggPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHRoaXMuX3BhaXJzKSxcbiAgICAgICAgICBfc3RlcDg7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBfc3RlcDgkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDgudmFsdWUsIDIpLFxuICAgICAgICAgICAgICBpZCA9IF9zdGVwOCR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgaXRlbSA9IF9zdGVwOCR2YWx1ZVsxXTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW0sIGlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvcjguZShlcnIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIF9pdGVyYXRvcjguZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogTWFwIHRoZSBpdGVtcyBpbnRvIGEgZGlmZmVyZW50IHR5cGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0aGF0IGRvZXMgdGhlIGNvbnZlcnNpb24uXHJcbiAgICAgICAqIEB0eXBlUGFyYW0gTWFwcGVkIC0gVGhlIHR5cGUgb2YgdGhlIGl0ZW0gYWZ0ZXIgbWFwcGluZy5cclxuICAgICAgICogQHJldHVybnMgQSBuZXcgZGF0YSBzdHJlYW0gd2l0aCB0aGUgbWFwcGVkIGl0ZW1zLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwibWFwXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gbWFwKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBwYWlycyA9IHRoaXMuX3BhaXJzO1xuICAgICAgICByZXR1cm4gbmV3IERhdGFTdHJlYW0oe1xuICAgICAgICAgIFtfU3ltYm9sJGl0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkge1xuICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yOSwgX3N0ZXA5LCBfc3RlcDkkdmFsdWUsIGlkLCBpdGVtO1xuICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDgpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjkgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQyKHBhaXJzKTtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAxO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I5LnMoKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKChfc3RlcDkgPSBfaXRlcmF0b3I5Lm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfc3RlcDkkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDkudmFsdWUsIDIpLCBpZCA9IF9zdGVwOSR2YWx1ZVswXSwgaXRlbSA9IF9zdGVwOSR2YWx1ZVsxXTtcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2lkLCBjYWxsYmFjayhpdGVtLCBpZCldO1xuICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMTE7XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OFtcImNhdGNoXCJdKDEpO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I5LmUoX2NvbnRleHQ4LnQwKTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5wcmV2ID0gMTQ7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjkuZigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmZpbmlzaCgxNCk7XG4gICAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImVuZFwiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDExLCAxNCwgMTddXSk7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogR2V0IHRoZSBpdGVtIHdpdGggdGhlIG1heGltdW0gdmFsdWUgb2YgZ2l2ZW4gcHJvcGVydHkuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBmdW5jdGlvbiB0aGF0IHBpY2tzIGFuZCBwb3NzaWJseSBjb252ZXJ0cyB0aGUgcHJvcGVydHkuXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBpdGVtIHdpdGggdGhlIG1heGltdW0gaWYgZm91bmQgb3RoZXJ3aXNlIG51bGwuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJtYXhcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtYXgoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGl0ZXIgPSBfZ2V0SXRlcmF0b3IodGhpcy5fcGFpcnMpO1xuICAgICAgICB2YXIgY3VyciA9IGl0ZXIubmV4dCgpO1xuICAgICAgICBpZiAoY3Vyci5kb25lKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heEl0ZW0gPSBjdXJyLnZhbHVlWzFdO1xuICAgICAgICB2YXIgbWF4VmFsdWUgPSBjYWxsYmFjayhjdXJyLnZhbHVlWzFdLCBjdXJyLnZhbHVlWzBdKTtcbiAgICAgICAgd2hpbGUgKCEoY3VyciA9IGl0ZXIubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgdmFyIF9jdXJyJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoY3Vyci52YWx1ZSwgMiksXG4gICAgICAgICAgICBpZCA9IF9jdXJyJHZhbHVlWzBdLFxuICAgICAgICAgICAgaXRlbSA9IF9jdXJyJHZhbHVlWzFdO1xuICAgICAgICAgIHZhciBfdmFsdWUgPSBjYWxsYmFjayhpdGVtLCBpZCk7XG4gICAgICAgICAgaWYgKF92YWx1ZSA+IG1heFZhbHVlKSB7XG4gICAgICAgICAgICBtYXhWYWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgICAgIG1heEl0ZW0gPSBpdGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4SXRlbTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBHZXQgdGhlIGl0ZW0gd2l0aCB0aGUgbWluaW11bSB2YWx1ZSBvZiBnaXZlbiBwcm9wZXJ0eS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRoYXQgcGlja3MgYW5kIHBvc3NpYmx5IGNvbnZlcnRzIHRoZSBwcm9wZXJ0eS5cclxuICAgICAgICogQHJldHVybnMgVGhlIGl0ZW0gd2l0aCB0aGUgbWluaW11bSBpZiBmb3VuZCBvdGhlcndpc2UgbnVsbC5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIm1pblwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1pbihjYWxsYmFjaykge1xuICAgICAgICB2YXIgaXRlciA9IF9nZXRJdGVyYXRvcih0aGlzLl9wYWlycyk7XG4gICAgICAgIHZhciBjdXJyID0gaXRlci5uZXh0KCk7XG4gICAgICAgIGlmIChjdXJyLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWluSXRlbSA9IGN1cnIudmFsdWVbMV07XG4gICAgICAgIHZhciBtaW5WYWx1ZSA9IGNhbGxiYWNrKGN1cnIudmFsdWVbMV0sIGN1cnIudmFsdWVbMF0pO1xuICAgICAgICB3aGlsZSAoIShjdXJyID0gaXRlci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICB2YXIgX2N1cnIkdmFsdWUyID0gX3NsaWNlZFRvQXJyYXkoY3Vyci52YWx1ZSwgMiksXG4gICAgICAgICAgICBpZCA9IF9jdXJyJHZhbHVlMlswXSxcbiAgICAgICAgICAgIGl0ZW0gPSBfY3VyciR2YWx1ZTJbMV07XG4gICAgICAgICAgdmFyIF92YWx1ZTIgPSBjYWxsYmFjayhpdGVtLCBpZCk7XG4gICAgICAgICAgaWYgKF92YWx1ZTIgPCBtaW5WYWx1ZSkge1xuICAgICAgICAgICAgbWluVmFsdWUgPSBfdmFsdWUyO1xuICAgICAgICAgICAgbWluSXRlbSA9IGl0ZW07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW5JdGVtO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlZHVjZSB0aGUgaXRlbXMgaW50byBhIHNpbmdsZSB2YWx1ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGZ1bmN0aW9uIHRoYXQgZG9lcyB0aGUgcmVkdWN0aW9uLlxyXG4gICAgICAgKiBAcGFyYW0gYWNjdW11bGF0b3IgLSBUaGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGUgYWNjdW11bGF0b3IuXHJcbiAgICAgICAqIEB0eXBlUGFyYW0gVCAtIFRoZSB0eXBlIG9mIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cclxuICAgICAgICogQHJldHVybnMgVGhlIHJlZHVjZWQgdmFsdWUuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJyZWR1Y2VcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWR1Y2UoY2FsbGJhY2ssIGFjY3VtdWxhdG9yKSB7XG4gICAgICAgIHZhciBfaXRlcmF0b3IxMCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDIodGhpcy5fcGFpcnMpLFxuICAgICAgICAgIF9zdGVwMTA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIChfaXRlcmF0b3IxMC5zKCk7ICEoX3N0ZXAxMCA9IF9pdGVyYXRvcjEwLm4oKSkuZG9uZTspIHtcbiAgICAgICAgICAgIHZhciBfc3RlcDEwJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAxMC52YWx1ZSwgMiksXG4gICAgICAgICAgICAgIGlkID0gX3N0ZXAxMCR2YWx1ZVswXSxcbiAgICAgICAgICAgICAgaXRlbSA9IF9zdGVwMTAkdmFsdWVbMV07XG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGNhbGxiYWNrKGFjY3VtdWxhdG9yLCBpdGVtLCBpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IxMC5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yMTAuZigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBTb3J0IHRoZSBpdGVtcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGNhbGxiYWNrIC0gSXRlbSBjb21wYXJhdG9yLlxyXG4gICAgICAgKiBAcmV0dXJucyBBIG5ldyBzdHJlYW0gd2l0aCBzb3J0ZWQgaXRlbXMuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJzb3J0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc29ydChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IERhdGFTdHJlYW0oe1xuICAgICAgICAgIFtfU3ltYm9sJGl0ZXJhdG9yXTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9jb250ZXh0OTtcbiAgICAgICAgICAgIHJldHVybiBfZ2V0SXRlcmF0b3IoX3NvcnRJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0OSA9IF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5fcGFpcnMpKS5jYWxsKF9jb250ZXh0OSwgZnVuY3Rpb24gKF9yZWYsIF9yZWYyKSB7XG4gICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLFxuICAgICAgICAgICAgICAgIGlkQSA9IF9yZWYzWzBdLFxuICAgICAgICAgICAgICAgIGl0ZW1BID0gX3JlZjNbMV07XG4gICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYyLCAyKSxcbiAgICAgICAgICAgICAgICBpZEIgPSBfcmVmNFswXSxcbiAgICAgICAgICAgICAgICBpdGVtQiA9IF9yZWY0WzFdO1xuICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soaXRlbUEsIGl0ZW1CLCBpZEEsIGlkQik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIERhdGFTdHJlYW07XG4gIH0oX1N5bWJvbCRpdGVyYXRvcik7XG5cbiAgZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gX09iamVjdCRrZXlzKGUpOyBpZiAoX09iamVjdCRnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBfT2JqZWN0JGdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IF9maWx0ZXJJbnN0YW5jZVByb3BlcnR5KG8pLmNhbGwobywgZnVuY3Rpb24gKHIpIHsgcmV0dXJuIF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG4gIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgX2NvbnRleHQxMCwgX2NvbnRleHQxMTsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dDEwID0gb3duS2V5cyhPYmplY3QodCksICEwKSkuY2FsbChfY29udGV4dDEwLCBmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gX09iamVjdCRkZWZpbmVQcm9wZXJ0aWVzKGUsIF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBfZm9yRWFjaEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQxMSA9IG93bktleXMoT2JqZWN0KHQpKSkuY2FsbChfY29udGV4dDExLCBmdW5jdGlvbiAocikgeyBfT2JqZWN0JGRlZmluZVByb3BlcnR5KGUsIHIsIF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQgPSB0eXBlb2YgX1N5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBfZ2V0SXRlcmF0b3JNZXRob2QobykgfHwgb1tcIkBAaXRlcmF0b3JcIl07IGlmICghaXQpIHsgaWYgKF9BcnJheSRpc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSQxKG8pKSB8fCBhbGxvd0FycmF5TGlrZSAmJiBvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gaXQuY2FsbChvKTsgfSwgbjogZnVuY3Rpb24gbigpIHsgdmFyIHN0ZXAgPSBpdC5uZXh0KCk7IG5vcm1hbENvbXBsZXRpb24gPSBzdGVwLmRvbmU7IHJldHVybiBzdGVwOyB9LCBlOiBmdW5jdGlvbiBlKF9lMikgeyBkaWRFcnIgPSB0cnVlOyBlcnIgPSBfZTI7IH0sIGY6IGZ1bmN0aW9uIGYoKSB7IHRyeSB7IGlmICghbm9ybWFsQ29tcGxldGlvbiAmJiBpdC5yZXR1cm4gIT0gbnVsbCkgaXQucmV0dXJuKCk7IH0gZmluYWxseSB7IGlmIChkaWRFcnIpIHRocm93IGVycjsgfSB9IH07IH1cbiAgZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5JDEobywgbWluTGVuKSB7IHZhciBfY29udGV4dDk7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheSQxKG8sIG1pbkxlbik7IHZhciBuID0gX3NsaWNlSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dDkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykpLmNhbGwoX2NvbnRleHQ5LCA4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBfQXJyYXkkZnJvbSQxKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5JDEobywgbWluTGVuKTsgfVxuICBmdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheSQxKGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9XG4gIGZ1bmN0aW9uIF9jcmVhdGVTdXBlciQxKERlcml2ZWQpIHsgdmFyIGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0JDEoKTsgcmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVTdXBlckludGVybmFsKCkgeyB2YXIgU3VwZXIgPSBfZ2V0UHJvdG90eXBlT2YoRGVyaXZlZCksIHJlc3VsdDsgaWYgKGhhc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QpIHsgdmFyIE5ld1RhcmdldCA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgcmVzdWx0ID0gX1JlZmxlY3QkY29uc3RydWN0KFN1cGVyLCBhcmd1bWVudHMsIE5ld1RhcmdldCk7IH0gZWxzZSB7IHJlc3VsdCA9IFN1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0gcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7IH07IH1cbiAgZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCQxKCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIV9SZWZsZWN0JGNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoX1JlZmxlY3QkY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKF9SZWZsZWN0JGNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cbiAgLyoqXHJcbiAgICogQWRkIGFuIGlkIHRvIGdpdmVuIGl0ZW0gaWYgaXQgZG9lc24ndCBoYXZlIG9uZSBhbHJlYWR5LlxyXG4gICAqXHJcbiAgICogQHJlbWFya3NcclxuICAgKiBUaGUgaXRlbSB3aWxsIGJlIG1vZGlmaWVkLlxyXG4gICAqIEBwYXJhbSBpdGVtIC0gVGhlIGl0ZW0gdGhhdCB3aWxsIGhhdmUgYW4gaWQgYWZ0ZXIgYSBjYWxsIHRvIHRoaXMgZnVuY3Rpb24uXHJcbiAgICogQHBhcmFtIGlkUHJvcCAtIFRoZSBrZXkgb2YgdGhlIGlkIHByb3BlcnR5LlxyXG4gICAqIEB0eXBlUGFyYW0gSXRlbSAtIEl0ZW0gdHlwZSB0aGF0IG1heSBvciBtYXkgbm90IGhhdmUgYW4gaWQuXHJcbiAgICogQHR5cGVQYXJhbSBJZFByb3AgLSBOYW1lIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IGNvbnRhaW5zIHRoZSBpZC5cclxuICAgKiBAcmV0dXJucyB0cnVlXHJcbiAgICovXG4gIGZ1bmN0aW9uIGVuc3VyZUZ1bGxJdGVtKGl0ZW0sIGlkUHJvcCkge1xuICAgIGlmIChpdGVtW2lkUHJvcF0gPT0gbnVsbCkge1xuICAgICAgLy8gZ2VuZXJhdGUgYW4gaWRcbiAgICAgIGl0ZW1baWRQcm9wXSA9IHY0KCk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xuICB9XG4gIC8qKlxyXG4gICAqICMgRGF0YVNldFxyXG4gICAqXHJcbiAgICogVmlzLmpzIGNvbWVzIHdpdGggYSBmbGV4aWJsZSBEYXRhU2V0LCB3aGljaCBjYW4gYmUgdXNlZCB0byBob2xkIGFuZFxyXG4gICAqIG1hbmlwdWxhdGUgdW5zdHJ1Y3R1cmVkIGRhdGEgYW5kIGxpc3RlbiBmb3IgY2hhbmdlcyBpbiB0aGUgZGF0YS4gVGhlIERhdGFTZXRcclxuICAgKiBpcyBrZXkvdmFsdWUgYmFzZWQuIERhdGEgaXRlbXMgY2FuIGJlIGFkZGVkLCB1cGRhdGVkIGFuZCByZW1vdmVkIGZyb20gdGhlXHJcbiAgICogRGF0YVNldCwgYW5kIG9uZSBjYW4gc3Vic2NyaWJlIHRvIGNoYW5nZXMgaW4gdGhlIERhdGFTZXQuIFRoZSBkYXRhIGluIHRoZVxyXG4gICAqIERhdGFTZXQgY2FuIGJlIGZpbHRlcmVkIGFuZCBvcmRlcmVkLiBEYXRhIGNhbiBiZSBub3JtYWxpemVkIHdoZW4gYXBwZW5kaW5nIGl0XHJcbiAgICogdG8gdGhlIERhdGFTZXQgYXMgd2VsbC5cclxuICAgKlxyXG4gICAqICMjIEV4YW1wbGVcclxuICAgKlxyXG4gICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGEgRGF0YVNldC5cclxuICAgKlxyXG4gICAqIGBgYGphdmFzY3JpcHRcclxuICAgKiAvLyBjcmVhdGUgYSBEYXRhU2V0XHJcbiAgICogdmFyIG9wdGlvbnMgPSB7fTtcclxuICAgKiB2YXIgZGF0YSA9IG5ldyB2aXMuRGF0YVNldChvcHRpb25zKTtcclxuICAgKlxyXG4gICAqIC8vIGFkZCBpdGVtc1xyXG4gICAqIC8vIG5vdGUgdGhhdCB0aGUgZGF0YSBpdGVtcyBjYW4gY29udGFpbiBkaWZmZXJlbnQgcHJvcGVydGllcyBhbmQgZGF0YSBmb3JtYXRzXHJcbiAgICogZGF0YS5hZGQoW1xyXG4gICAqICAge2lkOiAxLCB0ZXh0OiAnaXRlbSAxJywgZGF0ZTogbmV3IERhdGUoMjAxMywgNiwgMjApLCBncm91cDogMSwgZmlyc3Q6IHRydWV9LFxyXG4gICAqICAge2lkOiAyLCB0ZXh0OiAnaXRlbSAyJywgZGF0ZTogJzIwMTMtMDYtMjMnLCBncm91cDogMn0sXHJcbiAgICogICB7aWQ6IDMsIHRleHQ6ICdpdGVtIDMnLCBkYXRlOiAnMjAxMy0wNi0yNScsIGdyb3VwOiAyfSxcclxuICAgKiAgIHtpZDogNCwgdGV4dDogJ2l0ZW0gNCd9XHJcbiAgICogXSk7XHJcbiAgICpcclxuICAgKiAvLyBzdWJzY3JpYmUgdG8gYW55IGNoYW5nZSBpbiB0aGUgRGF0YVNldFxyXG4gICAqIGRhdGEub24oJyonLCBmdW5jdGlvbiAoZXZlbnQsIHByb3BlcnRpZXMsIHNlbmRlcklkKSB7XHJcbiAgICogICBjb25zb2xlLmxvZygnZXZlbnQnLCBldmVudCwgcHJvcGVydGllcyk7XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiAvLyB1cGRhdGUgYW4gZXhpc3RpbmcgaXRlbVxyXG4gICAqIGRhdGEudXBkYXRlKHtpZDogMiwgZ3JvdXA6IDF9KTtcclxuICAgKlxyXG4gICAqIC8vIHJlbW92ZSBhbiBpdGVtXHJcbiAgICogZGF0YS5yZW1vdmUoNCk7XHJcbiAgICpcclxuICAgKiAvLyBnZXQgYWxsIGlkc1xyXG4gICAqIHZhciBpZHMgPSBkYXRhLmdldElkcygpO1xyXG4gICAqIGNvbnNvbGUubG9nKCdpZHMnLCBpZHMpO1xyXG4gICAqXHJcbiAgICogLy8gZ2V0IGEgc3BlY2lmaWMgaXRlbVxyXG4gICAqIHZhciBpdGVtMSA9IGRhdGEuZ2V0KDEpO1xyXG4gICAqIGNvbnNvbGUubG9nKCdpdGVtMScsIGl0ZW0xKTtcclxuICAgKlxyXG4gICAqIC8vIHJldHJpZXZlIGEgZmlsdGVyZWQgc3Vic2V0IG9mIHRoZSBkYXRhXHJcbiAgICogdmFyIGl0ZW1zID0gZGF0YS5nZXQoe1xyXG4gICAqICAgZmlsdGVyOiBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAqICAgICByZXR1cm4gaXRlbS5ncm91cCA9PSAxO1xyXG4gICAqICAgfVxyXG4gICAqIH0pO1xyXG4gICAqIGNvbnNvbGUubG9nKCdmaWx0ZXJlZCBpdGVtcycsIGl0ZW1zKTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEB0eXBlUGFyYW0gSXRlbSAtIEl0ZW0gdHlwZSB0aGF0IG1heSBvciBtYXkgbm90IGhhdmUgYW4gaWQuXHJcbiAgICogQHR5cGVQYXJhbSBJZFByb3AgLSBOYW1lIG9mIHRoZSBwcm9wZXJ0eSB0aGF0IGNvbnRhaW5zIHRoZSBpZC5cclxuICAgKi9cbiAgdmFyIERhdGFTZXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9EYXRhU2V0UGFydCkge1xuICAgIF9pbmhlcml0cyhEYXRhU2V0LCBfRGF0YVNldFBhcnQpO1xuICAgIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIkMShEYXRhU2V0KTtcbiAgICAvKipcclxuICAgICAqIENvbnN0cnVjdCBhIG5ldyBEYXRhU2V0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRhIC0gSW5pdGlhbCBkYXRhIG9yIG9wdGlvbnMuXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgKHR5cGUgZXJyb3IgaWYgZGF0YSBpcyBhbHNvIG9wdGlvbnMpLlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGF0YVNldChkYXRhLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXM7XG4gICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0YVNldCk7XG4gICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpO1xuICAgICAgLy8gY29ycmVjdGx5IHJlYWQgb3B0aW9uYWwgYXJndW1lbnRzXG4gICAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3F1ZXVlXCIsIG51bGwpO1xuICAgICAgaWYgKGRhdGEgJiYgIV9BcnJheSRpc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBkYXRhO1xuICAgICAgICBkYXRhID0gW107XG4gICAgICB9XG4gICAgICBfdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICBfdGhpcy5fZGF0YSA9IG5ldyBfTWFwKCk7IC8vIG1hcCB3aXRoIGRhdGEgaW5kZXhlZCBieSBpZFxuICAgICAgX3RoaXMubGVuZ3RoID0gMDsgLy8gbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBEYXRhU2V0XG4gICAgICBfdGhpcy5faWRQcm9wID0gX3RoaXMuX29wdGlvbnMuZmllbGRJZCB8fCBcImlkXCI7IC8vIG5hbWUgb2YgdGhlIGZpZWxkIGNvbnRhaW5pbmcgaWRcbiAgICAgIC8vIGFkZCBpbml0aWFsIGRhdGEgd2hlbiBwcm92aWRlZFxuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXMuYWRkKGRhdGEpO1xuICAgICAgfVxuICAgICAgX3RoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXHJcbiAgICAgKiBTZXQgbmV3IG9wdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgbmV3IG9wdGlvbnMuXHJcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2xhc3MoRGF0YVNldCwgW3tcbiAgICAgIGtleTogXCJpZFByb3BcIixcbiAgICAgIGdldDogLyoqIEZsdXNoIGFsbCBxdWV1ZWQgY2FsbHMuICovXG5cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuXG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkUHJvcDtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic2V0T3B0aW9uc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnF1ZXVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5xdWV1ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBxdWV1ZSBpZiBsb2FkZWRcbiAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZSkge1xuICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgIHRoaXMuX3F1ZXVlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY3JlYXRlIHF1ZXVlIGFuZCB1cGRhdGUgaXRzIG9wdGlvbnNcbiAgICAgICAgICAgIGlmICghdGhpcy5fcXVldWUpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcXVldWUgPSBRdWV1ZS5leHRlbmQodGhpcywge1xuICAgICAgICAgICAgICAgIHJlcGxhY2U6IFtcImFkZFwiLCBcInVwZGF0ZVwiLCBcInJlbW92ZVwiXVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnF1ZXVlICYmIHR5cGVvZiBvcHRpb25zLnF1ZXVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNldE9wdGlvbnMob3B0aW9ucy5xdWV1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogQWRkIGEgZGF0YSBpdGVtIG9yIGFuIGFycmF5IHdpdGggaXRlbXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFmdGVyIHRoZSBpdGVtcyBhcmUgYWRkZWQgdG8gdGhlIERhdGFTZXQsIHRoZSBEYXRhU2V0IHdpbGwgdHJpZ2dlciBhbiBldmVudCBgYWRkYC4gV2hlbiBhIGBzZW5kZXJJZGAgaXMgcHJvdmlkZWQsIHRoaXMgaWQgd2lsbCBiZSBwYXNzZWQgd2l0aCB0aGUgdHJpZ2dlcmVkIGV2ZW50IHRvIGFsbCBzdWJzY3JpYmVycy5cclxuICAgICAgICpcclxuICAgICAgICogIyMgRXhhbXBsZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICAgICAqIC8vIGNyZWF0ZSBhIERhdGFTZXRcclxuICAgICAgICogY29uc3QgZGF0YSA9IG5ldyB2aXMuRGF0YVNldCgpXHJcbiAgICAgICAqXHJcbiAgICAgICAqIC8vIGFkZCBpdGVtc1xyXG4gICAgICAgKiBjb25zdCBpZHMgPSBkYXRhLmFkZChbXHJcbiAgICAgICAqICAgeyBpZDogMSwgdGV4dDogJ2l0ZW0gMScgfSxcclxuICAgICAgICogICB7IGlkOiAyLCB0ZXh0OiAnaXRlbSAyJyB9LFxyXG4gICAgICAgKiAgIHsgdGV4dDogJ2l0ZW0gd2l0aG91dCBhbiBpZCcgfVxyXG4gICAgICAgKiBdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBjb25zb2xlLmxvZyhpZHMpIC8vIFsxLCAyLCAnPFVVSUR2ND4nXVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGRhdGEgLSBJdGVtcyB0byBiZSBhZGRlZCAoaWRzIHdpbGwgYmUgZ2VuZXJhdGVkIGlmIG1pc3NpbmcpLlxyXG4gICAgICAgKiBAcGFyYW0gc2VuZGVySWQgLSBTZW5kZXIgaWQuXHJcbiAgICAgICAqIEByZXR1cm5zIGFkZGVkSWRzIC0gQXJyYXkgd2l0aCB0aGUgaWRzIChnZW5lcmF0ZWQgaWYgbm90IHByZXNlbnQpIG9mIHRoZSBhZGRlZCBpdGVtcy5cclxuICAgICAgICogQHRocm93cyBXaGVuIGFuIGl0ZW0gd2l0aCB0aGUgc2FtZSBpZCBhcyBhbnkgb2YgdGhlIGFkZGVkIGl0ZW1zIGFscmVhZHkgZXhpc3RzLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiYWRkXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGRhdGEsIHNlbmRlcklkKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgICB2YXIgYWRkZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIGlkO1xuICAgICAgICBpZiAoX0FycmF5JGlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAvLyBBcnJheVxuICAgICAgICAgIHZhciBpZHNUb0FkZCA9IF9tYXBJbnN0YW5jZVByb3BlcnR5KGRhdGEpLmNhbGwoZGF0YSwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkW190aGlzMi5faWRQcm9wXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoX3NvbWVJbnN0YW5jZVByb3BlcnR5KGlkc1RvQWRkKS5jYWxsKGlkc1RvQWRkLCBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuX2RhdGEuaGFzKGlkKTtcbiAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBkdXBsaWNhdGUgaWQgd2FzIGZvdW5kIGluIHRoZSBwYXJhbWV0ZXIgYXJyYXkuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWQgPSB0aGlzLl9hZGRJdGVtKGRhdGFbaV0pO1xuICAgICAgICAgICAgYWRkZWRJZHMucHVzaChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAvLyBTaW5nbGUgaXRlbVxuICAgICAgICAgIGlkID0gdGhpcy5fYWRkSXRlbShkYXRhKTtcbiAgICAgICAgICBhZGRlZElkcy5wdXNoKGlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGRhdGFUeXBlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZGRlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwiYWRkXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiBhZGRlZElkc1xuICAgICAgICAgIH0sIHNlbmRlcklkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRkZWRJZHM7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogVXBkYXRlIGV4aXN0aW5nIGl0ZW1zLiBXaGVuIGFuIGl0ZW0gZG9lcyBub3QgZXhpc3QsIGl0IHdpbGwgYmUgY3JlYXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3NcclxuICAgICAgICogVGhlIHByb3ZpZGVkIHByb3BlcnRpZXMgd2lsbCBiZSBtZXJnZWQgaW4gdGhlIGV4aXN0aW5nIGl0ZW0uIFdoZW4gYW4gaXRlbSBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCBiZSBjcmVhdGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBZnRlciB0aGUgaXRlbXMgYXJlIHVwZGF0ZWQsIHRoZSBEYXRhU2V0IHdpbGwgdHJpZ2dlciBhbiBldmVudCBgYWRkYCBmb3IgdGhlIGFkZGVkIGl0ZW1zLCBhbmQgYW4gZXZlbnQgYHVwZGF0ZWAuIFdoZW4gYSBgc2VuZGVySWRgIGlzIHByb3ZpZGVkLCB0aGlzIGlkIHdpbGwgYmUgcGFzc2VkIHdpdGggdGhlIHRyaWdnZXJlZCBldmVudCB0byBhbGwgc3Vic2NyaWJlcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIEV4YW1wbGVcclxuICAgICAgICpcclxuICAgICAgICogYGBgamF2YXNjcmlwdFxyXG4gICAgICAgKiAvLyBjcmVhdGUgYSBEYXRhU2V0XHJcbiAgICAgICAqIGNvbnN0IGRhdGEgPSBuZXcgdmlzLkRhdGFTZXQoW1xyXG4gICAgICAgKiAgIHsgaWQ6IDEsIHRleHQ6ICdpdGVtIDEnIH0sXHJcbiAgICAgICAqICAgeyBpZDogMiwgdGV4dDogJ2l0ZW0gMicgfSxcclxuICAgICAgICogICB7IGlkOiAzLCB0ZXh0OiAnaXRlbSAzJyB9XHJcbiAgICAgICAqIF0pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIC8vIHVwZGF0ZSBpdGVtc1xyXG4gICAgICAgKiBjb25zdCBpZHMgPSBkYXRhLnVwZGF0ZShbXHJcbiAgICAgICAqICAgeyBpZDogMiwgdGV4dDogJ2l0ZW0gMiAodXBkYXRlZCknIH0sXHJcbiAgICAgICAqICAgeyBpZDogNCwgdGV4dDogJ2l0ZW0gNCAobmV3KScgfVxyXG4gICAgICAgKiBdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBjb25zb2xlLmxvZyhpZHMpIC8vIFsyLCA0XVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogIyMgV2FybmluZyBmb3IgVHlwZVNjcmlwdCB1c2Vyc1xyXG4gICAgICAgKiBUaGlzIG1ldGhvZCBtYXkgaW50cm9kdWNlIHBhcnRpYWwgaXRlbXMgaW50byB0aGUgZGF0YSBzZXQuIFVzZSBhZGQgb3IgdXBkYXRlT25seSBpbnN0ZWFkIGZvciBiZXR0ZXIgdHlwZSBzYWZldHkuXHJcbiAgICAgICAqIEBwYXJhbSBkYXRhIC0gSXRlbXMgdG8gYmUgdXBkYXRlZCAoaWYgdGhlIGlkIGlzIGFscmVhZHkgcHJlc2VudCkgb3IgYWRkZWQgKGlmIHRoZSBpZCBpcyBtaXNzaW5nKS5cclxuICAgICAgICogQHBhcmFtIHNlbmRlcklkIC0gU2VuZGVyIGlkLlxyXG4gICAgICAgKiBAcmV0dXJucyB1cGRhdGVkSWRzIC0gVGhlIGlkcyBvZiB0aGUgYWRkZWQgKHRoZXNlIG1heSBiZSBuZXdseSBnZW5lcmF0ZWQgaWYgdGhlcmUgd2FzIG5vIGlkIGluIHRoZSBpdGVtIGZyb20gdGhlIGRhdGEpIG9yIHVwZGF0ZWQgaXRlbXMuXHJcbiAgICAgICAqIEB0aHJvd3MgV2hlbiB0aGUgc3VwcGxpZWQgZGF0YSBpcyBuZWl0aGVyIGFuIGl0ZW0gbm9yIGFuIGFycmF5IG9mIGl0ZW1zLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwidXBkYXRlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGRhdGEsIHNlbmRlcklkKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgICB2YXIgYWRkZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIHVwZGF0ZWRJZHMgPSBbXTtcbiAgICAgICAgdmFyIG9sZERhdGEgPSBbXTtcbiAgICAgICAgdmFyIHVwZGF0ZWREYXRhID0gW107XG4gICAgICAgIHZhciBpZFByb3AgPSB0aGlzLl9pZFByb3A7XG4gICAgICAgIHZhciBhZGRPclVwZGF0ZSA9IGZ1bmN0aW9uIGFkZE9yVXBkYXRlKGl0ZW0pIHtcbiAgICAgICAgICB2YXIgb3JpZ0lkID0gaXRlbVtpZFByb3BdO1xuICAgICAgICAgIGlmIChvcmlnSWQgIT0gbnVsbCAmJiBfdGhpczMuX2RhdGEuaGFzKG9yaWdJZCkpIHtcbiAgICAgICAgICAgIHZhciBmdWxsSXRlbSA9IGl0ZW07IC8vIGl0IGhhcyBhbiBpZCwgdGhlcmVmb3JlIGl0IGlzIGEgZnVsbGl0ZW1cbiAgICAgICAgICAgIHZhciBvbGRJdGVtID0gX09iamVjdCRhc3NpZ24oe30sIF90aGlzMy5fZGF0YS5nZXQob3JpZ0lkKSk7XG4gICAgICAgICAgICAvLyB1cGRhdGUgaXRlbVxuICAgICAgICAgICAgdmFyIGlkID0gX3RoaXMzLl91cGRhdGVJdGVtKGZ1bGxJdGVtKTtcbiAgICAgICAgICAgIHVwZGF0ZWRJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB1cGRhdGVkRGF0YS5wdXNoKGZ1bGxJdGVtKTtcbiAgICAgICAgICAgIG9sZERhdGEucHVzaChvbGRJdGVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYWRkIG5ldyBpdGVtXG4gICAgICAgICAgICB2YXIgX2lkID0gX3RoaXMzLl9hZGRJdGVtKGl0ZW0pO1xuICAgICAgICAgICAgYWRkZWRJZHMucHVzaChfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKF9BcnJheSRpc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgLy8gQXJyYXlcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGRhdGFbaV0gJiYgdHlwZW9mIGRhdGFbaV0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgYWRkT3JVcGRhdGUoZGF0YVtpXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJJZ25vcmluZyBpbnB1dCBpdGVtLCB3aGljaCBpcyBub3QgYW4gb2JqZWN0IGF0IGluZGV4IFwiICsgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEgJiYgdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAvLyBTaW5nbGUgaXRlbVxuICAgICAgICAgIGFkZE9yVXBkYXRlKGRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YVR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkZGVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJhZGRcIiwge1xuICAgICAgICAgICAgaXRlbXM6IGFkZGVkSWRzXG4gICAgICAgICAgfSwgc2VuZGVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICAgIGl0ZW1zOiB1cGRhdGVkSWRzLFxuICAgICAgICAgICAgb2xkRGF0YTogb2xkRGF0YSxcbiAgICAgICAgICAgIGRhdGE6IHVwZGF0ZWREYXRhXG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgZGVwcmVjYXRlZCBwcm9wZXJ0eSAnZGF0YScgc29tZSBkYXlcbiAgICAgICAgICAvL09iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2RhdGEnLCB7XG4gICAgICAgICAgLy8gICdnZXQnOiAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gICAgY29uc29sZS53YXJuKCdQcm9wZXJ0eSBkYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBEYXRhU2V0LmdldChpZHMpIHRvIHJldHJpZXZlIHRoZSBuZXcgZGF0YSwgdXNlIHRoZSBvbGREYXRhIHByb3BlcnR5IG9uIHRoaXMgb2JqZWN0IHRvIGdldCB0aGUgb2xkIGRhdGEnKTtcbiAgICAgICAgICAvLyAgICByZXR1cm4gdXBkYXRlZERhdGE7XG4gICAgICAgICAgLy8gIH0pLmJpbmQodGhpcylcbiAgICAgICAgICAvL30pO1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJ1cGRhdGVcIiwgcHJvcHMsIHNlbmRlcklkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2NvbmNhdEluc3RhbmNlUHJvcGVydHkoYWRkZWRJZHMpLmNhbGwoYWRkZWRJZHMsIHVwZGF0ZWRJZHMpO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFVwZGF0ZSBleGlzdGluZyBpdGVtcy4gV2hlbiBhbiBpdGVtIGRvZXMgbm90IGV4aXN0LCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cclxuICAgICAgICpcclxuICAgICAgICogQHJlbWFya3NcclxuICAgICAgICogVGhlIHByb3ZpZGVkIHByb3BlcnRpZXMgd2lsbCBiZSBkZWVwbHkgbWVyZ2VkIGludG8gdGhlIGV4aXN0aW5nIGl0ZW0uXHJcbiAgICAgICAqIFdoZW4gYW4gaXRlbSBkb2VzIG5vdCBleGlzdCAoaWQgbm90IHByZXNlbnQgaW4gdGhlIGRhdGEgc2V0IG9yIGFic2VudCksIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIGFuZCBub3RoaW5nIHdpbGwgYmUgY2hhbmdlZC5cclxuICAgICAgICpcclxuICAgICAgICogQWZ0ZXIgdGhlIGl0ZW1zIGFyZSB1cGRhdGVkLCB0aGUgRGF0YVNldCB3aWxsIHRyaWdnZXIgYW4gZXZlbnQgYHVwZGF0ZWAuXHJcbiAgICAgICAqIFdoZW4gYSBgc2VuZGVySWRgIGlzIHByb3ZpZGVkLCB0aGlzIGlkIHdpbGwgYmUgcGFzc2VkIHdpdGggdGhlIHRyaWdnZXJlZCBldmVudCB0byBhbGwgc3Vic2NyaWJlcnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIEV4YW1wbGVcclxuICAgICAgICpcclxuICAgICAgICogYGBgamF2YXNjcmlwdFxyXG4gICAgICAgKiAvLyBjcmVhdGUgYSBEYXRhU2V0XHJcbiAgICAgICAqIGNvbnN0IGRhdGEgPSBuZXcgdmlzLkRhdGFTZXQoW1xyXG4gICAgICAgKiAgIHsgaWQ6IDEsIHRleHQ6ICdpdGVtIDEnIH0sXHJcbiAgICAgICAqICAgeyBpZDogMiwgdGV4dDogJ2l0ZW0gMicgfSxcclxuICAgICAgICogICB7IGlkOiAzLCB0ZXh0OiAnaXRlbSAzJyB9LFxyXG4gICAgICAgKiBdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyB1cGRhdGUgaXRlbXNcclxuICAgICAgICogY29uc3QgaWRzID0gZGF0YS51cGRhdGUoW1xyXG4gICAgICAgKiAgIHsgaWQ6IDIsIHRleHQ6ICdpdGVtIDIgKHVwZGF0ZWQpJyB9LCAvLyB3b3Jrc1xyXG4gICAgICAgKiAgIC8vIHsgaWQ6IDQsIHRleHQ6ICdpdGVtIDQgKG5ldyknIH0sIC8vIHdvdWxkIHRocm93XHJcbiAgICAgICAqICAgLy8geyB0ZXh0OiAnaXRlbSA0IChuZXcpJyB9LCAvLyB3b3VsZCBhbHNvIHRocm93XHJcbiAgICAgICAqIF0pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGNvbnNvbGUubG9nKGlkcykgLy8gWzJdXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKiBAcGFyYW0gZGF0YSAtIFVwZGF0ZXMgKHRoZSBpZCBhbmQgb3B0aW9uYWxseSBvdGhlciBwcm9wcykgdG8gdGhlIGl0ZW1zIGluIHRoaXMgZGF0YSBzZXQuXHJcbiAgICAgICAqIEBwYXJhbSBzZW5kZXJJZCAtIFNlbmRlciBpZC5cclxuICAgICAgICogQHJldHVybnMgdXBkYXRlZElkcyAtIFRoZSBpZHMgb2YgdGhlIHVwZGF0ZWQgaXRlbXMuXHJcbiAgICAgICAqIEB0aHJvd3MgV2hlbiB0aGUgc3VwcGxpZWQgZGF0YSBpcyBuZWl0aGVyIGFuIGl0ZW0gbm9yIGFuIGFycmF5IG9mIGl0ZW1zLCB3aGVuIHRoZSBpZHMgYXJlIG1pc3NpbmcuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJ1cGRhdGVPbmx5XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlT25seShkYXRhLCBzZW5kZXJJZCkge1xuICAgICAgICB2YXIgX2NvbnRleHQsXG4gICAgICAgICAgX3RoaXM0ID0gdGhpcztcbiAgICAgICAgaWYgKCFfQXJyYXkkaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgIGRhdGEgPSBbZGF0YV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVwZGF0ZUV2ZW50RGF0YSA9IF9tYXBJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0ID0gX21hcEluc3RhbmNlUHJvcGVydHkoZGF0YSkuY2FsbChkYXRhLCBmdW5jdGlvbiAodXBkYXRlKSB7XG4gICAgICAgICAgdmFyIG9sZERhdGEgPSBfdGhpczQuX2RhdGEuZ2V0KHVwZGF0ZVtfdGhpczQuX2lkUHJvcF0pO1xuICAgICAgICAgIGlmIChvbGREYXRhID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVwZGF0aW5nIG5vbi1leGlzdGVudCBpdGVtcyBpcyBub3QgYWxsb3dlZC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvbGREYXRhLFxuICAgICAgICAgICAgdXBkYXRlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSkpLmNhbGwoX2NvbnRleHQsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIG9sZERhdGEgPSBfcmVmLm9sZERhdGEsXG4gICAgICAgICAgICB1cGRhdGUgPSBfcmVmLnVwZGF0ZTtcbiAgICAgICAgICB2YXIgaWQgPSBvbGREYXRhW190aGlzNC5faWRQcm9wXTtcbiAgICAgICAgICB2YXIgdXBkYXRlZERhdGEgPSBwdXJlRGVlcE9iamVjdEFzc2lnbihvbGREYXRhLCB1cGRhdGUpO1xuICAgICAgICAgIF90aGlzNC5fZGF0YS5zZXQoaWQsIHVwZGF0ZWREYXRhKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBvbGREYXRhOiBvbGREYXRhLFxuICAgICAgICAgICAgdXBkYXRlZERhdGFcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVwZGF0ZUV2ZW50RGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgICBpdGVtczogX21hcEluc3RhbmNlUHJvcGVydHkodXBkYXRlRXZlbnREYXRhKS5jYWxsKHVwZGF0ZUV2ZW50RGF0YSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5pZDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgb2xkRGF0YTogX21hcEluc3RhbmNlUHJvcGVydHkodXBkYXRlRXZlbnREYXRhKS5jYWxsKHVwZGF0ZUV2ZW50RGF0YSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5vbGREYXRhO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBkYXRhOiBfbWFwSW5zdGFuY2VQcm9wZXJ0eSh1cGRhdGVFdmVudERhdGEpLmNhbGwodXBkYXRlRXZlbnREYXRhLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnVwZGF0ZWREYXRhO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSBkZXByZWNhdGVkIHByb3BlcnR5ICdkYXRhJyBzb21lIGRheVxuICAgICAgICAgIC8vT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAnZGF0YScsIHtcbiAgICAgICAgICAvLyAgJ2dldCc6IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyAgICBjb25zb2xlLndhcm4oJ1Byb3BlcnR5IGRhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIERhdGFTZXQuZ2V0KGlkcykgdG8gcmV0cmlldmUgdGhlIG5ldyBkYXRhLCB1c2UgdGhlIG9sZERhdGEgcHJvcGVydHkgb24gdGhpcyBvYmplY3QgdG8gZ2V0IHRoZSBvbGQgZGF0YScpO1xuICAgICAgICAgIC8vICAgIHJldHVybiB1cGRhdGVkRGF0YTtcbiAgICAgICAgICAvLyAgfSkuYmluZCh0aGlzKVxuICAgICAgICAgIC8vfSk7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcInVwZGF0ZVwiLCBwcm9wcywgc2VuZGVySWQpO1xuICAgICAgICAgIHJldHVybiBwcm9wcy5pdGVtcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJnZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoZmlyc3QsIHNlY29uZCkge1xuICAgICAgICAvLyBAVE9ETzogV291ZG4ndCBpdCBiZSBiZXR0ZXIgdG8gc3BsaXQgdGhpcyBpbnRvIG11bHRpcGxlIG1ldGhvZHM/XG4gICAgICAgIC8vIHBhcnNlIHRoZSBhcmd1bWVudHNcbiAgICAgICAgdmFyIGlkID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaWRzID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzSWQoZmlyc3QpKSB7XG4gICAgICAgICAgLy8gZ2V0KGlkIFssIG9wdGlvbnNdKVxuICAgICAgICAgIGlkID0gZmlyc3Q7XG4gICAgICAgICAgb3B0aW9ucyA9IHNlY29uZDtcbiAgICAgICAgfSBlbHNlIGlmIChfQXJyYXkkaXNBcnJheShmaXJzdCkpIHtcbiAgICAgICAgICAvLyBnZXQoaWRzIFssIG9wdGlvbnNdKVxuICAgICAgICAgIGlkcyA9IGZpcnN0O1xuICAgICAgICAgIG9wdGlvbnMgPSBzZWNvbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZ2V0KFssIG9wdGlvbnNdKVxuICAgICAgICAgIG9wdGlvbnMgPSBmaXJzdDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIHJldHVybiB0eXBlXG4gICAgICAgIHZhciByZXR1cm5UeXBlID0gb3B0aW9ucyAmJiBvcHRpb25zLnJldHVyblR5cGUgPT09IFwiT2JqZWN0XCIgPyBcIk9iamVjdFwiIDogXCJBcnJheVwiO1xuICAgICAgICAvLyBAVE9ETzogV1RGIGlzIHRoaXM/IE9yIGFtIEkgbWlzc2luZyBzb21ldGhpbmc/XG4gICAgICAgIC8vIHZhciByZXR1cm5UeXBlXG4gICAgICAgIC8vIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmV0dXJuVHlwZSkge1xuICAgICAgICAvLyAgIHZhciBhbGxvd2VkVmFsdWVzID0gWydBcnJheScsICdPYmplY3QnXVxuICAgICAgICAvLyAgIHJldHVyblR5cGUgPVxuICAgICAgICAvLyAgICAgYWxsb3dlZFZhbHVlcy5pbmRleE9mKG9wdGlvbnMucmV0dXJuVHlwZSkgPT0gLTFcbiAgICAgICAgLy8gICAgICAgPyAnQXJyYXknXG4gICAgICAgIC8vICAgICAgIDogb3B0aW9ucy5yZXR1cm5UeXBlXG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgcmV0dXJuVHlwZSA9ICdBcnJheSdcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBidWlsZCBvcHRpb25zXG4gICAgICAgIHZhciBmaWx0ZXIgPSBvcHRpb25zICYmIF9maWx0ZXJJbnN0YW5jZVByb3BlcnR5KG9wdGlvbnMpO1xuICAgICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgICAgdmFyIGl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBpdGVtSWRzID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaXRlbUlkID0gdW5kZWZpbmVkO1xuICAgICAgICAvLyBjb252ZXJ0IGl0ZW1zXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gcmV0dXJuIGEgc2luZ2xlIGl0ZW1cbiAgICAgICAgICBpdGVtID0gdGhpcy5fZGF0YS5nZXQoaWQpO1xuICAgICAgICAgIGlmIChpdGVtICYmIGZpbHRlciAmJiAhZmlsdGVyKGl0ZW0pKSB7XG4gICAgICAgICAgICBpdGVtID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpZHMgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIHJldHVybiBhIHN1YnNldCBvZiBpdGVtc1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChpZHNbaV0pO1xuICAgICAgICAgICAgaWYgKGl0ZW0gIT0gbnVsbCAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoaXRlbSkpKSB7XG4gICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfY29udGV4dDI7XG4gICAgICAgICAgLy8gcmV0dXJuIGFsbCBpdGVtc1xuICAgICAgICAgIGl0ZW1JZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkoX2tleXNJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0MiA9IHRoaXMuX2RhdGEpLmNhbGwoX2NvbnRleHQyKSk7XG4gICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbGVuID0gaXRlbUlkcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgaXRlbUlkID0gaXRlbUlkc1tfaV07XG4gICAgICAgICAgICBpdGVtID0gdGhpcy5fZGF0YS5nZXQoaXRlbUlkKTtcbiAgICAgICAgICAgIGlmIChpdGVtICE9IG51bGwgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKGl0ZW0pKSkge1xuICAgICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBvcmRlciB0aGUgcmVzdWx0c1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyICYmIGlkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMuX3NvcnQoaXRlbXMsIG9wdGlvbnMub3JkZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbHRlciBmaWVsZHMgb2YgdGhlIGl0ZW1zXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZmllbGRzKSB7XG4gICAgICAgICAgdmFyIGZpZWxkcyA9IG9wdGlvbnMuZmllbGRzO1xuICAgICAgICAgIGlmIChpZCAhPSB1bmRlZmluZWQgJiYgaXRlbSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpdGVtID0gdGhpcy5fZmlsdGVyRmllbGRzKGl0ZW0sIGZpZWxkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDAsIF9sZW4yID0gaXRlbXMubGVuZ3RoOyBfaTIgPCBfbGVuMjsgX2kyKyspIHtcbiAgICAgICAgICAgICAgaXRlbXNbX2kyXSA9IHRoaXMuX2ZpbHRlckZpZWxkcyhpdGVtc1tfaTJdLCBmaWVsZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZXR1cm4gdGhlIHJlc3VsdHNcbiAgICAgICAgaWYgKHJldHVyblR5cGUgPT0gXCJPYmplY3RcIikge1xuICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwLCBfbGVuMyA9IGl0ZW1zLmxlbmd0aDsgX2kzIDwgX2xlbjM7IF9pMysrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0YW50ID0gaXRlbXNbX2kzXTtcbiAgICAgICAgICAgIC8vIEBUT0RPOiBTaG91ZG4ndCB0aGlzIGJlIHRoaXMuX2ZpZWxkSWQ/XG4gICAgICAgICAgICAvLyByZXN1bHRbcmVzdWx0YW50LmlkXSA9IHJlc3VsdGFudFxuICAgICAgICAgICAgdmFyIF9pZDIgPSByZXN1bHRhbnRbdGhpcy5faWRQcm9wXTtcbiAgICAgICAgICAgIHJlc3VsdFtfaWQyXSA9IHJlc3VsdGFudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIF9pdGVtO1xuICAgICAgICAgICAgLy8gYSBzaW5nbGUgaXRlbVxuICAgICAgICAgICAgcmV0dXJuIChfaXRlbSA9IGl0ZW0pICE9PSBudWxsICYmIF9pdGVtICE9PSB2b2lkIDAgPyBfaXRlbSA6IG51bGw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGp1c3QgcmV0dXJuIG91ciBhcnJheVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldElkc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElkcyhvcHRpb25zKSB7XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIGZpbHRlciA9IG9wdGlvbnMgJiYgX2ZpbHRlckluc3RhbmNlUHJvcGVydHkob3B0aW9ucyk7XG4gICAgICAgIHZhciBvcmRlciA9IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmRlcjtcbiAgICAgICAgdmFyIGl0ZW1JZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkoX2tleXNJbnN0YW5jZVByb3BlcnR5KGRhdGEpLmNhbGwoZGF0YSkpO1xuICAgICAgICB2YXIgaWRzID0gW107XG4gICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAvLyBnZXQgZmlsdGVyZWQgaXRlbXNcbiAgICAgICAgICBpZiAob3JkZXIpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBvcmRlcmVkIGxpc3RcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGlkID0gaXRlbUlkc1tpXTtcbiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChpZCk7XG4gICAgICAgICAgICAgIGlmIChpdGVtICE9IG51bGwgJiYgZmlsdGVyKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc29ydChpdGVtcywgb3JkZXIpO1xuICAgICAgICAgICAgZm9yICh2YXIgX2k0ID0gMCwgX2xlbjQgPSBpdGVtcy5sZW5ndGg7IF9pNCA8IF9sZW40OyBfaTQrKykge1xuICAgICAgICAgICAgICBpZHMucHVzaChpdGVtc1tfaTRdW3RoaXMuX2lkUHJvcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgdW5vcmRlcmVkIGxpc3RcbiAgICAgICAgICAgIGZvciAodmFyIF9pNSA9IDAsIF9sZW41ID0gaXRlbUlkcy5sZW5ndGg7IF9pNSA8IF9sZW41OyBfaTUrKykge1xuICAgICAgICAgICAgICB2YXIgX2lkMyA9IGl0ZW1JZHNbX2k1XTtcbiAgICAgICAgICAgICAgdmFyIF9pdGVtMiA9IHRoaXMuX2RhdGEuZ2V0KF9pZDMpO1xuICAgICAgICAgICAgICBpZiAoX2l0ZW0yICE9IG51bGwgJiYgZmlsdGVyKF9pdGVtMikpIHtcbiAgICAgICAgICAgICAgICBpZHMucHVzaChfaXRlbTJbdGhpcy5faWRQcm9wXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZ2V0IGFsbCBpdGVtc1xuICAgICAgICAgIGlmIChvcmRlcikge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9yZGVyZWQgbGlzdFxuICAgICAgICAgICAgdmFyIF9pdGVtcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2k2ID0gMCwgX2xlbjYgPSBpdGVtSWRzLmxlbmd0aDsgX2k2IDwgX2xlbjY7IF9pNisrKSB7XG4gICAgICAgICAgICAgIHZhciBfaWQ0ID0gaXRlbUlkc1tfaTZdO1xuICAgICAgICAgICAgICBfaXRlbXMucHVzaChkYXRhLmdldChfaWQ0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zb3J0KF9pdGVtcywgb3JkZXIpO1xuICAgICAgICAgICAgZm9yICh2YXIgX2k3ID0gMCwgX2xlbjcgPSBfaXRlbXMubGVuZ3RoOyBfaTcgPCBfbGVuNzsgX2k3KyspIHtcbiAgICAgICAgICAgICAgaWRzLnB1c2goX2l0ZW1zW19pN11bdGhpcy5faWRQcm9wXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB1bm9yZGVyZWQgbGlzdFxuICAgICAgICAgICAgZm9yICh2YXIgX2k4ID0gMCwgX2xlbjggPSBpdGVtSWRzLmxlbmd0aDsgX2k4IDwgX2xlbjg7IF9pOCsrKSB7XG4gICAgICAgICAgICAgIHZhciBfaWQ1ID0gaXRlbUlkc1tfaThdO1xuICAgICAgICAgICAgICB2YXIgX2l0ZW0zID0gZGF0YS5nZXQoX2lkNSk7XG4gICAgICAgICAgICAgIGlmIChfaXRlbTMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlkcy5wdXNoKF9pdGVtM1t0aGlzLl9pZFByb3BdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWRzO1xuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldERhdGFTZXRcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhU2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJmb3JFYWNoXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZmlsdGVyID0gb3B0aW9ucyAmJiBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eShvcHRpb25zKTtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICB2YXIgaXRlbUlkcyA9IF90b0NvbnN1bWFibGVBcnJheShfa2V5c0luc3RhbmNlUHJvcGVydHkoZGF0YSkuY2FsbChkYXRhKSk7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMub3JkZXIpIHtcbiAgICAgICAgICAvLyBleGVjdXRlIGZvckVhY2ggb24gb3JkZXJlZCBsaXN0XG4gICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5nZXQob3B0aW9ucyk7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgdmFyIGlkID0gaXRlbVt0aGlzLl9pZFByb3BdO1xuICAgICAgICAgICAgY2FsbGJhY2soaXRlbSwgaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB1bm9yZGVyZWRcbiAgICAgICAgICBmb3IgKHZhciBfaTkgPSAwLCBfbGVuOSA9IGl0ZW1JZHMubGVuZ3RoOyBfaTkgPCBfbGVuOTsgX2k5KyspIHtcbiAgICAgICAgICAgIHZhciBfaWQ2ID0gaXRlbUlkc1tfaTldO1xuICAgICAgICAgICAgdmFyIF9pdGVtNCA9IHRoaXMuX2RhdGEuZ2V0KF9pZDYpO1xuICAgICAgICAgICAgaWYgKF9pdGVtNCAhPSBudWxsICYmICghZmlsdGVyIHx8IGZpbHRlcihfaXRlbTQpKSkge1xuICAgICAgICAgICAgICBjYWxsYmFjayhfaXRlbTQsIF9pZDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIm1hcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1hcChjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICB2YXIgZmlsdGVyID0gb3B0aW9ucyAmJiBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eShvcHRpb25zKTtcbiAgICAgICAgdmFyIG1hcHBlZEl0ZW1zID0gW107XG4gICAgICAgIHZhciBkYXRhID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIGl0ZW1JZHMgPSBfdG9Db25zdW1hYmxlQXJyYXkoX2tleXNJbnN0YW5jZVByb3BlcnR5KGRhdGEpLmNhbGwoZGF0YSkpO1xuICAgICAgICAvLyBjb252ZXJ0IGFuZCBmaWx0ZXIgaXRlbXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgaWQgPSBpdGVtSWRzW2ldO1xuICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5fZGF0YS5nZXQoaWQpO1xuICAgICAgICAgIGlmIChpdGVtICE9IG51bGwgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKGl0ZW0pKSkge1xuICAgICAgICAgICAgbWFwcGVkSXRlbXMucHVzaChjYWxsYmFjayhpdGVtLCBpZCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBvcmRlciBpdGVtc1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyKSB7XG4gICAgICAgICAgdGhpcy5fc29ydChtYXBwZWRJdGVtcywgb3B0aW9ucy5vcmRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hcHBlZEl0ZW1zO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIEZpbHRlciB0aGUgZmllbGRzIG9mIGFuIGl0ZW0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBpdGVtIC0gVGhlIGl0ZW0gd2hvc2UgZmllbGRzIHNob3VsZCBiZSBmaWx0ZXJlZC5cclxuICAgICAgICogQHBhcmFtIGZpZWxkcyAtIFRoZSBuYW1lcyBvZiB0aGUgZmllbGRzIHRoYXQgd2lsbCBiZSBrZXB0LlxyXG4gICAgICAgKiBAdHlwZVBhcmFtIEsgLSBGaWVsZCBuYW1lIHR5cGUuXHJcbiAgICAgICAqIEByZXR1cm5zIFRoZSBpdGVtIHdpdGhvdXQgYW55IGFkZGl0aW9uYWwgZmllbGRzLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX2ZpbHRlckZpZWxkc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9maWx0ZXJGaWVsZHMoaXRlbSwgZmllbGRzKSB7XG4gICAgICAgIHZhciBfY29udGV4dDM7XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgIC8vIGl0ZW0gaXMgbnVsbFxuICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVkdWNlSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dDMgPSBfQXJyYXkkaXNBcnJheShmaWVsZHMpID9cbiAgICAgICAgLy8gVXNlIHRoZSBzdXBwbGllZCBhcnJheVxuICAgICAgICBmaWVsZHMgOlxuICAgICAgICAvLyBVc2UgdGhlIGtleXMgb2YgdGhlIHN1cHBsaWVkIG9iamVjdFxuICAgICAgICBfT2JqZWN0JGtleXMoZmllbGRzKSkuY2FsbChfY29udGV4dDMsIGZ1bmN0aW9uIChmaWx0ZXJlZEl0ZW0sIGZpZWxkKSB7XG4gICAgICAgICAgZmlsdGVyZWRJdGVtW2ZpZWxkXSA9IGl0ZW1bZmllbGRdO1xuICAgICAgICAgIHJldHVybiBmaWx0ZXJlZEl0ZW07XG4gICAgICAgIH0sIHt9KTtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBTb3J0IHRoZSBwcm92aWRlZCBhcnJheSB3aXRoIGl0ZW1zLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gaXRlbXMgLSBJdGVtcyB0byBiZSBzb3J0ZWQgaW4gcGxhY2UuXHJcbiAgICAgICAqIEBwYXJhbSBvcmRlciAtIEEgZmllbGQgbmFtZSBvciBjdXN0b20gc29ydCBmdW5jdGlvbi5cclxuICAgICAgICogQHR5cGVQYXJhbSBUIC0gVGhlIHR5cGUgb2YgdGhlIGl0ZW1zIGluIHRoZSBpdGVtcyBhcnJheS5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIl9zb3J0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3NvcnQoaXRlbXMsIG9yZGVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3JkZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAvLyBvcmRlciBieSBwcm92aWRlZCBmaWVsZCBuYW1lXG4gICAgICAgICAgdmFyIG5hbWUgPSBvcmRlcjsgLy8gZmllbGQgbmFtZVxuICAgICAgICAgIF9zb3J0SW5zdGFuY2VQcm9wZXJ0eShpdGVtcykuY2FsbChpdGVtcywgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIC8vIEBUT0RPOiBIb3cgdG8gdHJlYXQgbWlzc2luZyBwcm9wZXJ0aWVzP1xuICAgICAgICAgICAgdmFyIGF2ID0gYVtuYW1lXTtcbiAgICAgICAgICAgIHZhciBidiA9IGJbbmFtZV07XG4gICAgICAgICAgICByZXR1cm4gYXYgPiBidiA/IDEgOiBhdiA8IGJ2ID8gLTEgOiAwO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcmRlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgLy8gb3JkZXIgYnkgc29ydCBmdW5jdGlvblxuICAgICAgICAgIF9zb3J0SW5zdGFuY2VQcm9wZXJ0eShpdGVtcykuY2FsbChpdGVtcywgb3JkZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFRPRE86IGV4dGVuZCBvcmRlciBieSBhbiBPYmplY3Qge2ZpZWxkOnN0cmluZywgZGlyZWN0aW9uOnN0cmluZ31cbiAgICAgICAgICAvLyAgICAgICB3aGVyZSBkaXJlY3Rpb24gY2FuIGJlICdhc2MnIG9yICdkZXNjJ1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPcmRlciBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZW1vdmUgYW4gaXRlbSBvciBtdWx0aXBsZSBpdGVtcyBieSDigJxyZWZlcmVuY2XigJ0gKG9ubHkgdGhlIGlkIGlzIHVzZWQpIG9yIGJ5IGlkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgbWV0aG9kIGlnbm9yZXMgcmVtb3ZhbCBvZiBub24tZXhpc3RpbmcgaXRlbXMsIGFuZCByZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGlkcyBvZiB0aGUgaXRlbXMgd2hpY2ggYXJlIGFjdHVhbGx5IHJlbW92ZWQgZnJvbSB0aGUgRGF0YVNldC5cclxuICAgICAgICpcclxuICAgICAgICogQWZ0ZXIgdGhlIGl0ZW1zIGFyZSByZW1vdmVkLCB0aGUgRGF0YVNldCB3aWxsIHRyaWdnZXIgYW4gZXZlbnQgYHJlbW92ZWAgZm9yIHRoZSByZW1vdmVkIGl0ZW1zLiBXaGVuIGEgYHNlbmRlcklkYCBpcyBwcm92aWRlZCwgdGhpcyBpZCB3aWxsIGJlIHBhc3NlZCB3aXRoIHRoZSB0cmlnZ2VyZWQgZXZlbnQgdG8gYWxsIHN1YnNjcmliZXJzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAjIyBFeGFtcGxlXHJcbiAgICAgICAqIGBgYGphdmFzY3JpcHRcclxuICAgICAgICogLy8gY3JlYXRlIGEgRGF0YVNldFxyXG4gICAgICAgKiBjb25zdCBkYXRhID0gbmV3IHZpcy5EYXRhU2V0KFtcclxuICAgICAgICogICB7IGlkOiAxLCB0ZXh0OiAnaXRlbSAxJyB9LFxyXG4gICAgICAgKiAgIHsgaWQ6IDIsIHRleHQ6ICdpdGVtIDInIH0sXHJcbiAgICAgICAqICAgeyBpZDogMywgdGV4dDogJ2l0ZW0gMycgfVxyXG4gICAgICAgKiBdKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyByZW1vdmUgaXRlbXNcclxuICAgICAgICogY29uc3QgaWRzID0gZGF0YS5yZW1vdmUoWzIsIHsgaWQ6IDMgfSwgNF0pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGNvbnNvbGUubG9nKGlkcykgLy8gWzIsIDNdXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gaWQgLSBPbmUgb3IgbW9yZSBpdGVtcyBvciBpZHMgb2YgaXRlbXMgdG8gYmUgcmVtb3ZlZC5cclxuICAgICAgICogQHBhcmFtIHNlbmRlcklkIC0gU2VuZGVyIGlkLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgaWRzIG9mIHRoZSByZW1vdmVkIGl0ZW1zLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVtb3ZlXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKGlkLCBzZW5kZXJJZCkge1xuICAgICAgICB2YXIgcmVtb3ZlZElkcyA9IFtdO1xuICAgICAgICB2YXIgcmVtb3ZlZEl0ZW1zID0gW107XG4gICAgICAgIC8vIGZvcmNlIGV2ZXJ5dGhpbmcgdG8gYmUgYW4gYXJyYXkgZm9yIHNpbXBsaWNpdHlcbiAgICAgICAgdmFyIGlkcyA9IF9BcnJheSRpc0FycmF5KGlkKSA/IGlkIDogW2lkXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGlkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5fcmVtb3ZlKGlkc1tpXSk7XG4gICAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBpdGVtSWQgPSBpdGVtW3RoaXMuX2lkUHJvcF07XG4gICAgICAgICAgICBpZiAoaXRlbUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlZElkcy5wdXNoKGl0ZW1JZCk7XG4gICAgICAgICAgICAgIHJlbW92ZWRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVtb3ZlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiByZW1vdmVkSWRzLFxuICAgICAgICAgICAgb2xkRGF0YTogcmVtb3ZlZEl0ZW1zXG4gICAgICAgICAgfSwgc2VuZGVySWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVkSWRzO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbW92ZSBhbiBpdGVtIGJ5IGl0cyBpZCBvciByZWZlcmVuY2UuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBpZCAtIElkIG9mIGFuIGl0ZW0gb3IgdGhlIGl0ZW0gaXRzZWxmLlxyXG4gICAgICAgKiBAcmV0dXJucyBUaGUgcmVtb3ZlZCBpdGVtIGlmIHJlbW92ZWQsIG51bGwgb3RoZXJ3aXNlLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiX3JlbW92ZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW1vdmUoaWQpIHtcbiAgICAgICAgLy8gQFRPRE86IEl0IG9yaWdpYW5sbHkgcmV0dXJuZWQgdGhlIGl0ZW0gYWx0aG91Z2ggdGhlIGRvY3Mgc2F5IGlkLlxuICAgICAgICAvLyBUaGUgY29kZSBleHBlY3RzIHRoZSBpdGVtLCBzbyBwcm9iYWJseSBhbiBlcnJvciBpbiB0aGUgZG9jcy5cbiAgICAgICAgdmFyIGlkZW50O1xuICAgICAgICAvLyBjb25maXJtIHRoZSBpZCB0byB1c2UgYmFzZWQgb24gdGhlIGFyZ3MgdHlwZVxuICAgICAgICBpZiAoaXNJZChpZCkpIHtcbiAgICAgICAgICBpZGVudCA9IGlkO1xuICAgICAgICB9IGVsc2UgaWYgKGlkICYmIHR5cGVvZiBpZCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlkZW50ID0gaWRbdGhpcy5faWRQcm9wXTsgLy8gbG9vayBmb3IgdGhlIGlkZW50aWZpZXIgZmllbGQgdXNpbmcgLl9pZFByb3BcbiAgICAgICAgfVxuICAgICAgICAvLyBkbyB0aGUgcmVtb3ZpbmcgaWYgdGhlIGl0ZW0gaXMgZm91bmRcbiAgICAgICAgaWYgKGlkZW50ICE9IG51bGwgJiYgdGhpcy5fZGF0YS5oYXMoaWRlbnQpKSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChpZGVudCkgfHwgbnVsbDtcbiAgICAgICAgICB0aGlzLl9kYXRhLmRlbGV0ZShpZGVudCk7XG4gICAgICAgICAgLS10aGlzLmxlbmd0aDtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBDbGVhciB0aGUgZW50aXJlIGRhdGEgc2V0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBZnRlciB0aGUgaXRlbXMgYXJlIHJlbW92ZWQsIHRoZSB7QGxpbmsgRGF0YVNldH0gd2lsbCB0cmlnZ2VyIGFuIGV2ZW50IGByZW1vdmVgIGZvciBhbGwgcmVtb3ZlZCBpdGVtcy4gV2hlbiBhIGBzZW5kZXJJZGAgaXMgcHJvdmlkZWQsIHRoaXMgaWQgd2lsbCBiZSBwYXNzZWQgd2l0aCB0aGUgdHJpZ2dlcmVkIGV2ZW50IHRvIGFsbCBzdWJzY3JpYmVycy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHNlbmRlcklkIC0gU2VuZGVyIGlkLlxyXG4gICAgICAgKiBAcmV0dXJucyByZW1vdmVkSWRzIC0gVGhlIGlkcyBvZiBhbGwgcmVtb3ZlZCBpdGVtcy5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImNsZWFyXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoc2VuZGVySWQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0NDtcbiAgICAgICAgdmFyIGlkcyA9IF90b0NvbnN1bWFibGVBcnJheShfa2V5c0luc3RhbmNlUHJvcGVydHkoX2NvbnRleHQ0ID0gdGhpcy5fZGF0YSkuY2FsbChfY29udGV4dDQpKTtcbiAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpdGVtcy5wdXNoKHRoaXMuX2RhdGEuZ2V0KGlkc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGEuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsIHtcbiAgICAgICAgICBpdGVtczogaWRzLFxuICAgICAgICAgIG9sZERhdGE6IGl0ZW1zXG4gICAgICAgIH0sIHNlbmRlcklkKTtcbiAgICAgICAgcmV0dXJuIGlkcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBGaW5kIHRoZSBpdGVtIHdpdGggbWF4aW11bSB2YWx1ZSBvZiBhIHNwZWNpZmllZCBmaWVsZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGZpZWxkIC0gTmFtZSBvZiB0aGUgcHJvcGVydHkgdGhhdCBzaG91bGQgYmUgc2VhcmNoZWQgZm9yIG1heCB2YWx1ZS5cclxuICAgICAgICogQHJldHVybnMgSXRlbSBjb250YWluaW5nIG1heCB2YWx1ZSwgb3IgbnVsbCBpZiBubyBpdGVtcy5cclxuICAgICAgICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIm1heFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1heChmaWVsZCkge1xuICAgICAgICB2YXIgX2NvbnRleHQ1O1xuICAgICAgICB2YXIgbWF4ID0gbnVsbDtcbiAgICAgICAgdmFyIG1heEZpZWxkID0gbnVsbDtcbiAgICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyJDEoX3ZhbHVlc0luc3RhbmNlUHJvcGVydHkoX2NvbnRleHQ1ID0gdGhpcy5fZGF0YSkuY2FsbChfY29udGV4dDUpKSxcbiAgICAgICAgICBfc3RlcDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgIHZhciBpdGVtRmllbGQgPSBpdGVtW2ZpZWxkXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbUZpZWxkID09PSBcIm51bWJlclwiICYmIChtYXhGaWVsZCA9PSBudWxsIHx8IGl0ZW1GaWVsZCA+IG1heEZpZWxkKSkge1xuICAgICAgICAgICAgICBtYXggPSBpdGVtO1xuICAgICAgICAgICAgICBtYXhGaWVsZCA9IGl0ZW1GaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmYoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4IHx8IG51bGw7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmluZCB0aGUgaXRlbSB3aXRoIG1pbmltdW0gdmFsdWUgb2YgYSBzcGVjaWZpZWQgZmllbGQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBmaWVsZCAtIE5hbWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgc2hvdWxkIGJlIHNlYXJjaGVkIGZvciBtaW4gdmFsdWUuXHJcbiAgICAgICAqIEByZXR1cm5zIEl0ZW0gY29udGFpbmluZyBtaW4gdmFsdWUsIG9yIG51bGwgaWYgbm8gaXRlbXMuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJtaW5cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBtaW4oZmllbGQpIHtcbiAgICAgICAgdmFyIF9jb250ZXh0NjtcbiAgICAgICAgdmFyIG1pbiA9IG51bGw7XG4gICAgICAgIHZhciBtaW5GaWVsZCA9IG51bGw7XG4gICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIkMShfdmFsdWVzSW5zdGFuY2VQcm9wZXJ0eShfY29udGV4dDYgPSB0aGlzLl9kYXRhKS5jYWxsKF9jb250ZXh0NikpLFxuICAgICAgICAgIF9zdGVwMjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICB2YXIgaXRlbUZpZWxkID0gaXRlbVtmaWVsZF07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW1GaWVsZCA9PT0gXCJudW1iZXJcIiAmJiAobWluRmllbGQgPT0gbnVsbCB8fCBpdGVtRmllbGQgPCBtaW5GaWVsZCkpIHtcbiAgICAgICAgICAgICAgbWluID0gaXRlbTtcbiAgICAgICAgICAgICAgbWluRmllbGQgPSBpdGVtRmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBfaXRlcmF0b3IyLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IyLmYoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluIHx8IG51bGw7XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRmluZCBhbGwgZGlzdGluY3QgdmFsdWVzIG9mIGEgc3BlY2lmaWVkIGZpZWxkXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBwcm9wIC0gVGhlIHByb3BlcnR5IG5hbWUgd2hvc2UgZGlzdGluY3QgdmFsdWVzIHNob3VsZCBiZSByZXR1cm5lZC5cclxuICAgICAgICogQHJldHVybnMgVW5vcmRlcmVkIGFycmF5IGNvbnRhaW5pbmcgYWxsIGRpc3RpbmN0IHZhbHVlcy4gSXRlbXMgd2l0aG91dCBzcGVjaWZpZWQgcHJvcGVydHkgYXJlIGlnbm9yZWQuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJkaXN0aW5jdFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3RpbmN0KHByb3ApIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICB2YXIgaXRlbUlkcyA9IF90b0NvbnN1bWFibGVBcnJheShfa2V5c0luc3RhbmNlUHJvcGVydHkoZGF0YSkuY2FsbChkYXRhKSk7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgaWQgPSBpdGVtSWRzW2ldO1xuICAgICAgICAgIHZhciBpdGVtID0gZGF0YS5nZXQoaWQpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1bcHJvcF07XG4gICAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1tqXSA9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFleGlzdHMgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFsdWVzW2NvdW50XSA9IHZhbHVlO1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBBZGQgYSBzaW5nbGUgaXRlbS4gV2lsbCBmYWlsIHdoZW4gYW4gaXRlbSB3aXRoIHRoZSBzYW1lIGlkIGFscmVhZHkgZXhpc3RzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0gaXRlbSAtIEEgbmV3IGl0ZW0gdG8gYmUgYWRkZWQuXHJcbiAgICAgICAqIEByZXR1cm5zIEFkZGVkIGl0ZW0ncyBpZC4gQW4gaWQgaXMgZ2VuZXJhdGVkIHdoZW4gaXQgaXMgbm90IHByZXNlbnQgaW4gdGhlIGl0ZW0uXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJfYWRkSXRlbVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgdmFyIGZ1bGxJdGVtID0gZW5zdXJlRnVsbEl0ZW0oaXRlbSwgdGhpcy5faWRQcm9wKTtcbiAgICAgICAgdmFyIGlkID0gZnVsbEl0ZW1bdGhpcy5faWRQcm9wXTtcbiAgICAgICAgLy8gY2hlY2sgd2hldGhlciB0aGlzIGlkIGlzIGFscmVhZHkgdGFrZW5cbiAgICAgICAgaWYgKHRoaXMuX2RhdGEuaGFzKGlkKSkge1xuICAgICAgICAgIC8vIGl0ZW0gYWxyZWFkeSBleGlzdHNcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYWRkIGl0ZW06IGl0ZW0gd2l0aCBpZCBcIiArIGlkICsgXCIgYWxyZWFkeSBleGlzdHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGF0YS5zZXQoaWQsIGZ1bGxJdGVtKTtcbiAgICAgICAgKyt0aGlzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFVwZGF0ZSBhIHNpbmdsZSBpdGVtOiBtZXJnZSB3aXRoIGV4aXN0aW5nIGl0ZW0uXHJcbiAgICAgICAqIFdpbGwgZmFpbCB3aGVuIHRoZSBpdGVtIGhhcyBubyBpZCwgb3Igd2hlbiB0aGVyZSBkb2VzIG5vdCBleGlzdCBhbiBpdGVtIHdpdGggdGhlIHNhbWUgaWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB1cGRhdGUgLSBUaGUgbmV3IGl0ZW1cclxuICAgICAgICogQHJldHVybnMgVGhlIGlkIG9mIHRoZSB1cGRhdGVkIGl0ZW0uXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJfdXBkYXRlSXRlbVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVJdGVtKHVwZGF0ZSkge1xuICAgICAgICB2YXIgaWQgPSB1cGRhdGVbdGhpcy5faWRQcm9wXTtcbiAgICAgICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGl0ZW06IGl0ZW0gaGFzIG5vIGlkIChpdGVtOiBcIiArIF9KU09OJHN0cmluZ2lmeSh1cGRhdGUpICsgXCIpXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5fZGF0YS5nZXQoaWQpO1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAvLyBpdGVtIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGl0ZW06IG5vIGl0ZW0gd2l0aCBpZCBcIiArIGlkICsgXCIgZm91bmRcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZGF0YS5zZXQoaWQsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHVwZGF0ZSkpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwic3RyZWFtXCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gc3RyZWFtKGlkcykge1xuICAgICAgICBpZiAoaWRzKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICAgIHJldHVybiBuZXcgRGF0YVN0cmVhbSh7XG4gICAgICAgICAgICBbX1N5bWJvbCRpdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvcjMsIF9zdGVwMywgaWQsIGl0ZW07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dDcpIHtcbiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciQxKGlkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucygpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKChfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZCA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gZGF0YS5nZXQoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghKGl0ZW0gIT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gOTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtpZCwgaXRlbV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxNjtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDEzO1xuICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1tcImNhdGNoXCJdKDEpO1xuICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMuZShfY29udGV4dDcudDApO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMTY7XG4gICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5mKCk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5maW5pc2goMTYpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMywgMTYsIDE5XV0pO1xuICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfY29udGV4dDg7XG4gICAgICAgICAgcmV0dXJuIG5ldyBEYXRhU3RyZWFtKHtcbiAgICAgICAgICAgIFtfU3ltYm9sJGl0ZXJhdG9yXTogX2JpbmRJbnN0YW5jZVByb3BlcnR5JDEoX2NvbnRleHQ4ID0gX2VudHJpZXNJbnN0YW5jZVByb3BlcnR5KHRoaXMuX2RhdGEpKS5jYWxsKF9jb250ZXh0OCwgdGhpcy5fZGF0YSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gRGF0YVNldDtcbiAgfShEYXRhU2V0UGFydCk7XG5cbiAgZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobywgYWxsb3dBcnJheUxpa2UpIHsgdmFyIGl0ID0gdHlwZW9mIF9TeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgX2dldEl0ZXJhdG9yTWV0aG9kKG8pIHx8IG9bXCJAQGl0ZXJhdG9yXCJdOyBpZiAoIWl0KSB7IGlmIChfQXJyYXkkaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSB7IGlmIChpdCkgbyA9IGl0OyB2YXIgaSA9IDA7IHZhciBGID0gZnVuY3Rpb24gRigpIHt9OyByZXR1cm4geyBzOiBGLCBuOiBmdW5jdGlvbiBuKCkgeyBpZiAoaSA+PSBvLmxlbmd0aCkgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9OyByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWU6IG9baSsrXSB9OyB9LCBlOiBmdW5jdGlvbiBlKF9lKSB7IHRocm93IF9lOyB9LCBmOiBGIH07IH0gdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9IHZhciBub3JtYWxDb21wbGV0aW9uID0gdHJ1ZSwgZGlkRXJyID0gZmFsc2UsIGVycjsgcmV0dXJuIHsgczogZnVuY3Rpb24gcygpIHsgaXQgPSBpdC5jYWxsKG8pOyB9LCBuOiBmdW5jdGlvbiBuKCkgeyB2YXIgc3RlcCA9IGl0Lm5leHQoKTsgbm9ybWFsQ29tcGxldGlvbiA9IHN0ZXAuZG9uZTsgcmV0dXJuIHN0ZXA7IH0sIGU6IGZ1bmN0aW9uIGUoX2UyKSB7IGRpZEVyciA9IHRydWU7IGVyciA9IF9lMjsgfSwgZjogZnVuY3Rpb24gZigpIHsgdHJ5IHsgaWYgKCFub3JtYWxDb21wbGV0aW9uICYmIGl0LnJldHVybiAhPSBudWxsKSBpdC5yZXR1cm4oKTsgfSBmaW5hbGx5IHsgaWYgKGRpZEVycikgdGhyb3cgZXJyOyB9IH0gfTsgfVxuICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IHZhciBfY29udGV4dDU7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IF9zbGljZUluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQ1ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pKS5jYWxsKF9jb250ZXh0NSwgOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gX0FycmF5JGZyb20kMShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG4gIGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07IHJldHVybiBhcnIyOyB9XG4gIGZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7IHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7IHZhciBTdXBlciA9IF9nZXRQcm90b3R5cGVPZihEZXJpdmVkKSwgcmVzdWx0OyBpZiAoaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCkgeyB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yOyByZXN1bHQgPSBfUmVmbGVjdCRjb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTsgfSBlbHNlIHsgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfSByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgcmVzdWx0KTsgfTsgfVxuICBmdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIV9SZWZsZWN0JGNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlOyBpZiAoX1JlZmxlY3QkY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTsgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTsgdHJ5IHsgQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKF9SZWZsZWN0JGNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH1cbiAgLyoqXHJcbiAgICogRGF0YVZpZXdcclxuICAgKlxyXG4gICAqIEEgRGF0YVZpZXcgb2ZmZXJzIGEgZmlsdGVyZWQgYW5kL29yIGZvcm1hdHRlZCB2aWV3IG9uIGEgRGF0YVNldC4gT25lIGNhbiBzdWJzY3JpYmUgdG8gY2hhbmdlcyBpbiBhIERhdGFWaWV3LCBhbmQgZWFzaWx5IGdldCBmaWx0ZXJlZCBvciBmb3JtYXR0ZWQgZGF0YSB3aXRob3V0IGhhdmluZyB0byBzcGVjaWZ5IGZpbHRlcnMgYW5kIGZpZWxkIHR5cGVzIGFsbCB0aGUgdGltZS5cclxuICAgKlxyXG4gICAqICMjIEV4YW1wbGVcclxuICAgKiBgYGBqYXZhc2NyaXB0XHJcbiAgICogLy8gY3JlYXRlIGEgRGF0YVNldFxyXG4gICAqIHZhciBkYXRhID0gbmV3IHZpcy5EYXRhU2V0KCk7XHJcbiAgICogZGF0YS5hZGQoW1xyXG4gICAqICAge2lkOiAxLCB0ZXh0OiAnaXRlbSAxJywgZGF0ZTogbmV3IERhdGUoMjAxMywgNiwgMjApLCBncm91cDogMSwgZmlyc3Q6IHRydWV9LFxyXG4gICAqICAge2lkOiAyLCB0ZXh0OiAnaXRlbSAyJywgZGF0ZTogJzIwMTMtMDYtMjMnLCBncm91cDogMn0sXHJcbiAgICogICB7aWQ6IDMsIHRleHQ6ICdpdGVtIDMnLCBkYXRlOiAnMjAxMy0wNi0yNScsIGdyb3VwOiAyfSxcclxuICAgKiAgIHtpZDogNCwgdGV4dDogJ2l0ZW0gNCd9XHJcbiAgICogXSk7XHJcbiAgICpcclxuICAgKiAvLyBjcmVhdGUgYSBEYXRhVmlld1xyXG4gICAqIC8vIHRoZSB2aWV3IHdpbGwgb25seSBjb250YWluIGl0ZW1zIGhhdmluZyBhIHByb3BlcnR5IGdyb3VwIHdpdGggdmFsdWUgMSxcclxuICAgKiAvLyBhbmQgd2lsbCBvbmx5IG91dHB1dCBmaWVsZHMgaWQsIHRleHQsIGFuZCBkYXRlLlxyXG4gICAqIHZhciB2aWV3ID0gbmV3IHZpcy5EYXRhVmlldyhkYXRhLCB7XHJcbiAgICogICBmaWx0ZXI6IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICogICAgIHJldHVybiAoaXRlbS5ncm91cCA9PSAxKTtcclxuICAgKiAgIH0sXHJcbiAgICogICBmaWVsZHM6IFsnaWQnLCAndGV4dCcsICdkYXRlJ11cclxuICAgKiB9KTtcclxuICAgKlxyXG4gICAqIC8vIHN1YnNjcmliZSB0byBhbnkgY2hhbmdlIGluIHRoZSBEYXRhVmlld1xyXG4gICAqIHZpZXcub24oJyonLCBmdW5jdGlvbiAoZXZlbnQsIHByb3BlcnRpZXMsIHNlbmRlcklkKSB7XHJcbiAgICogICBjb25zb2xlLmxvZygnZXZlbnQnLCBldmVudCwgcHJvcGVydGllcyk7XHJcbiAgICogfSk7XHJcbiAgICpcclxuICAgKiAvLyB1cGRhdGUgYW4gaXRlbSBpbiB0aGUgZGF0YSBzZXRcclxuICAgKiBkYXRhLnVwZGF0ZSh7aWQ6IDIsIGdyb3VwOiAxfSk7XHJcbiAgICpcclxuICAgKiAvLyBnZXQgYWxsIGlkcyBpbiB0aGUgdmlld1xyXG4gICAqIHZhciBpZHMgPSB2aWV3LmdldElkcygpO1xyXG4gICAqIGNvbnNvbGUubG9nKCdpZHMnLCBpZHMpOyAvLyB3aWxsIG91dHB1dCBbMSwgMl1cclxuICAgKlxyXG4gICAqIC8vIGdldCBhbGwgaXRlbXMgaW4gdGhlIHZpZXdcclxuICAgKiB2YXIgaXRlbXMgPSB2aWV3LmdldCgpO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHR5cGVQYXJhbSBJdGVtIC0gSXRlbSB0eXBlIHRoYXQgbWF5IG9yIG1heSBub3QgaGF2ZSBhbiBpZC5cclxuICAgKiBAdHlwZVBhcmFtIElkUHJvcCAtIE5hbWUgb2YgdGhlIHByb3BlcnR5IHRoYXQgY29udGFpbnMgdGhlIGlkLlxyXG4gICAqL1xuICB2YXIgRGF0YVZpZXcgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9EYXRhU2V0UGFydCkge1xuICAgIF9pbmhlcml0cyhEYXRhVmlldywgX0RhdGFTZXRQYXJ0KTtcbiAgICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKERhdGFWaWV3KTtcbiAgICAvLyBpZHMgb2YgdGhlIGl0ZW1zIGN1cnJlbnRseSBpbiBtZW1vcnkgKGp1c3QgY29udGFpbnMgYSBib29sZWFuIHRydWUpXG5cbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhIERhdGFWaWV3LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRhIC0gVGhlIGluc3RhbmNlIGNvbnRhaW5pbmcgZGF0YSAoZGlyZWN0bHkgb3IgaW5kaXJlY3RseSkuXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMgdG8gY29uZmlndXJlIHRoaXMgZGF0YSB2aWV3LlxyXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGF0YVZpZXcoZGF0YSwgb3B0aW9ucykge1xuICAgICAgdmFyIF9jb250ZXh0O1xuICAgICAgdmFyIF90aGlzO1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGFWaWV3KTtcbiAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJsZW5ndGhcIiwgMCk7XG4gICAgICAvLyBjb25zdHJ1Y3RvciDihpIgc2V0RGF0YVxuICAgICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pZHNcIiwgbmV3IF9TZXQoKSk7XG4gICAgICBfdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICBfdGhpcy5fbGlzdGVuZXIgPSBfYmluZEluc3RhbmNlUHJvcGVydHkkMShfY29udGV4dCA9IF90aGlzLl9vbkV2ZW50KS5jYWxsKF9jb250ZXh0LCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgICBfdGhpcy5zZXREYXRhKGRhdGEpO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgYSBmdW5jdGlvbiAuY29uZmlnKCkgdG8gZHluYW1pY2FsbHkgdXBkYXRlIHRoaW5ncyBsaWtlIGNvbmZpZ3VyZWQgZmlsdGVyXG4gICAgLy8gYW5kIHRyaWdnZXIgY2hhbmdlcyBhY2NvcmRpbmdseVxuICAgIC8qKlxyXG4gICAgICogU2V0IGEgZGF0YSBzb3VyY2UgZm9yIHRoZSB2aWV3LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkYXRhIC0gVGhlIGluc3RhbmNlIGNvbnRhaW5pbmcgZGF0YSAoZGlyZWN0bHkgb3IgaW5kaXJlY3RseSkuXHJcbiAgICAgKiBAcmVtYXJrc1xyXG4gICAgICogTm90ZSB0aGF0IHdoZW4gdGhlIGRhdGEgdmlldyBpcyBib3VuZCB0byBhIGRhdGEgc2V0IGl0IHdvbid0IGJlIGdhcmJhZ2VcclxuICAgICAqIGNvbGxlY3RlZCB1bmxlc3MgdGhlIGRhdGEgc2V0IGlzIHRvby4gVXNlIGBkYXRhVmlldy5zZXREYXRhKG51bGwpYCBvclxyXG4gICAgICogYGRhdGFWaWV3LmRpc3Bvc2UoKWAgdG8gZW5hYmxlIGdhcmJhZ2UgY29sbGVjdGlvbiBiZWZvcmUgeW91IGxvc2UgdGhlIGxhc3RcclxuICAgICAqIHJlZmVyZW5jZS5cclxuICAgICAqL1xuICAgIF9jcmVhdGVDbGFzcyhEYXRhVmlldywgW3tcbiAgICAgIGtleTogXCJpZFByb3BcIixcbiAgICAgIGdldDogLyoqIEBpbmhlcml0RG9jICovXG4gICAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldERhdGFTZXQoKS5pZFByb3A7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiBcInNldERhdGFcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKGRhdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAvLyB1bnN1YnNjcmliZSBmcm9tIGN1cnJlbnQgZGF0YXNldFxuICAgICAgICAgIGlmICh0aGlzLl9kYXRhLm9mZikge1xuICAgICAgICAgICAgdGhpcy5fZGF0YS5vZmYoXCIqXCIsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gdHJpZ2dlciBhIHJlbW92ZSBvZiBhbGwgaXRlbXMgaW4gbWVtb3J5XG4gICAgICAgICAgdmFyIGlkcyA9IHRoaXMuX2RhdGEuZ2V0SWRzKHtcbiAgICAgICAgICAgIGZpbHRlcjogX2ZpbHRlckluc3RhbmNlUHJvcGVydHkodGhpcy5fb3B0aW9ucylcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLl9kYXRhLmdldChpZHMpO1xuICAgICAgICAgIHRoaXMuX2lkcy5jbGVhcigpO1xuICAgICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiBpZHMsXG4gICAgICAgICAgICBvbGREYXRhOiBpdGVtc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgICAvLyB0cmlnZ2VyIGFuIGFkZCBvZiBhbGwgYWRkZWQgaXRlbXNcbiAgICAgICAgICB2YXIgX2lkcyA9IHRoaXMuX2RhdGEuZ2V0SWRzKHtcbiAgICAgICAgICAgIGZpbHRlcjogX2ZpbHRlckluc3RhbmNlUHJvcGVydHkodGhpcy5fb3B0aW9ucylcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gX2lkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGlkID0gX2lkc1tpXTtcbiAgICAgICAgICAgIHRoaXMuX2lkcy5hZGQoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxlbmd0aCA9IF9pZHMubGVuZ3RoO1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJhZGRcIiwge1xuICAgICAgICAgICAgaXRlbXM6IF9pZHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9kYXRhID0gbmV3IERhdGFTZXQoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdWJzY3JpYmUgdG8gbmV3IGRhdGFzZXRcbiAgICAgICAgaWYgKHRoaXMuX2RhdGEub24pIHtcbiAgICAgICAgICB0aGlzLl9kYXRhLm9uKFwiKlwiLCB0aGlzLl9saXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qKlxyXG4gICAgICAgKiBSZWZyZXNoIHRoZSBEYXRhVmlldy5cclxuICAgICAgICogVXNlZnVsIHdoZW4gdGhlIERhdGFWaWV3IGhhcyBhIGZpbHRlciBmdW5jdGlvbiBjb250YWluaW5nIGEgdmFyaWFibGUgcGFyYW1ldGVyLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwicmVmcmVzaFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICAgIHZhciBpZHMgPSB0aGlzLl9kYXRhLmdldElkcyh7XG4gICAgICAgICAgZmlsdGVyOiBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eSh0aGlzLl9vcHRpb25zKVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG9sZElkcyA9IF90b0NvbnN1bWFibGVBcnJheSh0aGlzLl9pZHMpO1xuICAgICAgICB2YXIgbmV3SWRzID0ge307XG4gICAgICAgIHZhciBhZGRlZElkcyA9IFtdO1xuICAgICAgICB2YXIgcmVtb3ZlZElkcyA9IFtdO1xuICAgICAgICB2YXIgcmVtb3ZlZEl0ZW1zID0gW107XG4gICAgICAgIC8vIGNoZWNrIGZvciBhZGRpdGlvbnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGlkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIHZhciBpZCA9IGlkc1tpXTtcbiAgICAgICAgICBuZXdJZHNbaWRdID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIXRoaXMuX2lkcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBhZGRlZElkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIHRoaXMuX2lkcy5hZGQoaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBmb3IgcmVtb3ZhbHNcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfbGVuID0gb2xkSWRzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIF9pZCA9IG9sZElkc1tfaV07XG4gICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9kYXRhLmdldChfaWQpO1xuICAgICAgICAgIGlmIChpdGVtID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEBUT0RPOiBJbnZlc3RpZ2F0ZS5cbiAgICAgICAgICAgIC8vIERvZXNuJ3QgaGFwcGVuIGR1cmluZyB0ZXN0cyBvciBleGFtcGxlcy5cbiAgICAgICAgICAgIC8vIElzIGl0IHJlYWxseSBpbXBvc3NpYmxlIG9yIGNvdWxkIGl0IGV2ZW50dWFsbHkgaGFwcGVuP1xuICAgICAgICAgICAgLy8gSG93IHRvIGhhbmRsZSBpdCBpZiBpdCBkb2VzPyBUaGUgdHlwZXMgZ3VhcmFudGVlIG5vbi1udWxsYWJsZSBpdGVtcy5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJZiB5b3Ugc2VlIHRoaXMsIHJlcG9ydCBpdCBwbGVhc2UuXCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIW5ld0lkc1tfaWRdKSB7XG4gICAgICAgICAgICByZW1vdmVkSWRzLnB1c2goX2lkKTtcbiAgICAgICAgICAgIHJlbW92ZWRJdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5faWRzLmRlbGV0ZShfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxlbmd0aCArPSBhZGRlZElkcy5sZW5ndGggLSByZW1vdmVkSWRzLmxlbmd0aDtcbiAgICAgICAgLy8gdHJpZ2dlciBldmVudHNcbiAgICAgICAgaWYgKGFkZGVkSWRzLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX3RyaWdnZXIoXCJhZGRcIiwge1xuICAgICAgICAgICAgaXRlbXM6IGFkZGVkSWRzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZWRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLCB7XG4gICAgICAgICAgICBpdGVtczogcmVtb3ZlZElkcyxcbiAgICAgICAgICAgIG9sZERhdGE6IHJlbW92ZWRJdGVtc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0XCIsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RhdGEgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIHRoZSBhcmd1bWVudHNcbiAgICAgICAgdmFyIGlkcyA9IG51bGw7XG4gICAgICAgIHZhciBvcHRpb25zO1xuICAgICAgICBpZiAoaXNJZChmaXJzdCkgfHwgX0FycmF5JGlzQXJyYXkoZmlyc3QpKSB7XG4gICAgICAgICAgaWRzID0gZmlyc3Q7XG4gICAgICAgICAgb3B0aW9ucyA9IHNlY29uZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcHRpb25zID0gZmlyc3Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXh0ZW5kIHRoZSBvcHRpb25zIHdpdGggdGhlIGRlZmF1bHQgb3B0aW9ucyBhbmQgcHJvdmlkZWQgb3B0aW9uc1xuICAgICAgICB2YXIgdmlld09wdGlvbnMgPSBfT2JqZWN0JGFzc2lnbih7fSwgdGhpcy5fb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNvbWJpbmVkIGZpbHRlciBtZXRob2Qgd2hlbiBuZWVkZWRcbiAgICAgICAgdmFyIHRoaXNGaWx0ZXIgPSBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eSh0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgdmFyIG9wdGlvbnNGaWx0ZXIgPSBvcHRpb25zICYmIF9maWx0ZXJJbnN0YW5jZVByb3BlcnR5KG9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpc0ZpbHRlciAmJiBvcHRpb25zRmlsdGVyKSB7XG4gICAgICAgICAgdmlld09wdGlvbnMuZmlsdGVyID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzRmlsdGVyKGl0ZW0pICYmIG9wdGlvbnNGaWx0ZXIoaXRlbSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWRzID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YS5nZXQodmlld09wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmdldChpZHMsIHZpZXdPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImdldElkc1wiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElkcyhvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBkZWZhdWx0RmlsdGVyID0gX2ZpbHRlckluc3RhbmNlUHJvcGVydHkodGhpcy5fb3B0aW9ucyk7XG4gICAgICAgICAgdmFyIG9wdGlvbnNGaWx0ZXIgPSBvcHRpb25zICE9IG51bGwgPyBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eShvcHRpb25zKSA6IG51bGw7XG4gICAgICAgICAgdmFyIGZpbHRlcjtcbiAgICAgICAgICBpZiAob3B0aW9uc0ZpbHRlcikge1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZpbHRlcihpdGVtKSAmJiBvcHRpb25zRmlsdGVyKGl0ZW0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmlsdGVyID0gb3B0aW9uc0ZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsdGVyID0gZGVmYXVsdEZpbHRlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGEuZ2V0SWRzKHtcbiAgICAgICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICAgICAgb3JkZXI6IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmRlclxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcImZvckVhY2hcIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JFYWNoKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgdmFyIF9jb250ZXh0MjtcbiAgICAgICAgICB2YXIgZGVmYXVsdEZpbHRlciA9IF9maWx0ZXJJbnN0YW5jZVByb3BlcnR5KHRoaXMuX29wdGlvbnMpO1xuICAgICAgICAgIHZhciBvcHRpb25zRmlsdGVyID0gb3B0aW9ucyAmJiBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eShvcHRpb25zKTtcbiAgICAgICAgICB2YXIgZmlsdGVyO1xuICAgICAgICAgIGlmIChvcHRpb25zRmlsdGVyKSB7XG4gICAgICAgICAgICBpZiAoZGVmYXVsdEZpbHRlcikge1xuICAgICAgICAgICAgICBmaWx0ZXIgPSBmdW5jdGlvbiBmaWx0ZXIoaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RmlsdGVyKGl0ZW0pICYmIG9wdGlvbnNGaWx0ZXIoaXRlbSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmaWx0ZXIgPSBvcHRpb25zRmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWx0ZXIgPSBkZWZhdWx0RmlsdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfZm9yRWFjaEluc3RhbmNlUHJvcGVydHkoX2NvbnRleHQyID0gdGhpcy5fZGF0YSkuY2FsbChfY29udGV4dDIsIGNhbGxiYWNrLCB7XG4gICAgICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgICAgIG9yZGVyOiBvcHRpb25zICYmIG9wdGlvbnMub3JkZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgfSwge1xuICAgICAga2V5OiBcIm1hcFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIG1hcChjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fZGF0YSkge1xuICAgICAgICAgIHZhciBfY29udGV4dDM7XG4gICAgICAgICAgdmFyIGRlZmF1bHRGaWx0ZXIgPSBfZmlsdGVySW5zdGFuY2VQcm9wZXJ0eSh0aGlzLl9vcHRpb25zKTtcbiAgICAgICAgICB2YXIgb3B0aW9uc0ZpbHRlciA9IG9wdGlvbnMgJiYgX2ZpbHRlckluc3RhbmNlUHJvcGVydHkob3B0aW9ucyk7XG4gICAgICAgICAgdmFyIGZpbHRlcjtcbiAgICAgICAgICBpZiAob3B0aW9uc0ZpbHRlcikge1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgZmlsdGVyID0gZnVuY3Rpb24gZmlsdGVyKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZpbHRlcihpdGVtKSAmJiBvcHRpb25zRmlsdGVyKGl0ZW0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmlsdGVyID0gb3B0aW9uc0ZpbHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsdGVyID0gZGVmYXVsdEZpbHRlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9tYXBJbnN0YW5jZVByb3BlcnR5KF9jb250ZXh0MyA9IHRoaXMuX2RhdGEpLmNhbGwoX2NvbnRleHQzLCBjYWxsYmFjaywge1xuICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXIsXG4gICAgICAgICAgICBvcmRlcjogb3B0aW9ucyAmJiBvcHRpb25zLm9yZGVyXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKiogQGluaGVyaXREb2MgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZ2V0RGF0YVNldFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGFTZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhLmdldERhdGFTZXQoKTtcbiAgICAgIH1cbiAgICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJzdHJlYW1cIixcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzdHJlYW0oaWRzKSB7XG4gICAgICAgIHZhciBfY29udGV4dDQ7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhLnN0cmVhbShpZHMgfHwge1xuICAgICAgICAgIFtfU3ltYm9sJGl0ZXJhdG9yXTogX2JpbmRJbnN0YW5jZVByb3BlcnR5JDEoX2NvbnRleHQ0ID0gX2tleXNJbnN0YW5jZVByb3BlcnR5KHRoaXMuX2lkcykpLmNhbGwoX2NvbnRleHQ0LCB0aGlzLl9pZHMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLyoqXHJcbiAgICAgICAqIFJlbmRlciB0aGUgaW5zdGFuY2UgdW51c2FibGUgcHJpb3IgdG8gZ2FyYmFnZSBjb2xsZWN0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVtYXJrc1xyXG4gICAgICAgKiBUaGUgaW50ZW50aW9uIG9mIHRoaXMgbWV0aG9kIGlzIHRvIGhlbHAgZGlzY292ZXIgc2NlbmFyaW9zIHdoZXJlIHRoZSBkYXRhXHJcbiAgICAgICAqIHZpZXcgaXMgYmVpbmcgdXNlZCB3aGVuIHRoZSBwcm9ncmFtbWVyIHRoaW5rcyBpdCBoYXMgYmVlbiBnYXJiYWdlIGNvbGxlY3RlZFxyXG4gICAgICAgKiBhbHJlYWR5LiBJdCdzIHN0cmljdGVyIHZlcnNpb24gb2YgYGRhdGFWaWV3LnNldERhdGEobnVsbClgLlxyXG4gICAgICAgKi9cbiAgICB9LCB7XG4gICAgICBrZXk6IFwiZGlzcG9zZVwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfdGhpcyRfZGF0YTtcbiAgICAgICAgaWYgKChfdGhpcyRfZGF0YSA9IHRoaXMuX2RhdGEpICE9PSBudWxsICYmIF90aGlzJF9kYXRhICE9PSB2b2lkIDAgJiYgX3RoaXMkX2RhdGEub2ZmKSB7XG4gICAgICAgICAgdGhpcy5fZGF0YS5vZmYoXCIqXCIsIHRoaXMuX2xpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZSA9IFwiVGhpcyBkYXRhIHZpZXcgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZCBvZi5cIjtcbiAgICAgICAgdmFyIHJlcGxhY2VtZW50ID0ge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfUmVmbGVjdCRvd25LZXlzKERhdGFWaWV3LnByb3RvdHlwZSkpLFxuICAgICAgICAgIF9zdGVwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICBfT2JqZWN0JGRlZmluZVByb3BlcnR5KHRoaXMsIGtleSwgcmVwbGFjZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBfaXRlcmF0b3IuZigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcclxuICAgICAgICogRXZlbnQgbGlzdGVuZXIuIFdpbGwgcHJvcGFnYXRlIGFsbCBldmVudHMgZnJvbSB0aGUgY29ubmVjdGVkIGRhdGEgc2V0IHRvIHRoZSBzdWJzY3JpYmVycyBvZiB0aGUgRGF0YVZpZXcsIGJ1dCB3aWxsIGZpbHRlciB0aGUgaXRlbXMgYW5kIG9ubHkgdHJpZ2dlciB3aGVuIHRoZXJlIGFyZSBjaGFuZ2VzIGluIHRoZSBmaWx0ZXJlZCBkYXRhIHNldC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIGV2ZW50IC0gVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAgICAgKiBAcGFyYW0gcGFyYW1zIC0gUGFyYW1ldGVycyBvZiB0aGUgZXZlbnQuXHJcbiAgICAgICAqIEBwYXJhbSBzZW5kZXJJZCAtIElkIHN1cHBsaWVkIGJ5IHRoZSBzZW5kZXIuXHJcbiAgICAgICAqL1xuICAgIH0sIHtcbiAgICAgIGtleTogXCJfb25FdmVudFwiLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkV2ZW50KGV2ZW50LCBwYXJhbXMsIHNlbmRlcklkKSB7XG4gICAgICAgIGlmICghcGFyYW1zIHx8ICFwYXJhbXMuaXRlbXMgfHwgIXRoaXMuX2RhdGEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkcyA9IHBhcmFtcy5pdGVtcztcbiAgICAgICAgdmFyIGFkZGVkSWRzID0gW107XG4gICAgICAgIHZhciB1cGRhdGVkSWRzID0gW107XG4gICAgICAgIHZhciByZW1vdmVkSWRzID0gW107XG4gICAgICAgIHZhciBvbGRJdGVtcyA9IFtdO1xuICAgICAgICB2YXIgdXBkYXRlZEl0ZW1zID0gW107XG4gICAgICAgIHZhciByZW1vdmVkSXRlbXMgPSBbXTtcbiAgICAgICAgc3dpdGNoIChldmVudCkge1xuICAgICAgICAgIGNhc2UgXCJhZGRcIjpcbiAgICAgICAgICAgIC8vIGZpbHRlciB0aGUgaWRzIG9mIHRoZSBhZGRlZCBpdGVtc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGlkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICB2YXIgaWQgPSBpZHNbaV07XG4gICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5nZXQoaWQpO1xuICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2lkcy5hZGQoaWQpO1xuICAgICAgICAgICAgICAgIGFkZGVkSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwidXBkYXRlXCI6XG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIGV2ZW50IGZyb20gdGhlIHZpZXdzIHZpZXdwb2ludDogYW4gdXBkYXRlZFxuICAgICAgICAgICAgLy8gaXRlbSBjYW4gYmUgYWRkZWQsIHVwZGF0ZWQsIG9yIHJlbW92ZWQgZnJvbSB0aGlzIHZpZXcuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwLCBfbGVuMiA9IGlkcy5sZW5ndGg7IF9pMiA8IF9sZW4yOyBfaTIrKykge1xuICAgICAgICAgICAgICB2YXIgX2lkMiA9IGlkc1tfaTJdO1xuICAgICAgICAgICAgICB2YXIgX2l0ZW0gPSB0aGlzLmdldChfaWQyKTtcbiAgICAgICAgICAgICAgaWYgKF9pdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lkcy5oYXMoX2lkMikpIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRJZHMucHVzaChfaWQyKTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRJdGVtcy5wdXNoKHBhcmFtcy5kYXRhW19pMl0pO1xuICAgICAgICAgICAgICAgICAgb2xkSXRlbXMucHVzaChwYXJhbXMub2xkRGF0YVtfaTJdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5faWRzLmFkZChfaWQyKTtcbiAgICAgICAgICAgICAgICAgIGFkZGVkSWRzLnB1c2goX2lkMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pZHMuaGFzKF9pZDIpKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9pZHMuZGVsZXRlKF9pZDIpO1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlZElkcy5wdXNoKF9pZDIpO1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlZEl0ZW1zLnB1c2gocGFyYW1zLm9sZERhdGFbX2kyXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICAvLyBmaWx0ZXIgdGhlIGlkcyBvZiB0aGUgcmVtb3ZlZCBpdGVtc1xuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMCwgX2xlbjMgPSBpZHMubGVuZ3RoOyBfaTMgPCBfbGVuMzsgX2kzKyspIHtcbiAgICAgICAgICAgICAgdmFyIF9pZDMgPSBpZHNbX2kzXTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuX2lkcy5oYXMoX2lkMykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pZHMuZGVsZXRlKF9pZDMpO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRJZHMucHVzaChfaWQzKTtcbiAgICAgICAgICAgICAgICByZW1vdmVkSXRlbXMucHVzaChwYXJhbXMub2xkRGF0YVtfaTNdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZW5ndGggKz0gYWRkZWRJZHMubGVuZ3RoIC0gcmVtb3ZlZElkcy5sZW5ndGg7XG4gICAgICAgIGlmIChhZGRlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwiYWRkXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiBhZGRlZElkc1xuICAgICAgICAgIH0sIHNlbmRlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlZElkcy5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwidXBkYXRlXCIsIHtcbiAgICAgICAgICAgIGl0ZW1zOiB1cGRhdGVkSWRzLFxuICAgICAgICAgICAgb2xkRGF0YTogb2xkSXRlbXMsXG4gICAgICAgICAgICBkYXRhOiB1cGRhdGVkSXRlbXNcbiAgICAgICAgICB9LCBzZW5kZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbW92ZWRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fdHJpZ2dlcihcInJlbW92ZVwiLCB7XG4gICAgICAgICAgICBpdGVtczogcmVtb3ZlZElkcyxcbiAgICAgICAgICAgIG9sZERhdGE6IHJlbW92ZWRJdGVtc1xuICAgICAgICAgIH0sIHNlbmRlcklkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gRGF0YVZpZXc7XG4gIH0oRGF0YVNldFBhcnQpO1xuXG4gIC8qKlxyXG4gICAqIENoZWNrIHRoYXQgZ2l2ZW4gdmFsdWUgaXMgY29tcGF0aWJsZSB3aXRoIFZpcyBEYXRhIFNldCBpbnRlcmZhY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaWRQcm9wIC0gVGhlIGV4cGVjdGVkIHByb3BlcnR5IHRvIGNvbnRhaW4gaXRlbSBpZC5cclxuICAgKiBAcGFyYW0gdiAtIFRoZSB2YWx1ZSB0byBiZSB0ZXN0ZWQuXHJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBhbGwgZXhwZWN0ZWQgdmFsdWVzIGFuZCBtZXRob2RzIG1hdGNoLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXG4gIGZ1bmN0aW9uIGlzRGF0YVNldExpa2UoaWRQcm9wLCB2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2ID09PSBcIm9iamVjdFwiICYmIHYgIT09IG51bGwgJiYgaWRQcm9wID09PSB2LmlkUHJvcCAmJiB0eXBlb2Ygdi5hZGQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5jbGVhciA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmRpc3RpbmN0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eSh2KSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmdldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmdldERhdGFTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5nZXRJZHMgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5sZW5ndGggPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIF9tYXBJbnN0YW5jZVByb3BlcnR5KHYpID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYubWF4ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYubWluID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYub2ZmID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYub24gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5yZW1vdmUgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5zZXRPcHRpb25zID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYuc3RyZWFtID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYudXBkYXRlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYudXBkYXRlT25seSA9PT0gXCJmdW5jdGlvblwiO1xuICB9XG5cbiAgLyoqXHJcbiAgICogQ2hlY2sgdGhhdCBnaXZlbiB2YWx1ZSBpcyBjb21wYXRpYmxlIHdpdGggVmlzIERhdGEgVmlldyBpbnRlcmZhY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gaWRQcm9wIC0gVGhlIGV4cGVjdGVkIHByb3BlcnR5IHRvIGNvbnRhaW4gaXRlbSBpZC5cclxuICAgKiBAcGFyYW0gdiAtIFRoZSB2YWx1ZSB0byBiZSB0ZXN0ZWQuXHJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBhbGwgZXhwZWN0ZWQgdmFsdWVzIGFuZCBtZXRob2RzIG1hdGNoLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICovXG4gIGZ1bmN0aW9uIGlzRGF0YVZpZXdMaWtlKGlkUHJvcCwgdikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9PSBudWxsICYmIGlkUHJvcCA9PT0gdi5pZFByb3AgJiYgdHlwZW9mIF9mb3JFYWNoSW5zdGFuY2VQcm9wZXJ0eSh2KSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmdldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiB2LmdldERhdGFTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5nZXRJZHMgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5sZW5ndGggPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIF9tYXBJbnN0YW5jZVByb3BlcnR5KHYpID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYub2ZmID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIHYub24gPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygdi5zdHJlYW0gPT09IFwiZnVuY3Rpb25cIiAmJiBpc0RhdGFTZXRMaWtlKGlkUHJvcCwgdi5nZXREYXRhU2V0KCkpO1xuICB9XG5cbiAgZXhwb3J0cy5ERUxFVEUgPSBERUxFVEU7XG4gIGV4cG9ydHMuRGF0YVNldCA9IERhdGFTZXQ7XG4gIGV4cG9ydHMuRGF0YVN0cmVhbSA9IERhdGFTdHJlYW07XG4gIGV4cG9ydHMuRGF0YVZpZXcgPSBEYXRhVmlldztcbiAgZXhwb3J0cy5RdWV1ZSA9IFF1ZXVlO1xuICBleHBvcnRzLmNyZWF0ZU5ld0RhdGFQaXBlRnJvbSA9IGNyZWF0ZU5ld0RhdGFQaXBlRnJvbTtcbiAgZXhwb3J0cy5pc0RhdGFTZXRMaWtlID0gaXNEYXRhU2V0TGlrZTtcbiAgZXhwb3J0cy5pc0RhdGFWaWV3TGlrZSA9IGlzRGF0YVZpZXdMaWtlO1xuXG59KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aXMtZGF0YS5qcy5tYXBcbiIsIi8qKlxuICogdmlzLWRhdGFcbiAqIGh0dHA6Ly92aXNqcy5vcmcvXG4gKlxuICogTWFuYWdlIHVuc3RydWN0dXJlZCBkYXRhIHVzaW5nIERhdGFTZXQuIEFkZCwgdXBkYXRlLCBhbmQgcmVtb3ZlIGRhdGEsIGFuZCBsaXN0ZW4gZm9yIGNoYW5nZXMgaW4gdGhlIGRhdGEuXG4gKlxuICogQHZlcnNpb24gNy4xLjlcbiAqIEBkYXRlICAgIDIwMjMtMTEtMjRUMTc6NTM6MzQuMTc5WlxuICpcbiAqIEBjb3B5cmlnaHQgKGMpIDIwMTEtMjAxNyBBbG1lbmRlIEIuViwgaHR0cDovL2FsbWVuZGUuY29tXG4gKiBAY29weXJpZ2h0IChjKSAyMDE3LTIwMTkgdmlzanMgY29udHJpYnV0b3JzLCBodHRwczovL2dpdGh1Yi5jb20vdmlzanNcbiAqXG4gKiBAbGljZW5zZVxuICogdmlzLmpzIGlzIGR1YWwgbGljZW5zZWQgdW5kZXIgYm90aFxuICpcbiAqICAgMS4gVGhlIEFwYWNoZSAyLjAgTGljZW5zZVxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiAgIGFuZFxuICpcbiAqICAgMi4gVGhlIE1JVCBMaWNlbnNlXG4gKiAgICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiB2aXMuanMgbWF5IGJlIGRpc3RyaWJ1dGVkIHVuZGVyIGVpdGhlciBsaWNlbnNlLlxuICovXG4hZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSxlKTplKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikudmlzPXQudmlzfHx7fSl9KHRoaXMsKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciByPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp7fTtmdW5jdGlvbiBuKHQpe3JldHVybiB0JiZ0Ll9fZXNNb2R1bGUmJk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LFwiZGVmYXVsdFwiKT90LmRlZmF1bHQ6dH12YXIgbz17ZXhwb3J0czp7fX0saT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5NYXRoPT09TWF0aCYmdH0sYT1pKFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8aShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHxpKFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8aShcIm9iamVjdFwiPT10eXBlb2YgciYmcil8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fHJ8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSx1PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4hIXQoKX1jYXRjaCh0KXtyZXR1cm4hMH19LHM9IXUoKGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9LmJpbmQoKTtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiB0fHx0Lmhhc093blByb3BlcnR5KFwicHJvdG90eXBlXCIpfSkpLGM9cyxmPUZ1bmN0aW9uLnByb3RvdHlwZSxsPWYuYXBwbHksaD1mLmNhbGwscD1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5hcHBseXx8KGM/aC5iaW5kKGwpOmZ1bmN0aW9uKCl7cmV0dXJuIGguYXBwbHkobCxhcmd1bWVudHMpfSksdj1zLGQ9RnVuY3Rpb24ucHJvdG90eXBlLHk9ZC5jYWxsLGc9diYmZC5iaW5kLmJpbmQoeSx5KSxtPXY/ZzpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4geS5hcHBseSh0LGFyZ3VtZW50cyl9fSxiPW0sdz1iKHt9LnRvU3RyaW5nKSxfPWIoXCJcIi5zbGljZSksVD1mdW5jdGlvbih0KXtyZXR1cm4gXyh3KHQpLDgsLTEpfSxFPVQsTz1tLFM9ZnVuY3Rpb24odCl7aWYoXCJGdW5jdGlvblwiPT09RSh0KSlyZXR1cm4gTyh0KX0seD1cIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJmRvY3VtZW50LmFsbCxrPXthbGw6eCxJU19IVE1MRERBOnZvaWQgMD09PXgmJnZvaWQgMCE9PXh9LGo9ay5hbGwsQT1rLklTX0hUTUxEREE/ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8dD09PWp9OmZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR9LFA9e30sST0hdSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKSxEPXMsTD1GdW5jdGlvbi5wcm90b3R5cGUuY2FsbCxDPUQ/TC5iaW5kKEwpOmZ1bmN0aW9uKCl7cmV0dXJuIEwuYXBwbHkoTCxhcmd1bWVudHMpfSxSPXt9LE09e30ucHJvcGVydHlJc0VudW1lcmFibGUsTj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLEY9TiYmIU0uY2FsbCh7MToyfSwxKTtSLmY9Rj9mdW5jdGlvbih0KXt2YXIgZT1OKHRoaXMsdCk7cmV0dXJuISFlJiZlLmVudW1lcmFibGV9Ok07dmFyIHosVSxxPWZ1bmN0aW9uKHQsZSl7cmV0dXJue2VudW1lcmFibGU6ISgxJnQpLGNvbmZpZ3VyYWJsZTohKDImdCksd3JpdGFibGU6ISg0JnQpLHZhbHVlOmV9fSxXPXUsWT1ULEc9T2JqZWN0LFg9bShcIlwiLnNwbGl0KSxWPVcoKGZ1bmN0aW9uKCl7cmV0dXJuIUcoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKHQpe3JldHVyblwiU3RyaW5nXCI9PT1ZKHQpP1godCxcIlwiKTpHKHQpfTpHLEI9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXR9LEg9QixLPVR5cGVFcnJvcixKPWZ1bmN0aW9uKHQpe2lmKEgodCkpdGhyb3cgbmV3IEsoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiBcIit0KTtyZXR1cm4gdH0sJD1WLFE9SixaPWZ1bmN0aW9uKHQpe3JldHVybiAkKFEodCkpfSx0dD1BLGV0PWsuYWxsLHJ0PWsuSVNfSFRNTEREQT9mdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDp0dCh0KXx8dD09PWV0fTpmdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDp0dCh0KX0sbnQ9e30sb3Q9bnQsaXQ9YSxhdD1BLHV0PWZ1bmN0aW9uKHQpe3JldHVybiBhdCh0KT90OnZvaWQgMH0sc3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP3V0KG90W3RdKXx8dXQoaXRbdF0pOm90W3RdJiZvdFt0XVtlXXx8aXRbdF0mJml0W3RdW2VdfSxjdD1tKHt9LmlzUHJvdG90eXBlT2YpLGZ0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlN0cmluZyhuYXZpZ2F0b3IudXNlckFnZW50KXx8XCJcIixsdD1hLGh0PWZ0LHB0PWx0LnByb2Nlc3MsdnQ9bHQuRGVubyxkdD1wdCYmcHQudmVyc2lvbnN8fHZ0JiZ2dC52ZXJzaW9uLHl0PWR0JiZkdC52ODt5dCYmKFU9KHo9eXQuc3BsaXQoXCIuXCIpKVswXT4wJiZ6WzBdPDQ/MTorKHpbMF0relsxXSkpLCFVJiZodCYmKCEoej1odC5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8elsxXT49NzQpJiYoej1odC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYoVT0relsxXSk7dmFyIGd0PVUsbXQ9Z3QsYnQ9dSx3dD1hLlN0cmluZyxfdD0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFidCgoZnVuY3Rpb24oKXt2YXIgdD1TeW1ib2woXCJzeW1ib2wgZGV0ZWN0aW9uXCIpO3JldHVybiF3dCh0KXx8IShPYmplY3QodClpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmbXQmJm10PDQxfSkpLFR0PV90JiYhU3ltYm9sLnNoYW0mJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3IsRXQ9c3QsT3Q9QSxTdD1jdCx4dD1PYmplY3Qsa3Q9VHQ/ZnVuY3Rpb24odCl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3ZhciBlPUV0KFwiU3ltYm9sXCIpO3JldHVybiBPdChlKSYmU3QoZS5wcm90b3R5cGUseHQodCkpfSxqdD1TdHJpbmcsQXQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBqdCh0KX1jYXRjaCh0KXtyZXR1cm5cIk9iamVjdFwifX0sUHQ9QSxJdD1BdCxEdD1UeXBlRXJyb3IsTHQ9ZnVuY3Rpb24odCl7aWYoUHQodCkpcmV0dXJuIHQ7dGhyb3cgbmV3IER0KEl0KHQpK1wiIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfSxDdD1MdCxSdD1CLE10PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dFtlXTtyZXR1cm4gUnQocik/dm9pZCAwOkN0KHIpfSxOdD1DLEZ0PUEsenQ9cnQsVXQ9VHlwZUVycm9yLHF0PXtleHBvcnRzOnt9fSxXdD1hLFl0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxHdD1mdW5jdGlvbih0LGUpe3RyeXtZdChXdCx0LHt2YWx1ZTplLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pfWNhdGNoKHIpe1d0W3RdPWV9cmV0dXJuIGV9LFh0PVwiX19jb3JlLWpzX3NoYXJlZF9fXCIsVnQ9YVtYdF18fEd0KFh0LHt9KSxCdD1WdDsocXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiBCdFt0XXx8KEJ0W3RdPXZvaWQgMCE9PWU/ZTp7fSl9KShcInZlcnNpb25zXCIsW10pLnB1c2goe3ZlcnNpb246XCIzLjMzLjJcIixtb2RlOlwicHVyZVwiLGNvcHlyaWdodDpcIsKpIDIwMTQtMjAyMyBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KVwiLGxpY2Vuc2U6XCJodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9ibG9iL3YzLjMzLjIvTElDRU5TRVwiLHNvdXJjZTpcImh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzXCJ9KTt2YXIgSHQ9cXQuZXhwb3J0cyxLdD1KLEp0PU9iamVjdCwkdD1mdW5jdGlvbih0KXtyZXR1cm4gSnQoS3QodCkpfSxRdD0kdCxadD1tKHt9Lmhhc093blByb3BlcnR5KSx0ZT1PYmplY3QuaGFzT3dufHxmdW5jdGlvbih0LGUpe3JldHVybiBadChRdCh0KSxlKX0sZWU9bSxyZT0wLG5lPU1hdGgucmFuZG9tKCksb2U9ZWUoMS4udG9TdHJpbmcpLGllPWZ1bmN0aW9uKHQpe3JldHVyblwiU3ltYm9sKFwiKyh2b2lkIDA9PT10P1wiXCI6dCkrXCIpX1wiK29lKCsrcmUrbmUsMzYpfSxhZT1IdCx1ZT10ZSxzZT1pZSxjZT1fdCxmZT1UdCxsZT1hLlN5bWJvbCxoZT1hZShcIndrc1wiKSxwZT1mZT9sZS5mb3J8fGxlOmxlJiZsZS53aXRob3V0U2V0dGVyfHxzZSx2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdWUoaGUsdCl8fChoZVt0XT1jZSYmdWUobGUsdCk/bGVbdF06cGUoXCJTeW1ib2wuXCIrdCkpLGhlW3RdfSxkZT1DLHllPXJ0LGdlPWt0LG1lPU10LGJlPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbjtpZihcInN0cmluZ1wiPT09ZSYmRnQocj10LnRvU3RyaW5nKSYmIXp0KG49TnQocix0KSkpcmV0dXJuIG47aWYoRnQocj10LnZhbHVlT2YpJiYhenQobj1OdChyLHQpKSlyZXR1cm4gbjtpZihcInN0cmluZ1wiIT09ZSYmRnQocj10LnRvU3RyaW5nKSYmIXp0KG49TnQocix0KSkpcmV0dXJuIG47dGhyb3cgbmV3IFV0KFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpfSx3ZT1UeXBlRXJyb3IsX2U9dmUoXCJ0b1ByaW1pdGl2ZVwiKSxUZT1mdW5jdGlvbih0LGUpe2lmKCF5ZSh0KXx8Z2UodCkpcmV0dXJuIHQ7dmFyIHIsbj1tZSh0LF9lKTtpZihuKXtpZih2b2lkIDA9PT1lJiYoZT1cImRlZmF1bHRcIikscj1kZShuLHQsZSksIXllKHIpfHxnZShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgd2UoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9cmV0dXJuIHZvaWQgMD09PWUmJihlPVwibnVtYmVyXCIpLGJlKHQsZSl9LEVlPWt0LE9lPWZ1bmN0aW9uKHQpe3ZhciBlPVRlKHQsXCJzdHJpbmdcIik7cmV0dXJuIEVlKGUpP2U6ZStcIlwifSxTZT1ydCx4ZT1hLmRvY3VtZW50LGtlPVNlKHhlKSYmU2UoeGUuY3JlYXRlRWxlbWVudCksamU9ZnVuY3Rpb24odCl7cmV0dXJuIGtlP3hlLmNyZWF0ZUVsZW1lbnQodCk6e319LEFlPWplLFBlPSFJJiYhdSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9PU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBZShcImRpdlwiKSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKSxJZT1JLERlPUMsTGU9UixDZT1xLFJlPVosTWU9T2UsTmU9dGUsRmU9UGUsemU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtQLmY9SWU/emU6ZnVuY3Rpb24odCxlKXtpZih0PVJlKHQpLGU9TWUoZSksRmUpdHJ5e3JldHVybiB6ZSh0LGUpfWNhdGNoKHQpe31pZihOZSh0LGUpKXJldHVybiBDZSghRGUoTGUuZix0LGUpLHRbZV0pfTt2YXIgVWU9dSxxZT1BLFdlPS8jfFxcLnByb3RvdHlwZVxcLi8sWWU9ZnVuY3Rpb24odCxlKXt2YXIgcj1YZVtHZSh0KV07cmV0dXJuIHI9PT1CZXx8ciE9PVZlJiYocWUoZSk/VWUoZSk6ISFlKX0sR2U9WWUubm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBTdHJpbmcodCkucmVwbGFjZShXZSxcIi5cIikudG9Mb3dlckNhc2UoKX0sWGU9WWUuZGF0YT17fSxWZT1ZZS5OQVRJVkU9XCJOXCIsQmU9WWUuUE9MWUZJTEw9XCJQXCIsSGU9WWUsS2U9THQsSmU9cywkZT1TKFMuYmluZCksUWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gS2UodCksdm9pZCAwPT09ZT90OkplPyRlKHQsZSk6ZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fSxaZT17fSx0cj1JJiZ1KChmdW5jdGlvbigpe3JldHVybiA0MiE9PU9iamVjdC5kZWZpbmVQcm9wZXJ0eSgoZnVuY3Rpb24oKXt9KSxcInByb3RvdHlwZVwiLHt2YWx1ZTo0Mix3cml0YWJsZTohMX0pLnByb3RvdHlwZX0pKSxlcj1ydCxycj1TdHJpbmcsbnI9VHlwZUVycm9yLG9yPWZ1bmN0aW9uKHQpe2lmKGVyKHQpKXJldHVybiB0O3Rocm93IG5ldyBucihycih0KStcIiBpcyBub3QgYW4gb2JqZWN0XCIpfSxpcj1JLGFyPVBlLHVyPXRyLHNyPW9yLGNyPU9lLGZyPVR5cGVFcnJvcixscj1PYmplY3QuZGVmaW5lUHJvcGVydHksaHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixwcj1cImVudW1lcmFibGVcIix2cj1cImNvbmZpZ3VyYWJsZVwiLGRyPVwid3JpdGFibGVcIjtaZS5mPWlyP3VyP2Z1bmN0aW9uKHQsZSxyKXtpZihzcih0KSxlPWNyKGUpLHNyKHIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJlwicHJvdG90eXBlXCI9PT1lJiZcInZhbHVlXCJpbiByJiZkciBpbiByJiYhcltkcl0pe3ZhciBuPWhyKHQsZSk7biYmbltkcl0mJih0W2VdPXIudmFsdWUscj17Y29uZmlndXJhYmxlOnZyIGluIHI/clt2cl06blt2cl0sZW51bWVyYWJsZTpwciBpbiByP3JbcHJdOm5bcHJdLHdyaXRhYmxlOiExfSl9cmV0dXJuIGxyKHQsZSxyKX06bHI6ZnVuY3Rpb24odCxlLHIpe2lmKHNyKHQpLGU9Y3IoZSksc3IociksYXIpdHJ5e3JldHVybiBscih0LGUscil9Y2F0Y2godCl7fWlmKFwiZ2V0XCJpbiByfHxcInNldFwiaW4gcil0aHJvdyBuZXcgZnIoXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm5cInZhbHVlXCJpbiByJiYodFtlXT1yLnZhbHVlKSx0fTt2YXIgeXI9WmUsZ3I9cSxtcj1JP2Z1bmN0aW9uKHQsZSxyKXtyZXR1cm4geXIuZih0LGUsZ3IoMSxyKSl9OmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yLHR9LGJyPWEsd3I9cCxfcj1TLFRyPUEsRXI9UC5mLE9yPUhlLFNyPW50LHhyPVFlLGtyPW1yLGpyPXRlLEFyPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHIsbixvKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChyKTtjYXNlIDI6cmV0dXJuIG5ldyB0KHIsbil9cmV0dXJuIG5ldyB0KHIsbixvKX1yZXR1cm4gd3IodCx0aGlzLGFyZ3VtZW50cyl9O3JldHVybiBlLnByb3RvdHlwZT10LnByb3RvdHlwZSxlfSxQcj1mdW5jdGlvbih0LGUpe3ZhciByLG4sbyxpLGEsdSxzLGMsZixsPXQudGFyZ2V0LGg9dC5nbG9iYWwscD10LnN0YXQsdj10LnByb3RvLGQ9aD9icjpwP2JyW2xdOihicltsXXx8e30pLnByb3RvdHlwZSx5PWg/U3I6U3JbbF18fGtyKFNyLGwse30pW2xdLGc9eS5wcm90b3R5cGU7Zm9yKGkgaW4gZSluPSEocj1PcihoP2k6bCsocD9cIi5cIjpcIiNcIikraSx0LmZvcmNlZCkpJiZkJiZqcihkLGkpLHU9eVtpXSxuJiYocz10LmRvbnRDYWxsR2V0U2V0PyhmPUVyKGQsaSkpJiZmLnZhbHVlOmRbaV0pLGE9biYmcz9zOmVbaV0sbiYmdHlwZW9mIHU9PXR5cGVvZiBhfHwoYz10LmJpbmQmJm4/eHIoYSxicik6dC53cmFwJiZuP0FyKGEpOnYmJlRyKGEpP19yKGEpOmEsKHQuc2hhbXx8YSYmYS5zaGFtfHx1JiZ1LnNoYW0pJiZrcihjLFwic2hhbVwiLCEwKSxrcih5LGksYyksdiYmKGpyKFNyLG89bCtcIlByb3RvdHlwZVwiKXx8a3IoU3Isbyx7fSksa3IoU3Jbb10saSxhKSx0LnJlYWwmJmcmJihyfHwhZ1tpXSkmJmtyKGcsaSxhKSkpfSxJcj1QcixEcj1JLExyPVplLmY7SXIoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOk9iamVjdC5kZWZpbmVQcm9wZXJ0eSE9PUxyLHNoYW06IURyfSx7ZGVmaW5lUHJvcGVydHk6THJ9KTt2YXIgQ3I9bnQuT2JqZWN0LFJyPW8uZXhwb3J0cz1mdW5jdGlvbih0LGUscil7cmV0dXJuIENyLmRlZmluZVByb3BlcnR5KHQsZSxyKX07Q3IuZGVmaW5lUHJvcGVydHkuc2hhbSYmKFJyLnNoYW09ITApO3ZhciBNcj1vLmV4cG9ydHMsTnI9TXIsRnI9bihOciksenI9VCxVcj1BcnJheS5pc0FycmF5fHxmdW5jdGlvbih0KXtyZXR1cm5cIkFycmF5XCI9PT16cih0KX0scXI9TWF0aC5jZWlsLFdyPU1hdGguZmxvb3IsWXI9TWF0aC50cnVuY3x8ZnVuY3Rpb24odCl7dmFyIGU9K3Q7cmV0dXJuKGU+MD9XcjpxcikoZSl9LEdyPWZ1bmN0aW9uKHQpe3ZhciBlPSt0O3JldHVybiBlIT1lfHwwPT09ZT8wOllyKGUpfSxYcj1HcixWcj1NYXRoLm1pbixCcj1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP1ZyKFhyKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LEhyPWZ1bmN0aW9uKHQpe3JldHVybiBCcih0Lmxlbmd0aCl9LEtyPVR5cGVFcnJvcixKcj1mdW5jdGlvbih0KXtpZih0PjkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgS3IoXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7cmV0dXJuIHR9LCRyPU9lLFFyPVplLFpyPXEsdG49ZnVuY3Rpb24odCxlLHIpe3ZhciBuPSRyKGUpO24gaW4gdD9Rci5mKHQsbixacigwLHIpKTp0W25dPXJ9LGVuPXt9O2VuW3ZlKFwidG9TdHJpbmdUYWdcIildPVwielwiO3ZhciBybj1cIltvYmplY3Qgel1cIj09PVN0cmluZyhlbiksbm49cm4sb249QSxhbj1ULHVuPXZlKFwidG9TdHJpbmdUYWdcIiksc249T2JqZWN0LGNuPVwiQXJndW1lbnRzXCI9PT1hbihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLGZuPW5uP2FuOmZ1bmN0aW9uKHQpe3ZhciBlLHIsbjtyZXR1cm4gdm9pZCAwPT09dD9cIlVuZGVmaW5lZFwiOm51bGw9PT10P1wiTnVsbFwiOlwic3RyaW5nXCI9PXR5cGVvZihyPWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiB0W2VdfWNhdGNoKHQpe319KGU9c24odCksdW4pKT9yOmNuP2FuKGUpOlwiT2JqZWN0XCI9PT0obj1hbihlKSkmJm9uKGUuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOm59LGxuPUEsaG49VnQscG49bShGdW5jdGlvbi50b1N0cmluZyk7bG4oaG4uaW5zcGVjdFNvdXJjZSl8fChobi5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiBwbih0KX0pO3ZhciB2bj1obi5pbnNwZWN0U291cmNlLGRuPW0seW49dSxnbj1BLG1uPWZuLGJuPXZuLHduPWZ1bmN0aW9uKCl7fSxfbj1bXSxUbj1zdChcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxFbj0vXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvLE9uPWRuKEVuLmV4ZWMpLFNuPSFFbi50ZXN0KHduKSx4bj1mdW5jdGlvbih0KXtpZighZ24odCkpcmV0dXJuITE7dHJ5e3JldHVybiBUbih3bixfbix0KSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19LGtuPWZ1bmN0aW9uKHQpe2lmKCFnbih0KSlyZXR1cm4hMTtzd2l0Y2gobW4odCkpe2Nhc2VcIkFzeW5jRnVuY3Rpb25cIjpjYXNlXCJHZW5lcmF0b3JGdW5jdGlvblwiOmNhc2VcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIjpyZXR1cm4hMX10cnl7cmV0dXJuIFNufHwhIU9uKEVuLGJuKHQpKX1jYXRjaCh0KXtyZXR1cm4hMH19O2tuLnNoYW09ITA7dmFyIGpuPSFUbnx8eW4oKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIHhuKHhuLmNhbGwpfHwheG4oT2JqZWN0KXx8IXhuKChmdW5jdGlvbigpe3Q9ITB9KSl8fHR9KSk/a246eG4sQW49VXIsUG49am4sSW49cnQsRG49dmUoXCJzcGVjaWVzXCIpLExuPUFycmF5LENuPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBBbih0KSYmKGU9dC5jb25zdHJ1Y3RvciwoUG4oZSkmJihlPT09TG58fEFuKGUucHJvdG90eXBlKSl8fEluKGUpJiZudWxsPT09KGU9ZVtEbl0pKSYmKGU9dm9pZCAwKSksdm9pZCAwPT09ZT9MbjplfSxSbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcoQ24odCkpKDA9PT1lPzA6ZSl9LE1uPXUsTm49Z3QsRm49dmUoXCJzcGVjaWVzXCIpLHpuPWZ1bmN0aW9uKHQpe3JldHVybiBObj49NTF8fCFNbigoZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4oZS5jb25zdHJ1Y3Rvcj17fSlbRm5dPWZ1bmN0aW9uKCl7cmV0dXJue2ZvbzoxfX0sMSE9PWVbdF0oQm9vbGVhbikuZm9vfSkpfSxVbj1Qcixxbj11LFduPVVyLFluPXJ0LEduPSR0LFhuPUhyLFZuPUpyLEJuPXRuLEhuPVJuLEtuPXpuLEpuPWd0LCRuPXZlKFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLFFuPUpuPj01MXx8IXFuKChmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0WyRuXT0hMSx0LmNvbmNhdCgpWzBdIT09dH0pKSxabj1mdW5jdGlvbih0KXtpZighWW4odCkpcmV0dXJuITE7dmFyIGU9dFskbl07cmV0dXJuIHZvaWQgMCE9PWU/ISFlOlduKHQpfTtVbih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxhcml0eToxLGZvcmNlZDohUW58fCFLbihcImNvbmNhdFwiKX0se2NvbmNhdDpmdW5jdGlvbih0KXt2YXIgZSxyLG4sbyxpLGE9R24odGhpcyksdT1IbihhLDApLHM9MDtmb3IoZT0tMSxuPWFyZ3VtZW50cy5sZW5ndGg7ZTxuO2UrKylpZihabihpPS0xPT09ZT9hOmFyZ3VtZW50c1tlXSkpZm9yKG89WG4oaSksVm4ocytvKSxyPTA7cjxvO3IrKyxzKyspciBpbiBpJiZCbih1LHMsaVtyXSk7ZWxzZSBWbihzKzEpLEJuKHUscysrLGkpO3JldHVybiB1Lmxlbmd0aD1zLHV9fSk7dmFyIHRvPWZuLGVvPVN0cmluZyxybz1mdW5jdGlvbih0KXtpZihcIlN5bWJvbFwiPT09dG8odCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IGEgU3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nXCIpO3JldHVybiBlbyh0KX0sbm89e30sb289R3IsaW89TWF0aC5tYXgsYW89TWF0aC5taW4sdW89ZnVuY3Rpb24odCxlKXt2YXIgcj1vbyh0KTtyZXR1cm4gcjwwP2lvKHIrZSwwKTphbyhyLGUpfSxzbz1aLGNvPXVvLGZvPUhyLGxvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsbil7dmFyIG8saT1zbyhlKSxhPWZvKGkpLHU9Y28obixhKTtpZih0JiZyIT1yKXtmb3IoO2E+dTspaWYoKG89aVt1KytdKSE9bylyZXR1cm4hMH1lbHNlIGZvcig7YT51O3UrKylpZigodHx8dSBpbiBpKSYmaVt1XT09PXIpcmV0dXJuIHR8fHV8fDA7cmV0dXJuIXQmJi0xfX0saG89e2luY2x1ZGVzOmxvKCEwKSxpbmRleE9mOmxvKCExKX0scG89e30sdm89dGUseW89Wixnbz1oby5pbmRleE9mLG1vPXBvLGJvPW0oW10ucHVzaCksd289ZnVuY3Rpb24odCxlKXt2YXIgcixuPXlvKHQpLG89MCxpPVtdO2ZvcihyIGluIG4pIXZvKG1vLHIpJiZ2byhuLHIpJiZibyhpLHIpO2Zvcig7ZS5sZW5ndGg+bzspdm8obixyPWVbbysrXSkmJih+Z28oaSxyKXx8Ym8oaSxyKSk7cmV0dXJuIGl9LF9vPVtcImNvbnN0cnVjdG9yXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXSxUbz13byxFbz1fbyxPbz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24odCl7cmV0dXJuIFRvKHQsRW8pfSxTbz1JLHhvPXRyLGtvPVplLGpvPW9yLEFvPVosUG89T287bm8uZj1TbyYmIXhvP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7am8odCk7Zm9yKHZhciByLG49QW8oZSksbz1QbyhlKSxpPW8ubGVuZ3RoLGE9MDtpPmE7KWtvLmYodCxyPW9bYSsrXSxuW3JdKTtyZXR1cm4gdH07dmFyIElvLERvPXN0KFwiZG9jdW1lbnRcIixcImRvY3VtZW50RWxlbWVudFwiKSxMbz1pZSxDbz1IdChcImtleXNcIiksUm89ZnVuY3Rpb24odCl7cmV0dXJuIENvW3RdfHwoQ29bdF09TG8odCkpfSxNbz1vcixObz1ubyxGbz1fbyx6bz1wbyxVbz1Ebyxxbz1qZSxXbz1cInByb3RvdHlwZVwiLFlvPVwic2NyaXB0XCIsR289Um8oXCJJRV9QUk9UT1wiKSxYbz1mdW5jdGlvbigpe30sVm89ZnVuY3Rpb24odCl7cmV0dXJuXCI8XCIrWW8rXCI+XCIrdCtcIjwvXCIrWW8rXCI+XCJ9LEJvPWZ1bmN0aW9uKHQpe3Qud3JpdGUoVm8oXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSxIbz1mdW5jdGlvbigpe3RyeXtJbz1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpfWNhdGNoKHQpe312YXIgdCxlLHI7SG89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmRvbWFpbiYmSW8/Qm8oSW8pOihlPXFvKFwiaWZyYW1lXCIpLHI9XCJqYXZhXCIrWW8rXCI6XCIsZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLFVvLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhyKSwodD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSx0LndyaXRlKFZvKFwiZG9jdW1lbnQuRj1PYmplY3RcIikpLHQuY2xvc2UoKSx0LkYpOkJvKElvKTtmb3IodmFyIG49Rm8ubGVuZ3RoO24tLTspZGVsZXRlIEhvW1dvXVtGb1tuXV07cmV0dXJuIEhvKCl9O3pvW0dvXT0hMDt2YXIgS289T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgcjtyZXR1cm4gbnVsbCE9PXQ/KFhvW1dvXT1Nbyh0KSxyPW5ldyBYbyxYb1tXb109bnVsbCxyW0dvXT10KTpyPUhvKCksdm9pZCAwPT09ZT9yOk5vLmYocixlKX0sSm89e30sJG89d28sUW89X28uY29uY2F0KFwibGVuZ3RoXCIsXCJwcm90b3R5cGVcIik7Sm8uZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24odCl7cmV0dXJuICRvKHQsUW8pfTt2YXIgWm89e30sdGk9dW8sZWk9SHIscmk9dG4sbmk9QXJyYXksb2k9TWF0aC5tYXgsaWk9ZnVuY3Rpb24odCxlLHIpe2Zvcih2YXIgbj1laSh0KSxvPXRpKGUsbiksaT10aSh2b2lkIDA9PT1yP246cixuKSxhPW5pKG9pKGktbywwKSksdT0wO288aTtvKyssdSsrKXJpKGEsdSx0W29dKTtyZXR1cm4gYS5sZW5ndGg9dSxhfSxhaT1ULHVpPVosc2k9Sm8uZixjaT1paSxmaT1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W107Wm8uZj1mdW5jdGlvbih0KXtyZXR1cm4gZmkmJlwiV2luZG93XCI9PT1haSh0KT9mdW5jdGlvbih0KXt0cnl7cmV0dXJuIHNpKHQpfWNhdGNoKHQpe3JldHVybiBjaShmaSl9fSh0KTpzaSh1aSh0KSl9O3ZhciBsaT17fTtsaS5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIGhpPW1yLHBpPWZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBuJiZuLmVudW1lcmFibGU/dFtlXT1yOmhpKHQsZSxyKSx0fSx2aT1aZSxkaT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHZpLmYodCxlLHIpfSx5aT17fSxnaT12ZTt5aS5mPWdpO3ZhciBtaSxiaSx3aSxfaT1udCxUaT10ZSxFaT15aSxPaT1aZS5mLFNpPWZ1bmN0aW9uKHQpe3ZhciBlPV9pLlN5bWJvbHx8KF9pLlN5bWJvbD17fSk7VGkoZSx0KXx8T2koZSx0LHt2YWx1ZTpFaS5mKHQpfSl9LHhpPUMsa2k9c3Qsamk9dmUsQWk9cGksUGk9ZnVuY3Rpb24oKXt2YXIgdD1raShcIlN5bWJvbFwiKSxlPXQmJnQucHJvdG90eXBlLHI9ZSYmZS52YWx1ZU9mLG49amkoXCJ0b1ByaW1pdGl2ZVwiKTtlJiYhZVtuXSYmQWkoZSxuLChmdW5jdGlvbih0KXtyZXR1cm4geGkocix0aGlzKX0pLHthcml0eToxfSl9LElpPWZuLERpPXJuP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IFwiK0lpKHRoaXMpK1wiXVwifSxMaT1ybixDaT1aZS5mLFJpPW1yLE1pPXRlLE5pPURpLEZpPXZlKFwidG9TdHJpbmdUYWdcIiksemk9ZnVuY3Rpb24odCxlLHIsbil7aWYodCl7dmFyIG89cj90OnQucHJvdG90eXBlO01pKG8sRmkpfHxDaShvLEZpLHtjb25maWd1cmFibGU6ITAsdmFsdWU6ZX0pLG4mJiFMaSYmUmkobyxcInRvU3RyaW5nXCIsTmkpfX0sVWk9QSxxaT1hLldlYWtNYXAsV2k9VWkocWkpJiYvbmF0aXZlIGNvZGUvLnRlc3QoU3RyaW5nKHFpKSksWWk9YSxHaT1ydCxYaT1tcixWaT10ZSxCaT1WdCxIaT1SbyxLaT1wbyxKaT1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIsJGk9WWkuVHlwZUVycm9yLFFpPVlpLldlYWtNYXA7aWYoV2l8fEJpLnN0YXRlKXt2YXIgWmk9Qmkuc3RhdGV8fChCaS5zdGF0ZT1uZXcgUWkpO1ppLmdldD1aaS5nZXQsWmkuaGFzPVppLmhhcyxaaS5zZXQ9Wmkuc2V0LG1pPWZ1bmN0aW9uKHQsZSl7aWYoWmkuaGFzKHQpKXRocm93IG5ldyAkaShKaSk7cmV0dXJuIGUuZmFjYWRlPXQsWmkuc2V0KHQsZSksZX0sYmk9ZnVuY3Rpb24odCl7cmV0dXJuIFppLmdldCh0KXx8e319LHdpPWZ1bmN0aW9uKHQpe3JldHVybiBaaS5oYXModCl9fWVsc2V7dmFyIHRhPUhpKFwic3RhdGVcIik7S2lbdGFdPSEwLG1pPWZ1bmN0aW9uKHQsZSl7aWYoVmkodCx0YSkpdGhyb3cgbmV3ICRpKEppKTtyZXR1cm4gZS5mYWNhZGU9dCxYaSh0LHRhLGUpLGV9LGJpPWZ1bmN0aW9uKHQpe3JldHVybiBWaSh0LHRhKT90W3RhXTp7fX0sd2k9ZnVuY3Rpb24odCl7cmV0dXJuIFZpKHQsdGEpfX12YXIgZWE9e3NldDptaSxnZXQ6YmksaGFzOndpLGVuZm9yY2U6ZnVuY3Rpb24odCl7cmV0dXJuIHdpKHQpP2JpKHQpOm1pKHQse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByO2lmKCFHaShlKXx8KHI9YmkoZSkpLnR5cGUhPT10KXRocm93IG5ldyAkaShcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrdCtcIiByZXF1aXJlZFwiKTtyZXR1cm4gcn19fSxyYT1RZSxuYT1WLG9hPSR0LGlhPUhyLGFhPVJuLHVhPW0oW10ucHVzaCksc2E9ZnVuY3Rpb24odCl7dmFyIGU9MT09PXQscj0yPT09dCxuPTM9PT10LG89ND09PXQsaT02PT09dCxhPTc9PT10LHU9NT09PXR8fGk7cmV0dXJuIGZ1bmN0aW9uKHMsYyxmLGwpe2Zvcih2YXIgaCxwLHY9b2EocyksZD1uYSh2KSx5PXJhKGMsZiksZz1pYShkKSxtPTAsYj1sfHxhYSx3PWU/YihzLGcpOnJ8fGE/YihzLDApOnZvaWQgMDtnPm07bSsrKWlmKCh1fHxtIGluIGQpJiYocD15KGg9ZFttXSxtLHYpLHQpKWlmKGUpd1ttXT1wO2Vsc2UgaWYocClzd2l0Y2godCl7Y2FzZSAzOnJldHVybiEwO2Nhc2UgNTpyZXR1cm4gaDtjYXNlIDY6cmV0dXJuIG07Y2FzZSAyOnVhKHcsaCl9ZWxzZSBzd2l0Y2godCl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzp1YSh3LGgpfXJldHVybiBpPy0xOm58fG8/bzp3fX0sY2E9e2ZvckVhY2g6c2EoMCksbWFwOnNhKDEpLGZpbHRlcjpzYSgyKSxzb21lOnNhKDMpLGV2ZXJ5OnNhKDQpLGZpbmQ6c2EoNSksZmluZEluZGV4OnNhKDYpLGZpbHRlclJlamVjdDpzYSg3KX0sZmE9UHIsbGE9YSxoYT1DLHBhPW0sdmE9SSxkYT1fdCx5YT11LGdhPXRlLG1hPWN0LGJhPW9yLHdhPVosX2E9T2UsVGE9cm8sRWE9cSxPYT1LbyxTYT1Pbyx4YT1KbyxrYT1abyxqYT1saSxBYT1QLFBhPVplLElhPW5vLERhPVIsTGE9cGksQ2E9ZGksUmE9SHQsTWE9cG8sTmE9aWUsRmE9dmUsemE9eWksVWE9U2kscWE9UGksV2E9emksWWE9ZWEsR2E9Y2EuZm9yRWFjaCxYYT1SbyhcImhpZGRlblwiKSxWYT1cIlN5bWJvbFwiLEJhPVwicHJvdG90eXBlXCIsSGE9WWEuc2V0LEthPVlhLmdldHRlckZvcihWYSksSmE9T2JqZWN0W0JhXSwkYT1sYS5TeW1ib2wsUWE9JGEmJiRhW0JhXSxaYT1sYS5SYW5nZUVycm9yLHR1PWxhLlR5cGVFcnJvcixldT1sYS5RT2JqZWN0LHJ1PUFhLmYsbnU9UGEuZixvdT1rYS5mLGl1PURhLmYsYXU9cGEoW10ucHVzaCksdXU9UmEoXCJzeW1ib2xzXCIpLHN1PVJhKFwib3Atc3ltYm9sc1wiKSxjdT1SYShcIndrc1wiKSxmdT0hZXV8fCFldVtCYV18fCFldVtCYV0uZmluZENoaWxkLGx1PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1ydShKYSxlKTtuJiZkZWxldGUgSmFbZV0sbnUodCxlLHIpLG4mJnQhPT1KYSYmbnUoSmEsZSxuKX0saHU9dmEmJnlhKChmdW5jdGlvbigpe3JldHVybiA3IT09T2EobnUoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudSh0aGlzLFwiYVwiLHt2YWx1ZTo3fSkuYX19KSkuYX0pKT9sdTpudSxwdT1mdW5jdGlvbih0LGUpe3ZhciByPXV1W3RdPU9hKFFhKTtyZXR1cm4gSGEocix7dHlwZTpWYSx0YWc6dCxkZXNjcmlwdGlvbjplfSksdmF8fChyLmRlc2NyaXB0aW9uPWUpLHJ9LHZ1PWZ1bmN0aW9uKHQsZSxyKXt0PT09SmEmJnZ1KHN1LGUsciksYmEodCk7dmFyIG49X2EoZSk7cmV0dXJuIGJhKHIpLGdhKHV1LG4pPyhyLmVudW1lcmFibGU/KGdhKHQsWGEpJiZ0W1hhXVtuXSYmKHRbWGFdW25dPSExKSxyPU9hKHIse2VudW1lcmFibGU6RWEoMCwhMSl9KSk6KGdhKHQsWGEpfHxudSh0LFhhLEVhKDEse30pKSx0W1hhXVtuXT0hMCksaHUodCxuLHIpKTpudSh0LG4scil9LGR1PWZ1bmN0aW9uKHQsZSl7YmEodCk7dmFyIHI9d2EoZSksbj1TYShyKS5jb25jYXQoYnUocikpO3JldHVybiBHYShuLChmdW5jdGlvbihlKXt2YSYmIWhhKHl1LHIsZSl8fHZ1KHQsZSxyW2VdKX0pKSx0fSx5dT1mdW5jdGlvbih0KXt2YXIgZT1fYSh0KSxyPWhhKGl1LHRoaXMsZSk7cmV0dXJuISh0aGlzPT09SmEmJmdhKHV1LGUpJiYhZ2Eoc3UsZSkpJiYoIShyfHwhZ2EodGhpcyxlKXx8IWdhKHV1LGUpfHxnYSh0aGlzLFhhKSYmdGhpc1tYYV1bZV0pfHxyKX0sZ3U9ZnVuY3Rpb24odCxlKXt2YXIgcj13YSh0KSxuPV9hKGUpO2lmKHIhPT1KYXx8IWdhKHV1LG4pfHxnYShzdSxuKSl7dmFyIG89cnUocixuKTtyZXR1cm4hb3x8IWdhKHV1LG4pfHxnYShyLFhhKSYmcltYYV1bbl18fChvLmVudW1lcmFibGU9ITApLG99fSxtdT1mdW5jdGlvbih0KXt2YXIgZT1vdSh3YSh0KSkscj1bXTtyZXR1cm4gR2EoZSwoZnVuY3Rpb24odCl7Z2EodXUsdCl8fGdhKE1hLHQpfHxhdShyLHQpfSkpLHJ9LGJ1PWZ1bmN0aW9uKHQpe3ZhciBlPXQ9PT1KYSxyPW91KGU/c3U6d2EodCkpLG49W107cmV0dXJuIEdhKHIsKGZ1bmN0aW9uKHQpeyFnYSh1dSx0KXx8ZSYmIWdhKEphLHQpfHxhdShuLHV1W3RdKX0pKSxufTtkYXx8KCRhPWZ1bmN0aW9uKCl7aWYobWEoUWEsdGhpcykpdGhyb3cgbmV3IHR1KFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO3ZhciB0PWFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9UYShhcmd1bWVudHNbMF0pOnZvaWQgMCxlPU5hKHQpLHI9ZnVuY3Rpb24odCl7dmFyIG49dm9pZCAwPT09dGhpcz9sYTp0aGlzO249PT1KYSYmaGEocixzdSx0KSxnYShuLFhhKSYmZ2EobltYYV0sZSkmJihuW1hhXVtlXT0hMSk7dmFyIG89RWEoMSx0KTt0cnl7aHUobixlLG8pfWNhdGNoKHQpe2lmKCEodCBpbnN0YW5jZW9mIFphKSl0aHJvdyB0O2x1KG4sZSxvKX19O3JldHVybiB2YSYmZnUmJmh1KEphLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6cn0pLHB1KGUsdCl9LExhKFFhPSRhW0JhXSxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEthKHRoaXMpLnRhZ30pKSxMYSgkYSxcIndpdGhvdXRTZXR0ZXJcIiwoZnVuY3Rpb24odCl7cmV0dXJuIHB1KE5hKHQpLHQpfSkpLERhLmY9eXUsUGEuZj12dSxJYS5mPWR1LEFhLmY9Z3UseGEuZj1rYS5mPW11LGphLmY9YnUsemEuZj1mdW5jdGlvbih0KXtyZXR1cm4gcHUoRmEodCksdCl9LHZhJiZDYShRYSxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gS2EodGhpcykuZGVzY3JpcHRpb259fSkpLGZhKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsd3JhcDohMCxmb3JjZWQ6IWRhLHNoYW06IWRhfSx7U3ltYm9sOiRhfSksR2EoU2EoY3UpLChmdW5jdGlvbih0KXtVYSh0KX0pKSxmYSh7dGFyZ2V0OlZhLHN0YXQ6ITAsZm9yY2VkOiFkYX0se3VzZVNldHRlcjpmdW5jdGlvbigpe2Z1PSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtmdT0hMX19KSxmYSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IWRhLHNoYW06IXZhfSx7Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/T2EodCk6ZHUoT2EodCksZSl9LGRlZmluZVByb3BlcnR5OnZ1LGRlZmluZVByb3BlcnRpZXM6ZHUsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmd1fSksZmEoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFkYX0se2dldE93blByb3BlcnR5TmFtZXM6bXV9KSxxYSgpLFdhKCRhLFZhKSxNYVtYYV09ITA7dmFyIHd1PV90JiYhIVN5bWJvbC5mb3ImJiEhU3ltYm9sLmtleUZvcixfdT1QcixUdT1zdCxFdT10ZSxPdT1ybyxTdT1IdCx4dT13dSxrdT1TdShcInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnlcIiksanU9U3UoXCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5XCIpO191KHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLGZvcmNlZDoheHV9LHtmb3I6ZnVuY3Rpb24odCl7dmFyIGU9T3UodCk7aWYoRXUoa3UsZSkpcmV0dXJuIGt1W2VdO3ZhciByPVR1KFwiU3ltYm9sXCIpKGUpO3JldHVybiBrdVtlXT1yLGp1W3JdPWUscn19KTt2YXIgQXU9UHIsUHU9dGUsSXU9a3QsRHU9QXQsTHU9d3UsQ3U9SHQoXCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5XCIpO0F1KHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLGZvcmNlZDohTHV9LHtrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIUl1KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoRHUodCkrXCIgaXMgbm90IGEgc3ltYm9sXCIpO2lmKFB1KEN1LHQpKXJldHVybiBDdVt0XX19KTt2YXIgUnU9bShbXS5zbGljZSksTXU9VXIsTnU9QSxGdT1ULHp1PXJvLFV1PW0oW10ucHVzaCkscXU9UHIsV3U9c3QsWXU9cCxHdT1DLFh1PW0sVnU9dSxCdT1BLEh1PWt0LEt1PVJ1LEp1PWZ1bmN0aW9uKHQpe2lmKE51KHQpKXJldHVybiB0O2lmKE11KHQpKXtmb3IodmFyIGU9dC5sZW5ndGgscj1bXSxuPTA7bjxlO24rKyl7dmFyIG89dFtuXTtcInN0cmluZ1wiPT10eXBlb2Ygbz9VdShyLG8pOlwibnVtYmVyXCIhPXR5cGVvZiBvJiZcIk51bWJlclwiIT09RnUobykmJlwiU3RyaW5nXCIhPT1GdShvKXx8VXUocix6dShvKSl9dmFyIGk9ci5sZW5ndGgsYT0hMDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihhKXJldHVybiBhPSExLGU7aWYoTXUodGhpcykpcmV0dXJuIGU7Zm9yKHZhciBuPTA7bjxpO24rKylpZihyW25dPT09dClyZXR1cm4gZX19fSwkdT1fdCxRdT1TdHJpbmcsWnU9V3UoXCJKU09OXCIsXCJzdHJpbmdpZnlcIiksdHM9WHUoLy4vLmV4ZWMpLGVzPVh1KFwiXCIuY2hhckF0KSxycz1YdShcIlwiLmNoYXJDb2RlQXQpLG5zPVh1KFwiXCIucmVwbGFjZSksb3M9WHUoMS4udG9TdHJpbmcpLGlzPS9bXFx1RDgwMC1cXHVERkZGXS9nLGFzPS9eW1xcdUQ4MDAtXFx1REJGRl0kLyx1cz0vXltcXHVEQzAwLVxcdURGRkZdJC8sc3M9ISR1fHxWdSgoZnVuY3Rpb24oKXt2YXIgdD1XdShcIlN5bWJvbFwiKShcInN0cmluZ2lmeSBkZXRlY3Rpb25cIik7cmV0dXJuXCJbbnVsbF1cIiE9PVp1KFt0XSl8fFwie31cIiE9PVp1KHthOnR9KXx8XCJ7fVwiIT09WnUoT2JqZWN0KHQpKX0pKSxjcz1WdSgoZnVuY3Rpb24oKXtyZXR1cm4nXCJcXFxcdWRmMDZcXFxcdWQ4MzRcIichPT1adShcIlxcdWRmMDZcXHVkODM0XCIpfHwnXCJcXFxcdWRlYWRcIichPT1adShcIlxcdWRlYWRcIil9KSksZnM9ZnVuY3Rpb24odCxlKXt2YXIgcj1LdShhcmd1bWVudHMpLG49SnUoZSk7aWYoQnUobil8fHZvaWQgMCE9PXQmJiFIdSh0KSlyZXR1cm4gclsxXT1mdW5jdGlvbih0LGUpe2lmKEJ1KG4pJiYoZT1HdShuLHRoaXMsUXUodCksZSkpLCFIdShlKSlyZXR1cm4gZX0sWXUoWnUsbnVsbCxyKX0sbHM9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWVzKHIsZS0xKSxvPWVzKHIsZSsxKTtyZXR1cm4gdHMoYXMsdCkmJiF0cyh1cyxvKXx8dHModXMsdCkmJiF0cyhhcyxuKT9cIlxcXFx1XCIrb3MocnModCwwKSwxNik6dH07WnUmJnF1KHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxhcml0eTozLGZvcmNlZDpzc3x8Y3N9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLHIpe3ZhciBuPUt1KGFyZ3VtZW50cyksbz1ZdShzcz9mczpadSxudWxsLG4pO3JldHVybiBjcyYmXCJzdHJpbmdcIj09dHlwZW9mIG8/bnMobyxpcyxscyk6b319KTt2YXIgaHM9bGkscHM9JHQ7UHIoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFfdHx8dSgoZnVuY3Rpb24oKXtocy5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKHQpe3ZhciBlPWhzLmY7cmV0dXJuIGU/ZShwcyh0KSk6W119fSksU2koXCJhc3luY0l0ZXJhdG9yXCIpLFNpKFwiaGFzSW5zdGFuY2VcIiksU2koXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksU2koXCJpdGVyYXRvclwiKSxTaShcIm1hdGNoXCIpLFNpKFwibWF0Y2hBbGxcIiksU2koXCJyZXBsYWNlXCIpLFNpKFwic2VhcmNoXCIpLFNpKFwic3BlY2llc1wiKSxTaShcInNwbGl0XCIpO3ZhciB2cz1QaTtTaShcInRvUHJpbWl0aXZlXCIpLHZzKCk7dmFyIGRzPXN0LHlzPXppO1NpKFwidG9TdHJpbmdUYWdcIikseXMoZHMoXCJTeW1ib2xcIiksXCJTeW1ib2xcIiksU2koXCJ1bnNjb3BhYmxlc1wiKSx6aShhLkpTT04sXCJKU09OXCIsITApO3ZhciBncyxtcyxicyx3cz1udC5TeW1ib2wsX3M9e30sVHM9SSxFcz10ZSxPcz1GdW5jdGlvbi5wcm90b3R5cGUsU3M9VHMmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IseHM9RXMoT3MsXCJuYW1lXCIpLGtzPXtFWElTVFM6eHMsUFJPUEVSOnhzJiZcInNvbWV0aGluZ1wiPT09ZnVuY3Rpb24oKXt9Lm5hbWUsQ09ORklHVVJBQkxFOnhzJiYoIVRzfHxUcyYmU3MoT3MsXCJuYW1lXCIpLmNvbmZpZ3VyYWJsZSl9LGpzPSF1KChmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyB0KSE9PXQucHJvdG90eXBlfSkpLEFzPXRlLFBzPUEsSXM9JHQsRHM9anMsTHM9Um8oXCJJRV9QUk9UT1wiKSxDcz1PYmplY3QsUnM9Q3MucHJvdG90eXBlLE1zPURzP0NzLmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3ZhciBlPUlzKHQpO2lmKEFzKGUsTHMpKXJldHVybiBlW0xzXTt2YXIgcj1lLmNvbnN0cnVjdG9yO3JldHVybiBQcyhyKSYmZSBpbnN0YW5jZW9mIHI/ci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIENzP1JzOm51bGx9LE5zPXUsRnM9QSx6cz1ydCxVcz1Lbyxxcz1NcyxXcz1waSxZcz12ZShcIml0ZXJhdG9yXCIpLEdzPSExO1tdLmtleXMmJihcIm5leHRcImluKGJzPVtdLmtleXMoKSk/KG1zPXFzKHFzKGJzKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKGdzPW1zKTpHcz0hMCk7dmFyIFhzPSF6cyhncyl8fE5zKChmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBnc1tZc10uY2FsbCh0KSE9PXR9KSk7RnMoKGdzPVhzP3t9OlVzKGdzKSlbWXNdKXx8V3MoZ3MsWXMsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIFZzPXtJdGVyYXRvclByb3RvdHlwZTpncyxCVUdHWV9TQUZBUklfSVRFUkFUT1JTOkdzfSxCcz1Wcy5JdGVyYXRvclByb3RvdHlwZSxIcz1LbyxLcz1xLEpzPXppLCRzPV9zLFFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFpzPW0sdGM9THQsZWM9QSxyYz1TdHJpbmcsbmM9VHlwZUVycm9yLG9jPWZ1bmN0aW9uKHQsZSxyKXt0cnl7cmV0dXJuIFpzKHRjKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxlKVtyXSkpfWNhdGNoKHQpe319LGljPW9yLGFjPWZ1bmN0aW9uKHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0fHxlYyh0KSlyZXR1cm4gdDt0aHJvdyBuZXcgbmMoXCJDYW4ndCBzZXQgXCIrcmModCkrXCIgYXMgYSBwcm90b3R5cGVcIil9LHVjPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KFwiX19wcm90b19fXCJpbnt9P2Z1bmN0aW9uKCl7dmFyIHQsZT0hMSxyPXt9O3RyeXsodD1vYyhPYmplY3QucHJvdG90eXBlLFwiX19wcm90b19fXCIsXCJzZXRcIikpKHIsW10pLGU9ciBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKHQpe31yZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gaWMociksYWMobiksZT90KHIsbik6ci5fX3Byb3RvX189bixyfX0oKTp2b2lkIDApLHNjPVByLGNjPUMsZmM9a3MsbGM9ZnVuY3Rpb24odCxlLHIsbil7dmFyIG89ZStcIiBJdGVyYXRvclwiO3JldHVybiB0LnByb3RvdHlwZT1IcyhCcyx7bmV4dDpLcygrIW4scil9KSxKcyh0LG8sITEsITApLCRzW29dPVFzLHR9LGhjPU1zLHBjPXppLHZjPXBpLGRjPV9zLHljPVZzLGdjPWZjLlBST1BFUixtYz15Yy5CVUdHWV9TQUZBUklfSVRFUkFUT1JTLGJjPXZlKFwiaXRlcmF0b3JcIiksd2M9XCJrZXlzXCIsX2M9XCJ2YWx1ZXNcIixUYz1cImVudHJpZXNcIixFYz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxPYz1mdW5jdGlvbih0LGUscixuLG8saSxhKXtsYyhyLGUsbik7dmFyIHUscyxjLGY9ZnVuY3Rpb24odCl7aWYodD09PW8mJmQpcmV0dXJuIGQ7aWYoIW1jJiZ0JiZ0IGluIHApcmV0dXJuIHBbdF07c3dpdGNoKHQpe2Nhc2Ugd2M6Y2FzZSBfYzpjYXNlIFRjOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyl9fSxsPWUrXCIgSXRlcmF0b3JcIixoPSExLHA9dC5wcm90b3R5cGUsdj1wW2JjXXx8cFtcIkBAaXRlcmF0b3JcIl18fG8mJnBbb10sZD0hbWMmJnZ8fGYobykseT1cIkFycmF5XCI9PT1lJiZwLmVudHJpZXN8fHY7aWYoeSYmKHU9aGMoeS5jYWxsKG5ldyB0KSkpIT09T2JqZWN0LnByb3RvdHlwZSYmdS5uZXh0JiYocGModSxsLCEwLCEwKSxkY1tsXT1FYyksZ2MmJm89PT1fYyYmdiYmdi5uYW1lIT09X2MmJihoPSEwLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gY2Modix0aGlzKX0pLG8paWYocz17dmFsdWVzOmYoX2MpLGtleXM6aT9kOmYod2MpLGVudHJpZXM6ZihUYyl9LGEpZm9yKGMgaW4gcykobWN8fGh8fCEoYyBpbiBwKSkmJnZjKHAsYyxzW2NdKTtlbHNlIHNjKHt0YXJnZXQ6ZSxwcm90bzohMCxmb3JjZWQ6bWN8fGh9LHMpO3JldHVybiBhJiZwW2JjXSE9PWQmJnZjKHAsYmMsZCx7bmFtZTpvfSksZGNbZV09ZCxzfSxTYz1mdW5jdGlvbih0LGUpe3JldHVybnt2YWx1ZTp0LGRvbmU6ZX19LHhjPVosa2M9X3MsamM9ZWE7WmUuZjt2YXIgQWM9T2MsUGM9U2MsSWM9XCJBcnJheSBJdGVyYXRvclwiLERjPWpjLnNldCxMYz1qYy5nZXR0ZXJGb3IoSWMpO0FjKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24odCxlKXtEYyh0aGlzLHt0eXBlOkljLHRhcmdldDp4Yyh0KSxpbmRleDowLGtpbmQ6ZX0pfSksKGZ1bmN0aW9uKCl7dmFyIHQ9TGModGhpcyksZT10LnRhcmdldCxyPXQuaW5kZXgrKztpZighZXx8cj49ZS5sZW5ndGgpcmV0dXJuIHQudGFyZ2V0PXZvaWQgMCxQYyh2b2lkIDAsITApO3N3aXRjaCh0LmtpbmQpe2Nhc2VcImtleXNcIjpyZXR1cm4gUGMociwhMSk7Y2FzZVwidmFsdWVzXCI6cmV0dXJuIFBjKGVbcl0sITEpfXJldHVybiBQYyhbcixlW3JdXSwhMSl9KSxcInZhbHVlc1wiKSxrYy5Bcmd1bWVudHM9a2MuQXJyYXk7dmFyIENjPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfSxSYz1hLE1jPWZuLE5jPW1yLEZjPV9zLHpjPXZlKFwidG9TdHJpbmdUYWdcIik7Zm9yKHZhciBVYyBpbiBDYyl7dmFyIHFjPVJjW1VjXSxXYz1xYyYmcWMucHJvdG90eXBlO1djJiZNYyhXYykhPT16YyYmTmMoV2MsemMsVWMpLEZjW1VjXT1GYy5BcnJheX12YXIgWWM9d3MsR2M9dmUsWGM9WmUuZixWYz1HYyhcIm1ldGFkYXRhXCIpLEJjPUZ1bmN0aW9uLnByb3RvdHlwZTt2b2lkIDA9PT1CY1tWY10mJlhjKEJjLFZjLHt2YWx1ZTpudWxsfSksU2koXCJhc3luY0Rpc3Bvc2VcIiksU2koXCJkaXNwb3NlXCIpLFNpKFwibWV0YWRhdGFcIik7dmFyIEhjPVljLEtjPW0sSmM9c3QoXCJTeW1ib2xcIiksJGM9SmMua2V5Rm9yLFFjPUtjKEpjLnByb3RvdHlwZS52YWx1ZU9mKSxaYz1KYy5pc1JlZ2lzdGVyZWRTeW1ib2x8fGZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdm9pZCAwIT09JGMoUWModCkpfWNhdGNoKHQpe3JldHVybiExfX07UHIoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITB9LHtpc1JlZ2lzdGVyZWRTeW1ib2w6WmN9KTtmb3IodmFyIHRmPUh0LGVmPXN0LHJmPW0sbmY9a3Qsb2Y9dmUsYWY9ZWYoXCJTeW1ib2xcIiksdWY9YWYuaXNXZWxsS25vd25TeW1ib2wsc2Y9ZWYoXCJPYmplY3RcIixcImdldE93blByb3BlcnR5TmFtZXNcIiksY2Y9cmYoYWYucHJvdG90eXBlLnZhbHVlT2YpLGZmPXRmKFwid2tzXCIpLGxmPTAsaGY9c2YoYWYpLHBmPWhmLmxlbmd0aDtsZjxwZjtsZisrKXRyeXt2YXIgdmY9aGZbbGZdO25mKGFmW3ZmXSkmJm9mKHZmKX1jYXRjaCh0KXt9dmFyIGRmPWZ1bmN0aW9uKHQpe2lmKHVmJiZ1Zih0KSlyZXR1cm4hMDt0cnl7Zm9yKHZhciBlPWNmKHQpLHI9MCxuPXNmKGZmKSxvPW4ubGVuZ3RoO3I8bztyKyspaWYoZmZbbltyXV09PWUpcmV0dXJuITB9Y2F0Y2godCl7fXJldHVybiExfTtQcih7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtpc1dlbGxLbm93blN5bWJvbDpkZn0pLFNpKFwibWF0Y2hlclwiKSxTaShcIm9ic2VydmFibGVcIiksUHIoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsbmFtZTpcImlzUmVnaXN0ZXJlZFN5bWJvbFwifSx7aXNSZWdpc3RlcmVkOlpjfSksUHIoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsbmFtZTpcImlzV2VsbEtub3duU3ltYm9sXCIsZm9yY2VkOiEwfSx7aXNXZWxsS25vd246ZGZ9KSxTaShcIm1ldGFkYXRhS2V5XCIpLFNpKFwicGF0dGVybk1hdGNoXCIpLFNpKFwicmVwbGFjZUFsbFwiKTt2YXIgeWY9SGMsZ2Y9bih5ZiksbWY9bSxiZj1Hcix3Zj1ybyxfZj1KLFRmPW1mKFwiXCIuY2hhckF0KSxFZj1tZihcIlwiLmNoYXJDb2RlQXQpLE9mPW1mKFwiXCIuc2xpY2UpLFNmPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciBuLG8saT13ZihfZihlKSksYT1iZihyKSx1PWkubGVuZ3RoO3JldHVybiBhPDB8fGE+PXU/dD9cIlwiOnZvaWQgMDoobj1FZihpLGEpKTw1NTI5Nnx8bj41NjMxOXx8YSsxPT09dXx8KG89RWYoaSxhKzEpKTw1NjMyMHx8bz41NzM0Mz90P1RmKGksYSk6bjp0P09mKGksYSxhKzIpOm8tNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19LHhmPXtjb2RlQXQ6U2YoITEpLGNoYXJBdDpTZighMCl9LmNoYXJBdCxrZj1ybyxqZj1lYSxBZj1PYyxQZj1TYyxJZj1cIlN0cmluZyBJdGVyYXRvclwiLERmPWpmLnNldCxMZj1qZi5nZXR0ZXJGb3IoSWYpO0FmKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbih0KXtEZih0aGlzLHt0eXBlOklmLHN0cmluZzprZih0KSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgdCxlPUxmKHRoaXMpLHI9ZS5zdHJpbmcsbj1lLmluZGV4O3JldHVybiBuPj1yLmxlbmd0aD9QZih2b2lkIDAsITApOih0PXhmKHIsbiksZS5pbmRleCs9dC5sZW5ndGgsUGYodCwhMSkpfSkpO3ZhciBDZj15aS5mKFwiaXRlcmF0b3JcIiksUmY9Q2YsTWY9bihSZik7ZnVuY3Rpb24gTmYodCl7cmV0dXJuIE5mPVwiZnVuY3Rpb25cIj09dHlwZW9mIGdmJiZcInN5bWJvbFwiPT10eXBlb2YgTWY/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZ2YmJnQuY29uc3RydWN0b3I9PT1nZiYmdCE9PWdmLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSxOZih0KX12YXIgRmY9bih5aS5mKFwidG9QcmltaXRpdmVcIikpO2Z1bmN0aW9uIHpmKHQpe3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJvYmplY3RcIiE9PU5mKHQpfHxudWxsPT09dClyZXR1cm4gdDt2YXIgcj10W0ZmXTtpZih2b2lkIDAhPT1yKXt2YXIgbj1yLmNhbGwodCxlfHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9PU5mKG4pKXJldHVybiBuO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PWU/U3RyaW5nOk51bWJlcikodCl9KHQsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PU5mKGUpP2U6U3RyaW5nKGUpfWZ1bmN0aW9uIFVmKHQsZSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLEZyKHQsemYobi5rZXkpLG4pfX1mdW5jdGlvbiBxZih0LGUscil7cmV0dXJuIGUmJlVmKHQucHJvdG90eXBlLGUpLHImJlVmKHQsciksRnIodCxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHR9ZnVuY3Rpb24gV2YodCxlLHIpe3JldHVybihlPXpmKGUpKWluIHQ/RnIodCxlLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1yLHR9dmFyIFlmPW0sR2Y9THQsWGY9cnQsVmY9dGUsQmY9UnUsSGY9cyxLZj1GdW5jdGlvbixKZj1ZZihbXS5jb25jYXQpLCRmPVlmKFtdLmpvaW4pLFFmPXt9LFpmPUhmP0tmLmJpbmQ6ZnVuY3Rpb24odCl7dmFyIGU9R2YodGhpcykscj1lLnByb3RvdHlwZSxuPUJmKGFyZ3VtZW50cywxKSxvPWZ1bmN0aW9uKCl7dmFyIHI9SmYobixCZihhcmd1bWVudHMpKTtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG8/ZnVuY3Rpb24odCxlLHIpe2lmKCFWZihRZixlKSl7Zm9yKHZhciBuPVtdLG89MDtvPGU7bysrKW5bb109XCJhW1wiK28rXCJdXCI7UWZbZV09S2YoXCJDLGFcIixcInJldHVybiBuZXcgQyhcIiskZihuLFwiLFwiKStcIilcIil9cmV0dXJuIFFmW2VdKHQscil9KGUsci5sZW5ndGgscik6ZS5hcHBseSh0LHIpfTtyZXR1cm4gWGYocikmJihvLnByb3RvdHlwZT1yKSxvfSx0bD1aZjtQcih7dGFyZ2V0OlwiRnVuY3Rpb25cIixwcm90bzohMCxmb3JjZWQ6RnVuY3Rpb24uYmluZCE9PXRsfSx7YmluZDp0bH0pO3ZhciBlbD1hLHJsPW50LG5sPWZ1bmN0aW9uKHQsZSl7dmFyIHI9cmxbdCtcIlByb3RvdHlwZVwiXSxuPXImJnJbZV07aWYobilyZXR1cm4gbjt2YXIgbz1lbFt0XSxpPW8mJm8ucHJvdG90eXBlO3JldHVybiBpJiZpW2VdfSxvbD1ubChcIkZ1bmN0aW9uXCIsXCJiaW5kXCIpLGlsPWN0LGFsPW9sLHVsPUZ1bmN0aW9uLnByb3RvdHlwZSxzbD1mdW5jdGlvbih0KXt2YXIgZT10LmJpbmQ7cmV0dXJuIHQ9PT11bHx8aWwodWwsdCkmJmU9PT11bC5iaW5kP2FsOmV9LGNsPW4oc2wpLGZsPUx0LGxsPSR0LGhsPVYscGw9SHIsdmw9VHlwZUVycm9yLGRsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIsbixvKXtmbChyKTt2YXIgaT1sbChlKSxhPWhsKGkpLHU9cGwoaSkscz10P3UtMTowLGM9dD8tMToxO2lmKG48Milmb3IoOzspe2lmKHMgaW4gYSl7bz1hW3NdLHMrPWM7YnJlYWt9aWYocys9Yyx0P3M8MDp1PD1zKXRocm93IG5ldyB2bChcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIil9Zm9yKDt0P3M+PTA6dT5zO3MrPWMpcyBpbiBhJiYobz1yKG8sYVtzXSxzLGkpKTtyZXR1cm4gb319LHlsPXtsZWZ0OmRsKCExKSxyaWdodDpkbCghMCl9LGdsPXUsbWw9ZnVuY3Rpb24odCxlKXt2YXIgcj1bXVt0XTtyZXR1cm4hIXImJmdsKChmdW5jdGlvbigpe3IuY2FsbChudWxsLGV8fGZ1bmN0aW9uKCl7cmV0dXJuIDF9LDEpfSkpfSxibD1cInByb2Nlc3NcIj09PVQoYS5wcm9jZXNzKSx3bD15bC5sZWZ0O1ByKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYmwmJmd0Pjc5JiZndDw4M3x8IW1sKFwicmVkdWNlXCIpfSx7cmVkdWNlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuIHdsKHRoaXMsdCxlLGU+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgX2w9bmwoXCJBcnJheVwiLFwicmVkdWNlXCIpLFRsPWN0LEVsPV9sLE9sPUFycmF5LnByb3RvdHlwZSxTbD1uKChmdW5jdGlvbih0KXt2YXIgZT10LnJlZHVjZTtyZXR1cm4gdD09PU9sfHxUbChPbCx0KSYmZT09PU9sLnJlZHVjZT9FbDplfSkpLHhsPWNhLmZpbHRlcjtQcih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IXpuKFwiZmlsdGVyXCIpfSx7ZmlsdGVyOmZ1bmN0aW9uKHQpe3JldHVybiB4bCh0aGlzLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBrbD1ubChcIkFycmF5XCIsXCJmaWx0ZXJcIiksamw9Y3QsQWw9a2wsUGw9QXJyYXkucHJvdG90eXBlLElsPW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmlsdGVyO3JldHVybiB0PT09UGx8fGpsKFBsLHQpJiZlPT09UGwuZmlsdGVyP0FsOmV9KSksRGw9Y2EubWFwO1ByKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohem4oXCJtYXBcIil9LHttYXA6ZnVuY3Rpb24odCl7cmV0dXJuIERsKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIExsPW5sKFwiQXJyYXlcIixcIm1hcFwiKSxDbD1jdCxSbD1MbCxNbD1BcnJheS5wcm90b3R5cGUsTmw9bigoZnVuY3Rpb24odCl7dmFyIGU9dC5tYXA7cmV0dXJuIHQ9PT1NbHx8Q2woTWwsdCkmJmU9PT1NbC5tYXA/Umw6ZX0pKSxGbD1Vcix6bD1IcixVbD1KcixxbD1RZSxXbD1mdW5jdGlvbih0LGUscixuLG8saSxhLHUpe2Zvcih2YXIgcyxjLGY9byxsPTAsaD0hIWEmJnFsKGEsdSk7bDxuOylsIGluIHImJihzPWg/aChyW2xdLGwsZSk6cltsXSxpPjAmJkZsKHMpPyhjPXpsKHMpLGY9V2wodCxlLHMsYyxmLGktMSktMSk6KFVsKGYrMSksdFtmXT1zKSxmKyspLGwrKztyZXR1cm4gZn0sWWw9V2wsR2w9THQsWGw9JHQsVmw9SHIsQmw9Um47UHIoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtmbGF0TWFwOmZ1bmN0aW9uKHQpe3ZhciBlLHI9WGwodGhpcyksbj1WbChyKTtyZXR1cm4gR2wodCksKGU9QmwociwwKSkubGVuZ3RoPVlsKGUscixyLG4sMCwxLHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApLGV9fSk7dmFyIEhsPW5sKFwiQXJyYXlcIixcImZsYXRNYXBcIiksS2w9Y3QsSmw9SGwsJGw9QXJyYXkucHJvdG90eXBlLFFsPW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuZmxhdE1hcDtyZXR1cm4gdD09PSRsfHxLbCgkbCx0KSYmZT09PSRsLmZsYXRNYXA/Smw6ZX0pKTt2YXIgWmw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHIsbixvKXt2YXIgaSxhLHU7ZSh0aGlzLHQpLFdmKHRoaXMsXCJfbGlzdGVuZXJzXCIse2FkZDpjbChpPXRoaXMuX2FkZCkuY2FsbChpLHRoaXMpLHJlbW92ZTpjbChhPXRoaXMuX3JlbW92ZSkuY2FsbChhLHRoaXMpLHVwZGF0ZTpjbCh1PXRoaXMuX3VwZGF0ZSkuY2FsbCh1LHRoaXMpfSksdGhpcy5fc291cmNlPXIsdGhpcy5fdHJhbnNmb3JtZXJzPW4sdGhpcy5fdGFyZ2V0PW99cmV0dXJuIHFmKHQsW3trZXk6XCJhbGxcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXQudXBkYXRlKHRoaXMuX3RyYW5zZm9ybUl0ZW1zKHRoaXMuX3NvdXJjZS5nZXQoKSkpLHRoaXN9fSx7a2V5Olwic3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2Uub24oXCJhZGRcIix0aGlzLl9saXN0ZW5lcnMuYWRkKSx0aGlzLl9zb3VyY2Uub24oXCJyZW1vdmVcIix0aGlzLl9saXN0ZW5lcnMucmVtb3ZlKSx0aGlzLl9zb3VyY2Uub24oXCJ1cGRhdGVcIix0aGlzLl9saXN0ZW5lcnMudXBkYXRlKSx0aGlzfX0se2tleTpcInN0b3BcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2Uub2ZmKFwiYWRkXCIsdGhpcy5fbGlzdGVuZXJzLmFkZCksdGhpcy5fc291cmNlLm9mZihcInJlbW92ZVwiLHRoaXMuX2xpc3RlbmVycy5yZW1vdmUpLHRoaXMuX3NvdXJjZS5vZmYoXCJ1cGRhdGVcIix0aGlzLl9saXN0ZW5lcnMudXBkYXRlKSx0aGlzfX0se2tleTpcIl90cmFuc2Zvcm1JdGVtc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBTbChlPXRoaXMuX3RyYW5zZm9ybWVycykuY2FsbChlLChmdW5jdGlvbih0LGUpe3JldHVybiBlKHQpfSksdCl9fSx7a2V5OlwiX2FkZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7bnVsbCE9ZSYmdGhpcy5fdGFyZ2V0LmFkZCh0aGlzLl90cmFuc2Zvcm1JdGVtcyh0aGlzLl9zb3VyY2UuZ2V0KGUuaXRlbXMpKSl9fSx7a2V5OlwiX3VwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7bnVsbCE9ZSYmdGhpcy5fdGFyZ2V0LnVwZGF0ZSh0aGlzLl90cmFuc2Zvcm1JdGVtcyh0aGlzLl9zb3VyY2UuZ2V0KGUuaXRlbXMpKSl9fSx7a2V5OlwiX3JlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7bnVsbCE9ZSYmdGhpcy5fdGFyZ2V0LnJlbW92ZSh0aGlzLl90cmFuc2Zvcm1JdGVtcyhlLm9sZERhdGEpKX19XSksdH0oKSx0aD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocil7ZSh0aGlzLHQpLFdmKHRoaXMsXCJfdHJhbnNmb3JtZXJzXCIsW10pLHRoaXMuX3NvdXJjZT1yfXJldHVybiBxZih0LFt7a2V5OlwiZmlsdGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVycy5wdXNoKChmdW5jdGlvbihlKXtyZXR1cm4gSWwoZSkuY2FsbChlLHQpfSkpLHRoaXN9fSx7a2V5OlwibWFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybWVycy5wdXNoKChmdW5jdGlvbihlKXtyZXR1cm4gTmwoZSkuY2FsbChlLHQpfSkpLHRoaXN9fSx7a2V5OlwiZmxhdE1hcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1lcnMucHVzaCgoZnVuY3Rpb24oZSl7cmV0dXJuIFFsKGUpLmNhbGwoZSx0KX0pKSx0aGlzfX0se2tleTpcInRvXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBabCh0aGlzLl9zb3VyY2UsdGhpcy5fdHJhbnNmb3JtZXJzLHQpfX1dKSx0fSgpLGVoPUMscmg9b3Isbmg9TXQsb2g9ZnVuY3Rpb24odCxlLHIpe3ZhciBuLG87cmgodCk7dHJ5e2lmKCEobj1uaCh0LFwicmV0dXJuXCIpKSl7aWYoXCJ0aHJvd1wiPT09ZSl0aHJvdyByO3JldHVybiByfW49ZWgobix0KX1jYXRjaCh0KXtvPSEwLG49dH1pZihcInRocm93XCI9PT1lKXRocm93IHI7aWYobyl0aHJvdyBuO3JldHVybiByaChuKSxyfSxpaD1vcixhaD1vaCx1aD1fcyxzaD12ZShcIml0ZXJhdG9yXCIpLGNoPUFycmF5LnByb3RvdHlwZSxmaD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmKHVoLkFycmF5PT09dHx8Y2hbc2hdPT09dCl9LGxoPWZuLGhoPU10LHBoPUIsdmg9X3MsZGg9dmUoXCJpdGVyYXRvclwiKSx5aD1mdW5jdGlvbih0KXtpZighcGgodCkpcmV0dXJuIGhoKHQsZGgpfHxoaCh0LFwiQEBpdGVyYXRvclwiKXx8dmhbbGgodCldfSxnaD1DLG1oPUx0LGJoPW9yLHdoPUF0LF9oPXloLFRoPVR5cGVFcnJvcixFaD1mdW5jdGlvbih0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg8Mj9faCh0KTplO2lmKG1oKHIpKXJldHVybiBiaChnaChyLHQpKTt0aHJvdyBuZXcgVGgod2godCkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfSxPaD1RZSxTaD1DLHhoPSR0LGtoPWZ1bmN0aW9uKHQsZSxyLG4pe3RyeXtyZXR1cm4gbj9lKGloKHIpWzBdLHJbMV0pOmUocil9Y2F0Y2goZSl7YWgodCxcInRocm93XCIsZSl9fSxqaD1maCxBaD1qbixQaD1IcixJaD10bixEaD1FaCxMaD15aCxDaD1BcnJheSxSaD12ZShcIml0ZXJhdG9yXCIpLE1oPSExO3RyeXt2YXIgTmg9MCxGaD17bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOiEhTmgrK319LHJldHVybjpmdW5jdGlvbigpe01oPSEwfX07RmhbUmhdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oRmgsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaCh0KXt9dmFyIHpoPWZ1bmN0aW9uKHQsZSl7dHJ5e2lmKCFlJiYhTWgpcmV0dXJuITF9Y2F0Y2godCl7cmV0dXJuITF9dmFyIHI9ITE7dHJ5e3ZhciBuPXt9O25bUmhdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpyPSEwfX19fSx0KG4pfWNhdGNoKHQpe31yZXR1cm4gcn0sVWg9ZnVuY3Rpb24odCl7dmFyIGU9eGgodCkscj1BaCh0aGlzKSxuPWFyZ3VtZW50cy5sZW5ndGgsbz1uPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpPXZvaWQgMCE9PW87aSYmKG89T2gobyxuPjI/YXJndW1lbnRzWzJdOnZvaWQgMCkpO3ZhciBhLHUscyxjLGYsbCxoPUxoKGUpLHA9MDtpZighaHx8dGhpcz09PUNoJiZqaChoKSlmb3IoYT1QaChlKSx1PXI/bmV3IHRoaXMoYSk6Q2goYSk7YT5wO3ArKylsPWk/byhlW3BdLHApOmVbcF0sSWgodSxwLGwpO2Vsc2UgZm9yKGY9KGM9RGgoZSxoKSkubmV4dCx1PXI/bmV3IHRoaXM6W107IShzPVNoKGYsYykpLmRvbmU7cCsrKWw9aT9raChjLG8sW3MudmFsdWUscF0sITApOnMudmFsdWUsSWgodSxwLGwpO3JldHVybiB1Lmxlbmd0aD1wLHV9O1ByKHt0YXJnZXQ6XCJBcnJheVwiLHN0YXQ6ITAsZm9yY2VkOiF6aCgoZnVuY3Rpb24odCl7QXJyYXkuZnJvbSh0KX0pKX0se2Zyb206VWh9KTt2YXIgcWg9bnQuQXJyYXkuZnJvbSxXaD1uKHFoKSxZaD15aCxHaD1uKFloKSxYaD1uKFloKTtQcih7dGFyZ2V0OlwiQXJyYXlcIixzdGF0OiEwfSx7aXNBcnJheTpVcn0pO3ZhciBWaD1udC5BcnJheS5pc0FycmF5LEJoPW4oVmgpO3ZhciBIaD1JLEtoPVVyLEpoPVR5cGVFcnJvciwkaD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFFoPUhoJiYhZnVuY3Rpb24oKXtpZih2b2lkIDAhPT10aGlzKXJldHVybiEwO3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoW10sXCJsZW5ndGhcIix7d3JpdGFibGU6ITF9KS5sZW5ndGg9MX1jYXRjaCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFR5cGVFcnJvcn19KCk/ZnVuY3Rpb24odCxlKXtpZihLaCh0KSYmISRoKHQsXCJsZW5ndGhcIikud3JpdGFibGUpdGhyb3cgbmV3IEpoKFwiQ2Fubm90IHNldCByZWFkIG9ubHkgLmxlbmd0aFwiKTtyZXR1cm4gdC5sZW5ndGg9ZX06ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5sZW5ndGg9ZX0sWmg9JHQsdHA9SHIsZXA9UWgscnA9SnI7UHIoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsYXJpdHk6MSxmb3JjZWQ6dSgoZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDk2NzI5NyE9PVtdLnB1c2guY2FsbCh7bGVuZ3RoOjQyOTQ5NjcyOTZ9LDEpfSkpfHwhZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFtdLFwibGVuZ3RoXCIse3dyaXRhYmxlOiExfSkucHVzaCgpfWNhdGNoKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVHlwZUVycm9yfX0oKX0se3B1c2g6ZnVuY3Rpb24odCl7dmFyIGU9WmgodGhpcykscj10cChlKSxuPWFyZ3VtZW50cy5sZW5ndGg7cnAocituKTtmb3IodmFyIG89MDtvPG47bysrKWVbcl09YXJndW1lbnRzW29dLHIrKztyZXR1cm4gZXAoZSxyKSxyfX0pO3ZhciBucD1ubChcIkFycmF5XCIsXCJwdXNoXCIpLG9wPWN0LGlwPW5wLGFwPUFycmF5LnByb3RvdHlwZSx1cD1mdW5jdGlvbih0KXt2YXIgZT10LnB1c2g7cmV0dXJuIHQ9PT1hcHx8b3AoYXAsdCkmJmU9PT1hcC5wdXNoP2lwOmV9LHNwPW4odXApO3ZhciBjcD1QcixmcD1VcixscD1qbixocD1ydCxwcD11byx2cD1IcixkcD1aLHlwPXRuLGdwPXZlLG1wPVJ1LGJwPXpuKFwic2xpY2VcIiksd3A9Z3AoXCJzcGVjaWVzXCIpLF9wPUFycmF5LFRwPU1hdGgubWF4O2NwKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohYnB9LHtzbGljZTpmdW5jdGlvbih0LGUpe3ZhciByLG4sbyxpPWRwKHRoaXMpLGE9dnAoaSksdT1wcCh0LGEpLHM9cHAodm9pZCAwPT09ZT9hOmUsYSk7aWYoZnAoaSkmJihyPWkuY29uc3RydWN0b3IsKGxwKHIpJiYocj09PV9wfHxmcChyLnByb3RvdHlwZSkpfHxocChyKSYmbnVsbD09PShyPXJbd3BdKSkmJihyPXZvaWQgMCkscj09PV9wfHx2b2lkIDA9PT1yKSlyZXR1cm4gbXAoaSx1LHMpO2ZvcihuPW5ldyh2b2lkIDA9PT1yP19wOnIpKFRwKHMtdSwwKSksbz0wO3U8czt1KyssbysrKXUgaW4gaSYmeXAobixvLGlbdV0pO3JldHVybiBuLmxlbmd0aD1vLG59fSk7dmFyIEVwPW5sKFwiQXJyYXlcIixcInNsaWNlXCIpLE9wPWN0LFNwPUVwLHhwPUFycmF5LnByb3RvdHlwZSxrcD1mdW5jdGlvbih0KXt2YXIgZT10LnNsaWNlO3JldHVybiB0PT09eHB8fE9wKHhwLHQpJiZlPT09eHAuc2xpY2U/U3A6ZX0sanA9a3AsQXA9bihqcCksUHA9bihxaCk7ZnVuY3Rpb24gSXAodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheShlKTtyPGU7cisrKW5bcl09dFtyXTtyZXR1cm4gbn1mdW5jdGlvbiBEcCh0LGUpe3ZhciByO2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBJcCh0LGUpO3ZhciBuPUFwKHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKHIsOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP1BwKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9JcCh0LGUpOnZvaWQgMH19ZnVuY3Rpb24gTHAodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQmgodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciByPW51bGw9PXQ/bnVsbDp2b2lkIDAhPT1nZiYmR2godCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPXIpe3ZhciBuLG8saSxhLHU9W10scz0hMCxjPSExO3RyeXtpZihpPShyPXIuY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KHIpIT09cilyZXR1cm47cz0hMX1lbHNlIGZvcig7IShzPShuPWkuY2FsbChyKSkuZG9uZSkmJihzcCh1KS5jYWxsKHUsbi52YWx1ZSksdS5sZW5ndGghPT1lKTtzPSEwKTt9Y2F0Y2godCl7Yz0hMCxvPXR9ZmluYWxseXt0cnl7aWYoIXMmJm51bGwhPXIucmV0dXJuJiYoYT1yLnJldHVybigpLE9iamVjdChhKSE9PWEpKXJldHVybn1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIHV9fSh0LGUpfHxEcCh0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gQ3AodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEJoKHQpKXJldHVybiBJcCh0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PWdmJiZudWxsIT1HaCh0KXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIFBwKHQpfSh0KXx8RHAodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9dmFyIFJwPW4oWWMpLE1wPW5sKFwiQXJyYXlcIixcImNvbmNhdFwiKSxOcD1jdCxGcD1NcCx6cD1BcnJheS5wcm90b3R5cGUsVXA9bigoZnVuY3Rpb24odCl7dmFyIGU9dC5jb25jYXQ7cmV0dXJuIHQ9PT16cHx8TnAoenAsdCkmJmU9PT16cC5jb25jYXQ/RnA6ZX0pKSxxcD1uKGtwKSxXcD1zdCxZcD1KbyxHcD1saSxYcD1vcixWcD1tKFtdLmNvbmNhdCksQnA9V3AoXCJSZWZsZWN0XCIsXCJvd25LZXlzXCIpfHxmdW5jdGlvbih0KXt2YXIgZT1ZcC5mKFhwKHQpKSxyPUdwLmY7cmV0dXJuIHI/VnAoZSxyKHQpKTplfTtQcih7dGFyZ2V0OlwiUmVmbGVjdFwiLHN0YXQ6ITB9LHtvd25LZXlzOkJwfSk7dmFyIEhwPW4obnQuUmVmbGVjdC5vd25LZXlzKSxLcD1uKFZoKSxKcD0kdCwkcD1PbztQcih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6dSgoZnVuY3Rpb24oKXskcCgxKX0pKX0se2tleXM6ZnVuY3Rpb24odCl7cmV0dXJuICRwKEpwKHQpKX19KTt2YXIgUXA9bihudC5PYmplY3Qua2V5cyksWnA9Y2EuZm9yRWFjaCx0dj1tbChcImZvckVhY2hcIik/W10uZm9yRWFjaDpmdW5jdGlvbih0KXtyZXR1cm4gWnAodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX07UHIoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOltdLmZvckVhY2ghPT10dn0se2ZvckVhY2g6dHZ9KTt2YXIgZXY9bmwoXCJBcnJheVwiLFwiZm9yRWFjaFwiKSxydj1mbixudj10ZSxvdj1jdCxpdj1ldixhdj1BcnJheS5wcm90b3R5cGUsdXY9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0sc3Y9ZnVuY3Rpb24odCl7dmFyIGU9dC5mb3JFYWNoO3JldHVybiB0PT09YXZ8fG92KGF2LHQpJiZlPT09YXYuZm9yRWFjaHx8bnYodXYscnYodCkpP2l2OmV9LGN2PW4oc3YpLGZ2PVByLGx2PVVyLGh2PW0oW10ucmV2ZXJzZSkscHY9WzEsMl07ZnYoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOlN0cmluZyhwdik9PT1TdHJpbmcocHYucmV2ZXJzZSgpKX0se3JldmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gbHYodGhpcykmJih0aGlzLmxlbmd0aD10aGlzLmxlbmd0aCksaHYodGhpcyl9fSk7dmFyIHZ2PW5sKFwiQXJyYXlcIixcInJldmVyc2VcIiksZHY9Y3QseXY9dnYsZ3Y9QXJyYXkucHJvdG90eXBlLG12PWZ1bmN0aW9uKHQpe3ZhciBlPXQucmV2ZXJzZTtyZXR1cm4gdD09PWd2fHxkdihndix0KSYmZT09PWd2LnJldmVyc2U/eXY6ZX0sYnY9bihtdiksd3Y9QXQsX3Y9VHlwZUVycm9yLFR2PWZ1bmN0aW9uKHQsZSl7aWYoIWRlbGV0ZSB0W2VdKXRocm93IG5ldyBfdihcIkNhbm5vdCBkZWxldGUgcHJvcGVydHkgXCIrd3YoZSkrXCIgb2YgXCIrd3YodCkpfSxFdj1QcixPdj0kdCxTdj11byx4dj1Hcixrdj1Icixqdj1RaCxBdj1KcixQdj1SbixJdj10bixEdj1UdixMdj16bihcInNwbGljZVwiKSxDdj1NYXRoLm1heCxSdj1NYXRoLm1pbjtFdih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IUx2fSx7c3BsaWNlOmZ1bmN0aW9uKHQsZSl7dmFyIHIsbixvLGksYSx1LHM9T3YodGhpcyksYz1rdihzKSxmPVN2KHQsYyksbD1hcmd1bWVudHMubGVuZ3RoO2ZvcigwPT09bD9yPW49MDoxPT09bD8ocj0wLG49Yy1mKToocj1sLTIsbj1SdihDdih4dihlKSwwKSxjLWYpKSxBdihjK3Itbiksbz1QdihzLG4pLGk9MDtpPG47aSsrKShhPWYraSlpbiBzJiZJdihvLGksc1thXSk7aWYoby5sZW5ndGg9bixyPG4pe2ZvcihpPWY7aTxjLW47aSsrKXU9aStyLChhPWkrbilpbiBzP3NbdV09c1thXTpEdihzLHUpO2ZvcihpPWM7aT5jLW4rcjtpLS0pRHYocyxpLTEpfWVsc2UgaWYocj5uKWZvcihpPWMtbjtpPmY7aS0tKXU9aStyLTEsKGE9aStuLTEpaW4gcz9zW3VdPXNbYV06RHYocyx1KTtmb3IoaT0wO2k8cjtpKyspc1tpK2ZdPWFyZ3VtZW50c1tpKzJdO3JldHVybiBqdihzLGMtbityKSxvfX0pO3ZhciBNdj1ubChcIkFycmF5XCIsXCJzcGxpY2VcIiksTnY9Y3QsRnY9TXYsenY9QXJyYXkucHJvdG90eXBlLFV2PW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaWNlO3JldHVybiB0PT09enZ8fE52KHp2LHQpJiZlPT09enYuc3BsaWNlP0Z2OmV9KSkscXY9SSxXdj1tLFl2PUMsR3Y9dSxYdj1PbyxWdj1saSxCdj1SLEh2PSR0LEt2PVYsSnY9T2JqZWN0LmFzc2lnbiwkdj1PYmplY3QuZGVmaW5lUHJvcGVydHksUXY9V3YoW10uY29uY2F0KSxadj0hSnZ8fEd2KChmdW5jdGlvbigpe2lmKHF2JiYxIT09SnYoe2I6MX0sSnYoJHYoe30sXCJhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7JHYodGhpcyxcImJcIix7dmFsdWU6MyxlbnVtZXJhYmxlOiExfSl9fSkse2I6Mn0pKS5iKXJldHVybiEwO3ZhciB0PXt9LGU9e30scj1TeW1ib2woXCJhc3NpZ24gZGV0ZWN0aW9uXCIpLG49XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W3JdPTcsbi5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdPXR9KSksNyE9PUp2KHt9LHQpW3JdfHxYdihKdih7fSxlKSkuam9pbihcIlwiKSE9PW59KSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9SHYodCksbj1hcmd1bWVudHMubGVuZ3RoLG89MSxpPVZ2LmYsYT1Cdi5mO24+bzspZm9yKHZhciB1LHM9S3YoYXJndW1lbnRzW28rK10pLGM9aT9RdihYdihzKSxpKHMpKTpYdihzKSxmPWMubGVuZ3RoLGw9MDtmPmw7KXU9Y1tsKytdLHF2JiYhWXYoYSxzLHUpfHwoclt1XT1zW3VdKTtyZXR1cm4gcn06SnYsdGQ9WnY7UHIoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsYXJpdHk6Mixmb3JjZWQ6T2JqZWN0LmFzc2lnbiE9PXRkfSx7YXNzaWduOnRkfSk7dmFyIGVkPW4obnQuT2JqZWN0LmFzc2lnbikscmQ9JHQsbmQ9TXMsb2Q9anM7UHIoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOnUoKGZ1bmN0aW9uKCl7bmQoMSl9KSksc2hhbTohb2R9LHtnZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gbmQocmQodCkpfX0pO3ZhciBpZD1udC5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7UHIoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsc2hhbTohSX0se2NyZWF0ZTpLb30pO3ZhciBhZD1udC5PYmplY3QsdWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYWQuY3JlYXRlKHQsZSl9LHNkPW4odWQpLGNkPW50LGZkPXA7Y2QuSlNPTnx8KGNkLkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3ZhciBsZD1mdW5jdGlvbih0LGUscil7cmV0dXJuIGZkKGNkLkpTT04uc3RyaW5naWZ5LG51bGwsYXJndW1lbnRzKX0saGQ9bihsZCkscGQ9XCJmdW5jdGlvblwiPT10eXBlb2YgQnVuJiZCdW4mJlwic3RyaW5nXCI9PXR5cGVvZiBCdW4udmVyc2lvbix2ZD1UeXBlRXJyb3IsZGQ9ZnVuY3Rpb24odCxlKXtpZih0PGUpdGhyb3cgbmV3IHZkKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7cmV0dXJuIHR9LHlkPWEsZ2Q9cCxtZD1BLGJkPXBkLHdkPWZ0LF9kPVJ1LFRkPWRkLEVkPXlkLkZ1bmN0aW9uLE9kPS9NU0lFIC5cXC4vLnRlc3Qod2QpfHxiZCYmZnVuY3Rpb24oKXt2YXIgdD15ZC5CdW4udmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIHQubGVuZ3RoPDN8fFwiMFwiPT09dFswXSYmKHRbMV08M3x8XCIzXCI9PT10WzFdJiZcIjBcIj09PXRbMl0pfSgpLFNkPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZT8yOjE7cmV0dXJuIE9kP2Z1bmN0aW9uKG4sbyl7dmFyIGk9VGQoYXJndW1lbnRzLmxlbmd0aCwxKT5yLGE9bWQobik/bjpFZChuKSx1PWk/X2QoYXJndW1lbnRzLHIpOltdLHM9aT9mdW5jdGlvbigpe2dkKGEsdGhpcyx1KX06YTtyZXR1cm4gZT90KHMsbyk6dChzKX06dH0seGQ9UHIsa2Q9YSxqZD1TZChrZC5zZXRJbnRlcnZhbCwhMCk7eGQoe2dsb2JhbDohMCxiaW5kOiEwLGZvcmNlZDprZC5zZXRJbnRlcnZhbCE9PWpkfSx7c2V0SW50ZXJ2YWw6amR9KTt2YXIgQWQ9UHIsUGQ9YSxJZD1TZChQZC5zZXRUaW1lb3V0LCEwKTtBZCh7Z2xvYmFsOiEwLGJpbmQ6ITAsZm9yY2VkOlBkLnNldFRpbWVvdXQhPT1JZH0se3NldFRpbWVvdXQ6SWR9KTt2YXIgRGQ9bihudC5zZXRUaW1lb3V0KSxMZD17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7aWYodClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5hc3NpZ24odCxlLnByb3RvdHlwZSksdC5fY2FsbGJhY2tzPW5ldyBNYXAsdH0odCk7dGhpcy5fY2FsbGJhY2tzPW5ldyBNYXB9ZS5wcm90b3R5cGUub249ZnVuY3Rpb24odCxlKXtjb25zdCByPXRoaXMuX2NhbGxiYWNrcy5nZXQodCk/P1tdO3JldHVybiByLnB1c2goZSksdGhpcy5fY2FsbGJhY2tzLnNldCh0LHIpLHRoaXN9LGUucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtjb25zdCByPSguLi5uKT0+e3RoaXMub2ZmKHQsciksZS5hcHBseSh0aGlzLG4pfTtyZXR1cm4gci5mbj1lLHRoaXMub24odCxyKSx0aGlzfSxlLnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10JiZ2b2lkIDA9PT1lKXJldHVybiB0aGlzLl9jYWxsYmFja3MuY2xlYXIoKSx0aGlzO2lmKHZvaWQgMD09PWUpcmV0dXJuIHRoaXMuX2NhbGxiYWNrcy5kZWxldGUodCksdGhpcztjb25zdCByPXRoaXMuX2NhbGxiYWNrcy5nZXQodCk7aWYocil7Zm9yKGNvbnN0W3Qsbl1vZiByLmVudHJpZXMoKSlpZihuPT09ZXx8bi5mbj09PWUpe3Iuc3BsaWNlKHQsMSk7YnJlYWt9MD09PXIubGVuZ3RoP3RoaXMuX2NhbGxiYWNrcy5kZWxldGUodCk6dGhpcy5fY2FsbGJhY2tzLnNldCh0LHIpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQsLi4uZSl7Y29uc3Qgcj10aGlzLl9jYWxsYmFja3MuZ2V0KHQpO2lmKHIpe2NvbnN0IHQ9Wy4uLnJdO2Zvcihjb25zdCByIG9mIHQpci5hcHBseSh0aGlzLGUpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcy5nZXQodCk/P1tdfSxlLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJuIHRoaXMubGlzdGVuZXJzKHQpLmxlbmd0aDtsZXQgZT0wO2Zvcihjb25zdCB0IG9mIHRoaXMuX2NhbGxiYWNrcy52YWx1ZXMoKSllKz10Lmxlbmd0aDtyZXR1cm4gZX0sZS5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpc3RlbmVyQ291bnQodCk+MH0sZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1lLnByb3RvdHlwZS5vbixlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1lLnByb3RvdHlwZS5vZmYsZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1lLnByb3RvdHlwZS5vZmYsZS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWUucHJvdG90eXBlLm9mZix0LmV4cG9ydHM9ZX0oTGQpO3ZhciBDZCxSZD1uKExkLmV4cG9ydHMpO1xuLyohIEhhbW1lci5KUyAtIHYyLjAuMTctcmMgLSAyMDE5LTEyLTE2XG4gICAqIGh0dHA6Ly9uYXZlci5naXRodWIuaW8vZWdqc1xuICAgKlxuICAgKiBGb3JrZWQgQnkgTmF2ZXIgZWdqc1xuICAgKiBDb3B5cmlnaHQgKGMpIGhhbW1lcmpzXG4gICAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAqL1xuZnVuY3Rpb24gTWQoKXtyZXR1cm4gTWQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYodFtuXT1yW25dKX1yZXR1cm4gdH0sTWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIE5kKHQsZSl7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCx0Ll9fcHJvdG9fXz1lfWZ1bmN0aW9uIEZkKHQpe2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiB0fUNkPVwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5hc3NpZ24/ZnVuY3Rpb24odCl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO2Zvcih2YXIgZT1PYmplY3QodCkscj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBuPWFyZ3VtZW50c1tyXTtpZihudWxsIT1uKWZvcih2YXIgbyBpbiBuKW4uaGFzT3duUHJvcGVydHkobykmJihlW29dPW5bb10pfXJldHVybiBlfTpPYmplY3QuYXNzaWduO3ZhciB6ZCxVZD1DZCxxZD1bXCJcIixcIndlYmtpdFwiLFwiTW96XCIsXCJNU1wiLFwibXNcIixcIm9cIl0sV2Q9XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P3tzdHlsZTp7fX06ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxZZD1NYXRoLnJvdW5kLEdkPU1hdGguYWJzLFhkPURhdGUubm93O2Z1bmN0aW9uIFZkKHQsZSl7Zm9yKHZhciByLG4sbz1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxpPTA7aTxxZC5sZW5ndGg7KXtpZigobj0ocj1xZFtpXSk/citvOmUpaW4gdClyZXR1cm4gbjtpKyt9fXpkPVwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/e306d2luZG93O3ZhciBCZD1WZChXZC5zdHlsZSxcInRvdWNoQWN0aW9uXCIpLEhkPXZvaWQgMCE9PUJkO3ZhciBLZD1cImNvbXB1dGVcIixKZD1cImF1dG9cIiwkZD1cIm1hbmlwdWxhdGlvblwiLFFkPVwibm9uZVwiLFpkPVwicGFuLXhcIix0eT1cInBhbi15XCIsZXk9ZnVuY3Rpb24oKXtpZighSGQpcmV0dXJuITE7dmFyIHQ9e30sZT16ZC5DU1MmJnpkLkNTUy5zdXBwb3J0cztyZXR1cm5bXCJhdXRvXCIsXCJtYW5pcHVsYXRpb25cIixcInBhbi15XCIsXCJwYW4teFwiLFwicGFuLXggcGFuLXlcIixcIm5vbmVcIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7cmV0dXJuIHRbcl09IWV8fHpkLkNTUy5zdXBwb3J0cyhcInRvdWNoLWFjdGlvblwiLHIpfSkpLHR9KCkscnk9XCJvbnRvdWNoc3RhcnRcImluIHpkLG55PXZvaWQgMCE9PVZkKHpkLFwiUG9pbnRlckV2ZW50XCIpLG95PXJ5JiYvbW9iaWxlfHRhYmxldHxpcChhZHxob25lfG9kKXxhbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxpeT1cInRvdWNoXCIsYXk9XCJtb3VzZVwiLHV5PTI1LHN5PTEsY3k9NCxmeT04LGx5PTEsaHk9MixweT00LHZ5PTgsZHk9MTYseXk9aHl8cHksZ3k9dnl8ZHksbXk9eXl8Z3ksYnk9W1wieFwiLFwieVwiXSx3eT1bXCJjbGllbnRYXCIsXCJjbGllbnRZXCJdO2Z1bmN0aW9uIF95KHQsZSxyKXt2YXIgbjtpZih0KWlmKHQuZm9yRWFjaCl0LmZvckVhY2goZSxyKTtlbHNlIGlmKHZvaWQgMCE9PXQubGVuZ3RoKWZvcihuPTA7bjx0Lmxlbmd0aDspZS5jYWxsKHIsdFtuXSxuLHQpLG4rKztlbHNlIGZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5jYWxsKHIsdFtuXSxuLHQpfWZ1bmN0aW9uIFR5KHQsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90LmFwcGx5KGUmJmVbMF18fHZvaWQgMCxlKTp0fWZ1bmN0aW9uIEV5KHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlKT4tMX12YXIgT3k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5tYW5hZ2VyPXQsdGhpcy5zZXQoZSl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQpe3Q9PT1LZCYmKHQ9dGhpcy5jb21wdXRlKCkpLEhkJiZ0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSYmZXlbdF0mJih0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZVtCZF09dCksdGhpcy5hY3Rpb25zPXQudG9Mb3dlckNhc2UoKS50cmltKCl9LGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5zZXQodGhpcy5tYW5hZ2VyLm9wdGlvbnMudG91Y2hBY3Rpb24pfSxlLmNvbXB1dGU9ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gX3kodGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLChmdW5jdGlvbihlKXtUeShlLm9wdGlvbnMuZW5hYmxlLFtlXSkmJih0PXQuY29uY2F0KGUuZ2V0VG91Y2hBY3Rpb24oKSkpfSkpLGZ1bmN0aW9uKHQpe2lmKEV5KHQsUWQpKXJldHVybiBRZDt2YXIgZT1FeSh0LFpkKSxyPUV5KHQsdHkpO3JldHVybiBlJiZyP1FkOmV8fHI/ZT9aZDp0eTpFeSh0LCRkKT8kZDpKZH0odC5qb2luKFwiIFwiKSl9LGUucHJldmVudERlZmF1bHRzPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3JjRXZlbnQscj10Lm9mZnNldERpcmVjdGlvbjtpZih0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpZS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIG49dGhpcy5hY3Rpb25zLG89RXkobixRZCkmJiFleVtRZF0saT1FeShuLHR5KSYmIWV5W3R5XSxhPUV5KG4sWmQpJiYhZXlbWmRdO2lmKG8pe3ZhciB1PTE9PT10LnBvaW50ZXJzLmxlbmd0aCxzPXQuZGlzdGFuY2U8MixjPXQuZGVsdGFUaW1lPDI1MDtpZih1JiZzJiZjKXJldHVybn1pZighYXx8IWkpcmV0dXJuIG98fGkmJnImeXl8fGEmJnImZ3k/dGhpcy5wcmV2ZW50U3JjKGUpOnZvaWQgMH19LGUucHJldmVudFNyYz1mdW5jdGlvbih0KXt0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQ9ITAsdC5wcmV2ZW50RGVmYXVsdCgpfSx0fSgpO2Z1bmN0aW9uIFN5KHQsZSl7Zm9yKDt0Oyl7aWYodD09PWUpcmV0dXJuITA7dD10LnBhcmVudE5vZGV9cmV0dXJuITF9ZnVuY3Rpb24geHkodCl7dmFyIGU9dC5sZW5ndGg7aWYoMT09PWUpcmV0dXJue3g6WWQodFswXS5jbGllbnRYKSx5OllkKHRbMF0uY2xpZW50WSl9O2Zvcih2YXIgcj0wLG49MCxvPTA7bzxlOylyKz10W29dLmNsaWVudFgsbis9dFtvXS5jbGllbnRZLG8rKztyZXR1cm57eDpZZChyL2UpLHk6WWQobi9lKX19ZnVuY3Rpb24ga3kodCl7Zm9yKHZhciBlPVtdLHI9MDtyPHQucG9pbnRlcnMubGVuZ3RoOyllW3JdPXtjbGllbnRYOllkKHQucG9pbnRlcnNbcl0uY2xpZW50WCksY2xpZW50WTpZZCh0LnBvaW50ZXJzW3JdLmNsaWVudFkpfSxyKys7cmV0dXJue3RpbWVTdGFtcDpYZCgpLHBvaW50ZXJzOmUsY2VudGVyOnh5KGUpLGRlbHRhWDp0LmRlbHRhWCxkZWx0YVk6dC5kZWx0YVl9fWZ1bmN0aW9uIGp5KHQsZSxyKXtyfHwocj1ieSk7dmFyIG49ZVtyWzBdXS10W3JbMF1dLG89ZVtyWzFdXS10W3JbMV1dO3JldHVybiBNYXRoLnNxcnQobipuK28qbyl9ZnVuY3Rpb24gQXkodCxlLHIpe3J8fChyPWJ5KTt2YXIgbj1lW3JbMF1dLXRbclswXV0sbz1lW3JbMV1dLXRbclsxXV07cmV0dXJuIDE4MCpNYXRoLmF0YW4yKG8sbikvTWF0aC5QSX1mdW5jdGlvbiBQeSh0LGUpe3JldHVybiB0PT09ZT9seTpHZCh0KT49R2QoZSk/dDwwP2h5OnB5OmU8MD92eTpkeX1mdW5jdGlvbiBJeSh0LGUscil7cmV0dXJue3g6ZS90fHwwLHk6ci90fHwwfX1mdW5jdGlvbiBEeSh0LGUpe3ZhciByPXQuc2Vzc2lvbixuPWUucG9pbnRlcnMsbz1uLmxlbmd0aDtyLmZpcnN0SW5wdXR8fChyLmZpcnN0SW5wdXQ9a3koZSkpLG8+MSYmIXIuZmlyc3RNdWx0aXBsZT9yLmZpcnN0TXVsdGlwbGU9a3koZSk6MT09PW8mJihyLmZpcnN0TXVsdGlwbGU9ITEpO3ZhciBpPXIuZmlyc3RJbnB1dCxhPXIuZmlyc3RNdWx0aXBsZSx1PWE/YS5jZW50ZXI6aS5jZW50ZXIscz1lLmNlbnRlcj14eShuKTtlLnRpbWVTdGFtcD1YZCgpLGUuZGVsdGFUaW1lPWUudGltZVN0YW1wLWkudGltZVN0YW1wLGUuYW5nbGU9QXkodSxzKSxlLmRpc3RhbmNlPWp5KHUscyksZnVuY3Rpb24odCxlKXt2YXIgcj1lLmNlbnRlcixuPXQub2Zmc2V0RGVsdGF8fHt9LG89dC5wcmV2RGVsdGF8fHt9LGk9dC5wcmV2SW5wdXR8fHt9O2UuZXZlbnRUeXBlIT09c3kmJmkuZXZlbnRUeXBlIT09Y3l8fChvPXQucHJldkRlbHRhPXt4OmkuZGVsdGFYfHwwLHk6aS5kZWx0YVl8fDB9LG49dC5vZmZzZXREZWx0YT17eDpyLngseTpyLnl9KSxlLmRlbHRhWD1vLngrKHIueC1uLngpLGUuZGVsdGFZPW8ueSsoci55LW4ueSl9KHIsZSksZS5vZmZzZXREaXJlY3Rpb249UHkoZS5kZWx0YVgsZS5kZWx0YVkpO3ZhciBjLGYsbD1JeShlLmRlbHRhVGltZSxlLmRlbHRhWCxlLmRlbHRhWSk7ZS5vdmVyYWxsVmVsb2NpdHlYPWwueCxlLm92ZXJhbGxWZWxvY2l0eVk9bC55LGUub3ZlcmFsbFZlbG9jaXR5PUdkKGwueCk+R2QobC55KT9sLng6bC55LGUuc2NhbGU9YT8oYz1hLnBvaW50ZXJzLGp5KChmPW4pWzBdLGZbMV0sd3kpL2p5KGNbMF0sY1sxXSx3eSkpOjEsZS5yb3RhdGlvbj1hP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIEF5KGVbMV0sZVswXSx3eSkrQXkodFsxXSx0WzBdLHd5KX0oYS5wb2ludGVycyxuKTowLGUubWF4UG9pbnRlcnM9ci5wcmV2SW5wdXQ/ZS5wb2ludGVycy5sZW5ndGg+ci5wcmV2SW5wdXQubWF4UG9pbnRlcnM/ZS5wb2ludGVycy5sZW5ndGg6ci5wcmV2SW5wdXQubWF4UG9pbnRlcnM6ZS5wb2ludGVycy5sZW5ndGgsZnVuY3Rpb24odCxlKXt2YXIgcixuLG8saSxhPXQubGFzdEludGVydmFsfHxlLHU9ZS50aW1lU3RhbXAtYS50aW1lU3RhbXA7aWYoZS5ldmVudFR5cGUhPT1meSYmKHU+dXl8fHZvaWQgMD09PWEudmVsb2NpdHkpKXt2YXIgcz1lLmRlbHRhWC1hLmRlbHRhWCxjPWUuZGVsdGFZLWEuZGVsdGFZLGY9SXkodSxzLGMpO249Zi54LG89Zi55LHI9R2QoZi54KT5HZChmLnkpP2YueDpmLnksaT1QeShzLGMpLHQubGFzdEludGVydmFsPWV9ZWxzZSByPWEudmVsb2NpdHksbj1hLnZlbG9jaXR5WCxvPWEudmVsb2NpdHlZLGk9YS5kaXJlY3Rpb247ZS52ZWxvY2l0eT1yLGUudmVsb2NpdHlYPW4sZS52ZWxvY2l0eVk9byxlLmRpcmVjdGlvbj1pfShyLGUpO3ZhciBoLHA9dC5lbGVtZW50LHY9ZS5zcmNFdmVudDtTeShoPXYuY29tcG9zZWRQYXRoP3YuY29tcG9zZWRQYXRoKClbMF06di5wYXRoP3YucGF0aFswXTp2LnRhcmdldCxwKSYmKHA9aCksZS50YXJnZXQ9cH1mdW5jdGlvbiBMeSh0LGUscil7dmFyIG49ci5wb2ludGVycy5sZW5ndGgsbz1yLmNoYW5nZWRQb2ludGVycy5sZW5ndGgsaT1lJnN5JiZuLW89PTAsYT1lJihjeXxmeSkmJm4tbz09MDtyLmlzRmlyc3Q9ISFpLHIuaXNGaW5hbD0hIWEsaSYmKHQuc2Vzc2lvbj17fSksci5ldmVudFR5cGU9ZSxEeSh0LHIpLHQuZW1pdChcImhhbW1lci5pbnB1dFwiLHIpLHQucmVjb2duaXplKHIpLHQuc2Vzc2lvbi5wcmV2SW5wdXQ9cn1mdW5jdGlvbiBDeSh0KXtyZXR1cm4gdC50cmltKCkuc3BsaXQoL1xccysvZyl9ZnVuY3Rpb24gUnkodCxlLHIpe195KEN5KGUpLChmdW5jdGlvbihlKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxyLCExKX0pKX1mdW5jdGlvbiBNeSh0LGUscil7X3koQ3koZSksKGZ1bmN0aW9uKGUpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHIsITEpfSkpfWZ1bmN0aW9uIE55KHQpe3ZhciBlPXQub3duZXJEb2N1bWVudHx8dDtyZXR1cm4gZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3d8fHdpbmRvd312YXIgRnk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIHI9dGhpczt0aGlzLm1hbmFnZXI9dCx0aGlzLmNhbGxiYWNrPWUsdGhpcy5lbGVtZW50PXQuZWxlbWVudCx0aGlzLnRhcmdldD10Lm9wdGlvbnMuaW5wdXRUYXJnZXQsdGhpcy5kb21IYW5kbGVyPWZ1bmN0aW9uKGUpe1R5KHQub3B0aW9ucy5lbmFibGUsW3RdKSYmci5oYW5kbGVyKGUpfSx0aGlzLmluaXQoKX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5oYW5kbGVyPWZ1bmN0aW9uKCl7fSxlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmV2RWwmJlJ5KHRoaXMuZWxlbWVudCx0aGlzLmV2RWwsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2VGFyZ2V0JiZSeSh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmUnkoTnkodGhpcy5lbGVtZW50KSx0aGlzLmV2V2luLHRoaXMuZG9tSGFuZGxlcil9LGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZXZFbCYmTXkodGhpcy5lbGVtZW50LHRoaXMuZXZFbCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZUYXJnZXQmJk15KHRoaXMudGFyZ2V0LHRoaXMuZXZUYXJnZXQsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2V2luJiZNeShOeSh0aGlzLmVsZW1lbnQpLHRoaXMuZXZXaW4sdGhpcy5kb21IYW5kbGVyKX0sdH0oKTtmdW5jdGlvbiB6eSh0LGUscil7aWYodC5pbmRleE9mJiYhcilyZXR1cm4gdC5pbmRleE9mKGUpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KXtpZihyJiZ0W25dW3JdPT1lfHwhciYmdFtuXT09PWUpcmV0dXJuIG47bisrfXJldHVybi0xfXZhciBVeT17cG9pbnRlcmRvd246c3kscG9pbnRlcm1vdmU6Mixwb2ludGVydXA6Y3kscG9pbnRlcmNhbmNlbDpmeSxwb2ludGVyb3V0OmZ5fSxxeT17MjppeSwzOlwicGVuXCIsNDpheSw1Olwia2luZWN0XCJ9LFd5PVwicG9pbnRlcmRvd25cIixZeT1cInBvaW50ZXJtb3ZlIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsXCI7emQuTVNQb2ludGVyRXZlbnQmJiF6ZC5Qb2ludGVyRXZlbnQmJihXeT1cIk1TUG9pbnRlckRvd25cIixZeT1cIk1TUG9pbnRlck1vdmUgTVNQb2ludGVyVXAgTVNQb2ludGVyQ2FuY2VsXCIpO3ZhciBHeT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHIsbj1lLnByb3RvdHlwZTtyZXR1cm4gbi5ldkVsPVd5LG4uZXZXaW49WXksKHI9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXMpLnN0b3JlPXIubWFuYWdlci5zZXNzaW9uLnBvaW50ZXJFdmVudHM9W10scn1yZXR1cm4gTmQoZSx0KSxlLnByb3RvdHlwZS5oYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RvcmUscj0hMSxuPXQudHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoXCJtc1wiLFwiXCIpLG89VXlbbl0saT1xeVt0LnBvaW50ZXJUeXBlXXx8dC5wb2ludGVyVHlwZSxhPWk9PT1peSx1PXp5KGUsdC5wb2ludGVySWQsXCJwb2ludGVySWRcIik7byZzeSYmKDA9PT10LmJ1dHRvbnx8YSk/dTwwJiYoZS5wdXNoKHQpLHU9ZS5sZW5ndGgtMSk6byYoY3l8ZnkpJiYocj0hMCksdTwwfHwoZVt1XT10LHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLG8se3BvaW50ZXJzOmUsY2hhbmdlZFBvaW50ZXJzOlt0XSxwb2ludGVyVHlwZTppLHNyY0V2ZW50OnR9KSxyJiZlLnNwbGljZSh1LDEpKX0sZX0oRnkpO2Z1bmN0aW9uIFh5KHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDApfWZ1bmN0aW9uIFZ5KHQsZSxyKXtmb3IodmFyIG49W10sbz1bXSxpPTA7aTx0Lmxlbmd0aDspe3ZhciBhPWU/dFtpXVtlXTp0W2ldO3p5KG8sYSk8MCYmbi5wdXNoKHRbaV0pLG9baV09YSxpKyt9cmV0dXJuIHImJihuPWU/bi5zb3J0KChmdW5jdGlvbih0LHIpe3JldHVybiB0W2VdPnJbZV19KSk6bi5zb3J0KCkpLG59dmFyIEJ5PXt0b3VjaHN0YXJ0OnN5LHRvdWNobW92ZToyLHRvdWNoZW5kOmN5LHRvdWNoY2FuY2VsOmZ5fSxIeT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIHI7cmV0dXJuIGUucHJvdG90eXBlLmV2VGFyZ2V0PVwidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWxcIiwocj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcykudGFyZ2V0SWRzPXt9LHJ9cmV0dXJuIE5kKGUsdCksZS5wcm90b3R5cGUuaGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT1CeVt0LnR5cGVdLHI9S3kuY2FsbCh0aGlzLHQsZSk7ciYmdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6clswXSxjaGFuZ2VkUG9pbnRlcnM6clsxXSxwb2ludGVyVHlwZTppeSxzcmNFdmVudDp0fSl9LGV9KEZ5KTtmdW5jdGlvbiBLeSh0LGUpe3ZhciByLG4sbz1YeSh0LnRvdWNoZXMpLGk9dGhpcy50YXJnZXRJZHM7aWYoZSYoMnxzeSkmJjE9PT1vLmxlbmd0aClyZXR1cm4gaVtvWzBdLmlkZW50aWZpZXJdPSEwLFtvLG9dO3ZhciBhPVh5KHQuY2hhbmdlZFRvdWNoZXMpLHU9W10scz10aGlzLnRhcmdldDtpZihuPW8uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gU3kodC50YXJnZXQscyl9KSksZT09PXN5KWZvcihyPTA7cjxuLmxlbmd0aDspaVtuW3JdLmlkZW50aWZpZXJdPSEwLHIrKztmb3Iocj0wO3I8YS5sZW5ndGg7KWlbYVtyXS5pZGVudGlmaWVyXSYmdS5wdXNoKGFbcl0pLGUmKGN5fGZ5KSYmZGVsZXRlIGlbYVtyXS5pZGVudGlmaWVyXSxyKys7cmV0dXJuIHUubGVuZ3RoP1tWeShuLmNvbmNhdCh1KSxcImlkZW50aWZpZXJcIiwhMCksdV06dm9pZCAwfXZhciBKeT17bW91c2Vkb3duOnN5LG1vdXNlbW92ZToyLG1vdXNldXA6Y3l9LCR5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgcixuPWUucHJvdG90eXBlO3JldHVybiBuLmV2RWw9XCJtb3VzZWRvd25cIixuLmV2V2luPVwibW91c2Vtb3ZlIG1vdXNldXBcIiwocj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcykucHJlc3NlZD0hMSxyfXJldHVybiBOZChlLHQpLGUucHJvdG90eXBlLmhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9SnlbdC50eXBlXTtlJnN5JiYwPT09dC5idXR0b24mJih0aGlzLnByZXNzZWQ9ITApLDImZSYmMSE9PXQud2hpY2gmJihlPWN5KSx0aGlzLnByZXNzZWQmJihlJmN5JiYodGhpcy5wcmVzc2VkPSExKSx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixlLHtwb2ludGVyczpbdF0sY2hhbmdlZFBvaW50ZXJzOlt0XSxwb2ludGVyVHlwZTpheSxzcmNFdmVudDp0fSkpfSxlfShGeSksUXk9MjUwMDtmdW5jdGlvbiBaeSh0KXt2YXIgZT10LmNoYW5nZWRQb2ludGVyc1swXTtpZihlLmlkZW50aWZpZXI9PT10aGlzLnByaW1hcnlUb3VjaCl7dmFyIHI9e3g6ZS5jbGllbnRYLHk6ZS5jbGllbnRZfSxuPXRoaXMubGFzdFRvdWNoZXM7dGhpcy5sYXN0VG91Y2hlcy5wdXNoKHIpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIHQ9bi5pbmRleE9mKHIpO3Q+LTEmJm4uc3BsaWNlKHQsMSl9KSxReSl9fWZ1bmN0aW9uIHRnKHQsZSl7dCZzeT8odGhpcy5wcmltYXJ5VG91Y2g9ZS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcixaeS5jYWxsKHRoaXMsZSkpOnQmKGN5fGZ5KSYmWnkuY2FsbCh0aGlzLGUpfWZ1bmN0aW9uIGVnKHQpe2Zvcih2YXIgZT10LnNyY0V2ZW50LmNsaWVudFgscj10LnNyY0V2ZW50LmNsaWVudFksbj0wO248dGhpcy5sYXN0VG91Y2hlcy5sZW5ndGg7bisrKXt2YXIgbz10aGlzLmxhc3RUb3VjaGVzW25dLGk9TWF0aC5hYnMoZS1vLngpLGE9TWF0aC5hYnMoci1vLnkpO2lmKGk8PTI1JiZhPD0yNSlyZXR1cm4hMH1yZXR1cm4hMX12YXIgcmc9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlLHIpe3ZhciBuO3JldHVybihuPXQuY2FsbCh0aGlzLGUscil8fHRoaXMpLmhhbmRsZXI9ZnVuY3Rpb24odCxlLHIpe3ZhciBvPXIucG9pbnRlclR5cGU9PT1peSxpPXIucG9pbnRlclR5cGU9PT1heTtpZighKGkmJnIuc291cmNlQ2FwYWJpbGl0aWVzJiZyLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSl7aWYobyl0Zy5jYWxsKEZkKEZkKG4pKSxlLHIpO2Vsc2UgaWYoaSYmZWcuY2FsbChGZChGZChuKSkscikpcmV0dXJuO24uY2FsbGJhY2sodCxlLHIpfX0sbi50b3VjaD1uZXcgSHkobi5tYW5hZ2VyLG4uaGFuZGxlciksbi5tb3VzZT1uZXcgJHkobi5tYW5hZ2VyLG4uaGFuZGxlciksbi5wcmltYXJ5VG91Y2g9bnVsbCxuLmxhc3RUb3VjaGVzPVtdLG59cmV0dXJuIE5kKGUsdCksZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudG91Y2guZGVzdHJveSgpLHRoaXMubW91c2UuZGVzdHJveSgpfSxlfShGeSl9KCk7ZnVuY3Rpb24gbmcodCxlLHIpe3JldHVybiEhQXJyYXkuaXNBcnJheSh0KSYmKF95KHQscltlXSxyKSwhMCl9dmFyIG9nPTMyLGlnPTE7ZnVuY3Rpb24gYWcodCxlKXt2YXIgcj1lLm1hbmFnZXI7cmV0dXJuIHI/ci5nZXQodCk6dH1mdW5jdGlvbiB1Zyh0KXtyZXR1cm4gMTYmdD9cImNhbmNlbFwiOjgmdD9cImVuZFwiOjQmdD9cIm1vdmVcIjoyJnQ/XCJzdGFydFwiOlwiXCJ9dmFyIHNnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2b2lkIDA9PT10JiYodD17fSksdGhpcy5vcHRpb25zPU1kKHtlbmFibGU6ITB9LHQpLHRoaXMuaWQ9aWcrKyx0aGlzLm1hbmFnZXI9bnVsbCx0aGlzLnN0YXRlPTEsdGhpcy5zaW11bHRhbmVvdXM9e30sdGhpcy5yZXF1aXJlRmFpbD1bXX12YXIgZT10LnByb3RvdHlwZTtyZXR1cm4gZS5zZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIFVkKHRoaXMub3B0aW9ucyx0KSx0aGlzLm1hbmFnZXImJnRoaXMubWFuYWdlci50b3VjaEFjdGlvbi51cGRhdGUoKSx0aGlzfSxlLnJlY29nbml6ZVdpdGg9ZnVuY3Rpb24odCl7aWYobmcodCxcInJlY29nbml6ZVdpdGhcIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLnNpbXVsdGFuZW91cztyZXR1cm4gZVsodD1hZyh0LHRoaXMpKS5pZF18fChlW3QuaWRdPXQsdC5yZWNvZ25pemVXaXRoKHRoaXMpKSx0aGlzfSxlLmRyb3BSZWNvZ25pemVXaXRoPWZ1bmN0aW9uKHQpe3JldHVybiBuZyh0LFwiZHJvcFJlY29nbml6ZVdpdGhcIix0aGlzKXx8KHQ9YWcodCx0aGlzKSxkZWxldGUgdGhpcy5zaW11bHRhbmVvdXNbdC5pZF0pLHRoaXN9LGUucmVxdWlyZUZhaWx1cmU9ZnVuY3Rpb24odCl7aWYobmcodCxcInJlcXVpcmVGYWlsdXJlXCIsdGhpcykpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5yZXF1aXJlRmFpbDtyZXR1cm4tMT09PXp5KGUsdD1hZyh0LHRoaXMpKSYmKGUucHVzaCh0KSx0LnJlcXVpcmVGYWlsdXJlKHRoaXMpKSx0aGlzfSxlLmRyb3BSZXF1aXJlRmFpbHVyZT1mdW5jdGlvbih0KXtpZihuZyh0LFwiZHJvcFJlcXVpcmVGYWlsdXJlXCIsdGhpcykpcmV0dXJuIHRoaXM7dD1hZyh0LHRoaXMpO3ZhciBlPXp5KHRoaXMucmVxdWlyZUZhaWwsdCk7cmV0dXJuIGU+LTEmJnRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGUsMSksdGhpc30sZS5oYXNSZXF1aXJlRmFpbHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXF1aXJlRmFpbC5sZW5ndGg+MH0sZS5jYW5SZWNvZ25pemVXaXRoPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5zaW11bHRhbmVvdXNbdC5pZF19LGUuZW1pdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9dGhpcy5zdGF0ZTtmdW5jdGlvbiBuKHIpe2UubWFuYWdlci5lbWl0KHIsdCl9cjw4JiZuKGUub3B0aW9ucy5ldmVudCt1ZyhyKSksbihlLm9wdGlvbnMuZXZlbnQpLHQuYWRkaXRpb25hbEV2ZW50JiZuKHQuYWRkaXRpb25hbEV2ZW50KSxyPj04JiZuKGUub3B0aW9ucy5ldmVudCt1ZyhyKSl9LGUudHJ5RW1pdD1mdW5jdGlvbih0KXtpZih0aGlzLmNhbkVtaXQoKSlyZXR1cm4gdGhpcy5lbWl0KHQpO3RoaXMuc3RhdGU9b2d9LGUuY2FuRW1pdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5yZXF1aXJlRmFpbC5sZW5ndGg7KXtpZighKDMzJnRoaXMucmVxdWlyZUZhaWxbdF0uc3RhdGUpKXJldHVybiExO3QrK31yZXR1cm4hMH0sZS5yZWNvZ25pemU9ZnVuY3Rpb24odCl7dmFyIGU9VWQoe30sdCk7aWYoIVR5KHRoaXMub3B0aW9ucy5lbmFibGUsW3RoaXMsZV0pKXJldHVybiB0aGlzLnJlc2V0KCksdm9pZCh0aGlzLnN0YXRlPW9nKTs1NiZ0aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT0xKSx0aGlzLnN0YXRlPXRoaXMucHJvY2VzcyhlKSwzMCZ0aGlzLnN0YXRlJiZ0aGlzLnRyeUVtaXQoZSl9LGUucHJvY2Vzcz1mdW5jdGlvbih0KXt9LGUuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXt9LGUucmVzZXQ9ZnVuY3Rpb24oKXt9LHR9KCksY2c9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgcjtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLChyPXQuY2FsbCh0aGlzLE1kKHtldmVudDpcInRhcFwiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6OSxwb3NUaHJlc2hvbGQ6MTB9LGUpKXx8dGhpcykucFRpbWU9ITEsci5wQ2VudGVyPSExLHIuX3RpbWVyPW51bGwsci5faW5wdXQ9bnVsbCxyLmNvdW50PTAscn1OZChlLHQpO3ZhciByPWUucHJvdG90eXBlO3JldHVybiByLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuWyRkXX0sci5wcm9jZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj10aGlzLm9wdGlvbnMsbj10LnBvaW50ZXJzLmxlbmd0aD09PXIucG9pbnRlcnMsbz10LmRpc3RhbmNlPHIudGhyZXNob2xkLGk9dC5kZWx0YVRpbWU8ci50aW1lO2lmKHRoaXMucmVzZXQoKSx0LmV2ZW50VHlwZSZzeSYmMD09PXRoaXMuY291bnQpcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtpZihvJiZpJiZuKXtpZih0LmV2ZW50VHlwZSE9PWN5KXJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7dmFyIGE9IXRoaXMucFRpbWV8fHQudGltZVN0YW1wLXRoaXMucFRpbWU8ci5pbnRlcnZhbCx1PSF0aGlzLnBDZW50ZXJ8fGp5KHRoaXMucENlbnRlcix0LmNlbnRlcik8ci5wb3NUaHJlc2hvbGQ7aWYodGhpcy5wVGltZT10LnRpbWVTdGFtcCx0aGlzLnBDZW50ZXI9dC5jZW50ZXIsdSYmYT90aGlzLmNvdW50Kz0xOnRoaXMuY291bnQ9MSx0aGlzLl9pbnB1dD10LDA9PT10aGlzLmNvdW50JXIudGFwcylyZXR1cm4gdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKT8odGhpcy5fdGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLnN0YXRlPTgsZS50cnlFbWl0KCl9KSxyLmludGVydmFsKSwyKTo4fXJldHVybiBvZ30sci5mYWlsVGltZW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3RpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dC5zdGF0ZT1vZ30pLHRoaXMub3B0aW9ucy5pbnRlcnZhbCksb2d9LHIucmVzZXQ9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxyLmVtaXQ9ZnVuY3Rpb24oKXs4PT09dGhpcy5zdGF0ZSYmKHRoaXMuX2lucHV0LnRhcENvdW50PXRoaXMuY291bnQsdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSl9LGV9KHNnKSxmZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksdC5jYWxsKHRoaXMsTWQoe3BvaW50ZXJzOjF9LGUpKXx8dGhpc31OZChlLHQpO3ZhciByPWUucHJvdG90eXBlO3JldHVybiByLmF0dHJUZXN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5wb2ludGVycztyZXR1cm4gMD09PWV8fHQucG9pbnRlcnMubGVuZ3RoPT09ZX0sci5wcm9jZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RhdGUscj10LmV2ZW50VHlwZSxuPTYmZSxvPXRoaXMuYXR0clRlc3QodCk7cmV0dXJuIG4mJihyJmZ5fHwhbyk/MTZ8ZTpufHxvP3ImY3k/OHxlOjImZT80fGU6MjpvZ30sZX0oc2cpO2Z1bmN0aW9uIGxnKHQpe3JldHVybiB0PT09ZHk/XCJkb3duXCI6dD09PXZ5P1widXBcIjp0PT09aHk/XCJsZWZ0XCI6dD09PXB5P1wicmlnaHRcIjpcIlwifXZhciBoZz1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciByO3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksKHI9dC5jYWxsKHRoaXMsTWQoe2V2ZW50OlwicGFuXCIsdGhyZXNob2xkOjEwLHBvaW50ZXJzOjEsZGlyZWN0aW9uOm15fSxlKSl8fHRoaXMpLnBYPW51bGwsci5wWT1udWxsLHJ9TmQoZSx0KTt2YXIgcj1lLnByb3RvdHlwZTtyZXR1cm4gci5nZXRUb3VjaEFjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24sZT1bXTtyZXR1cm4gdCZ5eSYmZS5wdXNoKHR5KSx0Jmd5JiZlLnB1c2goWmQpLGV9LHIuZGlyZWN0aW9uVGVzdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMscj0hMCxuPXQuZGlzdGFuY2Usbz10LmRpcmVjdGlvbixpPXQuZGVsdGFYLGE9dC5kZWx0YVk7cmV0dXJuIG8mZS5kaXJlY3Rpb258fChlLmRpcmVjdGlvbiZ5eT8obz0wPT09aT9seTppPDA/aHk6cHkscj1pIT09dGhpcy5wWCxuPU1hdGguYWJzKHQuZGVsdGFYKSk6KG89MD09PWE/bHk6YTwwP3Z5OmR5LHI9YSE9PXRoaXMucFksbj1NYXRoLmFicyh0LmRlbHRhWSkpKSx0LmRpcmVjdGlvbj1vLHImJm4+ZS50aHJlc2hvbGQmJm8mZS5kaXJlY3Rpb259LHIuYXR0clRlc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZnLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJigyJnRoaXMuc3RhdGV8fCEoMiZ0aGlzLnN0YXRlKSYmdGhpcy5kaXJlY3Rpb25UZXN0KHQpKX0sci5lbWl0PWZ1bmN0aW9uKGUpe3RoaXMucFg9ZS5kZWx0YVgsdGhpcy5wWT1lLmRlbHRhWTt2YXIgcj1sZyhlLmRpcmVjdGlvbik7ciYmKGUuYWRkaXRpb25hbEV2ZW50PXRoaXMub3B0aW9ucy5ldmVudCtyKSx0LnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxlKX0sZX0oZmcpLHBnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSx0LmNhbGwodGhpcyxNZCh7ZXZlbnQ6XCJzd2lwZVwiLHRocmVzaG9sZDoxMCx2ZWxvY2l0eTouMyxkaXJlY3Rpb246eXl8Z3kscG9pbnRlcnM6MX0sZSkpfHx0aGlzfU5kKGUsdCk7dmFyIHI9ZS5wcm90b3R5cGU7cmV0dXJuIHIuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gaGcucHJvdG90eXBlLmdldFRvdWNoQWN0aW9uLmNhbGwodGhpcyl9LHIuYXR0clRlc3Q9ZnVuY3Rpb24oZSl7dmFyIHIsbj10aGlzLm9wdGlvbnMuZGlyZWN0aW9uO3JldHVybiBuJih5eXxneSk/cj1lLm92ZXJhbGxWZWxvY2l0eTpuJnl5P3I9ZS5vdmVyYWxsVmVsb2NpdHlYOm4mZ3kmJihyPWUub3ZlcmFsbFZlbG9jaXR5WSksdC5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLGUpJiZuJmUub2Zmc2V0RGlyZWN0aW9uJiZlLmRpc3RhbmNlPnRoaXMub3B0aW9ucy50aHJlc2hvbGQmJmUubWF4UG9pbnRlcnM9PT10aGlzLm9wdGlvbnMucG9pbnRlcnMmJkdkKHIpPnRoaXMub3B0aW9ucy52ZWxvY2l0eSYmZS5ldmVudFR5cGUmY3l9LHIuZW1pdD1mdW5jdGlvbih0KXt2YXIgZT1sZyh0Lm9mZnNldERpcmVjdGlvbik7ZSYmdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K2UsdCksdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHQpfSxlfShmZyksdmc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHQuY2FsbCh0aGlzLE1kKHtldmVudDpcInBpbmNoXCIsdGhyZXNob2xkOjAscG9pbnRlcnM6Mn0sZSkpfHx0aGlzfU5kKGUsdCk7dmFyIHI9ZS5wcm90b3R5cGU7cmV0dXJuIHIuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm5bUWRdfSxyLmF0dHJUZXN0PWZ1bmN0aW9uKGUpe3JldHVybiB0LnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsZSkmJihNYXRoLmFicyhlLnNjYWxlLTEpPnRoaXMub3B0aW9ucy50aHJlc2hvbGR8fDImdGhpcy5zdGF0ZSl9LHIuZW1pdD1mdW5jdGlvbihlKXtpZigxIT09ZS5zY2FsZSl7dmFyIHI9ZS5zY2FsZTwxP1wiaW5cIjpcIm91dFwiO2UuYWRkaXRpb25hbEV2ZW50PXRoaXMub3B0aW9ucy5ldmVudCtyfXQucHJvdG90eXBlLmVtaXQuY2FsbCh0aGlzLGUpfSxlfShmZyksZGc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHQuY2FsbCh0aGlzLE1kKHtldmVudDpcInJvdGF0ZVwiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGUpKXx8dGhpc31OZChlLHQpO3ZhciByPWUucHJvdG90eXBlO3JldHVybiByLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuW1FkXX0sci5hdHRyVGVzdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLGUpJiYoTWF0aC5hYnMoZS5yb3RhdGlvbik+dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8MiZ0aGlzLnN0YXRlKX0sZX0oZmcpLHlnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIHI7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSwocj10LmNhbGwodGhpcyxNZCh7ZXZlbnQ6XCJwcmVzc1wiLHBvaW50ZXJzOjEsdGltZToyNTEsdGhyZXNob2xkOjl9LGUpKXx8dGhpcykuX3RpbWVyPW51bGwsci5faW5wdXQ9bnVsbCxyfU5kKGUsdCk7dmFyIHI9ZS5wcm90b3R5cGU7cmV0dXJuIHIuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm5bSmRdfSxyLnByb2Nlc3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXMub3B0aW9ucyxuPXQucG9pbnRlcnMubGVuZ3RoPT09ci5wb2ludGVycyxvPXQuZGlzdGFuY2U8ci50aHJlc2hvbGQsaT10LmRlbHRhVGltZT5yLnRpbWU7aWYodGhpcy5faW5wdXQ9dCwhb3x8IW58fHQuZXZlbnRUeXBlJihjeXxmeSkmJiFpKXRoaXMucmVzZXQoKTtlbHNlIGlmKHQuZXZlbnRUeXBlJnN5KXRoaXMucmVzZXQoKSx0aGlzLl90aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe2Uuc3RhdGU9OCxlLnRyeUVtaXQoKX0pLHIudGltZSk7ZWxzZSBpZih0LmV2ZW50VHlwZSZjeSlyZXR1cm4gODtyZXR1cm4gb2d9LHIucmVzZXQ9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxyLmVtaXQ9ZnVuY3Rpb24odCl7OD09PXRoaXMuc3RhdGUmJih0JiZ0LmV2ZW50VHlwZSZjeT90aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQrXCJ1cFwiLHQpOih0aGlzLl9pbnB1dC50aW1lU3RhbXA9WGQoKSx0aGlzLm1hbmFnZXIuZW1pdCh0aGlzLm9wdGlvbnMuZXZlbnQsdGhpcy5faW5wdXQpKSl9LGV9KHNnKSxnZz17ZG9tRXZlbnRzOiExLHRvdWNoQWN0aW9uOktkLGVuYWJsZTohMCxpbnB1dFRhcmdldDpudWxsLGlucHV0Q2xhc3M6bnVsbCxjc3NQcm9wczp7dXNlclNlbGVjdDpcIm5vbmVcIix0b3VjaFNlbGVjdDpcIm5vbmVcIix0b3VjaENhbGxvdXQ6XCJub25lXCIsY29udGVudFpvb21pbmc6XCJub25lXCIsdXNlckRyYWc6XCJub25lXCIsdGFwSGlnaGxpZ2h0Q29sb3I6XCJyZ2JhKDAsMCwwLDApXCJ9fSxtZz1bW2RnLHtlbmFibGU6ITF9XSxbdmcse2VuYWJsZTohMX0sW1wicm90YXRlXCJdXSxbcGcse2RpcmVjdGlvbjp5eX1dLFtoZyx7ZGlyZWN0aW9uOnl5fSxbXCJzd2lwZVwiXV0sW2NnXSxbY2cse2V2ZW50OlwiZG91YmxldGFwXCIsdGFwczoyfSxbXCJ0YXBcIl1dLFt5Z11dO2Z1bmN0aW9uIGJnKHQsZSl7dmFyIHIsbj10LmVsZW1lbnQ7bi5zdHlsZSYmKF95KHQub3B0aW9ucy5jc3NQcm9wcywoZnVuY3Rpb24obyxpKXtyPVZkKG4uc3R5bGUsaSksZT8odC5vbGRDc3NQcm9wc1tyXT1uLnN0eWxlW3JdLG4uc3R5bGVbcl09byk6bi5zdHlsZVtyXT10Lm9sZENzc1Byb3BzW3JdfHxcIlwifSkpLGV8fCh0Lm9sZENzc1Byb3BzPXt9KSl9dmFyIHdnPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciByLG49dGhpczt0aGlzLm9wdGlvbnM9VWQoe30sZ2csZXx8e30pLHRoaXMub3B0aW9ucy5pbnB1dFRhcmdldD10aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXR8fHQsdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5yZWNvZ25pemVycz1bXSx0aGlzLm9sZENzc1Byb3BzPXt9LHRoaXMuZWxlbWVudD10LHRoaXMuaW5wdXQ9bmV3KChyPXRoaXMpLm9wdGlvbnMuaW5wdXRDbGFzc3x8KG55P0d5Om95P0h5OnJ5P3JnOiR5KSkocixMeSksdGhpcy50b3VjaEFjdGlvbj1uZXcgT3kodGhpcyx0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pLGJnKHRoaXMsITApLF95KHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywoZnVuY3Rpb24odCl7dmFyIGU9bi5hZGQobmV3IHRbMF0odFsxXSkpO3RbMl0mJmUucmVjb2duaXplV2l0aCh0WzJdKSx0WzNdJiZlLnJlcXVpcmVGYWlsdXJlKHRbM10pfSksdGhpcyl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBVZCh0aGlzLm9wdGlvbnMsdCksdC50b3VjaEFjdGlvbiYmdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKSx0LmlucHV0VGFyZ2V0JiYodGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5pbnB1dC50YXJnZXQ9dC5pbnB1dFRhcmdldCx0aGlzLmlucHV0LmluaXQoKSksdGhpc30sZS5zdG9wPWZ1bmN0aW9uKHQpe3RoaXMuc2Vzc2lvbi5zdG9wcGVkPXQ/MjoxfSxlLnJlY29nbml6ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlc3Npb247aWYoIWUuc3RvcHBlZCl7dmFyIHI7dGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHModCk7dmFyIG49dGhpcy5yZWNvZ25pemVycyxvPWUuY3VyUmVjb2duaXplcjsoIW98fG8mJjgmby5zdGF0ZSkmJihlLmN1clJlY29nbml6ZXI9bnVsbCxvPW51bGwpO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7KXI9bltpXSwyPT09ZS5zdG9wcGVkfHxvJiZyIT09byYmIXIuY2FuUmVjb2duaXplV2l0aChvKT9yLnJlc2V0KCk6ci5yZWNvZ25pemUodCksIW8mJjE0JnIuc3RhdGUmJihlLmN1clJlY29nbml6ZXI9cixvPXIpLGkrK319LGUuZ2V0PWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBzZylyZXR1cm4gdDtmb3IodmFyIGU9dGhpcy5yZWNvZ25pemVycyxyPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXS5vcHRpb25zLmV2ZW50PT09dClyZXR1cm4gZVtyXTtyZXR1cm4gbnVsbH0sZS5hZGQ9ZnVuY3Rpb24odCl7aWYobmcodCxcImFkZFwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZ2V0KHQub3B0aW9ucy5ldmVudCk7cmV0dXJuIGUmJnRoaXMucmVtb3ZlKGUpLHRoaXMucmVjb2duaXplcnMucHVzaCh0KSx0Lm1hbmFnZXI9dGhpcyx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHR9LGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2lmKG5nKHQsXCJyZW1vdmVcIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLmdldCh0KTtpZih0KXt2YXIgcj10aGlzLnJlY29nbml6ZXJzLG49enkocixlKTstMSE9PW4mJihyLnNwbGljZShuLDEpLHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCkpfXJldHVybiB0aGlzfSxlLm9uPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dHx8dm9pZCAwPT09ZSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLmhhbmRsZXJzO3JldHVybiBfeShDeSh0KSwoZnVuY3Rpb24odCl7clt0XT1yW3RdfHxbXSxyW3RdLnB1c2goZSl9KSksdGhpc30sZS5vZmY9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10KXJldHVybiB0aGlzO3ZhciByPXRoaXMuaGFuZGxlcnM7cmV0dXJuIF95KEN5KHQpLChmdW5jdGlvbih0KXtlP3JbdF0mJnJbdF0uc3BsaWNlKHp5KHJbdF0sZSksMSk6ZGVsZXRlIHJbdF19KSksdGhpc30sZS5lbWl0PWZ1bmN0aW9uKHQsZSl7dGhpcy5vcHRpb25zLmRvbUV2ZW50cyYmZnVuY3Rpb24odCxlKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO3IuaW5pdEV2ZW50KHQsITAsITApLHIuZ2VzdHVyZT1lLGUudGFyZ2V0LmRpc3BhdGNoRXZlbnQocil9KHQsZSk7dmFyIHI9dGhpcy5oYW5kbGVyc1t0XSYmdGhpcy5oYW5kbGVyc1t0XS5zbGljZSgpO2lmKHImJnIubGVuZ3RoKXtlLnR5cGU9dCxlLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7ZS5zcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpfTtmb3IodmFyIG49MDtuPHIubGVuZ3RoOylyW25dKGUpLG4rK319LGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmYmcodGhpcywhMSksdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5lbGVtZW50PW51bGx9LHR9KCksX2c9e3RvdWNoc3RhcnQ6c3ksdG91Y2htb3ZlOjIsdG91Y2hlbmQ6Y3ksdG91Y2hjYW5jZWw6Znl9LFRnPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt2YXIgcixuPWUucHJvdG90eXBlO3JldHVybiBuLmV2VGFyZ2V0PVwidG91Y2hzdGFydFwiLG4uZXZXaW49XCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiLChyPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzKS5zdGFydGVkPSExLHJ9cmV0dXJuIE5kKGUsdCksZS5wcm90b3R5cGUuaGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT1fZ1t0LnR5cGVdO2lmKGU9PT1zeSYmKHRoaXMuc3RhcnRlZD0hMCksdGhpcy5zdGFydGVkKXt2YXIgcj1FZy5jYWxsKHRoaXMsdCxlKTtlJihjeXxmeSkmJnJbMF0ubGVuZ3RoLXJbMV0ubGVuZ3RoPT0wJiYodGhpcy5zdGFydGVkPSExKSx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixlLHtwb2ludGVyczpyWzBdLGNoYW5nZWRQb2ludGVyczpyWzFdLHBvaW50ZXJUeXBlOml5LHNyY0V2ZW50OnR9KX19LGV9KEZ5KTtmdW5jdGlvbiBFZyh0LGUpe3ZhciByPVh5KHQudG91Y2hlcyksbj1YeSh0LmNoYW5nZWRUb3VjaGVzKTtyZXR1cm4gZSYoY3l8ZnkpJiYocj1WeShyLmNvbmNhdChuKSxcImlkZW50aWZpZXJcIiwhMCkpLFtyLG5dfWZ1bmN0aW9uIE9nKHQsZSxyKXt2YXIgbj1cIkRFUFJFQ0FURUQgTUVUSE9EOiBcIitlK1wiXFxuXCIrcitcIiBBVCBcXG5cIjtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1uZXcgRXJyb3IoXCJnZXQtc3RhY2stdHJhY2VcIikscj1lJiZlLnN0YWNrP2Uuc3RhY2sucmVwbGFjZSgvXlteXFwoXSs/W1xcbiRdL2dtLFwiXCIpLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLFwiXCIpLnJlcGxhY2UoL15PYmplY3QuPGFub255bW91cz5cXHMqXFwoL2dtLFwie2Fub255bW91c30oKUBcIik6XCJVbmtub3duIFN0YWNrIFRyYWNlXCIsbz13aW5kb3cuY29uc29sZSYmKHdpbmRvdy5jb25zb2xlLndhcm58fHdpbmRvdy5jb25zb2xlLmxvZyk7cmV0dXJuIG8mJm8uY2FsbCh3aW5kb3cuY29uc29sZSxuLHIpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX12YXIgU2c9T2coKGZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49T2JqZWN0LmtleXMoZSksbz0wO288bi5sZW5ndGg7KSghcnx8ciYmdm9pZCAwPT09dFtuW29dXSkmJih0W25bb11dPWVbbltvXV0pLG8rKztyZXR1cm4gdH0pLFwiZXh0ZW5kXCIsXCJVc2UgYGFzc2lnbmAuXCIpLHhnPU9nKChmdW5jdGlvbih0LGUpe3JldHVybiBTZyh0LGUsITApfSksXCJtZXJnZVwiLFwiVXNlIGBhc3NpZ25gLlwiKTtmdW5jdGlvbiBrZyh0LGUscil7dmFyIG4sbz1lLnByb3RvdHlwZTsobj10LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG8pKS5jb25zdHJ1Y3Rvcj10LG4uX3N1cGVyPW8sciYmVWQobixyKX1mdW5jdGlvbiBqZyh0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19dmFyIEFnPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLG5ldyB3Zyh0LE1kKHtyZWNvZ25pemVyczptZy5jb25jYXQoKX0sZSkpfTtyZXR1cm4gdC5WRVJTSU9OPVwiMi4wLjE3LXJjXCIsdC5ESVJFQ1RJT05fQUxMPW15LHQuRElSRUNUSU9OX0RPV049ZHksdC5ESVJFQ1RJT05fTEVGVD1oeSx0LkRJUkVDVElPTl9SSUdIVD1weSx0LkRJUkVDVElPTl9VUD12eSx0LkRJUkVDVElPTl9IT1JJWk9OVEFMPXl5LHQuRElSRUNUSU9OX1ZFUlRJQ0FMPWd5LHQuRElSRUNUSU9OX05PTkU9bHksdC5ESVJFQ1RJT05fRE9XTj1keSx0LklOUFVUX1NUQVJUPXN5LHQuSU5QVVRfTU9WRT0yLHQuSU5QVVRfRU5EPWN5LHQuSU5QVVRfQ0FOQ0VMPWZ5LHQuU1RBVEVfUE9TU0lCTEU9MSx0LlNUQVRFX0JFR0FOPTIsdC5TVEFURV9DSEFOR0VEPTQsdC5TVEFURV9FTkRFRD04LHQuU1RBVEVfUkVDT0dOSVpFRD04LHQuU1RBVEVfQ0FOQ0VMTEVEPTE2LHQuU1RBVEVfRkFJTEVEPW9nLHQuTWFuYWdlcj13Zyx0LklucHV0PUZ5LHQuVG91Y2hBY3Rpb249T3ksdC5Ub3VjaElucHV0PUh5LHQuTW91c2VJbnB1dD0keSx0LlBvaW50ZXJFdmVudElucHV0PUd5LHQuVG91Y2hNb3VzZUlucHV0PXJnLHQuU2luZ2xlVG91Y2hJbnB1dD1UZyx0LlJlY29nbml6ZXI9c2csdC5BdHRyUmVjb2duaXplcj1mZyx0LlRhcD1jZyx0LlBhbj1oZyx0LlN3aXBlPXBnLHQuUGluY2g9dmcsdC5Sb3RhdGU9ZGcsdC5QcmVzcz15Zyx0Lm9uPVJ5LHQub2ZmPU15LHQuZWFjaD1feSx0Lm1lcmdlPXhnLHQuZXh0ZW5kPVNnLHQuYmluZEZuPWpnLHQuYXNzaWduPVVkLHQuaW5oZXJpdD1rZyx0LmJpbmRGbj1qZyx0LnByZWZpeGVkPVZkLHQudG9BcnJheT1YeSx0LmluQXJyYXk9enksdC51bmlxdWVBcnJheT1WeSx0LnNwbGl0U3RyPUN5LHQuYm9vbE9yRm49VHksdC5oYXNQYXJlbnQ9U3ksdC5hZGRFdmVudExpc3RlbmVycz1SeSx0LnJlbW92ZUV2ZW50TGlzdGVuZXJzPU15LHQuZGVmYXVsdHM9VWQoe30sZ2cse3ByZXNldDptZ30pLHR9KCk7ZnVuY3Rpb24gUGcodCxlKXt2YXIgcj12b2lkIDAhPT1ScCYmWGgodCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFyKXtpZihLcCh0KXx8KHI9ZnVuY3Rpb24odCxlKXt2YXIgcjtpZighdClyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIElnKHQsZSk7dmFyIG49cXAocj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLmNhbGwociw4LC0xKTtcIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4pcmV0dXJuIFdoKHQpO2lmKFwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gSWcodCxlKX0odCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe3ImJih0PXIpO3ZhciBuPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIG4+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W24rK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLGE9ITAsdT0hMTtyZXR1cm57czpmdW5jdGlvbigpe3I9ci5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9ci5uZXh0KCk7cmV0dXJuIGE9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7dT0hMCxpPXR9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZih1KXRocm93IGl9fX19ZnVuY3Rpb24gSWcodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheShlKTtyPGU7cisrKW5bcl09dFtyXTtyZXR1cm4gbn12YXIgRGc9UnAoXCJERUxFVEVcIik7ZnVuY3Rpb24gTGcoKXt2YXIgdD1DZy5hcHBseSh2b2lkIDAsYXJndW1lbnRzKTtyZXR1cm4gTWcodCksdH1mdW5jdGlvbiBDZygpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWVbcl09YXJndW1lbnRzW3JdO2lmKGUubGVuZ3RoPDIpcmV0dXJuIGVbMF07dmFyIG47aWYoZS5sZW5ndGg+MilyZXR1cm4gQ2cuYXBwbHkodm9pZCAwLFVwKG49W0xnKGVbMF0sZVsxXSldKS5jYWxsKG4sQ3AocXAoZSkuY2FsbChlLDIpKSkpO3ZhciBvPWVbMF0saT1lWzFdO2lmKG8gaW5zdGFuY2VvZiBEYXRlJiZpIGluc3RhbmNlb2YgRGF0ZSlyZXR1cm4gby5zZXRUaW1lKGkuZ2V0VGltZSgpKSxvO3ZhciBhLHU9UGcoSHAoaSkpO3RyeXtmb3IodS5zKCk7IShhPXUubigpKS5kb25lOyl7dmFyIHM9YS52YWx1ZTtPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoaSxzKSYmKGlbc109PT1EZz9kZWxldGUgb1tzXTpudWxsPT09b1tzXXx8bnVsbD09PWlbc118fFwib2JqZWN0XCIhPXR5cGVvZiBvW3NdfHxcIm9iamVjdFwiIT10eXBlb2YgaVtzXXx8S3Aob1tzXSl8fEtwKGlbc10pP29bc109UmcoaVtzXSk6b1tzXT1DZyhvW3NdLGlbc10pKX19Y2F0Y2godCl7dS5lKHQpfWZpbmFsbHl7dS5mKCl9cmV0dXJuIG99ZnVuY3Rpb24gUmcodCl7cmV0dXJuIEtwKHQpP05sKHQpLmNhbGwodCwoZnVuY3Rpb24odCl7cmV0dXJuIFJnKHQpfSkpOlwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dD90IGluc3RhbmNlb2YgRGF0ZT9uZXcgRGF0ZSh0LmdldFRpbWUoKSk6Q2coe30sdCk6dH1mdW5jdGlvbiBNZyh0KXtmb3IodmFyIGU9MCxyPVFwKHQpO2U8ci5sZW5ndGg7ZSsrKXt2YXIgbj1yW2VdO3Rbbl09PT1EZz9kZWxldGUgdFtuXTpcIm9iamVjdFwiPT10eXBlb2YgdFtuXSYmbnVsbCE9PXRbbl0mJk1nKHRbbl0pfX12YXIgTmc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cuSGFtbWVyfHxBZzpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKCl7fTtyZXR1cm57b246dCxvZmY6dCxkZXN0cm95OnQsZW1pdDp0LGdldDooKT0+KHtzZXQ6dH0pfX0oKX07ZnVuY3Rpb24gRmcodCl7dmFyIGUscj10aGlzO3RoaXMuX2NsZWFudXBRdWV1ZT1bXSx0aGlzLmFjdGl2ZT0hMSx0aGlzLl9kb209e2NvbnRhaW5lcjp0LG92ZXJsYXk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKX0sdGhpcy5fZG9tLm92ZXJsYXkuY2xhc3NMaXN0LmFkZChcInZpcy1vdmVybGF5XCIpLHRoaXMuX2RvbS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fZG9tLm92ZXJsYXkpLHRoaXMuX2NsZWFudXBRdWV1ZS5wdXNoKChmdW5jdGlvbigpe3IuX2RvbS5vdmVybGF5LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoci5fZG9tLm92ZXJsYXkpfSkpO3ZhciBuPU5nKHRoaXMuX2RvbS5vdmVybGF5KTtuLm9uKFwidGFwXCIsY2woZT10aGlzLl9vblRhcE92ZXJsYXkpLmNhbGwoZSx0aGlzKSksdGhpcy5fY2xlYW51cFF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7bi5kZXN0cm95KCl9KSk7dmFyIG89W1widGFwXCIsXCJkb3VibGV0YXBcIixcInByZXNzXCIsXCJwaW5jaFwiLFwicGFuXCIsXCJwYW5zdGFydFwiLFwicGFubW92ZVwiLFwicGFuZW5kXCJdO2N2KG8pLmNhbGwobywoZnVuY3Rpb24odCl7bi5vbih0LChmdW5jdGlvbih0KXt0LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpfSkpfSkpLGRvY3VtZW50JiZkb2N1bWVudC5ib2R5JiYodGhpcy5fb25DbGljaz1mdW5jdGlvbihlKXsoZnVuY3Rpb24odCxlKXtmb3IoO3Q7KXtpZih0PT09ZSlyZXR1cm4hMDt0PXQucGFyZW50Tm9kZX1yZXR1cm4hMX0pKGUudGFyZ2V0LHQpfHxyLmRlYWN0aXZhdGUoKX0sZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrKSx0aGlzLl9jbGVhbnVwUXVldWUucHVzaCgoZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHIuX29uQ2xpY2spfSkpKSx0aGlzLl9lc2NMaXN0ZW5lcj1mdW5jdGlvbih0KXsoXCJrZXlcImluIHQ/XCJFc2NhcGVcIj09PXQua2V5OjI3PT09dC5rZXlDb2RlKSYmci5kZWFjdGl2YXRlKCl9fVJkKEZnLnByb3RvdHlwZSksRmcuY3VycmVudD1udWxsLEZnLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQsZTt0aGlzLmRlYWN0aXZhdGUoKTt2YXIgcixuPVBnKGJ2KHQ9VXYoZT10aGlzLl9jbGVhbnVwUXVldWUpLmNhbGwoZSwwKSkuY2FsbCh0KSk7dHJ5e2ZvcihuLnMoKTshKHI9bi5uKCkpLmRvbmU7KXsoMCxyLnZhbHVlKSgpfX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX19LEZnLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe0ZnLmN1cnJlbnQmJkZnLmN1cnJlbnQuZGVhY3RpdmF0ZSgpLEZnLmN1cnJlbnQ9dGhpcyx0aGlzLmFjdGl2ZT0hMCx0aGlzLl9kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuX2RvbS5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcInZpcy1hY3RpdmVcIiksdGhpcy5lbWl0KFwiY2hhbmdlXCIpLHRoaXMuZW1pdChcImFjdGl2YXRlXCIpLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9lc2NMaXN0ZW5lcil9LEZnLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5hY3RpdmU9ITEsdGhpcy5fZG9tLm92ZXJsYXkuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5fZG9tLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwidmlzLWFjdGl2ZVwiKSxkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdGhpcy5fZXNjTGlzdGVuZXIpLHRoaXMuZW1pdChcImNoYW5nZVwiKSx0aGlzLmVtaXQoXCJkZWFjdGl2YXRlXCIpfSxGZy5wcm90b3R5cGUuX29uVGFwT3ZlcmxheT1mdW5jdGlvbih0KXt0aGlzLmFjdGl2YXRlKCksdC5zcmNFdmVudC5zdG9wUHJvcGFnYXRpb24oKX07dmFyIHpnPWpuLFVnPUF0LHFnPVR5cGVFcnJvcixXZz1mdW5jdGlvbih0KXtpZih6Zyh0KSlyZXR1cm4gdDt0aHJvdyBuZXcgcWcoVWcodCkrXCIgaXMgbm90IGEgY29uc3RydWN0b3JcIil9LFlnPVByLEdnPXAsWGc9WmYsVmc9V2csQmc9b3IsSGc9cnQsS2c9S28sSmc9dSwkZz1zdChcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxRZz1PYmplY3QucHJvdG90eXBlLFpnPVtdLnB1c2gsdG09SmcoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4hKCRnKChmdW5jdGlvbigpe30pLFtdLHQpaW5zdGFuY2VvZiB0KX0pKSxlbT0hSmcoKGZ1bmN0aW9uKCl7JGcoKGZ1bmN0aW9uKCl7fSkpfSkpLHJtPXRtfHxlbTtZZyh7dGFyZ2V0OlwiUmVmbGVjdFwiLHN0YXQ6ITAsZm9yY2VkOnJtLHNoYW06cm19LHtjb25zdHJ1Y3Q6ZnVuY3Rpb24odCxlKXtWZyh0KSxCZyhlKTt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPDM/dDpWZyhhcmd1bWVudHNbMl0pO2lmKGVtJiYhdG0pcmV0dXJuICRnKHQsZSxyKTtpZih0PT09cil7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyB0O2Nhc2UgMTpyZXR1cm4gbmV3IHQoZVswXSk7Y2FzZSAyOnJldHVybiBuZXcgdChlWzBdLGVbMV0pO2Nhc2UgMzpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0pO2Nhc2UgNDpyZXR1cm4gbmV3IHQoZVswXSxlWzFdLGVbMl0sZVszXSl9dmFyIG49W251bGxdO3JldHVybiBHZyhaZyxuLGUpLG5ldyhHZyhYZyx0LG4pKX12YXIgbz1yLnByb3RvdHlwZSxpPUtnKEhnKG8pP286UWcpLGE9R2codCxpLGUpO3JldHVybiBIZyhhKT9hOml9fSk7dmFyIG5tPW4obnQuUmVmbGVjdC5jb25zdHJ1Y3QpLG9tPW4obnQuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyksaW09e2V4cG9ydHM6e319LGFtPVByLHVtPXUsc209WixjbT1QLmYsZm09STthbSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IWZtfHx1bSgoZnVuY3Rpb24oKXtjbSgxKX0pKSxzaGFtOiFmbX0se2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbih0LGUpe3JldHVybiBjbShzbSh0KSxlKX19KTt2YXIgbG09bnQuT2JqZWN0LGhtPWltLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbG0uZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSl9O2xtLmdldE93blByb3BlcnR5RGVzY3JpcHRvci5zaGFtJiYoaG0uc2hhbT0hMCk7dmFyIHBtPW4oaW0uZXhwb3J0cyksdm09QnAsZG09Wix5bT1QLGdtPXRuO1ByKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLHNoYW06IUl9LHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyLG49ZG0odCksbz15bS5mLGk9dm0obiksYT17fSx1PTA7aS5sZW5ndGg+dTspdm9pZCAwIT09KHI9byhuLGU9aVt1KytdKSkmJmdtKGEsZSxyKTtyZXR1cm4gYX19KTt2YXIgbW09bihudC5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyksYm09e2V4cG9ydHM6e319LHdtPVByLF9tPUksVG09bm8uZjt3bSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnRpZXMhPT1UbSxzaGFtOiFfbX0se2RlZmluZVByb3BlcnRpZXM6VG19KTt2YXIgRW09bnQuT2JqZWN0LE9tPWJtLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gRW0uZGVmaW5lUHJvcGVydGllcyh0LGUpfTtFbS5kZWZpbmVQcm9wZXJ0aWVzLnNoYW0mJihPbS5zaGFtPSEwKTt2YXIgU209bihibS5leHBvcnRzKSx4bT1uKE1yKTtmdW5jdGlvbiBrbSh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH12YXIgam09dWQsQW09bihqbSk7UHIoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITB9LHtzZXRQcm90b3R5cGVPZjp1Y30pO3ZhciBQbT1udC5PYmplY3Quc2V0UHJvdG90eXBlT2YsSW09bihQbSksRG09bihzbCk7ZnVuY3Rpb24gTG0odCxlKXt2YXIgcjtyZXR1cm4gTG09SW0/RG0ocj1JbSkuY2FsbChyKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LExtKHQsZSl9ZnVuY3Rpb24gQ20odCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9QW0oZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxGcih0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmTG0odCxlKX1mdW5jdGlvbiBSbSh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09TmYoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBrbSh0KX12YXIgTW09aWQsTm09bihNbSk7ZnVuY3Rpb24gRm0odCl7dmFyIGU7cmV0dXJuIEZtPUltP0RtKGU9Tm0pLmNhbGwoZSk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuX19wcm90b19ffHxObSh0KX0sRm0odCl9dmFyIHptPXtleHBvcnRzOnt9fSxVbT17ZXhwb3J0czp7fX07IWZ1bmN0aW9uKHQpe3ZhciBlPXlmLHI9UmY7ZnVuY3Rpb24gbihvKXtyZXR1cm4gdC5leHBvcnRzPW49XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmXCJzeW1ib2xcIj09dHlwZW9mIHI/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmdC5jb25zdHJ1Y3Rvcj09PWUmJnQhPT1lLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSx0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHMsbihvKX10LmV4cG9ydHM9bix0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHN9KFVtKTt2YXIgcW09VW0uZXhwb3J0cyxXbT1zdixZbT10ZSxHbT1CcCxYbT1QLFZtPVplLEJtPXJ0LEhtPW1yLEttPUVycm9yLEptPW0oXCJcIi5yZXBsYWNlKSwkbT1TdHJpbmcobmV3IEttKFwienhjYXNkXCIpLnN0YWNrKSxRbT0vXFxuXFxzKmF0IFteOl0qOlteXFxuXSovLFptPVFtLnRlc3QoJG0pLHRiPXEsZWI9IXUoKGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEVycm9yKFwiYVwiKTtyZXR1cm4hKFwic3RhY2tcImluIHQpfHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzdGFja1wiLHRiKDEsNykpLDchPT10LnN0YWNrKX0pKSxyYj1tcixuYj1mdW5jdGlvbih0LGUpe2lmKFptJiZcInN0cmluZ1wiPT10eXBlb2YgdCYmIUttLnByZXBhcmVTdGFja1RyYWNlKWZvcig7ZS0tOyl0PUptKHQsUW0sXCJcIik7cmV0dXJuIHR9LG9iPWViLGliPUVycm9yLmNhcHR1cmVTdGFja1RyYWNlLGFiPVFlLHViPUMsc2I9b3IsY2I9QXQsZmI9ZmgsbGI9SHIsaGI9Y3QscGI9RWgsdmI9eWgsZGI9b2gseWI9VHlwZUVycm9yLGdiPWZ1bmN0aW9uKHQsZSl7dGhpcy5zdG9wcGVkPXQsdGhpcy5yZXN1bHQ9ZX0sbWI9Z2IucHJvdG90eXBlLGJiPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixvLGksYSx1LHMsYyxmPXImJnIudGhhdCxsPSEoIXJ8fCFyLkFTX0VOVFJJRVMpLGg9ISghcnx8IXIuSVNfUkVDT1JEKSxwPSEoIXJ8fCFyLklTX0lURVJBVE9SKSx2PSEoIXJ8fCFyLklOVEVSUlVQVEVEKSxkPWFiKGUsZikseT1mdW5jdGlvbih0KXtyZXR1cm4gbiYmZGIobixcIm5vcm1hbFwiLHQpLG5ldyBnYighMCx0KX0sZz1mdW5jdGlvbih0KXtyZXR1cm4gbD8oc2IodCksdj9kKHRbMF0sdFsxXSx5KTpkKHRbMF0sdFsxXSkpOnY/ZCh0LHkpOmQodCl9O2lmKGgpbj10Lml0ZXJhdG9yO2Vsc2UgaWYocCluPXQ7ZWxzZXtpZighKG89dmIodCkpKXRocm93IG5ldyB5YihjYih0KStcIiBpcyBub3QgaXRlcmFibGVcIik7aWYoZmIobykpe2ZvcihpPTAsYT1sYih0KTthPmk7aSsrKWlmKCh1PWcodFtpXSkpJiZoYihtYix1KSlyZXR1cm4gdTtyZXR1cm4gbmV3IGdiKCExKX1uPXBiKHQsbyl9Zm9yKHM9aD90Lm5leHQ6bi5uZXh0OyEoYz11YihzLG4pKS5kb25lOyl7dHJ5e3U9ZyhjLnZhbHVlKX1jYXRjaCh0KXtkYihuLFwidGhyb3dcIix0KX1pZihcIm9iamVjdFwiPT10eXBlb2YgdSYmdSYmaGIobWIsdSkpcmV0dXJuIHV9cmV0dXJuIG5ldyBnYighMSl9LHdiPXJvLF9iPVByLFRiPWN0LEViPU1zLE9iPXVjLFNiPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG49R20oZSksbz1WbS5mLGk9WG0uZixhPTA7YTxuLmxlbmd0aDthKyspe3ZhciB1PW5bYV07WW0odCx1KXx8ciYmWW0ocix1KXx8byh0LHUsaShlLHUpKX19LHhiPUtvLGtiPW1yLGpiPXEsQWI9ZnVuY3Rpb24odCxlKXtCbShlKSYmXCJjYXVzZVwiaW4gZSYmSG0odCxcImNhdXNlXCIsZS5jYXVzZSl9LFBiPWZ1bmN0aW9uKHQsZSxyLG4pe29iJiYoaWI/aWIodCxlKTpyYih0LFwic3RhY2tcIixuYihyLG4pKSl9LEliPWJiLERiPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PXQ/YXJndW1lbnRzLmxlbmd0aDwyP1wiXCI6ZTp3Yih0KX0sTGI9dmUoXCJ0b1N0cmluZ1RhZ1wiKSxDYj1FcnJvcixSYj1bXS5wdXNoLE1iPWZ1bmN0aW9uKHQsZSl7dmFyIHIsbj1UYihOYix0aGlzKTtPYj9yPU9iKG5ldyBDYixuP0ViKHRoaXMpOk5iKToocj1uP3RoaXM6eGIoTmIpLGtiKHIsTGIsXCJFcnJvclwiKSksdm9pZCAwIT09ZSYma2IocixcIm1lc3NhZ2VcIixEYihlKSksUGIocixNYixyLnN0YWNrLDEpLGFyZ3VtZW50cy5sZW5ndGg+MiYmQWIocixhcmd1bWVudHNbMl0pO3ZhciBvPVtdO3JldHVybiBJYih0LFJiLHt0aGF0Om99KSxrYihyLFwiZXJyb3JzXCIsbykscn07T2I/T2IoTWIsQ2IpOlNiKE1iLENiLHtuYW1lOiEwfSk7dmFyIE5iPU1iLnByb3RvdHlwZT14YihDYi5wcm90b3R5cGUse2NvbnN0cnVjdG9yOmpiKDEsTWIpLG1lc3NhZ2U6amIoMSxcIlwiKSxuYW1lOmpiKDEsXCJBZ2dyZWdhdGVFcnJvclwiKX0pO19iKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsYXJpdHk6Mn0se0FnZ3JlZ2F0ZUVycm9yOk1ifSk7dmFyIEZiLHpiLFViLHFiLFdiPXN0LFliPWRpLEdiPUksWGI9dmUoXCJzcGVjaWVzXCIpLFZiPWZ1bmN0aW9uKHQpe3ZhciBlPVdiKHQpO0diJiZlJiYhZVtYYl0mJlliKGUsWGIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX0sQmI9Y3QsSGI9VHlwZUVycm9yLEtiPWZ1bmN0aW9uKHQsZSl7aWYoQmIoZSx0KSlyZXR1cm4gdDt0aHJvdyBuZXcgSGIoXCJJbmNvcnJlY3QgaW52b2NhdGlvblwiKX0sSmI9b3IsJGI9V2csUWI9QixaYj12ZShcInNwZWNpZXNcIiksdHc9ZnVuY3Rpb24odCxlKXt2YXIgcixuPUpiKHQpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1ufHxRYihyPUpiKG4pW1piXSk/ZTokYihyKX0sZXc9Lyg/OmlwYWR8aXBob25lfGlwb2QpLiphcHBsZXdlYmtpdC9pLnRlc3QoZnQpLHJ3PWEsbnc9cCxvdz1RZSxpdz1BLGF3PXRlLHV3PXUsc3c9RG8sY3c9UnUsZnc9amUsbHc9ZGQsaHc9ZXcscHc9Ymwsdnc9cncuc2V0SW1tZWRpYXRlLGR3PXJ3LmNsZWFySW1tZWRpYXRlLHl3PXJ3LnByb2Nlc3MsZ3c9cncuRGlzcGF0Y2gsbXc9cncuRnVuY3Rpb24sYnc9cncuTWVzc2FnZUNoYW5uZWwsd3c9cncuU3RyaW5nLF93PTAsVHc9e30sRXc9XCJvbnJlYWR5c3RhdGVjaGFuZ2VcIjt1dygoZnVuY3Rpb24oKXtGYj1ydy5sb2NhdGlvbn0pKTt2YXIgT3c9ZnVuY3Rpb24odCl7aWYoYXcoVHcsdCkpe3ZhciBlPVR3W3RdO2RlbGV0ZSBUd1t0XSxlKCl9fSxTdz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtPdyh0KX19LHh3PWZ1bmN0aW9uKHQpe093KHQuZGF0YSl9LGt3PWZ1bmN0aW9uKHQpe3J3LnBvc3RNZXNzYWdlKHd3KHQpLEZiLnByb3RvY29sK1wiLy9cIitGYi5ob3N0KX07dncmJmR3fHwodnc9ZnVuY3Rpb24odCl7bHcoYXJndW1lbnRzLmxlbmd0aCwxKTt2YXIgZT1pdyh0KT90Om13KHQpLHI9Y3coYXJndW1lbnRzLDEpO3JldHVybiBUd1srK193XT1mdW5jdGlvbigpe253KGUsdm9pZCAwLHIpfSx6YihfdyksX3d9LGR3PWZ1bmN0aW9uKHQpe2RlbGV0ZSBUd1t0XX0scHc/emI9ZnVuY3Rpb24odCl7eXcubmV4dFRpY2soU3codCkpfTpndyYmZ3cubm93P3piPWZ1bmN0aW9uKHQpe2d3Lm5vdyhTdyh0KSl9OmJ3JiYhaHc/KHFiPShVYj1uZXcgYncpLnBvcnQyLFViLnBvcnQxLm9ubWVzc2FnZT14dyx6Yj1vdyhxYi5wb3N0TWVzc2FnZSxxYikpOnJ3LmFkZEV2ZW50TGlzdGVuZXImJml3KHJ3LnBvc3RNZXNzYWdlKSYmIXJ3LmltcG9ydFNjcmlwdHMmJkZiJiZcImZpbGU6XCIhPT1GYi5wcm90b2NvbCYmIXV3KGt3KT8oemI9a3cscncuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix4dywhMSkpOnpiPUV3IGluIGZ3KFwic2NyaXB0XCIpP2Z1bmN0aW9uKHQpe3N3LmFwcGVuZENoaWxkKGZ3KFwic2NyaXB0XCIpKVtFd109ZnVuY3Rpb24oKXtzdy5yZW1vdmVDaGlsZCh0aGlzKSxPdyh0KX19OmZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoU3codCksMCl9KTt2YXIganc9e3NldDp2dyxjbGVhcjpkd30sQXc9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9bnVsbCx0aGlzLnRhaWw9bnVsbH07QXcucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24odCl7dmFyIGU9e2l0ZW06dCxuZXh0Om51bGx9LHI9dGhpcy50YWlsO3I/ci5uZXh0PWU6dGhpcy5oZWFkPWUsdGhpcy50YWlsPWV9LGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaGVhZDtpZih0KXJldHVybiBudWxsPT09KHRoaXMuaGVhZD10Lm5leHQpJiYodGhpcy50YWlsPW51bGwpLHQuaXRlbX19O3ZhciBQdyxJdyxEdyxMdyxDdyxSdz1BdyxNdz0vaXBhZHxpcGhvbmV8aXBvZC9pLnRlc3QoZnQpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgUGViYmxlLE53PS93ZWIwcyg/IS4qY2hyb21lKS9pLnRlc3QoZnQpLEZ3PWEsenc9UWUsVXc9UC5mLHF3PWp3LnNldCxXdz1SdyxZdz1ldyxHdz1NdyxYdz1OdyxWdz1ibCxCdz1Gdy5NdXRhdGlvbk9ic2VydmVyfHxGdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLEh3PUZ3LmRvY3VtZW50LEt3PUZ3LnByb2Nlc3MsSnc9RncuUHJvbWlzZSwkdz1VdyhGdyxcInF1ZXVlTWljcm90YXNrXCIpLFF3PSR3JiYkdy52YWx1ZTtpZighUXcpe3ZhciBadz1uZXcgV3csdF89ZnVuY3Rpb24oKXt2YXIgdCxlO2ZvcihWdyYmKHQ9S3cuZG9tYWluKSYmdC5leGl0KCk7ZT1ady5nZXQoKTspdHJ5e2UoKX1jYXRjaCh0KXt0aHJvdyBady5oZWFkJiZQdygpLHR9dCYmdC5lbnRlcigpfTtZd3x8Vnd8fFh3fHwhQnd8fCFIdz8hR3cmJkp3JiZKdy5yZXNvbHZlPygoTHc9SncucmVzb2x2ZSh2b2lkIDApKS5jb25zdHJ1Y3Rvcj1KdyxDdz16dyhMdy50aGVuLEx3KSxQdz1mdW5jdGlvbigpe0N3KHRfKX0pOlZ3P1B3PWZ1bmN0aW9uKCl7S3cubmV4dFRpY2sodF8pfToocXc9encocXcsRncpLFB3PWZ1bmN0aW9uKCl7cXcodF8pfSk6KEl3PSEwLER3PUh3LmNyZWF0ZVRleHROb2RlKFwiXCIpLG5ldyBCdyh0Xykub2JzZXJ2ZShEdyx7Y2hhcmFjdGVyRGF0YTohMH0pLFB3PWZ1bmN0aW9uKCl7RHcuZGF0YT1Jdz0hSXd9KSxRdz1mdW5jdGlvbih0KXtady5oZWFkfHxQdygpLFp3LmFkZCh0KX19dmFyIGVfPVF3LHJfPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm57ZXJyb3I6ITEsdmFsdWU6dCgpfX1jYXRjaCh0KXtyZXR1cm57ZXJyb3I6ITAsdmFsdWU6dH19fSxuXz1hLlByb21pc2Usb189XCJvYmplY3RcIj09dHlwZW9mIERlbm8mJkRlbm8mJlwib2JqZWN0XCI9PXR5cGVvZiBEZW5vLnZlcnNpb24saV89IW9fJiYhYmwmJlwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJlwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCxhXz1hLHVfPW5fLHNfPUEsY189SGUsZl89dm4sbF89dmUsaF89aV8scF89b18sdl89Z3QsZF89dV8mJnVfLnByb3RvdHlwZSx5Xz1sXyhcInNwZWNpZXNcIiksZ189ITEsbV89c18oYV8uUHJvbWlzZVJlamVjdGlvbkV2ZW50KSxiXz1jXyhcIlByb21pc2VcIiwoZnVuY3Rpb24oKXt2YXIgdD1mXyh1XyksZT10IT09U3RyaW5nKHVfKTtpZighZSYmNjY9PT12XylyZXR1cm4hMDtpZighZF8uY2F0Y2h8fCFkXy5maW5hbGx5KXJldHVybiEwO2lmKCF2X3x8dl88NTF8fCEvbmF0aXZlIGNvZGUvLnRlc3QodCkpe3ZhciByPW5ldyB1XygoZnVuY3Rpb24odCl7dCgxKX0pKSxuPWZ1bmN0aW9uKHQpe3QoKGZ1bmN0aW9uKCl7fSksKGZ1bmN0aW9uKCl7fSkpfTtpZigoci5jb25zdHJ1Y3Rvcj17fSlbeV9dPW4sIShnXz1yLnRoZW4oKGZ1bmN0aW9uKCl7fSkpaW5zdGFuY2VvZiBuKSlyZXR1cm4hMH1yZXR1cm4hZSYmKGhffHxwXykmJiFtX30pKSx3Xz17Q09OU1RSVUNUT1I6Yl8sUkVKRUNUSU9OX0VWRU5UOm1fLFNVQkNMQVNTSU5HOmdffSxfXz17fSxUXz1MdCxFXz1UeXBlRXJyb3IsT189ZnVuY3Rpb24odCl7dmFyIGUscjt0aGlzLnByb21pc2U9bmV3IHQoKGZ1bmN0aW9uKHQsbil7aWYodm9pZCAwIT09ZXx8dm9pZCAwIT09cil0aHJvdyBuZXcgRV8oXCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvclwiKTtlPXQscj1ufSkpLHRoaXMucmVzb2x2ZT1UXyhlKSx0aGlzLnJlamVjdD1UXyhyKX07X18uZj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IE9fKHQpfTt2YXIgU18seF8sa189UHIsal89YmwsQV89YSxQXz1DLElfPXBpLERfPXppLExfPVZiLENfPUx0LFJfPUEsTV89cnQsTl89S2IsRl89dHcsel89ancuc2V0LFVfPWVfLHFfPWZ1bmN0aW9uKHQsZSl7dHJ5ezE9PT1hcmd1bWVudHMubGVuZ3RoP2NvbnNvbGUuZXJyb3IodCk6Y29uc29sZS5lcnJvcih0LGUpfWNhdGNoKHQpe319LFdfPXJfLFlfPVJ3LEdfPWVhLFhfPW5fLFZfPXdfLEJfPV9fLEhfPVwiUHJvbWlzZVwiLEtfPVZfLkNPTlNUUlVDVE9SLEpfPVZfLlJFSkVDVElPTl9FVkVOVCwkXz1HXy5nZXR0ZXJGb3IoSF8pLFFfPUdfLnNldCxaXz1YXyYmWF8ucHJvdG90eXBlLHRUPVhfLGVUPVpfLHJUPUFfLlR5cGVFcnJvcixuVD1BXy5kb2N1bWVudCxvVD1BXy5wcm9jZXNzLGlUPUJfLmYsYVQ9aVQsdVQ9ISEoblQmJm5ULmNyZWF0ZUV2ZW50JiZBXy5kaXNwYXRjaEV2ZW50KSxzVD1cInVuaGFuZGxlZHJlamVjdGlvblwiLGNUPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiEoIU1fKHQpfHwhUl8oZT10LnRoZW4pKSYmZX0sZlQ9ZnVuY3Rpb24odCxlKXt2YXIgcixuLG8saT1lLnZhbHVlLGE9MT09PWUuc3RhdGUsdT1hP3Qub2s6dC5mYWlsLHM9dC5yZXNvbHZlLGM9dC5yZWplY3QsZj10LmRvbWFpbjt0cnl7dT8oYXx8KDI9PT1lLnJlamVjdGlvbiYmZFQoZSksZS5yZWplY3Rpb249MSksITA9PT11P3I9aTooZiYmZi5lbnRlcigpLHI9dShpKSxmJiYoZi5leGl0KCksbz0hMCkpLHI9PT10LnByb21pc2U/YyhuZXcgclQoXCJQcm9taXNlLWNoYWluIGN5Y2xlXCIpKToobj1jVChyKSk/UF8obixyLHMsYyk6cyhyKSk6YyhpKX1jYXRjaCh0KXtmJiYhbyYmZi5leGl0KCksYyh0KX19LGxUPWZ1bmN0aW9uKHQsZSl7dC5ub3RpZmllZHx8KHQubm90aWZpZWQ9ITAsVV8oKGZ1bmN0aW9uKCl7Zm9yKHZhciByLG49dC5yZWFjdGlvbnM7cj1uLmdldCgpOylmVChyLHQpO3Qubm90aWZpZWQ9ITEsZSYmIXQucmVqZWN0aW9uJiZwVCh0KX0pKSl9LGhUPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixvO3VUPygobj1uVC5jcmVhdGVFdmVudChcIkV2ZW50XCIpKS5wcm9taXNlPWUsbi5yZWFzb249cixuLmluaXRFdmVudCh0LCExLCEwKSxBXy5kaXNwYXRjaEV2ZW50KG4pKTpuPXtwcm9taXNlOmUscmVhc29uOnJ9LCFKXyYmKG89QV9bXCJvblwiK3RdKT9vKG4pOnQ9PT1zVCYmcV8oXCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25cIixyKX0scFQ9ZnVuY3Rpb24odCl7UF8oel8sQV8sKGZ1bmN0aW9uKCl7dmFyIGUscj10LmZhY2FkZSxuPXQudmFsdWU7aWYodlQodCkmJihlPVdfKChmdW5jdGlvbigpe2pfP29ULmVtaXQoXCJ1bmhhbmRsZWRSZWplY3Rpb25cIixuLHIpOmhUKHNULHIsbil9KSksdC5yZWplY3Rpb249al98fHZUKHQpPzI6MSxlLmVycm9yKSl0aHJvdyBlLnZhbHVlfSkpfSx2VD1mdW5jdGlvbih0KXtyZXR1cm4gMSE9PXQucmVqZWN0aW9uJiYhdC5wYXJlbnR9LGRUPWZ1bmN0aW9uKHQpe1BfKHpfLEFfLChmdW5jdGlvbigpe3ZhciBlPXQuZmFjYWRlO2pfP29ULmVtaXQoXCJyZWplY3Rpb25IYW5kbGVkXCIsZSk6aFQoXCJyZWplY3Rpb25oYW5kbGVkXCIsZSx0LnZhbHVlKX0pKX0seVQ9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBmdW5jdGlvbihuKXt0KGUsbixyKX19LGdUPWZ1bmN0aW9uKHQsZSxyKXt0LmRvbmV8fCh0LmRvbmU9ITAsciYmKHQ9ciksdC52YWx1ZT1lLHQuc3RhdGU9MixsVCh0LCEwKSl9LG1UPWZ1bmN0aW9uKHQsZSxyKXtpZighdC5kb25lKXt0LmRvbmU9ITAsciYmKHQ9cik7dHJ5e2lmKHQuZmFjYWRlPT09ZSl0aHJvdyBuZXcgclQoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTt2YXIgbj1jVChlKTtuP1VfKChmdW5jdGlvbigpe3ZhciByPXtkb25lOiExfTt0cnl7UF8obixlLHlUKG1ULHIsdCkseVQoZ1Qscix0KSl9Y2F0Y2goZSl7Z1QocixlLHQpfX0pKToodC52YWx1ZT1lLHQuc3RhdGU9MSxsVCh0LCExKSl9Y2F0Y2goZSl7Z1Qoe2RvbmU6ITF9LGUsdCl9fX07S18mJihlVD0odFQ9ZnVuY3Rpb24odCl7Tl8odGhpcyxlVCksQ18odCksUF8oU18sdGhpcyk7dmFyIGU9JF8odGhpcyk7dHJ5e3QoeVQobVQsZSkseVQoZ1QsZSkpfWNhdGNoKHQpe2dUKGUsdCl9fSkucHJvdG90eXBlLChTXz1mdW5jdGlvbih0KXtRXyh0aGlzLHt0eXBlOkhfLGRvbmU6ITEsbm90aWZpZWQ6ITEscGFyZW50OiExLHJlYWN0aW9uczpuZXcgWV8scmVqZWN0aW9uOiExLHN0YXRlOjAsdmFsdWU6dm9pZCAwfSl9KS5wcm90b3R5cGU9SV8oZVQsXCJ0aGVuXCIsKGZ1bmN0aW9uKHQsZSl7dmFyIHI9JF8odGhpcyksbj1pVChGXyh0aGlzLHRUKSk7cmV0dXJuIHIucGFyZW50PSEwLG4ub2s9IVJfKHQpfHx0LG4uZmFpbD1SXyhlKSYmZSxuLmRvbWFpbj1qXz9vVC5kb21haW46dm9pZCAwLDA9PT1yLnN0YXRlP3IucmVhY3Rpb25zLmFkZChuKTpVXygoZnVuY3Rpb24oKXtmVChuLHIpfSkpLG4ucHJvbWlzZX0pKSx4Xz1mdW5jdGlvbigpe3ZhciB0PW5ldyBTXyxlPSRfKHQpO3RoaXMucHJvbWlzZT10LHRoaXMucmVzb2x2ZT15VChtVCxlKSx0aGlzLnJlamVjdD15VChnVCxlKX0sQl8uZj1pVD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXRUfHx1bmRlZmluZWQ9PT10P25ldyB4Xyh0KTphVCh0KX0pLGtfKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsd3JhcDohMCxmb3JjZWQ6S199LHtQcm9taXNlOnRUfSksRF8odFQsSF8sITEsITApLExfKEhfKTt2YXIgYlQ9bl8sd1Q9d18uQ09OU1RSVUNUT1J8fCF6aCgoZnVuY3Rpb24odCl7YlQuYWxsKHQpLnRoZW4odm9pZCAwLChmdW5jdGlvbigpe30pKX0pKSxfVD1DLFRUPUx0LEVUPV9fLE9UPXJfLFNUPWJiO1ByKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6d1R9LHthbGw6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPUVULmYoZSksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPU9UKChmdW5jdGlvbigpe3ZhciByPVRUKGUucmVzb2x2ZSksaT1bXSxhPTAsdT0xO1NUKHQsKGZ1bmN0aW9uKHQpe3ZhciBzPWErKyxjPSExO3UrKyxfVChyLGUsdCkudGhlbigoZnVuY3Rpb24odCl7Y3x8KGM9ITAsaVtzXT10LC0tdXx8bihpKSl9KSxvKX0pKSwtLXV8fG4oaSl9KSk7cmV0dXJuIGkuZXJyb3ImJm8oaS52YWx1ZSksci5wcm9taXNlfX0pO3ZhciB4VD1QcixrVD13Xy5DT05TVFJVQ1RPUjtuXyYmbl8ucHJvdG90eXBlLHhUKHt0YXJnZXQ6XCJQcm9taXNlXCIscHJvdG86ITAsZm9yY2VkOmtULHJlYWw6ITB9LHtjYXRjaDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCx0KX19KTt2YXIgalQ9QyxBVD1MdCxQVD1fXyxJVD1yXyxEVD1iYjtQcih7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOndUfSx7cmFjZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9UFQuZihlKSxuPXIucmVqZWN0LG89SVQoKGZ1bmN0aW9uKCl7dmFyIG89QVQoZS5yZXNvbHZlKTtEVCh0LChmdW5jdGlvbih0KXtqVChvLGUsdCkudGhlbihyLnJlc29sdmUsbil9KSl9KSk7cmV0dXJuIG8uZXJyb3ImJm4oby52YWx1ZSksci5wcm9taXNlfX0pO3ZhciBMVD1DLENUPV9fO1ByKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6d18uQ09OU1RSVUNUT1J9LHtyZWplY3Q6ZnVuY3Rpb24odCl7dmFyIGU9Q1QuZih0aGlzKTtyZXR1cm4gTFQoZS5yZWplY3Qsdm9pZCAwLHQpLGUucHJvbWlzZX19KTt2YXIgUlQ9b3IsTVQ9cnQsTlQ9X18sRlQ9ZnVuY3Rpb24odCxlKXtpZihSVCh0KSxNVChlKSYmZS5jb25zdHJ1Y3Rvcj09PXQpcmV0dXJuIGU7dmFyIHI9TlQuZih0KTtyZXR1cm4oMCxyLnJlc29sdmUpKGUpLHIucHJvbWlzZX0selQ9UHIsVVQ9bl8scVQ9d18uQ09OU1RSVUNUT1IsV1Q9RlQsWVQ9c3QoXCJQcm9taXNlXCIpLEdUPSFxVDt6VCh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOnRydWV9LHtyZXNvbHZlOmZ1bmN0aW9uKHQpe3JldHVybiBXVChHVCYmdGhpcz09PVlUP1VUOnRoaXMsdCl9fSk7dmFyIFhUPUMsVlQ9THQsQlQ9X18sSFQ9cl8sS1Q9YmI7UHIoe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDp3VH0se2FsbFNldHRsZWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPUJULmYoZSksbj1yLnJlc29sdmUsbz1yLnJlamVjdCxpPUhUKChmdW5jdGlvbigpe3ZhciByPVZUKGUucmVzb2x2ZSksbz1bXSxpPTAsYT0xO0tUKHQsKGZ1bmN0aW9uKHQpe3ZhciB1PWkrKyxzPSExO2ErKyxYVChyLGUsdCkudGhlbigoZnVuY3Rpb24odCl7c3x8KHM9ITAsb1t1XT17c3RhdHVzOlwiZnVsZmlsbGVkXCIsdmFsdWU6dH0sLS1hfHxuKG8pKX0pLChmdW5jdGlvbih0KXtzfHwocz0hMCxvW3VdPXtzdGF0dXM6XCJyZWplY3RlZFwiLHJlYXNvbjp0fSwtLWF8fG4obykpfSkpfSkpLC0tYXx8bihvKX0pKTtyZXR1cm4gaS5lcnJvciYmbyhpLnZhbHVlKSxyLnByb21pc2V9fSk7dmFyIEpUPUMsJFQ9THQsUVQ9c3QsWlQ9X18sdEU9cl8sZUU9YmIsckU9XCJObyBvbmUgcHJvbWlzZSByZXNvbHZlZFwiO1ByKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6d1R9LHthbnk6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPVFUKFwiQWdncmVnYXRlRXJyb3JcIiksbj1aVC5mKGUpLG89bi5yZXNvbHZlLGk9bi5yZWplY3QsYT10RSgoZnVuY3Rpb24oKXt2YXIgbj0kVChlLnJlc29sdmUpLGE9W10sdT0wLHM9MSxjPSExO2VFKHQsKGZ1bmN0aW9uKHQpe3ZhciBmPXUrKyxsPSExO3MrKyxKVChuLGUsdCkudGhlbigoZnVuY3Rpb24odCl7bHx8Y3x8KGM9ITAsbyh0KSl9KSwoZnVuY3Rpb24odCl7bHx8Y3x8KGw9ITAsYVtmXT10LC0tc3x8aShuZXcgcihhLHJFKSkpfSkpfSkpLC0tc3x8aShuZXcgcihhLHJFKSl9KSk7cmV0dXJuIGEuZXJyb3ImJmkoYS52YWx1ZSksbi5wcm9taXNlfX0pO3ZhciBuRT1QcixvRT1uXyxpRT11LGFFPXN0LHVFPUEsc0U9dHcsY0U9RlQsZkU9b0UmJm9FLnByb3RvdHlwZTtuRSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOiEhb0UmJmlFKChmdW5jdGlvbigpe2ZFLmZpbmFsbHkuY2FsbCh7dGhlbjpmdW5jdGlvbigpe319LChmdW5jdGlvbigpe30pKX0pKX0se2ZpbmFsbHk6ZnVuY3Rpb24odCl7dmFyIGU9c0UodGhpcyxhRShcIlByb21pc2VcIikpLHI9dUUodCk7cmV0dXJuIHRoaXMudGhlbihyP2Z1bmN0aW9uKHIpe3JldHVybiBjRShlLHQoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKX06dCxyP2Z1bmN0aW9uKHIpe3JldHVybiBjRShlLHQoKSkudGhlbigoZnVuY3Rpb24oKXt0aHJvdyByfSkpfTp0KX19KTt2YXIgbEU9bnQuUHJvbWlzZSxoRT1fXztQcih7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITB9LHt3aXRoUmVzb2x2ZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9aEUuZih0aGlzKTtyZXR1cm57cHJvbWlzZTp0LnByb21pc2UscmVzb2x2ZTp0LnJlc29sdmUscmVqZWN0OnQucmVqZWN0fX19KTt2YXIgcEU9bEUsdkU9X18sZEU9cl87UHIoe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDohMH0se3RyeTpmdW5jdGlvbih0KXt2YXIgZT12RS5mKHRoaXMpLHI9ZEUodCk7cmV0dXJuKHIuZXJyb3I/ZS5yZWplY3Q6ZS5yZXNvbHZlKShyLnZhbHVlKSxlLnByb21pc2V9fSk7dmFyIHlFPXBFLGdFPW12OyFmdW5jdGlvbih0KXt2YXIgZT1xbS5kZWZhdWx0LHI9TnIsbj15ZixvPWptLGk9TW0sYT1XbSx1PXVwLHM9UG0sYz15RSxmPWdFLGw9anA7ZnVuY3Rpb24gaCgpe3QuZXhwb3J0cz1oPWZ1bmN0aW9uKCl7cmV0dXJuIHZ9LHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0czt2YXIgcCx2PXt9LGQ9T2JqZWN0LnByb3RvdHlwZSx5PWQuaGFzT3duUHJvcGVydHksZz1yfHxmdW5jdGlvbih0LGUscil7dFtlXT1yLnZhbHVlfSxtPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjp7fSxiPW0uaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLHc9bS5hc3luY0l0ZXJhdG9yfHxcIkBAYXN5bmNJdGVyYXRvclwiLF89bS50b1N0cmluZ1RhZ3x8XCJAQHRvU3RyaW5nVGFnXCI7ZnVuY3Rpb24gVCh0LGUsbil7cmV0dXJuIHIodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksdFtlXX10cnl7VCh7fSxcIlwiKX1jYXRjaChwKXtUPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT1yfX1mdW5jdGlvbiBFKHQsZSxyLG4pe3ZhciBpPWUmJmUucHJvdG90eXBlIGluc3RhbmNlb2YgUD9lOlAsYT1vKGkucHJvdG90eXBlKSx1PW5ldyBXKG58fFtdKTtyZXR1cm4gZyhhLFwiX2ludm9rZVwiLHt2YWx1ZTpGKHQscix1KX0pLGF9ZnVuY3Rpb24gTyh0LGUscil7dHJ5e3JldHVybnt0eXBlOlwibm9ybWFsXCIsYXJnOnQuY2FsbChlLHIpfX1jYXRjaCh0KXtyZXR1cm57dHlwZTpcInRocm93XCIsYXJnOnR9fX12LndyYXA9RTt2YXIgUz1cInN1c3BlbmRlZFN0YXJ0XCIseD1cInN1c3BlbmRlZFlpZWxkXCIsaz1cImV4ZWN1dGluZ1wiLGo9XCJjb21wbGV0ZWRcIixBPXt9O2Z1bmN0aW9uIFAoKXt9ZnVuY3Rpb24gSSgpe31mdW5jdGlvbiBEKCl7fXZhciBMPXt9O1QoTCxiLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpO3ZhciBDPWkmJmkoaShZKFtdKSkpO0MmJkMhPT1kJiZ5LmNhbGwoQyxiKSYmKEw9Qyk7dmFyIFI9RC5wcm90b3R5cGU9UC5wcm90b3R5cGU9byhMKTtmdW5jdGlvbiBNKHQpe3ZhciBlO2EoZT1bXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdKS5jYWxsKGUsKGZ1bmN0aW9uKGUpe1QodCxlLChmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKGUsdCl9KSl9KSl9ZnVuY3Rpb24gTih0LHIpe2Z1bmN0aW9uIG4obyxpLGEsdSl7dmFyIHM9Tyh0W29dLHQsaSk7aWYoXCJ0aHJvd1wiIT09cy50eXBlKXt2YXIgYz1zLmFyZyxmPWMudmFsdWU7cmV0dXJuIGYmJlwib2JqZWN0XCI9PWUoZikmJnkuY2FsbChmLFwiX19hd2FpdFwiKT9yLnJlc29sdmUoZi5fX2F3YWl0KS50aGVuKChmdW5jdGlvbih0KXtuKFwibmV4dFwiLHQsYSx1KX0pLChmdW5jdGlvbih0KXtuKFwidGhyb3dcIix0LGEsdSl9KSk6ci5yZXNvbHZlKGYpLnRoZW4oKGZ1bmN0aW9uKHQpe2MudmFsdWU9dCxhKGMpfSksKGZ1bmN0aW9uKHQpe3JldHVybiBuKFwidGhyb3dcIix0LGEsdSl9KSl9dShzLmFyZyl9dmFyIG87Zyh0aGlzLFwiX2ludm9rZVwiLHt2YWx1ZTpmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IHIoKGZ1bmN0aW9uKHIsbyl7bih0LGUscixvKX0pKX1yZXR1cm4gbz1vP28udGhlbihpLGkpOmkoKX19KX1mdW5jdGlvbiBGKHQsZSxyKXt2YXIgbj1TO3JldHVybiBmdW5jdGlvbihvLGkpe2lmKG49PT1rKXRocm93IG5ldyBFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7aWYobj09PWope2lmKFwidGhyb3dcIj09PW8pdGhyb3cgaTtyZXR1cm57dmFsdWU6cCxkb25lOiEwfX1mb3Ioci5tZXRob2Q9byxyLmFyZz1pOzspe3ZhciBhPXIuZGVsZWdhdGU7aWYoYSl7dmFyIHU9eihhLHIpO2lmKHUpe2lmKHU9PT1BKWNvbnRpbnVlO3JldHVybiB1fX1pZihcIm5leHRcIj09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09ci5tZXRob2Qpe2lmKG49PT1TKXRocm93IG49aixyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlXCJyZXR1cm5cIj09PXIubWV0aG9kJiZyLmFicnVwdChcInJldHVyblwiLHIuYXJnKTtuPWs7dmFyIHM9Tyh0LGUscik7aWYoXCJub3JtYWxcIj09PXMudHlwZSl7aWYobj1yLmRvbmU/ajp4LHMuYXJnPT09QSljb250aW51ZTtyZXR1cm57dmFsdWU6cy5hcmcsZG9uZTpyLmRvbmV9fVwidGhyb3dcIj09PXMudHlwZSYmKG49aixyLm1ldGhvZD1cInRocm93XCIsci5hcmc9cy5hcmcpfX19ZnVuY3Rpb24geih0LGUpe3ZhciByPWUubWV0aG9kLG49dC5pdGVyYXRvcltyXTtpZihuPT09cClyZXR1cm4gZS5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PXImJnQuaXRlcmF0b3IucmV0dXJuJiYoZS5tZXRob2Q9XCJyZXR1cm5cIixlLmFyZz1wLHoodCxlKSxcInRocm93XCI9PT1lLm1ldGhvZCl8fFwicmV0dXJuXCIhPT1yJiYoZS5tZXRob2Q9XCJ0aHJvd1wiLGUuYXJnPW5ldyBUeXBlRXJyb3IoXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICdcIityK1wiJyBtZXRob2RcIikpLEE7dmFyIG89TyhuLHQuaXRlcmF0b3IsZS5hcmcpO2lmKFwidGhyb3dcIj09PW8udHlwZSlyZXR1cm4gZS5tZXRob2Q9XCJ0aHJvd1wiLGUuYXJnPW8uYXJnLGUuZGVsZWdhdGU9bnVsbCxBO3ZhciBpPW8uYXJnO3JldHVybiBpP2kuZG9uZT8oZVt0LnJlc3VsdE5hbWVdPWkudmFsdWUsZS5uZXh0PXQubmV4dExvYyxcInJldHVyblwiIT09ZS5tZXRob2QmJihlLm1ldGhvZD1cIm5leHRcIixlLmFyZz1wKSxlLmRlbGVnYXRlPW51bGwsQSk6aTooZS5tZXRob2Q9XCJ0aHJvd1wiLGUuYXJnPW5ldyBUeXBlRXJyb3IoXCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdFwiKSxlLmRlbGVnYXRlPW51bGwsQSl9ZnVuY3Rpb24gVSh0KXt2YXIgZSxyPXt0cnlMb2M6dFswXX07MSBpbiB0JiYoci5jYXRjaExvYz10WzFdKSwyIGluIHQmJihyLmZpbmFsbHlMb2M9dFsyXSxyLmFmdGVyTG9jPXRbM10pLHUoZT10aGlzLnRyeUVudHJpZXMpLmNhbGwoZSxyKX1mdW5jdGlvbiBxKHQpe3ZhciBlPXQuY29tcGxldGlvbnx8e307ZS50eXBlPVwibm9ybWFsXCIsZGVsZXRlIGUuYXJnLHQuY29tcGxldGlvbj1lfWZ1bmN0aW9uIFcodCl7dGhpcy50cnlFbnRyaWVzPVt7dHJ5TG9jOlwicm9vdFwifV0sYSh0KS5jYWxsKHQsVSx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBZKHQpe2lmKHR8fFwiXCI9PT10KXt2YXIgcj10W2JdO2lmKHIpcmV0dXJuIHIuY2FsbCh0KTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm5leHQpcmV0dXJuIHQ7aWYoIWlzTmFOKHQubGVuZ3RoKSl7dmFyIG49LTEsbz1mdW5jdGlvbiBlKCl7Zm9yKDsrK248dC5sZW5ndGg7KWlmKHkuY2FsbCh0LG4pKXJldHVybiBlLnZhbHVlPXRbbl0sZS5kb25lPSExLGU7cmV0dXJuIGUudmFsdWU9cCxlLmRvbmU9ITAsZX07cmV0dXJuIG8ubmV4dD1vfX10aHJvdyBuZXcgVHlwZUVycm9yKGUodCkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpfXJldHVybiBJLnByb3RvdHlwZT1ELGcoUixcImNvbnN0cnVjdG9yXCIse3ZhbHVlOkQsY29uZmlndXJhYmxlOiEwfSksZyhELFwiY29uc3RydWN0b3JcIix7dmFsdWU6SSxjb25maWd1cmFibGU6ITB9KSxJLmRpc3BsYXlOYW1lPVQoRCxfLFwiR2VuZXJhdG9yRnVuY3Rpb25cIiksdi5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFlJiYoZT09PUl8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShlLmRpc3BsYXlOYW1lfHxlLm5hbWUpKX0sdi5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBzP3ModCxEKToodC5fX3Byb3RvX189RCxUKHQsXyxcIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1vKFIpLHR9LHYuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LE0oTi5wcm90b3R5cGUpLFQoTi5wcm90b3R5cGUsdywoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSx2LkFzeW5jSXRlcmF0b3I9Tix2LmFzeW5jPWZ1bmN0aW9uKHQsZSxyLG4sbyl7dm9pZCAwPT09byYmKG89Yyk7dmFyIGk9bmV3IE4oRSh0LGUscixuKSxvKTtyZXR1cm4gdi5pc0dlbmVyYXRvckZ1bmN0aW9uKGUpP2k6aS5uZXh0KCkudGhlbigoZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOmkubmV4dCgpfSkpfSxNKFIpLFQoUixfLFwiR2VuZXJhdG9yXCIpLFQoUixiLChmdW5jdGlvbigpe3JldHVybiB0aGlzfSkpLFQoUixcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEdlbmVyYXRvcl1cIn0pKSx2LmtleXM9ZnVuY3Rpb24odCl7dmFyIGU9T2JqZWN0KHQpLHI9W107Zm9yKHZhciBuIGluIGUpdShyKS5jYWxsKHIsbik7cmV0dXJuIGYocikuY2FsbChyKSxmdW5jdGlvbiB0KCl7Zm9yKDtyLmxlbmd0aDspe3ZhciBuPXIucG9wKCk7aWYobiBpbiBlKXJldHVybiB0LnZhbHVlPW4sdC5kb25lPSExLHR9cmV0dXJuIHQuZG9uZT0hMCx0fX0sdi52YWx1ZXM9WSxXLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VyxyZXNldDpmdW5jdGlvbih0KXt2YXIgZTtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD1wLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5hcmc9cCxhKGU9dGhpcy50cnlFbnRyaWVzKS5jYWxsKGUscSksIXQpZm9yKHZhciByIGluIHRoaXMpXCJ0XCI9PT1yLmNoYXJBdCgwKSYmeS5jYWxsKHRoaXMscikmJiFpc05hTigrbChyKS5jYWxsKHIsMSkpJiYodGhpc1tyXT1wKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIGU9dGhpcztmdW5jdGlvbiByKHIsbil7cmV0dXJuIGkudHlwZT1cInRocm93XCIsaS5hcmc9dCxlLm5leHQ9cixuJiYoZS5tZXRob2Q9XCJuZXh0XCIsZS5hcmc9cCksISFufWZvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciBvPXRoaXMudHJ5RW50cmllc1tuXSxpPW8uY29tcGxldGlvbjtpZihcInJvb3RcIj09PW8udHJ5TG9jKXJldHVybiByKFwiZW5kXCIpO2lmKG8udHJ5TG9jPD10aGlzLnByZXYpe3ZhciBhPXkuY2FsbChvLFwiY2F0Y2hMb2NcIiksdT15LmNhbGwobyxcImZpbmFsbHlMb2NcIik7aWYoYSYmdSl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIHIoby5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PG8uZmluYWxseUxvYylyZXR1cm4gcihvLmZpbmFsbHlMb2MpfWVsc2UgaWYoYSl7aWYodGhpcy5wcmV2PG8uY2F0Y2hMb2MpcmV0dXJuIHIoby5jYXRjaExvYywhMCl9ZWxzZXtpZighdSl0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiByKG8uZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tyXTtpZihuLnRyeUxvYzw9dGhpcy5wcmV2JiZ5LmNhbGwobixcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxuLmZpbmFsbHlMb2Mpe3ZhciBvPW47YnJlYWt9fW8mJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmby50cnlMb2M8PWUmJmU8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGk9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGkudHlwZT10LGkuYXJnPWUsbz8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PW8uZmluYWxseUxvYyxBKTp0aGlzLmNvbXBsZXRlKGkpfSxjb21wbGV0ZTpmdW5jdGlvbih0LGUpe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJmUmJih0aGlzLm5leHQ9ZSksQX0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7ZT49MDstLWUpe3ZhciByPXRoaXMudHJ5RW50cmllc1tlXTtpZihyLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxxKHIpLEF9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO2U+PTA7LS1lKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbZV07aWYoci50cnlMb2M9PT10KXt2YXIgbj1yLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09bi50eXBlKXt2YXIgbz1uLmFyZztxKHIpfXJldHVybiBvfX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpZKHQpLHJlc3VsdE5hbWU6ZSxuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1wKSxBfX0sdn10LmV4cG9ydHM9aCx0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHN9KHptKTt2YXIgbUU9KDAsem0uZXhwb3J0cykoKSxiRT1tRTt0cnl7cmVnZW5lcmF0b3JSdW50aW1lPW1FfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXMucmVnZW5lcmF0b3JSdW50aW1lPW1FOkZ1bmN0aW9uKFwiclwiLFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShtRSl9dmFyIHdFPW4oYkUpLF9FPXtleHBvcnRzOnt9fSxURT11KChmdW5jdGlvbigpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyKXt2YXIgdD1uZXcgQXJyYXlCdWZmZXIoOCk7T2JqZWN0LmlzRXh0ZW5zaWJsZSh0KSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJhXCIse3ZhbHVlOjh9KX19KSksRUU9dSxPRT1ydCxTRT1ULHhFPVRFLGtFPU9iamVjdC5pc0V4dGVuc2libGUsakU9RUUoKGZ1bmN0aW9uKCl7a0UoMSl9KSl8fHhFP2Z1bmN0aW9uKHQpe3JldHVybiEhT0UodCkmJigoIXhFfHxcIkFycmF5QnVmZmVyXCIhPT1TRSh0KSkmJigha0V8fGtFKHQpKSl9OmtFLEFFPSF1KChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpLFBFPVByLElFPW0sREU9cG8sTEU9cnQsQ0U9dGUsUkU9WmUuZixNRT1KbyxORT1abyxGRT1qRSx6RT1BRSxVRT0hMSxxRT1pZShcIm1ldGFcIiksV0U9MCxZRT1mdW5jdGlvbih0KXtSRSh0LHFFLHt2YWx1ZTp7b2JqZWN0SUQ6XCJPXCIrV0UrKyx3ZWFrRGF0YTp7fX19KX0sR0U9X0UuZXhwb3J0cz17ZW5hYmxlOmZ1bmN0aW9uKCl7R0UuZW5hYmxlPWZ1bmN0aW9uKCl7fSxVRT0hMDt2YXIgdD1NRS5mLGU9SUUoW10uc3BsaWNlKSxyPXt9O3JbcUVdPTEsdChyKS5sZW5ndGgmJihNRS5mPWZ1bmN0aW9uKHIpe2Zvcih2YXIgbj10KHIpLG89MCxpPW4ubGVuZ3RoO288aTtvKyspaWYobltvXT09PXFFKXtlKG4sbywxKTticmVha31yZXR1cm4gbn0sUEUoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7Z2V0T3duUHJvcGVydHlOYW1lczpORS5mfSkpfSxmYXN0S2V5OmZ1bmN0aW9uKHQsZSl7aWYoIUxFKHQpKXJldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6KFwic3RyaW5nXCI9PXR5cGVvZiB0P1wiU1wiOlwiUFwiKSt0O2lmKCFDRSh0LHFFKSl7aWYoIUZFKHQpKXJldHVyblwiRlwiO2lmKCFlKXJldHVyblwiRVwiO1lFKHQpfXJldHVybiB0W3FFXS5vYmplY3RJRH0sZ2V0V2Vha0RhdGE6ZnVuY3Rpb24odCxlKXtpZighQ0UodCxxRSkpe2lmKCFGRSh0KSlyZXR1cm4hMDtpZighZSlyZXR1cm4hMTtZRSh0KX1yZXR1cm4gdFtxRV0ud2Vha0RhdGF9LG9uRnJlZXplOmZ1bmN0aW9uKHQpe3JldHVybiB6RSYmVUUmJkZFKHQpJiYhQ0UodCxxRSkmJllFKHQpLHR9fTtERVtxRV09ITA7dmFyIFhFPV9FLmV4cG9ydHMsVkU9UHIsQkU9YSxIRT1YRSxLRT11LEpFPW1yLCRFPWJiLFFFPUtiLFpFPUEsdE89cnQsZU89QixyTz16aSxuTz1aZS5mLG9PPWNhLmZvckVhY2gsaU89SSxhTz1lYS5zZXQsdU89ZWEuZ2V0dGVyRm9yLHNPPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixvPS0xIT09dC5pbmRleE9mKFwiTWFwXCIpLGk9LTEhPT10LmluZGV4T2YoXCJXZWFrXCIpLGE9bz9cInNldFwiOlwiYWRkXCIsdT1CRVt0XSxzPXUmJnUucHJvdG90eXBlLGM9e307aWYoaU8mJlpFKHUpJiYoaXx8cy5mb3JFYWNoJiYhS0UoKGZ1bmN0aW9uKCl7KG5ldyB1KS5lbnRyaWVzKCkubmV4dCgpfSkpKSl7dmFyIGY9KG49ZSgoZnVuY3Rpb24oZSxyKXthTyhRRShlLGYpLHt0eXBlOnQsY29sbGVjdGlvbjpuZXcgdX0pLGVPKHIpfHwkRShyLGVbYV0se3RoYXQ6ZSxBU19FTlRSSUVTOm99KX0pKSkucHJvdG90eXBlLGw9dU8odCk7b08oW1wiYWRkXCIsXCJjbGVhclwiLFwiZGVsZXRlXCIsXCJmb3JFYWNoXCIsXCJnZXRcIixcImhhc1wiLFwic2V0XCIsXCJrZXlzXCIsXCJ2YWx1ZXNcIixcImVudHJpZXNcIl0sKGZ1bmN0aW9uKHQpe3ZhciBlPVwiYWRkXCI9PT10fHxcInNldFwiPT09dDshKHQgaW4gcyl8fGkmJlwiY2xlYXJcIj09PXR8fEpFKGYsdCwoZnVuY3Rpb24ocixuKXt2YXIgbz1sKHRoaXMpLmNvbGxlY3Rpb247aWYoIWUmJmkmJiF0TyhyKSlyZXR1cm5cImdldFwiPT09dCYmdm9pZCAwO3ZhciBhPW9bdF0oMD09PXI/MDpyLG4pO3JldHVybiBlP3RoaXM6YX0pKX0pKSxpfHxuTyhmLFwic2l6ZVwiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGwodGhpcykuY29sbGVjdGlvbi5zaXplfX0pfWVsc2Ugbj1yLmdldENvbnN0cnVjdG9yKGUsdCxvLGEpLEhFLmVuYWJsZSgpO3JldHVybiByTyhuLHQsITEsITApLGNbdF09bixWRSh7Z2xvYmFsOiEwLGZvcmNlZDohMH0sYyksaXx8ci5zZXRTdHJvbmcobix0LG8pLG59LGNPPXBpLGZPPUtvLGxPPWRpLGhPPWZ1bmN0aW9uKHQsZSxyKXtmb3IodmFyIG4gaW4gZSlyJiZyLnVuc2FmZSYmdFtuXT90W25dPWVbbl06Y08odCxuLGVbbl0scik7cmV0dXJuIHR9LHBPPVFlLHZPPUtiLGRPPUIseU89YmIsZ089T2MsbU89U2MsYk89VmIsd089SSxfTz1YRS5mYXN0S2V5LFRPPWVhLnNldCxFTz1lYS5nZXR0ZXJGb3IsT089e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBvPXQoKGZ1bmN0aW9uKHQsbyl7dk8odCxpKSxUTyh0LHt0eXBlOmUsaW5kZXg6Zk8obnVsbCksZmlyc3Q6dm9pZCAwLGxhc3Q6dm9pZCAwLHNpemU6MH0pLHdPfHwodC5zaXplPTApLGRPKG8pfHx5TyhvLHRbbl0se3RoYXQ6dCxBU19FTlRSSUVTOnJ9KX0pKSxpPW8ucHJvdG90eXBlLGE9RU8oZSksdT1mdW5jdGlvbih0LGUscil7dmFyIG4sbyxpPWEodCksdT1zKHQsZSk7cmV0dXJuIHU/dS52YWx1ZT1yOihpLmxhc3Q9dT17aW5kZXg6bz1fTyhlLCEwKSxrZXk6ZSx2YWx1ZTpyLHByZXZpb3VzOm49aS5sYXN0LG5leHQ6dm9pZCAwLHJlbW92ZWQ6ITF9LGkuZmlyc3R8fChpLmZpcnN0PXUpLG4mJihuLm5leHQ9dSksd08/aS5zaXplKys6dC5zaXplKyssXCJGXCIhPT1vJiYoaS5pbmRleFtvXT11KSksdH0scz1mdW5jdGlvbih0LGUpe3ZhciByLG49YSh0KSxvPV9PKGUpO2lmKFwiRlwiIT09bylyZXR1cm4gbi5pbmRleFtvXTtmb3Iocj1uLmZpcnN0O3I7cj1yLm5leHQpaWYoci5rZXk9PT1lKXJldHVybiByfTtyZXR1cm4gaE8oaSx7Y2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YSh0aGlzKSxlPXQuaW5kZXgscj10LmZpcnN0O3I7KXIucmVtb3ZlZD0hMCxyLnByZXZpb3VzJiYoci5wcmV2aW91cz1yLnByZXZpb3VzLm5leHQ9dm9pZCAwKSxkZWxldGUgZVtyLmluZGV4XSxyPXIubmV4dDt0LmZpcnN0PXQubGFzdD12b2lkIDAsd08/dC5zaXplPTA6dGhpcy5zaXplPTB9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9YShlKSxuPXMoZSx0KTtpZihuKXt2YXIgbz1uLm5leHQsaT1uLnByZXZpb3VzO2RlbGV0ZSByLmluZGV4W24uaW5kZXhdLG4ucmVtb3ZlZD0hMCxpJiYoaS5uZXh0PW8pLG8mJihvLnByZXZpb3VzPWkpLHIuZmlyc3Q9PT1uJiYoci5maXJzdD1vKSxyLmxhc3Q9PT1uJiYoci5sYXN0PWkpLHdPP3Iuc2l6ZS0tOmUuc2l6ZS0tfXJldHVybiEhbn0sZm9yRWFjaDpmdW5jdGlvbih0KXtmb3IodmFyIGUscj1hKHRoaXMpLG49cE8odCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCk7ZT1lP2UubmV4dDpyLmZpcnN0Oylmb3IobihlLnZhbHVlLGUua2V5LHRoaXMpO2UmJmUucmVtb3ZlZDspZT1lLnByZXZpb3VzfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuISFzKHRoaXMsdCl9fSksaE8oaSxyP3tnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9cyh0aGlzLHQpO3JldHVybiBlJiZlLnZhbHVlfSxzZXQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdSh0aGlzLDA9PT10PzA6dCxlKX19OnthZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHUodGhpcyx0PTA9PT10PzA6dCx0KX19KSx3TyYmbE8oaSxcInNpemVcIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnNpemV9fSksb30sc2V0U3Ryb25nOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1lK1wiIEl0ZXJhdG9yXCIsbz1FTyhlKSxpPUVPKG4pO2dPKHQsZSwoZnVuY3Rpb24odCxlKXtUTyh0aGlzLHt0eXBlOm4sdGFyZ2V0OnQsc3RhdGU6byh0KSxraW5kOmUsbGFzdDp2b2lkIDB9KX0pLChmdW5jdGlvbigpe2Zvcih2YXIgdD1pKHRoaXMpLGU9dC5raW5kLHI9dC5sYXN0O3ImJnIucmVtb3ZlZDspcj1yLnByZXZpb3VzO3JldHVybiB0LnRhcmdldCYmKHQubGFzdD1yPXI/ci5uZXh0OnQuc3RhdGUuZmlyc3QpP21PKFwia2V5c1wiPT09ZT9yLmtleTpcInZhbHVlc1wiPT09ZT9yLnZhbHVlOltyLmtleSxyLnZhbHVlXSwhMSk6KHQudGFyZ2V0PXZvaWQgMCxtTyh2b2lkIDAsITApKX0pLHI/XCJlbnRyaWVzXCI6XCJ2YWx1ZXNcIiwhciwhMCksYk8oZSl9fTtzTyhcIk1hcFwiLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSksT08pO3ZhciBTTz1uKG50Lk1hcCkseE89Y2Euc29tZTtQcih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IW1sKFwic29tZVwiKX0se3NvbWU6ZnVuY3Rpb24odCl7cmV0dXJuIHhPKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIGtPPW5sKFwiQXJyYXlcIixcInNvbWVcIiksak89Y3QsQU89a08sUE89QXJyYXkucHJvdG90eXBlLElPPW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc29tZTtyZXR1cm4gdD09PVBPfHxqTyhQTyx0KSYmZT09PVBPLnNvbWU/QU86ZX0pKSxETz1ubChcIkFycmF5XCIsXCJrZXlzXCIpLExPPWZuLENPPXRlLFJPPWN0LE1PPURPLE5PPUFycmF5LnByb3RvdHlwZSxGTz17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSx6Tz1uKChmdW5jdGlvbih0KXt2YXIgZT10LmtleXM7cmV0dXJuIHQ9PT1OT3x8Uk8oTk8sdCkmJmU9PT1OTy5rZXlzfHxDTyhGTyxMTyh0KSk/TU86ZX0pKSxVTz1paSxxTz1NYXRoLmZsb29yLFdPPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5sZW5ndGgsbj1xTyhyLzIpO3JldHVybiByPDg/WU8odCxlKTpHTyh0LFdPKFVPKHQsMCxuKSxlKSxXTyhVTyh0LG4pLGUpLGUpfSxZTz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcixuLG89dC5sZW5ndGgsaT0xO2k8bzspe2ZvcihuPWkscj10W2ldO24mJmUodFtuLTFdLHIpPjA7KXRbbl09dFstLW5dO24hPT1pKysmJih0W25dPXIpfXJldHVybiB0fSxHTz1mdW5jdGlvbih0LGUscixuKXtmb3IodmFyIG89ZS5sZW5ndGgsaT1yLmxlbmd0aCxhPTAsdT0wO2E8b3x8dTxpOyl0W2ErdV09YTxvJiZ1PGk/bihlW2FdLHJbdV0pPD0wP2VbYSsrXTpyW3UrK106YTxvP2VbYSsrXTpyW3UrK107cmV0dXJuIHR9LFhPPVdPLFZPPWZ0Lm1hdGNoKC9maXJlZm94XFwvKFxcZCspL2kpLEJPPSEhVk8mJitWT1sxXSxITz0vTVNJRXxUcmlkZW50Ly50ZXN0KGZ0KSxLTz1mdC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSxKTz0hIUtPJiYrS09bMV0sJE89UHIsUU89bSxaTz1MdCx0Uz0kdCxlUz1IcixyUz1UdixuUz1ybyxvUz11LGlTPVhPLGFTPW1sLHVTPUJPLHNTPUhPLGNTPWd0LGZTPUpPLGxTPVtdLGhTPVFPKGxTLnNvcnQpLHBTPVFPKGxTLnB1c2gpLHZTPW9TKChmdW5jdGlvbigpe2xTLnNvcnQodm9pZCAwKX0pKSxkUz1vUygoZnVuY3Rpb24oKXtsUy5zb3J0KG51bGwpfSkpLHlTPWFTKFwic29ydFwiKSxnUz0hb1MoKGZ1bmN0aW9uKCl7aWYoY1MpcmV0dXJuIGNTPDcwO2lmKCEodVMmJnVTPjMpKXtpZihzUylyZXR1cm4hMDtpZihmUylyZXR1cm4gZlM8NjAzO3ZhciB0LGUscixuLG89XCJcIjtmb3IodD02NTt0PDc2O3QrKyl7c3dpdGNoKGU9U3RyaW5nLmZyb21DaGFyQ29kZSh0KSx0KXtjYXNlIDY2OmNhc2UgNjk6Y2FzZSA3MDpjYXNlIDcyOnI9MzticmVhaztjYXNlIDY4OmNhc2UgNzE6cj00O2JyZWFrO2RlZmF1bHQ6cj0yfWZvcihuPTA7bjw0NztuKyspbFMucHVzaCh7azplK24sdjpyfSl9Zm9yKGxTLnNvcnQoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUudi10LnZ9KSksbj0wO248bFMubGVuZ3RoO24rKyllPWxTW25dLmsuY2hhckF0KDApLG8uY2hhckF0KG8ubGVuZ3RoLTEpIT09ZSYmKG8rPWUpO3JldHVyblwiREdCRUZIQUNJSktcIiE9PW99fSkpOyRPKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDp2U3x8IWRTfHwheVN8fCFnU30se3NvcnQ6ZnVuY3Rpb24odCl7dm9pZCAwIT09dCYmWk8odCk7dmFyIGU9dFModGhpcyk7aWYoZ1MpcmV0dXJuIHZvaWQgMD09PXQ/aFMoZSk6aFMoZSx0KTt2YXIgcixuLG89W10saT1lUyhlKTtmb3Iobj0wO248aTtuKyspbiBpbiBlJiZwUyhvLGVbbl0pO2ZvcihpUyhvLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDA9PT1yPy0xOnZvaWQgMD09PWU/MTp2b2lkIDAhPT10Pyt0KGUscil8fDA6blMoZSk+blMocik/MTotMX19KHQpKSxyPWVTKG8pLG49MDtuPHI7KWVbbl09b1tuKytdO2Zvcig7bjxpOylyUyhlLG4rKyk7cmV0dXJuIGV9fSk7dmFyIG1TPW5sKFwiQXJyYXlcIixcInNvcnRcIiksYlM9Y3Qsd1M9bVMsX1M9QXJyYXkucHJvdG90eXBlLFRTPW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQuc29ydDtyZXR1cm4gdD09PV9TfHxiUyhfUyx0KSYmZT09PV9TLnNvcnQ/d1M6ZX0pKSxFUz1ubChcIkFycmF5XCIsXCJ2YWx1ZXNcIiksT1M9Zm4sU1M9dGUseFM9Y3Qsa1M9RVMsalM9QXJyYXkucHJvdG90eXBlLEFTPXtET01Ub2tlbkxpc3Q6ITAsTm9kZUxpc3Q6ITB9LFBTPW4oKGZ1bmN0aW9uKHQpe3ZhciBlPXQudmFsdWVzO3JldHVybiB0PT09alN8fHhTKGpTLHQpJiZlPT09alMudmFsdWVzfHxTUyhBUyxPUyh0KSk/a1M6ZX0pKSxJUz1uKENmKSxEUz1ubChcIkFycmF5XCIsXCJlbnRyaWVzXCIpLExTPWZuLENTPXRlLFJTPWN0LE1TPURTLE5TPUFycmF5LnByb3RvdHlwZSxGUz17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSx6Uz1uKChmdW5jdGlvbih0KXt2YXIgZT10LmVudHJpZXM7cmV0dXJuIHQ9PT1OU3x8UlMoTlMsdCkmJmU9PT1OUy5lbnRyaWVzfHxDUyhGUyxMUyh0KSk/TVM6ZX0pKTtsZXQgVVM7Y29uc3QgcVM9bmV3IFVpbnQ4QXJyYXkoMTYpO2Z1bmN0aW9uIFdTKCl7aWYoIVVTJiYoVVM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byksIVVTKSl0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZFwiKTtyZXR1cm4gVVMocVMpfWNvbnN0IFlTPVtdO2ZvcihsZXQgdD0wO3Q8MjU2OysrdClZUy5wdXNoKCh0KzI1NikudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTt2YXIgR1M9e3JhbmRvbVVVSUQ6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLnJhbmRvbVVVSUQmJmNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKX07ZnVuY3Rpb24gWFModCxlLHIpe2lmKEdTLnJhbmRvbVVVSUQmJiFlJiYhdClyZXR1cm4gR1MucmFuZG9tVVVJRCgpO2NvbnN0IG49KHQ9dHx8e30pLnJhbmRvbXx8KHQucm5nfHxXUykoKTtpZihuWzZdPTE1Jm5bNl18NjQsbls4XT02MyZuWzhdfDEyOCxlKXtyPXJ8fDA7Zm9yKGxldCB0PTA7dDwxNjsrK3QpZVtyK3RdPW5bdF07cmV0dXJuIGV9cmV0dXJuIGZ1bmN0aW9uKHQsZT0wKXtyZXR1cm4gWVNbdFtlKzBdXStZU1t0W2UrMV1dK1lTW3RbZSsyXV0rWVNbdFtlKzNdXStcIi1cIitZU1t0W2UrNF1dK1lTW3RbZSs1XV0rXCItXCIrWVNbdFtlKzZdXStZU1t0W2UrN11dK1wiLVwiK1lTW3RbZSs4XV0rWVNbdFtlKzldXStcIi1cIitZU1t0W2UrMTBdXStZU1t0W2UrMTFdXStZU1t0W2UrMTJdXStZU1t0W2UrMTNdXStZU1t0W2UrMTRdXStZU1t0W2UrMTVdXX0obil9ZnVuY3Rpb24gVlModCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fXZhciBCUz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQocil7ZSh0aGlzLHQpLFdmKHRoaXMsXCJfcXVldWVcIixbXSksV2YodGhpcyxcIl90aW1lb3V0XCIsbnVsbCksV2YodGhpcyxcIl9leHRlbmRlZFwiLG51bGwpLHRoaXMuZGVsYXk9bnVsbCx0aGlzLm1heD0xLzAsdGhpcy5zZXRPcHRpb25zKHIpfXJldHVybiBxZih0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3QmJnZvaWQgMCE9PXQuZGVsYXkmJih0aGlzLmRlbGF5PXQuZGVsYXkpLHQmJnZvaWQgMCE9PXQubWF4JiYodGhpcy5tYXg9dC5tYXgpLHRoaXMuX2ZsdXNoSWZOZWVkZWQoKX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmZsdXNoKCksdGhpcy5fZXh0ZW5kZWQpe2Zvcih2YXIgdD10aGlzLl9leHRlbmRlZC5vYmplY3QsZT10aGlzLl9leHRlbmRlZC5tZXRob2RzLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtuLm9yaWdpbmFsP3Rbbi5uYW1lXT1uLm9yaWdpbmFsOmRlbGV0ZSB0W24ubmFtZV19dGhpcy5fZXh0ZW5kZWQ9bnVsbH19fSx7a2V5OlwicmVwbGFjZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcyxuPXRbZV07aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIFwiK2UrXCIgdW5kZWZpbmVkXCIpO3RbZV09ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxvPTA7bzx0O28rKyllW29dPWFyZ3VtZW50c1tvXTtyLnF1ZXVlKHthcmdzOmUsZm46bixjb250ZXh0OnRoaXN9KX19fSx7a2V5OlwicXVldWVcIix2YWx1ZTpmdW5jdGlvbih0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3RoaXMuX3F1ZXVlLnB1c2goe2ZuOnR9KTp0aGlzLl9xdWV1ZS5wdXNoKHQpLHRoaXMuX2ZsdXNoSWZOZWVkZWQoKX19LHtrZXk6XCJfZmx1c2hJZk5lZWRlZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9xdWV1ZS5sZW5ndGg+dGhpcy5tYXgmJnRoaXMuZmx1c2goKSxudWxsIT10aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCksdGhpcy5xdWV1ZS5sZW5ndGg+MCYmXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuZGVsYXkmJih0aGlzLl90aW1lb3V0PURkKChmdW5jdGlvbigpe3QuZmx1c2goKX0pLHRoaXMuZGVsYXkpKX19LHtrZXk6XCJmbHVzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZTtjdih0PVV2KGU9dGhpcy5fcXVldWUpLmNhbGwoZSwwKSkuY2FsbCh0LChmdW5jdGlvbih0KXt0LmZuLmFwcGx5KHQuY29udGV4dHx8dC5mbix0LmFyZ3N8fFtdKX0pKX19XSxbe2tleTpcImV4dGVuZFwiLHZhbHVlOmZ1bmN0aW9uKGUscil7dmFyIG49bmV3IHQocik7aWYodm9pZCAwIT09ZS5mbHVzaCl0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgb2JqZWN0IGFscmVhZHkgaGFzIGEgcHJvcGVydHkgZmx1c2hcIik7ZS5mbHVzaD1mdW5jdGlvbigpe24uZmx1c2goKX07dmFyIG89W3tuYW1lOlwiZmx1c2hcIixvcmlnaW5hbDp2b2lkIDB9XTtpZihyJiZyLnJlcGxhY2UpZm9yKHZhciBpPTA7aTxyLnJlcGxhY2UubGVuZ3RoO2krKyl7dmFyIGE9ci5yZXBsYWNlW2ldO28ucHVzaCh7bmFtZTphLG9yaWdpbmFsOmVbYV19KSxuLnJlcGxhY2UoZSxhKX1yZXR1cm4gbi5fZXh0ZW5kZWQ9e29iamVjdDplLG1ldGhvZHM6b30sbn19XSksdH0oKSxIUz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtlKHRoaXMsdCksV2YodGhpcyxcIl9zdWJzY3JpYmVyc1wiLHtcIipcIjpbXSxhZGQ6W10scmVtb3ZlOltdLHVwZGF0ZTpbXX0pLFdmKHRoaXMsXCJzdWJzY3JpYmVcIix0LnByb3RvdHlwZS5vbiksV2YodGhpcyxcInVuc3Vic2NyaWJlXCIsdC5wcm90b3R5cGUub2ZmKX1yZXR1cm4gcWYodCxbe2tleTpcIl90cmlnZ2VyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLHIpe3ZhciBuLG87aWYoXCIqXCI9PT10KXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB0cmlnZ2VyIGV2ZW50ICpcIik7Y3Yobj1VcChvPVtdKS5jYWxsKG8sQ3AodGhpcy5fc3Vic2NyaWJlcnNbdF0pLENwKHRoaXMuX3N1YnNjcmliZXJzW1wiKlwiXSkpKS5jYWxsKG4sKGZ1bmN0aW9uKG4pe24odCxlLG51bGwhPXI/cjpudWxsKX0pKX19LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmdGhpcy5fc3Vic2NyaWJlcnNbdF0ucHVzaChlKX19LHtrZXk6XCJvZmZcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByO3RoaXMuX3N1YnNjcmliZXJzW3RdPUlsKHI9dGhpcy5fc3Vic2NyaWJlcnNbdF0pLmNhbGwociwoZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1lfSkpfX1dKSx0fSgpO3NPKFwiU2V0XCIsKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0KHRoaXMsYXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMF06dm9pZCAwKX19KSxPTyk7dmFyIEtTPW4obnQuU2V0KSxKUz1uKEVoKTtmdW5jdGlvbiAkUyh0LGUpe3ZhciByPXZvaWQgMCE9PVJwJiZYaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIXIpe2lmKEtwKHQpfHwocj1mdW5jdGlvbih0LGUpe3ZhciByO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gUVModCxlKTt2YXIgbj1xcChyPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChyLDgsLTEpO1wiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bilyZXR1cm4gV2godCk7aWYoXCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBRUyh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7ciYmKHQ9cik7dmFyIG49MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gbj49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbisrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIGksYT0hMCx1PSExO3JldHVybntzOmZ1bmN0aW9uKCl7cj1yLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1yLm5leHQoKTtyZXR1cm4gYT10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXt1PSEwLGk9dH0sZjpmdW5jdGlvbigpe3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKHUpdGhyb3cgaX19fX1mdW5jdGlvbiBRUyh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KGUpO3I8ZTtyKyspbltyXT10W3JdO3JldHVybiBufXZhciBaUz1mdW5jdGlvbih0KXtmdW5jdGlvbiByKHQpe2UodGhpcyxyKSx0aGlzLl9wYWlycz10fXJldHVybiBxZihyLFt7a2V5OnQsdmFsdWU6d0UubWFyaygoZnVuY3Rpb24gdCgpe3ZhciBlLHIsbixvLGk7cmV0dXJuIHdFLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmU9JFModGhpcy5fcGFpcnMpLHQucHJldj0xLGUucygpO2Nhc2UgMzppZigocj1lLm4oKSkuZG9uZSl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIG49THAoci52YWx1ZSwyKSxvPW5bMF0saT1uWzFdLHQubmV4dD03LFtvLGldO2Nhc2UgNzp0Lm5leHQ9MzticmVhaztjYXNlIDk6dC5uZXh0PTE0O2JyZWFrO2Nhc2UgMTE6dC5wcmV2PTExLHQudDA9dC5jYXRjaCgxKSxlLmUodC50MCk7Y2FzZSAxNDpyZXR1cm4gdC5wcmV2PTE0LGUuZigpLHQuZmluaXNoKDE0KTtjYXNlIDE3OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1sxLDExLDE0LDE3XV0pfSkpfSx7a2V5OlwiZW50cmllc1wiLHZhbHVlOndFLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxyLG4sbyxpO3JldHVybiB3RS53cmFwKChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDplPSRTKHRoaXMuX3BhaXJzKSx0LnByZXY9MSxlLnMoKTtjYXNlIDM6aWYoKHI9ZS5uKCkpLmRvbmUpe3QubmV4dD05O2JyZWFrfXJldHVybiBuPUxwKHIudmFsdWUsMiksbz1uWzBdLGk9blsxXSx0Lm5leHQ9NyxbbyxpXTtjYXNlIDc6dC5uZXh0PTM7YnJlYWs7Y2FzZSA5OnQubmV4dD0xNDticmVhaztjYXNlIDExOnQucHJldj0xMSx0LnQwPXQuY2F0Y2goMSksZS5lKHQudDApO2Nhc2UgMTQ6cmV0dXJuIHQucHJldj0xNCxlLmYoKSx0LmZpbmlzaCgxNCk7Y2FzZSAxNzpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzLFtbMSwxMSwxNCwxN11dKX0pKX0se2tleTpcImtleXNcIix2YWx1ZTp3RS5tYXJrKChmdW5jdGlvbiB0KCl7dmFyIGUscixuLG87cmV0dXJuIHdFLndyYXAoKGZ1bmN0aW9uKHQpe2Zvcig7Oylzd2l0Y2godC5wcmV2PXQubmV4dCl7Y2FzZSAwOmU9JFModGhpcy5fcGFpcnMpLHQucHJldj0xLGUucygpO2Nhc2UgMzppZigocj1lLm4oKSkuZG9uZSl7dC5uZXh0PTk7YnJlYWt9cmV0dXJuIG49THAoci52YWx1ZSwxKSxvPW5bMF0sdC5uZXh0PTcsbztjYXNlIDc6dC5uZXh0PTM7YnJlYWs7Y2FzZSA5OnQubmV4dD0xNDticmVhaztjYXNlIDExOnQucHJldj0xMSx0LnQwPXQuY2F0Y2goMSksZS5lKHQudDApO2Nhc2UgMTQ6cmV0dXJuIHQucHJldj0xNCxlLmYoKSx0LmZpbmlzaCgxNCk7Y2FzZSAxNzpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSksdCx0aGlzLFtbMSwxMSwxNCwxN11dKX0pKX0se2tleTpcInZhbHVlc1wiLHZhbHVlOndFLm1hcmsoKGZ1bmN0aW9uIHQoKXt2YXIgZSxyLG4sbztyZXR1cm4gd0Uud3JhcCgoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6ZT0kUyh0aGlzLl9wYWlycyksdC5wcmV2PTEsZS5zKCk7Y2FzZSAzOmlmKChyPWUubigpKS5kb25lKXt0Lm5leHQ9OTticmVha31yZXR1cm4gbj1McChyLnZhbHVlLDIpLG89blsxXSx0Lm5leHQ9NyxvO2Nhc2UgNzp0Lm5leHQ9MzticmVhaztjYXNlIDk6dC5uZXh0PTE0O2JyZWFrO2Nhc2UgMTE6dC5wcmV2PTExLHQudDA9dC5jYXRjaCgxKSxlLmUodC50MCk7Y2FzZSAxNDpyZXR1cm4gdC5wcmV2PTE0LGUuZigpLHQuZmluaXNoKDE0KTtjYXNlIDE3OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19KSx0LHRoaXMsW1sxLDExLDE0LDE3XV0pfSkpfSx7a2V5OlwidG9JZEFycmF5XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gTmwodD1DcCh0aGlzLl9wYWlycykpLmNhbGwodCwoZnVuY3Rpb24odCl7cmV0dXJuIHRbMF19KSl9fSx7a2V5OlwidG9JdGVtQXJyYXlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O3JldHVybiBObCh0PUNwKHRoaXMuX3BhaXJzKSkuY2FsbCh0LChmdW5jdGlvbih0KXtyZXR1cm4gdFsxXX0pKX19LHtrZXk6XCJ0b0VudHJ5QXJyYXlcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBDcCh0aGlzLl9wYWlycyl9fSx7a2V5OlwidG9PYmplY3RNYXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU9c2QobnVsbCkscj0kUyh0aGlzLl9wYWlycyk7dHJ5e2ZvcihyLnMoKTshKHQ9ci5uKCkpLmRvbmU7KXt2YXIgbj1McCh0LnZhbHVlLDIpLG89blswXSxpPW5bMV07ZVtvXT1pfX1jYXRjaCh0KXtyLmUodCl9ZmluYWxseXtyLmYoKX1yZXR1cm4gZX19LHtrZXk6XCJ0b01hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBTTyh0aGlzLl9wYWlycyl9fSx7a2V5OlwidG9JZFNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBLUyh0aGlzLnRvSWRBcnJheSgpKX19LHtrZXk6XCJ0b0l0ZW1TZXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgS1ModGhpcy50b0l0ZW1BcnJheSgpKX19LHtrZXk6XCJjYWNoZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKENwKHRoaXMuX3BhaXJzKSl9fSx7a2V5OlwiZGlzdGluY3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxyPW5ldyBLUyxuPSRTKHRoaXMuX3BhaXJzKTt0cnl7Zm9yKG4ucygpOyEoZT1uLm4oKSkuZG9uZTspe3ZhciBvPUxwKGUudmFsdWUsMiksaT1vWzBdLGE9b1sxXTtyLmFkZCh0KGEsaSkpfX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX1yZXR1cm4gcn19LHtrZXk6XCJmaWx0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wYWlycztyZXR1cm4gbmV3IHIoe1tJU106KCk9PndFLm1hcmsoKGZ1bmN0aW9uIHIoKXt2YXIgbixvLGksYSx1O3JldHVybiB3RS53cmFwKChmdW5jdGlvbihyKXtmb3IoOzspc3dpdGNoKHIucHJldj1yLm5leHQpe2Nhc2UgMDpuPSRTKGUpLHIucHJldj0xLG4ucygpO2Nhc2UgMzppZigobz1uLm4oKSkuZG9uZSl7ci5uZXh0PTEwO2JyZWFrfWlmKGk9THAoby52YWx1ZSwyKSxhPWlbMF0sdT1pWzFdLCF0KHUsYSkpe3IubmV4dD04O2JyZWFrfXJldHVybiByLm5leHQ9OCxbYSx1XTtjYXNlIDg6ci5uZXh0PTM7YnJlYWs7Y2FzZSAxMDpyLm5leHQ9MTU7YnJlYWs7Y2FzZSAxMjpyLnByZXY9MTIsci50MD1yLmNhdGNoKDEpLG4uZShyLnQwKTtjYXNlIDE1OnJldHVybiByLnByZXY9MTUsbi5mKCksci5maW5pc2goMTUpO2Nhc2UgMTg6Y2FzZVwiZW5kXCI6cmV0dXJuIHIuc3RvcCgpfX0pLHIsbnVsbCxbWzEsMTIsMTUsMThdXSl9KSkoKX0pfX0se2tleTpcImZvckVhY2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxyPSRTKHRoaXMuX3BhaXJzKTt0cnl7Zm9yKHIucygpOyEoZT1yLm4oKSkuZG9uZTspe3ZhciBuPUxwKGUudmFsdWUsMiksbz1uWzBdO3QoblsxXSxvKX19Y2F0Y2godCl7ci5lKHQpfWZpbmFsbHl7ci5mKCl9fX0se2tleTpcIm1hcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BhaXJzO3JldHVybiBuZXcgcih7W0lTXTooKT0+d0UubWFyaygoZnVuY3Rpb24gcigpe3ZhciBuLG8saSxhLHU7cmV0dXJuIHdFLndyYXAoKGZ1bmN0aW9uKHIpe2Zvcig7Oylzd2l0Y2goci5wcmV2PXIubmV4dCl7Y2FzZSAwOm49JFMoZSksci5wcmV2PTEsbi5zKCk7Y2FzZSAzOmlmKChvPW4ubigpKS5kb25lKXtyLm5leHQ9OTticmVha31yZXR1cm4gaT1McChvLnZhbHVlLDIpLGE9aVswXSx1PWlbMV0sci5uZXh0PTcsW2EsdCh1LGEpXTtjYXNlIDc6ci5uZXh0PTM7YnJlYWs7Y2FzZSA5OnIubmV4dD0xNDticmVhaztjYXNlIDExOnIucHJldj0xMSxyLnQwPXIuY2F0Y2goMSksbi5lKHIudDApO2Nhc2UgMTQ6cmV0dXJuIHIucHJldj0xNCxuLmYoKSxyLmZpbmlzaCgxNCk7Y2FzZSAxNzpjYXNlXCJlbmRcIjpyZXR1cm4gci5zdG9wKCl9fSkscixudWxsLFtbMSwxMSwxNCwxN11dKX0pKSgpfSl9fSx7a2V5OlwibWF4XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9SlModGhpcy5fcGFpcnMpLHI9ZS5uZXh0KCk7aWYoci5kb25lKXJldHVybiBudWxsO2Zvcih2YXIgbj1yLnZhbHVlWzFdLG89dChyLnZhbHVlWzFdLHIudmFsdWVbMF0pOyEocj1lLm5leHQoKSkuZG9uZTspe3ZhciBpPUxwKHIudmFsdWUsMiksYT1pWzBdLHU9aVsxXSxzPXQodSxhKTtzPm8mJihvPXMsbj11KX1yZXR1cm4gbn19LHtrZXk6XCJtaW5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1KUyh0aGlzLl9wYWlycykscj1lLm5leHQoKTtpZihyLmRvbmUpcmV0dXJuIG51bGw7Zm9yKHZhciBuPXIudmFsdWVbMV0sbz10KHIudmFsdWVbMV0sci52YWx1ZVswXSk7IShyPWUubmV4dCgpKS5kb25lOyl7dmFyIGk9THAoci52YWx1ZSwyKSxhPWlbMF0sdT1pWzFdLHM9dCh1LGEpO3M8byYmKG89cyxuPXUpfXJldHVybiBufX0se2tleTpcInJlZHVjZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIHIsbj0kUyh0aGlzLl9wYWlycyk7dHJ5e2ZvcihuLnMoKTshKHI9bi5uKCkpLmRvbmU7KXt2YXIgbz1McChyLnZhbHVlLDIpLGk9b1swXTtlPXQoZSxvWzFdLGkpfX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX1yZXR1cm4gZX19LHtrZXk6XCJzb3J0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gbmV3IHIoe1tJU106ZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gSlMoVFMocj1DcChlLl9wYWlycykpLmNhbGwociwoZnVuY3Rpb24oZSxyKXt2YXIgbj1McChlLDIpLG89blswXSxpPW5bMV0sYT1McChyLDIpLHU9YVswXSxzPWFbMV07cmV0dXJuIHQoaSxzLG8sdSl9KSkpfX0pfX1dKSxyfShJUyk7ZnVuY3Rpb24gdHgodCxlKXt2YXIgcj1RcCh0KTtpZihvbSl7dmFyIG49b20odCk7ZSYmKG49SWwobikuY2FsbChuLChmdW5jdGlvbihlKXtyZXR1cm4gcG0odCxlKS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBleCh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgcixuLG89bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/Y3Yocj10eChPYmplY3QobyksITApKS5jYWxsKHIsKGZ1bmN0aW9uKGUpe1dmKHQsZSxvW2VdKX0pKTptbT9TbSh0LG1tKG8pKTpjdihuPXR4KE9iamVjdChvKSkpLmNhbGwobiwoZnVuY3Rpb24oZSl7eG0odCxlLHBtKG8sZSkpfSkpfXJldHVybiB0fWZ1bmN0aW9uIHJ4KHQsZSl7dmFyIHI9dm9pZCAwIT09UnAmJlhoKHQpfHx0W1wiQEBpdGVyYXRvclwiXTtpZighcil7aWYoS3AodCl8fChyPWZ1bmN0aW9uKHQsZSl7dmFyIHI7aWYoIXQpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBueCh0LGUpO3ZhciBuPXFwKHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKHIsOCwtMSk7XCJPYmplY3RcIj09PW4mJnQuY29uc3RydWN0b3ImJihuPXQuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uKXJldHVybiBXaCh0KTtpZihcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIG54KHQsZSl9KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtyJiYodD1yKTt2YXIgbj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiBuPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtuKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgaSxhPSEwLHU9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtyPXIuY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PXIubmV4dCgpO3JldHVybiBhPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe3U9ITAsaT10fSxmOmZ1bmN0aW9uKCl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYodSl0aHJvdyBpfX19fWZ1bmN0aW9uIG54KHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkoZSk7cjxlO3IrKyluW3JdPXRbcl07cmV0dXJuIG59ZnVuY3Rpb24gb3godCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IW5tKXJldHVybiExO2lmKG5tLnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwobm0oQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixuPUZtKHQpO2lmKGUpe3ZhciBvPUZtKHRoaXMpLmNvbnN0cnVjdG9yO3I9bm0obixhcmd1bWVudHMsbyl9ZWxzZSByPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBSbSh0aGlzLHIpfX12YXIgaXg9ZnVuY3Rpb24odCl7Q20obix0KTt2YXIgcj1veChuKTtmdW5jdGlvbiBuKHQsbyl7dmFyIGk7cmV0dXJuIGUodGhpcyxuKSxXZihrbShpPXIuY2FsbCh0aGlzKSksXCJfcXVldWVcIixudWxsKSx0JiYhS3AodCkmJihvPXQsdD1bXSksaS5fb3B0aW9ucz1vfHx7fSxpLl9kYXRhPW5ldyBTTyxpLmxlbmd0aD0wLGkuX2lkUHJvcD1pLl9vcHRpb25zLmZpZWxkSWR8fFwiaWRcIix0JiZ0Lmxlbmd0aCYmaS5hZGQodCksaS5zZXRPcHRpb25zKG8pLGl9cmV0dXJuIHFmKG4sW3trZXk6XCJpZFByb3BcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWRQcm9wfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0JiZ2b2lkIDAhPT10LnF1ZXVlJiYoITE9PT10LnF1ZXVlP3RoaXMuX3F1ZXVlJiYodGhpcy5fcXVldWUuZGVzdHJveSgpLHRoaXMuX3F1ZXVlPW51bGwpOih0aGlzLl9xdWV1ZXx8KHRoaXMuX3F1ZXVlPUJTLmV4dGVuZCh0aGlzLHtyZXBsYWNlOltcImFkZFwiLFwidXBkYXRlXCIsXCJyZW1vdmVcIl19KSksdC5xdWV1ZSYmXCJvYmplY3RcIj09dHlwZW9mIHQucXVldWUmJnRoaXMuX3F1ZXVlLnNldE9wdGlvbnModC5xdWV1ZSkpKX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByLG49dGhpcyxvPVtdO2lmKEtwKHQpKXt2YXIgaT1ObCh0KS5jYWxsKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0W24uX2lkUHJvcF19KSk7aWYoSU8oaSkuY2FsbChpLChmdW5jdGlvbih0KXtyZXR1cm4gbi5fZGF0YS5oYXModCl9KSkpdGhyb3cgbmV3IEVycm9yKFwiQSBkdXBsaWNhdGUgaWQgd2FzIGZvdW5kIGluIHRoZSBwYXJhbWV0ZXIgYXJyYXkuXCIpO2Zvcih2YXIgYT0wLHU9dC5sZW5ndGg7YTx1O2ErKylyPXRoaXMuX2FkZEl0ZW0odFthXSksby5wdXNoKHIpfWVsc2V7aWYoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YVR5cGVcIik7cj10aGlzLl9hZGRJdGVtKHQpLG8ucHVzaChyKX1yZXR1cm4gby5sZW5ndGgmJnRoaXMuX3RyaWdnZXIoXCJhZGRcIix7aXRlbXM6b30sZSksb319LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXMsbj1bXSxvPVtdLGk9W10sYT1bXSx1PXRoaXMuX2lkUHJvcCxzPWZ1bmN0aW9uKHQpe3ZhciBlPXRbdV07aWYobnVsbCE9ZSYmci5fZGF0YS5oYXMoZSkpe3ZhciBzPXQsYz1lZCh7fSxyLl9kYXRhLmdldChlKSksZj1yLl91cGRhdGVJdGVtKHMpO28ucHVzaChmKSxhLnB1c2gocyksaS5wdXNoKGMpfWVsc2V7dmFyIGw9ci5fYWRkSXRlbSh0KTtuLnB1c2gobCl9fTtpZihLcCh0KSlmb3IodmFyIGM9MCxmPXQubGVuZ3RoO2M8ZjtjKyspdFtjXSYmXCJvYmplY3RcIj09dHlwZW9mIHRbY10/cyh0W2NdKTpjb25zb2xlLndhcm4oXCJJZ25vcmluZyBpbnB1dCBpdGVtLCB3aGljaCBpcyBub3QgYW4gb2JqZWN0IGF0IGluZGV4IFwiK2MpO2Vsc2V7aWYoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcihcIlVua25vd24gZGF0YVR5cGVcIik7cyh0KX1pZihuLmxlbmd0aCYmdGhpcy5fdHJpZ2dlcihcImFkZFwiLHtpdGVtczpufSxlKSxvLmxlbmd0aCl7dmFyIGw9e2l0ZW1zOm8sb2xkRGF0YTppLGRhdGE6YX07dGhpcy5fdHJpZ2dlcihcInVwZGF0ZVwiLGwsZSl9cmV0dXJuIFVwKG4pLmNhbGwobixvKX19LHtrZXk6XCJ1cGRhdGVPbmx5XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcixuPXRoaXM7S3AodCl8fCh0PVt0XSk7dmFyIG89Tmwocj1ObCh0KS5jYWxsKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPW4uX2RhdGEuZ2V0KHRbbi5faWRQcm9wXSk7aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJVcGRhdGluZyBub24tZXhpc3RlbnQgaXRlbXMgaXMgbm90IGFsbG93ZWQuXCIpO3JldHVybntvbGREYXRhOmUsdXBkYXRlOnR9fSkpKS5jYWxsKHIsKGZ1bmN0aW9uKHQpe3ZhciBlPXQub2xkRGF0YSxyPXQudXBkYXRlLG89ZVtuLl9pZFByb3BdLGk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLHI9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShyPjE/ci0xOjApLG89MTtvPHI7bysrKW5bby0xXT1hcmd1bWVudHNbb107cmV0dXJuIExnLmFwcGx5KHZvaWQgMCxVcChlPVt7fSx0XSkuY2FsbChlLG4pKX0oZSxyKTtyZXR1cm4gbi5fZGF0YS5zZXQobyxpKSx7aWQ6byxvbGREYXRhOmUsdXBkYXRlZERhdGE6aX19KSk7aWYoby5sZW5ndGgpe3ZhciBpPXtpdGVtczpObChvKS5jYWxsKG8sKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpLG9sZERhdGE6TmwobykuY2FsbChvLChmdW5jdGlvbih0KXtyZXR1cm4gdC5vbGREYXRhfSkpLGRhdGE6TmwobykuY2FsbChvLChmdW5jdGlvbih0KXtyZXR1cm4gdC51cGRhdGVkRGF0YX0pKX07cmV0dXJuIHRoaXMuX3RyaWdnZXIoXCJ1cGRhdGVcIixpLGUpLGkuaXRlbXN9cmV0dXJuW119fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgcj12b2lkIDAsbj12b2lkIDAsbz12b2lkIDA7VlModCk/KHI9dCxvPWUpOktwKHQpPyhuPXQsbz1lKTpvPXQ7dmFyIGksYT1vJiZcIk9iamVjdFwiPT09by5yZXR1cm5UeXBlP1wiT2JqZWN0XCI6XCJBcnJheVwiLHU9byYmSWwobykscz1bXSxjPXZvaWQgMCxmPXZvaWQgMCxsPXZvaWQgMDtpZihudWxsIT1yKShjPXRoaXMuX2RhdGEuZ2V0KHIpKSYmdSYmIXUoYykmJihjPXZvaWQgMCk7ZWxzZSBpZihudWxsIT1uKWZvcih2YXIgaD0wLHA9bi5sZW5ndGg7aDxwO2grKyludWxsPT0oYz10aGlzLl9kYXRhLmdldChuW2hdKSl8fHUmJiF1KGMpfHxzLnB1c2goYyk7ZWxzZSBmb3IodmFyIHYsZD0wLHk9KGY9Q3Aoek8odj10aGlzLl9kYXRhKS5jYWxsKHYpKSkubGVuZ3RoO2Q8eTtkKyspbD1mW2RdLG51bGw9PShjPXRoaXMuX2RhdGEuZ2V0KGwpKXx8dSYmIXUoYyl8fHMucHVzaChjKTtpZihvJiZvLm9yZGVyJiZudWxsPT1yJiZ0aGlzLl9zb3J0KHMsby5vcmRlciksbyYmby5maWVsZHMpe3ZhciBnPW8uZmllbGRzO2lmKG51bGwhPXImJm51bGwhPWMpYz10aGlzLl9maWx0ZXJGaWVsZHMoYyxnKTtlbHNlIGZvcih2YXIgbT0wLGI9cy5sZW5ndGg7bTxiO20rKylzW21dPXRoaXMuX2ZpbHRlckZpZWxkcyhzW21dLGcpfWlmKFwiT2JqZWN0XCI9PWEpe2Zvcih2YXIgdz17fSxfPTAsVD1zLmxlbmd0aDtfPFQ7XysrKXt2YXIgRT1zW19dO3dbRVt0aGlzLl9pZFByb3BdXT1FfXJldHVybiB3fXJldHVybiBudWxsIT1yP251bGwhPT0oaT1jKSYmdm9pZCAwIT09aT9pOm51bGw6c319LHtrZXk6XCJnZXRJZHNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9kYXRhLHI9dCYmSWwodCksbj10JiZ0Lm9yZGVyLG89Q3Aoek8oZSkuY2FsbChlKSksaT1bXTtpZihyKWlmKG4pe2Zvcih2YXIgYT1bXSx1PTAscz1vLmxlbmd0aDt1PHM7dSsrKXt2YXIgYz1vW3VdLGY9dGhpcy5fZGF0YS5nZXQoYyk7bnVsbCE9ZiYmcihmKSYmYS5wdXNoKGYpfXRoaXMuX3NvcnQoYSxuKTtmb3IodmFyIGw9MCxoPWEubGVuZ3RoO2w8aDtsKyspaS5wdXNoKGFbbF1bdGhpcy5faWRQcm9wXSl9ZWxzZSBmb3IodmFyIHA9MCx2PW8ubGVuZ3RoO3A8djtwKyspe3ZhciBkPW9bcF0seT10aGlzLl9kYXRhLmdldChkKTtudWxsIT15JiZyKHkpJiZpLnB1c2goeVt0aGlzLl9pZFByb3BdKX1lbHNlIGlmKG4pe2Zvcih2YXIgZz1bXSxtPTAsYj1vLmxlbmd0aDttPGI7bSsrKXt2YXIgdz1vW21dO2cucHVzaChlLmdldCh3KSl9dGhpcy5fc29ydChnLG4pO2Zvcih2YXIgXz0wLFQ9Zy5sZW5ndGg7XzxUO18rKylpLnB1c2goZ1tfXVt0aGlzLl9pZFByb3BdKX1lbHNlIGZvcih2YXIgRT0wLE89by5sZW5ndGg7RTxPO0UrKyl7dmFyIFM9b1tFXSx4PWUuZ2V0KFMpO251bGwhPXgmJmkucHVzaCh4W3RoaXMuX2lkUHJvcF0pfXJldHVybiBpfX0se2tleTpcImdldERhdGFTZXRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0se2tleTpcImZvckVhY2hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByPWUmJklsKGUpLG49dGhpcy5fZGF0YSxvPUNwKHpPKG4pLmNhbGwobikpO2lmKGUmJmUub3JkZXIpZm9yKHZhciBpPXRoaXMuZ2V0KGUpLGE9MCx1PWkubGVuZ3RoO2E8dTthKyspe3ZhciBzPWlbYV07dChzLHNbdGhpcy5faWRQcm9wXSl9ZWxzZSBmb3IodmFyIGM9MCxmPW8ubGVuZ3RoO2M8ZjtjKyspe3ZhciBsPW9bY10saD10aGlzLl9kYXRhLmdldChsKTtudWxsPT1ofHxyJiYhcihoKXx8dChoLGwpfX19LHtrZXk6XCJtYXBcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgcj1lJiZJbChlKSxuPVtdLG89dGhpcy5fZGF0YSxpPUNwKHpPKG8pLmNhbGwobykpLGE9MCx1PWkubGVuZ3RoO2E8dTthKyspe3ZhciBzPWlbYV0sYz10aGlzLl9kYXRhLmdldChzKTtudWxsPT1jfHxyJiYhcihjKXx8bi5wdXNoKHQoYyxzKSl9cmV0dXJuIGUmJmUub3JkZXImJnRoaXMuX3NvcnQobixlLm9yZGVyKSxufX0se2tleTpcIl9maWx0ZXJGaWVsZHNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciByO3JldHVybiB0P1NsKHI9S3AoZSk/ZTpRcChlKSkuY2FsbChyLChmdW5jdGlvbihlLHIpe3JldHVybiBlW3JdPXRbcl0sZX0pLHt9KTp0fX0se2tleTpcIl9zb3J0XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIHI9ZTtUUyh0KS5jYWxsKHQsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dFtyXSxvPWVbcl07cmV0dXJuIG4+bz8xOm48bz8tMTowfSkpfWVsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT3JkZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXCIpO1RTKHQpLmNhbGwodCxlKX19fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9W10sbj1bXSxvPUtwKHQpP3Q6W3RdLGk9MCxhPW8ubGVuZ3RoO2k8YTtpKyspe3ZhciB1PXRoaXMuX3JlbW92ZShvW2ldKTtpZih1KXt2YXIgcz11W3RoaXMuX2lkUHJvcF07bnVsbCE9cyYmKHIucHVzaChzKSxuLnB1c2godSkpfX1yZXR1cm4gci5sZW5ndGgmJnRoaXMuX3RyaWdnZXIoXCJyZW1vdmVcIix7aXRlbXM6cixvbGREYXRhOm59LGUpLHJ9fSx7a2V5OlwiX3JlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO2lmKFZTKHQpP2U9dDp0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKGU9dFt0aGlzLl9pZFByb3BdKSxudWxsIT1lJiZ0aGlzLl9kYXRhLmhhcyhlKSl7dmFyIHI9dGhpcy5fZGF0YS5nZXQoZSl8fG51bGw7cmV0dXJuIHRoaXMuX2RhdGEuZGVsZXRlKGUpLC0tdGhpcy5sZW5ndGgscn1yZXR1cm4gbnVsbH19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPUNwKHpPKGU9dGhpcy5fZGF0YSkuY2FsbChlKSksbj1bXSxvPTAsaT1yLmxlbmd0aDtvPGk7bysrKW4ucHVzaCh0aGlzLl9kYXRhLmdldChyW29dKSk7cmV0dXJuIHRoaXMuX2RhdGEuY2xlYXIoKSx0aGlzLmxlbmd0aD0wLHRoaXMuX3RyaWdnZXIoXCJyZW1vdmVcIix7aXRlbXM6cixvbGREYXRhOm59LHQpLHJ9fSx7a2V5OlwibWF4XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUscixuPW51bGwsbz1udWxsLGk9cngoUFMoZT10aGlzLl9kYXRhKS5jYWxsKGUpKTt0cnl7Zm9yKGkucygpOyEocj1pLm4oKSkuZG9uZTspe3ZhciBhPXIudmFsdWUsdT1hW3RdO1wibnVtYmVyXCI9PXR5cGVvZiB1JiYobnVsbD09b3x8dT5vKSYmKG49YSxvPXUpfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX1yZXR1cm4gbnx8bnVsbH19LHtrZXk6XCJtaW5cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxyLG49bnVsbCxvPW51bGwsaT1yeChQUyhlPXRoaXMuX2RhdGEpLmNhbGwoZSkpO3RyeXtmb3IoaS5zKCk7IShyPWkubigpKS5kb25lOyl7dmFyIGE9ci52YWx1ZSx1PWFbdF07XCJudW1iZXJcIj09dHlwZW9mIHUmJihudWxsPT1vfHx1PG8pJiYobj1hLG89dSl9fWNhdGNoKHQpe2kuZSh0KX1maW5hbGx5e2kuZigpfXJldHVybiBufHxudWxsfX0se2tleTpcImRpc3RpbmN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuX2RhdGEscj1DcCh6TyhlKS5jYWxsKGUpKSxuPVtdLG89MCxpPTAsYT1yLmxlbmd0aDtpPGE7aSsrKXtmb3IodmFyIHU9cltpXSxzPWUuZ2V0KHUpW3RdLGM9ITEsZj0wO2Y8bztmKyspaWYobltmXT09cyl7Yz0hMDticmVha31jfHx2b2lkIDA9PT1zfHwobltvXT1zLG8rKyl9cmV0dXJuIG59fSx7a2V5OlwiX2FkZEl0ZW1cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10W2VdJiYodFtlXT1YUygpKSx0fSh0LHRoaXMuX2lkUHJvcCkscj1lW3RoaXMuX2lkUHJvcF07aWYodGhpcy5fZGF0YS5oYXMocikpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFkZCBpdGVtOiBpdGVtIHdpdGggaWQgXCIrcitcIiBhbHJlYWR5IGV4aXN0c1wiKTtyZXR1cm4gdGhpcy5fZGF0YS5zZXQocixlKSwrK3RoaXMubGVuZ3RoLHJ9fSx7a2V5OlwiX3VwZGF0ZUl0ZW1cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10W3RoaXMuX2lkUHJvcF07aWYobnVsbD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGl0ZW06IGl0ZW0gaGFzIG5vIGlkIChpdGVtOiBcIitoZCh0KStcIilcIik7dmFyIHI9dGhpcy5fZGF0YS5nZXQoZSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBpdGVtOiBubyBpdGVtIHdpdGggaWQgXCIrZStcIiBmb3VuZFwiKTtyZXR1cm4gdGhpcy5fZGF0YS5zZXQoZSxleChleCh7fSxyKSx0KSksZX19LHtrZXk6XCJzdHJlYW1cIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0KXt2YXIgZT10aGlzLl9kYXRhO3JldHVybiBuZXcgWlMoe1tJU106KCk9PndFLm1hcmsoKGZ1bmN0aW9uIHIoKXt2YXIgbixvLGksYTtyZXR1cm4gd0Uud3JhcCgoZnVuY3Rpb24ocil7Zm9yKDs7KXN3aXRjaChyLnByZXY9ci5uZXh0KXtjYXNlIDA6bj1yeCh0KSxyLnByZXY9MSxuLnMoKTtjYXNlIDM6aWYoKG89bi5uKCkpLmRvbmUpe3IubmV4dD0xMTticmVha31pZihpPW8udmFsdWUsbnVsbD09KGE9ZS5nZXQoaSkpKXtyLm5leHQ9OTticmVha31yZXR1cm4gci5uZXh0PTksW2ksYV07Y2FzZSA5OnIubmV4dD0zO2JyZWFrO2Nhc2UgMTE6ci5uZXh0PTE2O2JyZWFrO2Nhc2UgMTM6ci5wcmV2PTEzLHIudDA9ci5jYXRjaCgxKSxuLmUoci50MCk7Y2FzZSAxNjpyZXR1cm4gci5wcmV2PTE2LG4uZigpLHIuZmluaXNoKDE2KTtjYXNlIDE5OmNhc2VcImVuZFwiOnJldHVybiByLnN0b3AoKX19KSxyLG51bGwsW1sxLDEzLDE2LDE5XV0pfSkpKCl9KX12YXIgcjtyZXR1cm4gbmV3IFpTKHtbSVNdOmNsKHI9elModGhpcy5fZGF0YSkpLmNhbGwocix0aGlzLl9kYXRhKX0pfX1dKSxufShIUyk7ZnVuY3Rpb24gYXgodCxlKXt2YXIgcj12b2lkIDAhPT1ScCYmWGgodCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFyKXtpZihLcCh0KXx8KHI9ZnVuY3Rpb24odCxlKXt2YXIgcjtpZighdClyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHV4KHQsZSk7dmFyIG49cXAocj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLmNhbGwociw4LC0xKTtcIk9iamVjdFwiPT09biYmdC5jb25zdHJ1Y3RvciYmKG49dC5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4pcmV0dXJuIFdoKHQpO2lmKFwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gdXgodCxlKX0odCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe3ImJih0PXIpO3ZhciBuPTAsbz1mdW5jdGlvbigpe307cmV0dXJue3M6byxuOmZ1bmN0aW9uKCl7cmV0dXJuIG4+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W24rK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6b319dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciBpLGE9ITAsdT0hMTtyZXR1cm57czpmdW5jdGlvbigpe3I9ci5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9ci5uZXh0KCk7cmV0dXJuIGE9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7dT0hMCxpPXR9LGY6ZnVuY3Rpb24oKXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZih1KXRocm93IGl9fX19ZnVuY3Rpb24gdXgodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheShlKTtyPGU7cisrKW5bcl09dFtyXTtyZXR1cm4gbn1mdW5jdGlvbiBzeCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhbm0pcmV0dXJuITE7aWYobm0uc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChubShCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciByLG49Rm0odCk7aWYoZSl7dmFyIG89Rm0odGhpcykuY29uc3RydWN0b3I7cj1ubShuLGFyZ3VtZW50cyxvKX1lbHNlIHI9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIFJtKHRoaXMscil9fXZhciBjeD1mdW5jdGlvbih0KXtDbShuLHQpO3ZhciByPXN4KG4pO2Z1bmN0aW9uIG4odCxvKXt2YXIgaSxhO3JldHVybiBlKHRoaXMsbiksV2Yoa20oYT1yLmNhbGwodGhpcykpLFwibGVuZ3RoXCIsMCksV2Yoa20oYSksXCJfaWRzXCIsbmV3IEtTKSxhLl9vcHRpb25zPW98fHt9LGEuX2xpc3RlbmVyPWNsKGk9YS5fb25FdmVudCkuY2FsbChpLGttKGEpKSxhLnNldERhdGEodCksYX1yZXR1cm4gcWYobixbe2tleTpcImlkUHJvcFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERhdGFTZXQoKS5pZFByb3B9fSx7a2V5Olwic2V0RGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2RhdGEpe3RoaXMuX2RhdGEub2ZmJiZ0aGlzLl9kYXRhLm9mZihcIipcIix0aGlzLl9saXN0ZW5lcik7dmFyIGU9dGhpcy5fZGF0YS5nZXRJZHMoe2ZpbHRlcjpJbCh0aGlzLl9vcHRpb25zKX0pLHI9dGhpcy5fZGF0YS5nZXQoZSk7dGhpcy5faWRzLmNsZWFyKCksdGhpcy5sZW5ndGg9MCx0aGlzLl90cmlnZ2VyKFwicmVtb3ZlXCIse2l0ZW1zOmUsb2xkRGF0YTpyfSl9aWYobnVsbCE9dCl7dGhpcy5fZGF0YT10O2Zvcih2YXIgbj10aGlzLl9kYXRhLmdldElkcyh7ZmlsdGVyOklsKHRoaXMuX29wdGlvbnMpfSksbz0wLGk9bi5sZW5ndGg7bzxpO28rKyl7dmFyIGE9bltvXTt0aGlzLl9pZHMuYWRkKGEpfXRoaXMubGVuZ3RoPW4ubGVuZ3RoLHRoaXMuX3RyaWdnZXIoXCJhZGRcIix7aXRlbXM6bn0pfWVsc2UgdGhpcy5fZGF0YT1uZXcgaXg7dGhpcy5fZGF0YS5vbiYmdGhpcy5fZGF0YS5vbihcIipcIix0aGlzLl9saXN0ZW5lcil9fSx7a2V5OlwicmVmcmVzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuX2RhdGEuZ2V0SWRzKHtmaWx0ZXI6SWwodGhpcy5fb3B0aW9ucyl9KSxlPUNwKHRoaXMuX2lkcykscj17fSxuPVtdLG89W10saT1bXSxhPTAsdT10Lmxlbmd0aDthPHU7YSsrKXt2YXIgcz10W2FdO3Jbc109ITAsdGhpcy5faWRzLmhhcyhzKXx8KG4ucHVzaChzKSx0aGlzLl9pZHMuYWRkKHMpKX1mb3IodmFyIGM9MCxmPWUubGVuZ3RoO2M8ZjtjKyspe3ZhciBsPWVbY10saD10aGlzLl9kYXRhLmdldChsKTtudWxsPT1oP2NvbnNvbGUuZXJyb3IoXCJJZiB5b3Ugc2VlIHRoaXMsIHJlcG9ydCBpdCBwbGVhc2UuXCIpOnJbbF18fChvLnB1c2gobCksaS5wdXNoKGgpLHRoaXMuX2lkcy5kZWxldGUobCkpfXRoaXMubGVuZ3RoKz1uLmxlbmd0aC1vLmxlbmd0aCxuLmxlbmd0aCYmdGhpcy5fdHJpZ2dlcihcImFkZFwiLHtpdGVtczpufSksby5sZW5ndGgmJnRoaXMuX3RyaWdnZXIoXCJyZW1vdmVcIix7aXRlbXM6byxvbGREYXRhOml9KX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKG51bGw9PXRoaXMuX2RhdGEpcmV0dXJuIG51bGw7dmFyIHIsbj1udWxsO1ZTKHQpfHxLcCh0KT8obj10LHI9ZSk6cj10O3ZhciBvPWVkKHt9LHRoaXMuX29wdGlvbnMsciksaT1JbCh0aGlzLl9vcHRpb25zKSxhPXImJklsKHIpO3JldHVybiBpJiZhJiYoby5maWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCkmJmEodCl9KSxudWxsPT1uP3RoaXMuX2RhdGEuZ2V0KG8pOnRoaXMuX2RhdGEuZ2V0KG4sbyl9fSx7a2V5OlwiZ2V0SWRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5fZGF0YS5sZW5ndGgpe3ZhciBlLHI9SWwodGhpcy5fb3B0aW9ucyksbj1udWxsIT10P0lsKHQpOm51bGw7cmV0dXJuIGU9bj9yP2Z1bmN0aW9uKHQpe3JldHVybiByKHQpJiZuKHQpfTpuOnIsdGhpcy5fZGF0YS5nZXRJZHMoe2ZpbHRlcjplLG9yZGVyOnQmJnQub3JkZXJ9KX1yZXR1cm5bXX19LHtrZXk6XCJmb3JFYWNoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9kYXRhKXt2YXIgcixuLG89SWwodGhpcy5fb3B0aW9ucyksaT1lJiZJbChlKTtuPWk/bz9mdW5jdGlvbih0KXtyZXR1cm4gbyh0KSYmaSh0KX06aTpvLGN2KHI9dGhpcy5fZGF0YSkuY2FsbChyLHQse2ZpbHRlcjpuLG9yZGVyOmUmJmUub3JkZXJ9KX19fSx7a2V5OlwibWFwXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9kYXRhKXt2YXIgcixuLG89SWwodGhpcy5fb3B0aW9ucyksaT1lJiZJbChlKTtyZXR1cm4gbj1pP28/ZnVuY3Rpb24odCl7cmV0dXJuIG8odCkmJmkodCl9Omk6byxObChyPXRoaXMuX2RhdGEpLmNhbGwocix0LHtmaWx0ZXI6bixvcmRlcjplJiZlLm9yZGVyfSl9cmV0dXJuW119fSx7a2V5OlwiZ2V0RGF0YVNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEuZ2V0RGF0YVNldCgpfX0se2tleTpcInN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiB0aGlzLl9kYXRhLnN0cmVhbSh0fHx7W0lTXTpjbChlPXpPKHRoaXMuX2lkcykpLmNhbGwoZSx0aGlzLl9pZHMpfSl9fSx7a2V5OlwiZGlzcG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7bnVsbCE9PSh0PXRoaXMuX2RhdGEpJiZ2b2lkIDAhPT10JiZ0Lm9mZiYmdGhpcy5fZGF0YS5vZmYoXCIqXCIsdGhpcy5fbGlzdGVuZXIpO3ZhciBlLHI9XCJUaGlzIGRhdGEgdmlldyBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkIG9mLlwiLG89e2dldDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihyKX0sc2V0OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKHIpfSxjb25maWd1cmFibGU6ITF9LGk9YXgoSHAobi5wcm90b3R5cGUpKTt0cnl7Zm9yKGkucygpOyEoZT1pLm4oKSkuZG9uZTspe3ZhciBhPWUudmFsdWU7eG0odGhpcyxhLG8pfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX19fSx7a2V5OlwiX29uRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUscil7aWYoZSYmZS5pdGVtcyYmdGhpcy5fZGF0YSl7dmFyIG49ZS5pdGVtcyxvPVtdLGk9W10sYT1bXSx1PVtdLHM9W10sYz1bXTtzd2l0Y2godCl7Y2FzZVwiYWRkXCI6Zm9yKHZhciBmPTAsbD1uLmxlbmd0aDtmPGw7ZisrKXt2YXIgaD1uW2ZdO3RoaXMuZ2V0KGgpJiYodGhpcy5faWRzLmFkZChoKSxvLnB1c2goaCkpfWJyZWFrO2Nhc2VcInVwZGF0ZVwiOmZvcih2YXIgcD0wLHY9bi5sZW5ndGg7cDx2O3ArKyl7dmFyIGQ9bltwXTt0aGlzLmdldChkKT90aGlzLl9pZHMuaGFzKGQpPyhpLnB1c2goZCkscy5wdXNoKGUuZGF0YVtwXSksdS5wdXNoKGUub2xkRGF0YVtwXSkpOih0aGlzLl9pZHMuYWRkKGQpLG8ucHVzaChkKSk6dGhpcy5faWRzLmhhcyhkKSYmKHRoaXMuX2lkcy5kZWxldGUoZCksYS5wdXNoKGQpLGMucHVzaChlLm9sZERhdGFbcF0pKX1icmVhaztjYXNlXCJyZW1vdmVcIjpmb3IodmFyIHk9MCxnPW4ubGVuZ3RoO3k8Zzt5Kyspe3ZhciBtPW5beV07dGhpcy5faWRzLmhhcyhtKSYmKHRoaXMuX2lkcy5kZWxldGUobSksYS5wdXNoKG0pLGMucHVzaChlLm9sZERhdGFbeV0pKX19dGhpcy5sZW5ndGgrPW8ubGVuZ3RoLWEubGVuZ3RoLG8ubGVuZ3RoJiZ0aGlzLl90cmlnZ2VyKFwiYWRkXCIse2l0ZW1zOm99LHIpLGkubGVuZ3RoJiZ0aGlzLl90cmlnZ2VyKFwidXBkYXRlXCIse2l0ZW1zOmksb2xkRGF0YTp1LGRhdGE6c30sciksYS5sZW5ndGgmJnRoaXMuX3RyaWdnZXIoXCJyZW1vdmVcIix7aXRlbXM6YSxvbGREYXRhOmN9LHIpfX19XSksbn0oSFMpO2Z1bmN0aW9uIGZ4KHQsZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZ0PT09ZS5pZFByb3AmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuYWRkJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNsZWFyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmRpc3RpbmN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjdihlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0RGF0YVNldCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXRJZHMmJlwibnVtYmVyXCI9PXR5cGVvZiBlLmxlbmd0aCYmXCJmdW5jdGlvblwiPT10eXBlb2YgTmwoZSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUubWF4JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm1pbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vZmYmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUub24mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVtb3ZlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNldE9wdGlvbnMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc3RyZWFtJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnVwZGF0ZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS51cGRhdGVPbmx5fXQuREVMRVRFPURnLHQuRGF0YVNldD1peCx0LkRhdGFTdHJlYW09WlMsdC5EYXRhVmlldz1jeCx0LlF1ZXVlPUJTLHQuY3JlYXRlTmV3RGF0YVBpcGVGcm9tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdGgodCl9LHQuaXNEYXRhU2V0TGlrZT1meCx0LmlzRGF0YVZpZXdMaWtlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZ0PT09ZS5pZFByb3AmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGN2KGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXREYXRhU2V0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldElkcyYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBObChlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vZmYmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUub24mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc3RyZWFtJiZmeCh0LGUuZ2V0RGF0YVNldCgpKX19KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aXMtZGF0YS5taW4uanMubWFwXG4iLCIvKipcbiAqIHZpcy1uZXR3b3JrXG4gKiBodHRwczovL3Zpc2pzLmdpdGh1Yi5pby92aXMtbmV0d29yay9cbiAqXG4gKiBBIGR5bmFtaWMsIGJyb3dzZXItYmFzZWQgdmlzdWFsaXphdGlvbiBsaWJyYXJ5LlxuICpcbiAqIEB2ZXJzaW9uIDkuMS45XG4gKiBAZGF0ZSAgICAyMDIzLTExLTAzVDAxOjQyOjI3LjQxOFpcbiAqXG4gKiBAY29weXJpZ2h0IChjKSAyMDExLTIwMTcgQWxtZW5kZSBCLlYsIGh0dHA6Ly9hbG1lbmRlLmNvbVxuICogQGNvcHlyaWdodCAoYykgMjAxNy0yMDE5IHZpc2pzIGNvbnRyaWJ1dG9ycywgaHR0cHM6Ly9naXRodWIuY29tL3Zpc2pzXG4gKlxuICogQGxpY2Vuc2VcbiAqIHZpcy5qcyBpcyBkdWFsIGxpY2Vuc2VkIHVuZGVyIGJvdGhcbiAqXG4gKiAgIDEuIFRoZSBBcGFjaGUgMi4wIExpY2Vuc2VcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogICBhbmRcbiAqXG4gKiAgIDIuIFRoZSBNSVQgTGljZW5zZVxuICogICAgICBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKlxuICogdmlzLmpzIG1heSBiZSBkaXN0cmlidXRlZCB1bmRlciBlaXRoZXIgbGljZW5zZS5cbiAqL1xuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzLHJlcXVpcmUoXCJ2aXMtZGF0YS9wZWVyL3VtZC92aXMtZGF0YS5qc1wiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJ2aXMtZGF0YS9wZWVyL3VtZC92aXMtZGF0YS5qc1wiXSxlKTplKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikudmlzPXQudmlzfHx7fSx0LnZpcyl9KHRoaXMsKGZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIG8odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJkZWZhdWx0XCIpP3QuZGVmYXVsdDp0fXZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0Lk1hdGg9PT1NYXRoJiZ0fSxyPW4oXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHxuKFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyl8fG4oXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKFwib2JqZWN0XCI9PXR5cGVvZiBpJiZpKXx8ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKXx8aXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHM9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiEhdCgpfWNhdGNoKHQpe3JldHVybiEwfX0sYT0hcygoZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe30uYmluZCgpO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHR8fHQuaGFzT3duUHJvcGVydHkoXCJwcm90b3R5cGVcIil9KSksaD1hLGQ9RnVuY3Rpb24ucHJvdG90eXBlLGw9ZC5hcHBseSxjPWQuY2FsbCx1PVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmFwcGx5fHwoaD9jLmJpbmQobCk6ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseShsLGFyZ3VtZW50cyl9KSxmPWEscD1GdW5jdGlvbi5wcm90b3R5cGUsdj1wLmNhbGwsZz1mJiZwLmJpbmQuYmluZCh2LHYpLHk9Zj9nOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2LmFwcGx5KHQsYXJndW1lbnRzKX19LG09eSxiPW0oe30udG9TdHJpbmcpLHc9bShcIlwiLnNsaWNlKSxrPWZ1bmN0aW9uKHQpe3JldHVybiB3KGIodCksOCwtMSl9LF89ayx4PXksRT1mdW5jdGlvbih0KXtpZihcIkZ1bmN0aW9uXCI9PT1fKHQpKXJldHVybiB4KHQpfSxPPVwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuYWxsLEM9e2FsbDpPLElTX0hUTUxEREE6dm9pZCAwPT09TyYmdm9pZCAwIT09T30sUz1DLmFsbCxUPUMuSVNfSFRNTEREQT9mdW5jdGlvbih0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHx0PT09U306ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH0sTT17fSxQPSFzKChmdW5jdGlvbigpe3JldHVybiA3IT09T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LDEse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pWzFdfSkpLEQ9YSxJPUZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLEI9RD9JLmJpbmQoSSk6ZnVuY3Rpb24oKXtyZXR1cm4gSS5hcHBseShJLGFyZ3VtZW50cyl9LEY9e30sej17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxOPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsQT1OJiYhei5jYWxsKHsxOjJ9LDEpO0YuZj1BP2Z1bmN0aW9uKHQpe3ZhciBlPU4odGhpcyx0KTtyZXR1cm4hIWUmJmUuZW51bWVyYWJsZX06ejt2YXIgUixqLEw9ZnVuY3Rpb24odCxlKXtyZXR1cm57ZW51bWVyYWJsZTohKDEmdCksY29uZmlndXJhYmxlOiEoMiZ0KSx3cml0YWJsZTohKDQmdCksdmFsdWU6ZX19LEg9cyxXPWssVj1PYmplY3QscT15KFwiXCIuc3BsaXQpLFU9SCgoZnVuY3Rpb24oKXtyZXR1cm4hVihcInpcIikucHJvcGVydHlJc0VudW1lcmFibGUoMCl9KSk/ZnVuY3Rpb24odCl7cmV0dXJuXCJTdHJpbmdcIj09PVcodCk/cSh0LFwiXCIpOlYodCl9OlYsWT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dH0sWD1ZLEs9VHlwZUVycm9yLEc9ZnVuY3Rpb24odCl7aWYoWCh0KSl0aHJvdyBuZXcgSyhcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK3QpO3JldHVybiB0fSwkPVUsWj1HLFE9ZnVuY3Rpb24odCl7cmV0dXJuICQoWih0KSl9LEo9VCx0dD1DLmFsbCxldD1DLklTX0hUTUxEREE/ZnVuY3Rpb24odCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQ/bnVsbCE9PXQ6Sih0KXx8dD09PXR0fTpmdW5jdGlvbih0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdD9udWxsIT09dDpKKHQpfSxpdD17fSxvdD1pdCxudD1yLHJ0PVQsc3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHJ0KHQpP3Q6dm9pZCAwfSxhdD1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/c3Qob3RbdF0pfHxzdChudFt0XSk6b3RbdF0mJm90W3RdW2VdfHxudFt0XSYmbnRbdF1bZV19LGh0PXkoe30uaXNQcm90b3R5cGVPZiksZHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmU3RyaW5nKG5hdmlnYXRvci51c2VyQWdlbnQpfHxcIlwiLGx0PXIsY3Q9ZHQsdXQ9bHQucHJvY2VzcyxmdD1sdC5EZW5vLHB0PXV0JiZ1dC52ZXJzaW9uc3x8ZnQmJmZ0LnZlcnNpb24sdnQ9cHQmJnB0LnY4O3Z0JiYoaj0oUj12dC5zcGxpdChcIi5cIikpWzBdPjAmJlJbMF08ND8xOisoUlswXStSWzFdKSksIWomJmN0JiYoIShSPWN0Lm1hdGNoKC9FZGdlXFwvKFxcZCspLykpfHxSWzFdPj03NCkmJihSPWN0Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKSkmJihqPStSWzFdKTt2YXIgZ3Q9aix5dD1ndCxtdD1zLGJ0PXIuU3RyaW5nLHd0PSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIW10KChmdW5jdGlvbigpe3ZhciB0PVN5bWJvbChcInN5bWJvbCBkZXRlY3Rpb25cIik7cmV0dXJuIWJ0KHQpfHwhKE9iamVjdCh0KWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZ5dCYmeXQ8NDF9KSksa3Q9d3QmJiFTeW1ib2wuc2hhbSYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcixfdD1hdCx4dD1ULEV0PWh0LE90PU9iamVjdCxDdD1rdD9mdW5jdGlvbih0KXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdH06ZnVuY3Rpb24odCl7dmFyIGU9X3QoXCJTeW1ib2xcIik7cmV0dXJuIHh0KGUpJiZFdChlLnByb3RvdHlwZSxPdCh0KSl9LFN0PVN0cmluZyxUdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIFN0KHQpfWNhdGNoKHQpe3JldHVyblwiT2JqZWN0XCJ9fSxNdD1ULFB0PVR0LER0PVR5cGVFcnJvcixJdD1mdW5jdGlvbih0KXtpZihNdCh0KSlyZXR1cm4gdDt0aHJvdyBuZXcgRHQoUHQodCkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LEJ0PUl0LEZ0PVksenQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10W2VdO3JldHVybiBGdChpKT92b2lkIDA6QnQoaSl9LE50PUIsQXQ9VCxSdD1ldCxqdD1UeXBlRXJyb3IsTHQ9e2V4cG9ydHM6e319LEh0PXIsV3Q9T2JqZWN0LmRlZmluZVByb3BlcnR5LFZ0PWZ1bmN0aW9uKHQsZSl7dHJ5e1d0KEh0LHQse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSl9Y2F0Y2goaSl7SHRbdF09ZX1yZXR1cm4gZX0scXQ9XCJfX2NvcmUtanNfc2hhcmVkX19cIixVdD1yW3F0XXx8VnQocXQse30pLFl0PVV0OyhMdC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFl0W3RdfHwoWXRbdF09dm9pZCAwIT09ZT9lOnt9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMzMuMFwiLG1vZGU6XCJwdXJlXCIsY29weXJpZ2h0OlwiwqkgMjAxNC0yMDIzIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCIsbGljZW5zZTpcImh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2Jsb2IvdjMuMzMuMC9MSUNFTlNFXCIsc291cmNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanNcIn0pO3ZhciBYdD1MdC5leHBvcnRzLEt0PUcsR3Q9T2JqZWN0LCR0PWZ1bmN0aW9uKHQpe3JldHVybiBHdChLdCh0KSl9LFp0PSR0LFF0PXkoe30uaGFzT3duUHJvcGVydHkpLEp0PU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIFF0KFp0KHQpLGUpfSx0ZT15LGVlPTAsaWU9TWF0aC5yYW5kb20oKSxvZT10ZSgxLi50b1N0cmluZyksbmU9ZnVuY3Rpb24odCl7cmV0dXJuXCJTeW1ib2woXCIrKHZvaWQgMD09PXQ/XCJcIjp0KStcIilfXCIrb2UoKytlZStpZSwzNil9LHJlPVh0LHNlPUp0LGFlPW5lLGhlPXd0LGRlPWt0LGxlPXIuU3ltYm9sLGNlPXJlKFwid2tzXCIpLHVlPWRlP2xlLmZvcnx8bGU6bGUmJmxlLndpdGhvdXRTZXR0ZXJ8fGFlLGZlPWZ1bmN0aW9uKHQpe3JldHVybiBzZShjZSx0KXx8KGNlW3RdPWhlJiZzZShsZSx0KT9sZVt0XTp1ZShcIlN5bWJvbC5cIit0KSksY2VbdF19LHBlPUIsdmU9ZXQsZ2U9Q3QseWU9enQsbWU9ZnVuY3Rpb24odCxlKXt2YXIgaSxvO2lmKFwic3RyaW5nXCI9PT1lJiZBdChpPXQudG9TdHJpbmcpJiYhUnQobz1OdChpLHQpKSlyZXR1cm4gbztpZihBdChpPXQudmFsdWVPZikmJiFSdChvPU50KGksdCkpKXJldHVybiBvO2lmKFwic3RyaW5nXCIhPT1lJiZBdChpPXQudG9TdHJpbmcpJiYhUnQobz1OdChpLHQpKSlyZXR1cm4gbzt0aHJvdyBuZXcganQoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9LGJlPVR5cGVFcnJvcix3ZT1mZShcInRvUHJpbWl0aXZlXCIpLGtlPWZ1bmN0aW9uKHQsZSl7aWYoIXZlKHQpfHxnZSh0KSlyZXR1cm4gdDt2YXIgaSxvPXllKHQsd2UpO2lmKG8pe2lmKHZvaWQgMD09PWUmJihlPVwiZGVmYXVsdFwiKSxpPXBlKG8sdCxlKSwhdmUoaSl8fGdlKGkpKXJldHVybiBpO3Rocm93IG5ldyBiZShcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX1yZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJudW1iZXJcIiksbWUodCxlKX0sX2U9Q3QseGU9ZnVuY3Rpb24odCl7dmFyIGU9a2UodCxcInN0cmluZ1wiKTtyZXR1cm4gX2UoZSk/ZTplK1wiXCJ9LEVlPWV0LE9lPXIuZG9jdW1lbnQsQ2U9RWUoT2UpJiZFZShPZS5jcmVhdGVFbGVtZW50KSxTZT1mdW5jdGlvbih0KXtyZXR1cm4gQ2U/T2UuY3JlYXRlRWxlbWVudCh0KTp7fX0sVGU9U2UsTWU9IVAmJiFzKChmdW5jdGlvbigpe3JldHVybiA3IT09T2JqZWN0LmRlZmluZVByb3BlcnR5KFRlKFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpLFBlPVAsRGU9QixJZT1GLEJlPUwsRmU9USx6ZT14ZSxOZT1KdCxBZT1NZSxSZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO00uZj1QZT9SZTpmdW5jdGlvbih0LGUpe2lmKHQ9RmUodCksZT16ZShlKSxBZSl0cnl7cmV0dXJuIFJlKHQsZSl9Y2F0Y2godCl7fWlmKE5lKHQsZSkpcmV0dXJuIEJlKCFEZShJZS5mLHQsZSksdFtlXSl9O3ZhciBqZT1zLExlPVQsSGU9LyN8XFwucHJvdG90eXBlXFwuLyxXZT1mdW5jdGlvbih0LGUpe3ZhciBpPXFlW1ZlKHQpXTtyZXR1cm4gaT09PVllfHxpIT09VWUmJihMZShlKT9qZShlKTohIWUpfSxWZT1XZS5ub3JtYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIFN0cmluZyh0KS5yZXBsYWNlKEhlLFwiLlwiKS50b0xvd2VyQ2FzZSgpfSxxZT1XZS5kYXRhPXt9LFVlPVdlLk5BVElWRT1cIk5cIixZZT1XZS5QT0xZRklMTD1cIlBcIixYZT1XZSxLZT1JdCxHZT1hLCRlPUUoRS5iaW5kKSxaZT1mdW5jdGlvbih0LGUpe3JldHVybiBLZSh0KSx2b2lkIDA9PT1lP3Q6R2U/JGUodCxlKTpmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19LFFlPXt9LEplPVAmJnMoKGZ1bmN0aW9uKCl7cmV0dXJuIDQyIT09T2JqZWN0LmRlZmluZVByb3BlcnR5KChmdW5jdGlvbigpe30pLFwicHJvdG90eXBlXCIse3ZhbHVlOjQyLHdyaXRhYmxlOiExfSkucHJvdG90eXBlfSkpLHRpPWV0LGVpPVN0cmluZyxpaT1UeXBlRXJyb3Isb2k9ZnVuY3Rpb24odCl7aWYodGkodCkpcmV0dXJuIHQ7dGhyb3cgbmV3IGlpKGVpKHQpK1wiIGlzIG5vdCBhbiBvYmplY3RcIil9LG5pPVAscmk9TWUsc2k9SmUsYWk9b2ksaGk9eGUsZGk9VHlwZUVycm9yLGxpPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxjaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLHVpPVwiZW51bWVyYWJsZVwiLGZpPVwiY29uZmlndXJhYmxlXCIscGk9XCJ3cml0YWJsZVwiO1FlLmY9bmk/c2k/ZnVuY3Rpb24odCxlLGkpe2lmKGFpKHQpLGU9aGkoZSksYWkoaSksXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmXCJwcm90b3R5cGVcIj09PWUmJlwidmFsdWVcImluIGkmJnBpIGluIGkmJiFpW3BpXSl7dmFyIG89Y2kodCxlKTtvJiZvW3BpXSYmKHRbZV09aS52YWx1ZSxpPXtjb25maWd1cmFibGU6ZmkgaW4gaT9pW2ZpXTpvW2ZpXSxlbnVtZXJhYmxlOnVpIGluIGk/aVt1aV06b1t1aV0sd3JpdGFibGU6ITF9KX1yZXR1cm4gbGkodCxlLGkpfTpsaTpmdW5jdGlvbih0LGUsaSl7aWYoYWkodCksZT1oaShlKSxhaShpKSxyaSl0cnl7cmV0dXJuIGxpKHQsZSxpKX1jYXRjaCh0KXt9aWYoXCJnZXRcImluIGl8fFwic2V0XCJpbiBpKXRocm93IG5ldyBkaShcIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkXCIpO3JldHVyblwidmFsdWVcImluIGkmJih0W2VdPWkudmFsdWUpLHR9O3ZhciB2aT1RZSxnaT1MLHlpPVA/ZnVuY3Rpb24odCxlLGkpe3JldHVybiB2aS5mKHQsZSxnaSgxLGkpKX06ZnVuY3Rpb24odCxlLGkpe3JldHVybiB0W2VdPWksdH0sbWk9cixiaT11LHdpPUUsa2k9VCxfaT1NLmYseGk9WGUsRWk9aXQsT2k9WmUsQ2k9eWksU2k9SnQsVGk9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oaSxvLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgdDtjYXNlIDE6cmV0dXJuIG5ldyB0KGkpO2Nhc2UgMjpyZXR1cm4gbmV3IHQoaSxvKX1yZXR1cm4gbmV3IHQoaSxvLG4pfXJldHVybiBiaSh0LHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIGUucHJvdG90eXBlPXQucHJvdG90eXBlLGV9LE1pPWZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuLHIscyxhLGgsZCxsLGM9dC50YXJnZXQsdT10Lmdsb2JhbCxmPXQuc3RhdCxwPXQucHJvdG8sdj11P21pOmY/bWlbY106KG1pW2NdfHx7fSkucHJvdG90eXBlLGc9dT9FaTpFaVtjXXx8Q2koRWksYyx7fSlbY10seT1nLnByb3RvdHlwZTtmb3IociBpbiBlKW89IShpPXhpKHU/cjpjKyhmP1wiLlwiOlwiI1wiKStyLHQuZm9yY2VkKSkmJnYmJlNpKHYsciksYT1nW3JdLG8mJihoPXQuZG9udENhbGxHZXRTZXQ/KGw9X2kodixyKSkmJmwudmFsdWU6dltyXSkscz1vJiZoP2g6ZVtyXSxvJiZ0eXBlb2YgYT09dHlwZW9mIHN8fChkPXQuYmluZCYmbz9PaShzLG1pKTp0LndyYXAmJm8/VGkocyk6cCYma2kocyk/d2kocyk6cywodC5zaGFtfHxzJiZzLnNoYW18fGEmJmEuc2hhbSkmJkNpKGQsXCJzaGFtXCIsITApLENpKGcscixkKSxwJiYoU2koRWksbj1jK1wiUHJvdG90eXBlXCIpfHxDaShFaSxuLHt9KSxDaShFaVtuXSxyLHMpLHQucmVhbCYmeSYmKGl8fCF5W3JdKSYmQ2koeSxyLHMpKSl9LFBpPU1hdGguY2VpbCxEaT1NYXRoLmZsb29yLElpPU1hdGgudHJ1bmN8fGZ1bmN0aW9uKHQpe3ZhciBlPSt0O3JldHVybihlPjA/RGk6UGkpKGUpfSxCaT1mdW5jdGlvbih0KXt2YXIgZT0rdDtyZXR1cm4gZSE9ZXx8MD09PWU/MDpJaShlKX0sRmk9Qmksemk9TWF0aC5tYXgsTmk9TWF0aC5taW4sQWk9ZnVuY3Rpb24odCxlKXt2YXIgaT1GaSh0KTtyZXR1cm4gaTwwP3ppKGkrZSwwKTpOaShpLGUpfSxSaT1CaSxqaT1NYXRoLm1pbixMaT1mdW5jdGlvbih0KXtyZXR1cm4gdD4wP2ppKFJpKHQpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9LEhpPWZ1bmN0aW9uKHQpe3JldHVybiBMaSh0Lmxlbmd0aCl9LFdpPVEsVmk9QWkscWk9SGksVWk9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSxvKXt2YXIgbixyPVdpKGUpLHM9cWkociksYT1WaShvLHMpO2lmKHQmJmkhPWkpe2Zvcig7cz5hOylpZigobj1yW2ErK10pIT1uKXJldHVybiEwfWVsc2UgZm9yKDtzPmE7YSsrKWlmKCh0fHxhIGluIHIpJiZyW2FdPT09aSlyZXR1cm4gdHx8YXx8MDtyZXR1cm4hdCYmLTF9fSxZaT17aW5jbHVkZXM6VWkoITApLGluZGV4T2Y6VWkoITEpfSxYaT17fSxLaT1KdCxHaT1RLCRpPVlpLmluZGV4T2YsWmk9WGksUWk9eShbXS5wdXNoKSxKaT1mdW5jdGlvbih0LGUpe3ZhciBpLG89R2kodCksbj0wLHI9W107Zm9yKGkgaW4gbykhS2koWmksaSkmJktpKG8saSkmJlFpKHIsaSk7Zm9yKDtlLmxlbmd0aD5uOylLaShvLGk9ZVtuKytdKSYmKH4kaShyLGkpfHxRaShyLGkpKTtyZXR1cm4gcn0sdG89W1wiY29uc3RydWN0b3JcIixcImhhc093blByb3BlcnR5XCIsXCJpc1Byb3RvdHlwZU9mXCIsXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLFwidG9Mb2NhbGVTdHJpbmdcIixcInRvU3RyaW5nXCIsXCJ2YWx1ZU9mXCJdLGVvPUppLGlvPXRvLG9vPU9iamVjdC5rZXlzfHxmdW5jdGlvbih0KXtyZXR1cm4gZW8odCxpbyl9LG5vPXt9O25vLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sczt2YXIgcm89UCxzbz15LGFvPUIsaG89cyxsbz1vbyxjbz1ubyx1bz1GLGZvPSR0LHBvPVUsdm89T2JqZWN0LmFzc2lnbixnbz1PYmplY3QuZGVmaW5lUHJvcGVydHkseW89c28oW10uY29uY2F0KSxtbz0hdm98fGhvKChmdW5jdGlvbigpe2lmKHJvJiYxIT09dm8oe2I6MX0sdm8oZ28oe30sXCJhXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7Z28odGhpcyxcImJcIix7dmFsdWU6MyxlbnVtZXJhYmxlOiExfSl9fSkse2I6Mn0pKS5iKXJldHVybiEwO3ZhciB0PXt9LGU9e30saT1TeW1ib2woXCJhc3NpZ24gZGV0ZWN0aW9uXCIpLG89XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiB0W2ldPTcsby5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3RdPXR9KSksNyE9PXZvKHt9LHQpW2ldfHxsbyh2byh7fSxlKSkuam9pbihcIlwiKSE9PW99KSk/ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9Zm8odCksbz1hcmd1bWVudHMubGVuZ3RoLG49MSxyPWNvLmYscz11by5mO28+bjspZm9yKHZhciBhLGg9cG8oYXJndW1lbnRzW24rK10pLGQ9cj95byhsbyhoKSxyKGgpKTpsbyhoKSxsPWQubGVuZ3RoLGM9MDtsPmM7KWE9ZFtjKytdLHJvJiYhYW8ocyxoLGEpfHwoaVthXT1oW2FdKTtyZXR1cm4gaX06dm8sYm89bW87TWkoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsYXJpdHk6Mixmb3JjZWQ6T2JqZWN0LmFzc2lnbiE9PWJvfSx7YXNzaWduOmJvfSk7dmFyIHdvPW8oaXQuT2JqZWN0LmFzc2lnbiksa289eShbXS5zbGljZSksX289eSx4bz1JdCxFbz1ldCxPbz1KdCxDbz1rbyxTbz1hLFRvPUZ1bmN0aW9uLE1vPV9vKFtdLmNvbmNhdCksUG89X28oW10uam9pbiksRG89e30sSW89U28/VG8uYmluZDpmdW5jdGlvbih0KXt2YXIgZT14byh0aGlzKSxpPWUucHJvdG90eXBlLG89Q28oYXJndW1lbnRzLDEpLG49ZnVuY3Rpb24oKXt2YXIgaT1NbyhvLENvKGFyZ3VtZW50cykpO3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbj9mdW5jdGlvbih0LGUsaSl7aWYoIU9vKERvLGUpKXtmb3IodmFyIG89W10sbj0wO248ZTtuKyspb1tuXT1cImFbXCIrbitcIl1cIjtEb1tlXT1UbyhcIkMsYVwiLFwicmV0dXJuIG5ldyBDKFwiK1BvKG8sXCIsXCIpK1wiKVwiKX1yZXR1cm4gRG9bZV0odCxpKX0oZSxpLmxlbmd0aCxpKTplLmFwcGx5KHQsaSl9O3JldHVybiBFbyhpKSYmKG4ucHJvdG90eXBlPWkpLG59LEJvPUlvO01pKHt0YXJnZXQ6XCJGdW5jdGlvblwiLHByb3RvOiEwLGZvcmNlZDpGdW5jdGlvbi5iaW5kIT09Qm99LHtiaW5kOkJvfSk7dmFyIEZvPWl0LHpvPWZ1bmN0aW9uKHQpe3JldHVybiBGb1t0K1wiUHJvdG90eXBlXCJdfSxObz16byhcIkZ1bmN0aW9uXCIpLmJpbmQsQW89aHQsUm89Tm8sam89RnVuY3Rpb24ucHJvdG90eXBlLExvPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYmluZDtyZXR1cm4gdD09PWpvfHxBbyhqbyx0KSYmZT09PWpvLmJpbmQ/Um86ZX0sSG89TG8sV289byhIbyk7ZnVuY3Rpb24gVm8odCxlLGksbyl7dC5iZWdpblBhdGgoKSx0LmFyYyhlLGksbywwLDIqTWF0aC5QSSwhMSksdC5jbG9zZVBhdGgoKX1mdW5jdGlvbiBxbyh0LGUsaSxvLG4scil7dmFyIHM9TWF0aC5QSS8xODA7by0yKnI8MCYmKHI9by8yKSxuLTIqcjwwJiYocj1uLzIpLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oZStyLGkpLHQubGluZVRvKGUrby1yLGkpLHQuYXJjKGUrby1yLGkrcixyLDI3MCpzLDM2MCpzLCExKSx0LmxpbmVUbyhlK28saStuLXIpLHQuYXJjKGUrby1yLGkrbi1yLHIsMCw5MCpzLCExKSx0LmxpbmVUbyhlK3IsaStuKSx0LmFyYyhlK3IsaStuLXIsciw5MCpzLDE4MCpzLCExKSx0LmxpbmVUbyhlLGkrciksdC5hcmMoZStyLGkrcixyLDE4MCpzLDI3MCpzLCExKSx0LmNsb3NlUGF0aCgpfWZ1bmN0aW9uIFVvKHQsZSxpLG8sbil7dmFyIHI9LjU1MjI4NDgscz1vLzIqcixhPW4vMipyLGg9ZStvLGQ9aStuLGw9ZStvLzIsYz1pK24vMjt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGUsYyksdC5iZXppZXJDdXJ2ZVRvKGUsYy1hLGwtcyxpLGwsaSksdC5iZXppZXJDdXJ2ZVRvKGwrcyxpLGgsYy1hLGgsYyksdC5iZXppZXJDdXJ2ZVRvKGgsYythLGwrcyxkLGwsZCksdC5iZXppZXJDdXJ2ZVRvKGwtcyxkLGUsYythLGUsYyksdC5jbG9zZVBhdGgoKX1mdW5jdGlvbiBZbyh0LGUsaSxvLG4pe3ZhciByPW4qKDEvMykscz0uNTUyMjg0OCxhPW8vMipzLGg9ci8yKnMsZD1lK28sbD1pK3IsYz1lK28vMix1PWkrci8yLGY9aSsobi1yLzIpLHA9aStuO3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8oZCx1KSx0LmJlemllckN1cnZlVG8oZCx1K2gsYythLGwsYyxsKSx0LmJlemllckN1cnZlVG8oYy1hLGwsZSx1K2gsZSx1KSx0LmJlemllckN1cnZlVG8oZSx1LWgsYy1hLGksYyxpKSx0LmJlemllckN1cnZlVG8oYythLGksZCx1LWgsZCx1KSx0LmxpbmVUbyhkLGYpLHQuYmV6aWVyQ3VydmVUbyhkLGYraCxjK2EscCxjLHApLHQuYmV6aWVyQ3VydmVUbyhjLWEscCxlLGYraCxlLGYpLHQubGluZVRvKGUsdSl9ZnVuY3Rpb24gWG8odCxlLGksbyxuLHIpe3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8oZSxpKTtmb3IodmFyIHM9ci5sZW5ndGgsYT1vLWUsaD1uLWksZD1oL2EsbD1NYXRoLnNxcnQoYSphK2gqaCksYz0wLHU9ITAsZj0wLHA9K3JbMF07bD49LjE7KShwPStyW2MrKyVzXSk+bCYmKHA9bCksZj1NYXRoLnNxcnQocCpwLygxK2QqZCkpLGUrPWY9YTwwPy1mOmYsaSs9ZCpmLCEwPT09dT90LmxpbmVUbyhlLGkpOnQubW92ZVRvKGUsaSksbC09cCx1PSF1fXZhciBLbz17Y2lyY2xlOlZvLGRhc2hlZExpbmU6WG8sZGF0YWJhc2U6WW8sZGlhbW9uZDpmdW5jdGlvbih0LGUsaSxvKXt0LmJlZ2luUGF0aCgpLHQubGluZVRvKGUsaStvKSx0LmxpbmVUbyhlK28saSksdC5saW5lVG8oZSxpLW8pLHQubGluZVRvKGUtbyxpKSx0LmNsb3NlUGF0aCgpfSxlbGxpcHNlOlVvLGVsbGlwc2VfdmlzOlVvLGhleGFnb246ZnVuY3Rpb24odCxlLGksbyl7dC5iZWdpblBhdGgoKTt2YXIgbj0yKk1hdGguUEkvNjt0Lm1vdmVUbyhlK28saSk7Zm9yKHZhciByPTE7cjw2O3IrKyl0LmxpbmVUbyhlK28qTWF0aC5jb3MobipyKSxpK28qTWF0aC5zaW4obipyKSk7dC5jbG9zZVBhdGgoKX0scm91bmRSZWN0OnFvLHNxdWFyZTpmdW5jdGlvbih0LGUsaSxvKXt0LmJlZ2luUGF0aCgpLHQucmVjdChlLW8saS1vLDIqbywyKm8pLHQuY2xvc2VQYXRoKCl9LHN0YXI6ZnVuY3Rpb24odCxlLGksbyl7dC5iZWdpblBhdGgoKSxpKz0uMSoobyo9LjgyKTtmb3IodmFyIG49MDtuPDEwO24rKyl7dmFyIHI9biUyPT0wPzEuMypvOi41Km87dC5saW5lVG8oZStyKk1hdGguc2luKDIqbipNYXRoLlBJLzEwKSxpLXIqTWF0aC5jb3MoMipuKk1hdGguUEkvMTApKX10LmNsb3NlUGF0aCgpfSx0cmlhbmdsZTpmdW5jdGlvbih0LGUsaSxvKXt0LmJlZ2luUGF0aCgpLGkrPS4yNzUqKG8qPTEuMTUpO3ZhciBuPTIqbyxyPW4vMixzPU1hdGguc3FydCgzKS82Km4sYT1NYXRoLnNxcnQobipuLXIqcik7dC5tb3ZlVG8oZSxpLShhLXMpKSx0LmxpbmVUbyhlK3IsaStzKSx0LmxpbmVUbyhlLXIsaStzKSx0LmxpbmVUbyhlLGktKGEtcykpLHQuY2xvc2VQYXRoKCl9LHRyaWFuZ2xlRG93bjpmdW5jdGlvbih0LGUsaSxvKXt0LmJlZ2luUGF0aCgpLGktPS4yNzUqKG8qPTEuMTUpO3ZhciBuPTIqbyxyPW4vMixzPU1hdGguc3FydCgzKS82Km4sYT1NYXRoLnNxcnQobipuLXIqcik7dC5tb3ZlVG8oZSxpKyhhLXMpKSx0LmxpbmVUbyhlK3IsaS1zKSx0LmxpbmVUbyhlLXIsaS1zKSx0LmxpbmVUbyhlLGkrKGEtcykpLHQuY2xvc2VQYXRoKCl9fTt2YXIgR289e2V4cG9ydHM6e319OyFmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe2lmKHQpcmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgaSBpbiBlLnByb3RvdHlwZSl0W2ldPWUucHJvdG90eXBlW2ldO3JldHVybiB0fSh0KX10LmV4cG9ydHM9ZSxlLnByb3RvdHlwZS5vbj1lLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LCh0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF09dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXSkucHVzaChlKSx0aGlzfSxlLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gaSgpe3RoaXMub2ZmKHQsaSksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGkuZm49ZSx0aGlzLm9uKHQsaSksdGhpc30sZS5wcm90b3R5cGUub2ZmPWUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWUucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1lLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXt9LHRoaXM7dmFyIGksbz10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF07aWYoIW8pcmV0dXJuIHRoaXM7aWYoMT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSx0aGlzO2Zvcih2YXIgbj0wO248by5sZW5ndGg7bisrKWlmKChpPW9bbl0pPT09ZXx8aS5mbj09PWUpe28uc3BsaWNlKG4sMSk7YnJlYWt9cmV0dXJuIDA9PT1vLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSx0aGlzfSxlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxpPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSxvPTE7bzxhcmd1bWVudHMubGVuZ3RoO28rKyllW28tMV09YXJndW1lbnRzW29dO2lmKGkpe289MDtmb3IodmFyIG49KGk9aS5zbGljZSgwKSkubGVuZ3RoO288bjsrK28paVtvXS5hcHBseSh0aGlzLGUpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XXx8W119LGUucHJvdG90eXBlLmhhc0xpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKHQpLmxlbmd0aH19KEdvKTt2YXIgJG89byhHby5leHBvcnRzKSxabz17fTtab1tmZShcInRvU3RyaW5nVGFnXCIpXT1cInpcIjt2YXIgUW8sSm8sdG4sZW49XCJbb2JqZWN0IHpdXCI9PT1TdHJpbmcoWm8pLG9uPWVuLG5uPVQscm49ayxzbj1mZShcInRvU3RyaW5nVGFnXCIpLGFuPU9iamVjdCxobj1cIkFyZ3VtZW50c1wiPT09cm4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxkbj1vbj9ybjpmdW5jdGlvbih0KXt2YXIgZSxpLG87cmV0dXJuIHZvaWQgMD09PXQ/XCJVbmRlZmluZWRcIjpudWxsPT09dD9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2YoaT1mdW5jdGlvbih0LGUpe3RyeXtyZXR1cm4gdFtlXX1jYXRjaCh0KXt9fShlPWFuKHQpLHNuKSk/aTpobj9ybihlKTpcIk9iamVjdFwiPT09KG89cm4oZSkpJiZubihlLmNhbGxlZSk/XCJBcmd1bWVudHNcIjpvfSxsbj1kbixjbj1TdHJpbmcsdW49ZnVuY3Rpb24odCl7aWYoXCJTeW1ib2xcIj09PWxuKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCBhIFN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZ1wiKTtyZXR1cm4gY24odCl9LGZuPXkscG49Qmksdm49dW4sZ249Ryx5bj1mbihcIlwiLmNoYXJBdCksbW49Zm4oXCJcIi5jaGFyQ29kZUF0KSxibj1mbihcIlwiLnNsaWNlKSx3bj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxpKXt2YXIgbyxuLHI9dm4oZ24oZSkpLHM9cG4oaSksYT1yLmxlbmd0aDtyZXR1cm4gczwwfHxzPj1hP3Q/XCJcIjp2b2lkIDA6KG89bW4ocixzKSk8NTUyOTZ8fG8+NTYzMTl8fHMrMT09PWF8fChuPW1uKHIscysxKSk8NTYzMjB8fG4+NTczNDM/dD95bihyLHMpOm86dD9ibihyLHMscysyKTpuLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fSxrbj17Y29kZUF0OnduKCExKSxjaGFyQXQ6d24oITApfSxfbj1ULHhuPXIuV2Vha01hcCxFbj1fbih4bikmJi9uYXRpdmUgY29kZS8udGVzdChTdHJpbmcoeG4pKSxPbj1uZSxDbj1YdChcImtleXNcIiksU249ZnVuY3Rpb24odCl7cmV0dXJuIENuW3RdfHwoQ25bdF09T24odCkpfSxUbj1FbixNbj1yLFBuPWV0LERuPXlpLEluPUp0LEJuPVV0LEZuPVNuLHpuPVhpLE5uPVwiT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWRcIixBbj1Nbi5UeXBlRXJyb3IsUm49TW4uV2Vha01hcDtpZihUbnx8Qm4uc3RhdGUpe3ZhciBqbj1Cbi5zdGF0ZXx8KEJuLnN0YXRlPW5ldyBSbik7am4uZ2V0PWpuLmdldCxqbi5oYXM9am4uaGFzLGpuLnNldD1qbi5zZXQsUW89ZnVuY3Rpb24odCxlKXtpZihqbi5oYXModCkpdGhyb3cgbmV3IEFuKE5uKTtyZXR1cm4gZS5mYWNhZGU9dCxqbi5zZXQodCxlKSxlfSxKbz1mdW5jdGlvbih0KXtyZXR1cm4gam4uZ2V0KHQpfHx7fX0sdG49ZnVuY3Rpb24odCl7cmV0dXJuIGpuLmhhcyh0KX19ZWxzZXt2YXIgTG49Rm4oXCJzdGF0ZVwiKTt6bltMbl09ITAsUW89ZnVuY3Rpb24odCxlKXtpZihJbih0LExuKSl0aHJvdyBuZXcgQW4oTm4pO3JldHVybiBlLmZhY2FkZT10LERuKHQsTG4sZSksZX0sSm89ZnVuY3Rpb24odCl7cmV0dXJuIEluKHQsTG4pP3RbTG5dOnt9fSx0bj1mdW5jdGlvbih0KXtyZXR1cm4gSW4odCxMbil9fXZhciBIbj17c2V0OlFvLGdldDpKbyxoYXM6dG4sZW5mb3JjZTpmdW5jdGlvbih0KXtyZXR1cm4gdG4odCk/Sm8odCk6UW8odCx7fSl9LGdldHRlckZvcjpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIGk7aWYoIVBuKGUpfHwoaT1KbyhlKSkudHlwZSE9PXQpdGhyb3cgbmV3IEFuKFwiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCBcIit0K1wiIHJlcXVpcmVkXCIpO3JldHVybiBpfX19LFduPVAsVm49SnQscW49RnVuY3Rpb24ucHJvdG90eXBlLFVuPVduJiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFluPVZuKHFuLFwibmFtZVwiKSxYbj17RVhJU1RTOlluLFBST1BFUjpZbiYmXCJzb21ldGhpbmdcIj09PWZ1bmN0aW9uKCl7fS5uYW1lLENPTkZJR1VSQUJMRTpZbiYmKCFXbnx8V24mJlVuKHFuLFwibmFtZVwiKS5jb25maWd1cmFibGUpfSxLbj17fSxHbj1QLCRuPUplLFpuPVFlLFFuPW9pLEpuPVEsdHI9b287S24uZj1HbiYmISRuP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKHQsZSl7UW4odCk7Zm9yKHZhciBpLG89Sm4oZSksbj10cihlKSxyPW4ubGVuZ3RoLHM9MDtyPnM7KVpuLmYodCxpPW5bcysrXSxvW2ldKTtyZXR1cm4gdH07dmFyIGVyLGlyPWF0KFwiZG9jdW1lbnRcIixcImRvY3VtZW50RWxlbWVudFwiKSxvcj1vaSxucj1Lbixycj10byxzcj1YaSxhcj1pcixocj1TZSxkcj1cInByb3RvdHlwZVwiLGxyPVwic2NyaXB0XCIsY3I9U24oXCJJRV9QUk9UT1wiKSx1cj1mdW5jdGlvbigpe30sZnI9ZnVuY3Rpb24odCl7cmV0dXJuXCI8XCIrbHIrXCI+XCIrdCtcIjwvXCIrbHIrXCI+XCJ9LHByPWZ1bmN0aW9uKHQpe3Qud3JpdGUoZnIoXCJcIikpLHQuY2xvc2UoKTt2YXIgZT10LnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIHQ9bnVsbCxlfSx2cj1mdW5jdGlvbigpe3RyeXtlcj1uZXcgQWN0aXZlWE9iamVjdChcImh0bWxmaWxlXCIpfWNhdGNoKHQpe312YXIgdCxlLGk7dnI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50LmRvbWFpbiYmZXI/cHIoZXIpOihlPWhyKFwiaWZyYW1lXCIpLGk9XCJqYXZhXCIrbHIrXCI6XCIsZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGFyLmFwcGVuZENoaWxkKGUpLGUuc3JjPVN0cmluZyhpKSwodD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpLm9wZW4oKSx0LndyaXRlKGZyKFwiZG9jdW1lbnQuRj1PYmplY3RcIikpLHQuY2xvc2UoKSx0LkYpOnByKGVyKTtmb3IodmFyIG89cnIubGVuZ3RoO28tLTspZGVsZXRlIHZyW2RyXVtycltvXV07cmV0dXJuIHZyKCl9O3NyW2NyXT0hMDt2YXIgZ3IseXIsbXIsYnI9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gbnVsbCE9PXQ/KHVyW2RyXT1vcih0KSxpPW5ldyB1cix1cltkcl09bnVsbCxpW2NyXT10KTppPXZyKCksdm9pZCAwPT09ZT9pOm5yLmYoaSxlKX0sd3I9IXMoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IHQpIT09dC5wcm90b3R5cGV9KSksa3I9SnQsX3I9VCx4cj0kdCxFcj13cixPcj1TbihcIklFX1BST1RPXCIpLENyPU9iamVjdCxTcj1Dci5wcm90b3R5cGUsVHI9RXI/Q3IuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24odCl7dmFyIGU9eHIodCk7aWYoa3IoZSxPcikpcmV0dXJuIGVbT3JdO3ZhciBpPWUuY29uc3RydWN0b3I7cmV0dXJuIF9yKGkpJiZlIGluc3RhbmNlb2YgaT9pLnByb3RvdHlwZTplIGluc3RhbmNlb2YgQ3I/U3I6bnVsbH0sTXI9eWksUHI9ZnVuY3Rpb24odCxlLGksbyl7cmV0dXJuIG8mJm8uZW51bWVyYWJsZT90W2VdPWk6TXIodCxlLGkpLHR9LERyPXMsSXI9VCxCcj1ldCxGcj1icix6cj1UcixOcj1QcixBcj1mZShcIml0ZXJhdG9yXCIpLFJyPSExO1tdLmtleXMmJihcIm5leHRcImluKG1yPVtdLmtleXMoKSk/KHlyPXpyKHpyKG1yKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKGdyPXlyKTpScj0hMCk7dmFyIGpyPSFCcihncil8fERyKChmdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBncltBcl0uY2FsbCh0KSE9PXR9KSk7SXIoKGdyPWpyP3t9OkZyKGdyKSlbQXJdKXx8TnIoZ3IsQXIsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIExyPXtJdGVyYXRvclByb3RvdHlwZTpncixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOlJyfSxIcj1kbixXcj1lbj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBcIitIcih0aGlzKStcIl1cIn0sVnI9ZW4scXI9UWUuZixVcj15aSxZcj1KdCxYcj1XcixLcj1mZShcInRvU3RyaW5nVGFnXCIpLEdyPWZ1bmN0aW9uKHQsZSxpLG8pe2lmKHQpe3ZhciBuPWk/dDp0LnByb3RvdHlwZTtZcihuLEtyKXx8cXIobixLcix7Y29uZmlndXJhYmxlOiEwLHZhbHVlOmV9KSxvJiYhVnImJlVyKG4sXCJ0b1N0cmluZ1wiLFhyKX19LCRyPXt9LFpyPUxyLkl0ZXJhdG9yUHJvdG90eXBlLFFyPWJyLEpyPUwsdHM9R3IsZXM9JHIsaXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sb3M9eSxucz1JdCxycz1ULHNzPVN0cmluZyxhcz1UeXBlRXJyb3IsaHM9ZnVuY3Rpb24odCxlLGkpe3RyeXtyZXR1cm4gb3MobnMoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpW2ldKSl9Y2F0Y2godCl7fX0sZHM9b2ksbHM9ZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHR8fHJzKHQpKXJldHVybiB0O3Rocm93IG5ldyBhcyhcIkNhbid0IHNldCBcIitzcyh0KStcIiBhcyBhIHByb3RvdHlwZVwiKX0sY3M9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoXCJfX3Byb3RvX19cImlue30/ZnVuY3Rpb24oKXt2YXIgdCxlPSExLGk9e307dHJ5eyh0PWhzKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIixcInNldFwiKSkoaSxbXSksZT1pIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2godCl7fXJldHVybiBmdW5jdGlvbihpLG8pe3JldHVybiBkcyhpKSxscyhvKSxlP3QoaSxvKTppLl9fcHJvdG9fXz1vLGl9fSgpOnZvaWQgMCksdXM9TWksZnM9Qixwcz1Ybix2cz1mdW5jdGlvbih0LGUsaSxvKXt2YXIgbj1lK1wiIEl0ZXJhdG9yXCI7cmV0dXJuIHQucHJvdG90eXBlPVFyKFpyLHtuZXh0OkpyKCshbyxpKX0pLHRzKHQsbiwhMSwhMCksZXNbbl09aXMsdH0sZ3M9VHIseXM9R3IsbXM9UHIsYnM9JHIsd3M9THIsa3M9cHMuUFJPUEVSLF9zPXdzLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMseHM9ZmUoXCJpdGVyYXRvclwiKSxFcz1cImtleXNcIixPcz1cInZhbHVlc1wiLENzPVwiZW50cmllc1wiLFNzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFRzPWZ1bmN0aW9uKHQsZSxpLG8sbixyLHMpe3ZzKGksZSxvKTt2YXIgYSxoLGQsbD1mdW5jdGlvbih0KXtpZih0PT09biYmdilyZXR1cm4gdjtpZighX3MmJnQmJnQgaW4gZilyZXR1cm4gZlt0XTtzd2l0Y2godCl7Y2FzZSBFczpjYXNlIE9zOmNhc2UgQ3M6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMsdCl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzKX19LGM9ZStcIiBJdGVyYXRvclwiLHU9ITEsZj10LnByb3RvdHlwZSxwPWZbeHNdfHxmW1wiQEBpdGVyYXRvclwiXXx8biYmZltuXSx2PSFfcyYmcHx8bChuKSxnPVwiQXJyYXlcIj09PWUmJmYuZW50cmllc3x8cDtpZihnJiYoYT1ncyhnLmNhbGwobmV3IHQpKSkhPT1PYmplY3QucHJvdG90eXBlJiZhLm5leHQmJih5cyhhLGMsITAsITApLGJzW2NdPVNzKSxrcyYmbj09PU9zJiZwJiZwLm5hbWUhPT1PcyYmKHU9ITAsdj1mdW5jdGlvbigpe3JldHVybiBmcyhwLHRoaXMpfSksbilpZihoPXt2YWx1ZXM6bChPcyksa2V5czpyP3Y6bChFcyksZW50cmllczpsKENzKX0scylmb3IoZCBpbiBoKShfc3x8dXx8IShkIGluIGYpKSYmbXMoZixkLGhbZF0pO2Vsc2UgdXMoe3RhcmdldDplLHByb3RvOiEwLGZvcmNlZDpfc3x8dX0saCk7cmV0dXJuIHMmJmZbeHNdIT09diYmbXMoZix4cyx2LHtuYW1lOm59KSxic1tlXT12LGh9LE1zPWZ1bmN0aW9uKHQsZSl7cmV0dXJue3ZhbHVlOnQsZG9uZTplfX0sUHM9a24uY2hhckF0LERzPXVuLElzPUhuLEJzPVRzLEZzPU1zLHpzPVwiU3RyaW5nIEl0ZXJhdG9yXCIsTnM9SXMuc2V0LEFzPUlzLmdldHRlckZvcih6cyk7QnMoU3RyaW5nLFwiU3RyaW5nXCIsKGZ1bmN0aW9uKHQpe05zKHRoaXMse3R5cGU6enMsc3RyaW5nOkRzKHQpLGluZGV4OjB9KX0pLChmdW5jdGlvbigpe3ZhciB0LGU9QXModGhpcyksaT1lLnN0cmluZyxvPWUuaW5kZXg7cmV0dXJuIG8+PWkubGVuZ3RoP0ZzKHZvaWQgMCwhMCk6KHQ9UHMoaSxvKSxlLmluZGV4Kz10Lmxlbmd0aCxGcyh0LCExKSl9KSk7dmFyIFJzPUIsanM9b2ksTHM9enQsSHM9ZnVuY3Rpb24odCxlLGkpe3ZhciBvLG47anModCk7dHJ5e2lmKCEobz1Mcyh0LFwicmV0dXJuXCIpKSl7aWYoXCJ0aHJvd1wiPT09ZSl0aHJvdyBpO3JldHVybiBpfW89UnMobyx0KX1jYXRjaCh0KXtuPSEwLG89dH1pZihcInRocm93XCI9PT1lKXRocm93IGk7aWYobil0aHJvdyBvO3JldHVybiBqcyhvKSxpfSxXcz1vaSxWcz1Icyxxcz0kcixVcz1mZShcIml0ZXJhdG9yXCIpLFlzPUFycmF5LnByb3RvdHlwZSxYcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmKHFzLkFycmF5PT09dHx8WXNbVXNdPT09dCl9LEtzPVQsR3M9VXQsJHM9eShGdW5jdGlvbi50b1N0cmluZyk7S3MoR3MuaW5zcGVjdFNvdXJjZSl8fChHcy5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKHQpe3JldHVybiAkcyh0KX0pO3ZhciBacz1Hcy5pbnNwZWN0U291cmNlLFFzPXksSnM9cyx0YT1ULGVhPWRuLGlhPVpzLG9hPWZ1bmN0aW9uKCl7fSxuYT1bXSxyYT1hdChcIlJlZmxlY3RcIixcImNvbnN0cnVjdFwiKSxzYT0vXlxccyooPzpjbGFzc3xmdW5jdGlvbilcXGIvLGFhPVFzKHNhLmV4ZWMpLGhhPSFzYS50ZXN0KG9hKSxkYT1mdW5jdGlvbih0KXtpZighdGEodCkpcmV0dXJuITE7dHJ5e3JldHVybiByYShvYSxuYSx0KSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19LGxhPWZ1bmN0aW9uKHQpe2lmKCF0YSh0KSlyZXR1cm4hMTtzd2l0Y2goZWEodCkpe2Nhc2VcIkFzeW5jRnVuY3Rpb25cIjpjYXNlXCJHZW5lcmF0b3JGdW5jdGlvblwiOmNhc2VcIkFzeW5jR2VuZXJhdG9yRnVuY3Rpb25cIjpyZXR1cm4hMX10cnl7cmV0dXJuIGhhfHwhIWFhKHNhLGlhKHQpKX1jYXRjaCh0KXtyZXR1cm4hMH19O2xhLnNoYW09ITA7dmFyIGNhPSFyYXx8SnMoKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGRhKGRhLmNhbGwpfHwhZGEoT2JqZWN0KXx8IWRhKChmdW5jdGlvbigpe3Q9ITB9KSl8fHR9KSk/bGE6ZGEsdWE9eGUsZmE9UWUscGE9TCx2YT1mdW5jdGlvbih0LGUsaSl7dmFyIG89dWEoZSk7byBpbiB0P2ZhLmYodCxvLHBhKDAsaSkpOnRbb109aX0sZ2E9ZG4seWE9enQsbWE9WSxiYT0kcix3YT1mZShcIml0ZXJhdG9yXCIpLGthPWZ1bmN0aW9uKHQpe2lmKCFtYSh0KSlyZXR1cm4geWEodCx3YSl8fHlhKHQsXCJAQGl0ZXJhdG9yXCIpfHxiYVtnYSh0KV19LF9hPUIseGE9SXQsRWE9b2ksT2E9VHQsQ2E9a2EsU2E9VHlwZUVycm9yLFRhPWZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDwyP0NhKHQpOmU7aWYoeGEoaSkpcmV0dXJuIEVhKF9hKGksdCkpO3Rocm93IG5ldyBTYShPYSh0KStcIiBpcyBub3QgaXRlcmFibGVcIil9LE1hPVplLFBhPUIsRGE9JHQsSWE9ZnVuY3Rpb24odCxlLGksbyl7dHJ5e3JldHVybiBvP2UoV3MoaSlbMF0saVsxXSk6ZShpKX1jYXRjaChlKXtWcyh0LFwidGhyb3dcIixlKX19LEJhPVhzLEZhPWNhLHphPUhpLE5hPXZhLEFhPVRhLFJhPWthLGphPUFycmF5LExhPWZlKFwiaXRlcmF0b3JcIiksSGE9ITE7dHJ5e3ZhciBXYT0wLFZhPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ISFXYSsrfX0scmV0dXJuOmZ1bmN0aW9uKCl7SGE9ITB9fTtWYVtMYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQXJyYXkuZnJvbShWYSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKHQpe312YXIgcWE9ZnVuY3Rpb24odCl7dmFyIGU9RGEodCksaT1GYSh0aGlzKSxvPWFyZ3VtZW50cy5sZW5ndGgsbj1vPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxyPXZvaWQgMCE9PW47ciYmKG49TWEobixvPjI/YXJndW1lbnRzWzJdOnZvaWQgMCkpO3ZhciBzLGEsaCxkLGwsYyx1PVJhKGUpLGY9MDtpZighdXx8dGhpcz09PWphJiZCYSh1KSlmb3Iocz16YShlKSxhPWk/bmV3IHRoaXMocyk6amEocyk7cz5mO2YrKyljPXI/bihlW2ZdLGYpOmVbZl0sTmEoYSxmLGMpO2Vsc2UgZm9yKGw9KGQ9QWEoZSx1KSkubmV4dCxhPWk/bmV3IHRoaXM6W107IShoPVBhKGwsZCkpLmRvbmU7ZisrKWM9cj9JYShkLG4sW2gudmFsdWUsZl0sITApOmgudmFsdWUsTmEoYSxmLGMpO3JldHVybiBhLmxlbmd0aD1mLGF9LFVhPWZ1bmN0aW9uKHQsZSl7dHJ5e2lmKCFlJiYhSGEpcmV0dXJuITF9Y2F0Y2godCl7cmV0dXJuITF9dmFyIGk9ITE7dHJ5e3ZhciBvPXt9O29bTGFdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTppPSEwfX19fSx0KG8pfWNhdGNoKHQpe31yZXR1cm4gaX07TWkoe3RhcmdldDpcIkFycmF5XCIsc3RhdDohMCxmb3JjZWQ6IVVhKChmdW5jdGlvbih0KXtBcnJheS5mcm9tKHQpfSkpfSx7ZnJvbTpxYX0pO3ZhciBZYT1pdC5BcnJheS5mcm9tLFhhPW8oWWEpLEthPVEsR2E9JHIsJGE9SG47UWUuZjt2YXIgWmE9VHMsUWE9TXMsSmE9XCJBcnJheSBJdGVyYXRvclwiLHRoPSRhLnNldCxlaD0kYS5nZXR0ZXJGb3IoSmEpO1phKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24odCxlKXt0aCh0aGlzLHt0eXBlOkphLHRhcmdldDpLYSh0KSxpbmRleDowLGtpbmQ6ZX0pfSksKGZ1bmN0aW9uKCl7dmFyIHQ9ZWgodGhpcyksZT10LnRhcmdldCxpPXQua2luZCxvPXQuaW5kZXgrKztpZighZXx8bz49ZS5sZW5ndGgpcmV0dXJuIHQudGFyZ2V0PXZvaWQgMCxRYSh2b2lkIDAsITApO3N3aXRjaChpKXtjYXNlXCJrZXlzXCI6cmV0dXJuIFFhKG8sITEpO2Nhc2VcInZhbHVlc1wiOnJldHVybiBRYShlW29dLCExKX1yZXR1cm4gUWEoW28sZVtvXV0sITEpfSksXCJ2YWx1ZXNcIiksR2EuQXJndW1lbnRzPUdhLkFycmF5O3ZhciBpaD1rYSxvaD17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH0sbmg9cixyaD1kbixzaD15aSxhaD0kcixoaD1mZShcInRvU3RyaW5nVGFnXCIpO2Zvcih2YXIgZGggaW4gb2gpe3ZhciBsaD1uaFtkaF0sY2g9bGgmJmxoLnByb3RvdHlwZTtjaCYmcmgoY2gpIT09aGgmJnNoKGNoLGhoLGRoKSxhaFtkaF09YWguQXJyYXl9dmFyIHVoPWloLGZoPW8odWgpLHBoPW8odWgpO2Z1bmN0aW9uIHZoKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgZ2g9e2V4cG9ydHM6e319LHloPU1pLG1oPVAsYmg9UWUuZjt5aCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnR5IT09Ymgsc2hhbTohbWh9LHtkZWZpbmVQcm9wZXJ0eTpiaH0pO3ZhciB3aD1pdC5PYmplY3Qsa2g9Z2guZXhwb3J0cz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHdoLmRlZmluZVByb3BlcnR5KHQsZSxpKX07d2guZGVmaW5lUHJvcGVydHkuc2hhbSYmKGtoLnNoYW09ITApO3ZhciBfaD1naC5leHBvcnRzLHhoPW8oX2gpLEVoPWssT2g9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJBcnJheVwiPT09RWgodCl9LENoPVR5cGVFcnJvcixTaD1mdW5jdGlvbih0KXtpZih0PjkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgQ2goXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7cmV0dXJuIHR9LFRoPU9oLE1oPWNhLFBoPWV0LERoPWZlKFwic3BlY2llc1wiKSxJaD1BcnJheSxCaD1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gVGgodCkmJihlPXQuY29uc3RydWN0b3IsKE1oKGUpJiYoZT09PUlofHxUaChlLnByb3RvdHlwZSkpfHxQaChlKSYmbnVsbD09PShlPWVbRGhdKSkmJihlPXZvaWQgMCkpLHZvaWQgMD09PWU/SWg6ZX0sRmg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3KEJoKHQpKSgwPT09ZT8wOmUpfSx6aD1zLE5oPWd0LEFoPWZlKFwic3BlY2llc1wiKSxSaD1mdW5jdGlvbih0KXtyZXR1cm4gTmg+PTUxfHwhemgoKGZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuKGUuY29uc3RydWN0b3I9e30pW0FoXT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT1lW3RdKEJvb2xlYW4pLmZvb30pKX0samg9TWksTGg9cyxIaD1PaCxXaD1ldCxWaD0kdCxxaD1IaSxVaD1TaCxZaD12YSxYaD1GaCxLaD1SaCxHaD1ndCwkaD1mZShcImlzQ29uY2F0U3ByZWFkYWJsZVwiKSxaaD1HaD49NTF8fCFMaCgoZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gdFskaF09ITEsdC5jb25jYXQoKVswXSE9PXR9KSksUWg9ZnVuY3Rpb24odCl7aWYoIVdoKHQpKXJldHVybiExO3ZhciBlPXRbJGhdO3JldHVybiB2b2lkIDAhPT1lPyEhZTpIaCh0KX07amgoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsYXJpdHk6MSxmb3JjZWQ6IVpofHwhS2goXCJjb25jYXRcIil9LHtjb25jYXQ6ZnVuY3Rpb24odCl7dmFyIGUsaSxvLG4scixzPVZoKHRoaXMpLGE9WGgocywwKSxoPTA7Zm9yKGU9LTEsbz1hcmd1bWVudHMubGVuZ3RoO2U8bztlKyspaWYoUWgocj0tMT09PWU/czphcmd1bWVudHNbZV0pKWZvcihuPXFoKHIpLFVoKGgrbiksaT0wO2k8bjtpKyssaCsrKWkgaW4gciYmWWgoYSxoLHJbaV0pO2Vsc2UgVWgoaCsxKSxZaChhLGgrKyxyKTtyZXR1cm4gYS5sZW5ndGg9aCxhfX0pO3ZhciBKaD17fSx0ZD1KaSxlZD10by5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKTtKaC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbih0KXtyZXR1cm4gdGQodCxlZCl9O3ZhciBpZD17fSxvZD1BaSxuZD1IaSxyZD12YSxzZD1BcnJheSxhZD1NYXRoLm1heCxoZD1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPW5kKHQpLG49b2QoZSxvKSxyPW9kKHZvaWQgMD09PWk/bzppLG8pLHM9c2QoYWQoci1uLDApKSxhPTA7bjxyO24rKyxhKyspcmQocyxhLHRbbl0pO3JldHVybiBzLmxlbmd0aD1hLHN9LGRkPWssbGQ9USxjZD1KaC5mLHVkPWhkLGZkPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTtpZC5mPWZ1bmN0aW9uKHQpe3JldHVybiBmZCYmXCJXaW5kb3dcIj09PWRkKHQpP2Z1bmN0aW9uKHQpe3RyeXtyZXR1cm4gY2QodCl9Y2F0Y2godCl7cmV0dXJuIHVkKGZkKX19KHQpOmNkKGxkKHQpKX07dmFyIHBkPVFlLHZkPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gcGQuZih0LGUsaSl9LGdkPXt9LHlkPWZlO2dkLmY9eWQ7dmFyIG1kPWl0LGJkPUp0LHdkPWdkLGtkPVFlLmYsX2Q9ZnVuY3Rpb24odCl7dmFyIGU9bWQuU3ltYm9sfHwobWQuU3ltYm9sPXt9KTtiZChlLHQpfHxrZChlLHQse3ZhbHVlOndkLmYodCl9KX0seGQ9QixFZD1hdCxPZD1mZSxDZD1QcixTZD1mdW5jdGlvbigpe3ZhciB0PUVkKFwiU3ltYm9sXCIpLGU9dCYmdC5wcm90b3R5cGUsaT1lJiZlLnZhbHVlT2Ysbz1PZChcInRvUHJpbWl0aXZlXCIpO2UmJiFlW29dJiZDZChlLG8sKGZ1bmN0aW9uKHQpe3JldHVybiB4ZChpLHRoaXMpfSkse2FyaXR5OjF9KX0sVGQ9WmUsTWQ9VSxQZD0kdCxEZD1IaSxJZD1GaCxCZD15KFtdLnB1c2gpLEZkPWZ1bmN0aW9uKHQpe3ZhciBlPTE9PT10LGk9Mj09PXQsbz0zPT09dCxuPTQ9PT10LHI9Nj09PXQscz03PT09dCxhPTU9PT10fHxyO3JldHVybiBmdW5jdGlvbihoLGQsbCxjKXtmb3IodmFyIHUsZixwPVBkKGgpLHY9TWQocCksZz1UZChkLGwpLHk9RGQodiksbT0wLGI9Y3x8SWQsdz1lP2IoaCx5KTppfHxzP2IoaCwwKTp2b2lkIDA7eT5tO20rKylpZigoYXx8bSBpbiB2KSYmKGY9Zyh1PXZbbV0sbSxwKSx0KSlpZihlKXdbbV09ZjtlbHNlIGlmKGYpc3dpdGNoKHQpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIHU7Y2FzZSA2OnJldHVybiBtO2Nhc2UgMjpCZCh3LHUpfWVsc2Ugc3dpdGNoKHQpe2Nhc2UgNDpyZXR1cm4hMTtjYXNlIDc6QmQodyx1KX1yZXR1cm4gcj8tMTpvfHxuP246d319LHpkPXtmb3JFYWNoOkZkKDApLG1hcDpGZCgxKSxmaWx0ZXI6RmQoMiksc29tZTpGZCgzKSxldmVyeTpGZCg0KSxmaW5kOkZkKDUpLGZpbmRJbmRleDpGZCg2KSxmaWx0ZXJSZWplY3Q6RmQoNyl9LE5kPU1pLEFkPXIsUmQ9QixqZD15LExkPVAsSGQ9d3QsV2Q9cyxWZD1KdCxxZD1odCxVZD1vaSxZZD1RLFhkPXhlLEtkPXVuLEdkPUwsJGQ9YnIsWmQ9b28sUWQ9SmgsSmQ9aWQsdGw9bm8sZWw9TSxpbD1RZSxvbD1LbixubD1GLHJsPVByLHNsPXZkLGFsPVh0LGhsPVhpLGRsPW5lLGxsPWZlLGNsPWdkLHVsPV9kLGZsPVNkLHBsPUdyLHZsPUhuLGdsPXpkLmZvckVhY2gseWw9U24oXCJoaWRkZW5cIiksbWw9XCJTeW1ib2xcIixibD1cInByb3RvdHlwZVwiLHdsPXZsLnNldCxrbD12bC5nZXR0ZXJGb3IobWwpLF9sPU9iamVjdFtibF0seGw9QWQuU3ltYm9sLEVsPXhsJiZ4bFtibF0sT2w9QWQuUmFuZ2VFcnJvcixDbD1BZC5UeXBlRXJyb3IsU2w9QWQuUU9iamVjdCxUbD1lbC5mLE1sPWlsLmYsUGw9SmQuZixEbD1ubC5mLElsPWpkKFtdLnB1c2gpLEJsPWFsKFwic3ltYm9sc1wiKSxGbD1hbChcIm9wLXN5bWJvbHNcIiksemw9YWwoXCJ3a3NcIiksTmw9IVNsfHwhU2xbYmxdfHwhU2xbYmxdLmZpbmRDaGlsZCxBbD1mdW5jdGlvbih0LGUsaSl7dmFyIG89VGwoX2wsZSk7byYmZGVsZXRlIF9sW2VdLE1sKHQsZSxpKSxvJiZ0IT09X2wmJk1sKF9sLGUsbyl9LFJsPUxkJiZXZCgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9PSRkKE1sKHt9LFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWwodGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KSk/QWw6TWwsamw9ZnVuY3Rpb24odCxlKXt2YXIgaT1CbFt0XT0kZChFbCk7cmV0dXJuIHdsKGkse3R5cGU6bWwsdGFnOnQsZGVzY3JpcHRpb246ZX0pLExkfHwoaS5kZXNjcmlwdGlvbj1lKSxpfSxMbD1mdW5jdGlvbih0LGUsaSl7dD09PV9sJiZMbChGbCxlLGkpLFVkKHQpO3ZhciBvPVhkKGUpO3JldHVybiBVZChpKSxWZChCbCxvKT8oaS5lbnVtZXJhYmxlPyhWZCh0LHlsKSYmdFt5bF1bb10mJih0W3lsXVtvXT0hMSksaT0kZChpLHtlbnVtZXJhYmxlOkdkKDAsITEpfSkpOihWZCh0LHlsKXx8TWwodCx5bCxHZCgxLHt9KSksdFt5bF1bb109ITApLFJsKHQsbyxpKSk6TWwodCxvLGkpfSxIbD1mdW5jdGlvbih0LGUpe1VkKHQpO3ZhciBpPVlkKGUpLG89WmQoaSkuY29uY2F0KFVsKGkpKTtyZXR1cm4gZ2wobywoZnVuY3Rpb24oZSl7TGQmJiFSZChXbCxpLGUpfHxMbCh0LGUsaVtlXSl9KSksdH0sV2w9ZnVuY3Rpb24odCl7dmFyIGU9WGQodCksaT1SZChEbCx0aGlzLGUpO3JldHVybiEodGhpcz09PV9sJiZWZChCbCxlKSYmIVZkKEZsLGUpKSYmKCEoaXx8IVZkKHRoaXMsZSl8fCFWZChCbCxlKXx8VmQodGhpcyx5bCkmJnRoaXNbeWxdW2VdKXx8aSl9LFZsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9WWQodCksbz1YZChlKTtpZihpIT09X2x8fCFWZChCbCxvKXx8VmQoRmwsbykpe3ZhciBuPVRsKGksbyk7cmV0dXJuIW58fCFWZChCbCxvKXx8VmQoaSx5bCkmJmlbeWxdW29dfHwobi5lbnVtZXJhYmxlPSEwKSxufX0scWw9ZnVuY3Rpb24odCl7dmFyIGU9UGwoWWQodCkpLGk9W107cmV0dXJuIGdsKGUsKGZ1bmN0aW9uKHQpe1ZkKEJsLHQpfHxWZChobCx0KXx8SWwoaSx0KX0pKSxpfSxVbD1mdW5jdGlvbih0KXt2YXIgZT10PT09X2wsaT1QbChlP0ZsOllkKHQpKSxvPVtdO3JldHVybiBnbChpLChmdW5jdGlvbih0KXshVmQoQmwsdCl8fGUmJiFWZChfbCx0KXx8SWwobyxCbFt0XSl9KSksb307SGR8fCh4bD1mdW5jdGlvbigpe2lmKHFkKEVsLHRoaXMpKXRocm93IG5ldyBDbChcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTt2YXIgdD1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/S2QoYXJndW1lbnRzWzBdKTp2b2lkIDAsZT1kbCh0KSxpPWZ1bmN0aW9uKHQpe3RoaXM9PT1fbCYmUmQoaSxGbCx0KSxWZCh0aGlzLHlsKSYmVmQodGhpc1t5bF0sZSkmJih0aGlzW3lsXVtlXT0hMSk7dmFyIG89R2QoMSx0KTt0cnl7UmwodGhpcyxlLG8pfWNhdGNoKHQpe2lmKCEodCBpbnN0YW5jZW9mIE9sKSl0aHJvdyB0O0FsKHRoaXMsZSxvKX19O3JldHVybiBMZCYmTmwmJlJsKF9sLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6aX0pLGpsKGUsdCl9LHJsKEVsPXhsW2JsXSxcInRvU3RyaW5nXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGtsKHRoaXMpLnRhZ30pKSxybCh4bCxcIndpdGhvdXRTZXR0ZXJcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGpsKGRsKHQpLHQpfSkpLG5sLmY9V2wsaWwuZj1MbCxvbC5mPUhsLGVsLmY9VmwsUWQuZj1KZC5mPXFsLHRsLmY9VWwsY2wuZj1mdW5jdGlvbih0KXtyZXR1cm4gamwobGwodCksdCl9LExkJiZzbChFbCxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ga2wodGhpcykuZGVzY3JpcHRpb259fSkpLE5kKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsd3JhcDohMCxmb3JjZWQ6IUhkLHNoYW06IUhkfSx7U3ltYm9sOnhsfSksZ2woWmQoemwpLChmdW5jdGlvbih0KXt1bCh0KX0pKSxOZCh7dGFyZ2V0Om1sLHN0YXQ6ITAsZm9yY2VkOiFIZH0se3VzZVNldHRlcjpmdW5jdGlvbigpe05sPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtObD0hMX19KSxOZCh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IUhkLHNoYW06IUxkfSx7Y3JlYXRlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWU/JGQodCk6SGwoJGQodCksZSl9LGRlZmluZVByb3BlcnR5OkxsLGRlZmluZVByb3BlcnRpZXM6SGwsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOlZsfSksTmQoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFIZH0se2dldE93blByb3BlcnR5TmFtZXM6cWx9KSxmbCgpLHBsKHhsLG1sKSxobFt5bF09ITA7dmFyIFlsPXd0JiYhIVN5bWJvbC5mb3ImJiEhU3ltYm9sLmtleUZvcixYbD1NaSxLbD1hdCxHbD1KdCwkbD11bixabD1YdCxRbD1ZbCxKbD1abChcInN0cmluZy10by1zeW1ib2wtcmVnaXN0cnlcIiksdGM9WmwoXCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5XCIpO1hsKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLGZvcmNlZDohUWx9LHtmb3I6ZnVuY3Rpb24odCl7dmFyIGU9JGwodCk7aWYoR2woSmwsZSkpcmV0dXJuIEpsW2VdO3ZhciBpPUtsKFwiU3ltYm9sXCIpKGUpO3JldHVybiBKbFtlXT1pLHRjW2ldPWUsaX19KTt2YXIgZWM9TWksaWM9SnQsb2M9Q3QsbmM9VHQscmM9WWwsc2M9WHQoXCJzeW1ib2wtdG8tc3RyaW5nLXJlZ2lzdHJ5XCIpO2VjKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLGZvcmNlZDohcmN9LHtrZXlGb3I6ZnVuY3Rpb24odCl7aWYoIW9jKHQpKXRocm93IG5ldyBUeXBlRXJyb3IobmModCkrXCIgaXMgbm90IGEgc3ltYm9sXCIpO2lmKGljKHNjLHQpKXJldHVybiBzY1t0XX19KTt2YXIgYWM9T2gsaGM9VCxkYz1rLGxjPXVuLGNjPXkoW10ucHVzaCksdWM9TWksZmM9YXQscGM9dSx2Yz1CLGdjPXkseWM9cyxtYz1ULGJjPUN0LHdjPWtvLGtjPWZ1bmN0aW9uKHQpe2lmKGhjKHQpKXJldHVybiB0O2lmKGFjKHQpKXtmb3IodmFyIGU9dC5sZW5ndGgsaT1bXSxvPTA7bzxlO28rKyl7dmFyIG49dFtvXTtcInN0cmluZ1wiPT10eXBlb2Ygbj9jYyhpLG4pOlwibnVtYmVyXCIhPXR5cGVvZiBuJiZcIk51bWJlclwiIT09ZGMobikmJlwiU3RyaW5nXCIhPT1kYyhuKXx8Y2MoaSxsYyhuKSl9dmFyIHI9aS5sZW5ndGgscz0hMDtyZXR1cm4gZnVuY3Rpb24odCxlKXtpZihzKXJldHVybiBzPSExLGU7aWYoYWModGhpcykpcmV0dXJuIGU7Zm9yKHZhciBvPTA7bzxyO28rKylpZihpW29dPT09dClyZXR1cm4gZX19fSxfYz13dCx4Yz1TdHJpbmcsRWM9ZmMoXCJKU09OXCIsXCJzdHJpbmdpZnlcIiksT2M9Z2MoLy4vLmV4ZWMpLENjPWdjKFwiXCIuY2hhckF0KSxTYz1nYyhcIlwiLmNoYXJDb2RlQXQpLFRjPWdjKFwiXCIucmVwbGFjZSksTWM9Z2MoMS4udG9TdHJpbmcpLFBjPS9bXFx1RDgwMC1cXHVERkZGXS9nLERjPS9eW1xcdUQ4MDAtXFx1REJGRl0kLyxJYz0vXltcXHVEQzAwLVxcdURGRkZdJC8sQmM9IV9jfHx5YygoZnVuY3Rpb24oKXt2YXIgdD1mYyhcIlN5bWJvbFwiKShcInN0cmluZ2lmeSBkZXRlY3Rpb25cIik7cmV0dXJuXCJbbnVsbF1cIiE9PUVjKFt0XSl8fFwie31cIiE9PUVjKHthOnR9KXx8XCJ7fVwiIT09RWMoT2JqZWN0KHQpKX0pKSxGYz15YygoZnVuY3Rpb24oKXtyZXR1cm4nXCJcXFxcdWRmMDZcXFxcdWQ4MzRcIichPT1FYyhcIlxcdWRmMDZcXHVkODM0XCIpfHwnXCJcXFxcdWRlYWRcIichPT1FYyhcIlxcdWRlYWRcIil9KSksemM9ZnVuY3Rpb24odCxlKXt2YXIgaT13Yyhhcmd1bWVudHMpLG89a2MoZSk7aWYobWMobyl8fHZvaWQgMCE9PXQmJiFiYyh0KSlyZXR1cm4gaVsxXT1mdW5jdGlvbih0LGUpe2lmKG1jKG8pJiYoZT12YyhvLHRoaXMseGModCksZSkpLCFiYyhlKSlyZXR1cm4gZX0scGMoRWMsbnVsbCxpKX0sTmM9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPUNjKGksZS0xKSxuPUNjKGksZSsxKTtyZXR1cm4gT2MoRGMsdCkmJiFPYyhJYyxuKXx8T2MoSWMsdCkmJiFPYyhEYyxvKT9cIlxcXFx1XCIrTWMoU2ModCwwKSwxNik6dH07RWMmJnVjKHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxhcml0eTozLGZvcmNlZDpCY3x8RmN9LHtzdHJpbmdpZnk6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXdjKGFyZ3VtZW50cyksbj1wYyhCYz96YzpFYyxudWxsLG8pO3JldHVybiBGYyYmXCJzdHJpbmdcIj09dHlwZW9mIG4/VGMobixQYyxOYyk6bn19KTt2YXIgQWM9bm8sUmM9JHQ7TWkoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiF3dHx8cygoZnVuY3Rpb24oKXtBYy5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKHQpe3ZhciBlPUFjLmY7cmV0dXJuIGU/ZShSYyh0KSk6W119fSksX2QoXCJhc3luY0l0ZXJhdG9yXCIpLF9kKFwiaGFzSW5zdGFuY2VcIiksX2QoXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksX2QoXCJpdGVyYXRvclwiKSxfZChcIm1hdGNoXCIpLF9kKFwibWF0Y2hBbGxcIiksX2QoXCJyZXBsYWNlXCIpLF9kKFwic2VhcmNoXCIpLF9kKFwic3BlY2llc1wiKSxfZChcInNwbGl0XCIpO3ZhciBqYz1TZDtfZChcInRvUHJpbWl0aXZlXCIpLGpjKCk7dmFyIExjPWF0LEhjPUdyO19kKFwidG9TdHJpbmdUYWdcIiksSGMoTGMoXCJTeW1ib2xcIiksXCJTeW1ib2xcIiksX2QoXCJ1bnNjb3BhYmxlc1wiKSxHcihyLkpTT04sXCJKU09OXCIsITApO3ZhciBXYz1pdC5TeW1ib2wsVmM9ZmUscWM9UWUuZixVYz1WYyhcIm1ldGFkYXRhXCIpLFljPUZ1bmN0aW9uLnByb3RvdHlwZTt2b2lkIDA9PT1ZY1tVY10mJnFjKFljLFVjLHt2YWx1ZTpudWxsfSksX2QoXCJhc3luY0Rpc3Bvc2VcIiksX2QoXCJkaXNwb3NlXCIpLF9kKFwibWV0YWRhdGFcIik7dmFyIFhjPVdjLEtjPXksR2M9YXQoXCJTeW1ib2xcIiksJGM9R2Mua2V5Rm9yLFpjPUtjKEdjLnByb3RvdHlwZS52YWx1ZU9mKSxRYz1HYy5pc1JlZ2lzdGVyZWRTeW1ib2x8fGZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdm9pZCAwIT09JGMoWmModCkpfWNhdGNoKHQpe3JldHVybiExfX07TWkoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITB9LHtpc1JlZ2lzdGVyZWRTeW1ib2w6UWN9KTtmb3IodmFyIEpjPVh0LHR1PWF0LGV1PXksaXU9Q3Qsb3U9ZmUsbnU9dHUoXCJTeW1ib2xcIikscnU9bnUuaXNXZWxsS25vd25TeW1ib2wsc3U9dHUoXCJPYmplY3RcIixcImdldE93blByb3BlcnR5TmFtZXNcIiksYXU9ZXUobnUucHJvdG90eXBlLnZhbHVlT2YpLGh1PUpjKFwid2tzXCIpLGR1PTAsbHU9c3UobnUpLGN1PWx1Lmxlbmd0aDtkdTxjdTtkdSsrKXRyeXt2YXIgdXU9bHVbZHVdO2l1KG51W3V1XSkmJm91KHV1KX1jYXRjaCh0KXt9dmFyIGZ1PWZ1bmN0aW9uKHQpe2lmKHJ1JiZydSh0KSlyZXR1cm4hMDt0cnl7Zm9yKHZhciBlPWF1KHQpLGk9MCxvPXN1KGh1KSxuPW8ubGVuZ3RoO2k8bjtpKyspaWYoaHVbb1tpXV09PWUpcmV0dXJuITB9Y2F0Y2godCl7fXJldHVybiExfTtNaSh7dGFyZ2V0OlwiU3ltYm9sXCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtpc1dlbGxLbm93blN5bWJvbDpmdX0pLF9kKFwibWF0Y2hlclwiKSxfZChcIm9ic2VydmFibGVcIiksTWkoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsbmFtZTpcImlzUmVnaXN0ZXJlZFN5bWJvbFwifSx7aXNSZWdpc3RlcmVkOlFjfSksTWkoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsbmFtZTpcImlzV2VsbEtub3duU3ltYm9sXCIsZm9yY2VkOiEwfSx7aXNXZWxsS25vd246ZnV9KSxfZChcIm1ldGFkYXRhS2V5XCIpLF9kKFwicGF0dGVybk1hdGNoXCIpLF9kKFwicmVwbGFjZUFsbFwiKTt2YXIgcHU9byhYYyksdnU9byhnZC5mKFwiaXRlcmF0b3JcIikpO2Z1bmN0aW9uIGd1KHQpe3JldHVybiBndT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBwdSYmXCJzeW1ib2xcIj09dHlwZW9mIHZ1P2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHB1JiZ0LmNvbnN0cnVjdG9yPT09cHUmJnQhPT1wdS5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sZ3UodCl9dmFyIHl1PW8oZ2QuZihcInRvUHJpbWl0aXZlXCIpKTtmdW5jdGlvbiBtdSh0KXt2YXIgZT1mdW5jdGlvbih0LGUpe2lmKFwib2JqZWN0XCIhPT1ndSh0KXx8bnVsbD09PXQpcmV0dXJuIHQ7dmFyIGk9dFt5dV07aWYodm9pZCAwIT09aSl7dmFyIG89aS5jYWxsKHQsZXx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1ndShvKSlyZXR1cm4gbzt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT1lP1N0cmluZzpOdW1iZXIpKHQpfSh0LFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1ndShlKT9lOlN0cmluZyhlKX1mdW5jdGlvbiBidSh0LGUpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSx4aCh0LG11KG8ua2V5KSxvKX19ZnVuY3Rpb24gd3UodCxlLGkpe3JldHVybiBlJiZidSh0LnByb3RvdHlwZSxlKSxpJiZidSh0LGkpLHhoKHQsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KSx0fU1pKHt0YXJnZXQ6XCJBcnJheVwiLHN0YXQ6ITB9LHtpc0FycmF5Ok9ofSk7dmFyIGt1PWl0LkFycmF5LmlzQXJyYXksX3U9byhrdSk7dmFyIHh1PVAsRXU9T2gsT3U9VHlwZUVycm9yLEN1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsU3U9eHUmJiFmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMpcmV0dXJuITA7dHJ5e09iamVjdC5kZWZpbmVQcm9wZXJ0eShbXSxcImxlbmd0aFwiLHt3cml0YWJsZTohMX0pLmxlbmd0aD0xfWNhdGNoKHQpe3JldHVybiB0IGluc3RhbmNlb2YgVHlwZUVycm9yfX0oKT9mdW5jdGlvbih0LGUpe2lmKEV1KHQpJiYhQ3UodCxcImxlbmd0aFwiKS53cml0YWJsZSl0aHJvdyBuZXcgT3UoXCJDYW5ub3Qgc2V0IHJlYWQgb25seSAubGVuZ3RoXCIpO3JldHVybiB0Lmxlbmd0aD1lfTpmdW5jdGlvbih0LGUpe3JldHVybiB0Lmxlbmd0aD1lfSxUdT0kdCxNdT1IaSxQdT1TdSxEdT1TaDtNaSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxhcml0eToxLGZvcmNlZDpzKChmdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk3IT09W10ucHVzaC5jYWxsKHtsZW5ndGg6NDI5NDk2NzI5Nn0sMSl9KSl8fCFmdW5jdGlvbigpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoW10sXCJsZW5ndGhcIix7d3JpdGFibGU6ITF9KS5wdXNoKCl9Y2F0Y2godCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBUeXBlRXJyb3J9fSgpfSx7cHVzaDpmdW5jdGlvbih0KXt2YXIgZT1UdSh0aGlzKSxpPU11KGUpLG89YXJndW1lbnRzLmxlbmd0aDtEdShpK28pO2Zvcih2YXIgbj0wO248bztuKyspZVtpXT1hcmd1bWVudHNbbl0saSsrO3JldHVybiBQdShlLGkpLGl9fSk7dmFyIEl1PXpvKFwiQXJyYXlcIikucHVzaCxCdT1odCxGdT1JdSx6dT1BcnJheS5wcm90b3R5cGUsTnU9ZnVuY3Rpb24odCl7dmFyIGU9dC5wdXNoO3JldHVybiB0PT09enV8fEJ1KHp1LHQpJiZlPT09enUucHVzaD9GdTplfSxBdT1vKE51KTt2YXIgUnU9TWksanU9T2gsTHU9Y2EsSHU9ZXQsV3U9QWksVnU9SGkscXU9USxVdT12YSxZdT1mZSxYdT1rbyxLdT1SaChcInNsaWNlXCIpLEd1PVl1KFwic3BlY2llc1wiKSwkdT1BcnJheSxadT1NYXRoLm1heDtSdSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IUt1fSx7c2xpY2U6ZnVuY3Rpb24odCxlKXt2YXIgaSxvLG4scj1xdSh0aGlzKSxzPVZ1KHIpLGE9V3UodCxzKSxoPVd1KHZvaWQgMD09PWU/czplLHMpO2lmKGp1KHIpJiYoaT1yLmNvbnN0cnVjdG9yLChMdShpKSYmKGk9PT0kdXx8anUoaS5wcm90b3R5cGUpKXx8SHUoaSkmJm51bGw9PT0oaT1pW0d1XSkpJiYoaT12b2lkIDApLGk9PT0kdXx8dm9pZCAwPT09aSkpcmV0dXJuIFh1KHIsYSxoKTtmb3Iobz1uZXcodm9pZCAwPT09aT8kdTppKShadShoLWEsMCkpLG49MDthPGg7YSsrLG4rKylhIGluIHImJlV1KG8sbixyW2FdKTtyZXR1cm4gby5sZW5ndGg9bixvfX0pO3ZhciBRdT16byhcIkFycmF5XCIpLnNsaWNlLEp1PWh0LHRmPVF1LGVmPUFycmF5LnByb3RvdHlwZSxvZj1mdW5jdGlvbih0KXt2YXIgZT10LnNsaWNlO3JldHVybiB0PT09ZWZ8fEp1KGVmLHQpJiZlPT09ZWYuc2xpY2U/dGY6ZX0sbmY9b2YscmY9byhuZiksc2Y9byhZYSk7ZnVuY3Rpb24gYWYodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIGk9MCxvPW5ldyBBcnJheShlKTtpPGU7aSsrKW9baV09dFtpXTtyZXR1cm4gb31mdW5jdGlvbiBoZih0LGUpe3ZhciBpO2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBhZih0LGUpO3ZhciBvPXJmKGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKGksOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW8mJnQuY29uc3RydWN0b3ImJihvPXQuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW98fFwiU2V0XCI9PT1vP3NmKHQpOlwiQXJndW1lbnRzXCI9PT1vfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChvKT9hZih0LGUpOnZvaWQgMH19ZnVuY3Rpb24gZGYodCxlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoX3UodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LGUpe3ZhciBpPW51bGw9PXQ/bnVsbDp2b2lkIDAhPT1wdSYmZmgodCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKG51bGwhPWkpe3ZhciBvLG4scixzLGE9W10saD0hMCxkPSExO3RyeXtpZihyPShpPWkuY2FsbCh0KSkubmV4dCwwPT09ZSl7aWYoT2JqZWN0KGkpIT09aSlyZXR1cm47aD0hMX1lbHNlIGZvcig7IShoPShvPXIuY2FsbChpKSkuZG9uZSkmJihBdShhKS5jYWxsKGEsby52YWx1ZSksYS5sZW5ndGghPT1lKTtoPSEwKTt9Y2F0Y2godCl7ZD0hMCxuPXR9ZmluYWxseXt0cnl7aWYoIWgmJm51bGwhPWkucmV0dXJuJiYocz1pLnJldHVybigpLE9iamVjdChzKSE9PXMpKXJldHVybn1maW5hbGx5e2lmKGQpdGhyb3cgbn19cmV0dXJuIGF9fSh0LGUpfHxoZih0LGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9ZnVuY3Rpb24gbGYodCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKF91KHQpKXJldHVybiBhZih0KX0odCl8fGZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXB1JiZudWxsIT1maCh0KXx8bnVsbCE9dFtcIkBAaXRlcmF0b3JcIl0pcmV0dXJuIHNmKHQpfSh0KXx8aGYodCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9KCl9dmFyIGNmPW8oV2MpLHVmPXpvKFwiQXJyYXlcIikuY29uY2F0LGZmPWh0LHBmPXVmLHZmPUFycmF5LnByb3RvdHlwZSxnZj1mdW5jdGlvbih0KXt2YXIgZT10LmNvbmNhdDtyZXR1cm4gdD09PXZmfHxmZih2Zix0KSYmZT09PXZmLmNvbmNhdD9wZjplfSx5Zj1vKGdmKSxtZj1vKG5mKSxiZj1hdCx3Zj1KaCxrZj1ubyxfZj1vaSx4Zj15KFtdLmNvbmNhdCksRWY9YmYoXCJSZWZsZWN0XCIsXCJvd25LZXlzXCIpfHxmdW5jdGlvbih0KXt2YXIgZT13Zi5mKF9mKHQpKSxpPWtmLmY7cmV0dXJuIGk/eGYoZSxpKHQpKTplfSxPZj1vKGt1KSxDZj16ZC5tYXA7TWkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFSaChcIm1hcFwiKX0se21hcDpmdW5jdGlvbih0KXtyZXR1cm4gQ2YodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgU2Y9em8oXCJBcnJheVwiKS5tYXAsVGY9aHQsTWY9U2YsUGY9QXJyYXkucHJvdG90eXBlLERmPWZ1bmN0aW9uKHQpe3ZhciBlPXQubWFwO3JldHVybiB0PT09UGZ8fFRmKFBmLHQpJiZlPT09UGYubWFwP01mOmV9LElmPW8oRGYpLEJmPSR0LEZmPW9vO01pKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpzKChmdW5jdGlvbigpe0ZmKDEpfSkpfSx7a2V5czpmdW5jdGlvbih0KXtyZXR1cm4gRmYoQmYodCkpfX0pO3ZhciB6Zj1vKGl0Lk9iamVjdC5rZXlzKSxOZj1NaSxBZj1EYXRlLFJmPXkoQWYucHJvdG90eXBlLmdldFRpbWUpO05mKHt0YXJnZXQ6XCJEYXRlXCIsc3RhdDohMH0se25vdzpmdW5jdGlvbigpe3JldHVybiBSZihuZXcgQWYpfX0pO3ZhciBqZj1vKGl0LkRhdGUubm93KSxMZj1zLEhmPWZ1bmN0aW9uKHQsZSl7dmFyIGk9W11bdF07cmV0dXJuISFpJiZMZigoZnVuY3Rpb24oKXtpLmNhbGwobnVsbCxlfHxmdW5jdGlvbigpe3JldHVybiAxfSwxKX0pKX0sV2Y9emQuZm9yRWFjaCxWZj1IZihcImZvckVhY2hcIik/W10uZm9yRWFjaDpmdW5jdGlvbih0KXtyZXR1cm4gV2YodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX07TWkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOltdLmZvckVhY2ghPT1WZn0se2ZvckVhY2g6VmZ9KTt2YXIgcWY9em8oXCJBcnJheVwiKS5mb3JFYWNoLFVmPWRuLFlmPUp0LFhmPWh0LEtmPXFmLEdmPUFycmF5LnByb3RvdHlwZSwkZj17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSxaZj1mdW5jdGlvbih0KXt2YXIgZT10LmZvckVhY2g7cmV0dXJuIHQ9PT1HZnx8WGYoR2YsdCkmJmU9PT1HZi5mb3JFYWNofHxZZigkZixVZih0KSk/S2Y6ZX0sUWY9byhaZiksSmY9TWksdHA9T2gsZXA9eShbXS5yZXZlcnNlKSxpcD1bMSwyXTtKZih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6U3RyaW5nKGlwKT09PVN0cmluZyhpcC5yZXZlcnNlKCkpfSx7cmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiB0cCh0aGlzKSYmKHRoaXMubGVuZ3RoPXRoaXMubGVuZ3RoKSxlcCh0aGlzKX19KTt2YXIgb3A9em8oXCJBcnJheVwiKS5yZXZlcnNlLG5wPWh0LHJwPW9wLHNwPUFycmF5LnByb3RvdHlwZSxhcD1mdW5jdGlvbih0KXt2YXIgZT10LnJldmVyc2U7cmV0dXJuIHQ9PT1zcHx8bnAoc3AsdCkmJmU9PT1zcC5yZXZlcnNlP3JwOmV9LGhwPW8oYXApLGRwPVR0LGxwPVR5cGVFcnJvcixjcD1mdW5jdGlvbih0LGUpe2lmKCFkZWxldGUgdFtlXSl0aHJvdyBuZXcgbHAoXCJDYW5ub3QgZGVsZXRlIHByb3BlcnR5IFwiK2RwKGUpK1wiIG9mIFwiK2RwKHQpKX0sdXA9TWksZnA9JHQscHA9QWksdnA9QmksZ3A9SGkseXA9U3UsbXA9U2gsYnA9Rmgsd3A9dmEsa3A9Y3AsX3A9UmgoXCJzcGxpY2VcIikseHA9TWF0aC5tYXgsRXA9TWF0aC5taW47dXAoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFfcH0se3NwbGljZTpmdW5jdGlvbih0LGUpe3ZhciBpLG8sbixyLHMsYSxoPWZwKHRoaXMpLGQ9Z3AoaCksbD1wcCh0LGQpLGM9YXJndW1lbnRzLmxlbmd0aDtmb3IoMD09PWM/aT1vPTA6MT09PWM/KGk9MCxvPWQtbCk6KGk9Yy0yLG89RXAoeHAodnAoZSksMCksZC1sKSksbXAoZCtpLW8pLG49YnAoaCxvKSxyPTA7cjxvO3IrKykocz1sK3IpaW4gaCYmd3AobixyLGhbc10pO2lmKG4ubGVuZ3RoPW8saTxvKXtmb3Iocj1sO3I8ZC1vO3IrKylhPXIraSwocz1yK28paW4gaD9oW2FdPWhbc106a3AoaCxhKTtmb3Iocj1kO3I+ZC1vK2k7ci0tKWtwKGgsci0xKX1lbHNlIGlmKGk+bylmb3Iocj1kLW87cj5sO3ItLSlhPXIraS0xLChzPXIrby0xKWluIGg/aFthXT1oW3NdOmtwKGgsYSk7Zm9yKHI9MDtyPGk7cisrKWhbcitsXT1hcmd1bWVudHNbcisyXTtyZXR1cm4geXAoaCxkLW8raSksbn19KTt2YXIgT3A9em8oXCJBcnJheVwiKS5zcGxpY2UsQ3A9aHQsU3A9T3AsVHA9QXJyYXkucHJvdG90eXBlLE1wPWZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaWNlO3JldHVybiB0PT09VHB8fENwKFRwLHQpJiZlPT09VHAuc3BsaWNlP1NwOmV9LFBwPW8oTXApLERwPVlpLmluY2x1ZGVzO01pKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpzKChmdW5jdGlvbigpe3JldHVybiFBcnJheSgxKS5pbmNsdWRlcygpfSkpfSx7aW5jbHVkZXM6ZnVuY3Rpb24odCl7cmV0dXJuIERwKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIElwPXpvKFwiQXJyYXlcIikuaW5jbHVkZXMsQnA9ZXQsRnA9ayx6cD1mZShcIm1hdGNoXCIpLE5wPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBCcCh0KSYmKHZvaWQgMCE9PShlPXRbenBdKT8hIWU6XCJSZWdFeHBcIj09PUZwKHQpKX0sQXA9VHlwZUVycm9yLFJwPWZlKFwibWF0Y2hcIiksanA9TWksTHA9ZnVuY3Rpb24odCl7aWYoTnAodCkpdGhyb3cgbmV3IEFwKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiB0fSxIcD1HLFdwPXVuLFZwPWZ1bmN0aW9uKHQpe3ZhciBlPS8uLzt0cnl7XCIvLi9cIlt0XShlKX1jYXRjaChpKXt0cnl7cmV0dXJuIGVbUnBdPSExLFwiLy4vXCJbdF0oZSl9Y2F0Y2godCl7fX1yZXR1cm4hMX0scXA9eShcIlwiLmluZGV4T2YpO2pwKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IVZwKFwiaW5jbHVkZXNcIil9LHtpbmNsdWRlczpmdW5jdGlvbih0KXtyZXR1cm4hIX5xcChXcChIcCh0aGlzKSksV3AoTHAodCkpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgVXA9em8oXCJTdHJpbmdcIikuaW5jbHVkZXMsWXA9aHQsWHA9SXAsS3A9VXAsR3A9QXJyYXkucHJvdG90eXBlLCRwPVN0cmluZy5wcm90b3R5cGUsWnA9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbmNsdWRlcztyZXR1cm4gdD09PUdwfHxZcChHcCx0KSYmZT09PUdwLmluY2x1ZGVzP1hwOlwic3RyaW5nXCI9PXR5cGVvZiB0fHx0PT09JHB8fFlwKCRwLHQpJiZlPT09JHAuaW5jbHVkZXM/S3A6ZX0sUXA9byhacCksSnA9JHQsdHY9VHIsZXY9d3I7TWkoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOnMoKGZ1bmN0aW9uKCl7dHYoMSl9KSksc2hhbTohZXZ9LHtnZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdHYoSnAodCkpfX0pO3ZhciBpdj1pdC5PYmplY3QuZ2V0UHJvdG90eXBlT2Ysb3Y9byhpdiksbnY9emQuZmlsdGVyO01pKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohUmgoXCJmaWx0ZXJcIil9LHtmaWx0ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG52KHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIHJ2PXpvKFwiQXJyYXlcIikuZmlsdGVyLHN2PWh0LGF2PXJ2LGh2PUFycmF5LnByb3RvdHlwZSxkdj1mdW5jdGlvbih0KXt2YXIgZT10LmZpbHRlcjtyZXR1cm4gdD09PWh2fHxzdihodix0KSYmZT09PWh2LmZpbHRlcj9hdjplfSxsdj1vKGR2KSxjdj1cIlxcdFxcblxcdlxcZlxcciDCoOGagOKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwiLHV2PUcsZnY9dW4scHY9Y3YsdnY9eShcIlwiLnJlcGxhY2UpLGd2PVJlZ0V4cChcIl5bXCIrcHYrXCJdK1wiKSx5dj1SZWdFeHAoXCIoXnxbXlwiK3B2K1wiXSlbXCIrcHYrXCJdKyRcIiksbXY9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBpPWZ2KHV2KGUpKTtyZXR1cm4gMSZ0JiYoaT12dihpLGd2LFwiXCIpKSwyJnQmJihpPXZ2KGkseXYsXCIkMVwiKSksaX19LGJ2PXtzdGFydDptdigxKSxlbmQ6bXYoMiksdHJpbTptdigzKX0sd3Y9cixrdj1zLF92PXkseHY9dW4sRXY9YnYudHJpbSxPdj1jdixDdj13di5wYXJzZUludCxTdj13di5TeW1ib2wsVHY9U3YmJlN2Lml0ZXJhdG9yLE12PS9eWystXT8weC9pLFB2PV92KE12LmV4ZWMpLER2PTghPT1DdihPditcIjA4XCIpfHwyMiE9PUN2KE92K1wiMHgxNlwiKXx8VHYmJiFrdigoZnVuY3Rpb24oKXtDdihPYmplY3QoVHYpKX0pKT9mdW5jdGlvbih0LGUpe3ZhciBpPUV2KHh2KHQpKTtyZXR1cm4gQ3YoaSxlPj4+MHx8KFB2KE12LGkpPzE2OjEwKSl9OkN2O01pKHtnbG9iYWw6ITAsZm9yY2VkOnBhcnNlSW50IT09RHZ9LHtwYXJzZUludDpEdn0pO3ZhciBJdj1vKGl0LnBhcnNlSW50KSxCdj1NaSxGdj1ZaS5pbmRleE9mLHp2PUhmLE52PUUoW10uaW5kZXhPZiksQXY9ISFOdiYmMS9OdihbMV0sMSwtMCk8MDtCdih7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6QXZ8fCF6dihcImluZGV4T2ZcIil9LHtpbmRleE9mOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3JldHVybiBBdj9Odih0aGlzLHQsZSl8fDA6RnYodGhpcyx0LGUpfX0pO3ZhciBSdj16byhcIkFycmF5XCIpLmluZGV4T2YsanY9aHQsTHY9UnYsSHY9QXJyYXkucHJvdG90eXBlLFd2PWZ1bmN0aW9uKHQpe3ZhciBlPXQuaW5kZXhPZjtyZXR1cm4gdD09PUh2fHxqdihIdix0KSYmZT09PUh2LmluZGV4T2Y/THY6ZX0sVnY9byhXdik7TWkoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsc2hhbTohUH0se2NyZWF0ZTpicn0pO3ZhciBxdj1pdC5PYmplY3QsVXY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcXYuY3JlYXRlKHQsZSl9LFl2PW8oVXYpLFh2PWl0LEt2PXU7WHYuSlNPTnx8KFh2LkpTT049e3N0cmluZ2lmeTpKU09OLnN0cmluZ2lmeX0pO3ZhciBHdj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIEt2KFh2LkpTT04uc3RyaW5naWZ5LG51bGwsYXJndW1lbnRzKX0sJHY9byhHdiksWnY9XCJmdW5jdGlvblwiPT10eXBlb2YgQnVuJiZCdW4mJlwic3RyaW5nXCI9PXR5cGVvZiBCdW4udmVyc2lvbixRdj1UeXBlRXJyb3IsSnY9cix0Zz11LGVnPVQsaWc9WnYsb2c9ZHQsbmc9a28scmc9ZnVuY3Rpb24odCxlKXtpZih0PGUpdGhyb3cgbmV3IFF2KFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7cmV0dXJuIHR9LHNnPUp2LkZ1bmN0aW9uLGFnPS9NU0lFIC5cXC4vLnRlc3Qob2cpfHxpZyYmZnVuY3Rpb24oKXt2YXIgdD1Kdi5CdW4udmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIHQubGVuZ3RoPDN8fFwiMFwiPT09dFswXSYmKHRbMV08M3x8XCIzXCI9PT10WzFdJiZcIjBcIj09PXRbMl0pfSgpLGhnPWZ1bmN0aW9uKHQsZSl7dmFyIGk9ZT8yOjE7cmV0dXJuIGFnP2Z1bmN0aW9uKG8sbil7dmFyIHI9cmcoYXJndW1lbnRzLmxlbmd0aCwxKT5pLHM9ZWcobyk/bzpzZyhvKSxhPXI/bmcoYXJndW1lbnRzLGkpOltdLGg9cj9mdW5jdGlvbigpe3RnKHMsdGhpcyxhKX06cztyZXR1cm4gZT90KGgsbik6dChoKX06dH0sZGc9TWksbGc9cixjZz1oZyhsZy5zZXRJbnRlcnZhbCwhMCk7ZGcoe2dsb2JhbDohMCxiaW5kOiEwLGZvcmNlZDpsZy5zZXRJbnRlcnZhbCE9PWNnfSx7c2V0SW50ZXJ2YWw6Y2d9KTt2YXIgdWc9TWksZmc9cixwZz1oZyhmZy5zZXRUaW1lb3V0LCEwKTt1Zyh7Z2xvYmFsOiEwLGJpbmQ6ITAsZm9yY2VkOmZnLnNldFRpbWVvdXQhPT1wZ30se3NldFRpbWVvdXQ6cGd9KTt2YXIgdmc9byhpdC5zZXRUaW1lb3V0KSxnZz0kdCx5Zz1BaSxtZz1IaSxiZz1mdW5jdGlvbih0KXtmb3IodmFyIGU9Z2codGhpcyksaT1tZyhlKSxvPWFyZ3VtZW50cy5sZW5ndGgsbj15ZyhvPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxpKSxyPW8+Mj9hcmd1bWVudHNbMl06dm9pZCAwLHM9dm9pZCAwPT09cj9pOnlnKHIsaSk7cz5uOyllW24rK109dDtyZXR1cm4gZX07TWkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITB9LHtmaWxsOmJnfSk7dmFyIHdnLGtnPXpvKFwiQXJyYXlcIikuZmlsbCxfZz1odCx4Zz1rZyxFZz1BcnJheS5wcm90b3R5cGUsT2c9ZnVuY3Rpb24odCl7dmFyIGU9dC5maWxsO3JldHVybiB0PT09RWd8fF9nKEVnLHQpJiZlPT09RWcuZmlsbD94ZzplfSxDZz1vKE9nKTtcbi8qISBIYW1tZXIuSlMgLSB2Mi4wLjE3LXJjIC0gMjAxOS0xMi0xNlxuXHQgKiBodHRwOi8vbmF2ZXIuZ2l0aHViLmlvL2VnanNcblx0ICpcblx0ICogRm9ya2VkIEJ5IE5hdmVyIGVnanNcblx0ICogQ29weXJpZ2h0IChjKSBoYW1tZXJqc1xuXHQgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cbmZ1bmN0aW9uIFNnKCl7cmV0dXJuIFNnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpPWFyZ3VtZW50c1tlXTtmb3IodmFyIG8gaW4gaSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxvKSYmKHRbb109aVtvXSl9cmV0dXJuIHR9LFNnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBUZyh0LGUpe3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpLHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsdC5fX3Byb3RvX189ZX1mdW5jdGlvbiBNZyh0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH13Zz1cImZ1bmN0aW9uXCIhPXR5cGVvZiBPYmplY3QuYXNzaWduP2Z1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdFwiKTtmb3IodmFyIGU9T2JqZWN0KHQpLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgbz1hcmd1bWVudHNbaV07aWYobnVsbCE9bylmb3IodmFyIG4gaW4gbylvLmhhc093blByb3BlcnR5KG4pJiYoZVtuXT1vW25dKX1yZXR1cm4gZX06T2JqZWN0LmFzc2lnbjt2YXIgUGcsRGc9d2csSWc9W1wiXCIsXCJ3ZWJraXRcIixcIk1velwiLFwiTVNcIixcIm1zXCIsXCJvXCJdLEJnPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD97c3R5bGU6e319OmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksRmc9TWF0aC5yb3VuZCx6Zz1NYXRoLmFicyxOZz1EYXRlLm5vdztmdW5jdGlvbiBBZyh0LGUpe2Zvcih2YXIgaSxvLG49ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSkscj0wO3I8SWcubGVuZ3RoOyl7aWYoKG89KGk9SWdbcl0pP2krbjplKWluIHQpcmV0dXJuIG87cisrfX1QZz1cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P3t9OndpbmRvdzt2YXIgUmc9QWcoQmcuc3R5bGUsXCJ0b3VjaEFjdGlvblwiKSxqZz12b2lkIDAhPT1SZzt2YXIgTGc9XCJjb21wdXRlXCIsSGc9XCJhdXRvXCIsV2c9XCJtYW5pcHVsYXRpb25cIixWZz1cIm5vbmVcIixxZz1cInBhbi14XCIsVWc9XCJwYW4teVwiLFlnPWZ1bmN0aW9uKCl7aWYoIWpnKXJldHVybiExO3ZhciB0PXt9LGU9UGcuQ1NTJiZQZy5DU1Muc3VwcG9ydHM7cmV0dXJuW1wiYXV0b1wiLFwibWFuaXB1bGF0aW9uXCIsXCJwYW4teVwiLFwicGFuLXhcIixcInBhbi14IHBhbi15XCIsXCJub25lXCJdLmZvckVhY2goKGZ1bmN0aW9uKGkpe3JldHVybiB0W2ldPSFlfHxQZy5DU1Muc3VwcG9ydHMoXCJ0b3VjaC1hY3Rpb25cIixpKX0pKSx0fSgpLFhnPVwib250b3VjaHN0YXJ0XCJpbiBQZyxLZz12b2lkIDAhPT1BZyhQZyxcIlBvaW50ZXJFdmVudFwiKSxHZz1YZyYmL21vYmlsZXx0YWJsZXR8aXAoYWR8aG9uZXxvZCl8YW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksJGc9XCJ0b3VjaFwiLFpnPVwibW91c2VcIixRZz0yNSxKZz0xLHR5PTQsZXk9OCxpeT0xLG95PTIsbnk9NCxyeT04LHN5PTE2LGF5PW95fG55LGh5PXJ5fHN5LGR5PWF5fGh5LGx5PVtcInhcIixcInlcIl0sY3k9W1wiY2xpZW50WFwiLFwiY2xpZW50WVwiXTtmdW5jdGlvbiB1eSh0LGUsaSl7dmFyIG87aWYodClpZih0LmZvckVhY2gpdC5mb3JFYWNoKGUsaSk7ZWxzZSBpZih2b2lkIDAhPT10Lmxlbmd0aClmb3Iobz0wO288dC5sZW5ndGg7KWUuY2FsbChpLHRbb10sbyx0KSxvKys7ZWxzZSBmb3IobyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJmUuY2FsbChpLHRbb10sbyx0KX1mdW5jdGlvbiBmeSh0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dC5hcHBseShlJiZlWzBdfHx2b2lkIDAsZSk6dH1mdW5jdGlvbiBweSh0LGUpe3JldHVybiB0LmluZGV4T2YoZSk+LTF9dmFyIHZ5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMubWFuYWdlcj10LHRoaXMuc2V0KGUpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0KXt0PT09TGcmJih0PXRoaXMuY29tcHV0ZSgpKSxqZyYmdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUmJllnW3RdJiYodGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbUmddPXQpLHRoaXMuYWN0aW9ucz10LnRvTG93ZXJDYXNlKCkudHJpbSgpfSxlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuc2V0KHRoaXMubWFuYWdlci5vcHRpb25zLnRvdWNoQWN0aW9uKX0sZS5jb21wdXRlPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIHV5KHRoaXMubWFuYWdlci5yZWNvZ25pemVycywoZnVuY3Rpb24oZSl7ZnkoZS5vcHRpb25zLmVuYWJsZSxbZV0pJiYodD10LmNvbmNhdChlLmdldFRvdWNoQWN0aW9uKCkpKX0pKSxmdW5jdGlvbih0KXtpZihweSh0LFZnKSlyZXR1cm4gVmc7dmFyIGU9cHkodCxxZyksaT1weSh0LFVnKTtyZXR1cm4gZSYmaT9WZzplfHxpP2U/cWc6VWc6cHkodCxXZyk/V2c6SGd9KHQuam9pbihcIiBcIikpfSxlLnByZXZlbnREZWZhdWx0cz1mdW5jdGlvbih0KXt2YXIgZT10LnNyY0V2ZW50LGk9dC5vZmZzZXREaXJlY3Rpb247aWYodGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkKWUucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciBvPXRoaXMuYWN0aW9ucyxuPXB5KG8sVmcpJiYhWWdbVmddLHI9cHkobyxVZykmJiFZZ1tVZ10scz1weShvLHFnKSYmIVlnW3FnXTtpZihuKXt2YXIgYT0xPT09dC5wb2ludGVycy5sZW5ndGgsaD10LmRpc3RhbmNlPDIsZD10LmRlbHRhVGltZTwyNTA7aWYoYSYmaCYmZClyZXR1cm59aWYoIXN8fCFyKXJldHVybiBufHxyJiZpJmF5fHxzJiZpJmh5P3RoaXMucHJldmVudFNyYyhlKTp2b2lkIDB9fSxlLnByZXZlbnRTcmM9ZnVuY3Rpb24odCl7dGhpcy5tYW5hZ2VyLnNlc3Npb24ucHJldmVudGVkPSEwLHQucHJldmVudERlZmF1bHQoKX0sdH0oKTtmdW5jdGlvbiBneSh0LGUpe2Zvcig7dDspe2lmKHQ9PT1lKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfWZ1bmN0aW9uIHl5KHQpe3ZhciBlPXQubGVuZ3RoO2lmKDE9PT1lKXJldHVybnt4OkZnKHRbMF0uY2xpZW50WCkseTpGZyh0WzBdLmNsaWVudFkpfTtmb3IodmFyIGk9MCxvPTAsbj0wO248ZTspaSs9dFtuXS5jbGllbnRYLG8rPXRbbl0uY2xpZW50WSxuKys7cmV0dXJue3g6RmcoaS9lKSx5OkZnKG8vZSl9fWZ1bmN0aW9uIG15KHQpe2Zvcih2YXIgZT1bXSxpPTA7aTx0LnBvaW50ZXJzLmxlbmd0aDspZVtpXT17Y2xpZW50WDpGZyh0LnBvaW50ZXJzW2ldLmNsaWVudFgpLGNsaWVudFk6RmcodC5wb2ludGVyc1tpXS5jbGllbnRZKX0saSsrO3JldHVybnt0aW1lU3RhbXA6TmcoKSxwb2ludGVyczplLGNlbnRlcjp5eShlKSxkZWx0YVg6dC5kZWx0YVgsZGVsdGFZOnQuZGVsdGFZfX1mdW5jdGlvbiBieSh0LGUsaSl7aXx8KGk9bHkpO3ZhciBvPWVbaVswXV0tdFtpWzBdXSxuPWVbaVsxXV0tdFtpWzFdXTtyZXR1cm4gTWF0aC5zcXJ0KG8qbytuKm4pfWZ1bmN0aW9uIHd5KHQsZSxpKXtpfHwoaT1seSk7dmFyIG89ZVtpWzBdXS10W2lbMF1dLG49ZVtpWzFdXS10W2lbMV1dO3JldHVybiAxODAqTWF0aC5hdGFuMihuLG8pL01hdGguUEl9ZnVuY3Rpb24ga3kodCxlKXtyZXR1cm4gdD09PWU/aXk6emcodCk+PXpnKGUpP3Q8MD9veTpueTplPDA/cnk6c3l9ZnVuY3Rpb24gX3kodCxlLGkpe3JldHVybnt4OmUvdHx8MCx5OmkvdHx8MH19ZnVuY3Rpb24geHkodCxlKXt2YXIgaT10LnNlc3Npb24sbz1lLnBvaW50ZXJzLG49by5sZW5ndGg7aS5maXJzdElucHV0fHwoaS5maXJzdElucHV0PW15KGUpKSxuPjEmJiFpLmZpcnN0TXVsdGlwbGU/aS5maXJzdE11bHRpcGxlPW15KGUpOjE9PT1uJiYoaS5maXJzdE11bHRpcGxlPSExKTt2YXIgcj1pLmZpcnN0SW5wdXQscz1pLmZpcnN0TXVsdGlwbGUsYT1zP3MuY2VudGVyOnIuY2VudGVyLGg9ZS5jZW50ZXI9eXkobyk7ZS50aW1lU3RhbXA9TmcoKSxlLmRlbHRhVGltZT1lLnRpbWVTdGFtcC1yLnRpbWVTdGFtcCxlLmFuZ2xlPXd5KGEsaCksZS5kaXN0YW5jZT1ieShhLGgpLGZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5jZW50ZXIsbz10Lm9mZnNldERlbHRhfHx7fSxuPXQucHJldkRlbHRhfHx7fSxyPXQucHJldklucHV0fHx7fTtlLmV2ZW50VHlwZSE9PUpnJiZyLmV2ZW50VHlwZSE9PXR5fHwobj10LnByZXZEZWx0YT17eDpyLmRlbHRhWHx8MCx5OnIuZGVsdGFZfHwwfSxvPXQub2Zmc2V0RGVsdGE9e3g6aS54LHk6aS55fSksZS5kZWx0YVg9bi54KyhpLngtby54KSxlLmRlbHRhWT1uLnkrKGkueS1vLnkpfShpLGUpLGUub2Zmc2V0RGlyZWN0aW9uPWt5KGUuZGVsdGFYLGUuZGVsdGFZKTt2YXIgZCxsLGM9X3koZS5kZWx0YVRpbWUsZS5kZWx0YVgsZS5kZWx0YVkpO2Uub3ZlcmFsbFZlbG9jaXR5WD1jLngsZS5vdmVyYWxsVmVsb2NpdHlZPWMueSxlLm92ZXJhbGxWZWxvY2l0eT16ZyhjLngpPnpnKGMueSk/Yy54OmMueSxlLnNjYWxlPXM/KGQ9cy5wb2ludGVycyxieSgobD1vKVswXSxsWzFdLGN5KS9ieShkWzBdLGRbMV0sY3kpKToxLGUucm90YXRpb249cz9mdW5jdGlvbih0LGUpe3JldHVybiB3eShlWzFdLGVbMF0sY3kpK3d5KHRbMV0sdFswXSxjeSl9KHMucG9pbnRlcnMsbyk6MCxlLm1heFBvaW50ZXJzPWkucHJldklucHV0P2UucG9pbnRlcnMubGVuZ3RoPmkucHJldklucHV0Lm1heFBvaW50ZXJzP2UucG9pbnRlcnMubGVuZ3RoOmkucHJldklucHV0Lm1heFBvaW50ZXJzOmUucG9pbnRlcnMubGVuZ3RoLGZ1bmN0aW9uKHQsZSl7dmFyIGksbyxuLHIscz10Lmxhc3RJbnRlcnZhbHx8ZSxhPWUudGltZVN0YW1wLXMudGltZVN0YW1wO2lmKGUuZXZlbnRUeXBlIT09ZXkmJihhPlFnfHx2b2lkIDA9PT1zLnZlbG9jaXR5KSl7dmFyIGg9ZS5kZWx0YVgtcy5kZWx0YVgsZD1lLmRlbHRhWS1zLmRlbHRhWSxsPV95KGEsaCxkKTtvPWwueCxuPWwueSxpPXpnKGwueCk+emcobC55KT9sLng6bC55LHI9a3koaCxkKSx0Lmxhc3RJbnRlcnZhbD1lfWVsc2UgaT1zLnZlbG9jaXR5LG89cy52ZWxvY2l0eVgsbj1zLnZlbG9jaXR5WSxyPXMuZGlyZWN0aW9uO2UudmVsb2NpdHk9aSxlLnZlbG9jaXR5WD1vLGUudmVsb2NpdHlZPW4sZS5kaXJlY3Rpb249cn0oaSxlKTt2YXIgdSxmPXQuZWxlbWVudCxwPWUuc3JjRXZlbnQ7Z3kodT1wLmNvbXBvc2VkUGF0aD9wLmNvbXBvc2VkUGF0aCgpWzBdOnAucGF0aD9wLnBhdGhbMF06cC50YXJnZXQsZikmJihmPXUpLGUudGFyZ2V0PWZ9ZnVuY3Rpb24gRXkodCxlLGkpe3ZhciBvPWkucG9pbnRlcnMubGVuZ3RoLG49aS5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoLHI9ZSZKZyYmby1uPT0wLHM9ZSYodHl8ZXkpJiZvLW49PTA7aS5pc0ZpcnN0PSEhcixpLmlzRmluYWw9ISFzLHImJih0LnNlc3Npb249e30pLGkuZXZlbnRUeXBlPWUseHkodCxpKSx0LmVtaXQoXCJoYW1tZXIuaW5wdXRcIixpKSx0LnJlY29nbml6ZShpKSx0LnNlc3Npb24ucHJldklucHV0PWl9ZnVuY3Rpb24gT3kodCl7cmV0dXJuIHQudHJpbSgpLnNwbGl0KC9cXHMrL2cpfWZ1bmN0aW9uIEN5KHQsZSxpKXt1eShPeShlKSwoZnVuY3Rpb24oZSl7dC5hZGRFdmVudExpc3RlbmVyKGUsaSwhMSl9KSl9ZnVuY3Rpb24gU3kodCxlLGkpe3V5KE95KGUpLChmdW5jdGlvbihlKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLCExKX0pKX1mdW5jdGlvbiBUeSh0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnR8fHQ7cmV0dXJuIGUuZGVmYXVsdFZpZXd8fGUucGFyZW50V2luZG93fHx3aW5kb3d9dmFyIE15PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciBpPXRoaXM7dGhpcy5tYW5hZ2VyPXQsdGhpcy5jYWxsYmFjaz1lLHRoaXMuZWxlbWVudD10LmVsZW1lbnQsdGhpcy50YXJnZXQ9dC5vcHRpb25zLmlucHV0VGFyZ2V0LHRoaXMuZG9tSGFuZGxlcj1mdW5jdGlvbihlKXtmeSh0Lm9wdGlvbnMuZW5hYmxlLFt0XSkmJmkuaGFuZGxlcihlKX0sdGhpcy5pbml0KCl9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuaGFuZGxlcj1mdW5jdGlvbigpe30sZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5ldkVsJiZDeSh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYmQ3kodGhpcy50YXJnZXQsdGhpcy5ldlRhcmdldCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZXaW4mJkN5KFR5KHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmV2RWwmJlN5KHRoaXMuZWxlbWVudCx0aGlzLmV2RWwsdGhpcy5kb21IYW5kbGVyKSx0aGlzLmV2VGFyZ2V0JiZTeSh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmU3koVHkodGhpcy5lbGVtZW50KSx0aGlzLmV2V2luLHRoaXMuZG9tSGFuZGxlcil9LHR9KCk7ZnVuY3Rpb24gUHkodCxlLGkpe2lmKHQuaW5kZXhPZiYmIWkpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIG89MDtvPHQubGVuZ3RoOyl7aWYoaSYmdFtvXVtpXT09ZXx8IWkmJnRbb109PT1lKXJldHVybiBvO28rK31yZXR1cm4tMX12YXIgRHk9e3BvaW50ZXJkb3duOkpnLHBvaW50ZXJtb3ZlOjIscG9pbnRlcnVwOnR5LHBvaW50ZXJjYW5jZWw6ZXkscG9pbnRlcm91dDpleX0sSXk9ezI6JGcsMzpcInBlblwiLDQ6WmcsNTpcImtpbmVjdFwifSxCeT1cInBvaW50ZXJkb3duXCIsRnk9XCJwb2ludGVybW92ZSBwb2ludGVydXAgcG9pbnRlcmNhbmNlbFwiO1BnLk1TUG9pbnRlckV2ZW50JiYhUGcuUG9pbnRlckV2ZW50JiYoQnk9XCJNU1BvaW50ZXJEb3duXCIsRnk9XCJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbFwiKTt2YXIgenk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBpLG89ZS5wcm90b3R5cGU7cmV0dXJuIG8uZXZFbD1CeSxvLmV2V2luPUZ5LChpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzKS5zdG9yZT1pLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzPVtdLGl9cmV0dXJuIFRnKGUsdCksZS5wcm90b3R5cGUuaGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JlLGk9ITEsbz10LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwibXNcIixcIlwiKSxuPUR5W29dLHI9SXlbdC5wb2ludGVyVHlwZV18fHQucG9pbnRlclR5cGUscz1yPT09JGcsYT1QeShlLHQucG9pbnRlcklkLFwicG9pbnRlcklkXCIpO24mSmcmJigwPT09dC5idXR0b258fHMpP2E8MCYmKGUucHVzaCh0KSxhPWUubGVuZ3RoLTEpOm4mKHR5fGV5KSYmKGk9ITApLGE8MHx8KGVbYV09dCx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixuLHtwb2ludGVyczplLGNoYW5nZWRQb2ludGVyczpbdF0scG9pbnRlclR5cGU6cixzcmNFdmVudDp0fSksaSYmZS5zcGxpY2UoYSwxKSl9LGV9KE15KTtmdW5jdGlvbiBOeSh0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwwKX1mdW5jdGlvbiBBeSh0LGUsaSl7Zm9yKHZhciBvPVtdLG49W10scj0wO3I8dC5sZW5ndGg7KXt2YXIgcz1lP3Rbcl1bZV06dFtyXTtQeShuLHMpPDAmJm8ucHVzaCh0W3JdKSxuW3JdPXMscisrfXJldHVybiBpJiYobz1lP28uc29ydCgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdFtlXT5pW2VdfSkpOm8uc29ydCgpKSxvfXZhciBSeT17dG91Y2hzdGFydDpKZyx0b3VjaG1vdmU6Mix0b3VjaGVuZDp0eSx0b3VjaGNhbmNlbDpleX0sank9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe3ZhciBpO3JldHVybiBlLnByb3RvdHlwZS5ldlRhcmdldD1cInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsXCIsKGk9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXMpLnRhcmdldElkcz17fSxpfXJldHVybiBUZyhlLHQpLGUucHJvdG90eXBlLmhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9UnlbdC50eXBlXSxpPUx5LmNhbGwodGhpcyx0LGUpO2kmJnRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOmlbMF0sY2hhbmdlZFBvaW50ZXJzOmlbMV0scG9pbnRlclR5cGU6JGcsc3JjRXZlbnQ6dH0pfSxlfShNeSk7ZnVuY3Rpb24gTHkodCxlKXt2YXIgaSxvLG49TnkodC50b3VjaGVzKSxyPXRoaXMudGFyZ2V0SWRzO2lmKGUmKDJ8SmcpJiYxPT09bi5sZW5ndGgpcmV0dXJuIHJbblswXS5pZGVudGlmaWVyXT0hMCxbbixuXTt2YXIgcz1OeSh0LmNoYW5nZWRUb3VjaGVzKSxhPVtdLGg9dGhpcy50YXJnZXQ7aWYobz1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGd5KHQudGFyZ2V0LGgpfSkpLGU9PT1KZylmb3IoaT0wO2k8by5sZW5ndGg7KXJbb1tpXS5pZGVudGlmaWVyXT0hMCxpKys7Zm9yKGk9MDtpPHMubGVuZ3RoOylyW3NbaV0uaWRlbnRpZmllcl0mJmEucHVzaChzW2ldKSxlJih0eXxleSkmJmRlbGV0ZSByW3NbaV0uaWRlbnRpZmllcl0saSsrO3JldHVybiBhLmxlbmd0aD9bQXkoby5jb25jYXQoYSksXCJpZGVudGlmaWVyXCIsITApLGFdOnZvaWQgMH12YXIgSHk9e21vdXNlZG93bjpKZyxtb3VzZW1vdmU6Mixtb3VzZXVwOnR5fSxXeT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGksbz1lLnByb3RvdHlwZTtyZXR1cm4gby5ldkVsPVwibW91c2Vkb3duXCIsby5ldldpbj1cIm1vdXNlbW92ZSBtb3VzZXVwXCIsKGk9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXMpLnByZXNzZWQ9ITEsaX1yZXR1cm4gVGcoZSx0KSxlLnByb3RvdHlwZS5oYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciBlPUh5W3QudHlwZV07ZSZKZyYmMD09PXQuYnV0dG9uJiYodGhpcy5wcmVzc2VkPSEwKSwyJmUmJjEhPT10LndoaWNoJiYoZT10eSksdGhpcy5wcmVzc2VkJiYoZSZ0eSYmKHRoaXMucHJlc3NlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6W3RdLGNoYW5nZWRQb2ludGVyczpbdF0scG9pbnRlclR5cGU6Wmcsc3JjRXZlbnQ6dH0pKX0sZX0oTXkpLFZ5PTI1MDA7ZnVuY3Rpb24gcXkodCl7dmFyIGU9dC5jaGFuZ2VkUG9pbnRlcnNbMF07aWYoZS5pZGVudGlmaWVyPT09dGhpcy5wcmltYXJ5VG91Y2gpe3ZhciBpPXt4OmUuY2xpZW50WCx5OmUuY2xpZW50WX0sbz10aGlzLmxhc3RUb3VjaGVzO3RoaXMubGFzdFRvdWNoZXMucHVzaChpKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe3ZhciB0PW8uaW5kZXhPZihpKTt0Pi0xJiZvLnNwbGljZSh0LDEpfSksVnkpfX1mdW5jdGlvbiBVeSh0LGUpe3QmSmc/KHRoaXMucHJpbWFyeVRvdWNoPWUuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXIscXkuY2FsbCh0aGlzLGUpKTp0Jih0eXxleSkmJnF5LmNhbGwodGhpcyxlKX1mdW5jdGlvbiBZeSh0KXtmb3IodmFyIGU9dC5zcmNFdmVudC5jbGllbnRYLGk9dC5zcmNFdmVudC5jbGllbnRZLG89MDtvPHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoO28rKyl7dmFyIG49dGhpcy5sYXN0VG91Y2hlc1tvXSxyPU1hdGguYWJzKGUtbi54KSxzPU1hdGguYWJzKGktbi55KTtpZihyPD0yNSYmczw9MjUpcmV0dXJuITB9cmV0dXJuITF9dmFyIFh5PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSxpKXt2YXIgbztyZXR1cm4obz10LmNhbGwodGhpcyxlLGkpfHx0aGlzKS5oYW5kbGVyPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pLnBvaW50ZXJUeXBlPT09JGcscj1pLnBvaW50ZXJUeXBlPT09Wmc7aWYoIShyJiZpLnNvdXJjZUNhcGFiaWxpdGllcyYmaS5zb3VyY2VDYXBhYmlsaXRpZXMuZmlyZXNUb3VjaEV2ZW50cykpe2lmKG4pVXkuY2FsbChNZyhNZyhvKSksZSxpKTtlbHNlIGlmKHImJll5LmNhbGwoTWcoTWcobykpLGkpKXJldHVybjtvLmNhbGxiYWNrKHQsZSxpKX19LG8udG91Y2g9bmV3IGp5KG8ubWFuYWdlcixvLmhhbmRsZXIpLG8ubW91c2U9bmV3IFd5KG8ubWFuYWdlcixvLmhhbmRsZXIpLG8ucHJpbWFyeVRvdWNoPW51bGwsby5sYXN0VG91Y2hlcz1bXSxvfXJldHVybiBUZyhlLHQpLGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnRvdWNoLmRlc3Ryb3koKSx0aGlzLm1vdXNlLmRlc3Ryb3koKX0sZX0oTXkpfSgpO2Z1bmN0aW9uIEt5KHQsZSxpKXtyZXR1cm4hIUFycmF5LmlzQXJyYXkodCkmJih1eSh0LGlbZV0saSksITApfXZhciBHeT0zMiwkeT0xO2Z1bmN0aW9uIFp5KHQsZSl7dmFyIGk9ZS5tYW5hZ2VyO3JldHVybiBpP2kuZ2V0KHQpOnR9ZnVuY3Rpb24gUXkodCl7cmV0dXJuIDE2JnQ/XCJjYW5jZWxcIjo4JnQ/XCJlbmRcIjo0JnQ/XCJtb3ZlXCI6MiZ0P1wic3RhcnRcIjpcIlwifXZhciBKeT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9e30pLHRoaXMub3B0aW9ucz1TZyh7ZW5hYmxlOiEwfSx0KSx0aGlzLmlkPSR5KyssdGhpcy5tYW5hZ2VyPW51bGwsdGhpcy5zdGF0ZT0xLHRoaXMuc2ltdWx0YW5lb3VzPXt9LHRoaXMucmVxdWlyZUZhaWw9W119dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUuc2V0PWZ1bmN0aW9uKHQpe3JldHVybiBEZyh0aGlzLm9wdGlvbnMsdCksdGhpcy5tYW5hZ2VyJiZ0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCksdGhpc30sZS5yZWNvZ25pemVXaXRoPWZ1bmN0aW9uKHQpe2lmKEt5KHQsXCJyZWNvZ25pemVXaXRoXCIsdGhpcykpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5zaW11bHRhbmVvdXM7cmV0dXJuIGVbKHQ9WnkodCx0aGlzKSkuaWRdfHwoZVt0LmlkXT10LHQucmVjb2duaXplV2l0aCh0aGlzKSksdGhpc30sZS5kcm9wUmVjb2duaXplV2l0aD1mdW5jdGlvbih0KXtyZXR1cm4gS3kodCxcImRyb3BSZWNvZ25pemVXaXRoXCIsdGhpcyl8fCh0PVp5KHQsdGhpcyksZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW3QuaWRdKSx0aGlzfSxlLnJlcXVpcmVGYWlsdXJlPWZ1bmN0aW9uKHQpe2lmKEt5KHQsXCJyZXF1aXJlRmFpbHVyZVwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMucmVxdWlyZUZhaWw7cmV0dXJuLTE9PT1QeShlLHQ9WnkodCx0aGlzKSkmJihlLnB1c2godCksdC5yZXF1aXJlRmFpbHVyZSh0aGlzKSksdGhpc30sZS5kcm9wUmVxdWlyZUZhaWx1cmU9ZnVuY3Rpb24odCl7aWYoS3kodCxcImRyb3BSZXF1aXJlRmFpbHVyZVwiLHRoaXMpKXJldHVybiB0aGlzO3Q9WnkodCx0aGlzKTt2YXIgZT1QeSh0aGlzLnJlcXVpcmVGYWlsLHQpO3JldHVybiBlPi0xJiZ0aGlzLnJlcXVpcmVGYWlsLnNwbGljZShlLDEpLHRoaXN9LGUuaGFzUmVxdWlyZUZhaWx1cmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoPjB9LGUuY2FuUmVjb2duaXplV2l0aD1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc2ltdWx0YW5lb3VzW3QuaWRdfSxlLmVtaXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuc3RhdGU7ZnVuY3Rpb24gbyhpKXtlLm1hbmFnZXIuZW1pdChpLHQpfWk8OCYmbyhlLm9wdGlvbnMuZXZlbnQrUXkoaSkpLG8oZS5vcHRpb25zLmV2ZW50KSx0LmFkZGl0aW9uYWxFdmVudCYmbyh0LmFkZGl0aW9uYWxFdmVudCksaT49OCYmbyhlLm9wdGlvbnMuZXZlbnQrUXkoaSkpfSxlLnRyeUVtaXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5jYW5FbWl0KCkpcmV0dXJuIHRoaXMuZW1pdCh0KTt0aGlzLnN0YXRlPUd5fSxlLmNhbkVtaXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoOyl7aWYoISgzMyZ0aGlzLnJlcXVpcmVGYWlsW3RdLnN0YXRlKSlyZXR1cm4hMTt0Kyt9cmV0dXJuITB9LGUucmVjb2duaXplPWZ1bmN0aW9uKHQpe3ZhciBlPURnKHt9LHQpO2lmKCFmeSh0aGlzLm9wdGlvbnMuZW5hYmxlLFt0aGlzLGVdKSlyZXR1cm4gdGhpcy5yZXNldCgpLHZvaWQodGhpcy5zdGF0ZT1HeSk7NTYmdGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9MSksdGhpcy5zdGF0ZT10aGlzLnByb2Nlc3MoZSksMzAmdGhpcy5zdGF0ZSYmdGhpcy50cnlFbWl0KGUpfSxlLnByb2Nlc3M9ZnVuY3Rpb24odCl7fSxlLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7fSxlLnJlc2V0PWZ1bmN0aW9uKCl7fSx0fSgpLHRtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIGk7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSwoaT10LmNhbGwodGhpcyxTZyh7ZXZlbnQ6XCJ0YXBcIixwb2ludGVyczoxLHRhcHM6MSxpbnRlcnZhbDozMDAsdGltZToyNTAsdGhyZXNob2xkOjkscG9zVGhyZXNob2xkOjEwfSxlKSl8fHRoaXMpLnBUaW1lPSExLGkucENlbnRlcj0hMSxpLl90aW1lcj1udWxsLGkuX2lucHV0PW51bGwsaS5jb3VudD0wLGl9VGcoZSx0KTt2YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5nZXRUb3VjaEFjdGlvbj1mdW5jdGlvbigpe3JldHVybltXZ119LGkucHJvY2Vzcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dGhpcy5vcHRpb25zLG89dC5wb2ludGVycy5sZW5ndGg9PT1pLnBvaW50ZXJzLG49dC5kaXN0YW5jZTxpLnRocmVzaG9sZCxyPXQuZGVsdGFUaW1lPGkudGltZTtpZih0aGlzLnJlc2V0KCksdC5ldmVudFR5cGUmSmcmJjA9PT10aGlzLmNvdW50KXJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7aWYobiYmciYmbyl7aWYodC5ldmVudFR5cGUhPT10eSlyZXR1cm4gdGhpcy5mYWlsVGltZW91dCgpO3ZhciBzPSF0aGlzLnBUaW1lfHx0LnRpbWVTdGFtcC10aGlzLnBUaW1lPGkuaW50ZXJ2YWwsYT0hdGhpcy5wQ2VudGVyfHxieSh0aGlzLnBDZW50ZXIsdC5jZW50ZXIpPGkucG9zVGhyZXNob2xkO2lmKHRoaXMucFRpbWU9dC50aW1lU3RhbXAsdGhpcy5wQ2VudGVyPXQuY2VudGVyLGEmJnM/dGhpcy5jb3VudCs9MTp0aGlzLmNvdW50PTEsdGhpcy5faW5wdXQ9dCwwPT09dGhpcy5jb3VudCVpLnRhcHMpcmV0dXJuIHRoaXMuaGFzUmVxdWlyZUZhaWx1cmVzKCk/KHRoaXMuX3RpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ZS5zdGF0ZT04LGUudHJ5RW1pdCgpfSksaS5pbnRlcnZhbCksMik6OH1yZXR1cm4gR3l9LGkuZmFpbFRpbWVvdXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLl90aW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3Quc3RhdGU9R3l9KSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpLEd5fSxpLnJlc2V0PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKX0saS5lbWl0PWZ1bmN0aW9uKCl7OD09PXRoaXMuc3RhdGUmJih0aGlzLl9pbnB1dC50YXBDb3VudD10aGlzLmNvdW50LHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0aGlzLl9pbnB1dCkpfSxlfShKeSksZW09ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHQuY2FsbCh0aGlzLFNnKHtwb2ludGVyczoxfSxlKSl8fHRoaXN9VGcoZSx0KTt2YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5hdHRyVGVzdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMucG9pbnRlcnM7cmV0dXJuIDA9PT1lfHx0LnBvaW50ZXJzLmxlbmd0aD09PWV9LGkucHJvY2Vzcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLGk9dC5ldmVudFR5cGUsbz02JmUsbj10aGlzLmF0dHJUZXN0KHQpO3JldHVybiBvJiYoaSZleXx8IW4pPzE2fGU6b3x8bj9pJnR5Pzh8ZToyJmU/NHxlOjI6R3l9LGV9KEp5KTtmdW5jdGlvbiBpbSh0KXtyZXR1cm4gdD09PXN5P1wiZG93blwiOnQ9PT1yeT9cInVwXCI6dD09PW95P1wibGVmdFwiOnQ9PT1ueT9cInJpZ2h0XCI6XCJcIn12YXIgb209ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLChpPXQuY2FsbCh0aGlzLFNnKHtldmVudDpcInBhblwiLHRocmVzaG9sZDoxMCxwb2ludGVyczoxLGRpcmVjdGlvbjpkeX0sZSkpfHx0aGlzKS5wWD1udWxsLGkucFk9bnVsbCxpfVRnKGUsdCk7dmFyIGk9ZS5wcm90b3R5cGU7cmV0dXJuIGkuZ2V0VG91Y2hBY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuZGlyZWN0aW9uLGU9W107cmV0dXJuIHQmYXkmJmUucHVzaChVZyksdCZoeSYmZS5wdXNoKHFnKSxlfSxpLmRpcmVjdGlvblRlc3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9ITAsbz10LmRpc3RhbmNlLG49dC5kaXJlY3Rpb24scj10LmRlbHRhWCxzPXQuZGVsdGFZO3JldHVybiBuJmUuZGlyZWN0aW9ufHwoZS5kaXJlY3Rpb24mYXk/KG49MD09PXI/aXk6cjwwP295Om55LGk9ciE9PXRoaXMucFgsbz1NYXRoLmFicyh0LmRlbHRhWCkpOihuPTA9PT1zP2l5OnM8MD9yeTpzeSxpPXMhPT10aGlzLnBZLG89TWF0aC5hYnModC5kZWx0YVkpKSksdC5kaXJlY3Rpb249bixpJiZvPmUudGhyZXNob2xkJiZuJmUuZGlyZWN0aW9ufSxpLmF0dHJUZXN0PWZ1bmN0aW9uKHQpe3JldHVybiBlbS5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLHQpJiYoMiZ0aGlzLnN0YXRlfHwhKDImdGhpcy5zdGF0ZSkmJnRoaXMuZGlyZWN0aW9uVGVzdCh0KSl9LGkuZW1pdD1mdW5jdGlvbihlKXt0aGlzLnBYPWUuZGVsdGFYLHRoaXMucFk9ZS5kZWx0YVk7dmFyIGk9aW0oZS5kaXJlY3Rpb24pO2kmJihlLmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQraSksdC5wcm90b3R5cGUuZW1pdC5jYWxsKHRoaXMsZSl9LGV9KGVtKSxubT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksdC5jYWxsKHRoaXMsU2coe2V2ZW50Olwic3dpcGVcIix0aHJlc2hvbGQ6MTAsdmVsb2NpdHk6LjMsZGlyZWN0aW9uOmF5fGh5LHBvaW50ZXJzOjF9LGUpKXx8dGhpc31UZyhlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG9tLnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpfSxpLmF0dHJUZXN0PWZ1bmN0aW9uKGUpe3ZhciBpLG89dGhpcy5vcHRpb25zLmRpcmVjdGlvbjtyZXR1cm4gbyYoYXl8aHkpP2k9ZS5vdmVyYWxsVmVsb2NpdHk6byZheT9pPWUub3ZlcmFsbFZlbG9jaXR5WDpvJmh5JiYoaT1lLm92ZXJhbGxWZWxvY2l0eVkpLHQucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcyxlKSYmbyZlLm9mZnNldERpcmVjdGlvbiYmZS5kaXN0YW5jZT50aGlzLm9wdGlvbnMudGhyZXNob2xkJiZlLm1heFBvaW50ZXJzPT09dGhpcy5vcHRpb25zLnBvaW50ZXJzJiZ6ZyhpKT50aGlzLm9wdGlvbnMudmVsb2NpdHkmJmUuZXZlbnRUeXBlJnR5fSxpLmVtaXQ9ZnVuY3Rpb24odCl7dmFyIGU9aW0odC5vZmZzZXREaXJlY3Rpb24pO2UmJnRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCtlLHQpLHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0KX0sZX0oZW0pLHJtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSx0LmNhbGwodGhpcyxTZyh7ZXZlbnQ6XCJwaW5jaFwiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGUpKXx8dGhpc31UZyhlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuW1ZnXX0saS5hdHRyVGVzdD1mdW5jdGlvbihlKXtyZXR1cm4gdC5wcm90b3R5cGUuYXR0clRlc3QuY2FsbCh0aGlzLGUpJiYoTWF0aC5hYnMoZS5zY2FsZS0xKT50aGlzLm9wdGlvbnMudGhyZXNob2xkfHwyJnRoaXMuc3RhdGUpfSxpLmVtaXQ9ZnVuY3Rpb24oZSl7aWYoMSE9PWUuc2NhbGUpe3ZhciBpPWUuc2NhbGU8MT9cImluXCI6XCJvdXRcIjtlLmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQraX10LnByb3RvdHlwZS5lbWl0LmNhbGwodGhpcyxlKX0sZX0oZW0pLHNtPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSx0LmNhbGwodGhpcyxTZyh7ZXZlbnQ6XCJyb3RhdGVcIix0aHJlc2hvbGQ6MCxwb2ludGVyczoyfSxlKSl8fHRoaXN9VGcoZSx0KTt2YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5nZXRUb3VjaEFjdGlvbj1mdW5jdGlvbigpe3JldHVybltWZ119LGkuYXR0clRlc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHQucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcyxlKSYmKE1hdGguYWJzKGUucm90YXRpb24pPnRoaXMub3B0aW9ucy50aHJlc2hvbGR8fDImdGhpcy5zdGF0ZSl9LGV9KGVtKSxhbT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe3ZhciBpO3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksKGk9dC5jYWxsKHRoaXMsU2coe2V2ZW50OlwicHJlc3NcIixwb2ludGVyczoxLHRpbWU6MjUxLHRocmVzaG9sZDo5fSxlKSl8fHRoaXMpLl90aW1lcj1udWxsLGkuX2lucHV0PW51bGwsaX1UZyhlLHQpO3ZhciBpPWUucHJvdG90eXBlO3JldHVybiBpLmdldFRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuW0hnXX0saS5wcm9jZXNzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT10aGlzLm9wdGlvbnMsbz10LnBvaW50ZXJzLmxlbmd0aD09PWkucG9pbnRlcnMsbj10LmRpc3RhbmNlPGkudGhyZXNob2xkLHI9dC5kZWx0YVRpbWU+aS50aW1lO2lmKHRoaXMuX2lucHV0PXQsIW58fCFvfHx0LmV2ZW50VHlwZSYodHl8ZXkpJiYhcil0aGlzLnJlc2V0KCk7ZWxzZSBpZih0LmV2ZW50VHlwZSZKZyl0aGlzLnJlc2V0KCksdGhpcy5fdGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtlLnN0YXRlPTgsZS50cnlFbWl0KCl9KSxpLnRpbWUpO2Vsc2UgaWYodC5ldmVudFR5cGUmdHkpcmV0dXJuIDg7cmV0dXJuIEd5fSxpLnJlc2V0PWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyKX0saS5lbWl0PWZ1bmN0aW9uKHQpezg9PT10aGlzLnN0YXRlJiYodCYmdC5ldmVudFR5cGUmdHk/dGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50K1widXBcIix0KToodGhpcy5faW5wdXQudGltZVN0YW1wPU5nKCksdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LHRoaXMuX2lucHV0KSkpfSxlfShKeSksaG09e2RvbUV2ZW50czohMSx0b3VjaEFjdGlvbjpMZyxlbmFibGU6ITAsaW5wdXRUYXJnZXQ6bnVsbCxpbnB1dENsYXNzOm51bGwsY3NzUHJvcHM6e3VzZXJTZWxlY3Q6XCJub25lXCIsdG91Y2hTZWxlY3Q6XCJub25lXCIsdG91Y2hDYWxsb3V0Olwibm9uZVwiLGNvbnRlbnRab29taW5nOlwibm9uZVwiLHVzZXJEcmFnOlwibm9uZVwiLHRhcEhpZ2hsaWdodENvbG9yOlwicmdiYSgwLDAsMCwwKVwifX0sZG09W1tzbSx7ZW5hYmxlOiExfV0sW3JtLHtlbmFibGU6ITF9LFtcInJvdGF0ZVwiXV0sW25tLHtkaXJlY3Rpb246YXl9XSxbb20se2RpcmVjdGlvbjpheX0sW1wic3dpcGVcIl1dLFt0bV0sW3RtLHtldmVudDpcImRvdWJsZXRhcFwiLHRhcHM6Mn0sW1widGFwXCJdXSxbYW1dXTtmdW5jdGlvbiBsbSh0LGUpe3ZhciBpLG89dC5lbGVtZW50O28uc3R5bGUmJih1eSh0Lm9wdGlvbnMuY3NzUHJvcHMsKGZ1bmN0aW9uKG4scil7aT1BZyhvLnN0eWxlLHIpLGU/KHQub2xkQ3NzUHJvcHNbaV09by5zdHlsZVtpXSxvLnN0eWxlW2ldPW4pOm8uc3R5bGVbaV09dC5vbGRDc3NQcm9wc1tpXXx8XCJcIn0pKSxlfHwodC5vbGRDc3NQcm9wcz17fSkpfXZhciBjbT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2YXIgaSxvPXRoaXM7dGhpcy5vcHRpb25zPURnKHt9LGhtLGV8fHt9KSx0aGlzLm9wdGlvbnMuaW5wdXRUYXJnZXQ9dGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0fHx0LHRoaXMuaGFuZGxlcnM9e30sdGhpcy5zZXNzaW9uPXt9LHRoaXMucmVjb2duaXplcnM9W10sdGhpcy5vbGRDc3NQcm9wcz17fSx0aGlzLmVsZW1lbnQ9dCx0aGlzLmlucHV0PW5ldygoaT10aGlzKS5vcHRpb25zLmlucHV0Q2xhc3N8fChLZz96eTpHZz9qeTpYZz9YeTpXeSkpKGksRXkpLHRoaXMudG91Y2hBY3Rpb249bmV3IHZ5KHRoaXMsdGhpcy5vcHRpb25zLnRvdWNoQWN0aW9uKSxsbSh0aGlzLCEwKSx1eSh0aGlzLm9wdGlvbnMucmVjb2duaXplcnMsKGZ1bmN0aW9uKHQpe3ZhciBlPW8uYWRkKG5ldyB0WzBdKHRbMV0pKTt0WzJdJiZlLnJlY29nbml6ZVdpdGgodFsyXSksdFszXSYmZS5yZXF1aXJlRmFpbHVyZSh0WzNdKX0pLHRoaXMpfXZhciBlPXQucHJvdG90eXBlO3JldHVybiBlLnNldD1mdW5jdGlvbih0KXtyZXR1cm4gRGcodGhpcy5vcHRpb25zLHQpLHQudG91Y2hBY3Rpb24mJnRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCksdC5pbnB1dFRhcmdldCYmKHRoaXMuaW5wdXQuZGVzdHJveSgpLHRoaXMuaW5wdXQudGFyZ2V0PXQuaW5wdXRUYXJnZXQsdGhpcy5pbnB1dC5pbml0KCkpLHRoaXN9LGUuc3RvcD1mdW5jdGlvbih0KXt0aGlzLnNlc3Npb24uc3RvcHBlZD10PzI6MX0sZS5yZWNvZ25pemU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zZXNzaW9uO2lmKCFlLnN0b3BwZWQpe3ZhciBpO3RoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKHQpO3ZhciBvPXRoaXMucmVjb2duaXplcnMsbj1lLmN1clJlY29nbml6ZXI7KCFufHxuJiY4Jm4uc3RhdGUpJiYoZS5jdXJSZWNvZ25pemVyPW51bGwsbj1udWxsKTtmb3IodmFyIHI9MDtyPG8ubGVuZ3RoOylpPW9bcl0sMj09PWUuc3RvcHBlZHx8biYmaSE9PW4mJiFpLmNhblJlY29nbml6ZVdpdGgobik/aS5yZXNldCgpOmkucmVjb2duaXplKHQpLCFuJiYxNCZpLnN0YXRlJiYoZS5jdXJSZWNvZ25pemVyPWksbj1pKSxyKyt9fSxlLmdldD1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgSnkpcmV0dXJuIHQ7Zm9yKHZhciBlPXRoaXMucmVjb2duaXplcnMsaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0ub3B0aW9ucy5ldmVudD09PXQpcmV0dXJuIGVbaV07cmV0dXJuIG51bGx9LGUuYWRkPWZ1bmN0aW9uKHQpe2lmKEt5KHQsXCJhZGRcIix0aGlzKSlyZXR1cm4gdGhpczt2YXIgZT10aGlzLmdldCh0Lm9wdGlvbnMuZXZlbnQpO3JldHVybiBlJiZ0aGlzLnJlbW92ZShlKSx0aGlzLnJlY29nbml6ZXJzLnB1c2godCksdC5tYW5hZ2VyPXRoaXMsdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKSx0fSxlLnJlbW92ZT1mdW5jdGlvbih0KXtpZihLeSh0LFwicmVtb3ZlXCIsdGhpcykpcmV0dXJuIHRoaXM7dmFyIGU9dGhpcy5nZXQodCk7aWYodCl7dmFyIGk9dGhpcy5yZWNvZ25pemVycyxvPVB5KGksZSk7LTEhPT1vJiYoaS5zcGxpY2UobywxKSx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpKX1yZXR1cm4gdGhpc30sZS5vbj1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXR8fHZvaWQgMD09PWUpcmV0dXJuIHRoaXM7dmFyIGk9dGhpcy5oYW5kbGVycztyZXR1cm4gdXkoT3kodCksKGZ1bmN0aW9uKHQpe2lbdF09aVt0XXx8W10saVt0XS5wdXNoKGUpfSkpLHRoaXN9LGUub2ZmPWZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwPT09dClyZXR1cm4gdGhpczt2YXIgaT10aGlzLmhhbmRsZXJzO3JldHVybiB1eShPeSh0KSwoZnVuY3Rpb24odCl7ZT9pW3RdJiZpW3RdLnNwbGljZShQeShpW3RdLGUpLDEpOmRlbGV0ZSBpW3RdfSkpLHRoaXN9LGUuZW1pdD1mdW5jdGlvbih0LGUpe3RoaXMub3B0aW9ucy5kb21FdmVudHMmJmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtpLmluaXRFdmVudCh0LCEwLCEwKSxpLmdlc3R1cmU9ZSxlLnRhcmdldC5kaXNwYXRjaEV2ZW50KGkpfSh0LGUpO3ZhciBpPXRoaXMuaGFuZGxlcnNbdF0mJnRoaXMuaGFuZGxlcnNbdF0uc2xpY2UoKTtpZihpJiZpLmxlbmd0aCl7ZS50eXBlPXQsZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2Uuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKX07Zm9yKHZhciBvPTA7bzxpLmxlbmd0aDspaVtvXShlKSxvKyt9fSxlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJmxtKHRoaXMsITEpLHRoaXMuaGFuZGxlcnM9e30sdGhpcy5zZXNzaW9uPXt9LHRoaXMuaW5wdXQuZGVzdHJveSgpLHRoaXMuZWxlbWVudD1udWxsfSx0fSgpLHVtPXt0b3VjaHN0YXJ0OkpnLHRvdWNobW92ZToyLHRvdWNoZW5kOnR5LHRvdWNoY2FuY2VsOmV5fSxmbT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7dmFyIGksbz1lLnByb3RvdHlwZTtyZXR1cm4gby5ldlRhcmdldD1cInRvdWNoc3RhcnRcIixvLmV2V2luPVwidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWxcIiwoaT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcykuc3RhcnRlZD0hMSxpfXJldHVybiBUZyhlLHQpLGUucHJvdG90eXBlLmhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dW1bdC50eXBlXTtpZihlPT09SmcmJih0aGlzLnN0YXJ0ZWQ9ITApLHRoaXMuc3RhcnRlZCl7dmFyIGk9cG0uY2FsbCh0aGlzLHQsZSk7ZSYodHl8ZXkpJiZpWzBdLmxlbmd0aC1pWzFdLmxlbmd0aD09MCYmKHRoaXMuc3RhcnRlZD0hMSksdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsZSx7cG9pbnRlcnM6aVswXSxjaGFuZ2VkUG9pbnRlcnM6aVsxXSxwb2ludGVyVHlwZTokZyxzcmNFdmVudDp0fSl9fSxlfShNeSk7ZnVuY3Rpb24gcG0odCxlKXt2YXIgaT1OeSh0LnRvdWNoZXMpLG89TnkodC5jaGFuZ2VkVG91Y2hlcyk7cmV0dXJuIGUmKHR5fGV5KSYmKGk9QXkoaS5jb25jYXQobyksXCJpZGVudGlmaWVyXCIsITApKSxbaSxvXX1mdW5jdGlvbiB2bSh0LGUsaSl7dmFyIG89XCJERVBSRUNBVEVEIE1FVEhPRDogXCIrZStcIlxcblwiK2krXCIgQVQgXFxuXCI7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9bmV3IEVycm9yKFwiZ2V0LXN0YWNrLXRyYWNlXCIpLGk9ZSYmZS5zdGFjaz9lLnN0YWNrLnJlcGxhY2UoL15bXlxcKF0rP1tcXG4kXS9nbSxcIlwiKS5yZXBsYWNlKC9eXFxzK2F0XFxzKy9nbSxcIlwiKS5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XFxzKlxcKC9nbSxcInthbm9ueW1vdXN9KClAXCIpOlwiVW5rbm93biBTdGFjayBUcmFjZVwiLG49d2luZG93LmNvbnNvbGUmJih3aW5kb3cuY29uc29sZS53YXJufHx3aW5kb3cuY29uc29sZS5sb2cpO3JldHVybiBuJiZuLmNhbGwod2luZG93LmNvbnNvbGUsbyxpKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIGdtPXZtKChmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPU9iamVjdC5rZXlzKGUpLG49MDtuPG8ubGVuZ3RoOykoIWl8fGkmJnZvaWQgMD09PXRbb1tuXV0pJiYodFtvW25dXT1lW29bbl1dKSxuKys7cmV0dXJuIHR9KSxcImV4dGVuZFwiLFwiVXNlIGBhc3NpZ25gLlwiKSx5bT12bSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZ20odCxlLCEwKX0pLFwibWVyZ2VcIixcIlVzZSBgYXNzaWduYC5cIik7ZnVuY3Rpb24gbW0odCxlLGkpe3ZhciBvLG49ZS5wcm90b3R5cGU7KG89dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuKSkuY29uc3RydWN0b3I9dCxvLl9zdXBlcj1uLGkmJkRnKG8saSl9ZnVuY3Rpb24gYm0odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLGFyZ3VtZW50cyl9fXZhciB3bT1mdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSxuZXcgY20odCxTZyh7cmVjb2duaXplcnM6ZG0uY29uY2F0KCl9LGUpKX07cmV0dXJuIHQuVkVSU0lPTj1cIjIuMC4xNy1yY1wiLHQuRElSRUNUSU9OX0FMTD1keSx0LkRJUkVDVElPTl9ET1dOPXN5LHQuRElSRUNUSU9OX0xFRlQ9b3ksdC5ESVJFQ1RJT05fUklHSFQ9bnksdC5ESVJFQ1RJT05fVVA9cnksdC5ESVJFQ1RJT05fSE9SSVpPTlRBTD1heSx0LkRJUkVDVElPTl9WRVJUSUNBTD1oeSx0LkRJUkVDVElPTl9OT05FPWl5LHQuRElSRUNUSU9OX0RPV049c3ksdC5JTlBVVF9TVEFSVD1KZyx0LklOUFVUX01PVkU9Mix0LklOUFVUX0VORD10eSx0LklOUFVUX0NBTkNFTD1leSx0LlNUQVRFX1BPU1NJQkxFPTEsdC5TVEFURV9CRUdBTj0yLHQuU1RBVEVfQ0hBTkdFRD00LHQuU1RBVEVfRU5ERUQ9OCx0LlNUQVRFX1JFQ09HTklaRUQ9OCx0LlNUQVRFX0NBTkNFTExFRD0xNix0LlNUQVRFX0ZBSUxFRD1HeSx0Lk1hbmFnZXI9Y20sdC5JbnB1dD1NeSx0LlRvdWNoQWN0aW9uPXZ5LHQuVG91Y2hJbnB1dD1qeSx0Lk1vdXNlSW5wdXQ9V3ksdC5Qb2ludGVyRXZlbnRJbnB1dD16eSx0LlRvdWNoTW91c2VJbnB1dD1YeSx0LlNpbmdsZVRvdWNoSW5wdXQ9Zm0sdC5SZWNvZ25pemVyPUp5LHQuQXR0clJlY29nbml6ZXI9ZW0sdC5UYXA9dG0sdC5QYW49b20sdC5Td2lwZT1ubSx0LlBpbmNoPXJtLHQuUm90YXRlPXNtLHQuUHJlc3M9YW0sdC5vbj1DeSx0Lm9mZj1TeSx0LmVhY2g9dXksdC5tZXJnZT15bSx0LmV4dGVuZD1nbSx0LmJpbmRGbj1ibSx0LmFzc2lnbj1EZyx0LmluaGVyaXQ9bW0sdC5iaW5kRm49Ym0sdC5wcmVmaXhlZD1BZyx0LnRvQXJyYXk9TnksdC5pbkFycmF5PVB5LHQudW5pcXVlQXJyYXk9QXksdC5zcGxpdFN0cj1PeSx0LmJvb2xPckZuPWZ5LHQuaGFzUGFyZW50PWd5LHQuYWRkRXZlbnRMaXN0ZW5lcnM9Q3ksdC5yZW1vdmVFdmVudExpc3RlbmVycz1TeSx0LmRlZmF1bHRzPURnKHt9LGhtLHtwcmVzZXQ6ZG19KSx0fSgpO3dtLmRlZmF1bHRzO3ZhciBrbT13bTtmdW5jdGlvbiBfbSh0LGUpe3ZhciBpPXZvaWQgMCE9PWNmJiZwaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIWkpe2lmKE9mKHQpfHwoaT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4geG0odCxlKTt2YXIgbz1tZihpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChpLDgsLTEpO1wiT2JqZWN0XCI9PT1vJiZ0LmNvbnN0cnVjdG9yJiYobz10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1vfHxcIlNldFwiPT09bylyZXR1cm4gWGEodCk7aWYoXCJBcmd1bWVudHNcIj09PW98fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG8pKXJldHVybiB4bSh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7aSYmKHQ9aSk7dmFyIG89MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbysrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIscz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7aT1pLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1pLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXthPSEwLHI9dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19fX1mdW5jdGlvbiB4bSh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG89bmV3IEFycmF5KGUpO2k8ZTtpKyspb1tpXT10W2ldO3JldHVybiBvfWZ1bmN0aW9uIEVtKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT1hcmd1bWVudHNbaV07cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PWZ1bmN0aW9uKCl7dmFyIHQ9NDAyMjg3MTE5NztyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciBpPWUudG9TdHJpbmcoKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBuPS4wMjUxOTYwMzI4MjQxNjkzOCoodCs9aS5jaGFyQ29kZUF0KG8pKTtuLT10PW4+Pj4wLHQ9KG4qPXQpPj4+MCx0Kz00Mjk0OTY3Mjk2KihuLT10KX1yZXR1cm4gMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMCoodD4+PjApfX0oKSxlPXQoXCIgXCIpLGk9dChcIiBcIiksbz10KFwiIFwiKSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKykoZS09dChuPDB8fGFyZ3VtZW50cy5sZW5ndGg8PW4/dm9pZCAwOmFyZ3VtZW50c1tuXSkpPDAmJihlKz0xKSwoaS09dChuPDB8fGFyZ3VtZW50cy5sZW5ndGg8PW4/dm9pZCAwOmFyZ3VtZW50c1tuXSkpPDAmJihpKz0xKSwoby09dChuPDB8fGFyZ3VtZW50cy5sZW5ndGg8PW4/dm9pZCAwOmFyZ3VtZW50c1tuXSkpPDAmJihvKz0xKTtyZXR1cm5bZSxpLG9dfSh0KSxpPWRmKGUsMyksbz1pWzBdLG49aVsxXSxyPWlbMl0scz0xLGE9ZnVuY3Rpb24oKXt2YXIgdD0yMDkxNjM5Km8rMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMCpzO3JldHVybiBvPW4sbj1yLHI9dC0ocz0wfHQpfTtyZXR1cm4gYS51aW50MzI9ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDk2NzI5NiphKCl9LGEuZnJhY3Q1Mz1mdW5jdGlvbigpe3JldHVybiBhKCkrMTExMDIyMzAyNDYyNTE1NjVlLTMyKigyMDk3MTUyKmEoKXwwKX0sYS5hbGdvcml0aG09XCJBbGVhXCIsYS5zZWVkPXQsYS52ZXJzaW9uPVwiMC45XCIsYX0oZS5sZW5ndGg/ZTpbamYoKV0pfWNmKFwiREVMRVRFXCIpO3ZhciBPbT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdy5IYW1tZXJ8fGttOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24oKXt9O3JldHVybntvbjp0LG9mZjp0LGRlc3Ryb3k6dCxlbWl0OnQsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJue3NldDp0fX19fSgpfTtmdW5jdGlvbiBDbSh0KXt2YXIgZSxpPXRoaXM7dGhpcy5fY2xlYW51cFF1ZXVlPVtdLHRoaXMuYWN0aXZlPSExLHRoaXMuX2RvbT17Y29udGFpbmVyOnQsb3ZlcmxheTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpfSx0aGlzLl9kb20ub3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwidmlzLW92ZXJsYXlcIiksdGhpcy5fZG9tLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9kb20ub3ZlcmxheSksdGhpcy5fY2xlYW51cFF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7aS5fZG9tLm92ZXJsYXkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpLl9kb20ub3ZlcmxheSl9KSk7dmFyIG89T20odGhpcy5fZG9tLm92ZXJsYXkpO28ub24oXCJ0YXBcIixXbyhlPXRoaXMuX29uVGFwT3ZlcmxheSkuY2FsbChlLHRoaXMpKSx0aGlzLl9jbGVhbnVwUXVldWUucHVzaCgoZnVuY3Rpb24oKXtvLmRlc3Ryb3koKX0pKTt2YXIgbj1bXCJ0YXBcIixcImRvdWJsZXRhcFwiLFwicHJlc3NcIixcInBpbmNoXCIsXCJwYW5cIixcInBhbnN0YXJ0XCIsXCJwYW5tb3ZlXCIsXCJwYW5lbmRcIl07UWYobikuY2FsbChuLChmdW5jdGlvbih0KXtvLm9uKHQsKGZ1bmN0aW9uKHQpe3Quc3JjRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCl9KSl9KSksZG9jdW1lbnQmJmRvY3VtZW50LmJvZHkmJih0aGlzLl9vbkNsaWNrPWZ1bmN0aW9uKGUpeyhmdW5jdGlvbih0LGUpe2Zvcig7dDspe2lmKHQ9PT1lKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfSkoZS50YXJnZXQsdCl8fGkuZGVhY3RpdmF0ZSgpfSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xpY2spLHRoaXMuX2NsZWFudXBRdWV1ZS5wdXNoKChmdW5jdGlvbigpe2RvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsaS5fb25DbGljayl9KSkpLHRoaXMuX2VzY0xpc3RlbmVyPWZ1bmN0aW9uKHQpeyhcImtleVwiaW4gdD9cIkVzY2FwZVwiPT09dC5rZXk6Mjc9PT10LmtleUNvZGUpJiZpLmRlYWN0aXZhdGUoKX19JG8oQ20ucHJvdG90eXBlKSxDbS5jdXJyZW50PW51bGwsQ20ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgdCxlO3RoaXMuZGVhY3RpdmF0ZSgpO3ZhciBpLG89X20oaHAodD1QcChlPXRoaXMuX2NsZWFudXBRdWV1ZSkuY2FsbChlLDApKS5jYWxsKHQpKTt0cnl7Zm9yKG8ucygpOyEoaT1vLm4oKSkuZG9uZTspeygwLGkudmFsdWUpKCl9fWNhdGNoKHQpe28uZSh0KX1maW5hbGx5e28uZigpfX0sQ20ucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7Q20uY3VycmVudCYmQ20uY3VycmVudC5kZWFjdGl2YXRlKCksQ20uY3VycmVudD10aGlzLHRoaXMuYWN0aXZlPSEwLHRoaXMuX2RvbS5vdmVybGF5LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fZG9tLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidmlzLWFjdGl2ZVwiKSx0aGlzLmVtaXQoXCJjaGFuZ2VcIiksdGhpcy5lbWl0KFwiYWN0aXZhdGVcIiksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMuX2VzY0xpc3RlbmVyKX0sQ20ucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZT0hMSx0aGlzLl9kb20ub3ZlcmxheS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLl9kb20uY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXMtYWN0aXZlXCIpLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLl9lc2NMaXN0ZW5lciksdGhpcy5lbWl0KFwiY2hhbmdlXCIpLHRoaXMuZW1pdChcImRlYWN0aXZhdGVcIil9LENtLnByb3RvdHlwZS5fb25UYXBPdmVybGF5PWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZhdGUoKSx0LnNyY0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpfTt2YXIgU209L14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaSxUbT0vXiM/KFthLWZcXGRdKShbYS1mXFxkXSkoW2EtZlxcZF0pJC9pLE1tPS9ecmdiXFwoICooMT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkgKiwgKigxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSAqLCAqKDE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pICpcXCkkL2ksUG09L15yZ2JhXFwoICooMT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkgKiwgKigxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSAqLCAqKDE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pICosICooWzAxXXwwP1xcLlxcZCspICpcXCkkL2k7ZnVuY3Rpb24gRG0odCl7aWYodClmb3IoOyEwPT09dC5oYXNDaGlsZE5vZGVzKCk7KXt2YXIgZT10LmZpcnN0Q2hpbGQ7ZSYmKERtKGUpLHQucmVtb3ZlQ2hpbGQoZSkpfX1mdW5jdGlvbiBJbSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFN0cmluZ3x8XCJzdHJpbmdcIj09dHlwZW9mIHR9ZnVuY3Rpb24gQm0odCl7cmV0dXJuXCJvYmplY3RcIj09PWd1KHQpJiZudWxsIT09dH1mdW5jdGlvbiBGbSh0LGUsaSxvKXt2YXIgbj0hMTshMD09PW8mJihuPW51bGw9PT1lW2ldJiZ2b2lkIDAhPT10W2ldKSxuP2RlbGV0ZSB0W2ldOnRbaV09ZVtpXX1mdW5jdGlvbiB6bSh0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07Zm9yKHZhciBvIGluIHQpaWYodm9pZCAwIT09ZVtvXSlpZihudWxsPT09ZVtvXXx8XCJvYmplY3RcIiE9PWd1KGVbb10pKUZtKHQsZSxvLGkpO2Vsc2V7dmFyIG49dFtvXSxyPWVbb107Qm0obikmJkJtKHIpJiZ6bShuLHIsaSl9fWZ1bmN0aW9uIE5tKHQsZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdO2lmKE9mKGkpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZFwiKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxyKSlpZihpW3JdJiZpW3JdLmNvbnN0cnVjdG9yPT09T2JqZWN0KXZvaWQgMD09PWVbcl0mJihlW3JdPXt9KSxlW3JdLmNvbnN0cnVjdG9yPT09T2JqZWN0P1JtKGVbcl0saVtyXSwhMSxvKTpGbShlLGkscixvKTtlbHNle2lmKE9mKGlbcl0pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgZGVlcEV4dGVuZFwiKTtGbShlLGkscixvKX19cmV0dXJuIGV9ZnVuY3Rpb24gQW0odCxlLGkpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107aWYoT2YoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5cyBhcmUgbm90IHN1cHBvcnRlZCBieSBkZWVwRXh0ZW5kXCIpO2Zvcih2YXIgbiBpbiBpKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG4pJiYhUXAodCkuY2FsbCh0LG4pKWlmKGlbbl0mJmlbbl0uY29uc3RydWN0b3I9PT1PYmplY3Qpdm9pZCAwPT09ZVtuXSYmKGVbbl09e30pLGVbbl0uY29uc3RydWN0b3I9PT1PYmplY3Q/Um0oZVtuXSxpW25dKTpGbShlLGksbixvKTtlbHNlIGlmKE9mKGlbbl0pKXtlW25dPVtdO2Zvcih2YXIgcj0wO3I8aVtuXS5sZW5ndGg7cisrKWVbbl0ucHVzaChpW25dW3JdKX1lbHNlIEZtKGUsaSxuLG8pO3JldHVybiBlfWZ1bmN0aW9uIFJtKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXSxvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM107Zm9yKHZhciBuIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbil8fCEwPT09aSlpZihcIm9iamVjdFwiPT09Z3UoZVtuXSkmJm51bGwhPT1lW25dJiZvdihlW25dKT09PU9iamVjdC5wcm90b3R5cGUpdm9pZCAwPT09dFtuXT90W25dPVJtKHt9LGVbbl0saSk6XCJvYmplY3RcIj09PWd1KHRbbl0pJiZudWxsIT09dFtuXSYmb3YodFtuXSk9PT1PYmplY3QucHJvdG90eXBlP1JtKHRbbl0sZVtuXSxpKTpGbSh0LGUsbixvKTtlbHNlIGlmKE9mKGVbbl0pKXt2YXIgcjt0W25dPW1mKHI9ZVtuXSkuY2FsbChyKX1lbHNlIEZtKHQsZSxuLG8pO3JldHVybiB0fWZ1bmN0aW9uIGptKHQsZSl7dmFyIGk7cmV0dXJuIHlmKGk9W10pLmNhbGwoaSxsZih0KSxbZV0pfWZ1bmN0aW9uIExtKHQpe3JldHVybiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcH1mdW5jdGlvbiBIbSh0LGUpe2lmKE9mKHQpKWZvcih2YXIgaT10Lmxlbmd0aCxvPTA7bzxpO28rKyllKHRbb10sbyx0KTtlbHNlIGZvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiZlKHRbbl0sbix0KX1mdW5jdGlvbiBXbSh0KXt2YXIgZTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMzpjYXNlIDQ6cmV0dXJuKGU9VG0uZXhlYyh0KSk/e3I6SXYoZVsxXStlWzFdLDE2KSxnOkl2KGVbMl0rZVsyXSwxNiksYjpJdihlWzNdK2VbM10sMTYpfTpudWxsO2Nhc2UgNjpjYXNlIDc6cmV0dXJuKGU9U20uZXhlYyh0KSk/e3I6SXYoZVsxXSwxNiksZzpJdihlWzJdLDE2KSxiOkl2KGVbM10sMTYpfTpudWxsO2RlZmF1bHQ6cmV0dXJuIG51bGx9fWZ1bmN0aW9uIFZtKHQsZSl7aWYoUXAodCkuY2FsbCh0LFwicmdiYVwiKSlyZXR1cm4gdDtpZihRcCh0KS5jYWxsKHQsXCJyZ2JcIikpe3ZhciBpPXQuc3Vic3RyKFZ2KHQpLmNhbGwodCxcIihcIikrMSkucmVwbGFjZShcIilcIixcIlwiKS5zcGxpdChcIixcIik7cmV0dXJuXCJyZ2JhKFwiK2lbMF0rXCIsXCIraVsxXStcIixcIitpWzJdK1wiLFwiK2UrXCIpXCJ9dmFyIG89V20odCk7cmV0dXJuIG51bGw9PW8/dDpcInJnYmEoXCIrby5yK1wiLFwiK28uZytcIixcIitvLmIrXCIsXCIrZStcIilcIn1mdW5jdGlvbiBxbSh0LGUsaSl7dmFyIG87cmV0dXJuXCIjXCIrbWYobz0oKDE8PDI0KSsodDw8MTYpKyhlPDw4KStpKS50b1N0cmluZygxNikpLmNhbGwobywxKX1mdW5jdGlvbiBVbSh0LGUpe2lmKEltKHQpKXt2YXIgaT10O2lmKCRtKGkpKXt2YXIgbyxuPUlmKG89aS5zdWJzdHIoNCkuc3Vic3RyKDAsaS5sZW5ndGgtNSkuc3BsaXQoXCIsXCIpKS5jYWxsKG8sKGZ1bmN0aW9uKHQpe3JldHVybiBJdih0KX0pKTtpPXFtKG5bMF0sblsxXSxuWzJdKX1pZighMD09PUdtKGkpKXt2YXIgcj1mdW5jdGlvbih0KXt2YXIgZT1XbSh0KTtpZighZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiJ1wiLmNvbmNhdCh0LFwiJyBpcyBub3QgYSB2YWxpZCBjb2xvci5cIikpO3JldHVybiBZbShlLnIsZS5nLGUuYil9KGkpLHM9e2g6ci5oLHM6Ljgqci5zLHY6TWF0aC5taW4oMSwxLjAyKnIudil9LGE9e2g6ci5oLHM6TWF0aC5taW4oMSwxLjI1KnIucyksdjouOCpyLnZ9LGg9S20oYS5oLGEucyxhLnYpLGQ9S20ocy5oLHMucyxzLnYpO3JldHVybntiYWNrZ3JvdW5kOmksYm9yZGVyOmgsaGlnaGxpZ2h0OntiYWNrZ3JvdW5kOmQsYm9yZGVyOmh9LGhvdmVyOntiYWNrZ3JvdW5kOmQsYm9yZGVyOmh9fX1yZXR1cm57YmFja2dyb3VuZDppLGJvcmRlcjppLGhpZ2hsaWdodDp7YmFja2dyb3VuZDppLGJvcmRlcjppfSxob3Zlcjp7YmFja2dyb3VuZDppLGJvcmRlcjppfX19cmV0dXJuIGU/e2JhY2tncm91bmQ6dC5iYWNrZ3JvdW5kfHxlLmJhY2tncm91bmQsYm9yZGVyOnQuYm9yZGVyfHxlLmJvcmRlcixoaWdobGlnaHQ6SW0odC5oaWdobGlnaHQpP3tib3JkZXI6dC5oaWdobGlnaHQsYmFja2dyb3VuZDp0LmhpZ2hsaWdodH06e2JhY2tncm91bmQ6dC5oaWdobGlnaHQmJnQuaGlnaGxpZ2h0LmJhY2tncm91bmR8fGUuaGlnaGxpZ2h0LmJhY2tncm91bmQsYm9yZGVyOnQuaGlnaGxpZ2h0JiZ0LmhpZ2hsaWdodC5ib3JkZXJ8fGUuaGlnaGxpZ2h0LmJvcmRlcn0saG92ZXI6SW0odC5ob3Zlcik/e2JvcmRlcjp0LmhvdmVyLGJhY2tncm91bmQ6dC5ob3Zlcn06e2JvcmRlcjp0LmhvdmVyJiZ0LmhvdmVyLmJvcmRlcnx8ZS5ob3Zlci5ib3JkZXIsYmFja2dyb3VuZDp0LmhvdmVyJiZ0LmhvdmVyLmJhY2tncm91bmR8fGUuaG92ZXIuYmFja2dyb3VuZH19OntiYWNrZ3JvdW5kOnQuYmFja2dyb3VuZHx8dm9pZCAwLGJvcmRlcjp0LmJvcmRlcnx8dm9pZCAwLGhpZ2hsaWdodDpJbSh0LmhpZ2hsaWdodCk/e2JvcmRlcjp0LmhpZ2hsaWdodCxiYWNrZ3JvdW5kOnQuaGlnaGxpZ2h0fTp7YmFja2dyb3VuZDp0LmhpZ2hsaWdodCYmdC5oaWdobGlnaHQuYmFja2dyb3VuZHx8dm9pZCAwLGJvcmRlcjp0LmhpZ2hsaWdodCYmdC5oaWdobGlnaHQuYm9yZGVyfHx2b2lkIDB9LGhvdmVyOkltKHQuaG92ZXIpP3tib3JkZXI6dC5ob3ZlcixiYWNrZ3JvdW5kOnQuaG92ZXJ9Ontib3JkZXI6dC5ob3ZlciYmdC5ob3Zlci5ib3JkZXJ8fHZvaWQgMCxiYWNrZ3JvdW5kOnQuaG92ZXImJnQuaG92ZXIuYmFja2dyb3VuZHx8dm9pZCAwfX19ZnVuY3Rpb24gWW0odCxlLGkpe3QvPTI1NSxlLz0yNTUsaS89MjU1O3ZhciBvPU1hdGgubWluKHQsTWF0aC5taW4oZSxpKSksbj1NYXRoLm1heCh0LE1hdGgubWF4KGUsaSkpO3JldHVybiBvPT09bj97aDowLHM6MCx2Om99OntoOjYwKigodD09PW8/MzppPT09bz8xOjUpLSh0PT09bz9lLWk6aT09PW8/dC1lOmktdCkvKG4tbykpLzM2MCxzOihuLW8pL24sdjpufX1mdW5jdGlvbiBYbSh0LGUsaSl7dmFyIG8sbixyLHM9TWF0aC5mbG9vcig2KnQpLGE9Nip0LXMsaD1pKigxLWUpLGQ9aSooMS1hKmUpLGw9aSooMS0oMS1hKSplKTtzd2l0Y2gocyU2KXtjYXNlIDA6bz1pLG49bCxyPWg7YnJlYWs7Y2FzZSAxOm89ZCxuPWkscj1oO2JyZWFrO2Nhc2UgMjpvPWgsbj1pLHI9bDticmVhaztjYXNlIDM6bz1oLG49ZCxyPWk7YnJlYWs7Y2FzZSA0Om89bCxuPWgscj1pO2JyZWFrO2Nhc2UgNTpvPWksbj1oLHI9ZH1yZXR1cm57cjpNYXRoLmZsb29yKDI1NSpvKSxnOk1hdGguZmxvb3IoMjU1Km4pLGI6TWF0aC5mbG9vcigyNTUqcil9fWZ1bmN0aW9uIEttKHQsZSxpKXt2YXIgbz1YbSh0LGUsaSk7cmV0dXJuIHFtKG8ucixvLmcsby5iKX1mdW5jdGlvbiBHbSh0KXtyZXR1cm4vKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdCh0KX1mdW5jdGlvbiAkbSh0KXtyZXR1cm4gTW0udGVzdCh0KX1mdW5jdGlvbiBabSh0KXtpZihudWxsPT09dHx8XCJvYmplY3RcIiE9PWd1KHQpKXJldHVybiBudWxsO2lmKHQgaW5zdGFuY2VvZiBFbGVtZW50KXJldHVybiB0O3ZhciBlPVl2KHQpO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiZcIm9iamVjdFwiPT1ndSh0W2ldKSYmKGVbaV09Wm0odFtpXSkpO3JldHVybiBlfWZ1bmN0aW9uIFFtKHQsZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30sbj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dH0scj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PT1ndSh0KX07aWYoIXIodCkpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1ldGVyIG1lcmdlVGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKCFyKGUpKXRocm93IG5ldyBFcnJvcihcIlBhcmFtZXRlciBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0XCIpO2lmKCFuKGkpKXRocm93IG5ldyBFcnJvcihcIlBhcmFtZXRlciBvcHRpb24gbXVzdCBoYXZlIGEgdmFsdWVcIik7aWYoIXIobykpdGhyb3cgbmV3IEVycm9yKFwiUGFyYW1ldGVyIGdsb2JhbE9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIik7dmFyIHM9ZVtpXSxhPXIobykmJiFmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSlyZXR1cm4hMTtyZXR1cm4hMH0obyk/b1tpXTp2b2lkIDAsaD1hP2EuZW5hYmxlZDp2b2lkIDA7aWYodm9pZCAwIT09cyl7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBzKXJldHVybiByKHRbaV0pfHwodFtpXT17fSksdm9pZCh0W2ldLmVuYWJsZWQ9cyk7aWYobnVsbD09PXMmJiFyKHRbaV0pKXtpZighbihhKSlyZXR1cm47dFtpXT1ZdihhKX1pZihyKHMpKXt2YXIgZD0hMDt2b2lkIDAhPT1zLmVuYWJsZWQ/ZD1zLmVuYWJsZWQ6dm9pZCAwIT09aCYmKGQ9YS5lbmFibGVkKSxmdW5jdGlvbih0LGUsaSl7cih0W2ldKXx8KHRbaV09e30pO3ZhciBvPWVbaV0sbj10W2ldO2Zvcih2YXIgcyBpbiBvKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLHMpJiYobltzXT1vW3NdKX0odCxlLGkpLHRbaV0uZW5hYmxlZD1kfX19dmFyIEptPXtsaW5lYXI6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGVhc2VJblF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdH0sZWFzZU91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqKDItdCl9LGVhc2VJbk91dFF1YWQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/Mip0KnQ6KDQtMip0KSp0LTF9LGVhc2VJbkN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiB0KnQqdH0sZWFzZU91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybi0tdCp0KnQrMX0sZWFzZUluT3V0Q3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/NCp0KnQqdDoodC0xKSooMip0LTIpKigyKnQtMikrMX0sZWFzZUluUXVhcnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnR9LGVhc2VPdXRRdWFydDpmdW5jdGlvbih0KXtyZXR1cm4gMS0gLS10KnQqdCp0fSxlYXNlSW5PdXRRdWFydDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT84KnQqdCp0KnQ6MS04Ki0tdCp0KnQqdH0sZWFzZUluUXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0KnQqdH0sZWFzZU91dFF1aW50OmZ1bmN0aW9uKHQpe3JldHVybiAxKy0tdCp0KnQqdCp0fSxlYXNlSW5PdXRRdWludDpmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT8xNip0KnQqdCp0KnQ6MSsxNiotLXQqdCp0KnQqdH19O2Z1bmN0aW9uIHRiKHQsZSl7dmFyIGk7T2YoZSl8fChlPVtlXSk7dmFyIG8sbj1fbSh0KTt0cnl7Zm9yKG4ucygpOyEobz1uLm4oKSkuZG9uZTspe3ZhciByPW8udmFsdWU7aWYocil7aT1yW2VbMF1dO2Zvcih2YXIgcz0xO3M8ZS5sZW5ndGg7cysrKWkmJihpPWlbZVtzXV0pO2lmKHZvaWQgMCE9PWkpYnJlYWt9fX1jYXRjaCh0KXtuLmUodCl9ZmluYWxseXtuLmYoKX1yZXR1cm4gaX12YXIgZWI9e2JsYWNrOlwiIzAwMDAwMFwiLG5hdnk6XCIjMDAwMDgwXCIsZGFya2JsdWU6XCIjMDAwMDhCXCIsbWVkaXVtYmx1ZTpcIiMwMDAwQ0RcIixibHVlOlwiIzAwMDBGRlwiLGRhcmtncmVlbjpcIiMwMDY0MDBcIixncmVlbjpcIiMwMDgwMDBcIix0ZWFsOlwiIzAwODA4MFwiLGRhcmtjeWFuOlwiIzAwOEI4QlwiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLGRhcmt0dXJxdW9pc2U6XCIjMDBDRUQxXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBGQTlBXCIsbGltZTpcIiMwMEZGMDBcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixhcXVhOlwiIzAwRkZGRlwiLGN5YW46XCIjMDBGRkZGXCIsbWlkbmlnaHRibHVlOlwiIzE5MTk3MFwiLGRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsbGlnaHRzZWFncmVlbjpcIiMyMEIyQUFcIixmb3Jlc3RncmVlbjpcIiMyMjhCMjJcIixzZWFncmVlbjpcIiMyRThCNTdcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIix0dXJxdW9pc2U6XCIjNDBFMEQwXCIscm95YWxibHVlOlwiIzQxNjlFMVwiLHN0ZWVsYmx1ZTpcIiM0NjgyQjRcIixkYXJrc2xhdGVibHVlOlwiIzQ4M0Q4QlwiLG1lZGl1bXR1cnF1b2lzZTpcIiM0OEQxQ0NcIixpbmRpZ286XCIjNEIwMDgyXCIsZGFya29saXZlZ3JlZW46XCIjNTU2QjJGXCIsY2FkZXRibHVlOlwiIzVGOUVBMFwiLGNvcm5mbG93ZXJibHVlOlwiIzY0OTVFRFwiLG1lZGl1bWFxdWFtYXJpbmU6XCIjNjZDREFBXCIsZGltZ3JheTpcIiM2OTY5NjlcIixzbGF0ZWJsdWU6XCIjNkE1QUNEXCIsb2xpdmVkcmFiOlwiIzZCOEUyM1wiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN0I2OEVFXCIsbGF3bmdyZWVuOlwiIzdDRkMwMFwiLGNoYXJ0cmV1c2U6XCIjN0ZGRjAwXCIsYXF1YW1hcmluZTpcIiM3RkZGRDRcIixtYXJvb246XCIjODAwMDAwXCIscHVycGxlOlwiIzgwMDA4MFwiLG9saXZlOlwiIzgwODAwMFwiLGdyYXk6XCIjODA4MDgwXCIsc2t5Ymx1ZTpcIiM4N0NFRUJcIixsaWdodHNreWJsdWU6XCIjODdDRUZBXCIsYmx1ZXZpb2xldDpcIiM4QTJCRTJcIixkYXJrcmVkOlwiIzhCMDAwMFwiLGRhcmttYWdlbnRhOlwiIzhCMDA4QlwiLHNhZGRsZWJyb3duOlwiIzhCNDUxM1wiLGRhcmtzZWFncmVlbjpcIiM4RkJDOEZcIixsaWdodGdyZWVuOlwiIzkwRUU5MFwiLG1lZGl1bXB1cnBsZTpcIiM5MzcwRDhcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLHBhbGVncmVlbjpcIiM5OEZCOThcIixkYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLHllbGxvd2dyZWVuOlwiIzlBQ0QzMlwiLHNpZW5uYTpcIiNBMDUyMkRcIixicm93bjpcIiNBNTJBMkFcIixkYXJrZ3JheTpcIiNBOUE5QTlcIixsaWdodGJsdWU6XCIjQUREOEU2XCIsZ3JlZW55ZWxsb3c6XCIjQURGRjJGXCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixsaWdodHN0ZWVsYmx1ZTpcIiNCMEM0REVcIixwb3dkZXJibHVlOlwiI0IwRTBFNlwiLGZpcmVicmljazpcIiNCMjIyMjJcIixkYXJrZ29sZGVucm9kOlwiI0I4ODYwQlwiLG1lZGl1bW9yY2hpZDpcIiNCQTU1RDNcIixyb3N5YnJvd246XCIjQkM4RjhGXCIsZGFya2toYWtpOlwiI0JEQjc2QlwiLHNpbHZlcjpcIiNDMEMwQzBcIixtZWRpdW12aW9sZXRyZWQ6XCIjQzcxNTg1XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLHBlcnU6XCIjQ0Q4NTNGXCIsY2hvY29sYXRlOlwiI0QyNjkxRVwiLHRhbjpcIiNEMkI0OENcIixsaWdodGdyZXk6XCIjRDNEM0QzXCIscGFsZXZpb2xldHJlZDpcIiNEODcwOTNcIix0aGlzdGxlOlwiI0Q4QkZEOFwiLG9yY2hpZDpcIiNEQTcwRDZcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsY3JpbXNvbjpcIiNEQzE0M0NcIixnYWluc2Jvcm86XCIjRENEQ0RDXCIscGx1bTpcIiNEREEwRERcIixidXJseXdvb2Q6XCIjREVCODg3XCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxhdmVuZGVyOlwiI0U2RTZGQVwiLGRhcmtzYWxtb246XCIjRTk5NjdBXCIsdmlvbGV0OlwiI0VFODJFRVwiLHBhbGVnb2xkZW5yb2Q6XCIjRUVFOEFBXCIsbGlnaHRjb3JhbDpcIiNGMDgwODBcIixraGFraTpcIiNGMEU2OENcIixhbGljZWJsdWU6XCIjRjBGOEZGXCIsaG9uZXlkZXc6XCIjRjBGRkYwXCIsYXp1cmU6XCIjRjBGRkZGXCIsc2FuZHlicm93bjpcIiNGNEE0NjBcIix3aGVhdDpcIiNGNURFQjNcIixiZWlnZTpcIiNGNUY1RENcIix3aGl0ZXNtb2tlOlwiI0Y1RjVGNVwiLG1pbnRjcmVhbTpcIiNGNUZGRkFcIixnaG9zdHdoaXRlOlwiI0Y4RjhGRlwiLHNhbG1vbjpcIiNGQTgwNzJcIixhbnRpcXVld2hpdGU6XCIjRkFFQkQ3XCIsbGluZW46XCIjRkFGMEU2XCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCIjRkFGQUQyXCIsb2xkbGFjZTpcIiNGREY1RTZcIixyZWQ6XCIjRkYwMDAwXCIsZnVjaHNpYTpcIiNGRjAwRkZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIix0b21hdG86XCIjRkY2MzQ3XCIsaG90cGluazpcIiNGRjY5QjRcIixjb3JhbDpcIiNGRjdGNTBcIixkYXJrb3JhbmdlOlwiI0ZGOEMwMFwiLGxpZ2h0c2FsbW9uOlwiI0ZGQTA3QVwiLG9yYW5nZTpcIiNGRkE1MDBcIixsaWdodHBpbms6XCIjRkZCNkMxXCIscGluazpcIiNGRkMwQ0JcIixnb2xkOlwiI0ZGRDcwMFwiLHBlYWNocHVmZjpcIiNGRkRBQjlcIixuYXZham93aGl0ZTpcIiNGRkRFQURcIixtb2NjYXNpbjpcIiNGRkU0QjVcIixiaXNxdWU6XCIjRkZFNEM0XCIsbWlzdHlyb3NlOlwiI0ZGRTRFMVwiLGJsYW5jaGVkYWxtb25kOlwiI0ZGRUJDRFwiLHBhcGF5YXdoaXA6XCIjRkZFRkQ1XCIsbGF2ZW5kZXJibHVzaDpcIiNGRkYwRjVcIixzZWFzaGVsbDpcIiNGRkY1RUVcIixjb3Juc2lsazpcIiNGRkY4RENcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsZmxvcmFsd2hpdGU6XCIjRkZGQUYwXCIsc25vdzpcIiNGRkZBRkFcIix5ZWxsb3c6XCIjRkZGRjAwXCIsbGlnaHR5ZWxsb3c6XCIjRkZGRkUwXCIsaXZvcnk6XCIjRkZGRkYwXCIsd2hpdGU6XCIjRkZGRkZGXCJ9LGliPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxO3ZoKHRoaXMsdCksdGhpcy5waXhlbFJhdGlvPWUsdGhpcy5nZW5lcmF0ZWQ9ITEsdGhpcy5jZW50ZXJDb29yZGluYXRlcz17eDoxNDQuNSx5OjE0NC41fSx0aGlzLnI9Mjg5Ki40OSx0aGlzLmNvbG9yPXtyOjI1NSxnOjI1NSxiOjI1NSxhOjF9LHRoaXMuaHVlQ2lyY2xlPXZvaWQgMCx0aGlzLmluaXRpYWxDb2xvcj17cjoyNTUsZzoyNTUsYjoyNTUsYToxfSx0aGlzLnByZXZpb3VzQ29sb3I9dm9pZCAwLHRoaXMuYXBwbGllZD0hMSx0aGlzLnVwZGF0ZUNhbGxiYWNrPWZ1bmN0aW9uKCl7fSx0aGlzLmNsb3NlQ2FsbGJhY2s9ZnVuY3Rpb24oKXt9LHRoaXMuX2NyZWF0ZSgpfXJldHVybiB3dSh0LFt7a2V5OlwiaW5zZXJ0VG9cIix2YWx1ZTpmdW5jdGlvbih0KXt2b2lkIDAhPT10aGlzLmhhbW1lciYmKHRoaXMuaGFtbWVyLmRlc3Ryb3koKSx0aGlzLmhhbW1lcj12b2lkIDApLHRoaXMuY29udGFpbmVyPXQsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSksdGhpcy5fYmluZEhhbW1lcigpLHRoaXMuX3NldFNpemUoKX19LHtrZXk6XCJzZXRVcGRhdGVDYWxsYmFja1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gYXR0ZW1wdGVkIHRvIHNldCBhcyBjb2xvclBpY2tlciB1cGRhdGUgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpO3RoaXMudXBkYXRlQ2FsbGJhY2s9dH19LHtrZXk6XCJzZXRDbG9zZUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJGdW5jdGlvbiBhdHRlbXB0ZWQgdG8gc2V0IGFzIGNvbG9yUGlja2VyIGNsb3NpbmcgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb24uXCIpO3RoaXMuY2xvc2VDYWxsYmFjaz10fX0se2tleTpcIl9pc0NvbG9yU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGViW3RdfX0se2tleTpcInNldENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZihcIm5vbmVcIiE9PXQpe3ZhciBpLG89dGhpcy5faXNDb2xvclN0cmluZyh0KTtpZih2b2lkIDAhPT1vJiYodD1vKSwhMD09PUltKHQpKXtpZighMD09PSRtKHQpKXt2YXIgbj10LnN1YnN0cig0KS5zdWJzdHIoMCx0Lmxlbmd0aC01KS5zcGxpdChcIixcIik7aT17cjpuWzBdLGc6blsxXSxiOm5bMl0sYToxfX1lbHNlIGlmKCEwPT09ZnVuY3Rpb24odCl7cmV0dXJuIFBtLnRlc3QodCl9KHQpKXt2YXIgcj10LnN1YnN0cig1KS5zdWJzdHIoMCx0Lmxlbmd0aC02KS5zcGxpdChcIixcIik7aT17cjpyWzBdLGc6clsxXSxiOnJbMl0sYTpyWzNdfX1lbHNlIGlmKCEwPT09R20odCkpe3ZhciBzPVdtKHQpO2k9e3I6cy5yLGc6cy5nLGI6cy5iLGE6MX19fWVsc2UgaWYodCBpbnN0YW5jZW9mIE9iamVjdCYmdm9pZCAwIT09dC5yJiZ2b2lkIDAhPT10LmcmJnZvaWQgMCE9PXQuYil7dmFyIGE9dm9pZCAwIT09dC5hP3QuYTpcIjEuMFwiO2k9e3I6dC5yLGc6dC5nLGI6dC5iLGE6YX19aWYodm9pZCAwPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbG9yIHBhc3NlZCB0byB0aGUgY29sb3JQaWNrZXIuIFN1cHBvcnRlZCBhcmUgc3RyaW5nczogcmdiLCBoZXgsIHJnYmEuIE9iamVjdDogcmdiICh7cjpyLGc6ZyxiOmIsW2E6YV19KS4gU3VwcGxpZWQ6IFwiKyR2KHQpKTt0aGlzLl9zZXRDb2xvcihpLGUpfX19LHtrZXk6XCJzaG93XCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLmNsb3NlQ2FsbGJhY2smJih0aGlzLmNsb3NlQ2FsbGJhY2soKSx0aGlzLmNsb3NlQ2FsbGJhY2s9dm9pZCAwKSx0aGlzLmFwcGxpZWQ9ITEsdGhpcy5mcmFtZS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLl9nZW5lcmF0ZUh1ZUNpcmNsZSgpfX0se2tleTpcIl9oaWRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzOyEwPT09KCEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF0pJiYodGhpcy5wcmV2aW91c0NvbG9yPXdvKHt9LHRoaXMuY29sb3IpKSwhMD09PXRoaXMuYXBwbGllZCYmdGhpcy51cGRhdGVDYWxsYmFjayh0aGlzLmluaXRpYWxDb2xvciksdGhpcy5mcmFtZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHZnKChmdW5jdGlvbigpe3ZvaWQgMCE9PXQuY2xvc2VDYWxsYmFjayYmKHQuY2xvc2VDYWxsYmFjaygpLHQuY2xvc2VDYWxsYmFjaz12b2lkIDApfSksMCl9fSx7a2V5OlwiX3NhdmVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlQ2FsbGJhY2sodGhpcy5jb2xvciksdGhpcy5hcHBsaWVkPSExLHRoaXMuX2hpZGUoKX19LHtrZXk6XCJfYXBwbHlcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYXBwbGllZD0hMCx0aGlzLnVwZGF0ZUNhbGxiYWNrKHRoaXMuY29sb3IpLHRoaXMuX3VwZGF0ZVBpY2tlcih0aGlzLmNvbG9yKX19LHtrZXk6XCJfbG9hZExhc3RcIix2YWx1ZTpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMucHJldmlvdXNDb2xvcj90aGlzLnNldENvbG9yKHRoaXMucHJldmlvdXNDb2xvciwhMSk6YWxlcnQoXCJUaGVyZSBpcyBubyBsYXN0IGNvbG9yIHRvIGxvYWQuLi5cIil9fSx7a2V5OlwiX3NldENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7ITA9PT0oIShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSkmJih0aGlzLmluaXRpYWxDb2xvcj13byh7fSx0KSksdGhpcy5jb2xvcj10O3ZhciBlPVltKHQucix0LmcsdC5iKSxpPTIqTWF0aC5QSSxvPXRoaXMuciplLnMsbj10aGlzLmNlbnRlckNvb3JkaW5hdGVzLngrbypNYXRoLnNpbihpKmUuaCkscj10aGlzLmNlbnRlckNvb3JkaW5hdGVzLnkrbypNYXRoLmNvcyhpKmUuaCk7dGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLnN0eWxlLmxlZnQ9bi0uNSp0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xpZW50V2lkdGgrXCJweFwiLHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5zdHlsZS50b3A9ci0uNSp0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xpZW50SGVpZ2h0K1wicHhcIix0aGlzLl91cGRhdGVQaWNrZXIodCl9fSx7a2V5OlwiX3NldE9wYWNpdHlcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNvbG9yLmE9dC8xMDAsdGhpcy5fdXBkYXRlUGlja2VyKHRoaXMuY29sb3IpfX0se2tleTpcIl9zZXRCcmlnaHRuZXNzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9WW0odGhpcy5jb2xvci5yLHRoaXMuY29sb3IuZyx0aGlzLmNvbG9yLmIpO2Uudj10LzEwMDt2YXIgaT1YbShlLmgsZS5zLGUudik7aS5hPXRoaXMuY29sb3IuYSx0aGlzLmNvbG9yPWksdGhpcy5fdXBkYXRlUGlja2VyKCl9fSx7a2V5OlwiX3VwZGF0ZVBpY2tlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuY29sb3IsZT1ZbSh0LnIsdC5nLHQuYiksaT10aGlzLmNvbG9yUGlja2VyQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTt2b2lkIDA9PT10aGlzLnBpeGVsUmF0aW9uJiYodGhpcy5waXhlbFJhdGlvPSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkvKGkud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8aS5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHxpLm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8aS5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8aS5iYWNraW5nU3RvcmVQaXhlbFJhdGlvfHwxKSksaS5zZXRUcmFuc2Zvcm0odGhpcy5waXhlbFJhdGlvLDAsMCx0aGlzLnBpeGVsUmF0aW8sMCwwKTt2YXIgbz10aGlzLmNvbG9yUGlja2VyQ2FudmFzLmNsaWVudFdpZHRoLG49dGhpcy5jb2xvclBpY2tlckNhbnZhcy5jbGllbnRIZWlnaHQ7aS5jbGVhclJlY3QoMCwwLG8sbiksaS5wdXRJbWFnZURhdGEodGhpcy5odWVDaXJjbGUsMCwwKSxpLmZpbGxTdHlsZT1cInJnYmEoMCwwLDAsXCIrKDEtZS52KStcIilcIixpLmNpcmNsZSh0aGlzLmNlbnRlckNvb3JkaW5hdGVzLngsdGhpcy5jZW50ZXJDb29yZGluYXRlcy55LHRoaXMuciksQ2coaSkuY2FsbChpKSx0aGlzLmJyaWdodG5lc3NSYW5nZS52YWx1ZT0xMDAqZS52LHRoaXMub3BhY2l0eVJhbmdlLnZhbHVlPTEwMCp0LmEsdGhpcy5pbml0aWFsQ29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwicmdiYShcIit0aGlzLmluaXRpYWxDb2xvci5yK1wiLFwiK3RoaXMuaW5pdGlhbENvbG9yLmcrXCIsXCIrdGhpcy5pbml0aWFsQ29sb3IuYitcIixcIit0aGlzLmluaXRpYWxDb2xvci5hK1wiKVwiLHRoaXMubmV3Q29sb3JEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwicmdiYShcIit0aGlzLmNvbG9yLnIrXCIsXCIrdGhpcy5jb2xvci5nK1wiLFwiK3RoaXMuY29sb3IuYitcIixcIit0aGlzLmNvbG9yLmErXCIpXCJ9fSx7a2V5OlwiX3NldFNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29sb3JQaWNrZXJDYW52YXMuc3R5bGUud2lkdGg9XCIxMDAlXCIsdGhpcy5jb2xvclBpY2tlckNhbnZhcy5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5jb2xvclBpY2tlckNhbnZhcy53aWR0aD0yODkqdGhpcy5waXhlbFJhdGlvLHRoaXMuY29sb3JQaWNrZXJDYW52YXMuaGVpZ2h0PTI4OSp0aGlzLnBpeGVsUmF0aW99fSx7a2V5OlwiX2NyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG87aWYodGhpcy5mcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZnJhbWUuY2xhc3NOYW1lPVwidmlzLWNvbG9yLXBpY2tlclwiLHRoaXMuY29sb3JQaWNrZXJEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IuY2xhc3NOYW1lPVwidmlzLXNlbGVjdG9yXCIsdGhpcy5jb2xvclBpY2tlckRpdi5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yUGlja2VyU2VsZWN0b3IpLHRoaXMuY29sb3JQaWNrZXJDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmNvbG9yUGlja2VyRGl2LmFwcGVuZENoaWxkKHRoaXMuY29sb3JQaWNrZXJDYW52YXMpLHRoaXMuY29sb3JQaWNrZXJDYW52YXMuZ2V0Q29udGV4dCl7dmFyIG49dGhpcy5jb2xvclBpY2tlckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dGhpcy5waXhlbFJhdGlvPSh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSkvKG4ud2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8bi5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvfHxuLm1zQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8bi5vQmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8bi5iYWNraW5nU3RvcmVQaXhlbFJhdGlvfHwxKSx0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKS5zZXRUcmFuc2Zvcm0odGhpcy5waXhlbFJhdGlvLDAsMCx0aGlzLnBpeGVsUmF0aW8sMCwwKX1lbHNle3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7ci5zdHlsZS5jb2xvcj1cInJlZFwiLHIuc3R5bGUuZm9udFdlaWdodD1cImJvbGRcIixyLnN0eWxlLnBhZGRpbmc9XCIxMHB4XCIsci5pbm5lclRleHQ9XCJFcnJvcjogeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgSFRNTCBjYW52YXNcIix0aGlzLmNvbG9yUGlja2VyQ2FudmFzLmFwcGVuZENoaWxkKHIpfXRoaXMuY29sb3JQaWNrZXJEaXYuY2xhc3NOYW1lPVwidmlzLWNvbG9yXCIsdGhpcy5vcGFjaXR5RGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5vcGFjaXR5RGl2LmNsYXNzTmFtZT1cInZpcy1vcGFjaXR5XCIsdGhpcy5icmlnaHRuZXNzRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5icmlnaHRuZXNzRGl2LmNsYXNzTmFtZT1cInZpcy1icmlnaHRuZXNzXCIsdGhpcy5hcnJvd0Rpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYXJyb3dEaXYuY2xhc3NOYW1lPVwidmlzLWFycm93XCIsdGhpcy5vcGFjaXR5UmFuZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3RyeXt0aGlzLm9wYWNpdHlSYW5nZS50eXBlPVwicmFuZ2VcIix0aGlzLm9wYWNpdHlSYW5nZS5taW49XCIwXCIsdGhpcy5vcGFjaXR5UmFuZ2UubWF4PVwiMTAwXCJ9Y2F0Y2godCl7fXRoaXMub3BhY2l0eVJhbmdlLnZhbHVlPVwiMTAwXCIsdGhpcy5vcGFjaXR5UmFuZ2UuY2xhc3NOYW1lPVwidmlzLXJhbmdlXCIsdGhpcy5icmlnaHRuZXNzUmFuZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO3RyeXt0aGlzLmJyaWdodG5lc3NSYW5nZS50eXBlPVwicmFuZ2VcIix0aGlzLmJyaWdodG5lc3NSYW5nZS5taW49XCIwXCIsdGhpcy5icmlnaHRuZXNzUmFuZ2UubWF4PVwiMTAwXCJ9Y2F0Y2godCl7fXRoaXMuYnJpZ2h0bmVzc1JhbmdlLnZhbHVlPVwiMTAwXCIsdGhpcy5icmlnaHRuZXNzUmFuZ2UuY2xhc3NOYW1lPVwidmlzLXJhbmdlXCIsdGhpcy5vcGFjaXR5RGl2LmFwcGVuZENoaWxkKHRoaXMub3BhY2l0eVJhbmdlKSx0aGlzLmJyaWdodG5lc3NEaXYuYXBwZW5kQ2hpbGQodGhpcy5icmlnaHRuZXNzUmFuZ2UpO3ZhciBzPXRoaXM7dGhpcy5vcGFjaXR5UmFuZ2Uub25jaGFuZ2U9ZnVuY3Rpb24oKXtzLl9zZXRPcGFjaXR5KHRoaXMudmFsdWUpfSx0aGlzLm9wYWNpdHlSYW5nZS5vbmlucHV0PWZ1bmN0aW9uKCl7cy5fc2V0T3BhY2l0eSh0aGlzLnZhbHVlKX0sdGhpcy5icmlnaHRuZXNzUmFuZ2Uub25jaGFuZ2U9ZnVuY3Rpb24oKXtzLl9zZXRCcmlnaHRuZXNzKHRoaXMudmFsdWUpfSx0aGlzLmJyaWdodG5lc3NSYW5nZS5vbmlucHV0PWZ1bmN0aW9uKCl7cy5fc2V0QnJpZ2h0bmVzcyh0aGlzLnZhbHVlKX0sdGhpcy5icmlnaHRuZXNzTGFiZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmJyaWdodG5lc3NMYWJlbC5jbGFzc05hbWU9XCJ2aXMtbGFiZWwgdmlzLWJyaWdodG5lc3NcIix0aGlzLmJyaWdodG5lc3NMYWJlbC5pbm5lclRleHQ9XCJicmlnaHRuZXNzOlwiLHRoaXMub3BhY2l0eUxhYmVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5vcGFjaXR5TGFiZWwuY2xhc3NOYW1lPVwidmlzLWxhYmVsIHZpcy1vcGFjaXR5XCIsdGhpcy5vcGFjaXR5TGFiZWwuaW5uZXJUZXh0PVwib3BhY2l0eTpcIix0aGlzLm5ld0NvbG9yRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5uZXdDb2xvckRpdi5jbGFzc05hbWU9XCJ2aXMtbmV3LWNvbG9yXCIsdGhpcy5uZXdDb2xvckRpdi5pbm5lclRleHQ9XCJuZXdcIix0aGlzLmluaXRpYWxDb2xvckRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuaW5pdGlhbENvbG9yRGl2LmNsYXNzTmFtZT1cInZpcy1pbml0aWFsLWNvbG9yXCIsdGhpcy5pbml0aWFsQ29sb3JEaXYuaW5uZXJUZXh0PVwiaW5pdGlhbFwiLHRoaXMuY2FuY2VsQnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5jYW5jZWxCdXR0b24uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiB2aXMtY2FuY2VsXCIsdGhpcy5jYW5jZWxCdXR0b24uaW5uZXJUZXh0PVwiY2FuY2VsXCIsdGhpcy5jYW5jZWxCdXR0b24ub25jbGljaz1Xbyh0PXRoaXMuX2hpZGUpLmNhbGwodCx0aGlzLCExKSx0aGlzLmFwcGx5QnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5hcHBseUJ1dHRvbi5jbGFzc05hbWU9XCJ2aXMtYnV0dG9uIHZpcy1hcHBseVwiLHRoaXMuYXBwbHlCdXR0b24uaW5uZXJUZXh0PVwiYXBwbHlcIix0aGlzLmFwcGx5QnV0dG9uLm9uY2xpY2s9V28oZT10aGlzLl9hcHBseSkuY2FsbChlLHRoaXMpLHRoaXMuc2F2ZUJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuc2F2ZUJ1dHRvbi5jbGFzc05hbWU9XCJ2aXMtYnV0dG9uIHZpcy1zYXZlXCIsdGhpcy5zYXZlQnV0dG9uLmlubmVyVGV4dD1cInNhdmVcIix0aGlzLnNhdmVCdXR0b24ub25jbGljaz1XbyhpPXRoaXMuX3NhdmUpLmNhbGwoaSx0aGlzKSx0aGlzLmxvYWRCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmxvYWRCdXR0b24uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiB2aXMtbG9hZFwiLHRoaXMubG9hZEJ1dHRvbi5pbm5lclRleHQ9XCJsb2FkIGxhc3RcIix0aGlzLmxvYWRCdXR0b24ub25jbGljaz1XbyhvPXRoaXMuX2xvYWRMYXN0KS5jYWxsKG8sdGhpcyksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLmNvbG9yUGlja2VyRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dEaXYpLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5icmlnaHRuZXNzTGFiZWwpLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5icmlnaHRuZXNzRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMub3BhY2l0eUxhYmVsKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMub3BhY2l0eURpdiksdGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0aGlzLm5ld0NvbG9yRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuaW5pdGlhbENvbG9yRGl2KSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2FuY2VsQnV0dG9uKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuYXBwbHlCdXR0b24pLHRoaXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5zYXZlQnV0dG9uKSx0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMubG9hZEJ1dHRvbil9fSx7a2V5OlwiX2JpbmRIYW1tZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5kcmFnPXt9LHRoaXMucGluY2g9e30sdGhpcy5oYW1tZXI9bmV3IE9tKHRoaXMuY29sb3JQaWNrZXJDYW52YXMpLHRoaXMuaGFtbWVyLmdldChcInBpbmNoXCIpLnNldCh7ZW5hYmxlOiEwfSksdGhpcy5oYW1tZXIub24oXCJoYW1tZXIuaW5wdXRcIiwoZnVuY3Rpb24oZSl7ZS5pc0ZpcnN0JiZ0Ll9tb3ZlU2VsZWN0b3IoZSl9KSksdGhpcy5oYW1tZXIub24oXCJ0YXBcIiwoZnVuY3Rpb24oZSl7dC5fbW92ZVNlbGVjdG9yKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicGFuc3RhcnRcIiwoZnVuY3Rpb24oZSl7dC5fbW92ZVNlbGVjdG9yKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicGFubW92ZVwiLChmdW5jdGlvbihlKXt0Ll9tb3ZlU2VsZWN0b3IoZSl9KSksdGhpcy5oYW1tZXIub24oXCJwYW5lbmRcIiwoZnVuY3Rpb24oZSl7dC5fbW92ZVNlbGVjdG9yKGUpfSkpfX0se2tleTpcIl9nZW5lcmF0ZUh1ZUNpcmNsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoITE9PT10aGlzLmdlbmVyYXRlZCl7dmFyIHQ9dGhpcy5jb2xvclBpY2tlckNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dm9pZCAwPT09dGhpcy5waXhlbFJhdGlvbiYmKHRoaXMucGl4ZWxSYXRpbz0od2luZG93LmRldmljZVBpeGVsUmF0aW98fDEpLyh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8MSkpLHQuc2V0VHJhbnNmb3JtKHRoaXMucGl4ZWxSYXRpbywwLDAsdGhpcy5waXhlbFJhdGlvLDAsMCk7dmFyIGUsaSxvLG4scj10aGlzLmNvbG9yUGlja2VyQ2FudmFzLmNsaWVudFdpZHRoLHM9dGhpcy5jb2xvclBpY2tlckNhbnZhcy5jbGllbnRIZWlnaHQ7dC5jbGVhclJlY3QoMCwwLHIscyksdGhpcy5jZW50ZXJDb29yZGluYXRlcz17eDouNSpyLHk6LjUqc30sdGhpcy5yPS40OSpyO3ZhciBhLGg9MipNYXRoLlBJLzM2MCxkPTEvdGhpcy5yO2ZvcihvPTA7bzwzNjA7bysrKWZvcihuPTA7bjx0aGlzLnI7bisrKWU9dGhpcy5jZW50ZXJDb29yZGluYXRlcy54K24qTWF0aC5zaW4oaCpvKSxpPXRoaXMuY2VudGVyQ29vcmRpbmF0ZXMueStuKk1hdGguY29zKGgqbyksYT1YbSguMDAyNzc3Nzc3Nzc3Nzc3Nzc4Km8sbipkLDEpLHQuZmlsbFN0eWxlPVwicmdiKFwiK2EucitcIixcIithLmcrXCIsXCIrYS5iK1wiKVwiLHQuZmlsbFJlY3QoZS0uNSxpLS41LDIsMik7dC5zdHJva2VTdHlsZT1cInJnYmEoMCwwLDAsMSlcIix0LmNpcmNsZSh0aGlzLmNlbnRlckNvb3JkaW5hdGVzLngsdGhpcy5jZW50ZXJDb29yZGluYXRlcy55LHRoaXMuciksdC5zdHJva2UoKSx0aGlzLmh1ZUNpcmNsZT10LmdldEltYWdlRGF0YSgwLDAscixzKX10aGlzLmdlbmVyYXRlZD0hMH19LHtrZXk6XCJfbW92ZVNlbGVjdG9yXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb2xvclBpY2tlckRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPXQuY2VudGVyLngtZS5sZWZ0LG89dC5jZW50ZXIueS1lLnRvcCxuPS41KnRoaXMuY29sb3JQaWNrZXJEaXYuY2xpZW50SGVpZ2h0LHI9LjUqdGhpcy5jb2xvclBpY2tlckRpdi5jbGllbnRXaWR0aCxzPWktcixhPW8tbixoPU1hdGguYXRhbjIocyxhKSxkPS45OCpNYXRoLm1pbihNYXRoLnNxcnQocypzK2EqYSksciksbD1NYXRoLmNvcyhoKSpkK24sYz1NYXRoLnNpbihoKSpkK3I7dGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLnN0eWxlLnRvcD1sLS41KnRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5jbGllbnRIZWlnaHQrXCJweFwiLHRoaXMuY29sb3JQaWNrZXJTZWxlY3Rvci5zdHlsZS5sZWZ0PWMtLjUqdGhpcy5jb2xvclBpY2tlclNlbGVjdG9yLmNsaWVudFdpZHRoK1wicHhcIjt2YXIgdT1oLygyKk1hdGguUEkpO3U9dTwwP3UrMTp1O3ZhciBmPWQvdGhpcy5yLHA9WW0odGhpcy5jb2xvci5yLHRoaXMuY29sb3IuZyx0aGlzLmNvbG9yLmIpO3AuaD11LHAucz1mO3ZhciB2PVhtKHAuaCxwLnMscC52KTt2LmE9dGhpcy5jb2xvci5hLHRoaXMuY29sb3I9dix0aGlzLmluaXRpYWxDb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZ2JhKFwiK3RoaXMuaW5pdGlhbENvbG9yLnIrXCIsXCIrdGhpcy5pbml0aWFsQ29sb3IuZytcIixcIit0aGlzLmluaXRpYWxDb2xvci5iK1wiLFwiK3RoaXMuaW5pdGlhbENvbG9yLmErXCIpXCIsdGhpcy5uZXdDb2xvckRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJyZ2JhKFwiK3RoaXMuY29sb3IucitcIixcIit0aGlzLmNvbG9yLmcrXCIsXCIrdGhpcy5jb2xvci5iK1wiLFwiK3RoaXMuY29sb3IuYStcIilcIn19XSksdH0oKTtmdW5jdGlvbiBvYigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09YXJndW1lbnRzW2ldO2lmKGUubGVuZ3RoPDEpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXJndW1lbnRzLlwiKTtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGVbMF0pO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZVswXSk7cmV0dXJuIG8uYXBwZW5kQ2hpbGQob2IuYXBwbHkodm9pZCAwLGxmKG1mKGUpLmNhbGwoZSwxKSkpKSxvfXZhciBuYixyYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXToxLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOmZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZoKHRoaXMsdCksdGhpcy5wYXJlbnQ9ZSx0aGlzLmNoYW5nZWRPcHRpb25zPVtdLHRoaXMuY29udGFpbmVyPWksdGhpcy5hbGxvd0NyZWF0aW9uPSExLHRoaXMuaGlkZU9wdGlvbj1yLHRoaXMub3B0aW9ucz17fSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMucG9wdXBDb3VudGVyPTAsdGhpcy5kZWZhdWx0T3B0aW9ucz17ZW5hYmxlZDohMSxmaWx0ZXI6ITAsY29udGFpbmVyOnZvaWQgMCxzaG93QnV0dG9uOiEwfSx3byh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5jb25maWd1cmVPcHRpb25zPW8sdGhpcy5tb2R1bGVPcHRpb25zPXt9LHRoaXMuZG9tRWxlbWVudHM9W10sdGhpcy5wb3B1cERpdj17fSx0aGlzLnBvcHVwTGltaXQ9NSx0aGlzLnBvcHVwSGlzdG9yeT17fSx0aGlzLmNvbG9yUGlja2VyPW5ldyBpYihuKSx0aGlzLndyYXBwZXI9dm9pZCAwfXJldHVybiB3dSh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe3RoaXMucG9wdXBIaXN0b3J5PXt9LHRoaXMuX3JlbW92ZVBvcHVwKCk7dmFyIGU9ITA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpdGhpcy5vcHRpb25zLmZpbHRlcj10O2Vsc2UgaWYoT2YodCkpdGhpcy5vcHRpb25zLmZpbHRlcj10LmpvaW4oKTtlbHNlIGlmKFwib2JqZWN0XCI9PT1ndSh0KSl7aWYobnVsbD09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwib3B0aW9ucyBjYW5ub3QgYmUgbnVsbFwiKTt2b2lkIDAhPT10LmNvbnRhaW5lciYmKHRoaXMub3B0aW9ucy5jb250YWluZXI9dC5jb250YWluZXIpLHZvaWQgMCE9PWx2KHQpJiYodGhpcy5vcHRpb25zLmZpbHRlcj1sdih0KSksdm9pZCAwIT09dC5zaG93QnV0dG9uJiYodGhpcy5vcHRpb25zLnNob3dCdXR0b249dC5zaG93QnV0dG9uKSx2b2lkIDAhPT10LmVuYWJsZWQmJihlPXQuZW5hYmxlZCl9ZWxzZVwiYm9vbGVhblwiPT10eXBlb2YgdD8odGhpcy5vcHRpb25zLmZpbHRlcj0hMCxlPXQpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzLm9wdGlvbnMuZmlsdGVyPXQsZT0hMCk7ITE9PT1sdih0aGlzLm9wdGlvbnMpJiYoZT0hMSksdGhpcy5vcHRpb25zLmVuYWJsZWQ9ZX10aGlzLl9jbGVhbigpfX0se2tleTpcInNldE1vZHVsZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm1vZHVsZU9wdGlvbnM9dCwhMD09PXRoaXMub3B0aW9ucy5lbmFibGVkJiYodGhpcy5fY2xlYW4oKSx2b2lkIDAhPT10aGlzLm9wdGlvbnMuY29udGFpbmVyJiYodGhpcy5jb250YWluZXI9dGhpcy5vcHRpb25zLmNvbnRhaW5lciksdGhpcy5fY3JlYXRlKCkpfX0se2tleTpcIl9jcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2NsZWFuKCksdGhpcy5jaGFuZ2VkT3B0aW9ucz1bXTt2YXIgdD1sdih0aGlzLm9wdGlvbnMpLGU9MCxpPSExO2Zvcih2YXIgbyBpbiB0aGlzLmNvbmZpZ3VyZU9wdGlvbnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY29uZmlndXJlT3B0aW9ucyxvKSYmKHRoaXMuYWxsb3dDcmVhdGlvbj0hMSxpPSExLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/aT0oaT10KG8sW10pKXx8dGhpcy5faGFuZGxlT2JqZWN0KHRoaXMuY29uZmlndXJlT3B0aW9uc1tvXSxbb10sITApOiEwIT09dCYmLTE9PT1Wdih0KS5jYWxsKHQsbyl8fChpPSEwKSwhMSE9PWkmJih0aGlzLmFsbG93Q3JlYXRpb249ITAsZT4wJiZ0aGlzLl9tYWtlSXRlbShbXSksdGhpcy5fbWFrZUhlYWRlcihvKSx0aGlzLl9oYW5kbGVPYmplY3QodGhpcy5jb25maWd1cmVPcHRpb25zW29dLFtvXSkpLGUrKyk7dGhpcy5fbWFrZUJ1dHRvbigpLHRoaXMuX3B1c2goKX19LHtrZXk6XCJfcHVzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy53cmFwcGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy53cmFwcGVyLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uLXdyYXBwZXJcIix0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLndyYXBwZXIpO2Zvcih2YXIgdD0wO3Q8dGhpcy5kb21FbGVtZW50cy5sZW5ndGg7dCsrKXRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmRvbUVsZW1lbnRzW3RdKTt0aGlzLl9zaG93UG9wdXBJZk5lZWRlZCgpfX0se2tleTpcIl9jbGVhblwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLmRvbUVsZW1lbnRzLmxlbmd0aDt0KyspdGhpcy53cmFwcGVyLnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudHNbdF0pO3ZvaWQgMCE9PXRoaXMud3JhcHBlciYmKHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMud3JhcHBlciksdGhpcy53cmFwcGVyPXZvaWQgMCksdGhpcy5kb21FbGVtZW50cz1bXSx0aGlzLl9yZW1vdmVQb3B1cCgpfX0se2tleTpcIl9nZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLm1vZHVsZU9wdGlvbnMsaT0wO2k8dC5sZW5ndGg7aSsrKXtpZih2b2lkIDA9PT1lW3RbaV1dKXtlPXZvaWQgMDticmVha31lPWVbdFtpXV19cmV0dXJuIGV9fSx7a2V5OlwiX21ha2VJdGVtXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoITA9PT10aGlzLmFsbG93Q3JlYXRpb24pe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWl0ZW0gdmlzLWNvbmZpZy1zXCIrdC5sZW5ndGg7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkoaT4xP2ktMTowKSxuPTE7bjxpO24rKylvW24tMV09YXJndW1lbnRzW25dO3JldHVybiBRZihvKS5jYWxsKG8sKGZ1bmN0aW9uKHQpe2UuYXBwZW5kQ2hpbGQodCl9KSksdGhpcy5kb21FbGVtZW50cy5wdXNoKGUpLHRoaXMuZG9tRWxlbWVudHMubGVuZ3RofXJldHVybiAwfX0se2tleTpcIl9tYWtlSGVhZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctaGVhZGVyXCIsZS5pbm5lclRleHQ9dCx0aGlzLl9tYWtlSXRlbShbXSxlKX19LHtrZXk6XCJfbWFrZUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihvLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctbGFiZWwgdmlzLWNvbmZpZy1zXCIrZS5sZW5ndGgsITA9PT1pKXtmb3IoO28uZmlyc3RDaGlsZDspby5yZW1vdmVDaGlsZChvLmZpcnN0Q2hpbGQpO28uYXBwZW5kQ2hpbGQob2IoXCJpXCIsXCJiXCIsdCkpfWVsc2Ugby5pbm5lclRleHQ9dCtcIjpcIjtyZXR1cm4gb319LHtrZXk6XCJfbWFrZURyb3Bkb3duXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7by5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLXNlbGVjdFwiO3ZhciBuPTA7dm9pZCAwIT09ZSYmLTEhPT1Wdih0KS5jYWxsKHQsZSkmJihuPVZ2KHQpLmNhbGwodCxlKSk7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7cy52YWx1ZT10W3JdLHI9PT1uJiYocy5zZWxlY3RlZD1cInNlbGVjdGVkXCIpLHMuaW5uZXJUZXh0PXRbcl0sby5hcHBlbmRDaGlsZChzKX12YXIgYT10aGlzO28ub25jaGFuZ2U9ZnVuY3Rpb24oKXthLl91cGRhdGUodGhpcy52YWx1ZSxpKX07dmFyIGg9dGhpcy5fbWFrZUxhYmVsKGlbaS5sZW5ndGgtMV0saSk7dGhpcy5fbWFrZUl0ZW0oaSxoLG8pfX0se2tleTpcIl9tYWtlUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dFswXSxuPXRbMV0scj10WzJdLHM9dFszXSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTthLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctcmFuZ2VcIjt0cnl7YS50eXBlPVwicmFuZ2VcIixhLm1pbj1uLGEubWF4PXJ9Y2F0Y2godCl7fWEuc3RlcD1zO3ZhciBoPVwiXCIsZD0wO2lmKHZvaWQgMCE9PWUpe3ZhciBsPTEuMjtlPDAmJmUqbDxuPyhhLm1pbj1NYXRoLmNlaWwoZSpsKSxkPWEubWluLGg9XCJyYW5nZSBpbmNyZWFzZWRcIik6ZS9sPG4mJihhLm1pbj1NYXRoLmNlaWwoZS9sKSxkPWEubWluLGg9XCJyYW5nZSBpbmNyZWFzZWRcIiksZSpsPnImJjEhPT1yJiYoYS5tYXg9TWF0aC5jZWlsKGUqbCksZD1hLm1heCxoPVwicmFuZ2UgaW5jcmVhc2VkXCIpLGEudmFsdWU9ZX1lbHNlIGEudmFsdWU9bzt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yy5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLXJhbmdlaW5wdXRcIixjLnZhbHVlPWEudmFsdWU7dmFyIHU9dGhpczthLm9uY2hhbmdlPWZ1bmN0aW9uKCl7Yy52YWx1ZT10aGlzLnZhbHVlLHUuX3VwZGF0ZShOdW1iZXIodGhpcy52YWx1ZSksaSl9LGEub25pbnB1dD1mdW5jdGlvbigpe2MudmFsdWU9dGhpcy52YWx1ZX07dmFyIGY9dGhpcy5fbWFrZUxhYmVsKGlbaS5sZW5ndGgtMV0saSkscD10aGlzLl9tYWtlSXRlbShpLGYsYSxjKTtcIlwiIT09aCYmdGhpcy5wb3B1cEhpc3RvcnlbcF0hPT1kJiYodGhpcy5wb3B1cEhpc3RvcnlbcF09ZCx0aGlzLl9zZXR1cFBvcHVwKGgscCkpfX0se2tleTpcIl9tYWtlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKCEwPT09dGhpcy5vcHRpb25zLnNob3dCdXR0b24pe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZS5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWJ1dHRvblwiLGUuaW5uZXJUZXh0PVwiZ2VuZXJhdGUgb3B0aW9uc1wiLGUub25jbGljaz1mdW5jdGlvbigpe3QuX3ByaW50T3B0aW9ucygpfSxlLm9ubW91c2VvdmVyPWZ1bmN0aW9uKCl7ZS5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWJ1dHRvbiBob3ZlclwifSxlLm9ubW91c2VvdXQ9ZnVuY3Rpb24oKXtlLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uIHZpcy1jb25maWctYnV0dG9uXCJ9LHRoaXMub3B0aW9uc0NvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMub3B0aW9uc0NvbnRhaW5lci5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLW9wdGlvbi1jb250YWluZXJcIix0aGlzLmRvbUVsZW1lbnRzLnB1c2godGhpcy5vcHRpb25zQ29udGFpbmVyKSx0aGlzLmRvbUVsZW1lbnRzLnB1c2goZSl9fX0se2tleTpcIl9zZXR1cFBvcHVwXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2lmKCEwPT09dGhpcy5pbml0aWFsaXplZCYmITA9PT10aGlzLmFsbG93Q3JlYXRpb24mJnRoaXMucG9wdXBDb3VudGVyPHRoaXMucG9wdXBMaW1pdCl7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLmlkPVwidmlzLWNvbmZpZ3VyYXRpb24tcG9wdXBcIixvLmNsYXNzTmFtZT1cInZpcy1jb25maWd1cmF0aW9uLXBvcHVwXCIsby5pbm5lclRleHQ9dCxvLm9uY2xpY2s9ZnVuY3Rpb24oKXtpLl9yZW1vdmVQb3B1cCgpfSx0aGlzLnBvcHVwQ291bnRlcis9MSx0aGlzLnBvcHVwRGl2PXtodG1sOm8saW5kZXg6ZX19fX0se2tleTpcIl9yZW1vdmVQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5wb3B1cERpdi5odG1sJiYodGhpcy5wb3B1cERpdi5odG1sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wb3B1cERpdi5odG1sKSxjbGVhclRpbWVvdXQodGhpcy5wb3B1cERpdi5oaWRlVGltZW91dCksY2xlYXJUaW1lb3V0KHRoaXMucG9wdXBEaXYuZGVsZXRlVGltZW91dCksdGhpcy5wb3B1cERpdj17fSl9fSx7a2V5OlwiX3Nob3dQb3B1cElmTmVlZGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHZvaWQgMCE9PXRoaXMucG9wdXBEaXYuaHRtbCl7dmFyIGU9dGhpcy5kb21FbGVtZW50c1t0aGlzLnBvcHVwRGl2LmluZGV4XS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLnBvcHVwRGl2Lmh0bWwuc3R5bGUubGVmdD1lLmxlZnQrXCJweFwiLHRoaXMucG9wdXBEaXYuaHRtbC5zdHlsZS50b3A9ZS50b3AtMzArXCJweFwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wb3B1cERpdi5odG1sKSx0aGlzLnBvcHVwRGl2LmhpZGVUaW1lb3V0PXZnKChmdW5jdGlvbigpe3QucG9wdXBEaXYuaHRtbC5zdHlsZS5vcGFjaXR5PTB9KSwxNTAwKSx0aGlzLnBvcHVwRGl2LmRlbGV0ZVRpbWVvdXQ9dmcoKGZ1bmN0aW9uKCl7dC5fcmVtb3ZlUG9wdXAoKX0pLDE4MDApfX19LHtrZXk6XCJfbWFrZUNoZWNrYm94XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtvLnR5cGU9XCJjaGVja2JveFwiLG8uY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1jaGVja2JveFwiLG8uY2hlY2tlZD10LHZvaWQgMCE9PWUmJihvLmNoZWNrZWQ9ZSxlIT09dCYmKFwib2JqZWN0XCI9PT1ndSh0KT9lIT09dC5lbmFibGVkJiZ0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goe3BhdGg6aSx2YWx1ZTplfSk6dGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHtwYXRoOmksdmFsdWU6ZX0pKSk7dmFyIG49dGhpcztvLm9uY2hhbmdlPWZ1bmN0aW9uKCl7bi5fdXBkYXRlKHRoaXMuY2hlY2tlZCxpKX07dmFyIHI9dGhpcy5fbWFrZUxhYmVsKGlbaS5sZW5ndGgtMV0saSk7dGhpcy5fbWFrZUl0ZW0oaSxyLG8pfX0se2tleTpcIl9tYWtlVGV4dElucHV0XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtvLnR5cGU9XCJ0ZXh0XCIsby5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLXRleHRcIixvLnZhbHVlPWUsZSE9PXQmJnRoaXMuY2hhbmdlZE9wdGlvbnMucHVzaCh7cGF0aDppLHZhbHVlOmV9KTt2YXIgbj10aGlzO28ub25jaGFuZ2U9ZnVuY3Rpb24oKXtuLl91cGRhdGUodGhpcy52YWx1ZSxpKX07dmFyIHI9dGhpcy5fbWFrZUxhYmVsKGlbaS5sZW5ndGgtMV0saSk7dGhpcy5fbWFrZUl0ZW0oaSxyLG8pfX0se2tleTpcIl9tYWtlQ29sb3JGaWVsZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLG49dFsxXSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XCJub25lXCIhPT0oZT12b2lkIDA9PT1lP246ZSk/KHIuY2xhc3NOYW1lPVwidmlzLWNvbmZpZ3VyYXRpb24gdmlzLWNvbmZpZy1jb2xvckJsb2NrXCIsci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZSk6ci5jbGFzc05hbWU9XCJ2aXMtY29uZmlndXJhdGlvbiB2aXMtY29uZmlnLWNvbG9yQmxvY2sgbm9uZVwiLGU9dm9pZCAwPT09ZT9uOmUsci5vbmNsaWNrPWZ1bmN0aW9uKCl7by5fc2hvd0NvbG9yUGlja2VyKGUscixpKX07dmFyIHM9dGhpcy5fbWFrZUxhYmVsKGlbaS5sZW5ndGgtMV0saSk7dGhpcy5fbWFrZUl0ZW0oaSxzLHIpfX0se2tleTpcIl9zaG93Q29sb3JQaWNrZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpcztlLm9uY2xpY2s9ZnVuY3Rpb24oKXt9LHRoaXMuY29sb3JQaWNrZXIuaW5zZXJ0VG8oZSksdGhpcy5jb2xvclBpY2tlci5zaG93KCksdGhpcy5jb2xvclBpY2tlci5zZXRDb2xvcih0KSx0aGlzLmNvbG9yUGlja2VyLnNldFVwZGF0ZUNhbGxiYWNrKChmdW5jdGlvbih0KXt2YXIgbj1cInJnYmEoXCIrdC5yK1wiLFwiK3QuZytcIixcIit0LmIrXCIsXCIrdC5hK1wiKVwiO2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yPW4sby5fdXBkYXRlKG4saSl9KSksdGhpcy5jb2xvclBpY2tlci5zZXRDbG9zZUNhbGxiYWNrKChmdW5jdGlvbigpe2Uub25jbGljaz1mdW5jdGlvbigpe28uX3Nob3dDb2xvclBpY2tlcih0LGUsaSl9fSkpfX0se2tleTpcIl9oYW5kbGVPYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W10saT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG89ITEsbj1sdih0aGlzLm9wdGlvbnMpLHI9ITE7Zm9yKHZhciBzIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscykpe289ITA7dmFyIGE9dFtzXSxoPWptKGUscyk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmITE9PT0obz1uKHMsZSkpJiYhT2YoYSkmJlwic3RyaW5nXCIhPXR5cGVvZiBhJiZcImJvb2xlYW5cIiE9dHlwZW9mIGEmJmEgaW5zdGFuY2VvZiBPYmplY3QmJih0aGlzLmFsbG93Q3JlYXRpb249ITEsbz10aGlzLl9oYW5kbGVPYmplY3QoYSxoLCEwKSx0aGlzLmFsbG93Q3JlYXRpb249ITE9PT1pKSwhMSE9PW8pe3I9ITA7dmFyIGQ9dGhpcy5fZ2V0VmFsdWUoaCk7aWYoT2YoYSkpdGhpcy5faGFuZGxlQXJyYXkoYSxkLGgpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpdGhpcy5fbWFrZVRleHRJbnB1dChhLGQsaCk7ZWxzZSBpZihcImJvb2xlYW5cIj09dHlwZW9mIGEpdGhpcy5fbWFrZUNoZWNrYm94KGEsZCxoKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBPYmplY3Qpe2lmKCF0aGlzLmhpZGVPcHRpb24oZSxzLHRoaXMubW9kdWxlT3B0aW9ucykpaWYodm9pZCAwIT09YS5lbmFibGVkKXt2YXIgbD1qbShoLFwiZW5hYmxlZFwiKSxjPXRoaXMuX2dldFZhbHVlKGwpO2lmKCEwPT09Yyl7dmFyIHU9dGhpcy5fbWFrZUxhYmVsKHMsaCwhMCk7dGhpcy5fbWFrZUl0ZW0oaCx1KSxyPXRoaXMuX2hhbmRsZU9iamVjdChhLGgpfHxyfWVsc2UgdGhpcy5fbWFrZUNoZWNrYm94KGEsYyxoKX1lbHNle3ZhciBmPXRoaXMuX21ha2VMYWJlbChzLGgsITApO3RoaXMuX21ha2VJdGVtKGgsZikscj10aGlzLl9oYW5kbGVPYmplY3QoYSxoKXx8cn19ZWxzZSBjb25zb2xlLmVycm9yKFwiZG9udCBrbm93IGhvdyB0byBoYW5kbGVcIixhLHMsaCl9fXJldHVybiByfX0se2tleTpcIl9oYW5kbGVBcnJheVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtcInN0cmluZ1wiPT10eXBlb2YgdFswXSYmXCJjb2xvclwiPT09dFswXT8odGhpcy5fbWFrZUNvbG9yRmllbGQodCxlLGkpLHRbMV0hPT1lJiZ0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goe3BhdGg6aSx2YWx1ZTplfSkpOlwic3RyaW5nXCI9PXR5cGVvZiB0WzBdPyh0aGlzLl9tYWtlRHJvcGRvd24odCxlLGkpLHRbMF0hPT1lJiZ0aGlzLmNoYW5nZWRPcHRpb25zLnB1c2goe3BhdGg6aSx2YWx1ZTplfSkpOlwibnVtYmVyXCI9PXR5cGVvZiB0WzBdJiYodGhpcy5fbWFrZVJhbmdlKHQsZSxpKSx0WzBdIT09ZSYmdGhpcy5jaGFuZ2VkT3B0aW9ucy5wdXNoKHtwYXRoOmksdmFsdWU6TnVtYmVyKGUpfSkpfX0se2tleTpcIl91cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2NvbnN0cnVjdE9wdGlvbnModCxlKTt0aGlzLnBhcmVudC5ib2R5JiZ0aGlzLnBhcmVudC5ib2R5LmVtaXR0ZXImJnRoaXMucGFyZW50LmJvZHkuZW1pdHRlci5lbWl0JiZ0aGlzLnBhcmVudC5ib2R5LmVtaXR0ZXIuZW1pdChcImNvbmZpZ0NoYW5nZVwiLGkpLHRoaXMuaW5pdGlhbGl6ZWQ9ITAsdGhpcy5wYXJlbnQuc2V0T3B0aW9ucyhpKX19LHtrZXk6XCJfY29uc3RydWN0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG89aTt0PVwiZmFsc2VcIiE9PSh0PVwidHJ1ZVwiPT09dHx8dCkmJnQ7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspXCJnbG9iYWxcIiE9PWVbbl0mJih2b2lkIDA9PT1vW2Vbbl1dJiYob1tlW25dXT17fSksbiE9PWUubGVuZ3RoLTE/bz1vW2Vbbl1dOm9bZVtuXV09dCk7cmV0dXJuIGl9fSx7a2V5OlwiX3ByaW50T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZ2V0T3B0aW9ucygpO3RoaXMub3B0aW9uc0NvbnRhaW5lci5maXJzdENoaWxkOyl0aGlzLm9wdGlvbnNDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5vcHRpb25zQ29udGFpbmVyLmZpcnN0Q2hpbGQpO3RoaXMub3B0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChvYihcInByZVwiLFwiY29uc3Qgb3B0aW9ucyA9IFwiKyR2KHQsbnVsbCwyKSkpfX0se2tleTpcImdldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD17fSxlPTA7ZTx0aGlzLmNoYW5nZWRPcHRpb25zLmxlbmd0aDtlKyspdGhpcy5fY29uc3RydWN0T3B0aW9ucyh0aGlzLmNoYW5nZWRPcHRpb25zW2VdLnZhbHVlLHRoaXMuY2hhbmdlZE9wdGlvbnNbZV0ucGF0aCx0KTtyZXR1cm4gdH19XSksdH0oKSxzYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt2aCh0aGlzLHQpLHRoaXMuY29udGFpbmVyPWUsdGhpcy5vdmVyZmxvd01ldGhvZD1pfHxcImNhcFwiLHRoaXMueD0wLHRoaXMueT0wLHRoaXMucGFkZGluZz01LHRoaXMuaGlkZGVuPSExLHRoaXMuZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmZyYW1lLmNsYXNzTmFtZT1cInZpcy10b29sdGlwXCIsdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSl9cmV0dXJuIHd1KHQsW3trZXk6XCJzZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy54PUl2KHQpLHRoaXMueT1JdihlKX19LHtrZXk6XCJzZXRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIEVsZW1lbnQpe2Zvcig7dGhpcy5mcmFtZS5maXJzdENoaWxkOyl0aGlzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMuZnJhbWUuZmlyc3RDaGlsZCk7dGhpcy5mcmFtZS5hcHBlbmRDaGlsZCh0KX1lbHNlIHRoaXMuZnJhbWUuaW5uZXJUZXh0PXR9fSx7a2V5Olwic2hvd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMD09PXQmJih0PSEwKSwhMD09PXQpe3ZhciBlPXRoaXMuZnJhbWUuY2xpZW50SGVpZ2h0LGk9dGhpcy5mcmFtZS5jbGllbnRXaWR0aCxvPXRoaXMuZnJhbWUucGFyZW50Tm9kZS5jbGllbnRIZWlnaHQsbj10aGlzLmZyYW1lLnBhcmVudE5vZGUuY2xpZW50V2lkdGgscj0wLHM9MDtpZihcImZsaXBcIj09dGhpcy5vdmVyZmxvd01ldGhvZCl7dmFyIGE9ITEsaD0hMDt0aGlzLnktZTx0aGlzLnBhZGRpbmcmJihoPSExKSx0aGlzLngraT5uLXRoaXMucGFkZGluZyYmKGE9ITApLHI9YT90aGlzLngtaTp0aGlzLngscz1oP3RoaXMueS1lOnRoaXMueX1lbHNlKHM9dGhpcy55LWUpK2UrdGhpcy5wYWRkaW5nPm8mJihzPW8tZS10aGlzLnBhZGRpbmcpLHM8dGhpcy5wYWRkaW5nJiYocz10aGlzLnBhZGRpbmcpLChyPXRoaXMueCkraSt0aGlzLnBhZGRpbmc+biYmKHI9bi1pLXRoaXMucGFkZGluZykscjx0aGlzLnBhZGRpbmcmJihyPXRoaXMucGFkZGluZyk7dGhpcy5mcmFtZS5zdHlsZS5sZWZ0PXIrXCJweFwiLHRoaXMuZnJhbWUuc3R5bGUudG9wPXMrXCJweFwiLHRoaXMuZnJhbWUuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLmhpZGRlbj0hMX1lbHNlIHRoaXMuaGlkZSgpfX0se2tleTpcImhpZGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaGlkZGVuPSEwLHRoaXMuZnJhbWUuc3R5bGUubGVmdD1cIjBcIix0aGlzLmZyYW1lLnN0eWxlLnRvcD1cIjBcIix0aGlzLmZyYW1lLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIn19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mcmFtZSl9fV0pLHR9KCksYWI9ITEsaGI9XCJiYWNrZ3JvdW5kOiAjRkZlZWVlOyBjb2xvcjogI2RkMDAwMFwiLGRiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZoKHRoaXMsdCl9cmV0dXJuIHd1KHQsbnVsbCxbe2tleTpcInZhbGlkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8pe2FiPSExLG5iPWk7dmFyIG49aTtyZXR1cm4gdm9pZCAwIT09byYmKG49aVtvXSksdC5wYXJzZShlLG4sW10pLGFifX0se2tleTpcInBhcnNlXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgbiBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNoZWNrKG4sZSxpLG8pfX0se2tleTpcImNoZWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8sbil7aWYodm9pZCAwIT09b1tlXXx8dm9pZCAwIT09by5fX2FueV9fKXt2YXIgcj1lLHM9ITA7dm9pZCAwPT09b1tlXSYmdm9pZCAwIT09by5fX2FueV9fJiYocj1cIl9fYW55X19cIixzPVwib2JqZWN0XCI9PT10LmdldFR5cGUoaVtlXSkpO3ZhciBhPW9bcl07cyYmdm9pZCAwIT09YS5fX3R5cGVfXyYmKGE9YS5fX3R5cGVfXyksdC5jaGVja0ZpZWxkcyhlLGksbyxyLGEsbil9ZWxzZSB0LmdldFN1Z2dlc3Rpb24oZSxvLG4pfX0se2tleTpcImNoZWNrRmllbGRzXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8sbixyLHMpe3ZhciBhPWZ1bmN0aW9uKGkpe2NvbnNvbGUuZXJyb3IoXCIlY1wiK2krdC5wcmludExvY2F0aW9uKHMsZSksaGIpfSxoPXQuZ2V0VHlwZShpW2VdKSxkPXJbaF07dm9pZCAwIT09ZD9cImFycmF5XCI9PT10LmdldFR5cGUoZCkmJi0xPT09VnYoZCkuY2FsbChkLGlbZV0pPyhhKCdJbnZhbGlkIG9wdGlvbiBkZXRlY3RlZCBpbiBcIicrZSsnXCIuIEFsbG93ZWQgdmFsdWVzIGFyZTonK3QucHJpbnQoZCkrJyBub3QgXCInK2lbZV0rJ1wiLiAnKSxhYj0hMCk6XCJvYmplY3RcIj09PWgmJlwiX19hbnlfX1wiIT09biYmKHM9am0ocyxlKSx0LnBhcnNlKGlbZV0sb1tuXSxzKSk6dm9pZCAwPT09ci5hbnkmJihhKCdJbnZhbGlkIHR5cGUgcmVjZWl2ZWQgZm9yIFwiJytlKydcIi4gRXhwZWN0ZWQ6ICcrdC5wcmludCh6ZihyKSkrXCIuIFJlY2VpdmVkIFtcIitoKyddIFwiJytpW2VdKydcIicpLGFiPSEwKX19LHtrZXk6XCJnZXRUeXBlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9Z3UodCk7cmV0dXJuXCJvYmplY3RcIj09PWU/bnVsbD09PXQ/XCJudWxsXCI6dCBpbnN0YW5jZW9mIEJvb2xlYW4/XCJib29sZWFuXCI6dCBpbnN0YW5jZW9mIE51bWJlcj9cIm51bWJlclwiOnQgaW5zdGFuY2VvZiBTdHJpbmc/XCJzdHJpbmdcIjpPZih0KT9cImFycmF5XCI6dCBpbnN0YW5jZW9mIERhdGU/XCJkYXRlXCI6dm9pZCAwIT09dC5ub2RlVHlwZT9cImRvbVwiOiEwPT09dC5faXNBTW9tZW50T2JqZWN0P1wibW9tZW50XCI6XCJvYmplY3RcIjpcIm51bWJlclwiPT09ZT9cIm51bWJlclwiOlwiYm9vbGVhblwiPT09ZT9cImJvb2xlYW5cIjpcInN0cmluZ1wiPT09ZT9cInN0cmluZ1wiOnZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjplfX0se2tleTpcImdldFN1Z2dlc3Rpb25cIix2YWx1ZTpmdW5jdGlvbihlLGksbyl7dmFyIG4scj10LmZpbmRJbk9wdGlvbnMoZSxpLG8sITEpLHM9dC5maW5kSW5PcHRpb25zKGUsbmIsW10sITApO249dm9pZCAwIT09ci5pbmRleE1hdGNoP1wiIGluIFwiK3QucHJpbnRMb2NhdGlvbihyLnBhdGgsZSxcIlwiKSsnUGVyaGFwcyBpdCB3YXMgaW5jb21wbGV0ZT8gRGlkIHlvdSBtZWFuOiBcIicrci5pbmRleE1hdGNoKydcIj9cXG5cXG4nOnMuZGlzdGFuY2U8PTQmJnIuZGlzdGFuY2U+cy5kaXN0YW5jZT9cIiBpbiBcIit0LnByaW50TG9jYXRpb24oci5wYXRoLGUsXCJcIikrXCJQZXJoYXBzIGl0IHdhcyBtaXNwbGFjZWQ/IE1hdGNoaW5nIG9wdGlvbiBmb3VuZCBhdDogXCIrdC5wcmludExvY2F0aW9uKHMucGF0aCxzLmNsb3Nlc3RNYXRjaCxcIlwiKTpyLmRpc3RhbmNlPD04PycuIERpZCB5b3UgbWVhbiBcIicrci5jbG9zZXN0TWF0Y2grJ1wiPycrdC5wcmludExvY2F0aW9uKHIucGF0aCxlKTpcIi4gRGlkIHlvdSBtZWFuIG9uZSBvZiB0aGVzZTogXCIrdC5wcmludCh6ZihpKSkrdC5wcmludExvY2F0aW9uKG8sZSksY29uc29sZS5lcnJvcignJWNVbmtub3duIG9wdGlvbiBkZXRlY3RlZDogXCInK2UrJ1wiJytuLGhiKSxhYj0hMH19LHtrZXk6XCJmaW5kSW5PcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8pe3ZhciBuLHI9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxzPTFlOSxhPVwiXCIsaD1bXSxkPWUudG9Mb3dlckNhc2UoKSxsPXZvaWQgMDtmb3IodmFyIGMgaW4gaSl7dmFyIHU9dm9pZCAwO2lmKHZvaWQgMCE9PWlbY10uX190eXBlX18mJiEwPT09cil7dmFyIGY9dC5maW5kSW5PcHRpb25zKGUsaVtjXSxqbShvLGMpKTtzPmYuZGlzdGFuY2UmJihhPWYuY2xvc2VzdE1hdGNoLGg9Zi5wYXRoLHM9Zi5kaXN0YW5jZSxsPWYuaW5kZXhNYXRjaCl9ZWxzZXt2YXIgcDstMSE9PVZ2KHA9Yy50b0xvd2VyQ2FzZSgpKS5jYWxsKHAsZCkmJihsPWMpLHM+KHU9dC5sZXZlbnNodGVpbkRpc3RhbmNlKGUsYykpJiYoYT1jLGg9bWYobj1vKS5jYWxsKG4pLHM9dSl9fXJldHVybntjbG9zZXN0TWF0Y2g6YSxwYXRoOmgsZGlzdGFuY2U6cyxpbmRleE1hdGNoOmx9fX0se2tleTpcInByaW50TG9jYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1cIlxcblxcblwiKyhhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06XCJQcm9ibGVtIHZhbHVlIGZvdW5kIGF0OiBcXG5cIikrXCJvcHRpb25zID0ge1xcblwiLG89MDtvPHQubGVuZ3RoO28rKyl7Zm9yKHZhciBuPTA7bjxvKzE7bisrKWkrPVwiICBcIjtpKz10W29dK1wiOiB7XFxuXCJ9Zm9yKHZhciByPTA7cjx0Lmxlbmd0aCsxO3IrKylpKz1cIiAgXCI7aSs9ZStcIlxcblwiO2Zvcih2YXIgcz0wO3M8dC5sZW5ndGgrMTtzKyspe2Zvcih2YXIgYT0wO2E8dC5sZW5ndGgtczthKyspaSs9XCIgIFwiO2krPVwifVxcblwifXJldHVybiBpK1wiXFxuXFxuXCJ9fSx7a2V5OlwicHJpbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gJHYodCkucmVwbGFjZSgvKFwiKXwoXFxbKXwoXFxdKXwoLFwiX190eXBlX19cIikvZyxcIlwiKS5yZXBsYWNlKC8oLCkvZyxcIiwgXCIpfX0se2tleTpcImxldmVuc2h0ZWluRGlzdGFuY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gZS5sZW5ndGg7aWYoMD09PWUubGVuZ3RoKXJldHVybiB0Lmxlbmd0aDt2YXIgaSxvLG49W107Zm9yKGk9MDtpPD1lLmxlbmd0aDtpKyspbltpXT1baV07Zm9yKG89MDtvPD10Lmxlbmd0aDtvKyspblswXVtvXT1vO2ZvcihpPTE7aTw9ZS5sZW5ndGg7aSsrKWZvcihvPTE7bzw9dC5sZW5ndGg7bysrKWUuY2hhckF0KGktMSk9PXQuY2hhckF0KG8tMSk/bltpXVtvXT1uW2ktMV1bby0xXTpuW2ldW29dPU1hdGgubWluKG5baS0xXVtvLTFdKzEsTWF0aC5taW4obltpXVtvLTFdKzEsbltpLTFdW29dKzEpKTtyZXR1cm4gbltlLmxlbmd0aF1bdC5sZW5ndGhdfX1dKSx0fSgpLGxiPUNtLGNiPXJiLHViPU9tLGZiPXNiLHBiPWhiLHZiPWRiO2Z1bmN0aW9uIGdiKHQpe3JldHVybiBrYj10LGZ1bmN0aW9uKCl7dmFyIHQ9e307X2I9MCx2b2lkKHhiPWtiLmNoYXJBdCgwKSksRmIoKSxcInN0cmljdFwiPT09RWImJih0LnN0cmljdD0hMCxGYigpKTtcImdyYXBoXCIhPT1FYiYmXCJkaWdyYXBoXCIhPT1FYnx8KHQudHlwZT1FYixGYigpKTtPYj09PWJiLklERU5USUZJRVImJih0LmlkPUViLEZiKCkpO2lmKFwie1wiIT1FYil0aHJvdyBMYihcIkFuZ2xlIGJyYWNrZXQgeyBleHBlY3RlZFwiKTtpZihGYigpLHpiKHQpLFwifVwiIT1FYil0aHJvdyBMYihcIkFuZ2xlIGJyYWNrZXQgfSBleHBlY3RlZFwiKTtpZihGYigpLFwiXCIhPT1FYil0aHJvdyBMYihcIkVuZCBvZiBmaWxlIGV4cGVjdGVkXCIpO3JldHVybiBGYigpLGRlbGV0ZSB0Lm5vZGUsZGVsZXRlIHQuZWRnZSxkZWxldGUgdC5ncmFwaCx0fSgpfXZhciB5Yj17Zm9udHNpemU6XCJmb250LnNpemVcIixmb250Y29sb3I6XCJmb250LmNvbG9yXCIsbGFiZWxmb250Y29sb3I6XCJmb250LmNvbG9yXCIsZm9udG5hbWU6XCJmb250LmZhY2VcIixjb2xvcjpbXCJjb2xvci5ib3JkZXJcIixcImNvbG9yLmJhY2tncm91bmRcIl0sZmlsbGNvbG9yOlwiY29sb3IuYmFja2dyb3VuZFwiLHRvb2x0aXA6XCJ0aXRsZVwiLGxhYmVsdG9vbHRpcDpcInRpdGxlXCJ9LG1iPVl2KHliKTttYi5jb2xvcj1cImNvbG9yLmNvbG9yXCIsbWIuc3R5bGU9XCJkYXNoZXNcIjt2YXIgYmI9e05VTEw6MCxERUxJTUlURVI6MSxJREVOVElGSUVSOjIsVU5LTk9XTjozfSx3Yj17XCJ7XCI6ITAsXCJ9XCI6ITAsXCJbXCI6ITAsXCJdXCI6ITAsXCI7XCI6ITAsXCI9XCI6ITAsXCIsXCI6ITAsXCItPlwiOiEwLFwiLS1cIjohMH0sa2I9XCJcIixfYj0wLHhiPVwiXCIsRWI9XCJcIixPYj1iYi5OVUxMO2Z1bmN0aW9uIENiKCl7X2IrKyx4Yj1rYi5jaGFyQXQoX2IpfWZ1bmN0aW9uIFNiKCl7cmV0dXJuIGtiLmNoYXJBdChfYisxKX1mdW5jdGlvbiBUYih0KXt2YXIgZT10LmNoYXJDb2RlQXQoMCk7cmV0dXJuIGU8NDc/MzU9PT1lfHw0Nj09PWU6ZTw1OT9lPjQ3OmU8OTE/ZT42NDplPDk2Pzk1PT09ZTplPDEyMyYmZT45Nn1mdW5jdGlvbiBNYih0LGUpe2lmKHR8fCh0PXt9KSxlKWZvcih2YXIgaSBpbiBlKWUuaGFzT3duUHJvcGVydHkoaSkmJih0W2ldPWVbaV0pO3JldHVybiB0fWZ1bmN0aW9uIFBiKHQsZSxpKXtmb3IodmFyIG89ZS5zcGxpdChcIi5cIiksbj10O28ubGVuZ3RoOyl7dmFyIHI9by5zaGlmdCgpO28ubGVuZ3RoPyhuW3JdfHwobltyXT17fSksbj1uW3JdKTpuW3JdPWl9fWZ1bmN0aW9uIERiKHQsZSl7Zm9yKHZhciBpLG8sbj1udWxsLHI9W3RdLHM9dDtzLnBhcmVudDspci5wdXNoKHMucGFyZW50KSxzPXMucGFyZW50O2lmKHMubm9kZXMpZm9yKGk9MCxvPXMubm9kZXMubGVuZ3RoO2k8bztpKyspaWYoZS5pZD09PXMubm9kZXNbaV0uaWQpe249cy5ub2Rlc1tpXTticmVha31mb3Iobnx8KG49e2lkOmUuaWR9LHQubm9kZSYmKG4uYXR0cj1NYihuLmF0dHIsdC5ub2RlKSkpLGk9ci5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIGEsaD1yW2ldO2gubm9kZXN8fChoLm5vZGVzPVtdKSwtMT09PVZ2KGE9aC5ub2RlcykuY2FsbChhLG4pJiZoLm5vZGVzLnB1c2gobil9ZS5hdHRyJiYobi5hdHRyPU1iKG4uYXR0cixlLmF0dHIpKX1mdW5jdGlvbiBJYih0LGUpe2lmKHQuZWRnZXN8fCh0LmVkZ2VzPVtdKSx0LmVkZ2VzLnB1c2goZSksdC5lZGdlKXt2YXIgaT1NYih7fSx0LmVkZ2UpO2UuYXR0cj1NYihpLGUuYXR0cil9fWZ1bmN0aW9uIEJiKHQsZSxpLG8sbil7dmFyIHI9e2Zyb206ZSx0bzppLHR5cGU6b307cmV0dXJuIHQuZWRnZSYmKHIuYXR0cj1NYih7fSx0LmVkZ2UpKSxyLmF0dHI9TWIoci5hdHRyfHx7fSxuKSxudWxsIT1uJiZuLmhhc093blByb3BlcnR5KFwiYXJyb3dzXCIpJiZudWxsIT1uLmFycm93cyYmKHIuYXJyb3dzPXt0bzp7ZW5hYmxlZDohMCx0eXBlOm4uYXJyb3dzLnR5cGV9fSxuLmFycm93cz1udWxsKSxyfWZ1bmN0aW9uIEZiKCl7Zm9yKE9iPWJiLk5VTEwsRWI9XCJcIjtcIiBcIj09PXhifHxcIlxcdFwiPT09eGJ8fFwiXFxuXCI9PT14Ynx8XCJcXHJcIj09PXhiOylDYigpO2Rve3ZhciB0PSExO2lmKFwiI1wiPT09eGIpe2Zvcih2YXIgZT1fYi0xO1wiIFwiPT09a2IuY2hhckF0KGUpfHxcIlxcdFwiPT09a2IuY2hhckF0KGUpOyllLS07aWYoXCJcXG5cIj09PWtiLmNoYXJBdChlKXx8XCJcIj09PWtiLmNoYXJBdChlKSl7Zm9yKDtcIlwiIT14YiYmXCJcXG5cIiE9eGI7KUNiKCk7dD0hMH19aWYoXCIvXCI9PT14YiYmXCIvXCI9PT1TYigpKXtmb3IoO1wiXCIhPXhiJiZcIlxcblwiIT14YjspQ2IoKTt0PSEwfWlmKFwiL1wiPT09eGImJlwiKlwiPT09U2IoKSl7Zm9yKDtcIlwiIT14Yjspe2lmKFwiKlwiPT09eGImJlwiL1wiPT09U2IoKSl7Q2IoKSxDYigpO2JyZWFrfUNiKCl9dD0hMH1mb3IoO1wiIFwiPT09eGJ8fFwiXFx0XCI9PT14Ynx8XCJcXG5cIj09PXhifHxcIlxcclwiPT09eGI7KUNiKCl9d2hpbGUodCk7aWYoXCJcIiE9PXhiKXt2YXIgaT14YitTYigpO2lmKHdiW2ldKXJldHVybiBPYj1iYi5ERUxJTUlURVIsRWI9aSxDYigpLHZvaWQgQ2IoKTtpZih3Ylt4Yl0pcmV0dXJuIE9iPWJiLkRFTElNSVRFUixFYj14Yix2b2lkIENiKCk7aWYoVGIoeGIpfHxcIi1cIj09PXhiKXtmb3IoRWIrPXhiLENiKCk7VGIoeGIpOylFYis9eGIsQ2IoKTtyZXR1cm5cImZhbHNlXCI9PT1FYj9FYj0hMTpcInRydWVcIj09PUViP0ViPSEwOmlzTmFOKE51bWJlcihFYikpfHwoRWI9TnVtYmVyKEViKSksdm9pZChPYj1iYi5JREVOVElGSUVSKX1pZignXCInPT09eGIpe2ZvcihDYigpO1wiXCIhPXhiJiYoJ1wiJyE9eGJ8fCdcIic9PT14YiYmJ1wiJz09PVNiKCkpOyknXCInPT09eGI/KEViKz14YixDYigpKTpcIlxcXFxcIj09PXhiJiZcIm5cIj09PVNiKCk/KEViKz1cIlxcblwiLENiKCkpOkViKz14YixDYigpO2lmKCdcIichPXhiKXRocm93IExiKCdFbmQgb2Ygc3RyaW5nIFwiIGV4cGVjdGVkJyk7cmV0dXJuIENiKCksdm9pZChPYj1iYi5JREVOVElGSUVSKX1mb3IoT2I9YmIuVU5LTk9XTjtcIlwiIT14YjspRWIrPXhiLENiKCk7dGhyb3cgbmV3IFN5bnRheEVycm9yKCdTeW50YXggZXJyb3IgaW4gcGFydCBcIicrSGIoRWIsMzApKydcIicpfU9iPWJiLkRFTElNSVRFUn1mdW5jdGlvbiB6Yih0KXtmb3IoO1wiXCIhPT1FYiYmXCJ9XCIhPUViOylOYih0KSxcIjtcIj09PUViJiZGYigpfWZ1bmN0aW9uIE5iKHQpe3ZhciBlPUFiKHQpO2lmKGUpUmIodCxlKTtlbHNle3ZhciBpPWZ1bmN0aW9uKHQpe2lmKFwibm9kZVwiPT09RWIpcmV0dXJuIEZiKCksdC5ub2RlPWpiKCksXCJub2RlXCI7aWYoXCJlZGdlXCI9PT1FYilyZXR1cm4gRmIoKSx0LmVkZ2U9amIoKSxcImVkZ2VcIjtpZihcImdyYXBoXCI9PT1FYilyZXR1cm4gRmIoKSx0LmdyYXBoPWpiKCksXCJncmFwaFwiO3JldHVybiBudWxsfSh0KTtpZighaSl7aWYoT2IhPWJiLklERU5USUZJRVIpdGhyb3cgTGIoXCJJZGVudGlmaWVyIGV4cGVjdGVkXCIpO3ZhciBvPUViO2lmKEZiKCksXCI9XCI9PT1FYil7aWYoRmIoKSxPYiE9YmIuSURFTlRJRklFUil0aHJvdyBMYihcIklkZW50aWZpZXIgZXhwZWN0ZWRcIik7dFtvXT1FYixGYigpfWVsc2UhZnVuY3Rpb24odCxlKXt2YXIgaT17aWQ6ZX0sbz1qYigpO28mJihpLmF0dHI9byk7RGIodCxpKSxSYih0LGUpfSh0LG8pfX19ZnVuY3Rpb24gQWIodCl7dmFyIGU9bnVsbDtpZihcInN1YmdyYXBoXCI9PT1FYiYmKChlPXt9KS50eXBlPVwic3ViZ3JhcGhcIixGYigpLE9iPT09YmIuSURFTlRJRklFUiYmKGUuaWQ9RWIsRmIoKSkpLFwie1wiPT09RWIpe2lmKEZiKCksZXx8KGU9e30pLGUucGFyZW50PXQsZS5ub2RlPXQubm9kZSxlLmVkZ2U9dC5lZGdlLGUuZ3JhcGg9dC5ncmFwaCx6YihlKSxcIn1cIiE9RWIpdGhyb3cgTGIoXCJBbmdsZSBicmFja2V0IH0gZXhwZWN0ZWRcIik7RmIoKSxkZWxldGUgZS5ub2RlLGRlbGV0ZSBlLmVkZ2UsZGVsZXRlIGUuZ3JhcGgsZGVsZXRlIGUucGFyZW50LHQuc3ViZ3JhcGhzfHwodC5zdWJncmFwaHM9W10pLHQuc3ViZ3JhcGhzLnB1c2goZSl9cmV0dXJuIGV9ZnVuY3Rpb24gUmIodCxlKXtmb3IoO1wiLT5cIj09PUVifHxcIi0tXCI9PT1FYjspe3ZhciBpLG89RWI7RmIoKTt2YXIgbj1BYih0KTtpZihuKWk9bjtlbHNle2lmKE9iIT1iYi5JREVOVElGSUVSKXRocm93IExiKFwiSWRlbnRpZmllciBvciBzdWJncmFwaCBleHBlY3RlZFwiKTtEYih0LHtpZDppPUVifSksRmIoKX1JYih0LEJiKHQsZSxpLG8samIoKSkpLGU9aX19ZnVuY3Rpb24gamIoKXtmb3IodmFyIHQsZSxpPW51bGwsbz17ZGFzaGVkOiEwLHNvbGlkOiExLGRvdHRlZDpbMSw1XX0sbj17ZG90OlwiY2lyY2xlXCIsYm94OlwiYm94XCIsY3JvdzpcImNyb3dcIixjdXJ2ZTpcImN1cnZlXCIsaWN1cnZlOlwiaW52X2N1cnZlXCIsbm9ybWFsOlwidHJpYW5nbGVcIixpbnY6XCJpbnZfdHJpYW5nbGVcIixkaWFtb25kOlwiZGlhbW9uZFwiLHRlZTpcImJhclwiLHZlZTpcInZlZVwifSxyPW5ldyBBcnJheSxzPW5ldyBBcnJheTtcIltcIj09PUViOyl7Zm9yKEZiKCksaT17fTtcIlwiIT09RWImJlwiXVwiIT1FYjspe2lmKE9iIT1iYi5JREVOVElGSUVSKXRocm93IExiKFwiQXR0cmlidXRlIG5hbWUgZXhwZWN0ZWRcIik7dmFyIGE9RWI7aWYoRmIoKSxcIj1cIiE9RWIpdGhyb3cgTGIoXCJFcXVhbCBzaWduID0gZXhwZWN0ZWRcIik7aWYoRmIoKSxPYiE9YmIuSURFTlRJRklFUil0aHJvdyBMYihcIkF0dHJpYnV0ZSB2YWx1ZSBleHBlY3RlZFwiKTt2YXIgaD1FYjtcInN0eWxlXCI9PT1hJiYoaD1vW2hdKSxcImFycm93aGVhZFwiPT09YSYmKGE9XCJhcnJvd3NcIixoPXt0bzp7ZW5hYmxlZDohMCx0eXBlOm5baF19fSksXCJhcnJvd3RhaWxcIj09PWEmJihhPVwiYXJyb3dzXCIsaD17ZnJvbTp7ZW5hYmxlZDohMCx0eXBlOm5baF19fSksci5wdXNoKHthdHRyOmksbmFtZTphLHZhbHVlOmh9KSxzLnB1c2goYSksRmIoKSxcIixcIj09RWImJkZiKCl9aWYoXCJdXCIhPUViKXRocm93IExiKFwiQnJhY2tldCBdIGV4cGVjdGVkXCIpO0ZiKCl9aWYoUXAocykuY2FsbChzLFwiZGlyXCIpKXt2YXIgZD17YXJyb3dzOnt9fTtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKWlmKFwiYXJyb3dzXCI9PT1yW3RdLm5hbWUpaWYobnVsbCE9clt0XS52YWx1ZS50bylkLmFycm93cy50bz10O2Vsc2V7aWYobnVsbD09clt0XS52YWx1ZS5mcm9tKXRocm93IExiKFwiSW52YWxpZCB2YWx1ZSBvZiBhcnJvd3NcIik7ZC5hcnJvd3MuZnJvbT10fWVsc2VcImRpclwiPT09clt0XS5uYW1lJiYoZC5kaXI9dCk7dmFyIGwsYyx1PXJbZC5kaXJdLnZhbHVlO2lmKCFRcChzKS5jYWxsKHMsXCJhcnJvd3NcIikpaWYoXCJib3RoXCI9PT11KXIucHVzaCh7YXR0cjpyW2QuZGlyXS5hdHRyLG5hbWU6XCJhcnJvd3NcIix2YWx1ZTp7dG86e2VuYWJsZWQ6ITB9fX0pLGQuYXJyb3dzLnRvPXIubGVuZ3RoLTEsci5wdXNoKHthdHRyOnJbZC5kaXJdLmF0dHIsbmFtZTpcImFycm93c1wiLHZhbHVlOntmcm9tOntlbmFibGVkOiEwfX19KSxkLmFycm93cy5mcm9tPXIubGVuZ3RoLTE7ZWxzZSBpZihcImZvcndhcmRcIj09PXUpci5wdXNoKHthdHRyOnJbZC5kaXJdLmF0dHIsbmFtZTpcImFycm93c1wiLHZhbHVlOnt0bzp7ZW5hYmxlZDohMH19fSksZC5hcnJvd3MudG89ci5sZW5ndGgtMTtlbHNlIGlmKFwiYmFja1wiPT09dSlyLnB1c2goe2F0dHI6cltkLmRpcl0uYXR0cixuYW1lOlwiYXJyb3dzXCIsdmFsdWU6e2Zyb206e2VuYWJsZWQ6ITB9fX0pLGQuYXJyb3dzLmZyb209ci5sZW5ndGgtMTtlbHNle2lmKFwibm9uZVwiIT09dSl0aHJvdyBMYignSW52YWxpZCBkaXIgdHlwZSBcIicrdSsnXCInKTtyLnB1c2goe2F0dHI6cltkLmRpcl0uYXR0cixuYW1lOlwiYXJyb3dzXCIsdmFsdWU6XCJcIn0pLGQuYXJyb3dzLnRvPXIubGVuZ3RoLTF9aWYoXCJib3RoXCI9PT11KWQuYXJyb3dzLnRvJiZkLmFycm93cy5mcm9tPyhjPXJbZC5hcnJvd3MudG9dLnZhbHVlLnRvLnR5cGUsbD1yW2QuYXJyb3dzLmZyb21dLnZhbHVlLmZyb20udHlwZSxyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSxQcChyKS5jYWxsKHIsZC5hcnJvd3MuZnJvbSwxKSk6ZC5hcnJvd3MudG8/KGM9cltkLmFycm93cy50b10udmFsdWUudG8udHlwZSxsPVwiYXJyb3dcIixyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSk6ZC5hcnJvd3MuZnJvbSYmKGM9XCJhcnJvd1wiLGw9cltkLmFycm93cy5mcm9tXS52YWx1ZS5mcm9tLnR5cGUscltkLmFycm93cy5mcm9tXT17YXR0cjpyW2QuYXJyb3dzLmZyb21dLmF0dHIsbmFtZTpyW2QuYXJyb3dzLmZyb21dLm5hbWUsdmFsdWU6e3RvOntlbmFibGVkOiEwLHR5cGU6Y30sZnJvbTp7ZW5hYmxlZDohMCx0eXBlOmx9fX0pO2Vsc2UgaWYoXCJiYWNrXCI9PT11KWQuYXJyb3dzLnRvJiZkLmFycm93cy5mcm9tPyhjPVwiXCIsbD1yW2QuYXJyb3dzLmZyb21dLnZhbHVlLmZyb20udHlwZSxyW2QuYXJyb3dzLmZyb21dPXthdHRyOnJbZC5hcnJvd3MuZnJvbV0uYXR0cixuYW1lOnJbZC5hcnJvd3MuZnJvbV0ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSk6ZC5hcnJvd3MudG8/KGM9XCJcIixsPVwiYXJyb3dcIixkLmFycm93cy5mcm9tPWQuYXJyb3dzLnRvLHJbZC5hcnJvd3MuZnJvbV09e2F0dHI6cltkLmFycm93cy5mcm9tXS5hdHRyLG5hbWU6cltkLmFycm93cy5mcm9tXS5uYW1lLHZhbHVlOnt0bzp7ZW5hYmxlZDohMCx0eXBlOmN9LGZyb206e2VuYWJsZWQ6ITAsdHlwZTpsfX19KTpkLmFycm93cy5mcm9tJiYoYz1cIlwiLGw9cltkLmFycm93cy5mcm9tXS52YWx1ZS5mcm9tLnR5cGUscltkLmFycm93cy50b109e2F0dHI6cltkLmFycm93cy5mcm9tXS5hdHRyLG5hbWU6cltkLmFycm93cy5mcm9tXS5uYW1lLHZhbHVlOnt0bzp7ZW5hYmxlZDohMCx0eXBlOmN9LGZyb206e2VuYWJsZWQ6ITAsdHlwZTpsfX19KSxyW2QuYXJyb3dzLmZyb21dPXthdHRyOnJbZC5hcnJvd3MuZnJvbV0uYXR0cixuYW1lOnJbZC5hcnJvd3MuZnJvbV0ubmFtZSx2YWx1ZTp7ZnJvbTp7ZW5hYmxlZDohMCx0eXBlOnJbZC5hcnJvd3MuZnJvbV0udmFsdWUuZnJvbS50eXBlfX19O2Vsc2UgaWYoXCJub25lXCI9PT11KXt2YXIgZjtyW2Y9ZC5hcnJvd3MudG8/ZC5hcnJvd3MudG86ZC5hcnJvd3MuZnJvbV09e2F0dHI6cltmXS5hdHRyLG5hbWU6cltmXS5uYW1lLHZhbHVlOlwiXCJ9fWVsc2V7aWYoXCJmb3J3YXJkXCIhPT11KXRocm93IExiKCdJbnZhbGlkIGRpciB0eXBlIFwiJyt1KydcIicpO2QuYXJyb3dzLnRvJiZkLmFycm93cy5mcm9tfHxkLmFycm93cy50bz8oYz1yW2QuYXJyb3dzLnRvXS52YWx1ZS50by50eXBlLGw9XCJcIixyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpjfSxmcm9tOntlbmFibGVkOiEwLHR5cGU6bH19fSk6ZC5hcnJvd3MuZnJvbSYmKGM9XCJhcnJvd1wiLGw9XCJcIixkLmFycm93cy50bz1kLmFycm93cy5mcm9tLHJbZC5hcnJvd3MudG9dPXthdHRyOnJbZC5hcnJvd3MudG9dLmF0dHIsbmFtZTpyW2QuYXJyb3dzLnRvXS5uYW1lLHZhbHVlOnt0bzp7ZW5hYmxlZDohMCx0eXBlOmN9LGZyb206e2VuYWJsZWQ6ITAsdHlwZTpsfX19KSxyW2QuYXJyb3dzLnRvXT17YXR0cjpyW2QuYXJyb3dzLnRvXS5hdHRyLG5hbWU6cltkLmFycm93cy50b10ubmFtZSx2YWx1ZTp7dG86e2VuYWJsZWQ6ITAsdHlwZTpyW2QuYXJyb3dzLnRvXS52YWx1ZS50by50eXBlfX19fVBwKHIpLmNhbGwocixkLmRpciwxKX1pZihRcChzKS5jYWxsKHMsXCJwZW53aWR0aFwiKSl7dmFyIHA9W107Zm9yKGU9ci5sZW5ndGgsdD0wO3Q8ZTt0KyspXCJ3aWR0aFwiIT09clt0XS5uYW1lJiYoXCJwZW53aWR0aFwiPT09clt0XS5uYW1lJiYoclt0XS5uYW1lPVwid2lkdGhcIikscC5wdXNoKHJbdF0pKTtyPXB9Zm9yKGU9ci5sZW5ndGgsdD0wO3Q8ZTt0KyspUGIoclt0XS5hdHRyLHJbdF0ubmFtZSxyW3RdLnZhbHVlKTtyZXR1cm4gaX1mdW5jdGlvbiBMYih0KXtyZXR1cm4gbmV3IFN5bnRheEVycm9yKHQrJywgZ290IFwiJytIYihFYiwzMCkrJ1wiIChjaGFyICcrX2IrXCIpXCIpfWZ1bmN0aW9uIEhiKHQsZSl7cmV0dXJuIHQubGVuZ3RoPD1lP3Q6dC5zdWJzdHIoMCwyNykrXCIuLi5cIn1mdW5jdGlvbiBXYih0LGUsaSl7Zm9yKHZhciBvPWUuc3BsaXQoXCIuXCIpLG49by5wb3AoKSxyPXQscz0wO3M8by5sZW5ndGg7cysrKXt2YXIgYT1vW3NdO2EgaW4gcnx8KHJbYV09e30pLHI9clthXX1yZXR1cm4gcltuXT1pLHR9ZnVuY3Rpb24gVmIodCxlKXt2YXIgaT17fTtmb3IodmFyIG8gaW4gdClpZih0Lmhhc093blByb3BlcnR5KG8pKXt2YXIgbj1lW29dO09mKG4pP1FmKG4pLmNhbGwobiwoZnVuY3Rpb24oZSl7V2IoaSxlLHRbb10pfSkpOldiKGksXCJzdHJpbmdcIj09dHlwZW9mIG4/bjpvLHRbb10pfXJldHVybiBpfWZ1bmN0aW9uIHFiKHQpe3ZhciBlLGk9Z2IodCksbz17bm9kZXM6W10sZWRnZXM6W10sb3B0aW9uczp7fX07aS5ub2RlcyYmUWYoZT1pLm5vZGVzKS5jYWxsKGUsKGZ1bmN0aW9uKHQpe3ZhciBlPXtpZDp0LmlkLGxhYmVsOlN0cmluZyh0LmxhYmVsfHx0LmlkKX07TWIoZSxWYih0LmF0dHIseWIpKSxlLmltYWdlJiYoZS5zaGFwZT1cImltYWdlXCIpLG8ubm9kZXMucHVzaChlKX0pKTtpZihpLmVkZ2VzKXt2YXIgbixyPWZ1bmN0aW9uKHQpe3ZhciBlPXtmcm9tOnQuZnJvbSx0bzp0LnRvfTtyZXR1cm4gTWIoZSxWYih0LmF0dHIsbWIpKSxudWxsPT1lLmFycm93cyYmXCItPlwiPT09dC50eXBlJiYoZS5hcnJvd3M9XCJ0b1wiKSxlfTtRZihuPWkuZWRnZXMpLmNhbGwobiwoZnVuY3Rpb24odCl7dmFyIGUsaSxuLHMsYSxoLGQ7KGU9dC5mcm9tIGluc3RhbmNlb2YgT2JqZWN0P3QuZnJvbS5ub2Rlczp7aWQ6dC5mcm9tfSxpPXQudG8gaW5zdGFuY2VvZiBPYmplY3Q/dC50by5ub2Rlczp7aWQ6dC50b30sdC5mcm9tIGluc3RhbmNlb2YgT2JqZWN0JiZ0LmZyb20uZWRnZXMpJiZRZihuPXQuZnJvbS5lZGdlcykuY2FsbChuLChmdW5jdGlvbih0KXt2YXIgZT1yKHQpO28uZWRnZXMucHVzaChlKX0pKTsoYT1pLGg9ZnVuY3Rpb24oZSxpKXt2YXIgbj1CYihvLGUuaWQsaS5pZCx0LnR5cGUsdC5hdHRyKSxzPXIobik7by5lZGdlcy5wdXNoKHMpfSxPZihzPWUpP1FmKHMpLmNhbGwocywoZnVuY3Rpb24odCl7T2YoYSk/UWYoYSkuY2FsbChhLChmdW5jdGlvbihlKXtoKHQsZSl9KSk6aCh0LGEpfSkpOk9mKGEpP1FmKGEpLmNhbGwoYSwoZnVuY3Rpb24odCl7aChzLHQpfSkpOmgocyxhKSx0LnRvIGluc3RhbmNlb2YgT2JqZWN0JiZ0LnRvLmVkZ2VzKSYmUWYoZD10LnRvLmVkZ2VzKS5jYWxsKGQsKGZ1bmN0aW9uKHQpe3ZhciBlPXIodCk7by5lZGdlcy5wdXNoKGUpfSkpfSkpfXJldHVybiBpLmF0dHImJihvLm9wdGlvbnM9aS5hdHRyKSxvfXZhciBVYj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxET1RUb0dyYXBoOnFiLHBhcnNlRE9UOmdifSk7ZnVuY3Rpb24gWWIodCxlKXt2YXIgaSxvPXtlZGdlczp7aW5oZXJpdENvbG9yOiExfSxub2Rlczp7Zml4ZWQ6ITEscGFyc2VDb2xvcjohMX19O251bGwhPWUmJihudWxsIT1lLmZpeGVkJiYoby5ub2Rlcy5maXhlZD1lLmZpeGVkKSxudWxsIT1lLnBhcnNlQ29sb3ImJihvLm5vZGVzLnBhcnNlQ29sb3I9ZS5wYXJzZUNvbG9yKSxudWxsIT1lLmluaGVyaXRDb2xvciYmKG8uZWRnZXMuaW5oZXJpdENvbG9yPWUuaW5oZXJpdENvbG9yKSk7dmFyIG49dC5lZGdlcyxyPUlmKG4pLmNhbGwobiwoZnVuY3Rpb24odCl7dmFyIGU9e2Zyb206dC5zb3VyY2UsaWQ6dC5pZCx0bzp0LnRhcmdldH07cmV0dXJuIG51bGwhPXQuYXR0cmlidXRlcyYmKGUuYXR0cmlidXRlcz10LmF0dHJpYnV0ZXMpLG51bGwhPXQubGFiZWwmJihlLmxhYmVsPXQubGFiZWwpLG51bGwhPXQuYXR0cmlidXRlcyYmbnVsbCE9dC5hdHRyaWJ1dGVzLnRpdGxlJiYoZS50aXRsZT10LmF0dHJpYnV0ZXMudGl0bGUpLFwiRGlyZWN0ZWRcIj09PXQudHlwZSYmKGUuYXJyb3dzPVwidG9cIiksdC5jb2xvciYmITE9PT1vLmVkZ2VzLmluaGVyaXRDb2xvciYmKGUuY29sb3I9dC5jb2xvciksZX0pKTtyZXR1cm57bm9kZXM6SWYoaT10Lm5vZGVzKS5jYWxsKGksKGZ1bmN0aW9uKHQpe3ZhciBlPXtpZDp0LmlkLGZpeGVkOm8ubm9kZXMuZml4ZWQmJm51bGwhPXQueCYmbnVsbCE9dC55fTtyZXR1cm4gbnVsbCE9dC5hdHRyaWJ1dGVzJiYoZS5hdHRyaWJ1dGVzPXQuYXR0cmlidXRlcyksbnVsbCE9dC5sYWJlbCYmKGUubGFiZWw9dC5sYWJlbCksbnVsbCE9dC5zaXplJiYoZS5zaXplPXQuc2l6ZSksbnVsbCE9dC5hdHRyaWJ1dGVzJiZudWxsIT10LmF0dHJpYnV0ZXMudGl0bGUmJihlLnRpdGxlPXQuYXR0cmlidXRlcy50aXRsZSksbnVsbCE9dC50aXRsZSYmKGUudGl0bGU9dC50aXRsZSksbnVsbCE9dC54JiYoZS54PXQueCksbnVsbCE9dC55JiYoZS55PXQueSksbnVsbCE9dC5jb2xvciYmKCEwPT09by5ub2Rlcy5wYXJzZUNvbG9yP2UuY29sb3I9dC5jb2xvcjplLmNvbG9yPXtiYWNrZ3JvdW5kOnQuY29sb3IsYm9yZGVyOnQuY29sb3IsaGlnaGxpZ2h0OntiYWNrZ3JvdW5kOnQuY29sb3IsYm9yZGVyOnQuY29sb3J9LGhvdmVyOntiYWNrZ3JvdW5kOnQuY29sb3IsYm9yZGVyOnQuY29sb3J9fSksZX0pKSxlZGdlczpyfX12YXIgWGI9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwscGFyc2VHZXBoaTpZYn0pLEtiPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGNuOnthZGREZXNjcmlwdGlvbjpcIuWNleWHu+epuueZveWkhOaUvue9ruaWsOiKgueCueOAglwiLGFkZEVkZ2U6XCLmt7vliqDov57mjqXnur9cIixhZGROb2RlOlwi5re75Yqg6IqC54K5XCIsYmFjazpcIui/lOWbnlwiLGNsb3NlOlwi6Zec6ZaJXCIsY3JlYXRlRWRnZUVycm9yOlwi5peg5rOV5bCG6L+e5o6l57q/6L+e5o6l5Yiw576k6ZuG44CCXCIsZGVsOlwi5Yig6Zmk6YCJ5a6aXCIsZGVsZXRlQ2x1c3RlckVycm9yOlwi5peg5rOV5Yig6Zmk576k6ZuG44CCXCIsZWRnZURlc2NyaXB0aW9uOlwi5Y2V5Ye75p+Q5Liq6IqC54K55bm25bCG6K+l6L+e5o6l57q/5ouW5Yqo5Yiw5Y+m5LiA5Liq6IqC54K55Lul6L+e5o6l5a6D5Lus44CCXCIsZWRpdDpcIue8lui+kVwiLGVkaXRDbHVzdGVyRXJyb3I6XCLml6Dms5XnvJbovpHnvqTpm4bjgIJcIixlZGl0RWRnZTpcIue8lui+kei/nuaOpee6v1wiLGVkaXRFZGdlRGVzY3JpcHRpb246XCLljZXlh7vmjqfliLboioLngrnlubblsIblroPku6zmi5bliLDoioLngrnkuIrov57mjqXjgIJcIixlZGl0Tm9kZTpcIue8lui+keiKgueCuVwifSxjczp7YWRkRGVzY3JpcHRpb246XCJLbHVrbnV0w61tIGRvIHByw6F6ZG7DqWhvIHByb3N0b3J1IG3Fr8W+ZXRlIHDFmWlkYXQgbm92w70gdnJjaG9sLlwiLGFkZEVkZ2U6XCJQxZlpZGF0IGhyYW51XCIsYWRkTm9kZTpcIlDFmWlkYXQgdnJjaG9sXCIsYmFjazpcIlpwxJt0XCIsY2xvc2U6XCJaYXbFmcOtdFwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk5lbHplIHDFmWlwb2ppdCBocmFudSBrZSBzaGx1a3UuXCIsZGVsOlwiU21hemF0IHbDvWLEm3JcIixkZWxldGVDbHVzdGVyRXJyb3I6XCJOZWx6ZSBtYXphdCBzaGx1a3kuXCIsZWRnZURlc2NyaXB0aW9uOlwiUMWZZXRhxb5lbsOtbSB6IGplZG5vaG8gdnJjaG9sdSBkbyBkcnVow6lobyBtxa/FvmV0ZSBzcG9qaXQgdHl0byB2cmNob2x5IG5vdm91IGhyYW5vdS5cIixlZGl0OlwiVXByYXZpdFwiLGVkaXRDbHVzdGVyRXJyb3I6XCJOZWx6ZSB1cHJhdm92YXQgc2hsdWt5LlwiLGVkaXRFZGdlOlwiVXByYXZpdCBocmFudVwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCJQxZlldGHFvmVuw61tIGtvbnRyb2xuw61obyB2cmNob2x1IGhyYW55IGppIG3Fr8W+ZXRlIHDFmWlwb2ppdCBrIGppbsOpbXUgdnJjaG9sdS5cIixlZGl0Tm9kZTpcIlVwcmF2aXQgdnJjaG9sXCJ9LGRlOnthZGREZXNjcmlwdGlvbjpcIktsaWNrZSBhdWYgZWluZSBmcmVpZSBTdGVsbGUsIHVtIGVpbmVuIG5ldWVuIEtub3RlbiB6dSBwbGF6aWVyZW4uXCIsYWRkRWRnZTpcIkthbnRlIGhpbnp1ZsO8Z2VuXCIsYWRkTm9kZTpcIktub3RlbiBoaW56dWbDvGdlblwiLGJhY2s6XCJadXLDvGNrXCIsY2xvc2U6XCJTY2hsaWXDn2VuXCIsY3JlYXRlRWRnZUVycm9yOlwiRXMgaXN0IG5pY2h0IG3DtmdsaWNoLCBLYW50ZW4gbWl0IENsdXN0ZXJuIHp1IHZlcmJpbmRlbi5cIixkZWw6XCJMw7ZzY2hlIEF1c3dhaGxcIixkZWxldGVDbHVzdGVyRXJyb3I6XCJDbHVzdGVyIGvDtm5uZW4gbmljaHQgZ2Vsw7ZzY2h0IHdlcmRlbi5cIixlZGdlRGVzY3JpcHRpb246XCJLbGlja2UgYXVmIGVpbmVuIEtub3RlbiB1bmQgemllaGUgZGllIEthbnRlIHp1IGVpbmVtIGFuZGVyZW4gS25vdGVuLCB1bSBkaWVzZSB6dSB2ZXJiaW5kZW4uXCIsZWRpdDpcIkVkaXRpZXJlblwiLGVkaXRDbHVzdGVyRXJyb3I6XCJDbHVzdGVyIGvDtm5uZW4gbmljaHQgZWRpdGllcnQgd2VyZGVuLlwiLGVkaXRFZGdlOlwiS2FudGUgZWRpdGllcmVuXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIktsaWNrZSBhdWYgZGllIFZlcmJpbmR1bmdzcHVua3RlIHVuZCB6aWVoZSBkaWVzZSBhdWYgZWluZW4gS25vdGVuLCB1bSBzaWUgenUgdmVyYmluZGVuLlwiLGVkaXROb2RlOlwiS25vdGVuIGVkaXRpZXJlblwifSxlbjp7YWRkRGVzY3JpcHRpb246XCJDbGljayBpbiBhbiBlbXB0eSBzcGFjZSB0byBwbGFjZSBhIG5ldyBub2RlLlwiLGFkZEVkZ2U6XCJBZGQgRWRnZVwiLGFkZE5vZGU6XCJBZGQgTm9kZVwiLGJhY2s6XCJCYWNrXCIsY2xvc2U6XCJDbG9zZVwiLGNyZWF0ZUVkZ2VFcnJvcjpcIkNhbm5vdCBsaW5rIGVkZ2VzIHRvIGEgY2x1c3Rlci5cIixkZWw6XCJEZWxldGUgc2VsZWN0ZWRcIixkZWxldGVDbHVzdGVyRXJyb3I6XCJDbHVzdGVycyBjYW5ub3QgYmUgZGVsZXRlZC5cIixlZGdlRGVzY3JpcHRpb246XCJDbGljayBvbiBhIG5vZGUgYW5kIGRyYWcgdGhlIGVkZ2UgdG8gYW5vdGhlciBub2RlIHRvIGNvbm5lY3QgdGhlbS5cIixlZGl0OlwiRWRpdFwiLGVkaXRDbHVzdGVyRXJyb3I6XCJDbHVzdGVycyBjYW5ub3QgYmUgZWRpdGVkLlwiLGVkaXRFZGdlOlwiRWRpdCBFZGdlXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIkNsaWNrIG9uIHRoZSBjb250cm9sIHBvaW50cyBhbmQgZHJhZyB0aGVtIHRvIGEgbm9kZSB0byBjb25uZWN0IHRvIGl0LlwiLGVkaXROb2RlOlwiRWRpdCBOb2RlXCJ9LGVzOnthZGREZXNjcmlwdGlvbjpcIkhhZ2EgY2xpYyBlbiB1biBsdWdhciB2YWPDrW8gcGFyYSBjb2xvY2FyIHVuIG51ZXZvIG5vZG8uXCIsYWRkRWRnZTpcIkHDsWFkaXIgYXJpc3RhXCIsYWRkTm9kZTpcIkHDsWFkaXIgbm9kb1wiLGJhY2s6XCJBdHLDoXNcIixjbG9zZTpcIkNlcnJhclwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk5vIHNlIHB1ZWRlIGNvbmVjdGFyIHVuYSBhcmlzdGEgYSB1biBncnVwby5cIixkZWw6XCJFbGltaW5hciBzZWxlY2Npw7NuXCIsZGVsZXRlQ2x1c3RlckVycm9yOlwiTm8gZXMgcG9zaWJsZSBlbGltaW5hciBncnVwb3MuXCIsZWRnZURlc2NyaXB0aW9uOlwiSGFnYSBjbGljIGVuIHVuIG5vZG8geSBhcnJhc3RyZSBsYSBhcmlzdGEgaGFjaWEgb3RybyBub2RvIHBhcmEgY29uZWN0YXJsb3MuXCIsZWRpdDpcIkVkaXRhclwiLGVkaXRDbHVzdGVyRXJyb3I6XCJObyBlcyBwb3NpYmxlIGVkaXRhciBncnVwb3MuXCIsZWRpdEVkZ2U6XCJFZGl0YXIgYXJpc3RhXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIkhhZ2EgY2xpYyBlbiB1biBwdW50byBkZSBjb250cm9sIHkgYXJyYXN0cmVsbyBhIHVuIG5vZG8gcGFyYSBjb25lY3RhcmxvLlwiLGVkaXROb2RlOlwiRWRpdGFyIG5vZG9cIn0sZnI6e2FkZERlc2NyaXB0aW9uOlwiQ2xpcXVleiBkYW5zIHVuIGVuZHJvaXQgdmlkZSBwb3VyIHBsYWNlciB1biBuxZN1ZC5cIixhZGRFZGdlOlwiQWpvdXRlciB1biBsaWVuXCIsYWRkTm9kZTpcIkFqb3V0ZXIgdW4gbsWTdWRcIixiYWNrOlwiUmV0b3VyXCIsY2xvc2U6XCJGZXJtZXJcIixjcmVhdGVFZGdlRXJyb3I6XCJJbXBvc3NpYmxlIGRlIGNyw6llciB1biBsaWVuIHZlcnMgdW4gY2x1c3Rlci5cIixkZWw6XCJFZmZhY2VyIGxhIHPDqWxlY3Rpb25cIixkZWxldGVDbHVzdGVyRXJyb3I6XCJMZXMgY2x1c3RlcnMgbmUgcGV1dmVudCBwYXMgw6p0cmUgZWZmYWPDqXMuXCIsZWRnZURlc2NyaXB0aW9uOlwiQ2xpcXVleiBzdXIgdW4gbsWTdWQgZXQgZ2xpc3NleiBsZSBsaWVuIHZlcnMgdW4gYXV0cmUgbsWTdWQgcG91ciBsZXMgY29ubmVjdGVyLlwiLGVkaXQ6XCLDiWRpdGVyXCIsZWRpdENsdXN0ZXJFcnJvcjpcIkxlcyBjbHVzdGVycyBuZSBwZXV2ZW50IHBhcyDDqnRyZSDDqWRpdMOpcy5cIixlZGl0RWRnZTpcIsOJZGl0ZXIgbGUgbGllblwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCJDbGlxdWV6IHN1ciBsZXMgcG9pbnRzIGRlIGNvbnRyw7RsZSBldCBnbGlzc2V6LWxlcyBwb3VyIGNvbm5lY3RlciB1biBuxZN1ZC5cIixlZGl0Tm9kZTpcIsOJZGl0ZXIgbGUgbsWTdWRcIn0saXQ6e2FkZERlc2NyaXB0aW9uOlwiQ2xpY2NhIHBlciBhZ2dpdW5nZXJlIHVuIG51b3ZvIG5vZG9cIixhZGRFZGdlOlwiQWdnaXVuZ2kgdW4gdmVydGljZVwiLGFkZE5vZGU6XCJBZ2dpdW5naSB1biBub2RvXCIsYmFjazpcIkluZGlldHJvXCIsY2xvc2U6XCJDaGl1ZGVyZVwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk5vbiBzaSBwb3Nzb25vIGNvbGxlZ2FyZSB2ZXJ0aWNpIGFkIHVuIGNsdXN0ZXJcIixkZWw6XCJDYW5jZWxsYSBsYSBzZWxlemlvbmVcIixkZWxldGVDbHVzdGVyRXJyb3I6XCJJIGNsdXN0ZXIgbm9uIHBvc3Nvbm8gZXNzZXJlIGNhbmNlbGxhdGlcIixlZGdlRGVzY3JpcHRpb246XCJDbGljY2Egc3UgdW4gbm9kbyBlIHRyYXNjaW5hbG8gYWQgdW4gYWx0cm8gbm9kbyBwZXIgY29ubmV0dGVybGkuXCIsZWRpdDpcIk1vZGlmaWNhXCIsZWRpdENsdXN0ZXJFcnJvcjpcIkkgY2x1c3RlcnMgbm9uIHBvc3Nvbm8gZXNzZXJlIG1vZGlmaWNhdGkuXCIsZWRpdEVkZ2U6XCJNb2RpZmljYSBpbCB2ZXJ0aWNlXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIkNsaWNjYSBzdWkgUHVudGkgZGkgY29udHJvbGxvIGUgdHJhc2NpbmFsaSBhZCB1biBub2RvIHBlciBjb25uZXR0ZXJsaS5cIixlZGl0Tm9kZTpcIk1vZGlmaWNhIGlsIG5vZG9cIn0sbmw6e2FkZERlc2NyaXB0aW9uOlwiS2xpayBvcCBlZW4gbGVlZyBnZWJpZWQgb20gZWVuIG5pZXV3ZSBub2RlIHRlIG1ha2VuLlwiLGFkZEVkZ2U6XCJMaW5rIHRvZXZvZWdlblwiLGFkZE5vZGU6XCJOb2RlIHRvZXZvZWdlblwiLGJhY2s6XCJUZXJ1Z1wiLGNsb3NlOlwiU2x1aXRlblwiLGNyZWF0ZUVkZ2VFcnJvcjpcIkthbiBnZWVuIGxpbmsgbWFrZW4gbmFhciBlZW4gY2x1c3Rlci5cIixkZWw6XCJTZWxlY3RpZSB2ZXJ3aWpkZXJlblwiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIGt1bm5lbiBuaWV0IHdvcmRlbiB2ZXJ3aWpkZXJkLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIktsaWsgb3AgZWVuIG5vZGUgZW4gc2xlZXAgZGUgbGluayBuYWFyIGVlbiBhbmRlcmUgbm9kZSBvbSB6ZSB0ZSB2ZXJiaW5kZW4uXCIsZWRpdDpcIldpanppZ2VuXCIsZWRpdENsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIGt1bm5lbiBuaWV0IHdvcmRlbiBhYW5nZXBhc3QuXCIsZWRpdEVkZ2U6XCJMaW5rIHdpanppZ2VuXCIsZWRpdEVkZ2VEZXNjcmlwdGlvbjpcIktsaWsgb3AgZGUgdmVyYmluZGluZ3NwdW50ZW4gZW4gc2xlZXAgemUgbmFhciBlZW4gbm9kZSBvbSBkYWFybWVlIHRlIHZlcmJpbmRlbi5cIixlZGl0Tm9kZTpcIk5vZGUgd2lqemlnZW5cIn0scHQ6e2FkZERlc2NyaXB0aW9uOlwiQ2xpcXVlIGVtIHVtIGVzcGHDp28gZW0gYnJhbmNvIHBhcmEgYWRpY2lvbmFyIHVtIG5vdm8gbsOzXCIsYWRkRWRnZTpcIkFkaWNpb25hciBhcmVzdGFcIixhZGROb2RlOlwiQWRpY2lvbmFyIG7Ds1wiLGJhY2s6XCJWb2x0YXJcIixjbG9zZTpcIkZlY2hhclwiLGNyZWF0ZUVkZ2VFcnJvcjpcIk7Do28gZm9pIHBvc3PDrXZlbCBsaW5rYXIgYXJlc3RhcyBhIHVtIGNsdXN0ZXIuXCIsZGVsOlwiUmVtb3ZlciBzZWxlY2lvbmFkb1wiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcIkNsdXN0ZXJzIG7Do28gcHVkZXJhbSBzZXIgcmVtb3ZpZG9zLlwiLGVkZ2VEZXNjcmlwdGlvbjpcIkNsaXF1ZSBlbSB1bSBuw7MgZSBhcnJhc3RlIGEgYXJlc3RhIGF0w6kgb3V0cm8gbsOzIHBhcmEgY29uZWN0w6EtbG9zXCIsZWRpdDpcIkVkaXRhclwiLGVkaXRDbHVzdGVyRXJyb3I6XCJDbHVzdGVycyBuw6NvIHB1ZGVyYW0gc2VyIGVkaXRhZG9zLlwiLGVkaXRFZGdlOlwiRWRpdGFyIGFyZXN0YVwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCJDbGlxdWUgbm9zIHBvbnRvcyBkZSBjb250cm9sZSBlIG9zIGFycmFzdGUgcGFyYSB1bSBuw7MgcGFyYSBjb25lY3TDoS1sb3NcIixlZGl0Tm9kZTpcIkVkaXRhciBuw7NcIn0scnU6e2FkZERlc2NyaXB0aW9uOlwi0JrQu9C40LrQvdC40YLQtSDQsiDRgdCy0L7QsdC+0LTQvdC+0LUg0LzQtdGB0YLQviwg0YfRgtC+0LHRiyDQtNC+0LHQsNCy0LjRgtGMINC90L7QstGL0Lkg0YPQt9C10LsuXCIsYWRkRWRnZTpcItCU0L7QsdCw0LLQuNGC0Ywg0YDQtdCx0YDQvlwiLGFkZE5vZGU6XCLQlNC+0LHQsNCy0LjRgtGMINGD0LfQtdC7XCIsYmFjazpcItCd0LDQt9Cw0LRcIixjbG9zZTpcItCX0LDQutGA0YvQstCw0YLRjFwiLGNyZWF0ZUVkZ2VFcnJvcjpcItCd0LXQstC+0LfQvNC+0LbQvdC+INGB0L7QtdC00LjQvdC40YLRjCDRgNC10LHRgNCwINCyINC60LvQsNGB0YLQtdGALlwiLGRlbDpcItCj0LTQsNC70LjRgtGMINCy0YvQsdGA0LDQvdC90L7QtVwiLGRlbGV0ZUNsdXN0ZXJFcnJvcjpcItCa0LvQsNGB0YLQtdGA0Ysg0L3QtSDQvNC+0LPRg9GCINCx0YvRgtGMINGD0LTQsNC70LXQvdGLXCIsZWRnZURlc2NyaXB0aW9uOlwi0JrQu9C40LrQvdC40YLQtSDQvdCwINGD0LfQtdC7INC4INC/0YDQvtGC0Y/QvdC40YLQtSDRgNC10LHRgNC+INC6INC00YDRg9Cz0L7QvNGDINGD0LfQu9GDLCDRh9GC0L7QsdGLINGB0L7QtdC00LjQvdC40YLRjCDQuNGFLlwiLGVkaXQ6XCLQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjFwiLGVkaXRDbHVzdGVyRXJyb3I6XCLQmtC70LDRgdGC0LXRgNGLINC90LXQtNC+0YHRgtGD0L/QvdGLINC00LvRjyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPLlwiLGVkaXRFZGdlOlwi0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YDQtdCx0YDQvlwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCLQmtC70LjQutC90LjRgtC1INC90LAg0LrQvtC90YLRgNC+0LvRjNC90YvQtSDRgtC+0YfQutC4INC4INC/0LXRgNC10YLQsNGJ0LjRgtC1INC40YUg0LIg0YPQt9C10LssINGH0YLQvtCx0Ysg0L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INC90LXQvNGDLlwiLGVkaXROb2RlOlwi0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0YPQt9C10LtcIn0sdWs6e2FkZERlc2NyaXB0aW9uOlwiS9C70ZbQutC90ZbRgtGMINC90LAg0LLRltC70YzQvdC1INC80ZbRgdGG0LUsINGJ0L7QsSDQtNC+0LTQsNGC0Lgg0L3QvtCy0LjQuSDQstGD0LfQvtC7LlwiLGFkZEVkZ2U6XCLQlNC+0LTQsNGC0Lgg0LrRgNCw0LlcIixhZGROb2RlOlwi0JTQvtC00LDRgtC4INCy0YPQt9C+0LtcIixiYWNrOlwi0J3QsNC30LDQtFwiLGNsb3NlOlwi0JfQsNC60YDQuNGC0LhcIixjcmVhdGVFZGdlRXJyb3I6XCLQndC1INC80L7QttC70LjQstC+INC+0LEn0ZTQtNC90LDRgtC4INC60YDQsNGXINCyINCz0YDRg9C/0YMuXCIsZGVsOlwi0JLQuNC00LDQu9C40YLQuCDQvtCx0YDQsNC90LVcIixkZWxldGVDbHVzdGVyRXJyb3I6XCLQk9GA0YPQv9C4INC90LUg0LzQvtC20YPRgtGMINCx0YPRgtC4INCy0LjQtNCw0LvQtdC90ZYuXCIsZWRnZURlc2NyaXB0aW9uOlwi0JrQu9GW0LrQvdGW0YLRjCDQvdCwINCy0YPQt9C+0Lsg0ZYg0L/QtdGA0LXRgtGP0LPQvdGW0YLRjCDQutGA0LDQuSDQtNC+INGW0L3RiNC+0LPQviDQstGD0LfQu9CwLCDRidC+0LEg0ZfRhSDQtyfRlNC00L3QsNGC0LguXCIsZWRpdDpcItCg0LXQtNCw0LPRg9Cy0LDRgtC4XCIsZWRpdENsdXN0ZXJFcnJvcjpcItCT0YDRg9C/0Lgg0L3QtdC00L7RgdGC0YPQv9C90ZYg0LTQu9GPINGA0LXQtNCw0LPRg9Cy0LDQvdC90Y8uXCIsZWRpdEVkZ2U6XCLQoNC10LTQsNCz0YPQstCw0YLQuCDQutGA0LDQuVwiLGVkaXRFZGdlRGVzY3JpcHRpb246XCLQmtC70ZbQutC90ZbRgtGMINC90LAg0LrQvtC90YLRgNC+0LvRjNC90ZYg0YLQvtGH0LrQuCDRliDQv9C10YDQtdGC0Y/Qs9C90ZbRgtGMINGX0YUg0YMg0LLRg9C30L7Quywg0YnQvtCxINC/0ZbQtNC60LvRjtGH0LjRgtC40YHRjyDQtNC+INC90YzQvtCz0L4uXCIsZWRpdE5vZGU6XCLQoNC10LTQsNCz0YPQstCw0YLQuCDQstGD0LfQvtC7XCJ9fSk7dmFyIEdiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZoKHRoaXMsdCksdGhpcy5OVU1fSVRFUkFUSU9OUz00LHRoaXMuaW1hZ2U9bmV3IEltYWdlLHRoaXMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIil9cmV0dXJuIHd1KHQsW3trZXk6XCJpbml0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5pbml0aWFsaXplZCgpKXt0aGlzLnNyYz10aGlzLmltYWdlLnNyYzt2YXIgdD10aGlzLmltYWdlLndpZHRoLGU9dGhpcy5pbWFnZS5oZWlnaHQ7dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWU7dmFyIGk9TWF0aC5mbG9vcihlLzIpLG89TWF0aC5mbG9vcihlLzQpLG49TWF0aC5mbG9vcihlLzgpLHI9TWF0aC5mbG9vcihlLzE2KSxzPU1hdGguZmxvb3IodC8yKSxhPU1hdGguZmxvb3IodC80KSxoPU1hdGguZmxvb3IodC84KSxkPU1hdGguZmxvb3IodC8xNik7dGhpcy5jYW52YXMud2lkdGg9MyphLHRoaXMuY2FudmFzLmhlaWdodD1pLHRoaXMuY29vcmRpbmF0ZXM9W1swLDAscyxpXSxbcywwLGEsb10sW3MsbyxoLG5dLFs1KmgsbyxkLHJdXSx0aGlzLl9maWxsTWlwTWFwKCl9fX0se2tleTpcImluaXRpYWxpemVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5jb29yZGluYXRlc319LHtrZXk6XCJfZmlsbE1pcE1hcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpLGU9dGhpcy5jb29yZGluYXRlc1swXTt0LmRyYXdJbWFnZSh0aGlzLmltYWdlLGVbMF0sZVsxXSxlWzJdLGVbM10pO2Zvcih2YXIgaT0xO2k8dGhpcy5OVU1fSVRFUkFUSU9OUztpKyspe3ZhciBvPXRoaXMuY29vcmRpbmF0ZXNbaS0xXSxuPXRoaXMuY29vcmRpbmF0ZXNbaV07dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsb1swXSxvWzFdLG9bMl0sb1szXSxuWzBdLG5bMV0sblsyXSxuWzNdKX19fSx7a2V5OlwiZHJhd0ltYWdlQXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtpZih0aGlzLmluaXRpYWxpemVkKCkpaWYoZT4yKXtlKj0uNTtmb3IodmFyIHM9MDtlPjImJnM8dGhpcy5OVU1fSVRFUkFUSU9OUzspZSo9LjUscys9MTtzPj10aGlzLk5VTV9JVEVSQVRJT05TJiYocz10aGlzLk5VTV9JVEVSQVRJT05TLTEpO3ZhciBhPXRoaXMuY29vcmRpbmF0ZXNbc107dC5kcmF3SW1hZ2UodGhpcy5jYW52YXMsYVswXSxhWzFdLGFbMl0sYVszXSxpLG8sbixyKX1lbHNlIHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsaSxvLG4scil9fV0pLHR9KCksJGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZoKHRoaXMsdCksdGhpcy5pbWFnZXM9e30sdGhpcy5pbWFnZUJyb2tlbj17fSx0aGlzLmNhbGxiYWNrPWV9cmV0dXJuIHd1KHQsW3trZXk6XCJfdHJ5bG9hZEJyb2tlblVybFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2b2lkIDAhPT10JiZ2b2lkIDAhPT1pJiYodm9pZCAwIT09ZT8oaS5pbWFnZS5vbmVycm9yPWZ1bmN0aW9uKCl7Y29uc29sZS5lcnJvcihcIkNvdWxkIG5vdCBsb2FkIGJyb2tlbkltYWdlOlwiLGUpfSxpLmltYWdlLnNyYz1lKTpjb25zb2xlLndhcm4oXCJObyBicm9rZW4gdXJsIGltYWdlIGRlZmluZWRcIikpfX0se2tleTpcIl9yZWRyYXdXaXRoSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNhbGxiYWNrJiZ0aGlzLmNhbGxiYWNrKHQpfX0se2tleTpcImxvYWRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbz10aGlzLmltYWdlc1t0XTtpZihvKXJldHVybiBvO3ZhciBuPW5ldyBHYjtyZXR1cm4gdGhpcy5pbWFnZXNbdF09bixuLmltYWdlLm9ubG9hZD1mdW5jdGlvbigpe2kuX2ZpeEltYWdlQ29vcmRpbmF0ZXMobi5pbWFnZSksbi5pbml0KCksaS5fcmVkcmF3V2l0aEltYWdlKG4pfSxuLmltYWdlLm9uZXJyb3I9ZnVuY3Rpb24oKXtjb25zb2xlLmVycm9yKFwiQ291bGQgbm90IGxvYWQgaW1hZ2U6XCIsdCksaS5fdHJ5bG9hZEJyb2tlblVybCh0LGUsbil9LG4uaW1hZ2Uuc3JjPXQsbn19LHtrZXk6XCJfZml4SW1hZ2VDb29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpezA9PT10LndpZHRoJiYoZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSx0LndpZHRoPXQub2Zmc2V0V2lkdGgsdC5oZWlnaHQ9dC5vZmZzZXRIZWlnaHQsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KSl9fV0pLHR9KCksWmI9e2V4cG9ydHM6e319LFFiPXMoKGZ1bmN0aW9uKCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIpe3ZhciB0PW5ldyBBcnJheUJ1ZmZlcig4KTtPYmplY3QuaXNFeHRlbnNpYmxlKHQpJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImFcIix7dmFsdWU6OH0pfX0pKSxKYj1zLHR3PWV0LGV3PWssaXc9UWIsb3c9T2JqZWN0LmlzRXh0ZW5zaWJsZSxudz1KYigoZnVuY3Rpb24oKXtvdygxKX0pKXx8aXc/ZnVuY3Rpb24odCl7cmV0dXJuISF0dyh0KSYmKCghaXd8fFwiQXJyYXlCdWZmZXJcIiE9PWV3KHQpKSYmKCFvd3x8b3codCkpKX06b3cscnc9IXMoKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSksc3c9TWksYXc9eSxodz1YaSxkdz1ldCxsdz1KdCxjdz1RZS5mLHV3PUpoLGZ3PWlkLHB3PW53LHZ3PXJ3LGd3PSExLHl3PW5lKFwibWV0YVwiKSxtdz0wLGJ3PWZ1bmN0aW9uKHQpe2N3KHQseXcse3ZhbHVlOntvYmplY3RJRDpcIk9cIittdysrLHdlYWtEYXRhOnt9fX0pfSx3dz1aYi5leHBvcnRzPXtlbmFibGU6ZnVuY3Rpb24oKXt3dy5lbmFibGU9ZnVuY3Rpb24oKXt9LGd3PSEwO3ZhciB0PXV3LmYsZT1hdyhbXS5zcGxpY2UpLGk9e307aVt5d109MSx0KGkpLmxlbmd0aCYmKHV3LmY9ZnVuY3Rpb24oaSl7Zm9yKHZhciBvPXQoaSksbj0wLHI9by5sZW5ndGg7bjxyO24rKylpZihvW25dPT09eXcpe2UobyxuLDEpO2JyZWFrfXJldHVybiBvfSxzdyh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6ITB9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOmZ3LmZ9KSl9LGZhc3RLZXk6ZnVuY3Rpb24odCxlKXtpZighZHcodCkpcmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDooXCJzdHJpbmdcIj09dHlwZW9mIHQ/XCJTXCI6XCJQXCIpK3Q7aWYoIWx3KHQseXcpKXtpZighcHcodCkpcmV0dXJuXCJGXCI7aWYoIWUpcmV0dXJuXCJFXCI7YncodCl9cmV0dXJuIHRbeXddLm9iamVjdElEfSxnZXRXZWFrRGF0YTpmdW5jdGlvbih0LGUpe2lmKCFsdyh0LHl3KSl7aWYoIXB3KHQpKXJldHVybiEwO2lmKCFlKXJldHVybiExO2J3KHQpfXJldHVybiB0W3l3XS53ZWFrRGF0YX0sb25GcmVlemU6ZnVuY3Rpb24odCl7cmV0dXJuIHZ3JiZndyYmcHcodCkmJiFsdyh0LHl3KSYmYncodCksdH19O2h3W3l3XT0hMDt2YXIga3c9WmIuZXhwb3J0cyxfdz1aZSx4dz1CLEV3PW9pLE93PVR0LEN3PVhzLFN3PUhpLFR3PWh0LE13PVRhLFB3PWthLER3PUhzLEl3PVR5cGVFcnJvcixCdz1mdW5jdGlvbih0LGUpe3RoaXMuc3RvcHBlZD10LHRoaXMucmVzdWx0PWV9LEZ3PUJ3LnByb3RvdHlwZSx6dz1mdW5jdGlvbih0LGUsaSl7dmFyIG8sbixyLHMsYSxoLGQsbD1pJiZpLnRoYXQsYz0hKCFpfHwhaS5BU19FTlRSSUVTKSx1PSEoIWl8fCFpLklTX1JFQ09SRCksZj0hKCFpfHwhaS5JU19JVEVSQVRPUikscD0hKCFpfHwhaS5JTlRFUlJVUFRFRCksdj1fdyhlLGwpLGc9ZnVuY3Rpb24odCl7cmV0dXJuIG8mJkR3KG8sXCJub3JtYWxcIix0KSxuZXcgQncoITAsdCl9LHk9ZnVuY3Rpb24odCl7cmV0dXJuIGM/KEV3KHQpLHA/dih0WzBdLHRbMV0sZyk6dih0WzBdLHRbMV0pKTpwP3YodCxnKTp2KHQpfTtpZih1KW89dC5pdGVyYXRvcjtlbHNlIGlmKGYpbz10O2Vsc2V7aWYoIShuPVB3KHQpKSl0aHJvdyBuZXcgSXcoT3codCkrXCIgaXMgbm90IGl0ZXJhYmxlXCIpO2lmKEN3KG4pKXtmb3Iocj0wLHM9U3codCk7cz5yO3IrKylpZigoYT15KHRbcl0pKSYmVHcoRncsYSkpcmV0dXJuIGE7cmV0dXJuIG5ldyBCdyghMSl9bz1Ndyh0LG4pfWZvcihoPXU/dC5uZXh0Om8ubmV4dDshKGQ9eHcoaCxvKSkuZG9uZTspe3RyeXthPXkoZC52YWx1ZSl9Y2F0Y2godCl7RHcobyxcInRocm93XCIsdCl9aWYoXCJvYmplY3RcIj09dHlwZW9mIGEmJmEmJlR3KEZ3LGEpKXJldHVybiBhfXJldHVybiBuZXcgQncoITEpfSxOdz1odCxBdz1UeXBlRXJyb3IsUnc9ZnVuY3Rpb24odCxlKXtpZihOdyhlLHQpKXJldHVybiB0O3Rocm93IG5ldyBBdyhcIkluY29ycmVjdCBpbnZvY2F0aW9uXCIpfSxqdz1NaSxMdz1yLEh3PWt3LFd3PXMsVnc9eWkscXc9encsVXc9UncsWXc9VCxYdz1ldCxLdz1ZLEd3PUdyLCR3PVFlLmYsWnc9emQuZm9yRWFjaCxRdz1QLEp3PUhuLnNldCx0az1Ibi5nZXR0ZXJGb3IsZWs9ZnVuY3Rpb24odCxlLGkpe3ZhciBvLG49LTEhPT10LmluZGV4T2YoXCJNYXBcIikscj0tMSE9PXQuaW5kZXhPZihcIldlYWtcIikscz1uP1wic2V0XCI6XCJhZGRcIixhPUx3W3RdLGg9YSYmYS5wcm90b3R5cGUsZD17fTtpZihRdyYmWXcoYSkmJihyfHxoLmZvckVhY2gmJiFXdygoZnVuY3Rpb24oKXsobmV3IGEpLmVudHJpZXMoKS5uZXh0KCl9KSkpKXt2YXIgbD0obz1lKChmdW5jdGlvbihlLGkpe0p3KFV3KGUsbCkse3R5cGU6dCxjb2xsZWN0aW9uOm5ldyBhfSksS3coaSl8fHF3KGksZVtzXSx7dGhhdDplLEFTX0VOVFJJRVM6bn0pfSkpKS5wcm90b3R5cGUsYz10ayh0KTtadyhbXCJhZGRcIixcImNsZWFyXCIsXCJkZWxldGVcIixcImZvckVhY2hcIixcImdldFwiLFwiaGFzXCIsXCJzZXRcIixcImtleXNcIixcInZhbHVlc1wiLFwiZW50cmllc1wiXSwoZnVuY3Rpb24odCl7dmFyIGU9XCJhZGRcIj09PXR8fFwic2V0XCI9PT10OyEodCBpbiBoKXx8ciYmXCJjbGVhclwiPT09dHx8VncobCx0LChmdW5jdGlvbihpLG8pe3ZhciBuPWModGhpcykuY29sbGVjdGlvbjtpZighZSYmciYmIVh3KGkpKXJldHVyblwiZ2V0XCI9PT10JiZ2b2lkIDA7dmFyIHM9blt0XSgwPT09aT8wOmksbyk7cmV0dXJuIGU/dGhpczpzfSkpfSkpLHJ8fCR3KGwsXCJzaXplXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYyh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSl9ZWxzZSBvPWkuZ2V0Q29uc3RydWN0b3IoZSx0LG4scyksSHcuZW5hYmxlKCk7cmV0dXJuIEd3KG8sdCwhMSwhMCksZFt0XT1vLGp3KHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxkKSxyfHxpLnNldFN0cm9uZyhvLHQsbiksb30saWs9UHIsb2s9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbyBpbiBlKWkmJmkudW5zYWZlJiZ0W29dP3Rbb109ZVtvXTppayh0LG8sZVtvXSxpKTtyZXR1cm4gdH0sbms9YXQscms9dmQsc2s9UCxhaz1mZShcInNwZWNpZXNcIiksaGs9YnIsZGs9dmQsbGs9b2ssY2s9WmUsdWs9UncsZms9WSxwaz16dyx2az1Ucyxnaz1Ncyx5az1mdW5jdGlvbih0KXt2YXIgZT1uayh0KTtzayYmZSYmIWVbYWtdJiZyayhlLGFrLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9LG1rPVAsYms9a3cuZmFzdEtleSx3az1Ibi5zZXQsa2s9SG4uZ2V0dGVyRm9yLF9rPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj10KChmdW5jdGlvbih0LG4pe3VrKHQsciksd2sodCx7dHlwZTplLGluZGV4OmhrKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxta3x8KHQuc2l6ZT0wKSxmayhuKXx8cGsobix0W29dLHt0aGF0OnQsQVNfRU5UUklFUzppfSl9KSkscj1uLnByb3RvdHlwZSxzPWtrKGUpLGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBvLG4scj1zKHQpLGE9aCh0LGUpO3JldHVybiBhP2EudmFsdWU9aTooci5sYXN0PWE9e2luZGV4Om49YmsoZSwhMCksa2V5OmUsdmFsdWU6aSxwcmV2aW91czpvPXIubGFzdCxuZXh0OnZvaWQgMCxyZW1vdmVkOiExfSxyLmZpcnN0fHwoci5maXJzdD1hKSxvJiYoby5uZXh0PWEpLG1rP3Iuc2l6ZSsrOnQuc2l6ZSsrLFwiRlwiIT09biYmKHIuaW5kZXhbbl09YSkpLHR9LGg9ZnVuY3Rpb24odCxlKXt2YXIgaSxvPXModCksbj1iayhlKTtpZihcIkZcIiE9PW4pcmV0dXJuIG8uaW5kZXhbbl07Zm9yKGk9by5maXJzdDtpO2k9aS5uZXh0KWlmKGkua2V5PT09ZSlyZXR1cm4gaX07cmV0dXJuIGxrKHIse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXModGhpcyksZT10LmluZGV4LGk9dC5maXJzdDtpOylpLnJlbW92ZWQ9ITAsaS5wcmV2aW91cyYmKGkucHJldmlvdXM9aS5wcmV2aW91cy5uZXh0PXZvaWQgMCksZGVsZXRlIGVbaS5pbmRleF0saT1pLm5leHQ7dC5maXJzdD10Lmxhc3Q9dm9pZCAwLG1rP3Quc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXMoZSksbz1oKGUsdCk7aWYobyl7dmFyIG49by5uZXh0LHI9by5wcmV2aW91cztkZWxldGUgaS5pbmRleFtvLmluZGV4XSxvLnJlbW92ZWQ9ITAsciYmKHIubmV4dD1uKSxuJiYobi5wcmV2aW91cz1yKSxpLmZpcnN0PT09byYmKGkuZmlyc3Q9biksaS5sYXN0PT09byYmKGkubGFzdD1yKSxtaz9pLnNpemUtLTplLnNpemUtLX1yZXR1cm4hIW99LGZvckVhY2g6ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9cyh0aGlzKSxvPWNrKHQsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApO2U9ZT9lLm5leHQ6aS5maXJzdDspZm9yKG8oZS52YWx1ZSxlLmtleSx0aGlzKTtlJiZlLnJlbW92ZWQ7KWU9ZS5wcmV2aW91c30saGFzOmZ1bmN0aW9uKHQpe3JldHVybiEhaCh0aGlzLHQpfX0pLGxrKHIsaT97Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPWgodGhpcyx0KTtyZXR1cm4gZSYmZS52YWx1ZX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodGhpcywwPT09dD8wOnQsZSl9fTp7YWRkOmZ1bmN0aW9uKHQpe3JldHVybiBhKHRoaXMsdD0wPT09dD8wOnQsdCl9fSksbWsmJmRrKHIsXCJzaXplXCIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyh0aGlzKS5zaXplfX0pLG59LHNldFN0cm9uZzpmdW5jdGlvbih0LGUsaSl7dmFyIG89ZStcIiBJdGVyYXRvclwiLG49a2soZSkscj1rayhvKTt2ayh0LGUsKGZ1bmN0aW9uKHQsZSl7d2sodGhpcyx7dHlwZTpvLHRhcmdldDp0LHN0YXRlOm4odCksa2luZDplLGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIHQ9cih0aGlzKSxlPXQua2luZCxpPXQubGFzdDtpJiZpLnJlbW92ZWQ7KWk9aS5wcmV2aW91cztyZXR1cm4gdC50YXJnZXQmJih0Lmxhc3Q9aT1pP2kubmV4dDp0LnN0YXRlLmZpcnN0KT9nayhcImtleXNcIj09PWU/aS5rZXk6XCJ2YWx1ZXNcIj09PWU/aS52YWx1ZTpbaS5rZXksaS52YWx1ZV0sITEpOih0LnRhcmdldD12b2lkIDAsZ2sodm9pZCAwLCEwKSl9KSxpP1wiZW50cmllc1wiOlwidmFsdWVzXCIsIWksITApLHlrKGUpfX07ZWsoXCJNYXBcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0pLF9rKTt2YXIgeGs9byhpdC5NYXApLEVrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZoKHRoaXMsdCksdGhpcy5jbGVhcigpLHRoaXMuX2RlZmF1bHRJbmRleD0wLHRoaXMuX2dyb3VwSW5kZXg9MCx0aGlzLl9kZWZhdWx0R3JvdXBzPVt7Ym9yZGVyOlwiIzJCN0NFOVwiLGJhY2tncm91bmQ6XCIjOTdDMkZDXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjMkI3Q0U5XCIsYmFja2dyb3VuZDpcIiNEMkU1RkZcIn0saG92ZXI6e2JvcmRlcjpcIiMyQjdDRTlcIixiYWNrZ3JvdW5kOlwiI0QyRTVGRlwifX0se2JvcmRlcjpcIiNGRkE1MDBcIixiYWNrZ3JvdW5kOlwiI0ZGRkYwMFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0ZGQTUwMFwiLGJhY2tncm91bmQ6XCIjRkZGRkEzXCJ9LGhvdmVyOntib3JkZXI6XCIjRkZBNTAwXCIsYmFja2dyb3VuZDpcIiNGRkZGQTNcIn19LHtib3JkZXI6XCIjRkEwQTEwXCIsYmFja2dyb3VuZDpcIiNGQjdFODFcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNGQTBBMTBcIixiYWNrZ3JvdW5kOlwiI0ZGQUZCMVwifSxob3Zlcjp7Ym9yZGVyOlwiI0ZBMEExMFwiLGJhY2tncm91bmQ6XCIjRkZBRkIxXCJ9fSx7Ym9yZGVyOlwiIzQxQTkwNlwiLGJhY2tncm91bmQ6XCIjN0JFMTQxXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjNDFBOTA2XCIsYmFja2dyb3VuZDpcIiNBMUVDNzZcIn0saG92ZXI6e2JvcmRlcjpcIiM0MUE5MDZcIixiYWNrZ3JvdW5kOlwiI0ExRUM3NlwifX0se2JvcmRlcjpcIiNFMTI5RjBcIixiYWNrZ3JvdW5kOlwiI0VCN0RGNFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0UxMjlGMFwiLGJhY2tncm91bmQ6XCIjRjBCM0Y1XCJ9LGhvdmVyOntib3JkZXI6XCIjRTEyOUYwXCIsYmFja2dyb3VuZDpcIiNGMEIzRjVcIn19LHtib3JkZXI6XCIjN0MyOUYwXCIsYmFja2dyb3VuZDpcIiNBRDg1RTRcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiM3QzI5RjBcIixiYWNrZ3JvdW5kOlwiI0QzQkRGMFwifSxob3Zlcjp7Ym9yZGVyOlwiIzdDMjlGMFwiLGJhY2tncm91bmQ6XCIjRDNCREYwXCJ9fSx7Ym9yZGVyOlwiI0MzN0YwMFwiLGJhY2tncm91bmQ6XCIjRkZBODA3XCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjQzM3RjAwXCIsYmFja2dyb3VuZDpcIiNGRkNBNjZcIn0saG92ZXI6e2JvcmRlcjpcIiNDMzdGMDBcIixiYWNrZ3JvdW5kOlwiI0ZGQ0E2NlwifX0se2JvcmRlcjpcIiM0MjIwRkJcIixiYWNrZ3JvdW5kOlwiIzZFNkVGRFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiIzQyMjBGQlwiLGJhY2tncm91bmQ6XCIjOUI5QkZEXCJ9LGhvdmVyOntib3JkZXI6XCIjNDIyMEZCXCIsYmFja2dyb3VuZDpcIiM5QjlCRkRcIn19LHtib3JkZXI6XCIjRkQ1QTc3XCIsYmFja2dyb3VuZDpcIiNGRkMwQ0JcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNGRDVBNzdcIixiYWNrZ3JvdW5kOlwiI0ZGRDFEOVwifSxob3Zlcjp7Ym9yZGVyOlwiI0ZENUE3N1wiLGJhY2tncm91bmQ6XCIjRkZEMUQ5XCJ9fSx7Ym9yZGVyOlwiIzRBRDYzQVwiLGJhY2tncm91bmQ6XCIjQzJGQUJDXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjNEFENjNBXCIsYmFja2dyb3VuZDpcIiNFNkZGRTNcIn0saG92ZXI6e2JvcmRlcjpcIiM0QUQ2M0FcIixiYWNrZ3JvdW5kOlwiI0U2RkZFM1wifX0se2JvcmRlcjpcIiM5OTAwMDBcIixiYWNrZ3JvdW5kOlwiI0VFMDAwMFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0JCMDAwMFwiLGJhY2tncm91bmQ6XCIjRkYzMzMzXCJ9LGhvdmVyOntib3JkZXI6XCIjQkIwMDAwXCIsYmFja2dyb3VuZDpcIiNGRjMzMzNcIn19LHtib3JkZXI6XCIjRkY2MDAwXCIsYmFja2dyb3VuZDpcIiNGRjYwMDBcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNGRjYwMDBcIixiYWNrZ3JvdW5kOlwiI0ZGNjAwMFwifSxob3Zlcjp7Ym9yZGVyOlwiI0ZGNjAwMFwiLGJhY2tncm91bmQ6XCIjRkY2MDAwXCJ9fSx7Ym9yZGVyOlwiIzk3QzJGQ1wiLGJhY2tncm91bmQ6XCIjMkI3Q0U5XCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRDJFNUZGXCIsYmFja2dyb3VuZDpcIiMyQjdDRTlcIn0saG92ZXI6e2JvcmRlcjpcIiNEMkU1RkZcIixiYWNrZ3JvdW5kOlwiIzJCN0NFOVwifX0se2JvcmRlcjpcIiMzOTk2MDVcIixiYWNrZ3JvdW5kOlwiIzI1NUMwM1wiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiIzM5OTYwNVwiLGJhY2tncm91bmQ6XCIjMjU1QzAzXCJ9LGhvdmVyOntib3JkZXI6XCIjMzk5NjA1XCIsYmFja2dyb3VuZDpcIiMyNTVDMDNcIn19LHtib3JkZXI6XCIjQjcwMDU0XCIsYmFja2dyb3VuZDpcIiNGRjAwN0VcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNCNzAwNTRcIixiYWNrZ3JvdW5kOlwiI0ZGMDA3RVwifSxob3Zlcjp7Ym9yZGVyOlwiI0I3MDA1NFwiLGJhY2tncm91bmQ6XCIjRkYwMDdFXCJ9fSx7Ym9yZGVyOlwiI0FEODVFNFwiLGJhY2tncm91bmQ6XCIjN0MyOUYwXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRDNCREYwXCIsYmFja2dyb3VuZDpcIiM3QzI5RjBcIn0saG92ZXI6e2JvcmRlcjpcIiNEM0JERjBcIixiYWNrZ3JvdW5kOlwiIzdDMjlGMFwifX0se2JvcmRlcjpcIiM0NTU3RkFcIixiYWNrZ3JvdW5kOlwiIzAwMEVBMVwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiIzZFNkVGRFwiLGJhY2tncm91bmQ6XCIjMDAwRUExXCJ9LGhvdmVyOntib3JkZXI6XCIjNkU2RUZEXCIsYmFja2dyb3VuZDpcIiMwMDBFQTFcIn19LHtib3JkZXI6XCIjRkZDMENCXCIsYmFja2dyb3VuZDpcIiNGRDVBNzdcIixoaWdobGlnaHQ6e2JvcmRlcjpcIiNGRkQxRDlcIixiYWNrZ3JvdW5kOlwiI0ZENUE3N1wifSxob3Zlcjp7Ym9yZGVyOlwiI0ZGRDFEOVwiLGJhY2tncm91bmQ6XCIjRkQ1QTc3XCJ9fSx7Ym9yZGVyOlwiI0MyRkFCQ1wiLGJhY2tncm91bmQ6XCIjNzRENjZBXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjRTZGRkUzXCIsYmFja2dyb3VuZDpcIiM3NEQ2NkFcIn0saG92ZXI6e2JvcmRlcjpcIiNFNkZGRTNcIixiYWNrZ3JvdW5kOlwiIzc0RDY2QVwifX0se2JvcmRlcjpcIiNFRTAwMDBcIixiYWNrZ3JvdW5kOlwiIzk5MDAwMFwiLGhpZ2hsaWdodDp7Ym9yZGVyOlwiI0ZGMzMzM1wiLGJhY2tncm91bmQ6XCIjQkIwMDAwXCJ9LGhvdmVyOntib3JkZXI6XCIjRkYzMzMzXCIsYmFja2dyb3VuZDpcIiNCQjAwMDBcIn19XSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17dXNlRGVmYXVsdEdyb3VwczohMH0sd28odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpfXJldHVybiB3dSh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtcInVzZURlZmF1bHRHcm91cHNcIl07aWYodm9pZCAwIT09dClmb3IodmFyIGkgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmLTE9PT1WdihlKS5jYWxsKGUsaSkpe3ZhciBvPXRbaV07dGhpcy5hZGQoaSxvKX19fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2dyb3Vwcz1uZXcgeGssdGhpcy5fZ3JvdXBOYW1lcz1bXX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLGk9dGhpcy5fZ3JvdXBzLmdldCh0KTtpZih2b2lkIDA9PT1pJiZlKWlmKCExPT09dGhpcy5vcHRpb25zLnVzZURlZmF1bHRHcm91cHMmJnRoaXMuX2dyb3VwTmFtZXMubGVuZ3RoPjApe3ZhciBvPXRoaXMuX2dyb3VwSW5kZXgldGhpcy5fZ3JvdXBOYW1lcy5sZW5ndGg7Kyt0aGlzLl9ncm91cEluZGV4LChpPXt9KS5jb2xvcj10aGlzLl9ncm91cHMuZ2V0KHRoaXMuX2dyb3VwTmFtZXNbb10pLHRoaXMuX2dyb3Vwcy5zZXQodCxpKX1lbHNle3ZhciBuPXRoaXMuX2RlZmF1bHRJbmRleCV0aGlzLl9kZWZhdWx0R3JvdXBzLmxlbmd0aDt0aGlzLl9kZWZhdWx0SW5kZXgrKywoaT17fSkuY29sb3I9dGhpcy5fZGVmYXVsdEdyb3Vwc1tuXSx0aGlzLl9ncm91cHMuc2V0KHQsaSl9cmV0dXJuIGl9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZ3JvdXBzLmhhcyh0KXx8dGhpcy5fZ3JvdXBOYW1lcy5wdXNoKHQpLHRoaXMuX2dyb3Vwcy5zZXQodCxlKSxlfX1dKSx0fSgpO01pKHt0YXJnZXQ6XCJOdW1iZXJcIixzdGF0OiEwfSx7aXNOYU46ZnVuY3Rpb24odCl7cmV0dXJuIHQhPXR9fSk7dmFyIE9rPW8oaXQuTnVtYmVyLmlzTmFOKSxDaz1yLmlzRmluaXRlLFNrPU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJkNrKHQpfTtNaSh7dGFyZ2V0OlwiTnVtYmVyXCIsc3RhdDohMH0se2lzRmluaXRlOlNrfSk7dmFyIFRrPW8oaXQuTnVtYmVyLmlzRmluaXRlKSxNaz16ZC5zb21lO01pKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohSGYoXCJzb21lXCIpfSx7c29tZTpmdW5jdGlvbih0KXtyZXR1cm4gTWsodGhpcyx0LGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgUGs9em8oXCJBcnJheVwiKS5zb21lLERrPWh0LElrPVBrLEJrPUFycmF5LnByb3RvdHlwZSxGaz1mdW5jdGlvbih0KXt2YXIgZT10LnNvbWU7cmV0dXJuIHQ9PT1Ca3x8RGsoQmssdCkmJmU9PT1Cay5zb21lP0lrOmV9LHprPW8oRmspLE5rPW8oaXQuT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyksQWs9e2V4cG9ydHM6e319LFJrPU1pLGprPXMsTGs9USxIaz1NLmYsV2s9UDtSayh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IVdrfHxqaygoZnVuY3Rpb24oKXtIaygxKX0pKSxzaGFtOiFXa30se2dldE93blByb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbih0LGUpe3JldHVybiBIayhMayh0KSxlKX19KTt2YXIgVms9aXQuT2JqZWN0LHFrPUFrLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gVmsuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsZSl9O1ZrLmdldE93blByb3BlcnR5RGVzY3JpcHRvci5zaGFtJiYocWsuc2hhbT0hMCk7dmFyIFVrPUFrLmV4cG9ydHMsWWs9byhVayksWGs9RWYsS2s9USxHaz1NLCRrPXZhO01pKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLHNoYW06IVB9LHtnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLG89S2sodCksbj1Hay5mLHI9WGsobykscz17fSxhPTA7ci5sZW5ndGg+YTspdm9pZCAwIT09KGk9bihvLGU9clthKytdKSkmJiRrKHMsZSxpKTtyZXR1cm4gc319KTt2YXIgWms9byhpdC5PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyksUWs9e2V4cG9ydHM6e319LEprPU1pLHRfPVAsZV89S24uZjtKayh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnRpZXMhPT1lXyxzaGFtOiF0X30se2RlZmluZVByb3BlcnRpZXM6ZV99KTt2YXIgaV89aXQuT2JqZWN0LG9fPVFrLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gaV8uZGVmaW5lUHJvcGVydGllcyh0LGUpfTtpXy5kZWZpbmVQcm9wZXJ0aWVzLnNoYW0mJihvXy5zaGFtPSEwKTt2YXIgbl89byhRay5leHBvcnRzKSxyXz1vKF9oKTtmdW5jdGlvbiBzXyh0LGUsaSl7cmV0dXJuKGU9bXUoZSkpaW4gdD94aCh0LGUse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W2VdPWksdH12YXIgYV89cixoXz1zLGRfPXVuLGxfPWJ2LnRyaW0sY189Y3YsdV89eShcIlwiLmNoYXJBdCksZl89YV8ucGFyc2VGbG9hdCxwXz1hXy5TeW1ib2wsdl89cF8mJnBfLml0ZXJhdG9yLGdfPTEvZl8oY18rXCItMFwiKSE9LTEvMHx8dl8mJiFoXygoZnVuY3Rpb24oKXtmXyhPYmplY3Qodl8pKX0pKT9mdW5jdGlvbih0KXt2YXIgZT1sXyhkXyh0KSksaT1mXyhlKTtyZXR1cm4gMD09PWkmJlwiLVwiPT09dV8oZSwwKT8tMDppfTpmXztNaSh7Z2xvYmFsOiEwLGZvcmNlZDpwYXJzZUZsb2F0IT09Z199LHtwYXJzZUZsb2F0OmdffSk7dmFyIHlfPW8oaXQucGFyc2VGbG9hdCksbV89TWksYl89cyx3Xz1pZC5mO21fKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpiXygoZnVuY3Rpb24oKXtyZXR1cm4hT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoMSl9KSl9LHtnZXRPd25Qcm9wZXJ0eU5hbWVzOndffSk7dmFyIGtfPWl0Lk9iamVjdCxfXz1mdW5jdGlvbih0KXtyZXR1cm4ga18uZ2V0T3duUHJvcGVydHlOYW1lcyh0KX0seF89byhfXyk7ZnVuY3Rpb24gRV8odCxlKXt2YXIgaT1bXCJub2RlXCIsXCJlZGdlXCIsXCJsYWJlbFwiXSxvPSEwLG49dGIoZSxcImNob3NlblwiKTtpZihcImJvb2xlYW5cIj09dHlwZW9mIG4pbz1uO2Vsc2UgaWYoXCJvYmplY3RcIj09PWd1KG4pKXtpZigtMT09PVZ2KGkpLmNhbGwoaSx0KSl0aHJvdyBuZXcgRXJyb3IoXCJjaG9vc2lmeTogc3ViT3B0aW9uICdcIit0K1wiJyBzaG91bGQgYmUgb25lIG9mICdcIitpLmpvaW4oXCInLCAnXCIpK1wiJ1wiKTt2YXIgcj10YihlLFtcImNob3NlblwiLHRdKTtcImJvb2xlYW5cIiE9dHlwZW9mIHImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHJ8fChvPXIpfXJldHVybiBvfWZ1bmN0aW9uIE9fKHQsZSxpKXtpZih0LndpZHRoPD0wfHx0LmhlaWdodDw9MClyZXR1cm4hMTtpZih2b2lkIDAhPT1pKXt2YXIgbz17eDplLngtaS54LHk6ZS55LWkueX07aWYoMCE9PWkuYW5nbGUpe3ZhciBuPS1pLmFuZ2xlO2U9e3g6TWF0aC5jb3Mobikqby54LU1hdGguc2luKG4pKm8ueSx5Ok1hdGguc2luKG4pKm8ueCtNYXRoLmNvcyhuKSpvLnl9fWVsc2UgZT1vfXZhciByPXQueCt0LndpZHRoLHM9dC55K3Qud2lkdGg7cmV0dXJuIHQubGVmdDxlLngmJnI+ZS54JiZ0LnRvcDxlLnkmJnM+ZS55fWZ1bmN0aW9uIENfKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiZcIlwiIT09dH1mdW5jdGlvbiBTXyh0LGUsaSxvKXt2YXIgbj1vLngscj1vLnk7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygby5kaXN0YW5jZVRvQm9yZGVyKXt2YXIgcz1vLmRpc3RhbmNlVG9Cb3JkZXIodCxlKSxhPU1hdGguc2luKGUpKnMsaD1NYXRoLmNvcyhlKSpzO2g9PT1zPyhuKz1zLHI9by55KTphPT09cz8obj1vLngsci09cyk6KG4rPWgsci09YSl9ZWxzZSBvLnNoYXBlLndpZHRoPm8uc2hhcGUuaGVpZ2h0PyhuPW8ueCsuNSpvLnNoYXBlLndpZHRoLHI9by55LWkpOihuPW8ueCtpLHI9by55LS41Km8uc2hhcGUuaGVpZ2h0KTtyZXR1cm57eDpuLHk6cn19dmFyIFRfPXpvKFwiQXJyYXlcIikudmFsdWVzLE1fPWRuLFBfPUp0LERfPWh0LElfPVRfLEJfPUFycmF5LnByb3RvdHlwZSxGXz17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSx6Xz1mdW5jdGlvbih0KXt2YXIgZT10LnZhbHVlcztyZXR1cm4gdD09PUJffHxEXyhCXyx0KSYmZT09PUJfLnZhbHVlc3x8UF8oRl8sTV8odCkpP0lfOmV9LE5fPW8oel8pLEFfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2aCh0aGlzLHQpLHRoaXMubWVhc3VyZVRleHQ9ZSx0aGlzLmN1cnJlbnQ9MCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmxpbmVzPVtdfXJldHVybiB3dSh0LFt7a2V5OlwiX2FkZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlwibm9ybWFsXCI7dm9pZCAwPT09dGhpcy5saW5lc1t0XSYmKHRoaXMubGluZXNbdF09e3dpZHRoOjAsaGVpZ2h0OjAsYmxvY2tzOltdfSk7dmFyIG89ZTt2b2lkIDAhPT1lJiZcIlwiIT09ZXx8KG89XCIgXCIpO3ZhciBuPXRoaXMubWVhc3VyZVRleHQobyxpKSxyPXdvKHt9LE5fKG4pKTtyLnRleHQ9ZSxyLndpZHRoPW4ud2lkdGgsci5tb2Q9aSx2b2lkIDAhPT1lJiZcIlwiIT09ZXx8KHIud2lkdGg9MCksdGhpcy5saW5lc1t0XS5ibG9ja3MucHVzaChyKSx0aGlzLmxpbmVzW3RdLndpZHRoKz1yLndpZHRofX0se2tleTpcImN1cldpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxpbmVzW3RoaXMuY3VycmVudF07cmV0dXJuIHZvaWQgMD09PXQ/MDp0LndpZHRofX0se2tleTpcImFwcGVuZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIm5vcm1hbFwiO3RoaXMuX2FkZCh0aGlzLmN1cnJlbnQsdCxlKX19LHtrZXk6XCJuZXdMaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwibm9ybWFsXCI7dGhpcy5fYWRkKHRoaXMuY3VycmVudCx0LGUpLHRoaXMuY3VycmVudCsrfX0se2tleTpcImRldGVybWluZUxpbmVIZWlnaHRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubGluZXMubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy5saW5lc1t0XSxpPTA7aWYodm9pZCAwIT09ZS5ibG9ja3MpZm9yKHZhciBvPTA7bzxlLmJsb2Nrcy5sZW5ndGg7bysrKXt2YXIgbj1lLmJsb2Nrc1tvXTtpPG4uaGVpZ2h0JiYoaT1uLmhlaWdodCl9ZS5oZWlnaHQ9aX19fSx7a2V5OlwiZGV0ZXJtaW5lTGFiZWxTaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxlPTAsaT0wO2k8dGhpcy5saW5lcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzLmxpbmVzW2ldO28ud2lkdGg+dCYmKHQ9by53aWR0aCksZSs9by5oZWlnaHR9dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWV9fSx7a2V5OlwicmVtb3ZlRW1wdHlCbG9ja3NcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmxpbmVzLmxlbmd0aDtlKyspe3ZhciBpPXRoaXMubGluZXNbZV07aWYoMCE9PWkuYmxvY2tzLmxlbmd0aCYmKGUhPT10aGlzLmxpbmVzLmxlbmd0aC0xfHwwIT09aS53aWR0aCkpe3ZhciBvPXt9O3dvKG8saSksby5ibG9ja3M9W107Zm9yKHZhciBuPXZvaWQgMCxyPVtdLHM9MDtzPGkuYmxvY2tzLmxlbmd0aDtzKyspe3ZhciBhPWkuYmxvY2tzW3NdOzAhPT1hLndpZHRoP3IucHVzaChhKTp2b2lkIDA9PT1uJiYobj1hKX0wPT09ci5sZW5ndGgmJnZvaWQgMCE9PW4mJnIucHVzaChuKSxvLmJsb2Nrcz1yLHQucHVzaChvKX19cmV0dXJuIHR9fSx7a2V5OlwiZmluYWxpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGV0ZXJtaW5lTGluZUhlaWdodHMoKSx0aGlzLmRldGVybWluZUxhYmVsU2l6ZSgpO3ZhciB0PXRoaXMucmVtb3ZlRW1wdHlCbG9ja3MoKTtyZXR1cm57d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsbGluZXM6dH19fV0pLHR9KCksUl89e1wiPGI+XCI6LzxiPi8sXCI8aT5cIjovPGk+LyxcIjxjb2RlPlwiOi88Y29kZT4vLFwiPC9iPlwiOi88XFwvYj4vLFwiPC9pPlwiOi88XFwvaT4vLFwiPC9jb2RlPlwiOi88XFwvY29kZT4vLFwiKlwiOi9cXCovLF86L18vLFwiYFwiOi9gLyxhZnRlckJvbGQ6L1teKl0vLGFmdGVySXRhbDovW15fXS8sYWZ0ZXJNb25vOi9bXmBdL30sal89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZoKHRoaXMsdCksdGhpcy50ZXh0PWUsdGhpcy5ib2xkPSExLHRoaXMuaXRhbD0hMSx0aGlzLm1vbm89ITEsdGhpcy5zcGFjaW5nPSExLHRoaXMucG9zaXRpb249MCx0aGlzLmJ1ZmZlcj1cIlwiLHRoaXMubW9kU3RhY2s9W10sdGhpcy5ibG9ja3M9W119cmV0dXJuIHd1KHQsW3trZXk6XCJtb2RcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5tb2RTdGFjay5sZW5ndGg/XCJub3JtYWxcIjp0aGlzLm1vZFN0YWNrWzBdfX0se2tleTpcIm1vZE5hbWVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5tb2RTdGFjay5sZW5ndGg/XCJub3JtYWxcIjpcIm1vbm9cIj09PXRoaXMubW9kU3RhY2tbMF0/XCJtb25vXCI6dGhpcy5ib2xkJiZ0aGlzLml0YWw/XCJib2xkaXRhbFwiOnRoaXMuYm9sZD9cImJvbGRcIjp0aGlzLml0YWw/XCJpdGFsXCI6dm9pZCAwfX0se2tleTpcImVtaXRCbG9ja1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zcGFjaW5nJiYodGhpcy5hZGQoXCIgXCIpLHRoaXMuc3BhY2luZz0hMSksdGhpcy5idWZmZXIubGVuZ3RoPjAmJih0aGlzLmJsb2Nrcy5wdXNoKHt0ZXh0OnRoaXMuYnVmZmVyLG1vZDp0aGlzLm1vZE5hbWUoKX0pLHRoaXMuYnVmZmVyPVwiXCIpfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe1wiIFwiPT09dCYmKHRoaXMuc3BhY2luZz0hMCksdGhpcy5zcGFjaW5nJiYodGhpcy5idWZmZXIrPVwiIFwiLHRoaXMuc3BhY2luZz0hMSksXCIgXCIhPXQmJih0aGlzLmJ1ZmZlcis9dCl9fSx7a2V5OlwicGFyc2VXU1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiEhL1sgXFx0XS8udGVzdCh0KSYmKHRoaXMubW9ubz90aGlzLmFkZCh0KTp0aGlzLnNwYWNpbmc9ITAsITApfX0se2tleTpcInNldFRhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdEJsb2NrKCksdGhpc1t0XT0hMCx0aGlzLm1vZFN0YWNrLnVuc2hpZnQodCl9fSx7a2V5OlwidW5zZXRUYWdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmVtaXRCbG9jaygpLHRoaXNbdF09ITEsdGhpcy5tb2RTdGFjay5zaGlmdCgpfX0se2tleTpcInBhcnNlU3RhcnRUYWdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiEodGhpcy5tb25vfHx0aGlzW3RdfHwhdGhpcy5tYXRjaChlKSkmJih0aGlzLnNldFRhZyh0KSwhMCl9fSx7a2V5OlwibWF0Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLGk9ZGYodGhpcy5wcmVwYXJlUmVnRXhwKHQpLDIpLG89aVswXSxuPWlbMV0scj1vLnRlc3QodGhpcy50ZXh0LnN1YnN0cih0aGlzLnBvc2l0aW9uLG4pKTtyZXR1cm4gciYmZSYmKHRoaXMucG9zaXRpb24rPW4tMSkscn19LHtrZXk6XCJwYXJzZUVuZFRhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLm1vZCgpPT09dDtyZXR1cm4hKCEobz1cIm1vbm9cIj09PXQ/byYmdGhpcy5tb25vOm8mJiF0aGlzLm1vbm8pfHwhdGhpcy5tYXRjaChlKSkmJih2b2lkIDAhPT1pPyh0aGlzLnBvc2l0aW9uPT09dGhpcy50ZXh0Lmxlbmd0aC0xfHx0aGlzLm1hdGNoKGksITEpKSYmdGhpcy51bnNldFRhZyh0KTp0aGlzLnVuc2V0VGFnKHQpLCEwKX19LHtrZXk6XCJyZXBsYWNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hIXRoaXMubWF0Y2godCkmJih0aGlzLmFkZChlKSx0aGlzLnBvc2l0aW9uKz1sZW5ndGgtMSwhMCl9fSx7a2V5OlwicHJlcGFyZVJlZ0V4cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk7aWYodCBpbnN0YW5jZW9mIFJlZ0V4cClpPXQsZT0xO2Vsc2V7dmFyIG89Ul9bdF07aT12b2lkIDAhPT1vP286bmV3IFJlZ0V4cCh0KSxlPXQubGVuZ3RofXJldHVybltpLGVdfX1dKSx0fSgpLExfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyxuKXt2YXIgcj10aGlzO3ZoKHRoaXMsdCksdGhpcy5jdHg9ZSx0aGlzLnBhcmVudD1pLHRoaXMuc2VsZWN0ZWQ9byx0aGlzLmhvdmVyPW47dGhpcy5saW5lcz1uZXcgQV8oKGZ1bmN0aW9uKHQsaSl7aWYodm9pZCAwPT09dClyZXR1cm4gMDt2YXIgcz1yLnBhcmVudC5nZXRGb3JtYXR0aW5nVmFsdWVzKGUsbyxuLGkpLGE9MDtcIlwiIT09dCYmKGE9ci5jdHgubWVhc3VyZVRleHQodCkud2lkdGgpO3JldHVybnt3aWR0aDphLHZhbHVlczpzfX0pKX1yZXR1cm4gd3UodCxbe2tleTpcInByb2Nlc3NcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighQ18odCkpcmV0dXJuIHRoaXMubGluZXMuZmluYWxpemUoKTt2YXIgZT10aGlzLnBhcmVudC5mb250T3B0aW9uczt0PSh0PXQucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpO3ZhciBpPVN0cmluZyh0KS5zcGxpdChcIlxcblwiKSxvPWkubGVuZ3RoO2lmKGUubXVsdGkpZm9yKHZhciBuPTA7bjxvO24rKyl7dmFyIHI9dGhpcy5zcGxpdEJsb2NrcyhpW25dLGUubXVsdGkpO2lmKHZvaWQgMCE9PXIpaWYoMCE9PXIubGVuZ3RoKXtpZihlLm1heFdkdD4wKWZvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgYT1yW3NdLm1vZCxoPXJbc10udGV4dDt0aGlzLnNwbGl0U3RyaW5nSW50b0xpbmVzKGgsYSwhMCl9ZWxzZSBmb3IodmFyIGQ9MDtkPHIubGVuZ3RoO2QrKyl7dmFyIGw9cltkXS5tb2QsYz1yW2RdLnRleHQ7dGhpcy5saW5lcy5hcHBlbmQoYyxsKX10aGlzLmxpbmVzLm5ld0xpbmUoKX1lbHNlIHRoaXMubGluZXMubmV3TGluZShcIlwiKX1lbHNlIGlmKGUubWF4V2R0PjApZm9yKHZhciB1PTA7dTxvO3UrKyl0aGlzLnNwbGl0U3RyaW5nSW50b0xpbmVzKGlbdV0pO2Vsc2UgZm9yKHZhciBmPTA7ZjxvO2YrKyl0aGlzLmxpbmVzLm5ld0xpbmUoaVtmXSk7cmV0dXJuIHRoaXMubGluZXMuZmluYWxpemUoKX19LHtrZXk6XCJkZWNvZGVNYXJrdXBTeXN0ZW1cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1cIm5vbmVcIjtyZXR1cm5cIm1hcmtkb3duXCI9PT10fHxcIm1kXCI9PT10P2U9XCJtYXJrZG93blwiOiEwIT09dCYmXCJodG1sXCIhPT10fHwoZT1cImh0bWxcIiksZX19LHtrZXk6XCJzcGxpdEh0bWxCbG9ja3NcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGpfKHQpLGk9ZnVuY3Rpb24odCl7cmV0dXJuISEvJi8udGVzdCh0KSYmKGUucmVwbGFjZShlLnRleHQsXCImbHQ7XCIsXCI8XCIpfHxlLnJlcGxhY2UoZS50ZXh0LFwiJmFtcDtcIixcIiZcIil8fGUuYWRkKFwiJlwiKSwhMCl9O2UucG9zaXRpb248ZS50ZXh0Lmxlbmd0aDspe3ZhciBvPWUudGV4dC5jaGFyQXQoZS5wb3NpdGlvbik7ZS5wYXJzZVdTKG8pfHwvPC8udGVzdChvKSYmKGUucGFyc2VTdGFydFRhZyhcImJvbGRcIixcIjxiPlwiKXx8ZS5wYXJzZVN0YXJ0VGFnKFwiaXRhbFwiLFwiPGk+XCIpfHxlLnBhcnNlU3RhcnRUYWcoXCJtb25vXCIsXCI8Y29kZT5cIil8fGUucGFyc2VFbmRUYWcoXCJib2xkXCIsXCI8L2I+XCIpfHxlLnBhcnNlRW5kVGFnKFwiaXRhbFwiLFwiPC9pPlwiKXx8ZS5wYXJzZUVuZFRhZyhcIm1vbm9cIixcIjwvY29kZT5cIikpfHxpKG8pfHxlLmFkZChvKSxlLnBvc2l0aW9uKyt9cmV0dXJuIGUuZW1pdEJsb2NrKCksZS5ibG9ja3N9fSx7a2V5Olwic3BsaXRNYXJrZG93bkJsb2Nrc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLGk9bmV3IGpfKHQpLG89ITAsbj1mdW5jdGlvbih0KXtyZXR1cm4hIS9cXFxcLy50ZXN0KHQpJiYoaS5wb3NpdGlvbjxlLnRleHQubGVuZ3RoKzEmJihpLnBvc2l0aW9uKyssdD1lLnRleHQuY2hhckF0KGkucG9zaXRpb24pLC8gXFx0Ly50ZXN0KHQpP2kuc3BhY2luZz0hMDooaS5hZGQodCksbz0hMSkpLCEwKX07aS5wb3NpdGlvbjxpLnRleHQubGVuZ3RoOyl7dmFyIHI9aS50ZXh0LmNoYXJBdChpLnBvc2l0aW9uKTtpLnBhcnNlV1Mocil8fG4ocil8fChvfHxpLnNwYWNpbmcpJiYoaS5wYXJzZVN0YXJ0VGFnKFwiYm9sZFwiLFwiKlwiKXx8aS5wYXJzZVN0YXJ0VGFnKFwiaXRhbFwiLFwiX1wiKXx8aS5wYXJzZVN0YXJ0VGFnKFwibW9ub1wiLFwiYFwiKSl8fGkucGFyc2VFbmRUYWcoXCJib2xkXCIsXCIqXCIsXCJhZnRlckJvbGRcIil8fGkucGFyc2VFbmRUYWcoXCJpdGFsXCIsXCJfXCIsXCJhZnRlckl0YWxcIil8fGkucGFyc2VFbmRUYWcoXCJtb25vXCIsXCJgXCIsXCJhZnRlck1vbm9cIil8fChpLmFkZChyKSxvPSExKSxpLnBvc2l0aW9uKyt9cmV0dXJuIGkuZW1pdEJsb2NrKCksaS5ibG9ja3N9fSx7a2V5Olwic3BsaXRCbG9ja3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZGVjb2RlTWFya3VwU3lzdGVtKGUpO3JldHVyblwibm9uZVwiPT09aT9be3RleHQ6dCxtb2Q6XCJub3JtYWxcIn1dOlwibWFya2Rvd25cIj09PWk/dGhpcy5zcGxpdE1hcmtkb3duQmxvY2tzKHQpOlwiaHRtbFwiPT09aT90aGlzLnNwbGl0SHRtbEJsb2Nrcyh0KTp2b2lkIDB9fSx7a2V5Olwib3Zlck1heFdpZHRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jdHgubWVhc3VyZVRleHQodCkud2lkdGg7cmV0dXJuIHRoaXMubGluZXMuY3VyV2lkdGgoKStlPnRoaXMucGFyZW50LmZvbnRPcHRpb25zLm1heFdkdH19LHtrZXk6XCJnZXRMb25nZXN0Rml0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiXCIsaT0wO2k8dC5sZW5ndGg7KXt2YXIgbz1lKyhcIlwiPT09ZT9cIlwiOlwiIFwiKSt0W2ldO2lmKHRoaXMub3Zlck1heFdpZHRoKG8pKWJyZWFrO2U9byxpKyt9cmV0dXJuIGl9fSx7a2V5OlwiZ2V0TG9uZ2VzdEZpdFdvcmRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoJiYhdGhpcy5vdmVyTWF4V2lkdGgobWYodCkuY2FsbCh0LDAsZSkpOyllKys7cmV0dXJuIGV9fSx7a2V5Olwic3BsaXRTdHJpbmdJbnRvTGluZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJub3JtYWxcIixpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl07dGhpcy5wYXJlbnQuZ2V0Rm9ybWF0dGluZ1ZhbHVlcyh0aGlzLmN0eCx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsZSk7Zm9yKHZhciBvPSh0PSh0PXQucmVwbGFjZSgvXiggKykvZyxcIiQxXFxyXCIpKS5yZXBsYWNlKC8oW15cXHJdW14gXSopKCArKS9nLFwiJDFcXHIkMlxcclwiKSkuc3BsaXQoXCJcXHJcIik7by5sZW5ndGg+MDspe3ZhciBuPXRoaXMuZ2V0TG9uZ2VzdEZpdChvKTtpZigwPT09bil7dmFyIHI9b1swXSxzPXRoaXMuZ2V0TG9uZ2VzdEZpdFdvcmQocik7dGhpcy5saW5lcy5uZXdMaW5lKG1mKHIpLmNhbGwociwwLHMpLGUpLG9bMF09bWYocikuY2FsbChyLHMpfWVsc2V7dmFyIGE9bjtcIiBcIj09PW9bbi0xXT9uLS06XCIgXCI9PT1vW2FdJiZhKys7dmFyIGg9bWYobykuY2FsbChvLDAsbikuam9pbihcIlwiKTtuPT1vLmxlbmd0aCYmaT90aGlzLmxpbmVzLmFwcGVuZChoLGUpOnRoaXMubGluZXMubmV3TGluZShoLGUpLG89bWYobykuY2FsbChvLGEpfX19fV0pLHR9KCksSF89W1wiYm9sZFwiLFwiaXRhbFwiLFwiYm9sZGl0YWxcIixcIm1vbm9cIl0sV189ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucG9pbnRUb1NlbGY9ITEsdGhpcy5iYXNlU2l6ZT12b2lkIDAsdGhpcy5mb250T3B0aW9ucz17fSx0aGlzLnNldE9wdGlvbnMoaSksdGhpcy5zaXplPXt0b3A6MCxsZWZ0OjAsd2lkdGg6MCxoZWlnaHQ6MCx5TGluZTowfSx0aGlzLmlzRWRnZUxhYmVsPW99cmV0dXJuIHd1KHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5lbGVtZW50T3B0aW9ucz10LHRoaXMuaW5pdEZvbnRPcHRpb25zKHQuZm9udCksQ18odC5sYWJlbCk/dGhpcy5sYWJlbERpcnR5PSEwOnQubGFiZWw9dm9pZCAwLHZvaWQgMCE9PXQuZm9udCYmbnVsbCE9PXQuZm9udClpZihcInN0cmluZ1wiPT10eXBlb2YgdC5mb250KXRoaXMuYmFzZVNpemU9dGhpcy5mb250T3B0aW9ucy5zaXplO2Vsc2UgaWYoXCJvYmplY3RcIj09PWd1KHQuZm9udCkpe3ZhciBlPXQuZm9udC5zaXplO3ZvaWQgMCE9PWUmJih0aGlzLmJhc2VTaXplPWUpfX19LHtrZXk6XCJpbml0Rm9udE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzO0htKEhfLChmdW5jdGlvbih0KXtpLmZvbnRPcHRpb25zW3RdPXt9fSkpLHQucGFyc2VGb250U3RyaW5nKHRoaXMuZm9udE9wdGlvbnMsZSk/dGhpcy5mb250T3B0aW9ucy52YWRqdXN0PTA6SG0oZSwoZnVuY3Rpb24odCxlKXtudWxsIT10JiZcIm9iamVjdFwiIT09Z3UodCkmJihpLmZvbnRPcHRpb25zW2VdPXQpfSkpfX0se2tleTpcImNvbnN0cmFpblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXtjb25zdHJhaW5XaWR0aDohMSxtYXhXZHQ6LTEsbWluV2R0Oi0xLGNvbnN0cmFpbkhlaWdodDohMSxtaW5IZ3Q6LTEsdmFsaWduOlwibWlkZGxlXCJ9LGk9dGIodCxcIndpZHRoQ29uc3RyYWludFwiKTtpZihcIm51bWJlclwiPT10eXBlb2YgaSllLm1heFdkdD1OdW1iZXIoaSksZS5taW5XZHQ9TnVtYmVyKGkpO2Vsc2UgaWYoXCJvYmplY3RcIj09PWd1KGkpKXt2YXIgbz10Yih0LFtcIndpZHRoQ29uc3RyYWludFwiLFwibWF4aW11bVwiXSk7XCJudW1iZXJcIj09dHlwZW9mIG8mJihlLm1heFdkdD1OdW1iZXIobykpO3ZhciBuPXRiKHQsW1wid2lkdGhDb25zdHJhaW50XCIsXCJtaW5pbXVtXCJdKTtcIm51bWJlclwiPT10eXBlb2YgbiYmKGUubWluV2R0PU51bWJlcihuKSl9dmFyIHI9dGIodCxcImhlaWdodENvbnN0cmFpbnRcIik7aWYoXCJudW1iZXJcIj09dHlwZW9mIHIpZS5taW5IZ3Q9TnVtYmVyKHIpO2Vsc2UgaWYoXCJvYmplY3RcIj09PWd1KHIpKXt2YXIgcz10Yih0LFtcImhlaWdodENvbnN0cmFpbnRcIixcIm1pbmltdW1cIl0pO1wibnVtYmVyXCI9PXR5cGVvZiBzJiYoZS5taW5IZ3Q9TnVtYmVyKHMpKTt2YXIgYT10Yih0LFtcImhlaWdodENvbnN0cmFpbnRcIixcInZhbGlnblwiXSk7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihcInRvcFwiIT09YSYmXCJib3R0b21cIiE9PWF8fChlLnZhbGlnbj1hKSl9cmV0dXJuIGV9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLnNldE9wdGlvbnModCwhMCksdGhpcy5wcm9wYWdhdGVGb250cyhlKSxSbSh0aGlzLmZvbnRPcHRpb25zLHRoaXMuY29uc3RyYWluKGUpKSx0aGlzLmZvbnRPcHRpb25zLmNob29zZXI9RV8oXCJsYWJlbFwiLGUpfX0se2tleTpcImFkanVzdFNpemVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dD90LnJpZ2h0K3QubGVmdDowO3RoaXMuZm9udE9wdGlvbnMuY29uc3RyYWluV2lkdGgmJih0aGlzLmZvbnRPcHRpb25zLm1heFdkdC09ZSx0aGlzLmZvbnRPcHRpb25zLm1pbldkdC09ZSk7dmFyIGk9dD90LnRvcCt0LmJvdHRvbTowO3RoaXMuZm9udE9wdGlvbnMuY29uc3RyYWluSGVpZ2h0JiYodGhpcy5mb250T3B0aW9ucy5taW5IZ3QtPWkpfX0se2tleTpcImFkZEZvbnRPcHRpb25zVG9QaWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9MDtpPGUubGVuZ3RoOysraSl0aGlzLmFkZEZvbnRUb1BpbGUodCxlW2ldKX19LHtrZXk6XCJhZGRGb250VG9QaWxlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLmZvbnQmJm51bGwhPT1lLmZvbnQpe3ZhciBpPWUuZm9udDt0LnB1c2goaSl9fX0se2tleTpcImdldEJhc2ljT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgaT17fSxvPTA7bzxlLmxlbmd0aDsrK28pe3ZhciBuPWVbb10scj17fTt0LnBhcnNlRm9udFN0cmluZyhyLG4pJiYobj1yKSxIbShuLChmdW5jdGlvbih0LGUpe3ZvaWQgMCE9PXQmJihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxlKXx8KC0xIT09VnYoSF8pLmNhbGwoSF8sZSk/aVtlXT17fTppW2VdPXQpKX0pKX1yZXR1cm4gaX19LHtrZXk6XCJnZXRGb250T3B0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSxpLG8pe2Zvcih2YXIgbixyPTA7cjxlLmxlbmd0aDsrK3Ipe3ZhciBzPWVbcl07aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsaSkpe2lmKG51bGw9PShuPXNbaV0pKWNvbnRpbnVlO3ZhciBhPXt9O2lmKHQucGFyc2VGb250U3RyaW5nKGEsbikmJihuPWEpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pKXJldHVybiBuW29dfX1pZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5mb250T3B0aW9ucyxvKSlyZXR1cm4gdGhpcy5mb250T3B0aW9uc1tvXTt0aHJvdyBuZXcgRXJyb3IoXCJEaWQgbm90IGZpbmQgdmFsdWUgZm9yIG11bHRpLWZvbnQgZm9yIHByb3BlcnR5OiAnXCIrbytcIidcIil9fSx7a2V5OlwiZ2V0Rm9udE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT17fSxvPVtcImNvbG9yXCIsXCJzaXplXCIsXCJmYWNlXCIsXCJtb2RcIixcInZhZGp1c3RcIl0sbj0wO248by5sZW5ndGg7KytuKXt2YXIgcj1vW25dO2lbcl09dGhpcy5nZXRGb250T3B0aW9uKHQsZSxyKX1yZXR1cm4gaX19LHtrZXk6XCJwcm9wYWdhdGVGb250c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1bXTt0aGlzLmFkZEZvbnRPcHRpb25zVG9QaWxlKGksdCksdGhpcy5mb250T3B0aW9ucz10aGlzLmdldEJhc2ljT3B0aW9ucyhpKTtmb3IodmFyIG89ZnVuY3Rpb24oKXt2YXIgdD1IX1tuXSxvPWUuZm9udE9wdGlvbnNbdF07SG0oZS5nZXRGb250T3B0aW9ucyhpLHQpLChmdW5jdGlvbih0LGUpe29bZV09dH0pKSxvLnNpemU9TnVtYmVyKG8uc2l6ZSksby52YWRqdXN0PU51bWJlcihvLnZhZGp1c3QpfSxuPTA7bjxIXy5sZW5ndGg7KytuKW8oKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XT9hcmd1bWVudHNbNV06XCJtaWRkbGVcIjtpZih2b2lkIDAhPT10aGlzLmVsZW1lbnRPcHRpb25zLmxhYmVsKXt2YXIgcz10aGlzLmZvbnRPcHRpb25zLnNpemUqdGhpcy5ib2R5LnZpZXcuc2NhbGU7dGhpcy5lbGVtZW50T3B0aW9ucy5sYWJlbCYmczx0aGlzLmVsZW1lbnRPcHRpb25zLnNjYWxpbmcubGFiZWwuZHJhd1RocmVzaG9sZC0xfHwocz49dGhpcy5lbGVtZW50T3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1heFZpc2libGUmJihzPU51bWJlcih0aGlzLmVsZW1lbnRPcHRpb25zLnNjYWxpbmcubGFiZWwubWF4VmlzaWJsZSkvdGhpcy5ib2R5LnZpZXcuc2NhbGUpLHRoaXMuY2FsY3VsYXRlTGFiZWxTaXplKHQsbyxuLGUsaSxyKSx0aGlzLl9kcmF3QmFja2dyb3VuZCh0KSx0aGlzLl9kcmF3VGV4dCh0LGUsdGhpcy5zaXplLnlMaW5lLHIscykpfX19LHtrZXk6XCJfZHJhd0JhY2tncm91bmRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10aGlzLmZvbnRPcHRpb25zLmJhY2tncm91bmQmJlwibm9uZVwiIT09dGhpcy5mb250T3B0aW9ucy5iYWNrZ3JvdW5kKXt0LmZpbGxTdHlsZT10aGlzLmZvbnRPcHRpb25zLmJhY2tncm91bmQ7dmFyIGU9dGhpcy5nZXRTaXplKCk7dC5maWxsUmVjdChlLmxlZnQsZS50b3AsZS53aWR0aCxlLmhlaWdodCl9fX0se2tleTpcIl9kcmF3VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106XCJtaWRkbGVcIixuPWFyZ3VtZW50cy5sZW5ndGg+ND9hcmd1bWVudHNbNF06dm9pZCAwLHI9ZGYodGhpcy5fc2V0QWxpZ25tZW50KHQsZSxpLG8pLDIpO2U9clswXSxpPXJbMV0sdC50ZXh0QWxpZ249XCJsZWZ0XCIsZS09dGhpcy5zaXplLndpZHRoLzIsdGhpcy5mb250T3B0aW9ucy52YWxpZ24mJnRoaXMuc2l6ZS5oZWlnaHQ+dGhpcy5zaXplLmxhYmVsSGVpZ2h0JiYoXCJ0b3BcIj09PXRoaXMuZm9udE9wdGlvbnMudmFsaWduJiYoaS09KHRoaXMuc2l6ZS5oZWlnaHQtdGhpcy5zaXplLmxhYmVsSGVpZ2h0KS8yKSxcImJvdHRvbVwiPT09dGhpcy5mb250T3B0aW9ucy52YWxpZ24mJihpKz0odGhpcy5zaXplLmhlaWdodC10aGlzLnNpemUubGFiZWxIZWlnaHQpLzIpKTtmb3IodmFyIHM9MDtzPHRoaXMubGluZUNvdW50O3MrKyl7dmFyIGE9dGhpcy5saW5lc1tzXTtpZihhJiZhLmJsb2Nrcyl7dmFyIGg9MDt0aGlzLmlzRWRnZUxhYmVsfHxcImNlbnRlclwiPT09dGhpcy5mb250T3B0aW9ucy5hbGlnbj9oKz0odGhpcy5zaXplLndpZHRoLWEud2lkdGgpLzI6XCJyaWdodFwiPT09dGhpcy5mb250T3B0aW9ucy5hbGlnbiYmKGgrPXRoaXMuc2l6ZS53aWR0aC1hLndpZHRoKTtmb3IodmFyIGQ9MDtkPGEuYmxvY2tzLmxlbmd0aDtkKyspe3ZhciBsPWEuYmxvY2tzW2RdO3QuZm9udD1sLmZvbnQ7dmFyIGM9ZGYodGhpcy5fZ2V0Q29sb3IobC5jb2xvcixuLGwuc3Ryb2tlQ29sb3IpLDIpLHU9Y1swXSxmPWNbMV07bC5zdHJva2VXaWR0aD4wJiYodC5saW5lV2lkdGg9bC5zdHJva2VXaWR0aCx0LnN0cm9rZVN0eWxlPWYsdC5saW5lSm9pbj1cInJvdW5kXCIpLHQuZmlsbFN0eWxlPXUsbC5zdHJva2VXaWR0aD4wJiZ0LnN0cm9rZVRleHQobC50ZXh0LGUraCxpK2wudmFkanVzdCksdC5maWxsVGV4dChsLnRleHQsZStoLGkrbC52YWRqdXN0KSxoKz1sLndpZHRofWkrPWEuaGVpZ2h0fX19fSx7a2V5OlwiX3NldEFsaWdubWVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKHRoaXMuaXNFZGdlTGFiZWwmJlwiaG9yaXpvbnRhbFwiIT09dGhpcy5mb250T3B0aW9ucy5hbGlnbiYmITE9PT10aGlzLnBvaW50VG9TZWxmKXtlPTAsaT0wO1widG9wXCI9PT10aGlzLmZvbnRPcHRpb25zLmFsaWduPyh0LnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIixpLT00KTpcImJvdHRvbVwiPT09dGhpcy5mb250T3B0aW9ucy5hbGlnbj8odC50ZXh0QmFzZWxpbmU9XCJoYW5naW5nXCIsaSs9NCk6dC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIn1lbHNlIHQudGV4dEJhc2VsaW5lPW87cmV0dXJuW2UsaV19fSx7a2V5OlwiX2dldENvbG9yXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXR8fFwiIzAwMDAwMFwiLG49aXx8XCIjZmZmZmZmXCI7aWYoZTw9dGhpcy5lbGVtZW50T3B0aW9ucy5zY2FsaW5nLmxhYmVsLmRyYXdUaHJlc2hvbGQpe3ZhciByPU1hdGgubWF4KDAsTWF0aC5taW4oMSwxLSh0aGlzLmVsZW1lbnRPcHRpb25zLnNjYWxpbmcubGFiZWwuZHJhd1RocmVzaG9sZC1lKSkpO289Vm0obyxyKSxuPVZtKG4scil9cmV0dXJuW28sbl19fSx7a2V5OlwiZ2V0VGV4dFNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtyZXR1cm4gdGhpcy5fcHJvY2Vzc0xhYmVsKHQsZSxpKSx7d2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0LGxpbmVDb3VudDp0aGlzLmxpbmVDb3VudH19fSx7a2V5OlwiZ2V0U2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zaXplLmxlZnQsZT10aGlzLnNpemUudG9wLTE7aWYodGhpcy5pc0VkZ2VMYWJlbCl7dmFyIGk9LjUqLXRoaXMuc2l6ZS53aWR0aDtzd2l0Y2godGhpcy5mb250T3B0aW9ucy5hbGlnbil7Y2FzZVwibWlkZGxlXCI6dD1pLGU9LjUqLXRoaXMuc2l6ZS5oZWlnaHQ7YnJlYWs7Y2FzZVwidG9wXCI6dD1pLGU9LSh0aGlzLnNpemUuaGVpZ2h0KzIpO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnQ9aSxlPTJ9fXJldHVybntsZWZ0OnQsdG9wOmUsd2lkdGg6dGhpcy5zaXplLndpZHRoLGhlaWdodDp0aGlzLnNpemUuaGVpZ2h0fX19LHtrZXk6XCJjYWxjdWxhdGVMYWJlbFNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjAsbj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XT9hcmd1bWVudHNbNF06MCxyPWFyZ3VtZW50cy5sZW5ndGg+NSYmdm9pZCAwIT09YXJndW1lbnRzWzVdP2FyZ3VtZW50c1s1XTpcIm1pZGRsZVwiO3RoaXMuX3Byb2Nlc3NMYWJlbCh0LGUsaSksdGhpcy5zaXplLmxlZnQ9by0uNSp0aGlzLnNpemUud2lkdGgsdGhpcy5zaXplLnRvcD1uLS41KnRoaXMuc2l6ZS5oZWlnaHQsdGhpcy5zaXplLnlMaW5lPW4rLjUqKDEtdGhpcy5saW5lQ291bnQpKnRoaXMuZm9udE9wdGlvbnMuc2l6ZSxcImhhbmdpbmdcIj09PXImJih0aGlzLnNpemUudG9wKz0uNSp0aGlzLmZvbnRPcHRpb25zLnNpemUsdGhpcy5zaXplLnRvcCs9NCx0aGlzLnNpemUueUxpbmUrPTQpfX0se2tleTpcImdldEZvcm1hdHRpbmdWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj1mdW5jdGlvbih0LGUsaSl7cmV0dXJuXCJub3JtYWxcIj09PWU/XCJtb2RcIj09PWk/XCJcIjp0W2ldOnZvaWQgMCE9PXRbZV1baV0/dFtlXVtpXTp0W2ldfSxyPXtjb2xvcjpuKHRoaXMuZm9udE9wdGlvbnMsbyxcImNvbG9yXCIpLHNpemU6bih0aGlzLmZvbnRPcHRpb25zLG8sXCJzaXplXCIpLGZhY2U6bih0aGlzLmZvbnRPcHRpb25zLG8sXCJmYWNlXCIpLG1vZDpuKHRoaXMuZm9udE9wdGlvbnMsbyxcIm1vZFwiKSx2YWRqdXN0Om4odGhpcy5mb250T3B0aW9ucyxvLFwidmFkanVzdFwiKSxzdHJva2VXaWR0aDp0aGlzLmZvbnRPcHRpb25zLnN0cm9rZVdpZHRoLHN0cm9rZUNvbG9yOnRoaXMuZm9udE9wdGlvbnMuc3Ryb2tlQ29sb3J9OyhlfHxpKSYmKFwibm9ybWFsXCI9PT1vJiYhMD09PXRoaXMuZm9udE9wdGlvbnMuY2hvb3NlciYmdGhpcy5lbGVtZW50T3B0aW9ucy5sYWJlbEhpZ2hsaWdodEJvbGQ/ci5tb2Q9XCJib2xkXCI6XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5mb250T3B0aW9ucy5jaG9vc2VyJiZ0aGlzLmZvbnRPcHRpb25zLmNob29zZXIocix0aGlzLmVsZW1lbnRPcHRpb25zLmlkLGUsaSkpO3ZhciBzPVwiXCI7cmV0dXJuIHZvaWQgMCE9PXIubW9kJiZcIlwiIT09ci5tb2QmJihzKz1yLm1vZCtcIiBcIikscys9ci5zaXplK1wicHggXCIrci5mYWNlLHQuZm9udD1zLnJlcGxhY2UoL1wiL2csXCJcIiksci5mb250PXQuZm9udCxyLmhlaWdodD1yLnNpemUscn19LHtrZXk6XCJkaWZmZXJlbnRTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQhPT10aGlzLnNlbGVjdGVkU3RhdGV8fGUhPT10aGlzLmhvdmVyU3RhdGV9fSx7a2V5OlwiX3Byb2Nlc3NMYWJlbFRleHRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXtyZXR1cm4gbmV3IExfKHQsdGhpcyxlLGkpLnByb2Nlc3Mobyl9fSx7a2V5OlwiX3Byb2Nlc3NMYWJlbFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtpZighMSE9PXRoaXMubGFiZWxEaXJ0eXx8dGhpcy5kaWZmZXJlbnRTdGF0ZShlLGkpKXt2YXIgbz10aGlzLl9wcm9jZXNzTGFiZWxUZXh0KHQsZSxpLHRoaXMuZWxlbWVudE9wdGlvbnMubGFiZWwpO3RoaXMuZm9udE9wdGlvbnMubWluV2R0PjAmJm8ud2lkdGg8dGhpcy5mb250T3B0aW9ucy5taW5XZHQmJihvLndpZHRoPXRoaXMuZm9udE9wdGlvbnMubWluV2R0KSx0aGlzLnNpemUubGFiZWxIZWlnaHQ9by5oZWlnaHQsdGhpcy5mb250T3B0aW9ucy5taW5IZ3Q+MCYmby5oZWlnaHQ8dGhpcy5mb250T3B0aW9ucy5taW5IZ3QmJihvLmhlaWdodD10aGlzLmZvbnRPcHRpb25zLm1pbkhndCksdGhpcy5saW5lcz1vLmxpbmVzLHRoaXMubGluZUNvdW50PW8ubGluZXMubGVuZ3RoLHRoaXMuc2l6ZS53aWR0aD1vLndpZHRoLHRoaXMuc2l6ZS5oZWlnaHQ9by5oZWlnaHQsdGhpcy5zZWxlY3RlZFN0YXRlPWUsdGhpcy5ob3ZlclN0YXRlPWksdGhpcy5sYWJlbERpcnR5PSExfX19LHtrZXk6XCJ2aXNpYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMuc2l6ZS53aWR0aCYmMCE9PXRoaXMuc2l6ZS5oZWlnaHQmJnZvaWQgMCE9PXRoaXMuZWxlbWVudE9wdGlvbnMubGFiZWwmJiEodGhpcy5mb250T3B0aW9ucy5zaXplKnRoaXMuYm9keS52aWV3LnNjYWxlPHRoaXMuZWxlbWVudE9wdGlvbnMuc2NhbGluZy5sYWJlbC5kcmF3VGhyZXNob2xkLTEpfX1dLFt7a2V5OlwicGFyc2VGb250U3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZighZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuITE7dmFyIGk9ZS5zcGxpdChcIiBcIik7cmV0dXJuIHQuc2l6ZT0raVswXS5yZXBsYWNlKFwicHhcIixcIlwiKSx0LmZhY2U9aVsxXSx0LmNvbG9yPWlbMl0sITB9fV0pLHR9KCksVl89Y2EscV89VHQsVV89VHlwZUVycm9yLFlfPU1pLFhfPXUsS189SW8sR189ZnVuY3Rpb24odCl7aWYoVl8odCkpcmV0dXJuIHQ7dGhyb3cgbmV3IFVfKHFfKHQpK1wiIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpfSwkXz1vaSxaXz1ldCxRXz1icixKXz1zLHR4PWF0KFwiUmVmbGVjdFwiLFwiY29uc3RydWN0XCIpLGV4PU9iamVjdC5wcm90b3R5cGUsaXg9W10ucHVzaCxveD1KXygoZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiEodHgoKGZ1bmN0aW9uKCl7fSksW10sdClpbnN0YW5jZW9mIHQpfSkpLG54PSFKXygoZnVuY3Rpb24oKXt0eCgoZnVuY3Rpb24oKXt9KSl9KSkscng9b3h8fG54O1lfKHt0YXJnZXQ6XCJSZWZsZWN0XCIsc3RhdDohMCxmb3JjZWQ6cngsc2hhbTpyeH0se2NvbnN0cnVjdDpmdW5jdGlvbih0LGUpe0dfKHQpLCRfKGUpO3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8Mz90OkdfKGFyZ3VtZW50c1syXSk7aWYobngmJiFveClyZXR1cm4gdHgodCxlLGkpO2lmKHQ9PT1pKXtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IHQ7Y2FzZSAxOnJldHVybiBuZXcgdChlWzBdKTtjYXNlIDI6cmV0dXJuIG5ldyB0KGVbMF0sZVsxXSk7Y2FzZSAzOnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSk7Y2FzZSA0OnJldHVybiBuZXcgdChlWzBdLGVbMV0sZVsyXSxlWzNdKX12YXIgbz1bbnVsbF07cmV0dXJuIFhfKGl4LG8sZSksbmV3KFhfKEtfLHQsbykpfXZhciBuPWkucHJvdG90eXBlLHI9UV8oWl8obik/bjpleCkscz1YXyh0LHIsZSk7cmV0dXJuIFpfKHMpP3M6cn19KTt2YXIgc3g9byhpdC5SZWZsZWN0LmNvbnN0cnVjdCksYXg9byhVdik7TWkoe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITB9LHtzZXRQcm90b3R5cGVPZjpjc30pO3ZhciBoeD1vKGl0Lk9iamVjdC5zZXRQcm90b3R5cGVPZiksZHg9byhIbyk7ZnVuY3Rpb24gbHgodCxlKXt2YXIgaTtyZXR1cm4gbHg9aHg/ZHgoaT1oeCkuY2FsbChpKTpmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9LGx4KHQsZSl9ZnVuY3Rpb24gY3godCxlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7dC5wcm90b3R5cGU9YXgoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx4aCh0LFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZSYmbHgodCxlKX1mdW5jdGlvbiB1eCh0LGUpe2lmKGUmJihcIm9iamVjdFwiPT09Z3UoZSl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpKXJldHVybiBlO2lmKHZvaWQgMCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBmdW5jdGlvbih0KXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gdH0odCl9dmFyIGZ4PW8oaXYpO2Z1bmN0aW9uIHB4KHQpe3ZhciBlO3JldHVybiBweD1oeD9keChlPWZ4KS5jYWxsKGUpOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8ZngodCl9LHB4KHQpfXZhciB2eD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe3ZoKHRoaXMsdCksdGhpcy5ib2R5PWksdGhpcy5sYWJlbE1vZHVsZT1vLHRoaXMuc2V0T3B0aW9ucyhlKSx0aGlzLnRvcD12b2lkIDAsdGhpcy5sZWZ0PXZvaWQgMCx0aGlzLmhlaWdodD12b2lkIDAsdGhpcy53aWR0aD12b2lkIDAsdGhpcy5yYWRpdXM9dm9pZCAwLHRoaXMubWFyZ2luPXZvaWQgMCx0aGlzLnJlZnJlc2hOZWVkZWQ9ITAsdGhpcy5ib3VuZGluZ0JveD17dG9wOjAsbGVmdDowLHJpZ2h0OjAsYm90dG9tOjB9fXJldHVybiB3dSh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fX0se2tleTpcIl9zZXRNYXJnaW5zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5tYXJnaW49e30sdGhpcy5vcHRpb25zLm1hcmdpbiYmKFwib2JqZWN0XCI9PWd1KHRoaXMub3B0aW9ucy5tYXJnaW4pPyh0aGlzLm1hcmdpbi50b3A9dGhpcy5vcHRpb25zLm1hcmdpbi50b3AsdGhpcy5tYXJnaW4ucmlnaHQ9dGhpcy5vcHRpb25zLm1hcmdpbi5yaWdodCx0aGlzLm1hcmdpbi5ib3R0b209dGhpcy5vcHRpb25zLm1hcmdpbi5ib3R0b20sdGhpcy5tYXJnaW4ubGVmdD10aGlzLm9wdGlvbnMubWFyZ2luLmxlZnQpOih0aGlzLm1hcmdpbi50b3A9dGhpcy5vcHRpb25zLm1hcmdpbix0aGlzLm1hcmdpbi5yaWdodD10aGlzLm9wdGlvbnMubWFyZ2luLHRoaXMubWFyZ2luLmJvdHRvbT10aGlzLm9wdGlvbnMubWFyZ2luLHRoaXMubWFyZ2luLmxlZnQ9dGhpcy5vcHRpb25zLm1hcmdpbikpLHQuYWRqdXN0U2l6ZXModGhpcy5tYXJnaW4pfX0se2tleTpcIl9kaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7cmV0dXJuIHQmJnRoaXMucmVzaXplKHQpLE1hdGgubWluKE1hdGguYWJzKHRoaXMud2lkdGgvMi9NYXRoLmNvcyhlKSksTWF0aC5hYnModGhpcy5oZWlnaHQvMi9NYXRoLnNpbihlKSkpK2l9fSx7a2V5OlwiZW5hYmxlU2hhZG93XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlLnNoYWRvdyYmKHQuc2hhZG93Q29sb3I9ZS5zaGFkb3dDb2xvcix0LnNoYWRvd0JsdXI9ZS5zaGFkb3dTaXplLHQuc2hhZG93T2Zmc2V0WD1lLnNoYWRvd1gsdC5zaGFkb3dPZmZzZXRZPWUuc2hhZG93WSl9fSx7a2V5OlwiZGlzYWJsZVNoYWRvd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7ZS5zaGFkb3cmJih0LnNoYWRvd0NvbG9yPVwicmdiYSgwLDAsMCwwKVwiLHQuc2hhZG93Qmx1cj0wLHQuc2hhZG93T2Zmc2V0WD0wLHQuc2hhZG93T2Zmc2V0WT0wKX19LHtrZXk6XCJlbmFibGVCb3JkZXJEYXNoZXNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCExIT09ZS5ib3JkZXJEYXNoZXMpaWYodm9pZCAwIT09dC5zZXRMaW5lRGFzaCl7dmFyIGk9ZS5ib3JkZXJEYXNoZXM7ITA9PT1pJiYoaT1bNSwxNV0pLHQuc2V0TGluZURhc2goaSl9ZWxzZSBjb25zb2xlLndhcm4oXCJzZXRMaW5lRGFzaCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4gVGhlIGRhc2hlZCBib3JkZXJzIGNhbm5vdCBiZSB1c2VkLlwiKSx0aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmJvcmRlckRhc2hlcz0hMSxlLmJvcmRlckRhc2hlcz0hMX19LHtrZXk6XCJkaXNhYmxlQm9yZGVyRGFzaGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXshMSE9PWUuYm9yZGVyRGFzaGVzJiYodm9pZCAwIT09dC5zZXRMaW5lRGFzaD90LnNldExpbmVEYXNoKFswXSk6KGNvbnNvbGUud2FybihcInNldExpbmVEYXNoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLiBUaGUgZGFzaGVkIGJvcmRlcnMgY2Fubm90IGJlIHVzZWQuXCIpLHRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuYm9yZGVyRGFzaGVzPSExLGUuYm9yZGVyRGFzaGVzPSExKSl9fSx7a2V5OlwibmVlZHNSZWZyZXNoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4hMD09PXRoaXMucmVmcmVzaE5lZWRlZD8odGhpcy5yZWZyZXNoTmVlZGVkPSExLCEwKTp2b2lkIDA9PT10aGlzLndpZHRofHx0aGlzLmxhYmVsTW9kdWxlLmRpZmZlcmVudFN0YXRlKHQsZSl9fSx7a2V5OlwiaW5pdENvbnRleHRGb3JEcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1lLmJvcmRlcldpZHRoL3RoaXMuYm9keS52aWV3LnNjYWxlO3QubGluZVdpZHRoPU1hdGgubWluKHRoaXMud2lkdGgsaSksdC5zdHJva2VTdHlsZT1lLmJvcmRlckNvbG9yLHQuZmlsbFN0eWxlPWUuY29sb3J9fSx7a2V5OlwicGVyZm9ybVN0cm9rZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ZS5ib3JkZXJXaWR0aC90aGlzLmJvZHkudmlldy5zY2FsZTt0LnNhdmUoKSxpPjAmJih0aGlzLmVuYWJsZUJvcmRlckRhc2hlcyh0LGUpLHQuc3Ryb2tlKCksdGhpcy5kaXNhYmxlQm9yZGVyRGFzaGVzKHQsZSkpLHQucmVzdG9yZSgpfX0se2tleTpcInBlcmZvcm1GaWxsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LnNhdmUoKSx0LmZpbGxTdHlsZT1lLmNvbG9yLHRoaXMuZW5hYmxlU2hhZG93KHQsZSksQ2codCkuY2FsbCh0KSx0aGlzLmRpc2FibGVTaGFkb3codCxlKSx0LnJlc3RvcmUoKSx0aGlzLnBlcmZvcm1TdHJva2UodCxlKX19LHtrZXk6XCJfYWRkQm91bmRpbmdCb3hNYXJnaW5cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmJvdW5kaW5nQm94LmxlZnQtPXQsdGhpcy5ib3VuZGluZ0JveC50b3AtPXQsdGhpcy5ib3VuZGluZ0JveC5ib3R0b20rPXQsdGhpcy5ib3VuZGluZ0JveC5yaWdodCs9dH19LHtrZXk6XCJfdXBkYXRlQm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3ZvaWQgMCE9PWkmJnRoaXMucmVzaXplKGksbyxuKSx0aGlzLmxlZnQ9dC10aGlzLndpZHRoLzIsdGhpcy50b3A9ZS10aGlzLmhlaWdodC8yLHRoaXMuYm91bmRpbmdCb3gubGVmdD10aGlzLmxlZnQsdGhpcy5ib3VuZGluZ0JveC50b3A9dGhpcy50b3AsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209dGhpcy50b3ArdGhpcy5oZWlnaHQsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10aGlzLmxlZnQrdGhpcy53aWR0aH19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dGhpcy5fdXBkYXRlQm91bmRpbmdCb3godCxlLGksbyxuKX19LHtrZXk6XCJnZXREaW1lbnNpb25zRnJvbUxhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMudGV4dFNpemU9dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LGUsaSk7dmFyIG89dGhpcy50ZXh0U2l6ZS53aWR0aCxuPXRoaXMudGV4dFNpemUuaGVpZ2h0O3JldHVybiAwPT09byYmKG89MTQsbj0xNCkse3dpZHRoOm8saGVpZ2h0Om59fX1dKSx0fSgpO2Z1bmN0aW9uIGd4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIHl4PWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9Z3goaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIHZoKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS5fc2V0TWFyZ2lucyhuKSxyfXJldHVybiB3dShpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2VsZWN0ZWQsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5ob3ZlcjtpZih0aGlzLm5lZWRzUmVmcmVzaChlLGkpKXt2YXIgbz10aGlzLmdldERpbWVuc2lvbnNGcm9tTGFiZWwodCxlLGkpO3RoaXMud2lkdGg9by53aWR0aCt0aGlzLm1hcmdpbi5yaWdodCt0aGlzLm1hcmdpbi5sZWZ0LHRoaXMuaGVpZ2h0PW8uaGVpZ2h0K3RoaXMubWFyZ2luLnRvcCt0aGlzLm1hcmdpbi5ib3R0b20sdGhpcy5yYWRpdXM9dGhpcy53aWR0aC8yfX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3RoaXMucmVzaXplKHQsbyxuKSx0aGlzLmxlZnQ9ZS10aGlzLndpZHRoLzIsdGhpcy50b3A9aS10aGlzLmhlaWdodC8yLHRoaXMuaW5pdENvbnRleHRGb3JEcmF3KHQscikscW8odCx0aGlzLmxlZnQsdGhpcy50b3AsdGhpcy53aWR0aCx0aGlzLmhlaWdodCxyLmJvcmRlclJhZGl1cyksdGhpcy5wZXJmb3JtRmlsbCh0LHIpLHRoaXMudXBkYXRlQm91bmRpbmdCb3goZSxpLHQsbyxuKSx0aGlzLmxhYmVsTW9kdWxlLmRyYXcodCx0aGlzLmxlZnQrdGhpcy50ZXh0U2l6ZS53aWR0aC8yK3RoaXMubWFyZ2luLmxlZnQsdGhpcy50b3ArdGhpcy50ZXh0U2l6ZS5oZWlnaHQvMit0aGlzLm1hcmdpbi50b3AsbyxuKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dGhpcy5fdXBkYXRlQm91bmRpbmdCb3godCxlLGksbyxuKTt2YXIgcj10aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmJvcmRlclJhZGl1czt0aGlzLl9hZGRCb3VuZGluZ0JveE1hcmdpbihyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0JiZ0aGlzLnJlc2l6ZSh0KTt2YXIgaT10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGg7cmV0dXJuIE1hdGgubWluKE1hdGguYWJzKHRoaXMud2lkdGgvMi9NYXRoLmNvcyhlKSksTWF0aC5hYnModGhpcy5oZWlnaHQvMi9NYXRoLnNpbihlKSkpK2l9fV0pLGl9KHZ4KTtmdW5jdGlvbiBteCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciBieD1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPW14KGkpO2Z1bmN0aW9uIGkodCxvLG4pe3ZhciByO3JldHVybiB2aCh0aGlzLGkpLChyPWUuY2FsbCh0aGlzLHQsbyxuKSkubGFiZWxPZmZzZXQ9MCxyLnNlbGVjdGVkPSExLHJ9cmV0dXJuIHd1KGksW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3RoaXMub3B0aW9ucz10LHZvaWQgMD09PWUmJnZvaWQgMD09PWl8fHRoaXMuc2V0SW1hZ2VzKGUsaSl9fSx7a2V5Olwic2V0SW1hZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtlJiZ0aGlzLnNlbGVjdGVkPyh0aGlzLmltYWdlT2JqPWUsdGhpcy5pbWFnZU9iakFsdD10KToodGhpcy5pbWFnZU9iaj10LHRoaXMuaW1hZ2VPYmpBbHQ9ZSl9fSx7a2V5Olwic3dpdGNoSW1hZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dCYmIXRoaXMuc2VsZWN0ZWR8fCF0JiZ0aGlzLnNlbGVjdGVkO2lmKHRoaXMuc2VsZWN0ZWQ9dCx2b2lkIDAhPT10aGlzLmltYWdlT2JqQWx0JiZlKXt2YXIgaT10aGlzLmltYWdlT2JqO3RoaXMuaW1hZ2VPYmo9dGhpcy5pbWFnZU9iakFsdCx0aGlzLmltYWdlT2JqQWx0PWl9fX0se2tleTpcIl9nZXRJbWFnZVBhZGRpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH07aWYodGhpcy5vcHRpb25zLmltYWdlUGFkZGluZyl7dmFyIGU9dGhpcy5vcHRpb25zLmltYWdlUGFkZGluZztcIm9iamVjdFwiPT1ndShlKT8odC50b3A9ZS50b3AsdC5yaWdodD1lLnJpZ2h0LHQuYm90dG9tPWUuYm90dG9tLHQubGVmdD1lLmxlZnQpOih0LnRvcD1lLHQucmlnaHQ9ZSx0LmJvdHRvbT1lLHQubGVmdD1lKX1yZXR1cm4gdH19LHtrZXk6XCJfcmVzaXplSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU7aWYoITE9PT10aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLnVzZUltYWdlU2l6ZSl7dmFyIGk9MSxvPTE7dGhpcy5pbWFnZU9iai53aWR0aCYmdGhpcy5pbWFnZU9iai5oZWlnaHQmJih0aGlzLmltYWdlT2JqLndpZHRoPnRoaXMuaW1hZ2VPYmouaGVpZ2h0P2k9dGhpcy5pbWFnZU9iai53aWR0aC90aGlzLmltYWdlT2JqLmhlaWdodDpvPXRoaXMuaW1hZ2VPYmouaGVpZ2h0L3RoaXMuaW1hZ2VPYmoud2lkdGgpLHQ9Mip0aGlzLm9wdGlvbnMuc2l6ZSppLGU9Mip0aGlzLm9wdGlvbnMuc2l6ZSpvfWVsc2V7dmFyIG49dGhpcy5fZ2V0SW1hZ2VQYWRkaW5nKCk7dD10aGlzLmltYWdlT2JqLndpZHRoK24ubGVmdCtuLnJpZ2h0LGU9dGhpcy5pbWFnZU9iai5oZWlnaHQrbi50b3Arbi5ib3R0b219dGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PWUsdGhpcy5yYWRpdXM9LjUqdGhpcy53aWR0aH19LHtrZXk6XCJfZHJhd1Jhd0NpcmNsZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3RoaXMuaW5pdENvbnRleHRGb3JEcmF3KHQsbyksVm8odCxlLGksby5zaXplKSx0aGlzLnBlcmZvcm1GaWxsKHQsbyl9fSx7a2V5OlwiX2RyYXdJbWFnZUF0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKDAhPXRoaXMuaW1hZ2VPYmoud2lkdGgpe3QuZ2xvYmFsQWxwaGE9dm9pZCAwIT09ZS5vcGFjaXR5P2Uub3BhY2l0eToxLHRoaXMuZW5hYmxlU2hhZG93KHQsZSk7dmFyIGk9MTshMD09PXRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuaW50ZXJwb2xhdGlvbiYmKGk9dGhpcy5pbWFnZU9iai53aWR0aC90aGlzLndpZHRoL3RoaXMuYm9keS52aWV3LnNjYWxlKTt2YXIgbz10aGlzLl9nZXRJbWFnZVBhZGRpbmcoKSxuPXRoaXMubGVmdCtvLmxlZnQscj10aGlzLnRvcCtvLnRvcCxzPXRoaXMud2lkdGgtby5sZWZ0LW8ucmlnaHQsYT10aGlzLmhlaWdodC1vLnRvcC1vLmJvdHRvbTt0aGlzLmltYWdlT2JqLmRyYXdJbWFnZUF0UG9zaXRpb24odCxpLG4scixzLGEpLHRoaXMuZGlzYWJsZVNoYWRvdyh0LGUpfX19LHtrZXk6XCJfZHJhd0ltYWdlTGFiZWxcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4pe3ZhciByPTA7aWYodm9pZCAwIT09dGhpcy5oZWlnaHQpe3I9LjUqdGhpcy5oZWlnaHQ7dmFyIHM9dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LG8sbik7cy5saW5lQ291bnQ+PTEmJihyKz1zLmhlaWdodC8yKX12YXIgYT1pK3I7dGhpcy5vcHRpb25zLmxhYmVsJiYodGhpcy5sYWJlbE9mZnNldD1yKSx0aGlzLmxhYmVsTW9kdWxlLmRyYXcodCxlLGEsbyxuLFwiaGFuZ2luZ1wiKX19XSksaX0odngpO2Z1bmN0aW9uIHd4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIGt4PWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9d3goaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIHZoKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS5fc2V0TWFyZ2lucyhuKSxyfXJldHVybiB3dShpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2VsZWN0ZWQsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5ob3ZlcjtpZih0aGlzLm5lZWRzUmVmcmVzaChlLGkpKXt2YXIgbz10aGlzLmdldERpbWVuc2lvbnNGcm9tTGFiZWwodCxlLGkpLG49TWF0aC5tYXgoby53aWR0aCt0aGlzLm1hcmdpbi5yaWdodCt0aGlzLm1hcmdpbi5sZWZ0LG8uaGVpZ2h0K3RoaXMubWFyZ2luLnRvcCt0aGlzLm1hcmdpbi5ib3R0b20pO3RoaXMub3B0aW9ucy5zaXplPW4vMix0aGlzLndpZHRoPW4sdGhpcy5oZWlnaHQ9bix0aGlzLnJhZGl1cz10aGlzLndpZHRoLzJ9fX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dGhpcy5yZXNpemUodCxvLG4pLHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIsdGhpcy5fZHJhd1Jhd0NpcmNsZSh0LGUsaSxyKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsdGhpcy5sZWZ0K3RoaXMudGV4dFNpemUud2lkdGgvMit0aGlzLm1hcmdpbi5sZWZ0LGksbyxuKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ib3VuZGluZ0JveC50b3A9ZS10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmxlZnQ9dC10aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PXQrdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209ZSt0aGlzLm9wdGlvbnMuc2l6ZX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnRoaXMucmVzaXplKHQpLC41KnRoaXMud2lkdGh9fV0pLGl9KGJ4KTtmdW5jdGlvbiBfeCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciB4eD1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPV94KGkpO2Z1bmN0aW9uIGkodCxvLG4scixzKXt2YXIgYTtyZXR1cm4gdmgodGhpcyxpKSwoYT1lLmNhbGwodGhpcyx0LG8sbikpLnNldEltYWdlcyhyLHMpLGF9cmV0dXJuIHd1KGksW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zZWxlY3RlZCxpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp0aGlzLmhvdmVyO2lmKHZvaWQgMD09PXRoaXMuaW1hZ2VPYmouc3JjfHx2b2lkIDA9PT10aGlzLmltYWdlT2JqLndpZHRofHx2b2lkIDA9PT10aGlzLmltYWdlT2JqLmhlaWdodCl7dmFyIG89Mip0aGlzLm9wdGlvbnMuc2l6ZTtyZXR1cm4gdGhpcy53aWR0aD1vLHRoaXMuaGVpZ2h0PW8sdm9pZCh0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRoKX10aGlzLm5lZWRzUmVmcmVzaChlLGkpJiZ0aGlzLl9yZXNpemVJbWFnZSgpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dGhpcy5zd2l0Y2hJbWFnZXMobyksdGhpcy5yZXNpemUoKTt2YXIgcz1lLGE9aTtcInRvcC1sZWZ0XCI9PT10aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmNvb3JkaW5hdGVPcmlnaW4/KHRoaXMubGVmdD1lLHRoaXMudG9wPWkscys9dGhpcy53aWR0aC8yLGErPXRoaXMuaGVpZ2h0LzIpOih0aGlzLmxlZnQ9ZS10aGlzLndpZHRoLzIsdGhpcy50b3A9aS10aGlzLmhlaWdodC8yKSx0aGlzLl9kcmF3UmF3Q2lyY2xlKHQscyxhLHIpLHQuc2F2ZSgpLHQuY2xpcCgpLHRoaXMuX2RyYXdJbWFnZUF0UG9zaXRpb24odCxyKSx0LnJlc3RvcmUoKSx0aGlzLl9kcmF3SW1hZ2VMYWJlbCh0LHMsYSxvLG4pLHRoaXMudXBkYXRlQm91bmRpbmdCb3goZSxpKX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7XCJ0b3AtbGVmdFwiPT09dGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luPyh0aGlzLmJvdW5kaW5nQm94LnRvcD1lLHRoaXMuYm91bmRpbmdCb3gubGVmdD10LHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9dCsyKnRoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPWUrMip0aGlzLm9wdGlvbnMuc2l6ZSk6KHRoaXMuYm91bmRpbmdCb3gudG9wPWUtdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5sZWZ0PXQtdGhpcy5vcHRpb25zLnNpemUsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10K3RoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPWUrdGhpcy5vcHRpb25zLnNpemUpLHRoaXMuYm91bmRpbmdCb3gubGVmdD1NYXRoLm1pbih0aGlzLmJvdW5kaW5nQm94LmxlZnQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQpLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9TWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5yaWdodCx0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCt0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGgpLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3guYm90dG9tLHRoaXMuYm91bmRpbmdCb3guYm90dG9tK3RoaXMubGFiZWxPZmZzZXQpfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5yZXNpemUodCksLjUqdGhpcy53aWR0aH19XSksaX0oYngpO2Z1bmN0aW9uIEV4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIE94PWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9RXgoaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIHZoKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiB3dShpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2VsZWN0ZWQsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5ob3ZlcixvPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7c2l6ZTp0aGlzLm9wdGlvbnMuc2l6ZX07aWYodGhpcy5uZWVkc1JlZnJlc2goZSxpKSl7dmFyIG4scjt0aGlzLmxhYmVsTW9kdWxlLmdldFRleHRTaXplKHQsZSxpKTt2YXIgcz0yKm8uc2l6ZTt0aGlzLndpZHRoPW51bGwhPT0obj10aGlzLmN1c3RvbVNpemVXaWR0aCkmJnZvaWQgMCE9PW4/bjpzLHRoaXMuaGVpZ2h0PW51bGwhPT0ocj10aGlzLmN1c3RvbVNpemVIZWlnaHQpJiZ2b2lkIDAhPT1yP3I6cyx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRofX19LHtrZXk6XCJfZHJhd1NoYXBlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIscyxhKXt2YXIgaCxkPXRoaXM7cmV0dXJuIHRoaXMucmVzaXplKHQscixzLGEpLHRoaXMubGVmdD1vLXRoaXMud2lkdGgvMix0aGlzLnRvcD1uLXRoaXMuaGVpZ2h0LzIsdGhpcy5pbml0Q29udGV4dEZvckRyYXcodCxhKSwoaD1lLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChLbyxoKT9Lb1toXTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShlPjE/ZS0xOjApLG89MTtvPGU7bysrKWlbby0xXT1hcmd1bWVudHNbb107Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZVtoXS5jYWxsKHQsaSl9KSh0LG8sbixhLnNpemUpLHRoaXMucGVyZm9ybUZpbGwodCxhKSx2b2lkIDAhPT10aGlzLm9wdGlvbnMuaWNvbiYmdm9pZCAwIT09dGhpcy5vcHRpb25zLmljb24uY29kZSYmKHQuZm9udD0ocj9cImJvbGQgXCI6XCJcIikrdGhpcy5oZWlnaHQvMitcInB4IFwiKyh0aGlzLm9wdGlvbnMuaWNvbi5mYWNlfHxcIkZvbnRBd2Vzb21lXCIpLHQuZmlsbFN0eWxlPXRoaXMub3B0aW9ucy5pY29uLmNvbG9yfHxcImJsYWNrXCIsdC50ZXh0QWxpZ249XCJjZW50ZXJcIix0LnRleHRCYXNlbGluZT1cIm1pZGRsZVwiLHQuZmlsbFRleHQodGhpcy5vcHRpb25zLmljb24uY29kZSxvLG4pKSx7ZHJhd0V4dGVybmFsTGFiZWw6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1kLm9wdGlvbnMubGFiZWwpe2QubGFiZWxNb2R1bGUuY2FsY3VsYXRlTGFiZWxTaXplKHQscixzLG8sbixcImhhbmdpbmdcIik7dmFyIGU9bisuNSpkLmhlaWdodCsuNSpkLmxhYmVsTW9kdWxlLnNpemUuaGVpZ2h0O2QubGFiZWxNb2R1bGUuZHJhdyh0LG8sZSxyLHMsXCJoYW5naW5nXCIpfWQudXBkYXRlQm91bmRpbmdCb3gobyxuKX19fX0se2tleTpcInVwZGF0ZUJvdW5kaW5nQm94XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmJvdW5kaW5nQm94LnRvcD1lLXRoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3gubGVmdD10LXRoaXMub3B0aW9ucy5zaXplLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9dCt0aGlzLm9wdGlvbnMuc2l6ZSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1lK3RoaXMub3B0aW9ucy5zaXplLHZvaWQgMCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoPjAmJih0aGlzLmJvdW5kaW5nQm94LmxlZnQ9TWF0aC5taW4odGhpcy5ib3VuZGluZ0JveC5sZWZ0LHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0KSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3gucmlnaHQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQrdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoKSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1NYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSt0aGlzLmxhYmVsTW9kdWxlLnNpemUuaGVpZ2h0KSl9fV0pLGl9KHZ4KTtmdW5jdGlvbiBDeCh0LGUpe3ZhciBpPXpmKHQpO2lmKE5rKXt2YXIgbz1Oayh0KTtlJiYobz1sdihvKS5jYWxsKG8sKGZ1bmN0aW9uKGUpe3JldHVybiBZayh0LGUpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG8pfXJldHVybiBpfWZ1bmN0aW9uIFN4KHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBpLG8sbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9RZihpPUN4KE9iamVjdChuKSwhMCkpLmNhbGwoaSwoZnVuY3Rpb24oZSl7c18odCxlLG5bZV0pfSkpOlprP25fKHQsWmsobikpOlFmKG89Q3goT2JqZWN0KG4pKSkuY2FsbChvLChmdW5jdGlvbihlKXtyXyh0LGUsWWsobixlKSl9KSl9cmV0dXJuIHR9ZnVuY3Rpb24gVHgodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgTXg9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1UeChpKTtmdW5jdGlvbiBpKHQsbyxuLHIpe3ZhciBzO3JldHVybiB2aCh0aGlzLGkpLChzPWUuY2FsbCh0aGlzLHQsbyxuLHIpKS5jdHhSZW5kZXJlcj1yLHN9cmV0dXJuIHd1KGksW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3RoaXMucmVzaXplKHQsbyxuLHIpLHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIsdC5zYXZlKCk7dmFyIHM9dGhpcy5jdHhSZW5kZXJlcih7Y3R4OnQsaWQ6dGhpcy5vcHRpb25zLmlkLHg6ZSx5Omksc3RhdGU6e3NlbGVjdGVkOm8saG92ZXI6bn0sc3R5bGU6U3goe30sciksbGFiZWw6dGhpcy5vcHRpb25zLmxhYmVsfSk7aWYobnVsbCE9cy5kcmF3Tm9kZSYmcy5kcmF3Tm9kZSgpLHQucmVzdG9yZSgpLHMuZHJhd0V4dGVybmFsTGFiZWwpe3ZhciBhPXMuZHJhd0V4dGVybmFsTGFiZWw7cy5kcmF3RXh0ZXJuYWxMYWJlbD1mdW5jdGlvbigpe3Quc2F2ZSgpLGEoKSx0LnJlc3RvcmUoKX19cmV0dXJuIHMubm9kZURpbWVuc2lvbnMmJih0aGlzLmN1c3RvbVNpemVXaWR0aD1zLm5vZGVEaW1lbnNpb25zLndpZHRoLHRoaXMuY3VzdG9tU2l6ZUhlaWdodD1zLm5vZGVEaW1lbnNpb25zLmhlaWdodCksc319LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfShPeCk7ZnVuY3Rpb24gUHgodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgRHg9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1QeChpKTtmdW5jdGlvbiBpKHQsbyxuKXt2YXIgcjtyZXR1cm4gdmgodGhpcyxpKSwocj1lLmNhbGwodGhpcyx0LG8sbikpLl9zZXRNYXJnaW5zKG4pLHJ9cmV0dXJuIHd1KGksW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5uZWVkc1JlZnJlc2goZSxpKSl7dmFyIG89dGhpcy5nZXREaW1lbnNpb25zRnJvbUxhYmVsKHQsZSxpKS53aWR0aCt0aGlzLm1hcmdpbi5yaWdodCt0aGlzLm1hcmdpbi5sZWZ0O3RoaXMud2lkdGg9byx0aGlzLmhlaWdodD1vLHRoaXMucmFkaXVzPXRoaXMud2lkdGgvMn19fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXt0aGlzLnJlc2l6ZSh0LG8sbiksdGhpcy5sZWZ0PWUtdGhpcy53aWR0aC8yLHRoaXMudG9wPWktdGhpcy5oZWlnaHQvMix0aGlzLmluaXRDb250ZXh0Rm9yRHJhdyh0LHIpLFlvKHQsZS10aGlzLndpZHRoLzIsaS10aGlzLmhlaWdodC8yLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHRoaXMucGVyZm9ybUZpbGwodCxyKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSx0LG8sbiksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsdGhpcy5sZWZ0K3RoaXMudGV4dFNpemUud2lkdGgvMit0aGlzLm1hcmdpbi5sZWZ0LHRoaXMudG9wK3RoaXMudGV4dFNpemUuaGVpZ2h0LzIrdGhpcy5tYXJnaW4udG9wLG8sbil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0odngpO2Z1bmN0aW9uIEl4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIEJ4PWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9SXgoaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIHZoKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiB3dShpLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKHQsXCJkaWFtb25kXCIsNCxlLGksbyxuLHIpfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKHQsZSl9fV0pLGl9KE94KTtmdW5jdGlvbiBGeCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciB6eD1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPUZ4KGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiB2aCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gd3UoaSxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7cmV0dXJuIHRoaXMuX2RyYXdTaGFwZSh0LFwiY2lyY2xlXCIsMixlLGksbyxuLHIpfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmdGhpcy5yZXNpemUodCksdGhpcy5vcHRpb25zLnNpemV9fV0pLGl9KE94KTtmdW5jdGlvbiBOeCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciBBeD1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPU54KGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiB2aCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gd3UoaSxbe2tleTpcInJlc2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnNlbGVjdGVkLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnRoaXMuaG92ZXI7aWYodGhpcy5uZWVkc1JlZnJlc2goZSxpKSl7dmFyIG89dGhpcy5nZXREaW1lbnNpb25zRnJvbUxhYmVsKHQsZSxpKTt0aGlzLmhlaWdodD0yKm8uaGVpZ2h0LHRoaXMud2lkdGg9by53aWR0aCtvLmhlaWdodCx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRofX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3RoaXMucmVzaXplKHQsbyxuKSx0aGlzLmxlZnQ9ZS0uNSp0aGlzLndpZHRoLHRoaXMudG9wPWktLjUqdGhpcy5oZWlnaHQsdGhpcy5pbml0Q29udGV4dEZvckRyYXcodCxyKSxVbyh0LHRoaXMubGVmdCx0aGlzLnRvcCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSx0aGlzLnBlcmZvcm1GaWxsKHQsciksdGhpcy51cGRhdGVCb3VuZGluZ0JveChlLGksdCxvLG4pLHRoaXMubGFiZWxNb2R1bGUuZHJhdyh0LGUsaSxvLG4pfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3QmJnRoaXMucmVzaXplKHQpO3ZhciBpPS41KnRoaXMud2lkdGgsbz0uNSp0aGlzLmhlaWdodCxuPU1hdGguc2luKGUpKmkscj1NYXRoLmNvcyhlKSpvO3JldHVybiBpKm8vTWF0aC5zcXJ0KG4qbityKnIpfX1dKSxpfSh2eCk7ZnVuY3Rpb24gUngodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgang9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1SeChpKTtmdW5jdGlvbiBpKHQsbyxuKXt2YXIgcjtyZXR1cm4gdmgodGhpcyxpKSwocj1lLmNhbGwodGhpcyx0LG8sbikpLl9zZXRNYXJnaW5zKG4pLHJ9cmV0dXJuIHd1KGksW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5uZWVkc1JlZnJlc2goZSxpKSYmKHRoaXMuaWNvblNpemU9e3dpZHRoOk51bWJlcih0aGlzLm9wdGlvbnMuaWNvbi5zaXplKSxoZWlnaHQ6TnVtYmVyKHRoaXMub3B0aW9ucy5pY29uLnNpemUpfSx0aGlzLndpZHRoPXRoaXMuaWNvblNpemUud2lkdGgrdGhpcy5tYXJnaW4ucmlnaHQrdGhpcy5tYXJnaW4ubGVmdCx0aGlzLmhlaWdodD10aGlzLmljb25TaXplLmhlaWdodCt0aGlzLm1hcmdpbi50b3ArdGhpcy5tYXJnaW4uYm90dG9tLHRoaXMucmFkaXVzPS41KnRoaXMud2lkdGgpfX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dmFyIHM9dGhpcztyZXR1cm4gdGhpcy5yZXNpemUodCxvLG4pLHRoaXMub3B0aW9ucy5pY29uLnNpemU9dGhpcy5vcHRpb25zLmljb24uc2l6ZXx8NTAsdGhpcy5sZWZ0PWUtdGhpcy53aWR0aC8yLHRoaXMudG9wPWktdGhpcy5oZWlnaHQvMix0aGlzLl9pY29uKHQsZSxpLG8sbixyKSx7ZHJhd0V4dGVybmFsTGFiZWw6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1zLm9wdGlvbnMubGFiZWwpe3MubGFiZWxNb2R1bGUuZHJhdyh0LHMubGVmdCtzLmljb25TaXplLndpZHRoLzIrcy5tYXJnaW4ubGVmdCxpK3MuaGVpZ2h0LzIrNSxvKX1zLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSl9fX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5ib3VuZGluZ0JveC50b3A9ZS0uNSp0aGlzLm9wdGlvbnMuaWNvbi5zaXplLHRoaXMuYm91bmRpbmdCb3gubGVmdD10LS41KnRoaXMub3B0aW9ucy5pY29uLnNpemUsdGhpcy5ib3VuZGluZ0JveC5yaWdodD10Ky41KnRoaXMub3B0aW9ucy5pY29uLnNpemUsdGhpcy5ib3VuZGluZ0JveC5ib3R0b209ZSsuNSp0aGlzLm9wdGlvbnMuaWNvbi5zaXplLHZvaWQgMCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoPjApe3RoaXMuYm91bmRpbmdCb3gubGVmdD1NYXRoLm1pbih0aGlzLmJvdW5kaW5nQm94LmxlZnQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQpLHRoaXMuYm91bmRpbmdCb3gucmlnaHQ9TWF0aC5tYXgodGhpcy5ib3VuZGluZ0JveC5yaWdodCx0aGlzLmxhYmVsTW9kdWxlLnNpemUubGVmdCt0aGlzLmxhYmVsTW9kdWxlLnNpemUud2lkdGgpLHRoaXMuYm91bmRpbmdCb3guYm90dG9tPU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3guYm90dG9tLHRoaXMuYm91bmRpbmdCb3guYm90dG9tK3RoaXMubGFiZWxNb2R1bGUuc2l6ZS5oZWlnaHQrNSl9fX0se2tleTpcIl9pY29uXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3ZhciBzPU51bWJlcih0aGlzLm9wdGlvbnMuaWNvbi5zaXplKTt2b2lkIDAhPT10aGlzLm9wdGlvbnMuaWNvbi5jb2RlPyh0LmZvbnQ9W251bGwhPXRoaXMub3B0aW9ucy5pY29uLndlaWdodD90aGlzLm9wdGlvbnMuaWNvbi53ZWlnaHQ6bz9cImJvbGRcIjpcIlwiLChudWxsIT10aGlzLm9wdGlvbnMuaWNvbi53ZWlnaHQmJm8/NTowKStzK1wicHhcIix0aGlzLm9wdGlvbnMuaWNvbi5mYWNlXS5qb2luKFwiIFwiKSx0LmZpbGxTdHlsZT10aGlzLm9wdGlvbnMuaWNvbi5jb2xvcnx8XCJibGFja1wiLHQudGV4dEFsaWduPVwiY2VudGVyXCIsdC50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIix0aGlzLmVuYWJsZVNoYWRvdyh0LHIpLHQuZmlsbFRleHQodGhpcy5vcHRpb25zLmljb24uY29kZSxlLGkpLHRoaXMuZGlzYWJsZVNoYWRvdyh0LHIpKTpjb25zb2xlLmVycm9yKFwiV2hlbiB1c2luZyB0aGUgaWNvbiBzaGFwZSwgeW91IG5lZWQgdG8gZGVmaW5lIHRoZSBjb2RlIGluIHRoZSBpY29uIG9wdGlvbnMgb2JqZWN0LiBUaGlzIGNhbiBiZSBkb25lIHBlciBub2RlIG9yIGdsb2JhbGx5LlwiKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfSh2eCk7ZnVuY3Rpb24gTHgodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgSHg9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1MeChpKTtmdW5jdGlvbiBpKHQsbyxuLHIscyl7dmFyIGE7cmV0dXJuIHZoKHRoaXMsaSksKGE9ZS5jYWxsKHRoaXMsdCxvLG4pKS5zZXRJbWFnZXMocixzKSxhfXJldHVybiB3dShpLFt7a2V5OlwicmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnRoaXMuc2VsZWN0ZWQsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5ob3ZlcjtpZih2b2lkIDA9PT10aGlzLmltYWdlT2JqLnNyY3x8dm9pZCAwPT09dGhpcy5pbWFnZU9iai53aWR0aHx8dm9pZCAwPT09dGhpcy5pbWFnZU9iai5oZWlnaHQpe3ZhciBvPTIqdGhpcy5vcHRpb25zLnNpemU7cmV0dXJuIHRoaXMud2lkdGg9byx2b2lkKHRoaXMuaGVpZ2h0PW8pfXRoaXMubmVlZHNSZWZyZXNoKGUsaSkmJnRoaXMuX3Jlc2l6ZUltYWdlKCl9fSx7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXt0LnNhdmUoKSx0aGlzLnN3aXRjaEltYWdlcyhvKSx0aGlzLnJlc2l6ZSgpO3ZhciBzPWUsYT1pO2lmKFwidG9wLWxlZnRcIj09PXRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuY29vcmRpbmF0ZU9yaWdpbj8odGhpcy5sZWZ0PWUsdGhpcy50b3A9aSxzKz10aGlzLndpZHRoLzIsYSs9dGhpcy5oZWlnaHQvMik6KHRoaXMubGVmdD1lLXRoaXMud2lkdGgvMix0aGlzLnRvcD1pLXRoaXMuaGVpZ2h0LzIpLCEwPT09dGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy51c2VCb3JkZXJXaXRoSW1hZ2Upe3ZhciBoPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCxkPXRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aFNlbGVjdGVkfHwyKnRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCxsPShvP2Q6aCkvdGhpcy5ib2R5LnZpZXcuc2NhbGU7dC5saW5lV2lkdGg9TWF0aC5taW4odGhpcy53aWR0aCxsKSx0LmJlZ2luUGF0aCgpO3ZhciBjPW8/dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXI6bj90aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYm9yZGVyOnRoaXMub3B0aW9ucy5jb2xvci5ib3JkZXIsdT1vP3RoaXMub3B0aW9ucy5jb2xvci5oaWdobGlnaHQuYmFja2dyb3VuZDpuP3RoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5iYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5jb2xvci5iYWNrZ3JvdW5kO3ZvaWQgMCE9PXIub3BhY2l0eSYmKGM9Vm0oYyxyLm9wYWNpdHkpLHU9Vm0odSxyLm9wYWNpdHkpKSx0LnN0cm9rZVN0eWxlPWMsdC5maWxsU3R5bGU9dSx0LnJlY3QodGhpcy5sZWZ0LS41KnQubGluZVdpZHRoLHRoaXMudG9wLS41KnQubGluZVdpZHRoLHRoaXMud2lkdGgrdC5saW5lV2lkdGgsdGhpcy5oZWlnaHQrdC5saW5lV2lkdGgpLENnKHQpLmNhbGwodCksdGhpcy5wZXJmb3JtU3Ryb2tlKHQsciksdC5jbG9zZVBhdGgoKX10aGlzLl9kcmF3SW1hZ2VBdFBvc2l0aW9uKHQsciksdGhpcy5fZHJhd0ltYWdlTGFiZWwodCxzLGEsbyxuKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KGUsaSksdC5yZXN0b3JlKCl9fSx7a2V5OlwidXBkYXRlQm91bmRpbmdCb3hcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMucmVzaXplKCksXCJ0b3AtbGVmdFwiPT09dGhpcy5vcHRpb25zLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luPyh0aGlzLmxlZnQ9dCx0aGlzLnRvcD1lKToodGhpcy5sZWZ0PXQtdGhpcy53aWR0aC8yLHRoaXMudG9wPWUtdGhpcy5oZWlnaHQvMiksdGhpcy5ib3VuZGluZ0JveC5sZWZ0PXRoaXMubGVmdCx0aGlzLmJvdW5kaW5nQm94LnRvcD10aGlzLnRvcCx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT10aGlzLnRvcCt0aGlzLmhlaWdodCx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PXRoaXMubGVmdCt0aGlzLndpZHRoLHZvaWQgMCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoPjAmJih0aGlzLmJvdW5kaW5nQm94LmxlZnQ9TWF0aC5taW4odGhpcy5ib3VuZGluZ0JveC5sZWZ0LHRoaXMubGFiZWxNb2R1bGUuc2l6ZS5sZWZ0KSx0aGlzLmJvdW5kaW5nQm94LnJpZ2h0PU1hdGgubWF4KHRoaXMuYm91bmRpbmdCb3gucmlnaHQsdGhpcy5sYWJlbE1vZHVsZS5zaXplLmxlZnQrdGhpcy5sYWJlbE1vZHVsZS5zaXplLndpZHRoKSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbT1NYXRoLm1heCh0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSx0aGlzLmJvdW5kaW5nQm94LmJvdHRvbSt0aGlzLmxhYmVsT2Zmc2V0KSl9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oYngpO2Z1bmN0aW9uIFd4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIFZ4PWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9V3goaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIHZoKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiB3dShpLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKHQsXCJzcXVhcmVcIiwyLGUsaSxvLG4scil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oT3gpO2Z1bmN0aW9uIHF4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIFV4PWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9cXgoaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIHZoKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiB3dShpLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKHQsXCJoZXhhZ29uXCIsNCxlLGksbyxuLHIpfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKHQsZSl9fV0pLGl9KE94KTtmdW5jdGlvbiBZeCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciBYeD1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPVl4KGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiB2aCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gd3UoaSxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7cmV0dXJuIHRoaXMuX2RyYXdTaGFwZSh0LFwic3RhclwiLDQsZSxpLG8sbixyKX19LHtrZXk6XCJkaXN0YW5jZVRvQm9yZGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fZGlzdGFuY2VUb0JvcmRlcih0LGUpfX1dKSxpfShPeCk7ZnVuY3Rpb24gS3godCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgR3g9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1LeChpKTtmdW5jdGlvbiBpKHQsbyxuKXt2YXIgcjtyZXR1cm4gdmgodGhpcyxpKSwocj1lLmNhbGwodGhpcyx0LG8sbikpLl9zZXRNYXJnaW5zKG4pLHJ9cmV0dXJuIHd1KGksW3trZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5uZWVkc1JlZnJlc2goZSxpKSYmKHRoaXMudGV4dFNpemU9dGhpcy5sYWJlbE1vZHVsZS5nZXRUZXh0U2l6ZSh0LGUsaSksdGhpcy53aWR0aD10aGlzLnRleHRTaXplLndpZHRoK3RoaXMubWFyZ2luLnJpZ2h0K3RoaXMubWFyZ2luLmxlZnQsdGhpcy5oZWlnaHQ9dGhpcy50ZXh0U2l6ZS5oZWlnaHQrdGhpcy5tYXJnaW4udG9wK3RoaXMubWFyZ2luLmJvdHRvbSx0aGlzLnJhZGl1cz0uNSp0aGlzLndpZHRoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3RoaXMucmVzaXplKHQsbyxuKSx0aGlzLmxlZnQ9ZS10aGlzLndpZHRoLzIsdGhpcy50b3A9aS10aGlzLmhlaWdodC8yLHRoaXMuZW5hYmxlU2hhZG93KHQsciksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsdGhpcy5sZWZ0K3RoaXMudGV4dFNpemUud2lkdGgvMit0aGlzLm1hcmdpbi5sZWZ0LHRoaXMudG9wK3RoaXMudGV4dFNpemUuaGVpZ2h0LzIrdGhpcy5tYXJnaW4udG9wLG8sbiksdGhpcy5kaXNhYmxlU2hhZG93KHQsciksdGhpcy51cGRhdGVCb3VuZGluZ0JveChlLGksdCxvLG4pfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9kaXN0YW5jZVRvQm9yZGVyKHQsZSl9fV0pLGl9KHZ4KTtmdW5jdGlvbiAkeCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciBaeD1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPSR4KGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiB2aCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gd3UoaSxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7cmV0dXJuIHRoaXMuX2RyYXdTaGFwZSh0LFwidHJpYW5nbGVcIiwzLGUsaSxvLG4scil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oT3gpO2Z1bmN0aW9uIFF4KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIEp4PWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9UXgoaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIHZoKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiB3dShpLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKHQsXCJ0cmlhbmdsZURvd25cIiwzLGUsaSxvLG4scil9fSx7a2V5OlwiZGlzdGFuY2VUb0JvcmRlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2Rpc3RhbmNlVG9Cb3JkZXIodCxlKX19XSksaX0oT3gpO2Z1bmN0aW9uIHRFKHQsZSl7dmFyIGk9emYodCk7aWYoTmspe3ZhciBvPU5rKHQpO2UmJihvPWx2KG8pLmNhbGwobywoZnVuY3Rpb24oZSl7cmV0dXJuIFlrKHQsZSkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbyl9cmV0dXJuIGl9ZnVuY3Rpb24gZUUodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIGksbyxuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP1FmKGk9dEUoT2JqZWN0KG4pLCEwKSkuY2FsbChpLChmdW5jdGlvbihlKXtzXyh0LGUsbltlXSl9KSk6Wms/bl8odCxaayhuKSk6UWYobz10RShPYmplY3QobikpKS5jYWxsKG8sKGZ1bmN0aW9uKGUpe3JfKHQsZSxZayhuLGUpKX0pKX1yZXR1cm4gdH12YXIgaUU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvLG4scixzKXt2aCh0aGlzLHQpLHRoaXMub3B0aW9ucz1abShyKSx0aGlzLmdsb2JhbE9wdGlvbnM9cix0aGlzLmRlZmF1bHRPcHRpb25zPXMsdGhpcy5ib2R5PWksdGhpcy5lZGdlcz1bXSx0aGlzLmlkPXZvaWQgMCx0aGlzLmltYWdlbGlzdD1vLHRoaXMuZ3JvdXBsaXN0PW4sdGhpcy54PXZvaWQgMCx0aGlzLnk9dm9pZCAwLHRoaXMuYmFzZVNpemU9dGhpcy5vcHRpb25zLnNpemUsdGhpcy5iYXNlRm9udFNpemU9dGhpcy5vcHRpb25zLmZvbnQuc2l6ZSx0aGlzLnByZWRlZmluZWRQb3NpdGlvbj0hMSx0aGlzLnNlbGVjdGVkPSExLHRoaXMuaG92ZXI9ITEsdGhpcy5sYWJlbE1vZHVsZT1uZXcgV18odGhpcy5ib2R5LHRoaXMub3B0aW9ucywhMSksdGhpcy5zZXRPcHRpb25zKGUpfXJldHVybiB3dSh0LFt7a2V5OlwiYXR0YWNoRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlOy0xPT09VnYoZT10aGlzLmVkZ2VzKS5jYWxsKGUsdCkmJnRoaXMuZWRnZXMucHVzaCh0KX19LHtrZXk6XCJkZXRhY2hFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaSxvPVZ2KGU9dGhpcy5lZGdlcykuY2FsbChlLHQpOy0xIT1vJiZQcChpPXRoaXMuZWRnZXMpLmNhbGwoaSxvLDEpfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgaT10aGlzLm9wdGlvbnMuc2hhcGU7aWYoZSl7aWYodm9pZCAwIT09ZS5jb2xvciYmKHRoaXMuX2xvY2FsQ29sb3I9ZS5jb2xvciksdm9pZCAwIT09ZS5pZCYmKHRoaXMuaWQ9ZS5pZCksdm9pZCAwPT09dGhpcy5pZCl0aHJvdyBuZXcgRXJyb3IoXCJOb2RlIG11c3QgaGF2ZSBhbiBpZFwiKTt0LmNoZWNrTWFzcyhlLHRoaXMuaWQpLHZvaWQgMCE9PWUueCYmKG51bGw9PT1lLng/KHRoaXMueD12b2lkIDAsdGhpcy5wcmVkZWZpbmVkUG9zaXRpb249ITEpOih0aGlzLng9SXYoZS54KSx0aGlzLnByZWRlZmluZWRQb3NpdGlvbj0hMCkpLHZvaWQgMCE9PWUueSYmKG51bGw9PT1lLnk/KHRoaXMueT12b2lkIDAsdGhpcy5wcmVkZWZpbmVkUG9zaXRpb249ITEpOih0aGlzLnk9SXYoZS55KSx0aGlzLnByZWRlZmluZWRQb3NpdGlvbj0hMCkpLHZvaWQgMCE9PWUuc2l6ZSYmKHRoaXMuYmFzZVNpemU9ZS5zaXplKSx2b2lkIDAhPT1lLnZhbHVlJiYoZS52YWx1ZT15XyhlLnZhbHVlKSksdC5wYXJzZU9wdGlvbnModGhpcy5vcHRpb25zLGUsITAsdGhpcy5nbG9iYWxPcHRpb25zLHRoaXMuZ3JvdXBsaXN0KTt2YXIgbz1bZSx0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9uc107cmV0dXJuIHRoaXMuY2hvb3Nlcj1FXyhcIm5vZGVcIixvKSx0aGlzLl9sb2FkX2ltYWdlcygpLHRoaXMudXBkYXRlTGFiZWxNb2R1bGUoZSksdm9pZCAwIT09ZS5vcGFjaXR5JiZ0LmNoZWNrT3BhY2l0eShlLm9wYWNpdHkpJiYodGhpcy5vcHRpb25zLm9wYWNpdHk9ZS5vcGFjaXR5KSx0aGlzLnVwZGF0ZVNoYXBlKGkpLHZvaWQgMCE9PWUuaGlkZGVufHx2b2lkIDAhPT1lLnBoeXNpY3N9fX0se2tleTpcIl9sb2FkX2ltYWdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoKFwiY2lyY3VsYXJJbWFnZVwiPT09dGhpcy5vcHRpb25zLnNoYXBlfHxcImltYWdlXCI9PT10aGlzLm9wdGlvbnMuc2hhcGUpJiZ2b2lkIDA9PT10aGlzLm9wdGlvbnMuaW1hZ2UpdGhyb3cgbmV3IEVycm9yKFwiT3B0aW9uIGltYWdlIG11c3QgYmUgZGVmaW5lZCBmb3Igbm9kZSB0eXBlICdcIit0aGlzLm9wdGlvbnMuc2hhcGUrXCInXCIpO2lmKHZvaWQgMCE9PXRoaXMub3B0aW9ucy5pbWFnZSl7aWYodm9pZCAwPT09dGhpcy5pbWFnZWxpc3QpdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgRXJyb3I6IE5vIGltYWdlcyBwcm92aWRlZFwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5vcHRpb25zLmltYWdlKXRoaXMuaW1hZ2VPYmo9dGhpcy5pbWFnZWxpc3QubG9hZCh0aGlzLm9wdGlvbnMuaW1hZ2UsdGhpcy5vcHRpb25zLmJyb2tlbkltYWdlLHRoaXMuaWQpO2Vsc2V7aWYodm9pZCAwPT09dGhpcy5vcHRpb25zLmltYWdlLnVuc2VsZWN0ZWQpdGhyb3cgbmV3IEVycm9yKFwiTm8gdW5zZWxlY3RlZCBpbWFnZSBwcm92aWRlZFwiKTt0aGlzLmltYWdlT2JqPXRoaXMuaW1hZ2VsaXN0LmxvYWQodGhpcy5vcHRpb25zLmltYWdlLnVuc2VsZWN0ZWQsdGhpcy5vcHRpb25zLmJyb2tlbkltYWdlLHRoaXMuaWQpLHZvaWQgMCE9PXRoaXMub3B0aW9ucy5pbWFnZS5zZWxlY3RlZD90aGlzLmltYWdlT2JqQWx0PXRoaXMuaW1hZ2VsaXN0LmxvYWQodGhpcy5vcHRpb25zLmltYWdlLnNlbGVjdGVkLHRoaXMub3B0aW9ucy5icm9rZW5JbWFnZSx0aGlzLmlkKTp0aGlzLmltYWdlT2JqQWx0PXZvaWQgMH19fX0se2tleTpcImdldEZvcm1hdHRpbmdWYWx1ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXtjb2xvcjp0aGlzLm9wdGlvbnMuY29sb3IuYmFja2dyb3VuZCxvcGFjaXR5OnRoaXMub3B0aW9ucy5vcGFjaXR5LGJvcmRlcldpZHRoOnRoaXMub3B0aW9ucy5ib3JkZXJXaWR0aCxib3JkZXJDb2xvcjp0aGlzLm9wdGlvbnMuY29sb3IuYm9yZGVyLHNpemU6dGhpcy5vcHRpb25zLnNpemUsYm9yZGVyRGFzaGVzOnRoaXMub3B0aW9ucy5zaGFwZVByb3BlcnRpZXMuYm9yZGVyRGFzaGVzLGJvcmRlclJhZGl1czp0aGlzLm9wdGlvbnMuc2hhcGVQcm9wZXJ0aWVzLmJvcmRlclJhZGl1cyxzaGFkb3c6dGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkLHNoYWRvd0NvbG9yOnRoaXMub3B0aW9ucy5zaGFkb3cuY29sb3Isc2hhZG93U2l6ZTp0aGlzLm9wdGlvbnMuc2hhZG93LnNpemUsc2hhZG93WDp0aGlzLm9wdGlvbnMuc2hhZG93Lngsc2hhZG93WTp0aGlzLm9wdGlvbnMuc2hhZG93Lnl9O2lmKHRoaXMuc2VsZWN0ZWR8fHRoaXMuaG92ZXI/ITA9PT10aGlzLmNob29zZXI/dGhpcy5zZWxlY3RlZD8obnVsbCE9dGhpcy5vcHRpb25zLmJvcmRlcldpZHRoU2VsZWN0ZWQ/dC5ib3JkZXJXaWR0aD10aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGhTZWxlY3RlZDp0LmJvcmRlcldpZHRoKj0yLHQuY29sb3I9dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5iYWNrZ3JvdW5kLHQuYm9yZGVyQ29sb3I9dGhpcy5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXIsdC5zaGFkb3c9dGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkKTp0aGlzLmhvdmVyJiYodC5jb2xvcj10aGlzLm9wdGlvbnMuY29sb3IuaG92ZXIuYmFja2dyb3VuZCx0LmJvcmRlckNvbG9yPXRoaXMub3B0aW9ucy5jb2xvci5ob3Zlci5ib3JkZXIsdC5zaGFkb3c9dGhpcy5vcHRpb25zLnNoYWRvdy5lbmFibGVkKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmNob29zZXImJih0aGlzLmNob29zZXIodCx0aGlzLm9wdGlvbnMuaWQsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyKSwhMT09PXQuc2hhZG93JiYodC5zaGFkb3dDb2xvcj09PXRoaXMub3B0aW9ucy5zaGFkb3cuY29sb3ImJnQuc2hhZG93U2l6ZT09PXRoaXMub3B0aW9ucy5zaGFkb3cuc2l6ZSYmdC5zaGFkb3dYPT09dGhpcy5vcHRpb25zLnNoYWRvdy54JiZ0LnNoYWRvd1k9PT10aGlzLm9wdGlvbnMuc2hhZG93Lnl8fCh0LnNoYWRvdz0hMCkpKTp0LnNoYWRvdz10aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWQsdm9pZCAwIT09dGhpcy5vcHRpb25zLm9wYWNpdHkpe3ZhciBlPXRoaXMub3B0aW9ucy5vcGFjaXR5O3QuYm9yZGVyQ29sb3I9Vm0odC5ib3JkZXJDb2xvcixlKSx0LmNvbG9yPVZtKHQuY29sb3IsZSksdC5zaGFkb3dDb2xvcj1WbSh0LnNoYWRvd0NvbG9yLGUpfXJldHVybiB0fX0se2tleTpcInVwZGF0ZUxhYmVsTW9kdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dm9pZCAwIT09dGhpcy5vcHRpb25zLmxhYmVsJiZudWxsIT09dGhpcy5vcHRpb25zLmxhYmVsfHwodGhpcy5vcHRpb25zLmxhYmVsPVwiXCIpLHQudXBkYXRlR3JvdXBPcHRpb25zKHRoaXMub3B0aW9ucyxlRShlRSh7fSxlKSx7fSx7Y29sb3I6ZSYmZS5jb2xvcnx8dGhpcy5fbG9jYWxDb2xvcnx8dm9pZCAwfSksdGhpcy5ncm91cGxpc3QpO3ZhciBpPXRoaXMuZ3JvdXBsaXN0LmdldCh0aGlzLm9wdGlvbnMuZ3JvdXAsITEpLG89W2UsdGhpcy5vcHRpb25zLGksdGhpcy5nbG9iYWxPcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnNdO3RoaXMubGFiZWxNb2R1bGUudXBkYXRlKHRoaXMub3B0aW9ucyxvKSx2b2lkIDAhPT10aGlzLmxhYmVsTW9kdWxlLmJhc2VTaXplJiYodGhpcy5iYXNlRm9udFNpemU9dGhpcy5sYWJlbE1vZHVsZS5iYXNlU2l6ZSl9fSx7a2V5OlwidXBkYXRlU2hhcGVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0PT09dGhpcy5vcHRpb25zLnNoYXBlJiZ0aGlzLnNoYXBlKXRoaXMuc2hhcGUuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMsdGhpcy5pbWFnZU9iaix0aGlzLmltYWdlT2JqQWx0KTtlbHNlIHN3aXRjaCh0aGlzLm9wdGlvbnMuc2hhcGUpe2Nhc2VcImJveFwiOnRoaXMuc2hhcGU9bmV3IHl4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiY2lyY2xlXCI6dGhpcy5zaGFwZT1uZXcga3godGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJjaXJjdWxhckltYWdlXCI6dGhpcy5zaGFwZT1uZXcgeHgodGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlLHRoaXMuaW1hZ2VPYmosdGhpcy5pbWFnZU9iakFsdCk7YnJlYWs7Y2FzZVwiY3VzdG9tXCI6dGhpcy5zaGFwZT1uZXcgTXgodGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlLHRoaXMub3B0aW9ucy5jdHhSZW5kZXJlcik7YnJlYWs7Y2FzZVwiZGF0YWJhc2VcIjp0aGlzLnNoYXBlPW5ldyBEeCh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImRpYW1vbmRcIjp0aGlzLnNoYXBlPW5ldyBCeCh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcImRvdFwiOnRoaXMuc2hhcGU9bmV3IHp4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiZWxsaXBzZVwiOmRlZmF1bHQ6dGhpcy5zaGFwZT1uZXcgQXgodGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJpY29uXCI6dGhpcy5zaGFwZT1uZXcgangodGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTticmVhaztjYXNlXCJpbWFnZVwiOnRoaXMuc2hhcGU9bmV3IEh4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSx0aGlzLmltYWdlT2JqLHRoaXMuaW1hZ2VPYmpBbHQpO2JyZWFrO2Nhc2VcInNxdWFyZVwiOnRoaXMuc2hhcGU9bmV3IFZ4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwiaGV4YWdvblwiOnRoaXMuc2hhcGU9bmV3IFV4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwic3RhclwiOnRoaXMuc2hhcGU9bmV3IFh4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwidGV4dFwiOnRoaXMuc2hhcGU9bmV3IEd4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk7YnJlYWs7Y2FzZVwidHJpYW5nbGVcIjp0aGlzLnNoYXBlPW5ldyBaeCh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpO2JyZWFrO2Nhc2VcInRyaWFuZ2xlRG93blwiOnRoaXMuc2hhcGU9bmV3IEp4KHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSl9dGhpcy5uZWVkc1JlZnJlc2goKX19LHtrZXk6XCJzZWxlY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9ITAsdGhpcy5uZWVkc1JlZnJlc2goKX19LHtrZXk6XCJ1bnNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMSx0aGlzLm5lZWRzUmVmcmVzaCgpfX0se2tleTpcIm5lZWRzUmVmcmVzaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGFwZS5yZWZyZXNoTmVlZGVkPSEwfX0se2tleTpcImdldFRpdGxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnRpdGxlfX0se2tleTpcImRpc3RhbmNlVG9Cb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNoYXBlLmRpc3RhbmNlVG9Cb3JkZXIodCxlKX19LHtrZXk6XCJpc0ZpeGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmZpeGVkLngmJnRoaXMub3B0aW9ucy5maXhlZC55fX0se2tleTpcImlzU2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGVkfX0se2tleTpcImdldFZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnZhbHVlfX0se2tleTpcImdldExhYmVsU2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWxNb2R1bGUuc2l6ZSgpfX0se2tleTpcInNldFZhbHVlUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwIT09dGhpcy5vcHRpb25zLnZhbHVlKXt2YXIgbz10aGlzLm9wdGlvbnMuc2NhbGluZy5jdXN0b21TY2FsaW5nRnVuY3Rpb24odCxlLGksdGhpcy5vcHRpb25zLnZhbHVlKSxuPXRoaXMub3B0aW9ucy5zY2FsaW5nLm1heC10aGlzLm9wdGlvbnMuc2NhbGluZy5taW47aWYoITA9PT10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5lbmFibGVkKXt2YXIgcj10aGlzLm9wdGlvbnMuc2NhbGluZy5sYWJlbC5tYXgtdGhpcy5vcHRpb25zLnNjYWxpbmcubGFiZWwubWluO3RoaXMub3B0aW9ucy5mb250LnNpemU9dGhpcy5vcHRpb25zLnNjYWxpbmcubGFiZWwubWluK28qcn10aGlzLm9wdGlvbnMuc2l6ZT10aGlzLm9wdGlvbnMuc2NhbGluZy5taW4rbypufWVsc2UgdGhpcy5vcHRpb25zLnNpemU9dGhpcy5iYXNlU2l6ZSx0aGlzLm9wdGlvbnMuZm9udC5zaXplPXRoaXMuYmFzZUZvbnRTaXplO3RoaXMudXBkYXRlTGFiZWxNb2R1bGUoKX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRGb3JtYXR0aW5nVmFsdWVzKCk7cmV0dXJuIHRoaXMuc2hhcGUuZHJhdyh0LHRoaXMueCx0aGlzLnksdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyLGUpfHx7fX19LHtrZXk6XCJ1cGRhdGVCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2hhcGUudXBkYXRlQm91bmRpbmdCb3godGhpcy54LHRoaXMueSx0KX19LHtrZXk6XCJyZXNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZvcm1hdHRpbmdWYWx1ZXMoKTt0aGlzLnNoYXBlLnJlc2l6ZSh0LHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixlKX19LHtrZXk6XCJnZXRJdGVtc09uUG9pbnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5sYWJlbE1vZHVsZS52aXNpYmxlKCkmJk9fKHRoaXMubGFiZWxNb2R1bGUuZ2V0U2l6ZSgpLHQpJiZlLnB1c2goe25vZGVJZDp0aGlzLmlkLGxhYmVsSWQ6MH0pLE9fKHRoaXMuc2hhcGUuYm91bmRpbmdCb3gsdCkmJmUucHVzaCh7bm9kZUlkOnRoaXMuaWR9KSxlfX0se2tleTpcImlzT3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2hhcGUubGVmdDx0LnJpZ2h0JiZ0aGlzLnNoYXBlLmxlZnQrdGhpcy5zaGFwZS53aWR0aD50LmxlZnQmJnRoaXMuc2hhcGUudG9wPHQuYm90dG9tJiZ0aGlzLnNoYXBlLnRvcCt0aGlzLnNoYXBlLmhlaWdodD50LnRvcH19LHtrZXk6XCJpc0JvdW5kaW5nQm94T3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2hhcGUuYm91bmRpbmdCb3gubGVmdDx0LnJpZ2h0JiZ0aGlzLnNoYXBlLmJvdW5kaW5nQm94LnJpZ2h0PnQubGVmdCYmdGhpcy5zaGFwZS5ib3VuZGluZ0JveC50b3A8dC5ib3R0b20mJnRoaXMuc2hhcGUuYm91bmRpbmdCb3guYm90dG9tPnQudG9wfX1dLFt7a2V5OlwiY2hlY2tPcGFjaXR5XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDA8PXQmJnQ8PTF9fSx7a2V5OlwiY2hlY2tDb29yZGluYXRlT3JpZ2luXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXR8fFwiY2VudGVyXCI9PT10fHxcInRvcC1sZWZ0XCI9PT10fX0se2tleTpcInVwZGF0ZUdyb3VwT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUsaSxvKXt2YXIgbjtpZih2b2lkIDAhPT1vKXt2YXIgcj1lLmdyb3VwO2lmKHZvaWQgMCE9PWkmJnZvaWQgMCE9PWkuZ3JvdXAmJnIhPT1pLmdyb3VwKXRocm93IG5ldyBFcnJvcihcInVwZGF0ZUdyb3VwT3B0aW9uczogZ3JvdXAgdmFsdWVzIGluIG9wdGlvbnMgZG9uJ3QgbWF0Y2guXCIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiByfHxcInN0cmluZ1wiPT10eXBlb2YgciYmXCJcIiE9cil7dmFyIHM9by5nZXQocik7dm9pZCAwIT09cy5vcGFjaXR5JiZ2b2lkIDA9PT1pLm9wYWNpdHkmJih0LmNoZWNrT3BhY2l0eShzLm9wYWNpdHkpfHwoY29uc29sZS5lcnJvcihcIkludmFsaWQgb3B0aW9uIGZvciBub2RlIG9wYWNpdHkuIFZhbHVlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLCBmb3VuZDogXCIrcy5vcGFjaXR5KSxzLm9wYWNpdHk9dm9pZCAwKSk7dmFyIGE9bHYobj14XyhpKSkuY2FsbChuLChmdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9aVt0XX0pKTthLnB1c2goXCJmb250XCIpLEFtKGEsZSxzKSxlLmNvbG9yPVVtKGUuY29sb3IpfX19fSx7a2V5OlwicGFyc2VPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp2b2lkIDA7aWYoQW0oW1wiY29sb3JcIixcImZpeGVkXCIsXCJzaGFkb3dcIl0sZSxpLG8pLHQuY2hlY2tNYXNzKGkpLHZvaWQgMCE9PWUub3BhY2l0eSYmKHQuY2hlY2tPcGFjaXR5KGUub3BhY2l0eSl8fChjb25zb2xlLmVycm9yKFwiSW52YWxpZCBvcHRpb24gZm9yIG5vZGUgb3BhY2l0eS4gVmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEsIGZvdW5kOiBcIitlLm9wYWNpdHkpLGUub3BhY2l0eT12b2lkIDApKSx2b2lkIDAhPT1pLm9wYWNpdHkmJih0LmNoZWNrT3BhY2l0eShpLm9wYWNpdHkpfHwoY29uc29sZS5lcnJvcihcIkludmFsaWQgb3B0aW9uIGZvciBub2RlIG9wYWNpdHkuIFZhbHVlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLCBmb3VuZDogXCIraS5vcGFjaXR5KSxpLm9wYWNpdHk9dm9pZCAwKSksaS5zaGFwZVByb3BlcnRpZXMmJiF0LmNoZWNrQ29vcmRpbmF0ZU9yaWdpbihpLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luKSYmY29uc29sZS5lcnJvcihcIkludmFsaWQgb3B0aW9uIGZvciBub2RlIGNvb3JkaW5hdGVPcmlnaW4sIGZvdW5kOiBcIitpLnNoYXBlUHJvcGVydGllcy5jb29yZGluYXRlT3JpZ2luKSxRbShlLGksXCJzaGFkb3dcIixuKSx2b2lkIDAhPT1pLmNvbG9yJiZudWxsIT09aS5jb2xvcil7dmFyIHM9VW0oaS5jb2xvcik7em0oZS5jb2xvcixzKX1lbHNlITA9PT1vJiZudWxsPT09aS5jb2xvciYmKGUuY29sb3I9Wm0obi5jb2xvcikpO3ZvaWQgMCE9PWkuZml4ZWQmJm51bGwhPT1pLmZpeGVkJiYoXCJib29sZWFuXCI9PXR5cGVvZiBpLmZpeGVkPyhlLmZpeGVkLng9aS5maXhlZCxlLmZpeGVkLnk9aS5maXhlZCk6KHZvaWQgMCE9PWkuZml4ZWQueCYmXCJib29sZWFuXCI9PXR5cGVvZiBpLmZpeGVkLngmJihlLmZpeGVkLng9aS5maXhlZC54KSx2b2lkIDAhPT1pLmZpeGVkLnkmJlwiYm9vbGVhblwiPT10eXBlb2YgaS5maXhlZC55JiYoZS5maXhlZC55PWkuZml4ZWQueSkpKSwhMD09PW8mJm51bGw9PT1pLmZvbnQmJihlLmZvbnQ9Wm0obi5mb250KSksdC51cGRhdGVHcm91cE9wdGlvbnMoZSxpLHIpLHZvaWQgMCE9PWkuc2NhbGluZyYmUW0oZS5zY2FsaW5nLGkuc2NhbGluZyxcImxhYmVsXCIsbi5zY2FsaW5nKX19LHtrZXk6XCJjaGVja01hc3NcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQubWFzcyYmdC5tYXNzPD0wKXt2YXIgaT1cIlwiO3ZvaWQgMCE9PWUmJihpPVwiIGluIG5vZGUgaWQ6IFwiK2UpLGNvbnNvbGUuZXJyb3IoXCIlY05lZ2F0aXZlIG9yIHplcm8gbWFzcyBkaXNhbGxvd2VkXCIraStcIiwgc2V0dGluZyBtYXNzIHRvIDEuXCIscGIpLHQubWFzcz0xfX19XSksdH0oKTtmdW5jdGlvbiBvRSh0LGUpe3ZhciBpPXZvaWQgMCE9PWNmJiZwaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIWkpe2lmKE9mKHQpfHwoaT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gbkUodCxlKTt2YXIgbz1tZihpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChpLDgsLTEpO1wiT2JqZWN0XCI9PT1vJiZ0LmNvbnN0cnVjdG9yJiYobz10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1vfHxcIlNldFwiPT09bylyZXR1cm4gWGEodCk7aWYoXCJBcmd1bWVudHNcIj09PW98fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG8pKXJldHVybiBuRSh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7aSYmKHQ9aSk7dmFyIG89MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbysrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIscz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7aT1pLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1pLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXthPSEwLHI9dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19fX1mdW5jdGlvbiBuRSh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG89bmV3IEFycmF5KGUpO2k8ZTtpKyspb1tpXT10W2ldO3JldHVybiBvfXZhciByRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8sbil7dmFyIHIscz10aGlzO2lmKHZoKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5pbWFnZXM9aSx0aGlzLmdyb3Vwcz1vLHRoaXMubGF5b3V0RW5naW5lPW4sdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlPVdvKHI9dGhpcy5jcmVhdGUpLmNhbGwocix0aGlzKSx0aGlzLm5vZGVzTGlzdGVuZXJzPXthZGQ6ZnVuY3Rpb24odCxlKXtzLmFkZChlLml0ZW1zKX0sdXBkYXRlOmZ1bmN0aW9uKHQsZSl7cy51cGRhdGUoZS5pdGVtcyxlLmRhdGEsZS5vbGREYXRhKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7cy5yZW1vdmUoZS5pdGVtcyl9fSx0aGlzLmRlZmF1bHRPcHRpb25zPXtib3JkZXJXaWR0aDoxLGJvcmRlcldpZHRoU2VsZWN0ZWQ6dm9pZCAwLGJyb2tlbkltYWdlOnZvaWQgMCxjb2xvcjp7Ym9yZGVyOlwiIzJCN0NFOVwiLGJhY2tncm91bmQ6XCIjOTdDMkZDXCIsaGlnaGxpZ2h0Ontib3JkZXI6XCIjMkI3Q0U5XCIsYmFja2dyb3VuZDpcIiNEMkU1RkZcIn0saG92ZXI6e2JvcmRlcjpcIiMyQjdDRTlcIixiYWNrZ3JvdW5kOlwiI0QyRTVGRlwifX0sb3BhY2l0eTp2b2lkIDAsZml4ZWQ6e3g6ITEseTohMX0sZm9udDp7Y29sb3I6XCIjMzQzNDM0XCIsc2l6ZToxNCxmYWNlOlwiYXJpYWxcIixiYWNrZ3JvdW5kOlwibm9uZVwiLHN0cm9rZVdpZHRoOjAsc3Ryb2tlQ29sb3I6XCIjZmZmZmZmXCIsYWxpZ246XCJjZW50ZXJcIix2YWRqdXN0OjAsbXVsdGk6ITEsYm9sZDp7bW9kOlwiYm9sZFwifSxib2xkaXRhbDp7bW9kOlwiYm9sZCBpdGFsaWNcIn0saXRhbDp7bW9kOlwiaXRhbGljXCJ9LG1vbm86e21vZDpcIlwiLHNpemU6MTUsZmFjZTpcIm1vbm9zcGFjZVwiLHZhZGp1c3Q6Mn19LGdyb3VwOnZvaWQgMCxoaWRkZW46ITEsaWNvbjp7ZmFjZTpcIkZvbnRBd2Vzb21lXCIsY29kZTp2b2lkIDAsc2l6ZTo1MCxjb2xvcjpcIiMyQjdDRTlcIn0saW1hZ2U6dm9pZCAwLGltYWdlUGFkZGluZzp7dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjB9LGxhYmVsOnZvaWQgMCxsYWJlbEhpZ2hsaWdodEJvbGQ6ITAsbGV2ZWw6dm9pZCAwLG1hcmdpbjp7dG9wOjUscmlnaHQ6NSxib3R0b206NSxsZWZ0OjV9LG1hc3M6MSxwaHlzaWNzOiEwLHNjYWxpbmc6e21pbjoxMCxtYXg6MzAsbGFiZWw6e2VuYWJsZWQ6ITEsbWluOjE0LG1heDozMCxtYXhWaXNpYmxlOjMwLGRyYXdUaHJlc2hvbGQ6NX0sY3VzdG9tU2NhbGluZ0Z1bmN0aW9uOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKGU9PT10KXJldHVybi41O3ZhciBuPTEvKGUtdCk7cmV0dXJuIE1hdGgubWF4KDAsKG8tdCkqbil9fSxzaGFkb3c6e2VuYWJsZWQ6ITEsY29sb3I6XCJyZ2JhKDAsMCwwLDAuNSlcIixzaXplOjEwLHg6NSx5OjV9LHNoYXBlOlwiZWxsaXBzZVwiLHNoYXBlUHJvcGVydGllczp7Ym9yZGVyRGFzaGVzOiExLGJvcmRlclJhZGl1czo2LGludGVycG9sYXRpb246ITAsdXNlSW1hZ2VTaXplOiExLHVzZUJvcmRlcldpdGhJbWFnZTohMSxjb29yZGluYXRlT3JpZ2luOlwiY2VudGVyXCJ9LHNpemU6MjUsdGl0bGU6dm9pZCAwLHZhbHVlOnZvaWQgMCx4OnZvaWQgMCx5OnZvaWQgMH0sdGhpcy5kZWZhdWx0T3B0aW9ucy5tYXNzPD0wKXRocm93XCJJbnRlcm5hbCBlcnJvcjogbWFzcyBpbiBkZWZhdWx0T3B0aW9ucyBvZiBOb2Rlc0hhbmRsZXIgbWF5IG5vdCBiZSB6ZXJvIG9yIG5lZ2F0aXZlXCI7dGhpcy5vcHRpb25zPVptKHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIHd1KHQsW3trZXk6XCJiaW5kRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVmcmVzaE5vZGVzXCIsV28odD10aGlzLnJlZnJlc2gpLmNhbGwodCx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJyZWZyZXNoXCIsV28oZT10aGlzLnJlZnJlc2gpLmNhbGwoZSx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZXN0cm95XCIsKGZ1bmN0aW9uKCl7SG0oaS5ub2Rlc0xpc3RlbmVycywoZnVuY3Rpb24odCxlKXtpLmJvZHkuZGF0YS5ub2RlcyYmaS5ib2R5LmRhdGEubm9kZXMub2ZmKGUsdCl9KSksZGVsZXRlIGkuYm9keS5mdW5jdGlvbnMuY3JlYXRlTm9kZSxkZWxldGUgaS5ub2Rlc0xpc3RlbmVycy5hZGQsZGVsZXRlIGkubm9kZXNMaXN0ZW5lcnMudXBkYXRlLGRlbGV0ZSBpLm5vZGVzTGlzdGVuZXJzLnJlbW92ZSxkZWxldGUgaS5ub2Rlc0xpc3RlbmVyc30pKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7aWYoaUUucGFyc2VPcHRpb25zKHRoaXMub3B0aW9ucyx0KSx2b2lkIDAhPT10Lm9wYWNpdHkmJihPayh0Lm9wYWNpdHkpfHwhVGsodC5vcGFjaXR5KXx8dC5vcGFjaXR5PDB8fHQub3BhY2l0eT4xP2NvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG9wdGlvbiBmb3Igbm9kZSBvcGFjaXR5LiBWYWx1ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMSwgZm91bmQ6IFwiK3Qub3BhY2l0eSk6dGhpcy5vcHRpb25zLm9wYWNpdHk9dC5vcGFjaXR5KSx2b2lkIDAhPT10LnNoYXBlKWZvcih2YXIgZSBpbiB0aGlzLmJvZHkubm9kZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5ub2RlcyxlKSYmdGhpcy5ib2R5Lm5vZGVzW2VdLnVwZGF0ZVNoYXBlKCk7aWYodm9pZCAwIT09dC5mb250fHx2b2lkIDAhPT10LndpZHRoQ29uc3RyYWludHx8dm9pZCAwIT09dC5oZWlnaHRDb25zdHJhaW50KWZvcih2YXIgaT0wLG89emYodGhpcy5ib2R5Lm5vZGVzKTtpPG8ubGVuZ3RoO2krKyl7dmFyIG49b1tpXTt0aGlzLmJvZHkubm9kZXNbbl0udXBkYXRlTGFiZWxNb2R1bGUoKSx0aGlzLmJvZHkubm9kZXNbbl0ubmVlZHNSZWZyZXNoKCl9aWYodm9pZCAwIT09dC5zaXplKWZvcih2YXIgciBpbiB0aGlzLmJvZHkubm9kZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5ub2RlcyxyKSYmdGhpcy5ib2R5Lm5vZGVzW3JdLm5lZWRzUmVmcmVzaCgpO3ZvaWQgMD09PXQuaGlkZGVuJiZ2b2lkIDA9PT10LnBoeXNpY3N8fHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fX0se2tleTpcInNldERhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG89dGhpcy5ib2R5LmRhdGEubm9kZXM7aWYoZS5pc0RhdGFWaWV3TGlrZShcImlkXCIsdCkpdGhpcy5ib2R5LmRhdGEubm9kZXM9dDtlbHNlIGlmKE9mKHQpKXRoaXMuYm9keS5kYXRhLm5vZGVzPW5ldyBlLkRhdGFTZXQsdGhpcy5ib2R5LmRhdGEubm9kZXMuYWRkKHQpO2Vsc2V7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJyYXkgb3IgRGF0YVNldCBleHBlY3RlZFwiKTt0aGlzLmJvZHkuZGF0YS5ub2Rlcz1uZXcgZS5EYXRhU2V0fWlmKG8mJkhtKHRoaXMubm9kZXNMaXN0ZW5lcnMsKGZ1bmN0aW9uKHQsZSl7by5vZmYoZSx0KX0pKSx0aGlzLmJvZHkubm9kZXM9e30sdGhpcy5ib2R5LmRhdGEubm9kZXMpe3ZhciBuPXRoaXM7SG0odGhpcy5ub2Rlc0xpc3RlbmVycywoZnVuY3Rpb24odCxlKXtuLmJvZHkuZGF0YS5ub2Rlcy5vbihlLHQpfSkpO3ZhciByPXRoaXMuYm9keS5kYXRhLm5vZGVzLmdldElkcygpO3RoaXMuYWRkKHIsITApfSExPT09aSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLG89W10sbj0wO248dC5sZW5ndGg7bisrKXtlPXRbbl07dmFyIHI9dGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0KGUpLHM9dGhpcy5jcmVhdGUocik7by5wdXNoKHMpLHRoaXMuYm9keS5ub2Rlc1tlXT1zfXRoaXMubGF5b3V0RW5naW5lLnBvc2l0aW9uSW5pdGlhbGx5KG8pLCExPT09aSYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJ1cGRhdGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBvPXRoaXMuYm9keS5ub2RlcyxuPSExLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIHM9dFtyXSxhPW9bc10saD1lW3JdO3ZvaWQgMCE9PWE/YS5zZXRPcHRpb25zKGgpJiYobj0hMCk6KG49ITAsYT10aGlzLmNyZWF0ZShoKSxvW3NdPWEpfW58fHZvaWQgMD09PWl8fChuPXprKGUpLmNhbGwoZSwoZnVuY3Rpb24odCxlKXt2YXIgbz1pW2VdO3JldHVybiBvJiZvLmxldmVsIT09dC5sZXZlbH0pKSksITA9PT1uP3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIik6dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhVXBkYXRlZFwiKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5Lm5vZGVzLGk9MDtpPHQubGVuZ3RoO2krKyl7ZGVsZXRlIGVbdFtpXV19dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gbmV3KGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTppRSkodCx0aGlzLmJvZHksdGhpcy5pbWFnZXMsdGhpcy5ncm91cHMsdGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpfX0se2tleTpcInJlZnJlc2hcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO0htKHRoaXMuYm9keS5ub2RlcywoZnVuY3Rpb24oaSxvKXt2YXIgbj10LmJvZHkuZGF0YS5ub2Rlcy5nZXQobyk7dm9pZCAwIT09biYmKCEwPT09ZSYmaS5zZXRPcHRpb25zKHt4Om51bGwseTpudWxsfSksaS5zZXRPcHRpb25zKHtmaXhlZDohMX0pLGkuc2V0T3B0aW9ucyhuKSl9KSl9fSx7a2V5OlwiZ2V0UG9zaXRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9e307aWYodm9pZCAwIT09dCl7aWYoITA9PT1PZih0KSl7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RbaV1dKXt2YXIgbz10aGlzLmJvZHkubm9kZXNbdFtpXV07ZVt0W2ldXT17eDpNYXRoLnJvdW5kKG8ueCkseTpNYXRoLnJvdW5kKG8ueSl9fX1lbHNlIGlmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XSl7dmFyIG49dGhpcy5ib2R5Lm5vZGVzW3RdO2VbdF09e3g6TWF0aC5yb3VuZChuLngpLHk6TWF0aC5yb3VuZChuLnkpfX19ZWxzZSBmb3IodmFyIHI9MDtyPHRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg7cisrKXt2YXIgcz10aGlzLmJvZHkubm9kZXNbdGhpcy5ib2R5Lm5vZGVJbmRpY2VzW3JdXTtlW3RoaXMuYm9keS5ub2RlSW5kaWNlc1tyXV09e3g6TWF0aC5yb3VuZChzLngpLHk6TWF0aC5yb3VuZChzLnkpfX1yZXR1cm4gZX19LHtrZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKG51bGw9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIGlkIHdhcyBzcGVjaWZpZWQgZm9yIGdldFBvc2l0aW9uIG1ldGhvZC5cIik7aWYobnVsbD09dGhpcy5ib2R5Lm5vZGVzW3RdKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcIk5vZGVJZCBwcm92aWRlZCBmb3IgZ2V0UG9zaXRpb24gZG9lcyBub3QgZXhpc3QuIFByb3ZpZGVkOiBcIi5jb25jYXQodCkpO3JldHVybnt4Ok1hdGgucm91bmQodGhpcy5ib2R5Lm5vZGVzW3RdLngpLHk6TWF0aC5yb3VuZCh0aGlzLmJvZHkubm9kZXNbdF0ueSl9fX0se2tleTpcInN0b3JlUG9zaXRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPVtdLGk9dGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLG89b0UoaS5nZXQoKSk7dHJ5e2ZvcihvLnMoKTshKHQ9by5uKCkpLmRvbmU7KXt2YXIgbj10LnZhbHVlLHI9bi5pZCxzPXRoaXMuYm9keS5ub2Rlc1tyXSxhPU1hdGgucm91bmQocy54KSxoPU1hdGgucm91bmQocy55KTtuLng9PT1hJiZuLnk9PT1ofHxlLnB1c2goe2lkOnIseDphLHk6aH0pfX1jYXRjaCh0KXtvLmUodCl9ZmluYWxseXtvLmYoKX1pLnVwZGF0ZShlKX19LHtrZXk6XCJnZXRCb3VuZGluZ0JveFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XSlyZXR1cm4gdGhpcy5ib2R5Lm5vZGVzW3RdLnNoYXBlLmJvdW5kaW5nQm94fX0se2tleTpcImdldENvbm5lY3RlZE5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtpZih2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0pZm9yKHZhciBvPXRoaXMuYm9keS5ub2Rlc1t0XSxuPXt9LHI9MDtyPG8uZWRnZXMubGVuZ3RoO3IrKyl7dmFyIHM9by5lZGdlc1tyXTtcInRvXCIhPT1lJiZzLnRvSWQ9PW8uaWQ/dm9pZCAwPT09bltzLmZyb21JZF0mJihpLnB1c2gocy5mcm9tSWQpLG5bcy5mcm9tSWRdPSEwKTpcImZyb21cIiE9PWUmJnMuZnJvbUlkPT1vLmlkJiZ2b2lkIDA9PT1uW3MudG9JZF0mJihpLnB1c2gocy50b0lkKSxuW3MudG9JZF09ITApfXJldHVybiBpfX0se2tleTpcImdldENvbm5lY3RlZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RdKWZvcih2YXIgaT10aGlzLmJvZHkubm9kZXNbdF0sbz0wO288aS5lZGdlcy5sZW5ndGg7bysrKWUucHVzaChpLmVkZ2VzW29dLmlkKTtlbHNlIGNvbnNvbGUuZXJyb3IoXCJOb2RlSWQgcHJvdmlkZWQgZm9yIGdldENvbm5lY3RlZEVkZ2VzIGRvZXMgbm90IGV4aXN0LiBQcm92aWRlZDogXCIsdCk7cmV0dXJuIGV9fSx7a2V5OlwibW92ZU5vZGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dGhpczt2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0/KHRoaXMuYm9keS5ub2Rlc1t0XS54PU51bWJlcihlKSx0aGlzLmJvZHkubm9kZXNbdF0ueT1OdW1iZXIoaSksdmcoKGZ1bmN0aW9uKCl7by5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U2ltdWxhdGlvblwiKX0pLDApKTpjb25zb2xlLmVycm9yKFwiTm9kZSBpZCBzdXBwbGllZCB0byBtb3ZlTm9kZSBkb2VzIG5vdCBleGlzdC4gUHJvdmlkZWQ6IFwiLHQpfX1dKSx0fSgpLHNFPUp0LGFFPUIsaEU9ZXQsZEU9b2ksbEU9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXQmJihzRSh0LFwidmFsdWVcIil8fHNFKHQsXCJ3cml0YWJsZVwiKSl9LGNFPU0sdUU9VHI7TWkoe3RhcmdldDpcIlJlZmxlY3RcIixzdGF0OiEwfSx7Z2V0OmZ1bmN0aW9uIHQoZSxpKXt2YXIgbyxuLHI9YXJndW1lbnRzLmxlbmd0aDwzP2U6YXJndW1lbnRzWzJdO3JldHVybiBkRShlKT09PXI/ZVtpXToobz1jRS5mKGUsaSkpP2xFKG8pP28udmFsdWU6dm9pZCAwPT09by5nZXQ/dm9pZCAwOmFFKG8uZ2V0LHIpOmhFKG49dUUoZSkpP3QobixpLHIpOnZvaWQgMH19KTt2YXIgZkU9byhpdC5SZWZsZWN0LmdldCkscEU9byhVayk7ZnVuY3Rpb24gdkUoKXt2YXIgdDtcInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmZkU/dkU9ZHgodD1mRSkuY2FsbCh0KTp2RT1mdW5jdGlvbih0LGUsaSl7dmFyIG89ZnVuY3Rpb24odCxlKXtmb3IoOyFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmbnVsbCE9PSh0PXB4KHQpKTspO3JldHVybiB0fSh0LGUpO2lmKG8pe3ZhciBuPXBFKG8sZSk7cmV0dXJuIG4uZ2V0P24uZ2V0LmNhbGwoYXJndW1lbnRzLmxlbmd0aDwzP3Q6aSk6bi52YWx1ZX19O3JldHVybiB2RS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGdFPU1pLHlFPU1hdGguaHlwb3QsbUU9TWF0aC5hYnMsYkU9TWF0aC5zcXJ0O2dFKHt0YXJnZXQ6XCJNYXRoXCIsc3RhdDohMCxhcml0eToyLGZvcmNlZDohIXlFJiZ5RSgxLzAsTmFOKSE9PTEvMH0se2h5cG90OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG8sbj0wLHI9MCxzPWFyZ3VtZW50cy5sZW5ndGgsYT0wO3I8czspYTwoaT1tRShhcmd1bWVudHNbcisrXSkpPyhuPW4qKG89YS9pKSpvKzEsYT1pKTpuKz1pPjA/KG89aS9hKSpvOmk7cmV0dXJuIGE9PT0xLzA/MS8wOmEqYkUobil9fSk7dmFyIHdFPW8oaXQuTWF0aC5oeXBvdCk7ZnVuY3Rpb24ga0UodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgX0U9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmgodGhpcyx0KX1yZXR1cm4gd3UodCxudWxsLFt7a2V5OlwidHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtPZih0KXx8KHQ9W3RdKTtmb3IodmFyIGk9ZS5wb2ludC54LG89ZS5wb2ludC55LG49ZS5hbmdsZSxyPWUubGVuZ3RoLHM9MDtzPHQubGVuZ3RoOysrcyl7dmFyIGE9dFtzXSxoPWEueCpNYXRoLmNvcyhuKS1hLnkqTWF0aC5zaW4obiksZD1hLngqTWF0aC5zaW4obikrYS55Kk1hdGguY29zKG4pO2EueD1pK3IqaCxhLnk9bytyKmR9fX0se2tleTpcImRyYXdQYXRoXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGVbMF0ueCxlWzBdLnkpO2Zvcih2YXIgaT0xO2k8ZS5sZW5ndGg7KytpKXQubGluZVRvKGVbaV0ueCxlW2ldLnkpO3QuY2xvc2VQYXRoKCl9fV0pLHR9KCkseEU9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1rRShpKTtmdW5jdGlvbiBpKCl7cmV0dXJuIHZoKHRoaXMsaSksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHd1KGksbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKGUuaW1hZ2Upe3Quc2F2ZSgpLHQudHJhbnNsYXRlKGUucG9pbnQueCxlLnBvaW50LnkpLHQucm90YXRlKE1hdGguUEkvMitlLmFuZ2xlKTt2YXIgaT1udWxsIT1lLmltYWdlV2lkdGg/ZS5pbWFnZVdpZHRoOmUuaW1hZ2Uud2lkdGgsbz1udWxsIT1lLmltYWdlSGVpZ2h0P2UuaW1hZ2VIZWlnaHQ6ZS5pbWFnZS5oZWlnaHQ7ZS5pbWFnZS5kcmF3SW1hZ2VBdFBvc2l0aW9uKHQsMSwtaS8yLDAsaSxvKSx0LnJlc3RvcmUoKX1yZXR1cm4hMX19XSksaX0oX0UpLEVFPWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9a0UoaSk7ZnVuY3Rpb24gaSgpe3JldHVybiB2aCh0aGlzLGkpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB3dShpLG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6MCx5OjB9LHt4Oi0xLHk6LjN9LHt4Oi0uOSx5OjB9LHt4Oi0xLHk6LS4zfV07cmV0dXJuIF9FLnRyYW5zZm9ybShpLGUpLF9FLmRyYXdQYXRoKHQsaSksITB9fV0pLGl9KF9FKSxPRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6LTEseTowfSx7eDowLHk6LjN9LHt4Oi0uNCx5OjB9LHt4OjAseTotLjN9XTtyZXR1cm4gX0UudHJhbnNmb3JtKGksZSksX0UuZHJhd1BhdGgodCxpKSwhMH19XSksdH0oKSxDRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT17eDotLjQseTowfTtfRS50cmFuc2Zvcm0oaSxlKSx0LnN0cm9rZVN0eWxlPXQuZmlsbFN0eWxlLHQuZmlsbFN0eWxlPVwicmdiYSgwLCAwLCAwLCAwKVwiO3ZhciBvPU1hdGguUEksbj1lLmFuZ2xlLW8vMixyPWUuYW5nbGUrby8yO3JldHVybiB0LmJlZ2luUGF0aCgpLHQuYXJjKGkueCxpLnksLjQqZS5sZW5ndGgsbixyLCExKSx0LnN0cm9rZSgpLCEwfX1dKSx0fSgpLFNFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZoKHRoaXMsdCl9cmV0dXJuIHd1KHQsbnVsbCxbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXt4Oi0uMyx5OjB9O19FLnRyYW5zZm9ybShpLGUpLHQuc3Ryb2tlU3R5bGU9dC5maWxsU3R5bGUsdC5maWxsU3R5bGU9XCJyZ2JhKDAsIDAsIDAsIDApXCI7dmFyIG89TWF0aC5QSSxuPWUuYW5nbGUrby8yLHI9ZS5hbmdsZSszKm8vMjtyZXR1cm4gdC5iZWdpblBhdGgoKSx0LmFyYyhpLngsaS55LC40KmUubGVuZ3RoLG4sciwhMSksdC5zdHJva2UoKSwhMH19XSksdH0oKSxURT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6LjAyLHk6MH0se3g6LTEseTouM30se3g6LTEseTotLjN9XTtyZXR1cm4gX0UudHJhbnNmb3JtKGksZSksX0UuZHJhd1BhdGgodCxpKSwhMH19XSksdH0oKSxNRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6MCx5Oi4zfSx7eDowLHk6LS4zfSx7eDotMSx5OjB9XTtyZXR1cm4gX0UudHJhbnNmb3JtKGksZSksX0UuZHJhd1BhdGgodCxpKSwhMH19XSksdH0oKSxQRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT17eDotLjQseTowfTtyZXR1cm4gX0UudHJhbnNmb3JtKGksZSksVm8odCxpLngsaS55LC40KmUubGVuZ3RoKSwhMH19XSksdH0oKSxERT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6MCx5Oi41fSx7eDowLHk6LS41fSx7eDotLjE1LHk6LS41fSx7eDotLjE1LHk6LjV9XTtyZXR1cm4gX0UudHJhbnNmb3JtKGksZSksX0UuZHJhd1BhdGgodCxpKSwhMH19XSksdH0oKSxJRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6MCx5Oi4zfSx7eDowLHk6LS4zfSx7eDotLjYseTotLjN9LHt4Oi0uNix5Oi4zfV07cmV0dXJuIF9FLnRyYW5zZm9ybShpLGUpLF9FLmRyYXdQYXRoKHQsaSksITB9fV0pLHR9KCksQkU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmgodGhpcyx0KX1yZXR1cm4gd3UodCxudWxsLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9W3t4OjAseTowfSx7eDotLjUseTotLjN9LHt4Oi0xLHk6MH0se3g6LS41LHk6LjN9XTtyZXR1cm4gX0UudHJhbnNmb3JtKGksZSksX0UuZHJhd1BhdGgodCxpKSwhMH19XSksdH0oKSxGRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LG51bGwsW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1be3g6LTEseTouM30se3g6LS41LHk6MH0se3g6LTEseTotLjN9LHt4OjAseTowfV07cmV0dXJuIF9FLnRyYW5zZm9ybShpLGUpLF9FLmRyYXdQYXRoKHQsaSksITB9fV0pLHR9KCksekU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmgodGhpcyx0KX1yZXR1cm4gd3UodCxudWxsLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk7c3dpdGNoKGUudHlwZSYmKGk9ZS50eXBlLnRvTG93ZXJDYXNlKCkpLGkpe2Nhc2VcImltYWdlXCI6cmV0dXJuIHhFLmRyYXcodCxlKTtjYXNlXCJjaXJjbGVcIjpyZXR1cm4gUEUuZHJhdyh0LGUpO2Nhc2VcImJveFwiOnJldHVybiBJRS5kcmF3KHQsZSk7Y2FzZVwiY3Jvd1wiOnJldHVybiBPRS5kcmF3KHQsZSk7Y2FzZVwiY3VydmVcIjpyZXR1cm4gQ0UuZHJhdyh0LGUpO2Nhc2VcImRpYW1vbmRcIjpyZXR1cm4gQkUuZHJhdyh0LGUpO2Nhc2VcImludl9jdXJ2ZVwiOnJldHVybiBTRS5kcmF3KHQsZSk7Y2FzZVwidHJpYW5nbGVcIjpyZXR1cm4gVEUuZHJhdyh0LGUpO2Nhc2VcImludl90cmlhbmdsZVwiOnJldHVybiBNRS5kcmF3KHQsZSk7Y2FzZVwiYmFyXCI6cmV0dXJuIERFLmRyYXcodCxlKTtjYXNlXCJ2ZWVcIjpyZXR1cm4gRkUuZHJhdyh0LGUpO2RlZmF1bHQ6cmV0dXJuIEVFLmRyYXcodCxlKX19fV0pLHR9KCk7ZnVuY3Rpb24gTkUodCxlKXt2YXIgaT16Zih0KTtpZihOayl7dmFyIG89TmsodCk7ZSYmKG89bHYobykuY2FsbChvLChmdW5jdGlvbihlKXtyZXR1cm4gWWsodCxlKS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxvKX1yZXR1cm4gaX1mdW5jdGlvbiBBRSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgaSxvLG49bnVsbCE9YXJndW1lbnRzW2VdP2FyZ3VtZW50c1tlXTp7fTtlJTI/UWYoaT1ORShPYmplY3QobiksITApKS5jYWxsKGksKGZ1bmN0aW9uKGUpe3NfKHQsZSxuW2VdKX0pKTpaaz9uXyh0LFprKG4pKTpRZihvPU5FKE9iamVjdChuKSkpLmNhbGwobywoZnVuY3Rpb24oZSl7cl8odCxlLFlrKG4sZSkpfSkpfXJldHVybiB0fXZhciBSRT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe3ZoKHRoaXMsdCksdGhpcy5fYm9keT1pLHRoaXMuX2xhYmVsTW9kdWxlPW8sdGhpcy5jb2xvcj17fSx0aGlzLmNvbG9yRGlydHk9ITAsdGhpcy5ob3ZlcldpZHRoPTEuNSx0aGlzLnNlbGVjdGlvbldpZHRoPTIsdGhpcy5zZXRPcHRpb25zKGUpLHRoaXMuZnJvbVBvaW50PXRoaXMuZnJvbSx0aGlzLnRvUG9pbnQ9dGhpcy50b31yZXR1cm4gd3UodCxbe2tleTpcImNvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJvbT10aGlzLl9ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy5mcm9tXSx0aGlzLnRvPXRoaXMuX2JvZHkubm9kZXNbdGhpcy5vcHRpb25zLnRvXX19LHtrZXk6XCJjbGVhbnVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXQsdGhpcy5mcm9tPXRoaXMuX2JvZHkubm9kZXNbdGhpcy5vcHRpb25zLmZyb21dLHRoaXMudG89dGhpcy5fYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMudG9dLHRoaXMuaWQ9dGhpcy5vcHRpb25zLmlkfX0se2tleTpcImRyYXdMaW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOnRoaXMuZ2V0VmlhTm9kZSgpO3Quc3Ryb2tlU3R5bGU9dGhpcy5nZXRDb2xvcih0LGUpLHQubGluZVdpZHRoPWUud2lkdGgsITEhPT1lLmRhc2hlcz90aGlzLl9kcmF3RGFzaGVkTGluZSh0LGUsbik6dGhpcy5fZHJhd0xpbmUodCxlLG4pfX0se2tleTpcIl9kcmF3TGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7aWYodGhpcy5mcm9tIT10aGlzLnRvKXRoaXMuX2xpbmUodCxlLGksbyxuKTtlbHNle3ZhciByPWRmKHRoaXMuX2dldENpcmNsZURhdGEodCksMykscz1yWzBdLGE9clsxXSxoPXJbMl07dGhpcy5fY2lyY2xlKHQsZSxzLGEsaCl9fX0se2tleTpcIl9kcmF3RGFzaGVkTGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dC5saW5lQ2FwPVwicm91bmRcIjt2YXIgcj1PZihlLmRhc2hlcyk/ZS5kYXNoZXM6WzUsNV07aWYodm9pZCAwIT09dC5zZXRMaW5lRGFzaCl7aWYodC5zYXZlKCksdC5zZXRMaW5lRGFzaChyKSx0LmxpbmVEYXNoT2Zmc2V0PTAsdGhpcy5mcm9tIT10aGlzLnRvKXRoaXMuX2xpbmUodCxlLGkpO2Vsc2V7dmFyIHM9ZGYodGhpcy5fZ2V0Q2lyY2xlRGF0YSh0KSwzKSxhPXNbMF0saD1zWzFdLGQ9c1syXTt0aGlzLl9jaXJjbGUodCxlLGEsaCxkKX10LnNldExpbmVEYXNoKFswXSksdC5saW5lRGFzaE9mZnNldD0wLHQucmVzdG9yZSgpfWVsc2V7aWYodGhpcy5mcm9tIT10aGlzLnRvKVhvKHQsdGhpcy5mcm9tLngsdGhpcy5mcm9tLnksdGhpcy50by54LHRoaXMudG8ueSxyKTtlbHNle3ZhciBsPWRmKHRoaXMuX2dldENpcmNsZURhdGEodCksMyksYz1sWzBdLHU9bFsxXSxmPWxbMl07dGhpcy5fY2lyY2xlKHQsZSxjLHUsZil9dGhpcy5lbmFibGVTaGFkb3codCxlKSx0LnN0cm9rZSgpLHRoaXMuZGlzYWJsZVNoYWRvdyh0LGUpfX19LHtrZXk6XCJmaW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7cmV0dXJuIHRoaXMuZnJvbSE9dGhpcy50bz90aGlzLl9maW5kQm9yZGVyUG9zaXRpb24odCxlLGkpOnRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0LGUsaSl9fSx7a2V5OlwiZmluZEJvcmRlclBvc2l0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZnJvbSE9dGhpcy50bylyZXR1cm57ZnJvbTp0aGlzLl9maW5kQm9yZGVyUG9zaXRpb24odGhpcy5mcm9tLHQpLHRvOnRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbih0aGlzLnRvLHQpfTt2YXIgZSxpPWRmKG1mKGU9dGhpcy5fZ2V0Q2lyY2xlRGF0YSh0KSkuY2FsbChlLDAsMiksMiksbz1pWzBdLG49aVsxXTtyZXR1cm57ZnJvbTp0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGUodGhpcy5mcm9tLHQse3g6byx5Om4sbG93Oi4yNSxoaWdoOi42LGRpcmVjdGlvbjotMX0pLHRvOnRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0aGlzLmZyb20sdCx7eDpvLHk6bixsb3c6LjYsaGlnaDouOCxkaXJlY3Rpb246MX0pfX19LHtrZXk6XCJfZ2V0Q2lyY2xlRGF0YVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLnNpemU7dm9pZCAwIT09dCYmdm9pZCAwPT09dGhpcy5mcm9tLnNoYXBlLndpZHRoJiZ0aGlzLmZyb20uc2hhcGUucmVzaXplKHQpO3ZhciBpPVNfKHQsdGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2UuYW5nbGUsZSx0aGlzLmZyb20pO3JldHVybltpLngsaS55LGVdfX0se2tleTpcIl9wb2ludE9uQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49MipvKk1hdGguUEk7cmV0dXJue3g6dCtpKk1hdGguY29zKG4pLHk6ZS1pKk1hdGguc2luKG4pfX19LHtrZXk6XCJfZmluZEJvcmRlclBvc2l0aW9uQ2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvLG49aS54LHI9aS55LHM9aS5sb3csYT1pLmhpZ2gsaD1pLmRpcmVjdGlvbixkPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLnNpemUsbD0uNSoocythKSxjPTA7ITA9PT10aGlzLm9wdGlvbnMuYXJyb3dTdHJpa2V0aHJvdWdoJiYoLTE9PT1oP2M9dGhpcy5vcHRpb25zLmVuZFBvaW50T2Zmc2V0LmZyb206MT09PWgmJihjPXRoaXMub3B0aW9ucy5lbmRQb2ludE9mZnNldC50bykpO3ZhciB1PTA7ZG97bD0uNSoocythKSxvPXRoaXMuX3BvaW50T25DaXJjbGUobixyLGQsbCk7dmFyIGY9TWF0aC5hdGFuMih0Lnktby55LHQueC1vLngpLHA9dC5kaXN0YW5jZVRvQm9yZGVyKGUsZikrYy1NYXRoLnNxcnQoTWF0aC5wb3coby54LXQueCwyKStNYXRoLnBvdyhvLnktdC55LDIpKTtpZihNYXRoLmFicyhwKTwuMDUpYnJlYWs7cD4wP2g+MD9zPWw6YT1sOmg+MD9hPWw6cz1sLCsrdX13aGlsZShzPD1hJiZ1PDEwKTtyZXR1cm4gQUUoQUUoe30sbykse30se3Q6bH0pfX0se2tleTpcImdldExpbmVXaWR0aFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuITA9PT10P01hdGgubWF4KHRoaXMuc2VsZWN0aW9uV2lkdGgsLjMvdGhpcy5fYm9keS52aWV3LnNjYWxlKTohMD09PWU/TWF0aC5tYXgodGhpcy5ob3ZlcldpZHRoLC4zL3RoaXMuX2JvZHkudmlldy5zY2FsZSk6TWF0aC5tYXgodGhpcy5vcHRpb25zLndpZHRoLC4zL3RoaXMuX2JvZHkudmlldy5zY2FsZSl9fSx7a2V5OlwiZ2V0Q29sb3JcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCExIT09ZS5pbmhlcml0c0NvbG9yKXtpZihcImJvdGhcIj09PWUuaW5oZXJpdHNDb2xvciYmdGhpcy5mcm9tLmlkIT09dGhpcy50by5pZCl7dmFyIGk9dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh0aGlzLmZyb20ueCx0aGlzLmZyb20ueSx0aGlzLnRvLngsdGhpcy50by55KSxvPXRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmhpZ2hsaWdodC5ib3JkZXIsbj10aGlzLnRvLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LmJvcmRlcjtyZXR1cm4hMT09PXRoaXMuZnJvbS5zZWxlY3RlZCYmITE9PT10aGlzLnRvLnNlbGVjdGVkPyhvPVZtKHRoaXMuZnJvbS5vcHRpb25zLmNvbG9yLmJvcmRlcixlLm9wYWNpdHkpLG49Vm0odGhpcy50by5vcHRpb25zLmNvbG9yLmJvcmRlcixlLm9wYWNpdHkpKTohMD09PXRoaXMuZnJvbS5zZWxlY3RlZCYmITE9PT10aGlzLnRvLnNlbGVjdGVkP249dGhpcy50by5vcHRpb25zLmNvbG9yLmJvcmRlcjohMT09PXRoaXMuZnJvbS5zZWxlY3RlZCYmITA9PT10aGlzLnRvLnNlbGVjdGVkJiYobz10aGlzLmZyb20ub3B0aW9ucy5jb2xvci5ib3JkZXIpLGkuYWRkQ29sb3JTdG9wKDAsbyksaS5hZGRDb2xvclN0b3AoMSxuKSxpfXJldHVyblwidG9cIj09PWUuaW5oZXJpdHNDb2xvcj9WbSh0aGlzLnRvLm9wdGlvbnMuY29sb3IuYm9yZGVyLGUub3BhY2l0eSk6Vm0odGhpcy5mcm9tLm9wdGlvbnMuY29sb3IuYm9yZGVyLGUub3BhY2l0eSl9cmV0dXJuIFZtKGUuY29sb3IsZS5vcGFjaXR5KX19LHtrZXk6XCJfY2lyY2xlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt0aGlzLmVuYWJsZVNoYWRvdyh0LGUpO3ZhciByPTAscz0yKk1hdGguUEk7aWYoIXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLnJlbmRlckJlaGluZFRoZU5vZGUpe3ZhciBhPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLmFuZ2xlLGg9dGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2UuYW5nbGUrTWF0aC5QSSxkPXRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbkNpcmNsZSh0aGlzLmZyb20sdCx7eDppLHk6byxsb3c6YSxoaWdoOmgsZGlyZWN0aW9uOi0xfSksbD10aGlzLl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGUodGhpcy5mcm9tLHQse3g6aSx5Om8sbG93OmEsaGlnaDpoLGRpcmVjdGlvbjoxfSk7cj1NYXRoLmF0YW4yKGQueS1vLGQueC1pKSxzPU1hdGguYXRhbjIobC55LW8sbC54LWkpfXQuYmVnaW5QYXRoKCksdC5hcmMoaSxvLG4scixzLCExKSx0LnN0cm9rZSgpLHRoaXMuZGlzYWJsZVNoYWRvdyh0LGUpfX0se2tleTpcImdldERpc3RhbmNlVG9FZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe2lmKHRoaXMuZnJvbSE9dGhpcy50bylyZXR1cm4gdGhpcy5fZ2V0RGlzdGFuY2VUb0VkZ2UodCxlLGksbyxuLHIpO3ZhciBzPWRmKHRoaXMuX2dldENpcmNsZURhdGEodm9pZCAwKSwzKSxhPXNbMF0saD1zWzFdLGQ9c1syXSxsPWEtbixjPWgtcjtyZXR1cm4gTWF0aC5hYnMoTWF0aC5zcXJ0KGwqbCtjKmMpLWQpfX0se2tleTpcIl9nZXREaXN0YW5jZVRvTGluZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyKXt2YXIgcz1pLXQsYT1vLWUsaD0oKG4tdCkqcysoci1lKSphKS8ocypzK2EqYSk7aD4xP2g9MTpoPDAmJihoPTApO3ZhciBkPXQraCpzLW4sbD1lK2gqYS1yO3JldHVybiBNYXRoLnNxcnQoZCpkK2wqbCl9fSx7a2V5OlwiZ2V0QXJyb3dEYXRhXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3ZhciBzLGEsaCxkLGwsYyx1LGY9ci53aWR0aDtcImZyb21cIj09PWU/KGg9dGhpcy5mcm9tLGQ9dGhpcy50byxsPXIuZnJvbUFycm93U2NhbGU8MCxjPU1hdGguYWJzKHIuZnJvbUFycm93U2NhbGUpLHU9ci5mcm9tQXJyb3dUeXBlKTpcInRvXCI9PT1lPyhoPXRoaXMudG8sZD10aGlzLmZyb20sbD1yLnRvQXJyb3dTY2FsZTwwLGM9TWF0aC5hYnMoci50b0Fycm93U2NhbGUpLHU9ci50b0Fycm93VHlwZSk6KGg9dGhpcy50byxkPXRoaXMuZnJvbSxsPXIubWlkZGxlQXJyb3dTY2FsZTwwLGM9TWF0aC5hYnMoci5taWRkbGVBcnJvd1NjYWxlKSx1PXIubWlkZGxlQXJyb3dUeXBlKTt2YXIgcD0xNSpjKzMqZjtpZihoIT1kKXt2YXIgdj1wL3dFKGgueC1kLngsaC55LWQueSk7aWYoXCJtaWRkbGVcIiE9PWUpaWYoITA9PT10aGlzLm9wdGlvbnMuc21vb3RoLmVuYWJsZWQpe3ZhciBnPXRoaXMuX2ZpbmRCb3JkZXJQb3NpdGlvbihoLHQse3ZpYTppfSkseT10aGlzLmdldFBvaW50KGcudCt2KihcImZyb21cIj09PWU/MTotMSksaSk7cz1NYXRoLmF0YW4yKGcueS15LnksZy54LXkueCksYT1nfWVsc2Ugcz1NYXRoLmF0YW4yKGgueS1kLnksaC54LWQueCksYT10aGlzLl9maW5kQm9yZGVyUG9zaXRpb24oaCx0KTtlbHNle3ZhciBtPShsPy12OnYpLzIsYj10aGlzLmdldFBvaW50KC41K20saSksdz10aGlzLmdldFBvaW50KC41LW0saSk7cz1NYXRoLmF0YW4yKGIueS13LnksYi54LXcueCksYT10aGlzLmdldFBvaW50KC41LGkpfX1lbHNle3ZhciBrPWRmKHRoaXMuX2dldENpcmNsZURhdGEodCksMyksXz1rWzBdLHg9a1sxXSxFPWtbMl07aWYoXCJmcm9tXCI9PT1lKXt2YXIgTz10aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5hbmdsZSxDPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLmFuZ2xlK01hdGguUEksUz10aGlzLl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGUodGhpcy5mcm9tLHQse3g6Xyx5OngsbG93Ok8saGlnaDpDLGRpcmVjdGlvbjotMX0pO3M9LTIqUy50Kk1hdGguUEkrMS41Kk1hdGguUEkrLjEqTWF0aC5QSSxhPVN9ZWxzZSBpZihcInRvXCI9PT1lKXt2YXIgVD10aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5hbmdsZSxNPXRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLmFuZ2xlK01hdGguUEksUD10aGlzLl9maW5kQm9yZGVyUG9zaXRpb25DaXJjbGUodGhpcy5mcm9tLHQse3g6Xyx5OngsbG93OlQsaGlnaDpNLGRpcmVjdGlvbjoxfSk7cz0tMipQLnQqTWF0aC5QSSsxLjUqTWF0aC5QSS0xLjEqTWF0aC5QSSxhPVB9ZWxzZXt2YXIgRD10aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5hbmdsZS8oMipNYXRoLlBJKTthPXRoaXMuX3BvaW50T25DaXJjbGUoXyx4LEUsRCkscz0tMipEKk1hdGguUEkrMS41Kk1hdGguUEkrLjEqTWF0aC5QSX19cmV0dXJue3BvaW50OmEsY29yZTp7eDphLngtLjkqcCpNYXRoLmNvcyhzKSx5OmEueS0uOSpwKk1hdGguc2luKHMpfSxhbmdsZTpzLGxlbmd0aDpwLHR5cGU6dX19fSx7a2V5OlwiZHJhd0Fycm93SGVhZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7dC5zdHJva2VTdHlsZT10aGlzLmdldENvbG9yKHQsZSksdC5maWxsU3R5bGU9dC5zdHJva2VTdHlsZSx0LmxpbmVXaWR0aD1lLndpZHRoLHpFLmRyYXcodCxuKSYmKHRoaXMuZW5hYmxlU2hhZG93KHQsZSksQ2codCkuY2FsbCh0KSx0aGlzLmRpc2FibGVTaGFkb3codCxlKSl9fSx7a2V5OlwiZW5hYmxlU2hhZG93XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXshMD09PWUuc2hhZG93JiYodC5zaGFkb3dDb2xvcj1lLnNoYWRvd0NvbG9yLHQuc2hhZG93Qmx1cj1lLnNoYWRvd1NpemUsdC5zaGFkb3dPZmZzZXRYPWUuc2hhZG93WCx0LnNoYWRvd09mZnNldFk9ZS5zaGFkb3dZKX19LHtrZXk6XCJkaXNhYmxlU2hhZG93XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXshMD09PWUuc2hhZG93JiYodC5zaGFkb3dDb2xvcj1cInJnYmEoMCwwLDAsMClcIix0LnNoYWRvd0JsdXI9MCx0LnNoYWRvd09mZnNldFg9MCx0LnNoYWRvd09mZnNldFk9MCl9fSx7a2V5OlwiZHJhd0JhY2tncm91bmRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCExIT09ZS5iYWNrZ3JvdW5kKXt2YXIgaT17c3Ryb2tlU3R5bGU6dC5zdHJva2VTdHlsZSxsaW5lV2lkdGg6dC5saW5lV2lkdGgsZGFzaGVzOnQuZGFzaGVzfTt0LnN0cm9rZVN0eWxlPWUuYmFja2dyb3VuZENvbG9yLHQubGluZVdpZHRoPWUuYmFja2dyb3VuZFNpemUsdGhpcy5zZXRTdHJva2VEYXNoZWQodCxlLmJhY2tncm91bmREYXNoZXMpLHQuc3Ryb2tlKCksdC5zdHJva2VTdHlsZT1pLnN0cm9rZVN0eWxlLHQubGluZVdpZHRoPWkubGluZVdpZHRoLHQuZGFzaGVzPWkuZGFzaGVzLHRoaXMuc2V0U3Ryb2tlRGFzaGVkKHQsZS5kYXNoZXMpfX19LHtrZXk6XCJzZXRTdHJva2VEYXNoZWRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCExIT09ZSlpZih2b2lkIDAhPT10LnNldExpbmVEYXNoKXt2YXIgaT1PZihlKT9lOls1LDVdO3Quc2V0TGluZURhc2goaSl9ZWxzZSBjb25zb2xlLndhcm4oXCJzZXRMaW5lRGFzaCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4gVGhlIGRhc2hlZCBzdHJva2UgY2Fubm90IGJlIHVzZWQuXCIpO2Vsc2Ugdm9pZCAwIT09dC5zZXRMaW5lRGFzaD90LnNldExpbmVEYXNoKFtdKTpjb25zb2xlLndhcm4oXCJzZXRMaW5lRGFzaCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci4gVGhlIGRhc2hlZCBzdHJva2UgY2Fubm90IGJlIHVzZWQuXCIpfX1dKSx0fSgpO2Z1bmN0aW9uIGpFKHQsZSl7dmFyIGk9emYodCk7aWYoTmspe3ZhciBvPU5rKHQpO2UmJihvPWx2KG8pLmNhbGwobywoZnVuY3Rpb24oZSl7cmV0dXJuIFlrKHQsZSkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbyl9cmV0dXJuIGl9ZnVuY3Rpb24gTEUodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIGksbyxuPW51bGwhPWFyZ3VtZW50c1tlXT9hcmd1bWVudHNbZV06e307ZSUyP1FmKGk9akUoT2JqZWN0KG4pLCEwKSkuY2FsbChpLChmdW5jdGlvbihlKXtzXyh0LGUsbltlXSl9KSk6Wms/bl8odCxaayhuKSk6UWYobz1qRShPYmplY3QobikpKS5jYWxsKG8sKGZ1bmN0aW9uKGUpe3JfKHQsZSxZayhuLGUpKX0pKX1yZXR1cm4gdH1mdW5jdGlvbiBIRSh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciBXRT1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPUhFKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiB2aCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gd3UoaSxbe2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25CZXppZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpLG8sbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKSxyPSExLHM9MSxhPTAsaD10aGlzLnRvLGQ9dGhpcy5vcHRpb25zLmVuZFBvaW50T2Zmc2V0P3RoaXMub3B0aW9ucy5lbmRQb2ludE9mZnNldC50bzowO3QuaWQ9PT10aGlzLmZyb20uaWQmJihoPXRoaXMuZnJvbSxyPSEwLGQ9dGhpcy5vcHRpb25zLmVuZFBvaW50T2Zmc2V0P3RoaXMub3B0aW9ucy5lbmRQb2ludE9mZnNldC5mcm9tOjApLCExPT09dGhpcy5vcHRpb25zLmFycm93U3RyaWtldGhyb3VnaCYmKGQ9MCk7dmFyIGw9MDtkb3tvPS41KihhK3MpLGk9dGhpcy5nZXRQb2ludChvLG4pO3ZhciBjPU1hdGguYXRhbjIoaC55LWkueSxoLngtaS54KSx1PWguZGlzdGFuY2VUb0JvcmRlcihlLGMpK2QtTWF0aC5zcXJ0KE1hdGgucG93KGkueC1oLngsMikrTWF0aC5wb3coaS55LWgueSwyKSk7aWYoTWF0aC5hYnModSk8LjIpYnJlYWs7dTwwPyExPT09cj9hPW86cz1vOiExPT09cj9zPW86YT1vLCsrbH13aGlsZShhPD1zJiZsPDEwKTtyZXR1cm4gTEUoTEUoe30saSkse30se3Q6b30pfX0se2tleTpcIl9nZXREaXN0YW5jZVRvQmV6aWVyRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbixyLHMpe3ZhciBhLGgsZCxsLGMsdT0xZTksZj10LHA9ZTtmb3IoaD0xO2g8MTA7aCsrKWQ9LjEqaCxsPU1hdGgucG93KDEtZCwyKSp0KzIqZCooMS1kKSpzLngrTWF0aC5wb3coZCwyKSppLGM9TWF0aC5wb3coMS1kLDIpKmUrMipkKigxLWQpKnMueStNYXRoLnBvdyhkLDIpKm8saD4wJiYodT0oYT10aGlzLl9nZXREaXN0YW5jZVRvTGluZShmLHAsbCxjLG4scikpPHU/YTp1KSxmPWwscD1jO3JldHVybiB1fX0se2tleTpcIl9iZXppZXJDdXJ2ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe3QuYmVnaW5QYXRoKCksdC5tb3ZlVG8odGhpcy5mcm9tUG9pbnQueCx0aGlzLmZyb21Qb2ludC55KSxudWxsIT1pJiZudWxsIT1pLng/bnVsbCE9byYmbnVsbCE9by54P3QuYmV6aWVyQ3VydmVUbyhpLngsaS55LG8ueCxvLnksdGhpcy50b1BvaW50LngsdGhpcy50b1BvaW50LnkpOnQucXVhZHJhdGljQ3VydmVUbyhpLngsaS55LHRoaXMudG9Qb2ludC54LHRoaXMudG9Qb2ludC55KTp0LmxpbmVUbyh0aGlzLnRvUG9pbnQueCx0aGlzLnRvUG9pbnQueSksdGhpcy5kcmF3QmFja2dyb3VuZCh0LGUpLHRoaXMuZW5hYmxlU2hhZG93KHQsZSksdC5zdHJva2UoKSx0aGlzLmRpc2FibGVTaGFkb3codCxlKX19LHtrZXk6XCJnZXRWaWFOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKX19XSksaX0oUkUpO2Z1bmN0aW9uIFZFKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIHFFPWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9VkUoaSk7ZnVuY3Rpb24gaSh0LG8sbil7dmFyIHI7cmV0dXJuIHZoKHRoaXMsaSksKHI9ZS5jYWxsKHRoaXMsdCxvLG4pKS52aWE9ci52aWEsci5fYm91bmRGdW5jdGlvbj1mdW5jdGlvbigpe3IucG9zaXRpb25CZXppZXJOb2RlKCl9LHIuX2JvZHkuZW1pdHRlci5vbihcIl9yZXBvc2l0aW9uQmV6aWVyTm9kZXNcIixyLl9ib3VuZEZ1bmN0aW9uKSxyfXJldHVybiB3dShpLFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZFKHB4KGkucHJvdG90eXBlKSxcInNldE9wdGlvbnNcIix0aGlzKS5jYWxsKHRoaXMsdCk7dmFyIGU9ITE7dGhpcy5vcHRpb25zLnBoeXNpY3MhPT10LnBoeXNpY3MmJihlPSEwKSx0aGlzLm9wdGlvbnM9dCx0aGlzLmlkPXRoaXMub3B0aW9ucy5pZCx0aGlzLmZyb209dGhpcy5fYm9keS5ub2Rlc1t0aGlzLm9wdGlvbnMuZnJvbV0sdGhpcy50bz10aGlzLl9ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy50b10sdGhpcy5zZXR1cFN1cHBvcnROb2RlKCksdGhpcy5jb25uZWN0KCksITA9PT1lJiYodGhpcy52aWEuc2V0T3B0aW9ucyh7cGh5c2ljczp0aGlzLm9wdGlvbnMucGh5c2ljc30pLHRoaXMucG9zaXRpb25CZXppZXJOb2RlKCkpfX0se2tleTpcImNvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJvbT10aGlzLl9ib2R5Lm5vZGVzW3RoaXMub3B0aW9ucy5mcm9tXSx0aGlzLnRvPXRoaXMuX2JvZHkubm9kZXNbdGhpcy5vcHRpb25zLnRvXSx2b2lkIDA9PT10aGlzLmZyb218fHZvaWQgMD09PXRoaXMudG98fCExPT09dGhpcy5vcHRpb25zLnBoeXNpY3N8fHRoaXMuZnJvbS5pZD09PXRoaXMudG8uaWQ/dGhpcy52aWEuc2V0T3B0aW9ucyh7cGh5c2ljczohMX0pOnRoaXMudmlhLnNldE9wdGlvbnMoe3BoeXNpY3M6ITB9KX19LHtrZXk6XCJjbGVhbnVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm9keS5lbWl0dGVyLm9mZihcIl9yZXBvc2l0aW9uQmV6aWVyTm9kZXNcIix0aGlzLl9ib3VuZEZ1bmN0aW9uKSx2b2lkIDAhPT10aGlzLnZpYSYmKGRlbGV0ZSB0aGlzLl9ib2R5Lm5vZGVzW3RoaXMudmlhLmlkXSx0aGlzLnZpYT12b2lkIDAsITApfX0se2tleTpcInNldHVwU3VwcG9ydE5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHZvaWQgMD09PXRoaXMudmlhKXt2YXIgdD1cImVkZ2VJZDpcIit0aGlzLmlkLGU9dGhpcy5fYm9keS5mdW5jdGlvbnMuY3JlYXRlTm9kZSh7aWQ6dCxzaGFwZTpcImNpcmNsZVwiLHBoeXNpY3M6ITAsaGlkZGVuOiEwfSk7dGhpcy5fYm9keS5ub2Rlc1t0XT1lLHRoaXMudmlhPWUsdGhpcy52aWEucGFyZW50RWRnZUlkPXRoaXMuaWQsdGhpcy5wb3NpdGlvbkJlemllck5vZGUoKX19fSx7a2V5OlwicG9zaXRpb25CZXppZXJOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLnZpYSYmdm9pZCAwIT09dGhpcy5mcm9tJiZ2b2lkIDAhPT10aGlzLnRvPyh0aGlzLnZpYS54PS41Kih0aGlzLmZyb20ueCt0aGlzLnRvLngpLHRoaXMudmlhLnk9LjUqKHRoaXMuZnJvbS55K3RoaXMudG8ueSkpOnZvaWQgMCE9PXRoaXMudmlhJiYodGhpcy52aWEueD0wLHRoaXMudmlhLnk9MCl9fSx7a2V5OlwiX2xpbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5fYmV6aWVyQ3VydmUodCxlLGkpfX0se2tleTpcIl9nZXRWaWFDb29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlhfX0se2tleTpcImdldFZpYU5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpYX19LHtrZXk6XCJnZXRQb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLnZpYTtpZih0aGlzLmZyb209PT10aGlzLnRvKXt2YXIgaT1kZih0aGlzLl9nZXRDaXJjbGVEYXRhKCksMyksbz1pWzBdLG49aVsxXSxyPWlbMl0scz0yKk1hdGguUEkqKDEtdCk7cmV0dXJue3g6bytyKk1hdGguc2luKHMpLHk6bityLXIqKDEtTWF0aC5jb3MocykpfX1yZXR1cm57eDpNYXRoLnBvdygxLXQsMikqdGhpcy5mcm9tUG9pbnQueCsyKnQqKDEtdCkqZS54K01hdGgucG93KHQsMikqdGhpcy50b1BvaW50LngseTpNYXRoLnBvdygxLXQsMikqdGhpcy5mcm9tUG9pbnQueSsyKnQqKDEtdCkqZS55K01hdGgucG93KHQsMikqdGhpcy50b1BvaW50Lnl9fX0se2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25CZXppZXIodCxlLHRoaXMudmlhKX19LHtrZXk6XCJfZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7cmV0dXJuIHRoaXMuX2dldERpc3RhbmNlVG9CZXppZXJFZGdlKHQsZSxpLG8sbixyLHRoaXMudmlhKX19XSksaX0oV0UpO2Z1bmN0aW9uIFVFKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIFlFPWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9VUUoaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIHZoKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiB3dShpLFt7a2V5OlwiX2xpbmVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dGhpcy5fYmV6aWVyQ3VydmUodCxlLGkpfX0se2tleTpcImdldFZpYU5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpfX0se2tleTpcIl9nZXRWaWFDb29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXMub3B0aW9ucy5zbW9vdGgucm91bmRuZXNzLG89dGhpcy5vcHRpb25zLnNtb290aC50eXBlLG49TWF0aC5hYnModGhpcy5mcm9tLngtdGhpcy50by54KSxyPU1hdGguYWJzKHRoaXMuZnJvbS55LXRoaXMudG8ueSk7aWYoXCJkaXNjcmV0ZVwiPT09b3x8XCJkaWFnb25hbENyb3NzXCI9PT1vKXt2YXIgcyxhO3M9YT1uPD1yP2kqcjppKm4sdGhpcy5mcm9tLng+dGhpcy50by54JiYocz0tcyksdGhpcy5mcm9tLnk+PXRoaXMudG8ueSYmKGE9LWEpO3ZhciBoPXRoaXMuZnJvbS54K3MsZD10aGlzLmZyb20ueSthO3JldHVyblwiZGlzY3JldGVcIj09PW8mJihuPD1yP2g9bjxpKnI/dGhpcy5mcm9tLng6aDpkPXI8aSpuP3RoaXMuZnJvbS55OmQpLHt4OmgseTpkfX1pZihcInN0cmFpZ2h0Q3Jvc3NcIj09PW8pe3ZhciBsPSgxLWkpKm4sYz0oMS1pKSpyO3JldHVybiBuPD1yPyhsPTAsdGhpcy5mcm9tLnk8dGhpcy50by55JiYoYz0tYykpOih0aGlzLmZyb20ueDx0aGlzLnRvLngmJihsPS1sKSxjPTApLHt4OnRoaXMudG8ueCtsLHk6dGhpcy50by55K2N9fWlmKFwiaG9yaXpvbnRhbFwiPT09byl7dmFyIHU9KDEtaSkqbjtyZXR1cm4gdGhpcy5mcm9tLng8dGhpcy50by54JiYodT0tdSkse3g6dGhpcy50by54K3UseTp0aGlzLmZyb20ueX19aWYoXCJ2ZXJ0aWNhbFwiPT09byl7dmFyIGY9KDEtaSkqcjtyZXR1cm4gdGhpcy5mcm9tLnk8dGhpcy50by55JiYoZj0tZikse3g6dGhpcy5mcm9tLngseTp0aGlzLnRvLnkrZn19aWYoXCJjdXJ2ZWRDV1wiPT09byl7bj10aGlzLnRvLngtdGhpcy5mcm9tLngscj10aGlzLmZyb20ueS10aGlzLnRvLnk7dmFyIHA9TWF0aC5zcXJ0KG4qbityKnIpLHY9TWF0aC5QSSxnPShNYXRoLmF0YW4yKHIsbikrKC41KmkrLjUpKnYpJSgyKnYpO3JldHVybnt4OnRoaXMuZnJvbS54KyguNSppKy41KSpwKk1hdGguc2luKGcpLHk6dGhpcy5mcm9tLnkrKC41KmkrLjUpKnAqTWF0aC5jb3MoZyl9fWlmKFwiY3VydmVkQ0NXXCI9PT1vKXtuPXRoaXMudG8ueC10aGlzLmZyb20ueCxyPXRoaXMuZnJvbS55LXRoaXMudG8ueTt2YXIgeT1NYXRoLnNxcnQobipuK3IqciksbT1NYXRoLlBJLGI9KE1hdGguYXRhbjIocixuKSsoLjUqLWkrLjUpKm0pJSgyKm0pO3JldHVybnt4OnRoaXMuZnJvbS54KyguNSppKy41KSp5Kk1hdGguc2luKGIpLHk6dGhpcy5mcm9tLnkrKC41KmkrLjUpKnkqTWF0aC5jb3MoYil9fXQ9ZT1uPD1yP2kqcjppKm4sdGhpcy5mcm9tLng+dGhpcy50by54JiYodD0tdCksdGhpcy5mcm9tLnk+PXRoaXMudG8ueSYmKGU9LWUpO3ZhciB3PXRoaXMuZnJvbS54K3Qsaz10aGlzLmZyb20ueStlO3JldHVybiBuPD1yP3c9dGhpcy5mcm9tLng8PXRoaXMudG8ueD90aGlzLnRvLng8dz90aGlzLnRvLng6dzp0aGlzLnRvLng+dz90aGlzLnRvLng6dzprPXRoaXMuZnJvbS55Pj10aGlzLnRvLnk/dGhpcy50by55Pms/dGhpcy50by55Oms6dGhpcy50by55PGs/dGhpcy50by55Omsse3g6dyx5Omt9fX0se2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gdGhpcy5fZmluZEJvcmRlclBvc2l0aW9uQmV6aWVyKHQsZSxpLnZpYSl9fSx7a2V5OlwiX2dldERpc3RhbmNlVG9FZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIpe3ZhciBzPWFyZ3VtZW50cy5sZW5ndGg+NiYmdm9pZCAwIT09YXJndW1lbnRzWzZdP2FyZ3VtZW50c1s2XTp0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpO3JldHVybiB0aGlzLl9nZXREaXN0YW5jZVRvQmV6aWVyRWRnZSh0LGUsaSxvLG4scixzKX19LHtrZXk6XCJnZXRQb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpLGk9dDtyZXR1cm57eDpNYXRoLnBvdygxLWksMikqdGhpcy5mcm9tUG9pbnQueCsyKmkqKDEtaSkqZS54K01hdGgucG93KGksMikqdGhpcy50b1BvaW50LngseTpNYXRoLnBvdygxLWksMikqdGhpcy5mcm9tUG9pbnQueSsyKmkqKDEtaSkqZS55K01hdGgucG93KGksMikqdGhpcy50b1BvaW50Lnl9fX1dKSxpfShXRSk7ZnVuY3Rpb24gWEUodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgS0U9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1YRShpKTtmdW5jdGlvbiBpKHQsbyxuKXtyZXR1cm4gdmgodGhpcyxpKSxlLmNhbGwodGhpcyx0LG8sbil9cmV0dXJuIHd1KGksW3trZXk6XCJfZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuLHIscyxhKXtmb3IodmFyIGg9MWU5LGQ9dCxsPWUsYz1bMCwwLDAsMF0sdT0xO3U8MTA7dSsrKXt2YXIgZj0uMSp1O2NbMF09TWF0aC5wb3coMS1mLDMpLGNbMV09MypmKk1hdGgucG93KDEtZiwyKSxjWzJdPTMqTWF0aC5wb3coZiwyKSooMS1mKSxjWzNdPU1hdGgucG93KGYsMyk7dmFyIHA9Y1swXSp0K2NbMV0qcy54K2NbMl0qYS54K2NbM10qaSx2PWNbMF0qZStjWzFdKnMueStjWzJdKmEueStjWzNdKm87aWYodT4wKXt2YXIgZz10aGlzLl9nZXREaXN0YW5jZVRvTGluZShkLGwscCx2LG4scik7aD1nPGg/ZzpofWQ9cCxsPXZ9cmV0dXJuIGh9fV0pLGl9KFdFKTtmdW5jdGlvbiBHRSh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciAkRT1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPUdFKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiB2aCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gd3UoaSxbe2tleTpcIl9saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPWlbMF0sbj1pWzFdO3RoaXMuX2JlemllckN1cnZlKHQsZSxvLG4pfX0se2tleTpcIl9nZXRWaWFDb29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG8sbj10aGlzLmZyb20ueC10aGlzLnRvLngscj10aGlzLmZyb20ueS10aGlzLnRvLnkscz10aGlzLm9wdGlvbnMuc21vb3RoLnJvdW5kbmVzcztyZXR1cm4oTWF0aC5hYnMobik+TWF0aC5hYnMocil8fCEwPT09dGhpcy5vcHRpb25zLnNtb290aC5mb3JjZURpcmVjdGlvbnx8XCJob3Jpem9udGFsXCI9PT10aGlzLm9wdGlvbnMuc21vb3RoLmZvcmNlRGlyZWN0aW9uKSYmXCJ2ZXJ0aWNhbFwiIT09dGhpcy5vcHRpb25zLnNtb290aC5mb3JjZURpcmVjdGlvbj8oZT10aGlzLmZyb20ueSxvPXRoaXMudG8ueSx0PXRoaXMuZnJvbS54LXMqbixpPXRoaXMudG8ueCtzKm4pOihlPXRoaXMuZnJvbS55LXMqcixvPXRoaXMudG8ueStzKnIsdD10aGlzLmZyb20ueCxpPXRoaXMudG8ueCksW3t4OnQseTplfSx7eDppLHk6b31dfX0se2tleTpcImdldFZpYU5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZXRWaWFDb29yZGluYXRlcygpfX0se2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9maW5kQm9yZGVyUG9zaXRpb25CZXppZXIodCxlKX19LHtrZXk6XCJfZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7dmFyIHM9ZGYoYXJndW1lbnRzLmxlbmd0aD42JiZ2b2lkIDAhPT1hcmd1bWVudHNbNl0/YXJndW1lbnRzWzZdOnRoaXMuX2dldFZpYUNvb3JkaW5hdGVzKCksMiksYT1zWzBdLGg9c1sxXTtyZXR1cm4gdGhpcy5fZ2V0RGlzdGFuY2VUb0JlemllckVkZ2UyKHQsZSxpLG8sbixyLGEsaCl9fSx7a2V5OlwiZ2V0UG9pbnRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1kZihhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5fZ2V0VmlhQ29vcmRpbmF0ZXMoKSwyKSxpPWVbMF0sbz1lWzFdLG49dCxyPVtNYXRoLnBvdygxLW4sMyksMypuKk1hdGgucG93KDEtbiwyKSwzKk1hdGgucG93KG4sMikqKDEtbiksTWF0aC5wb3cobiwzKV07cmV0dXJue3g6clswXSp0aGlzLmZyb21Qb2ludC54K3JbMV0qaS54K3JbMl0qby54K3JbM10qdGhpcy50b1BvaW50LngseTpyWzBdKnRoaXMuZnJvbVBvaW50LnkrclsxXSppLnkrclsyXSpvLnkrclszXSp0aGlzLnRvUG9pbnQueX19fV0pLGl9KEtFKTtmdW5jdGlvbiBaRSh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciBRRT1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPVpFKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3JldHVybiB2aCh0aGlzLGkpLGUuY2FsbCh0aGlzLHQsbyxuKX1yZXR1cm4gd3UoaSxbe2tleTpcIl9saW5lXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0LmJlZ2luUGF0aCgpLHQubW92ZVRvKHRoaXMuZnJvbVBvaW50LngsdGhpcy5mcm9tUG9pbnQueSksdC5saW5lVG8odGhpcy50b1BvaW50LngsdGhpcy50b1BvaW50LnkpLHRoaXMuZW5hYmxlU2hhZG93KHQsZSksdC5zdHJva2UoKSx0aGlzLmRpc2FibGVTaGFkb3codCxlKX19LHtrZXk6XCJnZXRWaWFOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwiZ2V0UG9pbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDooMS10KSp0aGlzLmZyb21Qb2ludC54K3QqdGhpcy50b1BvaW50LngseTooMS10KSp0aGlzLmZyb21Qb2ludC55K3QqdGhpcy50b1BvaW50Lnl9fX0se2tleTpcIl9maW5kQm9yZGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMudG8sbz10aGlzLmZyb207dC5pZD09PXRoaXMuZnJvbS5pZCYmKGk9dGhpcy5mcm9tLG89dGhpcy50byk7dmFyIG49TWF0aC5hdGFuMihpLnktby55LGkueC1vLngpLHI9aS54LW8ueCxzPWkueS1vLnksYT1NYXRoLnNxcnQocipyK3MqcyksaD0oYS10LmRpc3RhbmNlVG9Cb3JkZXIoZSxuKSkvYTtyZXR1cm57eDooMS1oKSpvLngraCppLngseTooMS1oKSpvLnkraCppLnksdDowfX19LHtrZXk6XCJfZ2V0RGlzdGFuY2VUb0VkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvLG4scil7cmV0dXJuIHRoaXMuX2dldERpc3RhbmNlVG9MaW5lKHQsZSxpLG8sbixyKX19XSksaX0oUkUpLEpFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyxuLHIpe2lmKHZoKHRoaXMsdCksdm9pZCAwPT09aSl0aHJvdyBuZXcgRXJyb3IoXCJObyBib2R5IHByb3ZpZGVkXCIpO3RoaXMub3B0aW9ucz1abShuKSx0aGlzLmdsb2JhbE9wdGlvbnM9bix0aGlzLmRlZmF1bHRPcHRpb25zPXIsdGhpcy5ib2R5PWksdGhpcy5pbWFnZWxpc3Q9byx0aGlzLmlkPXZvaWQgMCx0aGlzLmZyb21JZD12b2lkIDAsdGhpcy50b0lkPXZvaWQgMCx0aGlzLnNlbGVjdGVkPSExLHRoaXMuaG92ZXI9ITEsdGhpcy5sYWJlbERpcnR5PSEwLHRoaXMuYmFzZVdpZHRoPXRoaXMub3B0aW9ucy53aWR0aCx0aGlzLmJhc2VGb250U2l6ZT10aGlzLm9wdGlvbnMuZm9udC5zaXplLHRoaXMuZnJvbT12b2lkIDAsdGhpcy50bz12b2lkIDAsdGhpcy5lZGdlVHlwZT12b2lkIDAsdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5sYWJlbE1vZHVsZT1uZXcgV18odGhpcy5ib2R5LHRoaXMub3B0aW9ucywhMCksdGhpcy5zZXRPcHRpb25zKGUpfXJldHVybiB3dSh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBpPXZvaWQgMCE9PWUucGh5c2ljcyYmdGhpcy5vcHRpb25zLnBoeXNpY3MhPT1lLnBoeXNpY3N8fHZvaWQgMCE9PWUuaGlkZGVuJiYodGhpcy5vcHRpb25zLmhpZGRlbnx8ITEpIT09KGUuaGlkZGVufHwhMSl8fHZvaWQgMCE9PWUuZnJvbSYmdGhpcy5vcHRpb25zLmZyb20hPT1lLmZyb218fHZvaWQgMCE9PWUudG8mJnRoaXMub3B0aW9ucy50byE9PWUudG87dC5wYXJzZU9wdGlvbnModGhpcy5vcHRpb25zLGUsITAsdGhpcy5nbG9iYWxPcHRpb25zKSx2b2lkIDAhPT1lLmlkJiYodGhpcy5pZD1lLmlkKSx2b2lkIDAhPT1lLmZyb20mJih0aGlzLmZyb21JZD1lLmZyb20pLHZvaWQgMCE9PWUudG8mJih0aGlzLnRvSWQ9ZS50byksdm9pZCAwIT09ZS50aXRsZSYmKHRoaXMudGl0bGU9ZS50aXRsZSksdm9pZCAwIT09ZS52YWx1ZSYmKGUudmFsdWU9eV8oZS52YWx1ZSkpO3ZhciBvPVtlLHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zXTtyZXR1cm4gdGhpcy5jaG9vc2VyPUVfKFwiZWRnZVwiLG8pLHRoaXMudXBkYXRlTGFiZWxNb2R1bGUoZSksaT10aGlzLnVwZGF0ZUVkZ2VUeXBlKCl8fGksdGhpcy5fc2V0SW50ZXJhY3Rpb25XaWR0aHMoKSx0aGlzLmNvbm5lY3QoKSxpfX19LHtrZXk6XCJnZXRGb3JtYXR0aW5nVmFsdWVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0hMD09PXRoaXMub3B0aW9ucy5hcnJvd3MudG98fCEwPT09dGhpcy5vcHRpb25zLmFycm93cy50by5lbmFibGVkLGU9ITA9PT10aGlzLm9wdGlvbnMuYXJyb3dzLmZyb218fCEwPT09dGhpcy5vcHRpb25zLmFycm93cy5mcm9tLmVuYWJsZWQsaT0hMD09PXRoaXMub3B0aW9ucy5hcnJvd3MubWlkZGxlfHwhMD09PXRoaXMub3B0aW9ucy5hcnJvd3MubWlkZGxlLmVuYWJsZWQsbz10aGlzLm9wdGlvbnMuY29sb3IuaW5oZXJpdCxuPXt0b0Fycm93OnQsdG9BcnJvd1NjYWxlOnRoaXMub3B0aW9ucy5hcnJvd3MudG8uc2NhbGVGYWN0b3IsdG9BcnJvd1R5cGU6dGhpcy5vcHRpb25zLmFycm93cy50by50eXBlLHRvQXJyb3dTcmM6dGhpcy5vcHRpb25zLmFycm93cy50by5zcmMsdG9BcnJvd0ltYWdlV2lkdGg6dGhpcy5vcHRpb25zLmFycm93cy50by5pbWFnZVdpZHRoLHRvQXJyb3dJbWFnZUhlaWdodDp0aGlzLm9wdGlvbnMuYXJyb3dzLnRvLmltYWdlSGVpZ2h0LG1pZGRsZUFycm93OmksbWlkZGxlQXJyb3dTY2FsZTp0aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZS5zY2FsZUZhY3RvcixtaWRkbGVBcnJvd1R5cGU6dGhpcy5vcHRpb25zLmFycm93cy5taWRkbGUudHlwZSxtaWRkbGVBcnJvd1NyYzp0aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZS5zcmMsbWlkZGxlQXJyb3dJbWFnZVdpZHRoOnRoaXMub3B0aW9ucy5hcnJvd3MubWlkZGxlLmltYWdlV2lkdGgsbWlkZGxlQXJyb3dJbWFnZUhlaWdodDp0aGlzLm9wdGlvbnMuYXJyb3dzLm1pZGRsZS5pbWFnZUhlaWdodCxmcm9tQXJyb3c6ZSxmcm9tQXJyb3dTY2FsZTp0aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20uc2NhbGVGYWN0b3IsZnJvbUFycm93VHlwZTp0aGlzLm9wdGlvbnMuYXJyb3dzLmZyb20udHlwZSxmcm9tQXJyb3dTcmM6dGhpcy5vcHRpb25zLmFycm93cy5mcm9tLnNyYyxmcm9tQXJyb3dJbWFnZVdpZHRoOnRoaXMub3B0aW9ucy5hcnJvd3MuZnJvbS5pbWFnZVdpZHRoLGZyb21BcnJvd0ltYWdlSGVpZ2h0OnRoaXMub3B0aW9ucy5hcnJvd3MuZnJvbS5pbWFnZUhlaWdodCxhcnJvd1N0cmlrZXRocm91Z2g6dGhpcy5vcHRpb25zLmFycm93U3RyaWtldGhyb3VnaCxjb2xvcjpvP3ZvaWQgMDp0aGlzLm9wdGlvbnMuY29sb3IuY29sb3IsaW5oZXJpdHNDb2xvcjpvLG9wYWNpdHk6dGhpcy5vcHRpb25zLmNvbG9yLm9wYWNpdHksaGlkZGVuOnRoaXMub3B0aW9ucy5oaWRkZW4sbGVuZ3RoOnRoaXMub3B0aW9ucy5sZW5ndGgsc2hhZG93OnRoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZCxzaGFkb3dDb2xvcjp0aGlzLm9wdGlvbnMuc2hhZG93LmNvbG9yLHNoYWRvd1NpemU6dGhpcy5vcHRpb25zLnNoYWRvdy5zaXplLHNoYWRvd1g6dGhpcy5vcHRpb25zLnNoYWRvdy54LHNoYWRvd1k6dGhpcy5vcHRpb25zLnNoYWRvdy55LGRhc2hlczp0aGlzLm9wdGlvbnMuZGFzaGVzLHdpZHRoOnRoaXMub3B0aW9ucy53aWR0aCxiYWNrZ3JvdW5kOnRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kLmVuYWJsZWQsYmFja2dyb3VuZENvbG9yOnRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kLmNvbG9yLGJhY2tncm91bmRTaXplOnRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kLnNpemUsYmFja2dyb3VuZERhc2hlczp0aGlzLm9wdGlvbnMuYmFja2dyb3VuZC5kYXNoZXN9O2lmKHRoaXMuc2VsZWN0ZWR8fHRoaXMuaG92ZXIpaWYoITA9PT10aGlzLmNob29zZXIpe2lmKHRoaXMuc2VsZWN0ZWQpe3ZhciByPXRoaXMub3B0aW9ucy5zZWxlY3Rpb25XaWR0aDtcImZ1bmN0aW9uXCI9PXR5cGVvZiByP24ud2lkdGg9cihuLndpZHRoKTpcIm51bWJlclwiPT10eXBlb2YgciYmKG4ud2lkdGgrPXIpLG4ud2lkdGg9TWF0aC5tYXgobi53aWR0aCwuMy90aGlzLmJvZHkudmlldy5zY2FsZSksbi5jb2xvcj10aGlzLm9wdGlvbnMuY29sb3IuaGlnaGxpZ2h0LG4uc2hhZG93PXRoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZH1lbHNlIGlmKHRoaXMuaG92ZXIpe3ZhciBzPXRoaXMub3B0aW9ucy5ob3ZlcldpZHRoO1wiZnVuY3Rpb25cIj09dHlwZW9mIHM/bi53aWR0aD1zKG4ud2lkdGgpOlwibnVtYmVyXCI9PXR5cGVvZiBzJiYobi53aWR0aCs9cyksbi53aWR0aD1NYXRoLm1heChuLndpZHRoLC4zL3RoaXMuYm9keS52aWV3LnNjYWxlKSxuLmNvbG9yPXRoaXMub3B0aW9ucy5jb2xvci5ob3ZlcixuLnNoYWRvdz10aGlzLm9wdGlvbnMuc2hhZG93LmVuYWJsZWR9fWVsc2VcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmNob29zZXImJih0aGlzLmNob29zZXIobix0aGlzLm9wdGlvbnMuaWQsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyKSx2b2lkIDAhPT1uLmNvbG9yJiYobi5pbmhlcml0c0NvbG9yPSExKSwhMT09PW4uc2hhZG93JiYobi5zaGFkb3dDb2xvcj09PXRoaXMub3B0aW9ucy5zaGFkb3cuY29sb3ImJm4uc2hhZG93U2l6ZT09PXRoaXMub3B0aW9ucy5zaGFkb3cuc2l6ZSYmbi5zaGFkb3dYPT09dGhpcy5vcHRpb25zLnNoYWRvdy54JiZuLnNoYWRvd1k9PT10aGlzLm9wdGlvbnMuc2hhZG93Lnl8fChuLnNoYWRvdz0hMCkpKTtlbHNlIG4uc2hhZG93PXRoaXMub3B0aW9ucy5zaGFkb3cuZW5hYmxlZCxuLndpZHRoPU1hdGgubWF4KG4ud2lkdGgsLjMvdGhpcy5ib2R5LnZpZXcuc2NhbGUpO3JldHVybiBufX0se2tleTpcInVwZGF0ZUxhYmVsTW9kdWxlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9W3QsdGhpcy5vcHRpb25zLHRoaXMuZ2xvYmFsT3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zXTt0aGlzLmxhYmVsTW9kdWxlLnVwZGF0ZSh0aGlzLm9wdGlvbnMsZSksdm9pZCAwIT09dGhpcy5sYWJlbE1vZHVsZS5iYXNlU2l6ZSYmKHRoaXMuYmFzZUZvbnRTaXplPXRoaXMubGFiZWxNb2R1bGUuYmFzZVNpemUpfX0se2tleTpcInVwZGF0ZUVkZ2VUeXBlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuc21vb3RoLGU9ITEsaT0hMDtyZXR1cm4gdm9pZCAwIT09dGhpcy5lZGdlVHlwZSYmKCh0aGlzLmVkZ2VUeXBlIGluc3RhbmNlb2YgcUUmJiEwPT09dC5lbmFibGVkJiZcImR5bmFtaWNcIj09PXQudHlwZXx8dGhpcy5lZGdlVHlwZSBpbnN0YW5jZW9mICRFJiYhMD09PXQuZW5hYmxlZCYmXCJjdWJpY0JlemllclwiPT09dC50eXBlfHx0aGlzLmVkZ2VUeXBlIGluc3RhbmNlb2YgWUUmJiEwPT09dC5lbmFibGVkJiZcImR5bmFtaWNcIiE9PXQudHlwZSYmXCJjdWJpY0JlemllclwiIT09dC50eXBlfHx0aGlzLmVkZ2VUeXBlIGluc3RhbmNlb2YgUUUmJiExPT09dC50eXBlLmVuYWJsZWQpJiYoaT0hMSksITA9PT1pJiYoZT10aGlzLmNsZWFudXAoKSkpLCEwPT09aT8hMD09PXQuZW5hYmxlZD9cImR5bmFtaWNcIj09PXQudHlwZT8oZT0hMCx0aGlzLmVkZ2VUeXBlPW5ldyBxRSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpKTpcImN1YmljQmV6aWVyXCI9PT10LnR5cGU/dGhpcy5lZGdlVHlwZT1uZXcgJEUodGhpcy5vcHRpb25zLHRoaXMuYm9keSx0aGlzLmxhYmVsTW9kdWxlKTp0aGlzLmVkZ2VUeXBlPW5ldyBZRSh0aGlzLm9wdGlvbnMsdGhpcy5ib2R5LHRoaXMubGFiZWxNb2R1bGUpOnRoaXMuZWRnZVR5cGU9bmV3IFFFKHRoaXMub3B0aW9ucyx0aGlzLmJvZHksdGhpcy5sYWJlbE1vZHVsZSk6dGhpcy5lZGdlVHlwZS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyksZX19LHtrZXk6XCJjb25uZWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRpc2Nvbm5lY3QoKSx0aGlzLmZyb209dGhpcy5ib2R5Lm5vZGVzW3RoaXMuZnJvbUlkXXx8dm9pZCAwLHRoaXMudG89dGhpcy5ib2R5Lm5vZGVzW3RoaXMudG9JZF18fHZvaWQgMCx0aGlzLmNvbm5lY3RlZD12b2lkIDAhPT10aGlzLmZyb20mJnZvaWQgMCE9PXRoaXMudG8sITA9PT10aGlzLmNvbm5lY3RlZD8odGhpcy5mcm9tLmF0dGFjaEVkZ2UodGhpcyksdGhpcy50by5hdHRhY2hFZGdlKHRoaXMpKToodGhpcy5mcm9tJiZ0aGlzLmZyb20uZGV0YWNoRWRnZSh0aGlzKSx0aGlzLnRvJiZ0aGlzLnRvLmRldGFjaEVkZ2UodGhpcykpLHRoaXMuZWRnZVR5cGUuY29ubmVjdCgpfX0se2tleTpcImRpc2Nvbm5lY3RcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZnJvbSYmKHRoaXMuZnJvbS5kZXRhY2hFZGdlKHRoaXMpLHRoaXMuZnJvbT12b2lkIDApLHRoaXMudG8mJih0aGlzLnRvLmRldGFjaEVkZ2UodGhpcyksdGhpcy50bz12b2lkIDApLHRoaXMuY29ubmVjdGVkPSExfX0se2tleTpcImdldFRpdGxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aXRsZX19LHtrZXk6XCJpc1NlbGVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZH19LHtrZXk6XCJnZXRWYWx1ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy52YWx1ZX19LHtrZXk6XCJzZXRWYWx1ZVJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe2lmKHZvaWQgMCE9PXRoaXMub3B0aW9ucy52YWx1ZSl7dmFyIG89dGhpcy5vcHRpb25zLnNjYWxpbmcuY3VzdG9tU2NhbGluZ0Z1bmN0aW9uKHQsZSxpLHRoaXMub3B0aW9ucy52YWx1ZSksbj10aGlzLm9wdGlvbnMuc2NhbGluZy5tYXgtdGhpcy5vcHRpb25zLnNjYWxpbmcubWluO2lmKCEwPT09dGhpcy5vcHRpb25zLnNjYWxpbmcubGFiZWwuZW5hYmxlZCl7dmFyIHI9dGhpcy5vcHRpb25zLnNjYWxpbmcubGFiZWwubWF4LXRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1pbjt0aGlzLm9wdGlvbnMuZm9udC5zaXplPXRoaXMub3B0aW9ucy5zY2FsaW5nLmxhYmVsLm1pbitvKnJ9dGhpcy5vcHRpb25zLndpZHRoPXRoaXMub3B0aW9ucy5zY2FsaW5nLm1pbitvKm59ZWxzZSB0aGlzLm9wdGlvbnMud2lkdGg9dGhpcy5iYXNlV2lkdGgsdGhpcy5vcHRpb25zLmZvbnQuc2l6ZT10aGlzLmJhc2VGb250U2l6ZTt0aGlzLl9zZXRJbnRlcmFjdGlvbldpZHRocygpLHRoaXMudXBkYXRlTGFiZWxNb2R1bGUoKX19LHtrZXk6XCJfc2V0SW50ZXJhY3Rpb25XaWR0aHNcIix2YWx1ZTpmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5ob3ZlcldpZHRoP3RoaXMuZWRnZVR5cGUuaG92ZXJXaWR0aD10aGlzLm9wdGlvbnMuaG92ZXJXaWR0aCh0aGlzLm9wdGlvbnMud2lkdGgpOnRoaXMuZWRnZVR5cGUuaG92ZXJXaWR0aD10aGlzLm9wdGlvbnMuaG92ZXJXaWR0aCt0aGlzLm9wdGlvbnMud2lkdGgsXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLnNlbGVjdGlvbldpZHRoP3RoaXMuZWRnZVR5cGUuc2VsZWN0aW9uV2lkdGg9dGhpcy5vcHRpb25zLnNlbGVjdGlvbldpZHRoKHRoaXMub3B0aW9ucy53aWR0aCk6dGhpcy5lZGdlVHlwZS5zZWxlY3Rpb25XaWR0aD10aGlzLm9wdGlvbnMuc2VsZWN0aW9uV2lkdGgrdGhpcy5vcHRpb25zLndpZHRofX0se2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZvcm1hdHRpbmdWYWx1ZXMoKTtpZighZS5oaWRkZW4pe3ZhciBpPXRoaXMuZWRnZVR5cGUuZ2V0VmlhTm9kZSgpO3RoaXMuZWRnZVR5cGUuZHJhd0xpbmUodCxlLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixpKSx0aGlzLmRyYXdMYWJlbCh0LGkpfX19LHtrZXk6XCJkcmF3QXJyb3dzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRGb3JtYXR0aW5nVmFsdWVzKCk7aWYoIWUuaGlkZGVuKXt2YXIgaT10aGlzLmVkZ2VUeXBlLmdldFZpYU5vZGUoKSxvPXt9O3RoaXMuZWRnZVR5cGUuZnJvbVBvaW50PXRoaXMuZWRnZVR5cGUuZnJvbSx0aGlzLmVkZ2VUeXBlLnRvUG9pbnQ9dGhpcy5lZGdlVHlwZS50byxlLmZyb21BcnJvdyYmKG8uZnJvbT10aGlzLmVkZ2VUeXBlLmdldEFycm93RGF0YSh0LFwiZnJvbVwiLGksdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyLGUpLCExPT09ZS5hcnJvd1N0cmlrZXRocm91Z2gmJih0aGlzLmVkZ2VUeXBlLmZyb21Qb2ludD1vLmZyb20uY29yZSksZS5mcm9tQXJyb3dTcmMmJihvLmZyb20uaW1hZ2U9dGhpcy5pbWFnZWxpc3QubG9hZChlLmZyb21BcnJvd1NyYykpLGUuZnJvbUFycm93SW1hZ2VXaWR0aCYmKG8uZnJvbS5pbWFnZVdpZHRoPWUuZnJvbUFycm93SW1hZ2VXaWR0aCksZS5mcm9tQXJyb3dJbWFnZUhlaWdodCYmKG8uZnJvbS5pbWFnZUhlaWdodD1lLmZyb21BcnJvd0ltYWdlSGVpZ2h0KSksZS50b0Fycm93JiYoby50bz10aGlzLmVkZ2VUeXBlLmdldEFycm93RGF0YSh0LFwidG9cIixpLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixlKSwhMT09PWUuYXJyb3dTdHJpa2V0aHJvdWdoJiYodGhpcy5lZGdlVHlwZS50b1BvaW50PW8udG8uY29yZSksZS50b0Fycm93U3JjJiYoby50by5pbWFnZT10aGlzLmltYWdlbGlzdC5sb2FkKGUudG9BcnJvd1NyYykpLGUudG9BcnJvd0ltYWdlV2lkdGgmJihvLnRvLmltYWdlV2lkdGg9ZS50b0Fycm93SW1hZ2VXaWR0aCksZS50b0Fycm93SW1hZ2VIZWlnaHQmJihvLnRvLmltYWdlSGVpZ2h0PWUudG9BcnJvd0ltYWdlSGVpZ2h0KSksZS5taWRkbGVBcnJvdyYmKG8ubWlkZGxlPXRoaXMuZWRnZVR5cGUuZ2V0QXJyb3dEYXRhKHQsXCJtaWRkbGVcIixpLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixlKSxlLm1pZGRsZUFycm93U3JjJiYoby5taWRkbGUuaW1hZ2U9dGhpcy5pbWFnZWxpc3QubG9hZChlLm1pZGRsZUFycm93U3JjKSksZS5taWRkbGVBcnJvd0ltYWdlV2lkdGgmJihvLm1pZGRsZS5pbWFnZVdpZHRoPWUubWlkZGxlQXJyb3dJbWFnZVdpZHRoKSxlLm1pZGRsZUFycm93SW1hZ2VIZWlnaHQmJihvLm1pZGRsZS5pbWFnZUhlaWdodD1lLm1pZGRsZUFycm93SW1hZ2VIZWlnaHQpKSxlLmZyb21BcnJvdyYmdGhpcy5lZGdlVHlwZS5kcmF3QXJyb3dIZWFkKHQsZSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIsby5mcm9tKSxlLm1pZGRsZUFycm93JiZ0aGlzLmVkZ2VUeXBlLmRyYXdBcnJvd0hlYWQodCxlLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixvLm1pZGRsZSksZS50b0Fycm93JiZ0aGlzLmVkZ2VUeXBlLmRyYXdBcnJvd0hlYWQodCxlLHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcixvLnRvKX19fSx7a2V5OlwiZHJhd0xhYmVsXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT10aGlzLm9wdGlvbnMubGFiZWwpe3ZhciBpLG89dGhpcy5mcm9tLG49dGhpcy50bztpZih0aGlzLmxhYmVsTW9kdWxlLmRpZmZlcmVudFN0YXRlKHRoaXMuc2VsZWN0ZWQsdGhpcy5ob3ZlcikmJnRoaXMubGFiZWxNb2R1bGUuZ2V0VGV4dFNpemUodCx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIpLG8uaWQhPW4uaWQpe3RoaXMubGFiZWxNb2R1bGUucG9pbnRUb1NlbGY9ITEsaT10aGlzLmVkZ2VUeXBlLmdldFBvaW50KC41LGUpLHQuc2F2ZSgpO3ZhciByPXRoaXMuX2dldFJvdGF0aW9uKHQpOzAhPXIuYW5nbGUmJih0LnRyYW5zbGF0ZShyLngsci55KSx0LnJvdGF0ZShyLmFuZ2xlKSksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsaS54LGkueSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIpLHQucmVzdG9yZSgpfWVsc2V7dGhpcy5sYWJlbE1vZHVsZS5wb2ludFRvU2VsZj0hMDt2YXIgcz1TXyh0LHRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLmFuZ2xlLHRoaXMub3B0aW9ucy5zZWxmUmVmZXJlbmNlLnNpemUsbyk7aT10aGlzLl9wb2ludE9uQ2lyY2xlKHMueCxzLnksdGhpcy5vcHRpb25zLnNlbGZSZWZlcmVuY2Uuc2l6ZSx0aGlzLm9wdGlvbnMuc2VsZlJlZmVyZW5jZS5hbmdsZSksdGhpcy5sYWJlbE1vZHVsZS5kcmF3KHQsaS54LGkueSx0aGlzLnNlbGVjdGVkLHRoaXMuaG92ZXIpfX19fSx7a2V5OlwiZ2V0SXRlbXNPblBvaW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYodGhpcy5sYWJlbE1vZHVsZS52aXNpYmxlKCkpe3ZhciBpPXRoaXMuX2dldFJvdGF0aW9uKCk7T18odGhpcy5sYWJlbE1vZHVsZS5nZXRTaXplKCksdCxpKSYmZS5wdXNoKHtlZGdlSWQ6dGhpcy5pZCxsYWJlbElkOjB9KX12YXIgbz17bGVmdDp0LngsdG9wOnQueX07cmV0dXJuIHRoaXMuaXNPdmVybGFwcGluZ1dpdGgobykmJmUucHVzaCh7ZWRnZUlkOnRoaXMuaWR9KSxlfX0se2tleTpcImlzT3ZlcmxhcHBpbmdXaXRoXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodGhpcy5jb25uZWN0ZWQpe3ZhciBlPXRoaXMuZnJvbS54LGk9dGhpcy5mcm9tLnksbz10aGlzLnRvLngsbj10aGlzLnRvLnkscj10LmxlZnQscz10LnRvcDtyZXR1cm4gdGhpcy5lZGdlVHlwZS5nZXREaXN0YW5jZVRvRWRnZShlLGksbyxuLHIscyk8MTB9cmV0dXJuITF9fSx7a2V5OlwiX2dldFJvdGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5lZGdlVHlwZS5nZXRWaWFOb2RlKCksaT10aGlzLmVkZ2VUeXBlLmdldFBvaW50KC41LGUpO3ZvaWQgMCE9PXQmJnRoaXMubGFiZWxNb2R1bGUuY2FsY3VsYXRlTGFiZWxTaXplKHQsdGhpcy5zZWxlY3RlZCx0aGlzLmhvdmVyLGkueCxpLnkpO3ZhciBvPXt4OmkueCx5OnRoaXMubGFiZWxNb2R1bGUuc2l6ZS55TGluZSxhbmdsZTowfTtpZighdGhpcy5sYWJlbE1vZHVsZS52aXNpYmxlKCkpcmV0dXJuIG87aWYoXCJob3Jpem9udGFsXCI9PT10aGlzLm9wdGlvbnMuZm9udC5hbGlnbilyZXR1cm4gbzt2YXIgbj10aGlzLmZyb20ueS10aGlzLnRvLnkscj10aGlzLmZyb20ueC10aGlzLnRvLngscz1NYXRoLmF0YW4yKG4scik7cmV0dXJuKHM8LTEmJnI8MHx8cz4wJiZyPDApJiYocys9TWF0aC5QSSksby5hbmdsZT1zLG99fSx7a2V5OlwiX3BvaW50T25DaXJjbGVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXtyZXR1cm57eDp0K2kqTWF0aC5jb3MobykseTplLWkqTWF0aC5zaW4obyl9fX0se2tleTpcInNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMH19LHtrZXk6XCJ1bnNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZD0hMX19LHtrZXk6XCJjbGVhbnVwXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGdlVHlwZS5jbGVhbnVwKCl9fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmNsZWFudXAoKSx0aGlzLmRpc2Nvbm5lY3QoKSxkZWxldGUgdGhpcy5ib2R5LmVkZ2VzW3RoaXMuaWRdfX0se2tleTpcImVuZFBvaW50c1ZhbGlkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RoaXMuZnJvbUlkXSYmdm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3RoaXMudG9JZF19fV0sW3trZXk6XCJwYXJzZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30sbj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdO2lmKE5tKFtcImVuZFBvaW50T2Zmc2V0XCIsXCJhcnJvd1N0cmlrZXRocm91Z2hcIixcImlkXCIsXCJmcm9tXCIsXCJoaWRkZW5cIixcImhvdmVyV2lkdGhcIixcImxhYmVsSGlnaGxpZ2h0Qm9sZFwiLFwibGVuZ3RoXCIsXCJsaW5lXCIsXCJvcGFjaXR5XCIsXCJwaHlzaWNzXCIsXCJzY2FsaW5nXCIsXCJzZWxlY3Rpb25XaWR0aFwiLFwic2VsZlJlZmVyZW5jZVNpemVcIixcInNlbGZSZWZlcmVuY2VcIixcInRvXCIsXCJ0aXRsZVwiLFwidmFsdWVcIixcIndpZHRoXCIsXCJmb250XCIsXCJjaG9zZW5cIixcIndpZHRoQ29uc3RyYWludFwiXSx0LGUsaSksdm9pZCAwIT09ZS5lbmRQb2ludE9mZnNldCYmdm9pZCAwIT09ZS5lbmRQb2ludE9mZnNldC5mcm9tJiYoVGsoZS5lbmRQb2ludE9mZnNldC5mcm9tKT90LmVuZFBvaW50T2Zmc2V0LmZyb209ZS5lbmRQb2ludE9mZnNldC5mcm9tOih0LmVuZFBvaW50T2Zmc2V0LmZyb209dm9pZCAwIT09by5lbmRQb2ludE9mZnNldC5mcm9tP28uZW5kUG9pbnRPZmZzZXQuZnJvbTowLGNvbnNvbGUuZXJyb3IoXCJlbmRQb2ludE9mZnNldC5mcm9tIGlzIG5vdCBhIHZhbGlkIG51bWJlclwiKSkpLHZvaWQgMCE9PWUuZW5kUG9pbnRPZmZzZXQmJnZvaWQgMCE9PWUuZW5kUG9pbnRPZmZzZXQudG8mJihUayhlLmVuZFBvaW50T2Zmc2V0LnRvKT90LmVuZFBvaW50T2Zmc2V0LnRvPWUuZW5kUG9pbnRPZmZzZXQudG86KHQuZW5kUG9pbnRPZmZzZXQudG89dm9pZCAwIT09by5lbmRQb2ludE9mZnNldC50bz9vLmVuZFBvaW50T2Zmc2V0LnRvOjAsY29uc29sZS5lcnJvcihcImVuZFBvaW50T2Zmc2V0LnRvIGlzIG5vdCBhIHZhbGlkIG51bWJlclwiKSkpLENfKGUubGFiZWwpP3QubGFiZWw9ZS5sYWJlbDpDXyh0LmxhYmVsKXx8KHQubGFiZWw9dm9pZCAwKSxRbSh0LGUsXCJzbW9vdGhcIixvKSxRbSh0LGUsXCJzaGFkb3dcIixvKSxRbSh0LGUsXCJiYWNrZ3JvdW5kXCIsbyksdm9pZCAwIT09ZS5kYXNoZXMmJm51bGwhPT1lLmRhc2hlcz90LmRhc2hlcz1lLmRhc2hlczohMD09PWkmJm51bGw9PT1lLmRhc2hlcyYmKHQuZGFzaGVzPVl2KG8uZGFzaGVzKSksdm9pZCAwIT09ZS5zY2FsaW5nJiZudWxsIT09ZS5zY2FsaW5nPyh2b2lkIDAhPT1lLnNjYWxpbmcubWluJiYodC5zY2FsaW5nLm1pbj1lLnNjYWxpbmcubWluKSx2b2lkIDAhPT1lLnNjYWxpbmcubWF4JiYodC5zY2FsaW5nLm1heD1lLnNjYWxpbmcubWF4KSxRbSh0LnNjYWxpbmcsZS5zY2FsaW5nLFwibGFiZWxcIixvLnNjYWxpbmcpKTohMD09PWkmJm51bGw9PT1lLnNjYWxpbmcmJih0LnNjYWxpbmc9WXYoby5zY2FsaW5nKSksdm9pZCAwIT09ZS5hcnJvd3MmJm51bGwhPT1lLmFycm93cylpZihcInN0cmluZ1wiPT10eXBlb2YgZS5hcnJvd3Mpe3ZhciByPWUuYXJyb3dzLnRvTG93ZXJDYXNlKCk7dC5hcnJvd3MudG8uZW5hYmxlZD0tMSE9VnYocikuY2FsbChyLFwidG9cIiksdC5hcnJvd3MubWlkZGxlLmVuYWJsZWQ9LTEhPVZ2KHIpLmNhbGwocixcIm1pZGRsZVwiKSx0LmFycm93cy5mcm9tLmVuYWJsZWQ9LTEhPVZ2KHIpLmNhbGwocixcImZyb21cIil9ZWxzZXtpZihcIm9iamVjdFwiIT09Z3UoZS5hcnJvd3MpKXRocm93IG5ldyBFcnJvcihcIlRoZSBhcnJvdyBuZXdPcHRpb25zIGNhbiBvbmx5IGJlIGFuIG9iamVjdCBvciBhIHN0cmluZy4gUmVmZXIgdG8gdGhlIGRvY3VtZW50YXRpb24uIFlvdSB1c2VkOlwiKyR2KGUuYXJyb3dzKSk7UW0odC5hcnJvd3MsZS5hcnJvd3MsXCJ0b1wiLG8uYXJyb3dzKSxRbSh0LmFycm93cyxlLmFycm93cyxcIm1pZGRsZVwiLG8uYXJyb3dzKSxRbSh0LmFycm93cyxlLmFycm93cyxcImZyb21cIixvLmFycm93cyl9ZWxzZSEwPT09aSYmbnVsbD09PWUuYXJyb3dzJiYodC5hcnJvd3M9WXYoby5hcnJvd3MpKTtpZih2b2lkIDAhPT1lLmNvbG9yJiZudWxsIT09ZS5jb2xvcil7dmFyIHM9SW0oZS5jb2xvcik/e2NvbG9yOmUuY29sb3IsaGlnaGxpZ2h0OmUuY29sb3IsaG92ZXI6ZS5jb2xvcixpbmhlcml0OiExLG9wYWNpdHk6MX06ZS5jb2xvcixhPXQuY29sb3I7aWYobilSbShhLG8uY29sb3IsITEsaSk7ZWxzZSBmb3IodmFyIGggaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxoKSYmZGVsZXRlIGFbaF07aWYoSW0oYSkpYS5jb2xvcj1hLGEuaGlnaGxpZ2h0PWEsYS5ob3Zlcj1hLGEuaW5oZXJpdD0hMSx2b2lkIDA9PT1zLm9wYWNpdHkmJihhLm9wYWNpdHk9MSk7ZWxzZXt2YXIgZD0hMTt2b2lkIDAhPT1zLmNvbG9yJiYoYS5jb2xvcj1zLmNvbG9yLGQ9ITApLHZvaWQgMCE9PXMuaGlnaGxpZ2h0JiYoYS5oaWdobGlnaHQ9cy5oaWdobGlnaHQsZD0hMCksdm9pZCAwIT09cy5ob3ZlciYmKGEuaG92ZXI9cy5ob3ZlcixkPSEwKSx2b2lkIDAhPT1zLmluaGVyaXQmJihhLmluaGVyaXQ9cy5pbmhlcml0KSx2b2lkIDAhPT1zLm9wYWNpdHkmJihhLm9wYWNpdHk9TWF0aC5taW4oMSxNYXRoLm1heCgwLHMub3BhY2l0eSkpKSwhMD09PWQ/YS5pbmhlcml0PSExOnZvaWQgMD09PWEuaW5oZXJpdCYmKGEuaW5oZXJpdD1cImZyb21cIil9fWVsc2UhMD09PWkmJm51bGw9PT1lLmNvbG9yJiYodC5jb2xvcj1abShvLmNvbG9yKSk7ITA9PT1pJiZudWxsPT09ZS5mb250JiYodC5mb250PVptKG8uZm9udCkpLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLFwic2VsZlJlZmVyZW5jZVNpemVcIikmJihjb25zb2xlLndhcm4oXCJUaGUgc2VsZlJlZmVyZW5jZVNpemUgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBzZWxmUmVmZXJlbmNlIHByb3BlcnR5IGluc3RlYWQuIFRoZSBzZWxmUmVmZXJlbmNlIGNhbiBiZSBzZXQgbGlrZSB0aGlzZSBzZWxmUmVmZXJlbmNlOntzaXplOjMwLCBhbmdsZTpNYXRoLlBJIC8gNH1cIiksdC5zZWxmUmVmZXJlbmNlLnNpemU9ZS5zZWxmUmVmZXJlbmNlU2l6ZSl9fV0pLHR9KCksdE89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2YXIgbixyPXRoaXM7dmgodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmltYWdlcz1pLHRoaXMuZ3JvdXBzPW8sdGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVFZGdlPVdvKG49dGhpcy5jcmVhdGUpLmNhbGwobix0aGlzKSx0aGlzLmVkZ2VzTGlzdGVuZXJzPXthZGQ6ZnVuY3Rpb24odCxlKXtyLmFkZChlLml0ZW1zKX0sdXBkYXRlOmZ1bmN0aW9uKHQsZSl7ci51cGRhdGUoZS5pdGVtcyl9LHJlbW92ZTpmdW5jdGlvbih0LGUpe3IucmVtb3ZlKGUuaXRlbXMpfX0sdGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e2Fycm93czp7dG86e2VuYWJsZWQ6ITEsc2NhbGVGYWN0b3I6MSx0eXBlOlwiYXJyb3dcIn0sbWlkZGxlOntlbmFibGVkOiExLHNjYWxlRmFjdG9yOjEsdHlwZTpcImFycm93XCJ9LGZyb206e2VuYWJsZWQ6ITEsc2NhbGVGYWN0b3I6MSx0eXBlOlwiYXJyb3dcIn19LGVuZFBvaW50T2Zmc2V0Ontmcm9tOjAsdG86MH0sYXJyb3dTdHJpa2V0aHJvdWdoOiEwLGNvbG9yOntjb2xvcjpcIiM4NDg0ODRcIixoaWdobGlnaHQ6XCIjODQ4NDg0XCIsaG92ZXI6XCIjODQ4NDg0XCIsaW5oZXJpdDpcImZyb21cIixvcGFjaXR5OjF9LGRhc2hlczohMSxmb250Ontjb2xvcjpcIiMzNDM0MzRcIixzaXplOjE0LGZhY2U6XCJhcmlhbFwiLGJhY2tncm91bmQ6XCJub25lXCIsc3Ryb2tlV2lkdGg6MixzdHJva2VDb2xvcjpcIiNmZmZmZmZcIixhbGlnbjpcImhvcml6b250YWxcIixtdWx0aTohMSx2YWRqdXN0OjAsYm9sZDp7bW9kOlwiYm9sZFwifSxib2xkaXRhbDp7bW9kOlwiYm9sZCBpdGFsaWNcIn0saXRhbDp7bW9kOlwiaXRhbGljXCJ9LG1vbm86e21vZDpcIlwiLHNpemU6MTUsZmFjZTpcImNvdXJpZXIgbmV3XCIsdmFkanVzdDoyfX0saGlkZGVuOiExLGhvdmVyV2lkdGg6MS41LGxhYmVsOnZvaWQgMCxsYWJlbEhpZ2hsaWdodEJvbGQ6ITAsbGVuZ3RoOnZvaWQgMCxwaHlzaWNzOiEwLHNjYWxpbmc6e21pbjoxLG1heDoxNSxsYWJlbDp7ZW5hYmxlZDohMCxtaW46MTQsbWF4OjMwLG1heFZpc2libGU6MzAsZHJhd1RocmVzaG9sZDo1fSxjdXN0b21TY2FsaW5nRnVuY3Rpb246ZnVuY3Rpb24odCxlLGksbyl7aWYoZT09PXQpcmV0dXJuLjU7dmFyIG49MS8oZS10KTtyZXR1cm4gTWF0aC5tYXgoMCwoby10KSpuKX19LHNlbGVjdGlvbldpZHRoOjEuNSxzZWxmUmVmZXJlbmNlOntzaXplOjIwLGFuZ2xlOk1hdGguUEkvNCxyZW5kZXJCZWhpbmRUaGVOb2RlOiEwfSxzaGFkb3c6e2VuYWJsZWQ6ITEsY29sb3I6XCJyZ2JhKDAsMCwwLDAuNSlcIixzaXplOjEwLHg6NSx5OjV9LGJhY2tncm91bmQ6e2VuYWJsZWQ6ITEsY29sb3I6XCJyZ2JhKDExMSwxMTEsMTExLDEpXCIsc2l6ZToxMCxkYXNoZXM6ITF9LHNtb290aDp7ZW5hYmxlZDohMCx0eXBlOlwiZHluYW1pY1wiLGZvcmNlRGlyZWN0aW9uOlwibm9uZVwiLHJvdW5kbmVzczouNX0sdGl0bGU6dm9pZCAwLHdpZHRoOjEsdmFsdWU6dm9pZCAwfSxSbSh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gd3UodCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPXRoaXM7dGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZm9yY2VEaXNhYmxlRHluYW1pY0N1cnZlc1wiLChmdW5jdGlvbih0KXt2YXIgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO1wiZHluYW1pY1wiPT09dCYmKHQ9XCJjb250aW51b3VzXCIpO3ZhciBvPSExO2Zvcih2YXIgbiBpbiBpLmJvZHkuZWRnZXMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGkuYm9keS5lZGdlcyxuKSl7dmFyIHI9aS5ib2R5LmVkZ2VzW25dLHM9aS5ib2R5LmRhdGEuZWRnZXMuZ2V0KG4pO2lmKG51bGwhPXMpe3ZhciBhPXMuc21vb3RoO3ZvaWQgMCE9PWEmJiEwPT09YS5lbmFibGVkJiZcImR5bmFtaWNcIj09PWEudHlwZSYmKHZvaWQgMD09PXQ/ci5zZXRPcHRpb25zKHtzbW9vdGg6ITF9KTpyLnNldE9wdGlvbnMoe3Ntb290aDp7dHlwZTp0fX0pLG89ITApfX0hMD09PWUmJiEwPT09byYmaS5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhVXBkYXRlZFwiLChmdW5jdGlvbigpe2kucmVjb25uZWN0RWRnZXMoKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInJlZnJlc2hFZGdlc1wiLFdvKHQ9dGhpcy5yZWZyZXNoKS5jYWxsKHQsdGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVmcmVzaFwiLFdvKGU9dGhpcy5yZWZyZXNoKS5jYWxsKGUsdGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZGVzdHJveVwiLChmdW5jdGlvbigpe0htKGkuZWRnZXNMaXN0ZW5lcnMsKGZ1bmN0aW9uKHQsZSl7aS5ib2R5LmRhdGEuZWRnZXMmJmkuYm9keS5kYXRhLmVkZ2VzLm9mZihlLHQpfSkpLGRlbGV0ZSBpLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZUVkZ2UsZGVsZXRlIGkuZWRnZXNMaXN0ZW5lcnMuYWRkLGRlbGV0ZSBpLmVkZ2VzTGlzdGVuZXJzLnVwZGF0ZSxkZWxldGUgaS5lZGdlc0xpc3RlbmVycy5yZW1vdmUsZGVsZXRlIGkuZWRnZXNMaXN0ZW5lcnN9KSl9fSx7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe0pFLnBhcnNlT3B0aW9ucyh0aGlzLm9wdGlvbnMsdCwhMCx0aGlzLmRlZmF1bHRPcHRpb25zLCEwKTt2YXIgZT0hMTtpZih2b2lkIDAhPT10LnNtb290aClmb3IodmFyIGkgaW4gdGhpcy5ib2R5LmVkZ2VzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkuZWRnZXMsaSkmJihlPXRoaXMuYm9keS5lZGdlc1tpXS51cGRhdGVFZGdlVHlwZSgpfHxlKTtpZih2b2lkIDAhPT10LmZvbnQpZm9yKHZhciBvIGluIHRoaXMuYm9keS5lZGdlcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5LmVkZ2VzLG8pJiZ0aGlzLmJvZHkuZWRnZXNbb10udXBkYXRlTGFiZWxNb2R1bGUoKTt2b2lkIDA9PT10LmhpZGRlbiYmdm9pZCAwPT09dC5waHlzaWNzJiYhMCE9PWV8fHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fX0se2tleTpcInNldERhdGFcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLG89YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPXRoaXMuYm9keS5kYXRhLmVkZ2VzO2lmKGUuaXNEYXRhVmlld0xpa2UoXCJpZFwiLHQpKXRoaXMuYm9keS5kYXRhLmVkZ2VzPXQ7ZWxzZSBpZihPZih0KSl0aGlzLmJvZHkuZGF0YS5lZGdlcz1uZXcgZS5EYXRhU2V0LHRoaXMuYm9keS5kYXRhLmVkZ2VzLmFkZCh0KTtlbHNle2lmKHQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFycmF5IG9yIERhdGFTZXQgZXhwZWN0ZWRcIik7dGhpcy5ib2R5LmRhdGEuZWRnZXM9bmV3IGUuRGF0YVNldH1pZihuJiZIbSh0aGlzLmVkZ2VzTGlzdGVuZXJzLChmdW5jdGlvbih0LGUpe24ub2ZmKGUsdCl9KSksdGhpcy5ib2R5LmVkZ2VzPXt9LHRoaXMuYm9keS5kYXRhLmVkZ2VzKXtIbSh0aGlzLmVkZ2VzTGlzdGVuZXJzLChmdW5jdGlvbih0LGUpe2kuYm9keS5kYXRhLmVkZ2VzLm9uKGUsdCl9KSk7dmFyIHI9dGhpcy5ib2R5LmRhdGEuZWRnZXMuZ2V0SWRzKCk7dGhpcy5hZGQociwhMCl9dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9hZGp1c3RFZGdlc0ZvckhpZXJhcmNoaWNhbExheW91dFwiKSwhMT09PW8mJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0saT10aGlzLmJvZHkuZWRnZXMsbz10aGlzLmJvZHkuZGF0YS5lZGdlcyxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl0scz1pW3JdO3MmJnMuZGlzY29ubmVjdCgpO3ZhciBhPW8uZ2V0KHIse3Nob3dJbnRlcm5hbElkczohMH0pO2lbcl09dGhpcy5jcmVhdGUoYSl9dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9hZGp1c3RFZGdlc0ZvckhpZXJhcmNoaWNhbExheW91dFwiKSwhMT09PWUmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fSx7a2V5OlwidXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYm9keS5lZGdlcyxpPXRoaXMuYm9keS5kYXRhLmVkZ2VzLG89ITEsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dLHM9aS5nZXQociksYT1lW3JdO3ZvaWQgMCE9PWE/KGEuZGlzY29ubmVjdCgpLG89YS5zZXRPcHRpb25zKHMpfHxvLGEuY29ubmVjdCgpKToodGhpcy5ib2R5LmVkZ2VzW3JdPXRoaXMuY3JlYXRlKHMpLG89ITApfSEwPT09bz8odGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9hZGp1c3RFZGdlc0ZvckhpZXJhcmNoaWNhbExheW91dFwiKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpKTp0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFVcGRhdGVkXCIpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoMCE9PXQubGVuZ3RoKXt2YXIgaT10aGlzLmJvZHkuZWRnZXM7SG0odCwoZnVuY3Rpb24odCl7dmFyIGU9aVt0XTt2b2lkIDAhPT1lJiZlLnJlbW92ZSgpfSkpLGUmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZGF0YUNoYW5nZWRcIil9fX0se2tleTpcInJlZnJlc2hcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7SG0odGhpcy5ib2R5LmVkZ2VzLChmdW5jdGlvbihlLGkpe3ZhciBvPXQuYm9keS5kYXRhLmVkZ2VzLmdldChpKTt2b2lkIDAhPT1vJiZlLnNldE9wdGlvbnMobyl9KSl9fSx7a2V5OlwiY3JlYXRlXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBKRSh0LHRoaXMuYm9keSx0aGlzLmltYWdlcyx0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyl9fSx7a2V5OlwicmVjb25uZWN0RWRnZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5ib2R5Lm5vZGVzLGk9dGhpcy5ib2R5LmVkZ2VzO2Zvcih0IGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJihlW3RdLmVkZ2VzPVtdKTtmb3IodCBpbiBpKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLHQpKXt2YXIgbz1pW3RdO28uZnJvbT1udWxsLG8udG89bnVsbCxvLmNvbm5lY3QoKX19fSx7a2V5OlwiZ2V0Q29ubmVjdGVkTm9kZXNcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1bXTtpZih2b2lkIDAhPT10aGlzLmJvZHkuZWRnZXNbdF0pe3ZhciBpPXRoaXMuYm9keS5lZGdlc1t0XTt2b2lkIDAhPT1pLmZyb21JZCYmZS5wdXNoKGkuZnJvbUlkKSx2b2lkIDAhPT1pLnRvSWQmJmUucHVzaChpLnRvSWQpfXJldHVybiBlfX0se2tleTpcIl91cGRhdGVTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fYWRkTWlzc2luZ0VkZ2VzKCksdGhpcy5fcmVtb3ZlSW52YWxpZEVkZ2VzKCl9fSx7a2V5OlwiX3JlbW92ZUludmFsaWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPVtdO0htKHRoaXMuYm9keS5lZGdlcywoZnVuY3Rpb24oaSxvKXt2YXIgbj10LmJvZHkubm9kZXNbaS50b0lkXSxyPXQuYm9keS5ub2Rlc1tpLmZyb21JZF07dm9pZCAwIT09biYmITA9PT1uLmlzQ2x1c3Rlcnx8dm9pZCAwIT09ciYmITA9PT1yLmlzQ2x1c3Rlcnx8dm9pZCAwIT09biYmdm9pZCAwIT09cnx8ZS5wdXNoKG8pfSkpLHRoaXMucmVtb3ZlKGUsITEpfX0se2tleTpcIl9hZGRNaXNzaW5nRWRnZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS5kYXRhLmVkZ2VzO2lmKG51bGwhPXQpe3ZhciBlPXRoaXMuYm9keS5lZGdlcyxpPVtdO1FmKHQpLmNhbGwodCwoZnVuY3Rpb24odCxvKXt2b2lkIDA9PT1lW29dJiZpLnB1c2gobyl9KSksdGhpcy5hZGQoaSwhMCl9fX1dKSx0fSgpLGVPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyl7dmgodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLnBoeXNpY3NCb2R5PWksdGhpcy5iYXJuZXNIdXRUcmVlLHRoaXMuc2V0T3B0aW9ucyhvKSx0aGlzLl9ybmc9RW0oXCJCQVJORVMgSFVUIFNPTFZFUlwiKX1yZXR1cm4gd3UodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dCx0aGlzLnRoZXRhSW52ZXJzZWQ9MS90aGlzLm9wdGlvbnMudGhldGEsdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yPTEtTWF0aC5tYXgoMCxNYXRoLm1pbigxLHRoaXMub3B0aW9ucy5hdm9pZE92ZXJsYXApKX19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoMCE9PXRoaXMub3B0aW9ucy5ncmF2aXRhdGlvbmFsQ29uc3RhbnQmJnRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLmxlbmd0aD4wKXt2YXIgdCxlPXRoaXMuYm9keS5ub2RlcyxpPXRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLG89aS5sZW5ndGgsbj10aGlzLl9mb3JtQmFybmVzSHV0VHJlZShlLGkpO3RoaXMuYmFybmVzSHV0VHJlZT1uO2Zvcih2YXIgcj0wO3I8bztyKyspKHQ9ZVtpW3JdXSkub3B0aW9ucy5tYXNzPjAmJnRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9ucyhuLnJvb3QsdCl9fX0se2tleTpcIl9nZXRGb3JjZUNvbnRyaWJ1dGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKHQuY2hpbGRyZW4uTlcsZSksdGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb24odC5jaGlsZHJlbi5ORSxlKSx0aGlzLl9nZXRGb3JjZUNvbnRyaWJ1dGlvbih0LmNoaWxkcmVuLlNXLGUpLHRoaXMuX2dldEZvcmNlQ29udHJpYnV0aW9uKHQuY2hpbGRyZW4uU0UsZSl9fSx7a2V5OlwiX2dldEZvcmNlQ29udHJpYnV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih0LmNoaWxkcmVuQ291bnQ+MCl7dmFyIGk9dC5jZW50ZXJPZk1hc3MueC1lLngsbz10LmNlbnRlck9mTWFzcy55LWUueSxuPU1hdGguc3FydChpKmkrbypvKTtuKnQuY2FsY1NpemU+dGhpcy50aGV0YUludmVyc2VkP3RoaXMuX2NhbGN1bGF0ZUZvcmNlcyhuLGksbyxlLHQpOjQ9PT10LmNoaWxkcmVuQ291bnQ/dGhpcy5fZ2V0Rm9yY2VDb250cmlidXRpb25zKHQsZSk6dC5jaGlsZHJlbi5kYXRhLmlkIT1lLmlkJiZ0aGlzLl9jYWxjdWxhdGVGb3JjZXMobixpLG8sZSx0KX19fSx7a2V5OlwiX2NhbGN1bGF0ZUZvcmNlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7MD09PXQmJihlPXQ9LjEpLHRoaXMub3ZlcmxhcEF2b2lkYW5jZUZhY3RvcjwxJiZvLnNoYXBlLnJhZGl1cyYmKHQ9TWF0aC5tYXgoLjErdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yKm8uc2hhcGUucmFkaXVzLHQtby5zaGFwZS5yYWRpdXMpKTt2YXIgcj10aGlzLm9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50Km4ubWFzcypvLm9wdGlvbnMubWFzcy9NYXRoLnBvdyh0LDMpLHM9ZSpyLGE9aSpyO3RoaXMucGh5c2ljc0JvZHkuZm9yY2VzW28uaWRdLngrPXMsdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbby5pZF0ueSs9YX19LHtrZXk6XCJfZm9ybUJhcm5lc0h1dFRyZWVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaSxvPWUubGVuZ3RoLG49dFtlWzBdXS54LHI9dFtlWzBdXS55LHM9dFtlWzBdXS54LGE9dFtlWzBdXS55LGg9MTtoPG87aCsrKXt2YXIgZD10W2VbaF1dLGw9ZC54LGM9ZC55O2Qub3B0aW9ucy5tYXNzPjAmJihsPG4mJihuPWwpLGw+cyYmKHM9bCksYzxyJiYocj1jKSxjPmEmJihhPWMpKX12YXIgdT1NYXRoLmFicyhzLW4pLU1hdGguYWJzKGEtcik7dT4wPyhyLT0uNSp1LGErPS41KnUpOihuKz0uNSp1LHMtPS41KnUpO3ZhciBmPU1hdGgubWF4KDFlLTUsTWF0aC5hYnMocy1uKSkscD0uNSpmLHY9LjUqKG4rcyksZz0uNSoocithKSx5PXtyb290OntjZW50ZXJPZk1hc3M6e3g6MCx5OjB9LG1hc3M6MCxyYW5nZTp7bWluWDp2LXAsbWF4WDp2K3AsbWluWTpnLXAsbWF4WTpnK3B9LHNpemU6ZixjYWxjU2l6ZToxL2YsY2hpbGRyZW46e2RhdGE6bnVsbH0sbWF4V2lkdGg6MCxsZXZlbDowLGNoaWxkcmVuQ291bnQ6NH19O3RoaXMuX3NwbGl0QnJhbmNoKHkucm9vdCk7Zm9yKHZhciBtPTA7bTxvO20rKykoaT10W2VbbV1dKS5vcHRpb25zLm1hc3M+MCYmdGhpcy5fcGxhY2VJblRyZWUoeS5yb290LGkpO3JldHVybiB5fX0se2tleTpcIl91cGRhdGVCcmFuY2hNYXNzXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10LmNlbnRlck9mTWFzcyxvPXQubWFzcytlLm9wdGlvbnMubWFzcyxuPTEvbztpLng9aS54KnQubWFzcytlLngqZS5vcHRpb25zLm1hc3MsaS54Kj1uLGkueT1pLnkqdC5tYXNzK2UueSplLm9wdGlvbnMubWFzcyxpLnkqPW4sdC5tYXNzPW87dmFyIHI9TWF0aC5tYXgoTWF0aC5tYXgoZS5oZWlnaHQsZS5yYWRpdXMpLGUud2lkdGgpO3QubWF4V2lkdGg9dC5tYXhXaWR0aDxyP3I6dC5tYXhXaWR0aH19LHtrZXk6XCJfcGxhY2VJblRyZWVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7MT09aSYmdm9pZCAwIT09aXx8dGhpcy5fdXBkYXRlQnJhbmNoTWFzcyh0LGUpO3ZhciBvLG49dC5jaGlsZHJlbi5OVy5yYW5nZTtvPW4ubWF4WD5lLng/bi5tYXhZPmUueT9cIk5XXCI6XCJTV1wiOm4ubWF4WT5lLnk/XCJORVwiOlwiU0VcIix0aGlzLl9wbGFjZUluUmVnaW9uKHQsZSxvKX19LHtrZXk6XCJfcGxhY2VJblJlZ2lvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10LmNoaWxkcmVuW2ldO3N3aXRjaChvLmNoaWxkcmVuQ291bnQpe2Nhc2UgMDpvLmNoaWxkcmVuLmRhdGE9ZSxvLmNoaWxkcmVuQ291bnQ9MSx0aGlzLl91cGRhdGVCcmFuY2hNYXNzKG8sZSk7YnJlYWs7Y2FzZSAxOm8uY2hpbGRyZW4uZGF0YS54PT09ZS54JiZvLmNoaWxkcmVuLmRhdGEueT09PWUueT8oZS54Kz10aGlzLl9ybmcoKSxlLnkrPXRoaXMuX3JuZygpKToodGhpcy5fc3BsaXRCcmFuY2gobyksdGhpcy5fcGxhY2VJblRyZWUobyxlKSk7YnJlYWs7Y2FzZSA0OnRoaXMuX3BsYWNlSW5UcmVlKG8sZSl9fX0se2tleTpcIl9zcGxpdEJyYW5jaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPW51bGw7MT09PXQuY2hpbGRyZW5Db3VudCYmKGU9dC5jaGlsZHJlbi5kYXRhLHQubWFzcz0wLHQuY2VudGVyT2ZNYXNzLng9MCx0LmNlbnRlck9mTWFzcy55PTApLHQuY2hpbGRyZW5Db3VudD00LHQuY2hpbGRyZW4uZGF0YT1udWxsLHRoaXMuX2luc2VydFJlZ2lvbih0LFwiTldcIiksdGhpcy5faW5zZXJ0UmVnaW9uKHQsXCJORVwiKSx0aGlzLl9pbnNlcnRSZWdpb24odCxcIlNXXCIpLHRoaXMuX2luc2VydFJlZ2lvbih0LFwiU0VcIiksbnVsbCE9ZSYmdGhpcy5fcGxhY2VJblRyZWUodCxlKX19LHtrZXk6XCJfaW5zZXJ0UmVnaW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaSxvLG4scixzPS41KnQuc2l6ZTtzd2l0Y2goZSl7Y2FzZVwiTldcIjppPXQucmFuZ2UubWluWCxvPXQucmFuZ2UubWluWCtzLG49dC5yYW5nZS5taW5ZLHI9dC5yYW5nZS5taW5ZK3M7YnJlYWs7Y2FzZVwiTkVcIjppPXQucmFuZ2UubWluWCtzLG89dC5yYW5nZS5tYXhYLG49dC5yYW5nZS5taW5ZLHI9dC5yYW5nZS5taW5ZK3M7YnJlYWs7Y2FzZVwiU1dcIjppPXQucmFuZ2UubWluWCxvPXQucmFuZ2UubWluWCtzLG49dC5yYW5nZS5taW5ZK3Mscj10LnJhbmdlLm1heFk7YnJlYWs7Y2FzZVwiU0VcIjppPXQucmFuZ2UubWluWCtzLG89dC5yYW5nZS5tYXhYLG49dC5yYW5nZS5taW5ZK3Mscj10LnJhbmdlLm1heFl9dC5jaGlsZHJlbltlXT17Y2VudGVyT2ZNYXNzOnt4OjAseTowfSxtYXNzOjAscmFuZ2U6e21pblg6aSxtYXhYOm8sbWluWTpuLG1heFk6cn0sc2l6ZTouNSp0LnNpemUsY2FsY1NpemU6Mip0LmNhbGNTaXplLGNoaWxkcmVuOntkYXRhOm51bGx9LG1heFdpZHRoOjAsbGV2ZWw6dC5sZXZlbCsxLGNoaWxkcmVuQ291bnQ6MH19fSx7a2V5OlwiX2RlYnVnXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDAhPT10aGlzLmJhcm5lc0h1dFRyZWUmJih0LmxpbmVXaWR0aD0xLHRoaXMuX2RyYXdCcmFuY2godGhpcy5iYXJuZXNIdXRUcmVlLnJvb3QsdCxlKSl9fSx7a2V5OlwiX2RyYXdCcmFuY2hcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dm9pZCAwPT09aSYmKGk9XCIjRkYwMDAwXCIpLDQ9PT10LmNoaWxkcmVuQ291bnQmJih0aGlzLl9kcmF3QnJhbmNoKHQuY2hpbGRyZW4uTlcsZSksdGhpcy5fZHJhd0JyYW5jaCh0LmNoaWxkcmVuLk5FLGUpLHRoaXMuX2RyYXdCcmFuY2godC5jaGlsZHJlbi5TRSxlKSx0aGlzLl9kcmF3QnJhbmNoKHQuY2hpbGRyZW4uU1csZSkpLGUuc3Ryb2tlU3R5bGU9aSxlLmJlZ2luUGF0aCgpLGUubW92ZVRvKHQucmFuZ2UubWluWCx0LnJhbmdlLm1pblkpLGUubGluZVRvKHQucmFuZ2UubWF4WCx0LnJhbmdlLm1pblkpLGUuc3Ryb2tlKCksZS5iZWdpblBhdGgoKSxlLm1vdmVUbyh0LnJhbmdlLm1heFgsdC5yYW5nZS5taW5ZKSxlLmxpbmVUbyh0LnJhbmdlLm1heFgsdC5yYW5nZS5tYXhZKSxlLnN0cm9rZSgpLGUuYmVnaW5QYXRoKCksZS5tb3ZlVG8odC5yYW5nZS5tYXhYLHQucmFuZ2UubWF4WSksZS5saW5lVG8odC5yYW5nZS5taW5YLHQucmFuZ2UubWF4WSksZS5zdHJva2UoKSxlLmJlZ2luUGF0aCgpLGUubW92ZVRvKHQucmFuZ2UubWluWCx0LnJhbmdlLm1heFkpLGUubGluZVRvKHQucmFuZ2UubWluWCx0LnJhbmdlLm1pblkpLGUuc3Ryb2tlKCl9fV0pLHR9KCksaU89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2aCh0aGlzLHQpLHRoaXMuX3JuZz1FbShcIlJFUFVMU0lPTiBTT0xWRVJcIiksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT1pLHRoaXMuc2V0T3B0aW9ucyhvKX1yZXR1cm4gd3UodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dH19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxvLG4scixzLGEsaD10aGlzLmJvZHkubm9kZXMsZD10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcyxsPXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzLGM9dGhpcy5vcHRpb25zLm5vZGVEaXN0YW5jZSx1PS0yLzMvYyxmPTA7ZjxkLmxlbmd0aC0xO2YrKyl7cz1oW2RbZl1dO2Zvcih2YXIgcD1mKzE7cDxkLmxlbmd0aDtwKyspdD0oYT1oW2RbcF1dKS54LXMueCxlPWEueS1zLnksMD09PShpPU1hdGguc3FydCh0KnQrZSplKSkmJih0PWk9LjEqdGhpcy5fcm5nKCkpLGk8MipjJiYocj1pPC41KmM/MTp1KmkrMS4zMzMzMzMzMzMzMzMzMzMzLG89dCooci89aSksbj1lKnIsbFtzLmlkXS54LT1vLGxbcy5pZF0ueS09bixsW2EuaWRdLngrPW8sbFthLmlkXS55Kz1uKX19fV0pLHR9KCksb089ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9aSx0aGlzLnNldE9wdGlvbnMobyl9cmV0dXJuIHd1KHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXQsdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yPU1hdGgubWF4KDAsTWF0aC5taW4oMSx0aGlzLm9wdGlvbnMuYXZvaWRPdmVybGFwfHwwKSl9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmJvZHkubm9kZXMsZT10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcyxpPXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzLG89dGhpcy5vcHRpb25zLm5vZGVEaXN0YW5jZSxuPTA7bjxlLmxlbmd0aC0xO24rKylmb3IodmFyIHI9dFtlW25dXSxzPW4rMTtzPGUubGVuZ3RoO3MrKyl7dmFyIGE9dFtlW3NdXTtpZihyLmxldmVsPT09YS5sZXZlbCl7dmFyIGg9byt0aGlzLm92ZXJsYXBBdm9pZGFuY2VGYWN0b3IqKChyLnNoYXBlLnJhZGl1c3x8MCkvMisoYS5zaGFwZS5yYWRpdXN8fDApLzIpLGQ9YS54LXIueCxsPWEueS1yLnksYz1NYXRoLnNxcnQoZCpkK2wqbCksdT12b2lkIDA7dT1jPGg/LU1hdGgucG93KC4wNSpjLDIpK01hdGgucG93KC4wNSpoLDIpOjAsMCE9PWMmJih1Lz1jKTt2YXIgZj1kKnUscD1sKnU7aVtyLmlkXS54LT1mLGlbci5pZF0ueS09cCxpW2EuaWRdLngrPWYsaVthLmlkXS55Kz1wfX19fV0pLHR9KCksbk89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9aSx0aGlzLnNldE9wdGlvbnMobyl9cmV0dXJuIHd1KHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXR9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlLGksbyxuLHI9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzRWRnZUluZGljZXMscz10aGlzLmJvZHkuZWRnZXMsYT0wO2E8ci5sZW5ndGg7YSsrKSEwPT09KGU9c1tyW2FdXSkuY29ubmVjdGVkJiZlLnRvSWQhPT1lLmZyb21JZCYmdm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW2UudG9JZF0mJnZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1tlLmZyb21JZF0mJih2b2lkIDAhPT1lLmVkZ2VUeXBlLnZpYT8odD12b2lkIDA9PT1lLm9wdGlvbnMubGVuZ3RoP3RoaXMub3B0aW9ucy5zcHJpbmdMZW5ndGg6ZS5vcHRpb25zLmxlbmd0aCxpPWUudG8sbz1lLmVkZ2VUeXBlLnZpYSxuPWUuZnJvbSx0aGlzLl9jYWxjdWxhdGVTcHJpbmdGb3JjZShpLG8sLjUqdCksdGhpcy5fY2FsY3VsYXRlU3ByaW5nRm9yY2UobyxuLC41KnQpKToodD12b2lkIDA9PT1lLm9wdGlvbnMubGVuZ3RoPzEuNSp0aGlzLm9wdGlvbnMuc3ByaW5nTGVuZ3RoOmUub3B0aW9ucy5sZW5ndGgsdGhpcy5fY2FsY3VsYXRlU3ByaW5nRm9yY2UoZS5mcm9tLGUudG8sdCkpKX19LHtrZXk6XCJfY2FsY3VsYXRlU3ByaW5nRm9yY2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7dmFyIG89dC54LWUueCxuPXQueS1lLnkscj1NYXRoLm1heChNYXRoLnNxcnQobypvK24qbiksLjAxKSxzPXRoaXMub3B0aW9ucy5zcHJpbmdDb25zdGFudCooaS1yKS9yLGE9bypzLGg9bipzO3ZvaWQgMCE9PXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW3QuaWRdJiYodGhpcy5waHlzaWNzQm9keS5mb3JjZXNbdC5pZF0ueCs9YSx0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1t0LmlkXS55Kz1oKSx2b2lkIDAhPT10aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tlLmlkXSYmKHRoaXMucGh5c2ljc0JvZHkuZm9yY2VzW2UuaWRdLngtPWEsdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbZS5pZF0ueS09aCl9fV0pLHR9KCksck89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9aSx0aGlzLnNldE9wdGlvbnMobyl9cmV0dXJuIHd1KHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5vcHRpb25zPXR9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCxlLGksbyxuLHIscyxhLGgsZCxsPXRoaXMuYm9keS5lZGdlcyxjPS41LHU9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzRWRnZUluZGljZXMsZj10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcyxwPXRoaXMucGh5c2ljc0JvZHkuZm9yY2VzLHY9MDt2PGYubGVuZ3RoO3YrKyl7dmFyIGc9Zlt2XTtwW2ddLnNwcmluZ0Z4PTAscFtnXS5zcHJpbmdGeT0wfWZvcih2YXIgeT0wO3k8dS5sZW5ndGg7eSsrKSEwPT09KGU9bFt1W3ldXSkuY29ubmVjdGVkJiYodD12b2lkIDA9PT1lLm9wdGlvbnMubGVuZ3RoP3RoaXMub3B0aW9ucy5zcHJpbmdMZW5ndGg6ZS5vcHRpb25zLmxlbmd0aCxpPWUuZnJvbS54LWUudG8ueCxvPWUuZnJvbS55LWUudG8ueSxhPTA9PT0oYT1NYXRoLnNxcnQoaSppK28qbykpPy4wMTphLG49aSoocz10aGlzLm9wdGlvbnMuc3ByaW5nQ29uc3RhbnQqKHQtYSkvYSkscj1vKnMsZS50by5sZXZlbCE9ZS5mcm9tLmxldmVsPyh2b2lkIDAhPT1wW2UudG9JZF0mJihwW2UudG9JZF0uc3ByaW5nRngtPW4scFtlLnRvSWRdLnNwcmluZ0Z5LT1yKSx2b2lkIDAhPT1wW2UuZnJvbUlkXSYmKHBbZS5mcm9tSWRdLnNwcmluZ0Z4Kz1uLHBbZS5mcm9tSWRdLnNwcmluZ0Z5Kz1yKSk6KHZvaWQgMCE9PXBbZS50b0lkXSYmKHBbZS50b0lkXS54LT1jKm4scFtlLnRvSWRdLnktPWMqciksdm9pZCAwIT09cFtlLmZyb21JZF0mJihwW2UuZnJvbUlkXS54Kz1jKm4scFtlLmZyb21JZF0ueSs9YypyKSkpO3M9MTtmb3IodmFyIG09MDttPGYubGVuZ3RoO20rKyl7dmFyIGI9ZlttXTtoPU1hdGgubWluKHMsTWF0aC5tYXgoLXMscFtiXS5zcHJpbmdGeCkpLGQ9TWF0aC5taW4ocyxNYXRoLm1heCgtcyxwW2JdLnNwcmluZ0Z5KSkscFtiXS54Kz1oLHBbYl0ueSs9ZH1mb3IodmFyIHc9MCxrPTAsXz0wO188Zi5sZW5ndGg7XysrKXt2YXIgeD1mW19dO3crPXBbeF0ueCxrKz1wW3hdLnl9Zm9yKHZhciBFPXcvZi5sZW5ndGgsTz1rL2YubGVuZ3RoLEM9MDtDPGYubGVuZ3RoO0MrKyl7dmFyIFM9ZltDXTtwW1NdLngtPUUscFtTXS55LT1PfX19XSksdH0oKSxzTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpLG8pe3ZoKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5waHlzaWNzQm9keT1pLHRoaXMuc2V0T3B0aW9ucyhvKX1yZXR1cm4gd3UodCxbe2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbnM9dH19LHtrZXk6XCJzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaSxvLG49dGhpcy5ib2R5Lm5vZGVzLHI9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMscz10aGlzLnBoeXNpY3NCb2R5LmZvcmNlcyxhPTA7YTxyLmxlbmd0aDthKyspe3Q9LShvPW5bclthXV0pLngsZT0tby55LGk9TWF0aC5zcXJ0KHQqdCtlKmUpLHRoaXMuX2NhbGN1bGF0ZUZvcmNlcyhpLHQsZSxzLG8pfX19LHtrZXk6XCJfY2FsY3VsYXRlRm9yY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt2YXIgcj0wPT09dD8wOnRoaXMub3B0aW9ucy5jZW50cmFsR3Jhdml0eS90O29bbi5pZF0ueD1lKnIsb1tuLmlkXS55PWkqcn19XSksdH0oKTtmdW5jdGlvbiBhTyh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciBoTz1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPWFPKGkpO2Z1bmN0aW9uIGkodCxvLG4pe3ZhciByO3JldHVybiB2aCh0aGlzLGkpLChyPWUuY2FsbCh0aGlzLHQsbyxuKSkuX3JuZz1FbShcIkZPUkNFIEFUTEFTIDIgQkFTRUQgUkVQVUxTSU9OIFNPTFZFUlwiKSxyfXJldHVybiB3dShpLFt7a2V5OlwiX2NhbGN1bGF0ZUZvcmNlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7MD09PXQmJihlPXQ9LjEqdGhpcy5fcm5nKCkpLHRoaXMub3ZlcmxhcEF2b2lkYW5jZUZhY3RvcjwxJiZvLnNoYXBlLnJhZGl1cyYmKHQ9TWF0aC5tYXgoLjErdGhpcy5vdmVybGFwQXZvaWRhbmNlRmFjdG9yKm8uc2hhcGUucmFkaXVzLHQtby5zaGFwZS5yYWRpdXMpKTt2YXIgcj1vLmVkZ2VzLmxlbmd0aCsxLHM9dGhpcy5vcHRpb25zLmdyYXZpdGF0aW9uYWxDb25zdGFudCpuLm1hc3Mqby5vcHRpb25zLm1hc3Mqci9NYXRoLnBvdyh0LDIpLGE9ZSpzLGg9aSpzO3RoaXMucGh5c2ljc0JvZHkuZm9yY2VzW28uaWRdLngrPWEsdGhpcy5waHlzaWNzQm9keS5mb3JjZXNbby5pZF0ueSs9aH19XSksaX0oZU8pO2Z1bmN0aW9uIGRPKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFzeClyZXR1cm4hMTtpZihzeC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gQm9vbGVhbi5wcm90b3R5cGUudmFsdWVPZi5jYWxsKHN4KEJvb2xlYW4sW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGksbz1weCh0KTtpZihlKXt2YXIgbj1weCh0aGlzKS5jb25zdHJ1Y3RvcjtpPXN4KG8sYXJndW1lbnRzLG4pfWVsc2UgaT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdXgodGhpcyxpKX19dmFyIGxPPWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9ZE8oaSk7ZnVuY3Rpb24gaSh0LG8sbil7cmV0dXJuIHZoKHRoaXMsaSksZS5jYWxsKHRoaXMsdCxvLG4pfXJldHVybiB3dShpLFt7a2V5OlwiX2NhbGN1bGF0ZUZvcmNlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8sbil7aWYodD4wKXt2YXIgcj1uLmVkZ2VzLmxlbmd0aCsxLHM9dGhpcy5vcHRpb25zLmNlbnRyYWxHcmF2aXR5KnIqbi5vcHRpb25zLm1hc3M7b1tuLmlkXS54PWUqcyxvW24uaWRdLnk9aSpzfX19XSksaX0oc08pLGNPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGh5c2ljc0JvZHk9e3BoeXNpY3NOb2RlSW5kaWNlczpbXSxwaHlzaWNzRWRnZUluZGljZXM6W10sZm9yY2VzOnt9LHZlbG9jaXRpZXM6e319LHRoaXMucGh5c2ljc0VuYWJsZWQ9ITAsdGhpcy5zaW11bGF0aW9uSW50ZXJ2YWw9MWUzLzYwLHRoaXMucmVxdWlyZXNUaW1lb3V0PSEwLHRoaXMucHJldmlvdXNTdGF0ZXM9e30sdGhpcy5yZWZlcmVuY2VTdGF0ZT17fSx0aGlzLmZyZWV6ZUNhY2hlPXt9LHRoaXMucmVuZGVyVGltZXI9dm9pZCAwLHRoaXMuYWRhcHRpdmVUaW1lc3RlcD0hMSx0aGlzLmFkYXB0aXZlVGltZXN0ZXBFbmFibGVkPSExLHRoaXMuYWRhcHRpdmVDb3VudGVyPTAsdGhpcy5hZGFwdGl2ZUludGVydmFsPTMsdGhpcy5zdGFiaWxpemVkPSExLHRoaXMuc3RhcnRlZFN0YWJpbGl6YXRpb249ITEsdGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucz0wLHRoaXMucmVhZHk9ITEsdGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e2VuYWJsZWQ6ITAsYmFybmVzSHV0Ont0aGV0YTouNSxncmF2aXRhdGlvbmFsQ29uc3RhbnQ6LTJlMyxjZW50cmFsR3Jhdml0eTouMyxzcHJpbmdMZW5ndGg6OTUsc3ByaW5nQ29uc3RhbnQ6LjA0LGRhbXBpbmc6LjA5LGF2b2lkT3ZlcmxhcDowfSxmb3JjZUF0bGFzMkJhc2VkOnt0aGV0YTouNSxncmF2aXRhdGlvbmFsQ29uc3RhbnQ6LTUwLGNlbnRyYWxHcmF2aXR5Oi4wMSxzcHJpbmdDb25zdGFudDouMDgsc3ByaW5nTGVuZ3RoOjEwMCxkYW1waW5nOi40LGF2b2lkT3ZlcmxhcDowfSxyZXB1bHNpb246e2NlbnRyYWxHcmF2aXR5Oi4yLHNwcmluZ0xlbmd0aDoyMDAsc3ByaW5nQ29uc3RhbnQ6LjA1LG5vZGVEaXN0YW5jZToxMDAsZGFtcGluZzouMDksYXZvaWRPdmVybGFwOjB9LGhpZXJhcmNoaWNhbFJlcHVsc2lvbjp7Y2VudHJhbEdyYXZpdHk6MCxzcHJpbmdMZW5ndGg6MTAwLHNwcmluZ0NvbnN0YW50Oi4wMSxub2RlRGlzdGFuY2U6MTIwLGRhbXBpbmc6LjA5fSxtYXhWZWxvY2l0eTo1MCxtaW5WZWxvY2l0eTouNzUsc29sdmVyOlwiYmFybmVzSHV0XCIsc3RhYmlsaXphdGlvbjp7ZW5hYmxlZDohMCxpdGVyYXRpb25zOjFlMyx1cGRhdGVJbnRlcnZhbDo1MCxvbmx5RHluYW1pY0VkZ2VzOiExLGZpdDohMH0sdGltZXN0ZXA6LjUsYWRhcHRpdmVUaW1lc3RlcDohMCx3aW5kOnt4OjAseTowfX0sd28odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMudGltZXN0ZXA9LjUsdGhpcy5sYXlvdXRGYWlsZWQ9ITEsdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gd3UodCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcImluaXRQaHlzaWNzXCIsKGZ1bmN0aW9uKCl7dC5pbml0UGh5c2ljcygpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2xheW91dEZhaWxlZFwiLChmdW5jdGlvbigpe3QubGF5b3V0RmFpbGVkPSEwfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVzZXRQaHlzaWNzXCIsKGZ1bmN0aW9uKCl7dC5zdG9wU2ltdWxhdGlvbigpLHQucmVhZHk9ITF9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkaXNhYmxlUGh5c2ljc1wiLChmdW5jdGlvbigpe3QucGh5c2ljc0VuYWJsZWQ9ITEsdC5zdG9wU2ltdWxhdGlvbigpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwicmVzdG9yZVBoeXNpY3NcIiwoZnVuY3Rpb24oKXt0LnNldE9wdGlvbnModC5vcHRpb25zKSwhMD09PXQucmVhZHkmJnQuc3RhcnRTaW11bGF0aW9uKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJzdGFydFNpbXVsYXRpb25cIiwoZnVuY3Rpb24oKXshMD09PXQucmVhZHkmJnQuc3RhcnRTaW11bGF0aW9uKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJzdG9wU2ltdWxhdGlvblwiLChmdW5jdGlvbigpe3Quc3RvcFNpbXVsYXRpb24oKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIiwoZnVuY3Rpb24oKXt0LnN0b3BTaW11bGF0aW9uKCExKSx0LmJvZHkuZW1pdHRlci5vZmYoKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLChmdW5jdGlvbigpe3QudXBkYXRlUGh5c2ljc0RhdGEoKX0pKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dClpZighMT09PXQpdGhpcy5vcHRpb25zLmVuYWJsZWQ9ITEsdGhpcy5waHlzaWNzRW5hYmxlZD0hMSx0aGlzLnN0b3BTaW11bGF0aW9uKCk7ZWxzZSBpZighMD09PXQpdGhpcy5vcHRpb25zLmVuYWJsZWQ9ITAsdGhpcy5waHlzaWNzRW5hYmxlZD0hMCx0aGlzLnN0YXJ0U2ltdWxhdGlvbigpO2Vsc2V7dGhpcy5waHlzaWNzRW5hYmxlZD0hMCxBbShbXCJzdGFiaWxpemF0aW9uXCJdLHRoaXMub3B0aW9ucyx0KSxRbSh0aGlzLm9wdGlvbnMsdCxcInN0YWJpbGl6YXRpb25cIiksdm9pZCAwPT09dC5lbmFibGVkJiYodGhpcy5vcHRpb25zLmVuYWJsZWQ9ITApLCExPT09dGhpcy5vcHRpb25zLmVuYWJsZWQmJih0aGlzLnBoeXNpY3NFbmFibGVkPSExLHRoaXMuc3RvcFNpbXVsYXRpb24oKSk7dmFyIGU9dGhpcy5vcHRpb25zLndpbmQ7ZSYmKChcIm51bWJlclwiIT10eXBlb2YgZS54fHxPayhlLngpKSYmKGUueD0wKSwoXCJudW1iZXJcIiE9dHlwZW9mIGUueXx8T2soZS55KSkmJihlLnk9MCkpLHRoaXMudGltZXN0ZXA9dGhpcy5vcHRpb25zLnRpbWVzdGVwfXRoaXMuaW5pdCgpfX0se2tleTpcImluaXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0O1wiZm9yY2VBdGxhczJCYXNlZFwiPT09dGhpcy5vcHRpb25zLnNvbHZlcj8odD10aGlzLm9wdGlvbnMuZm9yY2VBdGxhczJCYXNlZCx0aGlzLm5vZGVzU29sdmVyPW5ldyBoTyh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmVkZ2VzU29sdmVyPW5ldyBuTyh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmdyYXZpdHlTb2x2ZXI9bmV3IGxPKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpKTpcInJlcHVsc2lvblwiPT09dGhpcy5vcHRpb25zLnNvbHZlcj8odD10aGlzLm9wdGlvbnMucmVwdWxzaW9uLHRoaXMubm9kZXNTb2x2ZXI9bmV3IGlPKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZWRnZXNTb2x2ZXI9bmV3IG5PKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpLHRoaXMuZ3Jhdml0eVNvbHZlcj1uZXcgc08odGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCkpOlwiaGllcmFyY2hpY2FsUmVwdWxzaW9uXCI9PT10aGlzLm9wdGlvbnMuc29sdmVyPyh0PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWxSZXB1bHNpb24sdGhpcy5ub2Rlc1NvbHZlcj1uZXcgb08odGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCksdGhpcy5lZGdlc1NvbHZlcj1uZXcgck8odGhpcy5ib2R5LHRoaXMucGh5c2ljc0JvZHksdCksdGhpcy5ncmF2aXR5U29sdmVyPW5ldyBzTyh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSk6KHQ9dGhpcy5vcHRpb25zLmJhcm5lc0h1dCx0aGlzLm5vZGVzU29sdmVyPW5ldyBlTyh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmVkZ2VzU29sdmVyPW5ldyBuTyh0aGlzLmJvZHksdGhpcy5waHlzaWNzQm9keSx0KSx0aGlzLmdyYXZpdHlTb2x2ZXI9bmV3IHNPKHRoaXMuYm9keSx0aGlzLnBoeXNpY3NCb2R5LHQpKSx0aGlzLm1vZGVsT3B0aW9ucz10fX0se2tleTpcImluaXRQaHlzaWNzXCIsdmFsdWU6ZnVuY3Rpb24oKXshMD09PXRoaXMucGh5c2ljc0VuYWJsZWQmJiEwPT09dGhpcy5vcHRpb25zLmVuYWJsZWQ/ITA9PT10aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5lbmFibGVkP3RoaXMuc3RhYmlsaXplKCk6KHRoaXMuc3RhYmlsaXplZD0hMSx0aGlzLnJlYWR5PSEwLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJmaXRcIix7fSx0aGlzLmxheW91dEZhaWxlZCksdGhpcy5zdGFydFNpbXVsYXRpb24oKSk6KHRoaXMucmVhZHk9ITAsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImZpdFwiKSl9fSx7a2V5Olwic3RhcnRTaW11bGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDshMD09PXRoaXMucGh5c2ljc0VuYWJsZWQmJiEwPT09dGhpcy5vcHRpb25zLmVuYWJsZWQ/KHRoaXMuc3RhYmlsaXplZD0hMSx0aGlzLmFkYXB0aXZlVGltZXN0ZXA9ITEsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXNpemVOb2Rlc1wiKSx2b2lkIDA9PT10aGlzLnZpZXdGdW5jdGlvbiYmKHRoaXMudmlld0Z1bmN0aW9uPVdvKHQ9dGhpcy5zaW11bGF0aW9uU3RlcCkuY2FsbCh0LHRoaXMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3N0YXJ0UmVuZGVyaW5nXCIpKSk6dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9fSx7a2V5Olwic3RvcFNpbXVsYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07dGhpcy5zdGFiaWxpemVkPSEwLCEwPT09dCYmdGhpcy5fZW1pdFN0YWJpbGl6ZWQoKSx2b2lkIDAhPT10aGlzLnZpZXdGdW5jdGlvbiYmKHRoaXMuYm9keS5lbWl0dGVyLm9mZihcImluaXRSZWRyYXdcIix0aGlzLnZpZXdGdW5jdGlvbiksdGhpcy52aWV3RnVuY3Rpb249dm9pZCAwLCEwPT09dCYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9zdG9wUmVuZGVyaW5nXCIpKX19LHtrZXk6XCJzaW11bGF0aW9uU3RlcFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9amYoKTt0aGlzLnBoeXNpY3NUaWNrKCksKGpmKCktdDwuNCp0aGlzLnNpbXVsYXRpb25JbnRlcnZhbHx8ITA9PT10aGlzLnJ1bkRvdWJsZVNwZWVkKSYmITE9PT10aGlzLnN0YWJpbGl6ZWQmJih0aGlzLnBoeXNpY3NUaWNrKCksdGhpcy5ydW5Eb3VibGVTcGVlZD0hMCksITA9PT10aGlzLnN0YWJpbGl6ZWQmJnRoaXMuc3RvcFNpbXVsYXRpb24oKX19LHtrZXk6XCJfZW1pdFN0YWJpbGl6ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9uczsodGhpcy5zdGFiaWxpemF0aW9uSXRlcmF0aW9ucz4xfHwhMD09PXRoaXMuc3RhcnRlZFN0YWJpbGl6YXRpb24pJiZ2ZygoZnVuY3Rpb24oKXt0LmJvZHkuZW1pdHRlci5lbWl0KFwic3RhYmlsaXplZFwiLHtpdGVyYXRpb25zOmV9KSx0LnN0YXJ0ZWRTdGFiaWxpemF0aW9uPSExLHQuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnM9MH0pLDApfX0se2tleTpcInBoeXNpY3NTdGVwXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmdyYXZpdHlTb2x2ZXIuc29sdmUoKSx0aGlzLm5vZGVzU29sdmVyLnNvbHZlKCksdGhpcy5lZGdlc1NvbHZlci5zb2x2ZSgpLHRoaXMubW92ZU5vZGVzKCl9fSx7a2V5OlwiYWRqdXN0VGltZVN0ZXBcIix2YWx1ZTpmdW5jdGlvbigpeyEwPT09dGhpcy5fZXZhbHVhdGVTdGVwUXVhbGl0eSgpP3RoaXMudGltZXN0ZXA9MS4yKnRoaXMudGltZXN0ZXA6dGhpcy50aW1lc3RlcC8xLjI8dGhpcy5vcHRpb25zLnRpbWVzdGVwP3RoaXMudGltZXN0ZXA9dGhpcy5vcHRpb25zLnRpbWVzdGVwOih0aGlzLmFkYXB0aXZlQ291bnRlcj0tMSx0aGlzLnRpbWVzdGVwPU1hdGgubWF4KHRoaXMub3B0aW9ucy50aW1lc3RlcCx0aGlzLnRpbWVzdGVwLzEuMikpfX0se2tleTpcInBoeXNpY3NUaWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLl9zdGFydFN0YWJpbGl6aW5nKCksITAhPT10aGlzLnN0YWJpbGl6ZWQpe2lmKCEwPT09dGhpcy5hZGFwdGl2ZVRpbWVzdGVwJiYhMD09PXRoaXMuYWRhcHRpdmVUaW1lc3RlcEVuYWJsZWQpdGhpcy5hZGFwdGl2ZUNvdW50ZXIldGhpcy5hZGFwdGl2ZUludGVydmFsPT0wPyh0aGlzLnRpbWVzdGVwPTIqdGhpcy50aW1lc3RlcCx0aGlzLnBoeXNpY3NTdGVwKCksdGhpcy5yZXZlcnQoKSx0aGlzLnRpbWVzdGVwPS41KnRoaXMudGltZXN0ZXAsdGhpcy5waHlzaWNzU3RlcCgpLHRoaXMucGh5c2ljc1N0ZXAoKSx0aGlzLmFkanVzdFRpbWVTdGVwKCkpOnRoaXMucGh5c2ljc1N0ZXAoKSx0aGlzLmFkYXB0aXZlQ291bnRlcis9MTtlbHNlIHRoaXMudGltZXN0ZXA9dGhpcy5vcHRpb25zLnRpbWVzdGVwLHRoaXMucGh5c2ljc1N0ZXAoKTshMD09PXRoaXMuc3RhYmlsaXplZCYmdGhpcy5yZXZlcnQoKSx0aGlzLnN0YWJpbGl6YXRpb25JdGVyYXRpb25zKyt9fX0se2tleTpcInVwZGF0ZVBoeXNpY3NEYXRhXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnBoeXNpY3NCb2R5LmZvcmNlcz17fSx0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcz1bXSx0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NFZGdlSW5kaWNlcz1bXTt2YXIgdD10aGlzLmJvZHkubm9kZXMsZT10aGlzLmJvZHkuZWRnZXM7Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJiEwPT09dFtpXS5vcHRpb25zLnBoeXNpY3MmJnRoaXMucGh5c2ljc0JvZHkucGh5c2ljc05vZGVJbmRpY2VzLnB1c2godFtpXS5pZCk7Zm9yKHZhciBvIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykmJiEwPT09ZVtvXS5vcHRpb25zLnBoeXNpY3MmJnRoaXMucGh5c2ljc0JvZHkucGh5c2ljc0VkZ2VJbmRpY2VzLnB1c2goZVtvXS5pZCk7Zm9yKHZhciBuPTA7bjx0aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcy5sZW5ndGg7bisrKXt2YXIgcj10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlc1tuXTt0aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tyXT17eDowLHk6MH0sdm9pZCAwPT09dGhpcy5waHlzaWNzQm9keS52ZWxvY2l0aWVzW3JdJiYodGhpcy5waHlzaWNzQm9keS52ZWxvY2l0aWVzW3JdPXt4OjAseTowfSl9Zm9yKHZhciBzIGluIHRoaXMucGh5c2ljc0JvZHkudmVsb2NpdGllcyl2b2lkIDA9PT10W3NdJiZkZWxldGUgdGhpcy5waHlzaWNzQm9keS52ZWxvY2l0aWVzW3NdfX0se2tleTpcInJldmVydFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9emYodGhpcy5wcmV2aW91c1N0YXRlcyksZT10aGlzLmJvZHkubm9kZXMsaT10aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXM7dGhpcy5yZWZlcmVuY2VTdGF0ZT17fTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXTt2b2lkIDAhPT1lW25dPyEwPT09ZVtuXS5vcHRpb25zLnBoeXNpY3MmJih0aGlzLnJlZmVyZW5jZVN0YXRlW25dPXtwb3NpdGlvbnM6e3g6ZVtuXS54LHk6ZVtuXS55fX0saVtuXS54PXRoaXMucHJldmlvdXNTdGF0ZXNbbl0udngsaVtuXS55PXRoaXMucHJldmlvdXNTdGF0ZXNbbl0udnksZVtuXS54PXRoaXMucHJldmlvdXNTdGF0ZXNbbl0ueCxlW25dLnk9dGhpcy5wcmV2aW91c1N0YXRlc1tuXS55KTpkZWxldGUgdGhpcy5wcmV2aW91c1N0YXRlc1tuXX19fSx7a2V5OlwiX2V2YWx1YXRlU3RlcFF1YWxpdHlcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaT10aGlzLmJvZHkubm9kZXMsbz10aGlzLnJlZmVyZW5jZVN0YXRlO2Zvcih2YXIgbiBpbiB0aGlzLnJlZmVyZW5jZVN0YXRlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnJlZmVyZW5jZVN0YXRlLG4pJiZ2b2lkIDAhPT1pW25dJiYodD1pW25dLngtb1tuXS5wb3NpdGlvbnMueCxlPWlbbl0ueS1vW25dLnBvc2l0aW9ucy55LE1hdGguc3FydChNYXRoLnBvdyh0LDIpK01hdGgucG93KGUsMikpPi4zKSlyZXR1cm4hMTtyZXR1cm4hMH19LHtrZXk6XCJtb3ZlTm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBoeXNpY3NCb2R5LnBoeXNpY3NOb2RlSW5kaWNlcyxlPTAsaT0wLG89MDtvPHQubGVuZ3RoO28rKyl7dmFyIG49dFtvXSxyPXRoaXMuX3BlcmZvcm1TdGVwKG4pO2U9TWF0aC5tYXgoZSxyKSxpKz1yfXRoaXMuYWRhcHRpdmVUaW1lc3RlcEVuYWJsZWQ9aS90Lmxlbmd0aDw1LHRoaXMuc3RhYmlsaXplZD1lPHRoaXMub3B0aW9ucy5taW5WZWxvY2l0eX19LHtrZXk6XCJjYWxjdWxhdGVDb21wb25lbnRWZWxvY2l0eVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt0Kz0oZS10aGlzLm1vZGVsT3B0aW9ucy5kYW1waW5nKnQpL2kqdGhpcy50aW1lc3RlcDt2YXIgbz10aGlzLm9wdGlvbnMubWF4VmVsb2NpdHl8fDFlOTtyZXR1cm4gTWF0aC5hYnModCk+byYmKHQ9dD4wP286LW8pLHR9fSx7a2V5OlwiX3BlcmZvcm1TdGVwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ib2R5Lm5vZGVzW3RdLGk9dGhpcy5waHlzaWNzQm9keS5mb3JjZXNbdF07dGhpcy5vcHRpb25zLndpbmQmJihpLngrPXRoaXMub3B0aW9ucy53aW5kLngsaS55Kz10aGlzLm9wdGlvbnMud2luZC55KTt2YXIgbz10aGlzLnBoeXNpY3NCb2R5LnZlbG9jaXRpZXNbdF07cmV0dXJuIHRoaXMucHJldmlvdXNTdGF0ZXNbdF09e3g6ZS54LHk6ZS55LHZ4Om8ueCx2eTpvLnl9LCExPT09ZS5vcHRpb25zLmZpeGVkLng/KG8ueD10aGlzLmNhbGN1bGF0ZUNvbXBvbmVudFZlbG9jaXR5KG8ueCxpLngsZS5vcHRpb25zLm1hc3MpLGUueCs9by54KnRoaXMudGltZXN0ZXApOihpLng9MCxvLng9MCksITE9PT1lLm9wdGlvbnMuZml4ZWQueT8oby55PXRoaXMuY2FsY3VsYXRlQ29tcG9uZW50VmVsb2NpdHkoby55LGkueSxlLm9wdGlvbnMubWFzcyksZS55Kz1vLnkqdGhpcy50aW1lc3RlcCk6KGkueT0wLG8ueT0wKSxNYXRoLnNxcnQoTWF0aC5wb3coby54LDIpK01hdGgucG93KG8ueSwyKSl9fSx7a2V5OlwiX2ZyZWV6ZU5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHkubm9kZXM7Zm9yKHZhciBlIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJnRbZV0ueCYmdFtlXS55KXt2YXIgaT10W2VdLm9wdGlvbnMuZml4ZWQ7dGhpcy5mcmVlemVDYWNoZVtlXT17eDppLngseTppLnl9LGkueD0hMCxpLnk9ITB9fX0se2tleTpcIl9yZXN0b3JlRnJvemVuTm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuYm9keS5ub2Rlcztmb3IodmFyIGUgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmdm9pZCAwIT09dGhpcy5mcmVlemVDYWNoZVtlXSYmKHRbZV0ub3B0aW9ucy5maXhlZC54PXRoaXMuZnJlZXplQ2FjaGVbZV0ueCx0W2VdLm9wdGlvbnMuZml4ZWQueT10aGlzLmZyZWV6ZUNhY2hlW2VdLnkpO3RoaXMuZnJlZXplQ2FjaGU9e319fSx7a2V5Olwic3RhYmlsaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLml0ZXJhdGlvbnM7XCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPXRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLml0ZXJhdGlvbnMsY29uc29sZS5lcnJvcihcIlRoZSBzdGFiaWxpemUgbWV0aG9kIG5lZWRzIGEgbnVtZXJpYyBhbW91bnQgb2YgaXRlcmF0aW9ucy4gU3dpdGNoaW5nIHRvIGRlZmF1bHQ6IFwiLGUpKSwwIT09dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMubGVuZ3RoPyh0aGlzLmFkYXB0aXZlVGltZXN0ZXA9dGhpcy5vcHRpb25zLmFkYXB0aXZlVGltZXN0ZXAsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXNpemVOb2Rlc1wiKSx0aGlzLnN0b3BTaW11bGF0aW9uKCksdGhpcy5zdGFiaWxpemVkPSExLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfYmxvY2tSZWRyYXdcIiksdGhpcy50YXJnZXRJdGVyYXRpb25zPWUsITA9PT10aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5vbmx5RHluYW1pY0VkZ2VzJiZ0aGlzLl9mcmVlemVOb2RlcygpLHRoaXMuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnM9MCx2ZygoZnVuY3Rpb24oKXtyZXR1cm4gdC5fc3RhYmlsaXphdGlvbkJhdGNoKCl9KSwwKSk6dGhpcy5yZWFkeT0hMH19LHtrZXk6XCJfc3RhcnRTdGFiaWxpemluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITAhPT10aGlzLnN0YXJ0ZWRTdGFiaWxpemF0aW9uJiYodGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U3RhYmlsaXppbmdcIiksdGhpcy5zdGFydGVkU3RhYmlsaXphdGlvbj0hMCwhMCl9fSx7a2V5OlwiX3N0YWJpbGl6YXRpb25CYXRjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWZ1bmN0aW9uKCl7cmV0dXJuITE9PT10LnN0YWJpbGl6ZWQmJnQuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnM8dC50YXJnZXRJdGVyYXRpb25zfSxpPWZ1bmN0aW9uKCl7dC5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YWJpbGl6YXRpb25Qcm9ncmVzc1wiLHtpdGVyYXRpb25zOnQuc3RhYmlsaXphdGlvbkl0ZXJhdGlvbnMsdG90YWw6dC50YXJnZXRJdGVyYXRpb25zfSl9O3RoaXMuX3N0YXJ0U3RhYmlsaXppbmcoKSYmaSgpO2Zvcih2YXIgbyxuPTA7ZSgpJiZuPHRoaXMub3B0aW9ucy5zdGFiaWxpemF0aW9uLnVwZGF0ZUludGVydmFsOyl0aGlzLnBoeXNpY3NUaWNrKCksbisrOyhpKCksZSgpKT92ZyhXbyhvPXRoaXMuX3N0YWJpbGl6YXRpb25CYXRjaCkuY2FsbChvLHRoaXMpLDApOnRoaXMuX2ZpbmFsaXplU3RhYmlsaXphdGlvbigpfX0se2tleTpcIl9maW5hbGl6ZVN0YWJpbGl6YXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfYWxsb3dSZWRyYXdcIiksITA9PT10aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5maXQmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJmaXRcIiksITA9PT10aGlzLm9wdGlvbnMuc3RhYmlsaXphdGlvbi5vbmx5RHluYW1pY0VkZ2VzJiZ0aGlzLl9yZXN0b3JlRnJvemVuTm9kZXMoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhYmlsaXphdGlvbkl0ZXJhdGlvbnNEb25lXCIpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKSwhMD09PXRoaXMuc3RhYmlsaXplZD90aGlzLl9lbWl0U3RhYmlsaXplZCgpOnRoaXMuc3RhcnRTaW11bGF0aW9uKCksdGhpcy5yZWFkeT0hMH19LHtrZXk6XCJfZHJhd0ZvcmNlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXMubGVuZ3RoO2UrKyl7dmFyIGk9dGhpcy5waHlzaWNzQm9keS5waHlzaWNzTm9kZUluZGljZXNbZV0sbz10aGlzLmJvZHkubm9kZXNbaV0sbj10aGlzLnBoeXNpY3NCb2R5LmZvcmNlc1tpXSxyPU1hdGguc3FydChNYXRoLnBvdyhuLngsMikrTWF0aC5wb3cobi54LDIpKSxzPU1hdGgubWluKE1hdGgubWF4KDUsciksMTUpLGE9MypzLGg9S20oKDE4MC0xODAqTWF0aC5taW4oMSxNYXRoLm1heCgwLC4wMypyKSkpLzM2MCwxLDEpLGQ9e3g6by54KzIwKm4ueCx5Om8ueSsyMCpuLnl9O3QubGluZVdpZHRoPXMsdC5zdHJva2VTdHlsZT1oLHQuYmVnaW5QYXRoKCksdC5tb3ZlVG8oby54LG8ueSksdC5saW5lVG8oZC54LGQueSksdC5zdHJva2UoKTt2YXIgbD1NYXRoLmF0YW4yKG4ueSxuLngpO3QuZmlsbFN0eWxlPWgsekUuZHJhdyh0LHt0eXBlOlwiYXJyb3dcIixwb2ludDpkLGFuZ2xlOmwsbGVuZ3RoOmF9KSxDZyh0KS5jYWxsKHQpfX19XSksdH0oKTtsZXQgdU87Y29uc3QgZk89bmV3IFVpbnQ4QXJyYXkoMTYpO2Z1bmN0aW9uIHBPKCl7aWYoIXVPJiYodU89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byksIXVPKSl0aHJvdyBuZXcgRXJyb3IoXCJjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZFwiKTtyZXR1cm4gdU8oZk8pfWNvbnN0IHZPPVtdO2ZvcihsZXQgdD0wO3Q8MjU2OysrdCl2Ty5wdXNoKCh0KzI1NikudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTt2YXIgZ089e3JhbmRvbVVVSUQ6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLnJhbmRvbVVVSUQmJmNyeXB0by5yYW5kb21VVUlELmJpbmQoY3J5cHRvKX07ZnVuY3Rpb24geU8odCxlLGkpe2lmKGdPLnJhbmRvbVVVSUQmJiFlJiYhdClyZXR1cm4gZ08ucmFuZG9tVVVJRCgpO2NvbnN0IG89KHQ9dHx8e30pLnJhbmRvbXx8KHQucm5nfHxwTykoKTtpZihvWzZdPTE1Jm9bNl18NjQsb1s4XT02MyZvWzhdfDEyOCxlKXtpPWl8fDA7Zm9yKGxldCB0PTA7dDwxNjsrK3QpZVtpK3RdPW9bdF07cmV0dXJuIGV9cmV0dXJuIGZ1bmN0aW9uKHQsZT0wKXtyZXR1cm4gdk9bdFtlKzBdXSt2T1t0W2UrMV1dK3ZPW3RbZSsyXV0rdk9bdFtlKzNdXStcIi1cIit2T1t0W2UrNF1dK3ZPW3RbZSs1XV0rXCItXCIrdk9bdFtlKzZdXSt2T1t0W2UrN11dK1wiLVwiK3ZPW3RbZSs4XV0rdk9bdFtlKzldXStcIi1cIit2T1t0W2UrMTBdXSt2T1t0W2UrMTFdXSt2T1t0W2UrMTJdXSt2T1t0W2UrMTNdXSt2T1t0W2UrMTRdXSt2T1t0W2UrMTVdXX0obyl9dmFyIG1PPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZoKHRoaXMsdCl9cmV0dXJuIHd1KHQsbnVsbCxbe2tleTpcImdldFJhbmdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W10sbz0xZTksbj0tMWU5LHI9MWU5LHM9LTFlOTtpZihpLmxlbmd0aD4wKWZvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKXI+KGU9dFtpW2FdXSkuc2hhcGUuYm91bmRpbmdCb3gubGVmdCYmKHI9ZS5zaGFwZS5ib3VuZGluZ0JveC5sZWZ0KSxzPGUuc2hhcGUuYm91bmRpbmdCb3gucmlnaHQmJihzPWUuc2hhcGUuYm91bmRpbmdCb3gucmlnaHQpLG8+ZS5zaGFwZS5ib3VuZGluZ0JveC50b3AmJihvPWUuc2hhcGUuYm91bmRpbmdCb3gudG9wKSxuPGUuc2hhcGUuYm91bmRpbmdCb3guYm90dG9tJiYobj1lLnNoYXBlLmJvdW5kaW5nQm94LmJvdHRvbSk7cmV0dXJuIDFlOT09PXImJi0xZTk9PT1zJiYxZTk9PT1vJiYtMWU5PT09biYmKG89MCxuPTAscj0wLHM9MCkse21pblg6cixtYXhYOnMsbWluWTpvLG1heFk6bn19fSx7a2V5OlwiZ2V0UmFuZ2VDb3JlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W10sbz0xZTksbj0tMWU5LHI9MWU5LHM9LTFlOTtpZihpLmxlbmd0aD4wKWZvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKXI+KGU9dFtpW2FdXSkueCYmKHI9ZS54KSxzPGUueCYmKHM9ZS54KSxvPmUueSYmKG89ZS55KSxuPGUueSYmKG49ZS55KTtyZXR1cm4gMWU5PT09ciYmLTFlOT09PXMmJjFlOT09PW8mJi0xZTk9PT1uJiYobz0wLG49MCxyPTAscz0wKSx7bWluWDpyLG1heFg6cyxtaW5ZOm8sbWF4WTpufX19LHtrZXk6XCJmaW5kQ2VudGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJue3g6LjUqKHQubWF4WCt0Lm1pblgpLHk6LjUqKHQubWF4WSt0Lm1pblkpfX19LHtrZXk6XCJjbG9uZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXt9O3JldHVybiB2b2lkIDA9PT1lfHxcIm5vZGVcIj09PWU/KFJtKGksdC5vcHRpb25zLCEwKSxpLng9dC54LGkueT10LnksaS5hbW91bnRPZkNvbm5lY3Rpb25zPXQuZWRnZXMubGVuZ3RoKTpSbShpLHQub3B0aW9ucywhMCksaX19XSksdH0oKTtmdW5jdGlvbiBiTyh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhc3gpcmV0dXJuITE7aWYoc3guc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChzeChCb29sZWFuLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBpLG89cHgodCk7aWYoZSl7dmFyIG49cHgodGhpcykuY29uc3RydWN0b3I7aT1zeChvLGFyZ3VtZW50cyxuKX1lbHNlIGk9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHV4KHRoaXMsaSl9fXZhciB3Tz1mdW5jdGlvbih0KXtjeChpLHQpO3ZhciBlPWJPKGkpO2Z1bmN0aW9uIGkodCxvLG4scixzLGEpe3ZhciBoO3JldHVybiB2aCh0aGlzLGkpLChoPWUuY2FsbCh0aGlzLHQsbyxuLHIscyxhKSkuaXNDbHVzdGVyPSEwLGguY29udGFpbmVkTm9kZXM9e30saC5jb250YWluZWRFZGdlcz17fSxofXJldHVybiB3dShpLFt7a2V5OlwiX29wZW5DaGlsZENsdXN0ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dGhpcy5ib2R5Lm5vZGVzW3RdO2lmKHZvaWQgMD09PXRoaXMuY29udGFpbmVkTm9kZXNbdF0pdGhyb3cgbmV3IEVycm9yKFwibm9kZSB3aXRoIGlkOiBcIit0K1wiIG5vdCBpbiBjdXJyZW50IGNsdXN0ZXJcIik7aWYoIWkuaXNDbHVzdGVyKXRocm93IG5ldyBFcnJvcihcIm5vZGUgd2l0aCBpZDogXCIrdCtcIiBpcyBub3QgYSBjbHVzdGVyXCIpO2RlbGV0ZSB0aGlzLmNvbnRhaW5lZE5vZGVzW3RdLEhtKGkuZWRnZXMsKGZ1bmN0aW9uKHQpe2RlbGV0ZSBlLmNvbnRhaW5lZEVkZ2VzW3QuaWRdfSkpLEhtKGkuY29udGFpbmVkTm9kZXMsKGZ1bmN0aW9uKHQsaSl7ZS5jb250YWluZWROb2Rlc1tpXT10fSkpLGkuY29udGFpbmVkTm9kZXM9e30sSG0oaS5jb250YWluZWRFZGdlcywoZnVuY3Rpb24odCxpKXtlLmNvbnRhaW5lZEVkZ2VzW2ldPXR9KSksaS5jb250YWluZWRFZGdlcz17fSxIbShpLmVkZ2VzLChmdW5jdGlvbih0KXtIbShlLmVkZ2VzLChmdW5jdGlvbihpKXt2YXIgbyxuLHI9VnYobz1pLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzKS5jYWxsKG8sdC5pZCk7LTEhPT1yJiYoSG0odC5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcywoZnVuY3Rpb24odCl7aS5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcy5wdXNoKHQpLGUuYm9keS5lZGdlc1t0XS5lZGdlUmVwbGFjZWRCeUlkPWkuaWR9KSksUHAobj1pLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzKS5jYWxsKG4sciwxKSl9KSl9KSksaS5lZGdlcz1bXX19XSksaX0oaUUpLGtPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2YXIgaT10aGlzO3ZoKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5jbHVzdGVyZWROb2Rlcz17fSx0aGlzLmNsdXN0ZXJlZEVkZ2VzPXt9LHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXt9LHdvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9yZXNldERhdGFcIiwoZnVuY3Rpb24oKXtpLmNsdXN0ZXJlZE5vZGVzPXt9LGkuY2x1c3RlcmVkRWRnZXM9e319KSl9cmV0dXJuIHd1KHQsW3trZXk6XCJjbHVzdGVyQnlIdWJzaXplXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10P3Q9dGhpcy5fZ2V0SHViU2l6ZSgpOlwib2JqZWN0XCI9PT1ndSh0KSYmKGU9dGhpcy5fY2hlY2tPcHRpb25zKHQpLHQ9dGhpcy5fZ2V0SHViU2l6ZSgpKTtmb3IodmFyIGk9W10sbz0wO288dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtvKyspe3ZhciBuPXRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbb11dO24uZWRnZXMubGVuZ3RoPj10JiZpLnB1c2gobi5pZCl9Zm9yKHZhciByPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5jbHVzdGVyQnlDb25uZWN0aW9uKGlbcl0sZSwhMCk7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJjbHVzdGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LGk9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZih2b2lkIDA9PT1lLmpvaW5Db25kaXRpb24pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgY2x1c3RlckJ5Tm9kZURhdGEgd2l0aG91dCBhIGpvaW5Db25kaXRpb24gZnVuY3Rpb24gaW4gdGhlIG9wdGlvbnMuXCIpO2U9dGhpcy5fY2hlY2tPcHRpb25zKGUpO3ZhciBvPXt9LG49e307SG0odGhpcy5ib2R5Lm5vZGVzLChmdW5jdGlvbihpLHIpe2kub3B0aW9ucyYmITA9PT1lLmpvaW5Db25kaXRpb24oaS5vcHRpb25zKSYmKG9bcl09aSxIbShpLmVkZ2VzLChmdW5jdGlvbihlKXt2b2lkIDA9PT10LmNsdXN0ZXJlZEVkZ2VzW2UuaWRdJiYobltlLmlkXT1lKX0pKSl9KSksdGhpcy5fY2x1c3RlcihvLG4sZSxpKX19LHtrZXk6XCJjbHVzdGVyQnlFZGdlQ291bnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbz0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdO2U9dGhpcy5fY2hlY2tPcHRpb25zKGUpO2Zvcih2YXIgbixyLHMsYT1bXSxoPXt9LGQ9ZnVuY3Rpb24oKXt2YXIgbz17fSxkPXt9LGM9aS5ib2R5Lm5vZGVJbmRpY2VzW2xdLHU9aS5ib2R5Lm5vZGVzW2NdO2lmKHZvaWQgMD09PWhbY10pe3M9MCxyPVtdO2Zvcih2YXIgZj0wO2Y8dS5lZGdlcy5sZW5ndGg7ZisrKW49dS5lZGdlc1tmXSx2b2lkIDA9PT1pLmNsdXN0ZXJlZEVkZ2VzW24uaWRdJiYobi50b0lkIT09bi5mcm9tSWQmJnMrKyxyLnB1c2gobikpO2lmKHM9PT10KXtmb3IodmFyIHA9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09ZS5qb2luQ29uZGl0aW9ufHxudWxsPT09ZS5qb2luQ29uZGl0aW9uKXJldHVybiEwO3ZhciBpPW1PLmNsb25lT3B0aW9ucyh0KTtyZXR1cm4gZS5qb2luQ29uZGl0aW9uKGkpfSx2PSEwLGc9MDtnPHIubGVuZ3RoO2crKyl7bj1yW2ddO3ZhciB5PWkuX2dldENvbm5lY3RlZElkKG4sYyk7aWYoIXAodSkpe3Y9ITE7YnJlYWt9ZFtuLmlkXT1uLG9bY109dSxvW3ldPWkuYm9keS5ub2Rlc1t5XSxoW2NdPSEwfWlmKHpmKG8pLmxlbmd0aD4wJiZ6ZihkKS5sZW5ndGg+MCYmITA9PT12KXt2YXIgbT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8YS5sZW5ndGg7Kyt0KWZvcih2YXIgZSBpbiBvKWlmKHZvaWQgMCE9PWFbdF0ubm9kZXNbZV0pcmV0dXJuIGFbdF19KCk7aWYodm9pZCAwIT09bSl7Zm9yKHZhciBiIGluIG8pdm9pZCAwPT09bS5ub2Rlc1tiXSYmKG0ubm9kZXNbYl09b1tiXSk7Zm9yKHZhciB3IGluIGQpdm9pZCAwPT09bS5lZGdlc1t3XSYmKG0uZWRnZXNbd109ZFt3XSl9ZWxzZSBhLnB1c2goe25vZGVzOm8sZWRnZXM6ZH0pfX19fSxsPTA7bDx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO2wrKylkKCk7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspdGhpcy5fY2x1c3RlcihhW2NdLm5vZGVzLGFbY10uZWRnZXMsZSwhMSk7ITA9PT1vJiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX0se2tleTpcImNsdXN0ZXJPdXRsaWVyc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07dGhpcy5jbHVzdGVyQnlFZGdlQ291bnQoMSx0LGUpfX0se2tleTpcImNsdXN0ZXJCcmlkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTt0aGlzLmNsdXN0ZXJCeUVkZ2VDb3VudCgyLHQsZSl9fSx7a2V5OlwiY2x1c3RlckJ5Q29ubmVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbz0hKGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdKXx8YXJndW1lbnRzWzJdO2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiTm8gbm9kZUlkIHN1cHBsaWVkIHRvIGNsdXN0ZXJCeUNvbm5lY3Rpb24hXCIpO2lmKHZvaWQgMD09PXRoaXMuYm9keS5ub2Rlc1t0XSl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgbm9kZUlkIGdpdmVuIHRvIGNsdXN0ZXJCeUNvbm5lY3Rpb24gZG9lcyBub3QgZXhpc3QhXCIpO3ZhciBuPXRoaXMuYm9keS5ub2Rlc1t0XTt2b2lkIDA9PT0oZT10aGlzLl9jaGVja09wdGlvbnMoZSxuKSkuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLngmJihlLmNsdXN0ZXJOb2RlUHJvcGVydGllcy54PW4ueCksdm9pZCAwPT09ZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMueSYmKGUuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLnk9bi55KSx2b2lkIDA9PT1lLmNsdXN0ZXJOb2RlUHJvcGVydGllcy5maXhlZCYmKGUuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmZpeGVkPXt9LGUuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzLmZpeGVkLng9bi5vcHRpb25zLmZpeGVkLngsZS5jbHVzdGVyTm9kZVByb3BlcnRpZXMuZml4ZWQueT1uLm9wdGlvbnMuZml4ZWQueSk7dmFyIHI9e30scz17fSxhPW4uaWQsaD1tTy5jbG9uZU9wdGlvbnMobik7clthXT1uO2Zvcih2YXIgZD0wO2Q8bi5lZGdlcy5sZW5ndGg7ZCsrKXt2YXIgbD1uLmVkZ2VzW2RdO2lmKHZvaWQgMD09PXRoaXMuY2x1c3RlcmVkRWRnZXNbbC5pZF0pe3ZhciBjPXRoaXMuX2dldENvbm5lY3RlZElkKGwsYSk7aWYodm9pZCAwPT09dGhpcy5jbHVzdGVyZWROb2Rlc1tjXSlpZihjIT09YSlpZih2b2lkIDA9PT1lLmpvaW5Db25kaXRpb24pc1tsLmlkXT1sLHJbY109dGhpcy5ib2R5Lm5vZGVzW2NdO2Vsc2V7dmFyIHU9bU8uY2xvbmVPcHRpb25zKHRoaXMuYm9keS5ub2Rlc1tjXSk7ITA9PT1lLmpvaW5Db25kaXRpb24oaCx1KSYmKHNbbC5pZF09bCxyW2NdPXRoaXMuYm9keS5ub2Rlc1tjXSl9ZWxzZSBzW2wuaWRdPWx9fXZhciBmPUlmKGk9emYocikpLmNhbGwoaSwoZnVuY3Rpb24odCl7cmV0dXJuIHJbdF0uaWR9KSk7Zm9yKHZhciBwIGluIHIpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIscCkpZm9yKHZhciB2PXJbcF0sZz0wO2c8di5lZGdlcy5sZW5ndGg7ZysrKXt2YXIgeT12LmVkZ2VzW2ddO1Z2KGYpLmNhbGwoZix0aGlzLl9nZXRDb25uZWN0ZWRJZCh5LHYuaWQpKT4tMSYmKHNbeS5pZF09eSl9dGhpcy5fY2x1c3RlcihyLHMsZSxvKX19LHtrZXk6XCJfY3JlYXRlQ2x1c3RlckVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyl7Zm9yKHZhciBuLHIscyxhLGgsZCxsPXpmKHQpLGM9W10sdT0wO3U8bC5sZW5ndGg7dSsrKXtzPXRbcj1sW3VdXTtmb3IodmFyIGY9MDtmPHMuZWRnZXMubGVuZ3RoO2YrKyluPXMuZWRnZXNbZl0sdm9pZCAwPT09dGhpcy5jbHVzdGVyZWRFZGdlc1tuLmlkXSYmKG4udG9JZD09bi5mcm9tSWQ/ZVtuLmlkXT1uOm4udG9JZD09cj8oYT1pLmlkLGQ9aD1uLmZyb21JZCk6KGE9bi50b0lkLGg9aS5pZCxkPWEpLHZvaWQgMD09PXRbZF0mJmMucHVzaCh7ZWRnZTpuLGZyb21JZDpoLHRvSWQ6YX0pKX1mb3IodmFyIHA9W10sdj1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHAubGVuZ3RoO2UrKyl7dmFyIGk9cFtlXSxvPXQuZnJvbUlkPT09aS5mcm9tSWQmJnQudG9JZD09PWkudG9JZCxuPXQuZnJvbUlkPT09aS50b0lkJiZ0LnRvSWQ9PT1pLmZyb21JZDtpZihvfHxuKXJldHVybiBpfXJldHVybiBudWxsfSxnPTA7ZzxjLmxlbmd0aDtnKyspe3ZhciB5PWNbZ10sbT15LmVkZ2UsYj12KHkpO251bGw9PT1iPyhiPXRoaXMuX2NyZWF0ZUNsdXN0ZXJlZEVkZ2UoeS5mcm9tSWQseS50b0lkLG0sbykscC5wdXNoKGIpKTpiLmNsdXN0ZXJpbmdFZGdlUmVwbGFjaW5nSWRzLnB1c2gobS5pZCksdGhpcy5ib2R5LmVkZ2VzW20uaWRdLmVkZ2VSZXBsYWNlZEJ5SWQ9Yi5pZCx0aGlzLl9iYWNrdXBFZGdlT3B0aW9ucyhtKSxtLnNldE9wdGlvbnMoe3BoeXNpY3M6ITF9KX19fSx7a2V5OlwiX2NoZWNrT3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3JldHVybiB2b2lkIDA9PT10LmNsdXN0ZXJFZGdlUHJvcGVydGllcyYmKHQuY2x1c3RlckVkZ2VQcm9wZXJ0aWVzPXt9KSx2b2lkIDA9PT10LmNsdXN0ZXJOb2RlUHJvcGVydGllcyYmKHQuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzPXt9KSx0fX0se2tleTpcIl9jbHVzdGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZhciBvPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM10sbj1bXTtmb3IodmFyIHIgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxyKSYmdm9pZCAwIT09dGhpcy5jbHVzdGVyZWROb2Rlc1tyXSYmbi5wdXNoKHIpO2Zvcih2YXIgcz0wO3M8bi5sZW5ndGg7KytzKWRlbGV0ZSB0W25bc11dO2lmKDAhPXpmKHQpLmxlbmd0aCYmKDEhPXpmKHQpLmxlbmd0aHx8MT09aS5jbHVzdGVyTm9kZVByb3BlcnRpZXMuYWxsb3dTaW5nbGVOb2RlQ2x1c3Rlcikpe3ZhciBhPVJtKHt9LGkuY2x1c3Rlck5vZGVQcm9wZXJ0aWVzKTtpZih2b2lkIDAhPT1pLnByb2Nlc3NQcm9wZXJ0aWVzKXt2YXIgaD1bXTtmb3IodmFyIGQgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxkKSl7dmFyIGw9bU8uY2xvbmVPcHRpb25zKHRbZF0pO2gucHVzaChsKX12YXIgYz1bXTtmb3IodmFyIHUgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx1KSYmXCJjbHVzdGVyRWRnZTpcIiE9PXUuc3Vic3RyKDAsMTIpKXt2YXIgZj1tTy5jbG9uZU9wdGlvbnMoZVt1XSxcImVkZ2VcIik7Yy5wdXNoKGYpfWlmKCEoYT1pLnByb2Nlc3NQcm9wZXJ0aWVzKGEsaCxjKSkpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHByb2Nlc3NQcm9wZXJ0aWVzIGZ1bmN0aW9uIGRvZXMgbm90IHJldHVybiBwcm9wZXJ0aWVzIVwiKX12b2lkIDA9PT1hLmlkJiYoYS5pZD1cImNsdXN0ZXI6XCIreU8oKSk7dmFyIHA9YS5pZDt2b2lkIDA9PT1hLmxhYmVsJiYoYS5sYWJlbD1cImNsdXN0ZXJcIik7dmFyIHY9dm9pZCAwO3ZvaWQgMD09PWEueCYmKHY9dGhpcy5fZ2V0Q2x1c3RlclBvc2l0aW9uKHQpLGEueD12LngpLHZvaWQgMD09PWEueSYmKHZvaWQgMD09PXYmJih2PXRoaXMuX2dldENsdXN0ZXJQb3NpdGlvbih0KSksYS55PXYueSksYS5pZD1wO3ZhciBnPXRoaXMuYm9keS5mdW5jdGlvbnMuY3JlYXRlTm9kZShhLHdPKTtnLmNvbnRhaW5lZE5vZGVzPXQsZy5jb250YWluZWRFZGdlcz1lLGcuY2x1c3RlckVkZ2VQcm9wZXJ0aWVzPWkuY2x1c3RlckVkZ2VQcm9wZXJ0aWVzLHRoaXMuYm9keS5ub2Rlc1thLmlkXT1nLHRoaXMuX2NsdXN0ZXJFZGdlcyh0LGUsYSxpLmNsdXN0ZXJFZGdlUHJvcGVydGllcyksYS5pZD12b2lkIDAsITA9PT1vJiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX19LHtrZXk6XCJfYmFja3VwRWRnZU9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXt2b2lkIDA9PT10aGlzLmNsdXN0ZXJlZEVkZ2VzW3QuaWRdJiYodGhpcy5jbHVzdGVyZWRFZGdlc1t0LmlkXT17cGh5c2ljczp0Lm9wdGlvbnMucGh5c2ljc30pfX0se2tleTpcIl9yZXN0b3JlRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2x1c3RlcmVkRWRnZXNbdC5pZF07dm9pZCAwIT09ZSYmKHQuc2V0T3B0aW9ucyh7cGh5c2ljczplLnBoeXNpY3N9KSxkZWxldGUgdGhpcy5jbHVzdGVyZWRFZGdlc1t0LmlkXSl9fSx7a2V5OlwiaXNDbHVzdGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XT8hMD09PXRoaXMuYm9keS5ub2Rlc1t0XS5pc0NsdXN0ZXI6KGNvbnNvbGUuZXJyb3IoXCJOb2RlIGRvZXMgbm90IGV4aXN0LlwiKSwhMSl9fSx7a2V5OlwiX2dldENsdXN0ZXJQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPXpmKHQpLG89dFtpWzBdXS54LG49dFtpWzBdXS54LHI9dFtpWzBdXS55LHM9dFtpWzBdXS55LGE9MTthPGkubGVuZ3RoO2ErKylvPShlPXRbaVthXV0pLng8bz9lLng6byxuPWUueD5uP2UueDpuLHI9ZS55PHI/ZS55OnIscz1lLnk+cz9lLnk6cztyZXR1cm57eDouNSoobytuKSx5Oi41KihyK3MpfX19LHtrZXk6XCJvcGVuQ2x1c3RlclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSl8fGFyZ3VtZW50c1syXTtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIk5vIGNsdXN0ZXJOb2RlSWQgc3VwcGxpZWQgdG8gb3BlbkNsdXN0ZXIuXCIpO3ZhciBvPXRoaXMuYm9keS5ub2Rlc1t0XTtpZih2b2lkIDA9PT1vKXRocm93IG5ldyBFcnJvcihcIlRoZSBjbHVzdGVyTm9kZUlkIHN1cHBsaWVkIHRvIG9wZW5DbHVzdGVyIGRvZXMgbm90IGV4aXN0LlwiKTtpZighMCE9PW8uaXNDbHVzdGVyfHx2b2lkIDA9PT1vLmNvbnRhaW5lZE5vZGVzfHx2b2lkIDA9PT1vLmNvbnRhaW5lZEVkZ2VzKXRocm93IG5ldyBFcnJvcihcIlRoZSBub2RlOlwiK3QrXCIgaXMgbm90IGEgdmFsaWQgY2x1c3Rlci5cIik7dmFyIG49dGhpcy5maW5kTm9kZSh0KSxyPVZ2KG4pLmNhbGwobix0KS0xO2lmKHI+PTApe3ZhciBzPW5bcl07cmV0dXJuIHRoaXMuYm9keS5ub2Rlc1tzXS5fb3BlbkNoaWxkQ2x1c3Rlcih0KSxkZWxldGUgdGhpcy5ib2R5Lm5vZGVzW3RdLHZvaWQoITA9PT1pJiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpKX12YXIgYT1vLmNvbnRhaW5lZE5vZGVzLGg9by5jb250YWluZWRFZGdlcztpZih2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnJlbGVhc2VGdW5jdGlvbiYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZWxlYXNlRnVuY3Rpb24pe3ZhciBkPXt9LGw9e3g6by54LHk6by55fTtmb3IodmFyIGMgaW4gYSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSl7dmFyIHU9dGhpcy5ib2R5Lm5vZGVzW2NdO2RbY109e3g6dS54LHk6dS55fX12YXIgZj1lLnJlbGVhc2VGdW5jdGlvbihsLGQpO2Zvcih2YXIgcCBpbiBhKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLHApKXt2YXIgdj10aGlzLmJvZHkubm9kZXNbcF07dm9pZCAwIT09ZltwXSYmKHYueD12b2lkIDA9PT1mW3BdLng/by54OmZbcF0ueCx2Lnk9dm9pZCAwPT09ZltwXS55P28ueTpmW3BdLnkpfX1lbHNlIEhtKGEsKGZ1bmN0aW9uKHQpeyExPT09dC5vcHRpb25zLmZpeGVkLngmJih0Lng9by54KSwhMT09PXQub3B0aW9ucy5maXhlZC55JiYodC55PW8ueSl9KSk7Zm9yKHZhciBnIGluIGEpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsZykpe3ZhciB5PXRoaXMuYm9keS5ub2Rlc1tnXTt5LnZ4PW8udngseS52eT1vLnZ5LHkuc2V0T3B0aW9ucyh7cGh5c2ljczohMH0pLGRlbGV0ZSB0aGlzLmNsdXN0ZXJlZE5vZGVzW2ddfWZvcih2YXIgbT1bXSxiPTA7YjxvLmVkZ2VzLmxlbmd0aDtiKyspbS5wdXNoKG8uZWRnZXNbYl0pO2Zvcih2YXIgdz0wO3c8bS5sZW5ndGg7dysrKXtmb3IodmFyIGs9bVt3XSxfPXRoaXMuX2dldENvbm5lY3RlZElkKGssdCkseD10aGlzLmNsdXN0ZXJlZE5vZGVzW19dLEU9MDtFPGsuY2x1c3RlcmluZ0VkZ2VSZXBsYWNpbmdJZHMubGVuZ3RoO0UrKyl7dmFyIE89ay5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkc1tFXSxDPXRoaXMuYm9keS5lZGdlc1tPXTtpZih2b2lkIDAhPT1DKWlmKHZvaWQgMCE9PXgpe3ZhciBTPXRoaXMuYm9keS5ub2Rlc1t4LmNsdXN0ZXJJZF07Uy5jb250YWluZWRFZGdlc1tDLmlkXT1DLGRlbGV0ZSBoW0MuaWRdO3ZhciBUPUMuZnJvbUlkLE09Qy50b0lkO0MudG9JZD09Xz9NPXguY2x1c3RlcklkOlQ9eC5jbHVzdGVySWQsdGhpcy5fY3JlYXRlQ2x1c3RlcmVkRWRnZShULE0sQyxTLmNsdXN0ZXJFZGdlUHJvcGVydGllcyx7aGlkZGVuOiExLHBoeXNpY3M6ITB9KX1lbHNlIHRoaXMuX3Jlc3RvcmVFZGdlKEMpfWsucmVtb3ZlKCl9Zm9yKHZhciBQIGluIGgpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGgsUCkmJnRoaXMuX3Jlc3RvcmVFZGdlKGhbUF0pO2RlbGV0ZSB0aGlzLmJvZHkubm9kZXNbdF0sITA9PT1pJiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX0se2tleTpcImdldE5vZGVzSW5DbHVzdGVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9W107aWYoITA9PT10aGlzLmlzQ2x1c3Rlcih0KSl7dmFyIGk9dGhpcy5ib2R5Lm5vZGVzW3RdLmNvbnRhaW5lZE5vZGVzO2Zvcih2YXIgbyBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG8pJiZlLnB1c2godGhpcy5ib2R5Lm5vZGVzW29dLmlkKX1yZXR1cm4gZX19LHtrZXk6XCJmaW5kTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpPVtdLG89MDt2b2lkIDAhPT10aGlzLmNsdXN0ZXJlZE5vZGVzW3RdJiZvPDEwMDspe2lmKHZvaWQgMD09PShlPXRoaXMuYm9keS5ub2Rlc1t0XSkpcmV0dXJuW107aS5wdXNoKGUuaWQpLHQ9dGhpcy5jbHVzdGVyZWROb2Rlc1t0XS5jbHVzdGVySWQsbysrfXJldHVybiB2b2lkIDA9PT0oZT10aGlzLmJvZHkubm9kZXNbdF0pP1tdOihpLnB1c2goZS5pZCksaHAoaSkuY2FsbChpKSxpKX19LHtrZXk6XCJ1cGRhdGVDbHVzdGVyZWROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIk5vIGNsdXN0ZXJlZE5vZGVJZCBzdXBwbGllZCB0byB1cGRhdGVDbHVzdGVyZWROb2RlLlwiKTtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcihcIk5vIG5ld09wdGlvbnMgc3VwcGxpZWQgdG8gdXBkYXRlQ2x1c3RlcmVkTm9kZS5cIik7aWYodm9pZCAwPT09dGhpcy5ib2R5Lm5vZGVzW3RdKXRocm93IG5ldyBFcnJvcihcIlRoZSBjbHVzdGVyZWROb2RlSWQgc3VwcGxpZWQgdG8gdXBkYXRlQ2x1c3RlcmVkTm9kZSBkb2VzIG5vdCBleGlzdC5cIik7dGhpcy5ib2R5Lm5vZGVzW3RdLnNldE9wdGlvbnMoZSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJ1cGRhdGVFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIk5vIHN0YXJ0RWRnZUlkIHN1cHBsaWVkIHRvIHVwZGF0ZUVkZ2UuXCIpO2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKFwiTm8gbmV3T3B0aW9ucyBzdXBwbGllZCB0byB1cGRhdGVFZGdlLlwiKTtpZih2b2lkIDA9PT10aGlzLmJvZHkuZWRnZXNbdF0pdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0YXJ0RWRnZUlkIHN1cHBsaWVkIHRvIHVwZGF0ZUVkZ2UgZG9lcyBub3QgZXhpc3QuXCIpO2Zvcih2YXIgaT10aGlzLmdldENsdXN0ZXJlZEVkZ2VzKHQpLG89MDtvPGkubGVuZ3RoO28rKyl7dGhpcy5ib2R5LmVkZ2VzW2lbb11dLnNldE9wdGlvbnMoZSl9dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKX19LHtrZXk6XCJnZXRDbHVzdGVyZWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxpPTA7dm9pZCAwIT09dCYmdm9pZCAwIT09dGhpcy5ib2R5LmVkZ2VzW3RdJiZpPDEwMDspZS5wdXNoKHRoaXMuYm9keS5lZGdlc1t0XS5pZCksdD10aGlzLmJvZHkuZWRnZXNbdF0uZWRnZVJlcGxhY2VkQnlJZCxpKys7cmV0dXJuIGhwKGUpLmNhbGwoZSksZX19LHtrZXk6XCJnZXRCYXNlRWRnZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJhc2VFZGdlcyh0KVswXX19LHtrZXk6XCJnZXRCYXNlRWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W3RdLGk9W10sbz1bXSxuPTA7ZS5sZW5ndGg+MCYmbjwxMDA7KXt2YXIgcj1lLnBvcCgpO2lmKHZvaWQgMCE9PXIpe3ZhciBzPXRoaXMuYm9keS5lZGdlc1tyXTtpZih2b2lkIDAhPT1zKXtuKys7dmFyIGE9cy5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcztpZih2b2lkIDA9PT1hKW8ucHVzaChyKTtlbHNlIGZvcih2YXIgaD0wO2g8YS5sZW5ndGg7KytoKXt2YXIgZD1hW2hdOy0xPT09VnYoZSkuY2FsbChlLGEpJiYtMT09PVZ2KGkpLmNhbGwoaSxhKSYmZS5wdXNoKGQpfWkucHVzaChyKX19fXJldHVybiBvfX0se2tleTpcIl9nZXRDb25uZWN0ZWRJZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudG9JZCE9ZT90LnRvSWQ6KHQuZnJvbUlkLHQuZnJvbUlkKX19LHtrZXk6XCJfZ2V0SHViU2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLGk9MCxvPTAsbj0wO248dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtuKyspe3ZhciByPXRoaXMuYm9keS5ub2Rlc1t0aGlzLmJvZHkubm9kZUluZGljZXNbbl1dO3IuZWRnZXMubGVuZ3RoPm8mJihvPXIuZWRnZXMubGVuZ3RoKSx0Kz1yLmVkZ2VzLmxlbmd0aCxlKz1NYXRoLnBvdyhyLmVkZ2VzLmxlbmd0aCwyKSxpKz0xfXQvPWk7dmFyIHM9KGUvPWkpLU1hdGgucG93KHQsMiksYT1NYXRoLnNxcnQocyksaD1NYXRoLmZsb29yKHQrMiphKTtyZXR1cm4gaD5vJiYoaD1vKSxofX0se2tleTpcIl9jcmVhdGVDbHVzdGVyZWRFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGksbyxuKXt2YXIgcj1tTy5jbG9uZU9wdGlvbnMoaSxcImVkZ2VcIik7Um0ocixvKSxyLmZyb209dCxyLnRvPWUsci5pZD1cImNsdXN0ZXJFZGdlOlwiK3lPKCksdm9pZCAwIT09biYmUm0ocixuKTt2YXIgcz10aGlzLmJvZHkuZnVuY3Rpb25zLmNyZWF0ZUVkZ2Uocik7cmV0dXJuIHMuY2x1c3RlcmluZ0VkZ2VSZXBsYWNpbmdJZHM9W2kuaWRdLHMuY29ubmVjdCgpLHRoaXMuYm9keS5lZGdlc1tzLmlkXT1zLHN9fSx7a2V5OlwiX2NsdXN0ZXJFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpLG8pe2lmKGUgaW5zdGFuY2VvZiBKRSl7dmFyIG49ZSxyPXt9O3Jbbi5pZF09bixlPXJ9aWYodCBpbnN0YW5jZW9mIGlFKXt2YXIgcz10LGE9e307YVtzLmlkXT1zLHQ9YX1pZihudWxsPT1pKXRocm93IG5ldyBFcnJvcihcIl9jbHVzdGVyRWRnZXM6IHBhcmFtZXRlciBjbHVzdGVyTm9kZSByZXF1aXJlZFwiKTtmb3IodmFyIGggaW4gdm9pZCAwPT09byYmKG89aS5jbHVzdGVyRWRnZVByb3BlcnRpZXMpLHRoaXMuX2NyZWF0ZUNsdXN0ZXJFZGdlcyh0LGUsaSxvKSxlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGgpJiZ2b2lkIDAhPT10aGlzLmJvZHkuZWRnZXNbaF0pe3ZhciBkPXRoaXMuYm9keS5lZGdlc1toXTt0aGlzLl9iYWNrdXBFZGdlT3B0aW9ucyhkKSxkLnNldE9wdGlvbnMoe3BoeXNpY3M6ITF9KX1mb3IodmFyIGwgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxsKSYmKHRoaXMuY2x1c3RlcmVkTm9kZXNbbF09e2NsdXN0ZXJJZDppLmlkLG5vZGU6dGhpcy5ib2R5Lm5vZGVzW2xdfSx0aGlzLmJvZHkubm9kZXNbbF0uc2V0T3B0aW9ucyh7cGh5c2ljczohMX0pKX19LHtrZXk6XCJfZ2V0Q2x1c3Rlck5vZGVGb3JOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7dmFyIGU9dGhpcy5jbHVzdGVyZWROb2Rlc1t0XTtpZih2b2lkIDAhPT1lKXt2YXIgaT1lLmNsdXN0ZXJJZDtpZih2b2lkIDAhPT1pKXJldHVybiB0aGlzLmJvZHkubm9kZXNbaV19fX19LHtrZXk6XCJfZmlsdGVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1bXTtyZXR1cm4gSG0odCwoZnVuY3Rpb24odCl7ZSh0KSYmaS5wdXNoKHQpfSkpLGl9fSx7a2V5OlwiX3VwZGF0ZVN0YXRlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsaT1bXSxvPXt9LG49ZnVuY3Rpb24odCl7SG0oZS5ib2R5Lm5vZGVzLChmdW5jdGlvbihlKXshMD09PWUuaXNDbHVzdGVyJiZ0KGUpfSkpfTtmb3IodCBpbiB0aGlzLmNsdXN0ZXJlZE5vZGVzKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5jbHVzdGVyZWROb2Rlcyx0KSl2b2lkIDA9PT10aGlzLmJvZHkubm9kZXNbdF0mJmkucHVzaCh0KX1uKChmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPGkubGVuZ3RoO2UrKylkZWxldGUgdC5jb250YWluZWROb2Rlc1tpW2VdXX0pKTtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKylkZWxldGUgdGhpcy5jbHVzdGVyZWROb2Rlc1tpW3JdXTtIbSh0aGlzLmNsdXN0ZXJlZEVkZ2VzLChmdW5jdGlvbih0KXt2YXIgaT1lLmJvZHkuZWRnZXNbdF07dm9pZCAwIT09aSYmaS5lbmRQb2ludHNWYWxpZCgpfHwob1t0XT10KX0pKSxuKChmdW5jdGlvbih0KXtIbSh0LmNvbnRhaW5lZEVkZ2VzLChmdW5jdGlvbih0LGUpe3QuZW5kUG9pbnRzVmFsaWQoKXx8b1tlXXx8KG9bZV09ZSl9KSl9KSksSG0odGhpcy5ib2R5LmVkZ2VzLChmdW5jdGlvbih0LGkpe3ZhciBuPSEwLHI9dC5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcztpZih2b2lkIDAhPT1yKXt2YXIgcz0wO0htKHIsKGZ1bmN0aW9uKHQpe3ZhciBpPWUuYm9keS5lZGdlc1t0XTt2b2lkIDAhPT1pJiZpLmVuZFBvaW50c1ZhbGlkKCkmJihzKz0xKX0pKSxuPXM+MH10LmVuZFBvaW50c1ZhbGlkKCkmJm58fChvW2ldPWkpfSkpLG4oKGZ1bmN0aW9uKHQpe0htKG8sKGZ1bmN0aW9uKGkpe2RlbGV0ZSB0LmNvbnRhaW5lZEVkZ2VzW2ldLEhtKHQuZWRnZXMsKGZ1bmN0aW9uKG4scil7bi5pZCE9PWk/bi5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcz1lLl9maWx0ZXIobi5jbHVzdGVyaW5nRWRnZVJlcGxhY2luZ0lkcywoZnVuY3Rpb24odCl7cmV0dXJuIW9bdF19KSk6dC5lZGdlc1tyXT1udWxsfSkpLHQuZWRnZXM9ZS5fZmlsdGVyKHQuZWRnZXMsKGZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dH0pKX0pKX0pKSxIbShvLChmdW5jdGlvbih0KXtkZWxldGUgZS5jbHVzdGVyZWRFZGdlc1t0XX0pKSxIbShvLChmdW5jdGlvbih0KXtkZWxldGUgZS5ib2R5LmVkZ2VzW3RdfSkpLEhtKHpmKHRoaXMuYm9keS5lZGdlcyksKGZ1bmN0aW9uKHQpe3ZhciBpPWUuYm9keS5lZGdlc1t0XSxvPWUuX2lzQ2x1c3RlcmVkTm9kZShpLmZyb21JZCl8fGUuX2lzQ2x1c3RlcmVkTm9kZShpLnRvSWQpO2lmKG8hPT1lLl9pc0NsdXN0ZXJlZEVkZ2UoaS5pZCkpaWYobyl7dmFyIG49ZS5fZ2V0Q2x1c3Rlck5vZGVGb3JOb2RlKGkuZnJvbUlkKTt2b2lkIDAhPT1uJiZlLl9jbHVzdGVyRWRnZXMoZS5ib2R5Lm5vZGVzW2kuZnJvbUlkXSxpLG4pO3ZhciByPWUuX2dldENsdXN0ZXJOb2RlRm9yTm9kZShpLnRvSWQpO3ZvaWQgMCE9PXImJmUuX2NsdXN0ZXJFZGdlcyhlLmJvZHkubm9kZXNbaS50b0lkXSxpLHIpfWVsc2UgZGVsZXRlIGUuX2NsdXN0ZXJFZGdlc1t0XSxlLl9yZXN0b3JlRWRnZShpKX0pKTtmb3IodmFyIHM9ITEsYT0hMCxoPWZ1bmN0aW9uKCl7dmFyIHQ9W107bigoZnVuY3Rpb24oZSl7dmFyIGk9emYoZS5jb250YWluZWROb2RlcykubGVuZ3RoLG89ITA9PT1lLm9wdGlvbnMuYWxsb3dTaW5nbGVOb2RlQ2x1c3RlcjsobyYmaTwxfHwhbyYmaTwyKSYmdC5wdXNoKGUuaWQpfSkpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKWUub3BlbkNsdXN0ZXIodFtpXSx7fSwhMSk7YT10Lmxlbmd0aD4wLHM9c3x8YX07YTspaCgpO3MmJnRoaXMuX3VwZGF0ZVN0YXRlKCl9fSx7a2V5OlwiX2lzQ2x1c3RlcmVkTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10aGlzLmNsdXN0ZXJlZE5vZGVzW3RdfX0se2tleTpcIl9pc0NsdXN0ZXJlZEVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dGhpcy5jbHVzdGVyZWRFZGdlc1t0XX19XSksdH0oKTt2YXIgX089ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSl7dmFyIG87dmgodGhpcyx0KSx2b2lkIDAhPT13aW5kb3cmJihvPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSksd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT12b2lkIDA9PT1vP2Z1bmN0aW9uKHQpe3QoKX06byx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1pLHRoaXMucmVkcmF3UmVxdWVzdGVkPSExLHRoaXMucmVuZGVyVGltZXI9dm9pZCAwLHRoaXMucmVxdWlyZXNUaW1lb3V0PSEwLHRoaXMucmVuZGVyaW5nQWN0aXZlPSExLHRoaXMucmVuZGVyUmVxdWVzdHM9MCx0aGlzLmFsbG93UmVkcmF3PSEwLHRoaXMuZHJhZ2dpbmc9ITEsdGhpcy56b29taW5nPSExLHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXtoaWRlRWRnZXNPbkRyYWc6ITEsaGlkZUVkZ2VzT25ab29tOiExLGhpZGVOb2Rlc09uRHJhZzohMX0sd28odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuX2RldGVybWluZUJyb3dzZXJNZXRob2QoKSx0aGlzLmJpbmRFdmVudExpc3RlbmVycygpfXJldHVybiB3dSh0LFt7a2V5OlwiYmluZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXM7dGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkcmFnU3RhcnRcIiwoZnVuY3Rpb24oKXtlLmRyYWdnaW5nPSEwfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZHJhZ0VuZFwiLChmdW5jdGlvbigpe2UuZHJhZ2dpbmc9ITF9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJ6b29tXCIsKGZ1bmN0aW9uKCl7ZS56b29taW5nPSEwLHdpbmRvdy5jbGVhclRpbWVvdXQoZS56b29tVGltZW91dElkKSxlLnpvb21UaW1lb3V0SWQ9dmcoKGZ1bmN0aW9uKCl7dmFyIHQ7ZS56b29taW5nPSExLFdvKHQ9ZS5fcmVxdWVzdFJlZHJhdykuY2FsbCh0LGUpKCl9KSwyNTApfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3Jlc2l6ZU5vZGVzXCIsKGZ1bmN0aW9uKCl7ZS5fcmVzaXplTm9kZXMoKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9yZWRyYXdcIiwoZnVuY3Rpb24oKXshMT09PWUucmVuZGVyaW5nQWN0aXZlJiZlLl9yZWRyYXcoKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9ibG9ja1JlZHJhd1wiLChmdW5jdGlvbigpe2UuYWxsb3dSZWRyYXc9ITF9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfYWxsb3dSZWRyYXdcIiwoZnVuY3Rpb24oKXtlLmFsbG93UmVkcmF3PSEwLGUucmVkcmF3UmVxdWVzdGVkPSExfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3JlcXVlc3RSZWRyYXdcIixXbyh0PXRoaXMuX3JlcXVlc3RSZWRyYXcpLmNhbGwodCx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfc3RhcnRSZW5kZXJpbmdcIiwoZnVuY3Rpb24oKXtlLnJlbmRlclJlcXVlc3RzKz0xLGUucmVuZGVyaW5nQWN0aXZlPSEwLGUuX3N0YXJ0UmVuZGVyaW5nKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfc3RvcFJlbmRlcmluZ1wiLChmdW5jdGlvbigpe2UucmVuZGVyUmVxdWVzdHMtPTEsZS5yZW5kZXJpbmdBY3RpdmU9ZS5yZW5kZXJSZXF1ZXN0cz4wLGUucmVuZGVyVGltZXI9dm9pZCAwfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiZGVzdHJveVwiLChmdW5jdGlvbigpe2UucmVuZGVyUmVxdWVzdHM9MCxlLmFsbG93UmVkcmF3PSExLGUucmVuZGVyaW5nQWN0aXZlPSExLCEwPT09ZS5yZXF1aXJlc1RpbWVvdXQ/Y2xlYXJUaW1lb3V0KGUucmVuZGVyVGltZXIpOndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShlLnJlbmRlclRpbWVyKSxlLmJvZHkuZW1pdHRlci5vZmYoKX0pKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7Tm0oW1wiaGlkZUVkZ2VzT25EcmFnXCIsXCJoaWRlRWRnZXNPblpvb21cIixcImhpZGVOb2Rlc09uRHJhZ1wiXSx0aGlzLm9wdGlvbnMsdCl9fX0se2tleTpcIl9yZXF1ZXN0TmV4dEZyYW1lXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93KXt2YXIgaSxvPXdpbmRvdztyZXR1cm4hMD09PXRoaXMucmVxdWlyZXNUaW1lb3V0P2k9dmcodCxlKTpvLnJlcXVlc3RBbmltYXRpb25GcmFtZSYmKGk9by5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCkpLGl9fX0se2tleTpcIl9zdGFydFJlbmRlcmluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7ITA9PT10aGlzLnJlbmRlcmluZ0FjdGl2ZSYmKHZvaWQgMD09PXRoaXMucmVuZGVyVGltZXImJih0aGlzLnJlbmRlclRpbWVyPXRoaXMuX3JlcXVlc3ROZXh0RnJhbWUoV28odD10aGlzLl9yZW5kZXJTdGVwKS5jYWxsKHQsdGhpcyksdGhpcy5zaW11bGF0aW9uSW50ZXJ2YWwpKSl9fSx7a2V5OlwiX3JlbmRlclN0ZXBcIix2YWx1ZTpmdW5jdGlvbigpeyEwPT09dGhpcy5yZW5kZXJpbmdBY3RpdmUmJih0aGlzLnJlbmRlclRpbWVyPXZvaWQgMCwhMD09PXRoaXMucmVxdWlyZXNUaW1lb3V0JiZ0aGlzLl9zdGFydFJlbmRlcmluZygpLHRoaXMuX3JlZHJhdygpLCExPT09dGhpcy5yZXF1aXJlc1RpbWVvdXQmJnRoaXMuX3N0YXJ0UmVuZGVyaW5nKCkpfX0se2tleTpcInJlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInNldFNpemVcIiksdGhpcy5fcmVkcmF3KCl9fSx7a2V5OlwiX3JlcXVlc3RSZWRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7ITAhPT10aGlzLnJlZHJhd1JlcXVlc3RlZCYmITE9PT10aGlzLnJlbmRlcmluZ0FjdGl2ZSYmITA9PT10aGlzLmFsbG93UmVkcmF3JiYodGhpcy5yZWRyYXdSZXF1ZXN0ZWQ9ITAsdGhpcy5fcmVxdWVzdE5leHRGcmFtZSgoZnVuY3Rpb24oKXt0Ll9yZWRyYXcoITEpfSksMCkpfX0se2tleTpcIl9yZWRyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07aWYoITA9PT10aGlzLmFsbG93UmVkcmF3KXt0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiaW5pdFJlZHJhd1wiKSx0aGlzLnJlZHJhd1JlcXVlc3RlZD0hMTt2YXIgZT17ZHJhd0V4dGVybmFsTGFiZWxzOm51bGx9OzAhPT10aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMud2lkdGgmJjAhPT10aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuaGVpZ2h0fHx0aGlzLmNhbnZhcy5zZXRTaXplKCksdGhpcy5jYW52YXMuc2V0VHJhbnNmb3JtKCk7dmFyIGk9dGhpcy5jYW52YXMuZ2V0Q29udGV4dCgpLG89dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLG49dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodDtpZihpLmNsZWFyUmVjdCgwLDAsbyxuKSwwPT09dGhpcy5jYW52YXMuZnJhbWUuY2xpZW50V2lkdGgpcmV0dXJuO2lmKGkuc2F2ZSgpLGkudHJhbnNsYXRlKHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLngsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueSksaS5zY2FsZSh0aGlzLmJvZHkudmlldy5zY2FsZSx0aGlzLmJvZHkudmlldy5zY2FsZSksaS5iZWdpblBhdGgoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYmVmb3JlRHJhd2luZ1wiLGkpLGkuY2xvc2VQYXRoKCksITE9PT10JiYoITE9PT10aGlzLmRyYWdnaW5nfHwhMD09PXRoaXMuZHJhZ2dpbmcmJiExPT09dGhpcy5vcHRpb25zLmhpZGVFZGdlc09uRHJhZykmJighMT09PXRoaXMuem9vbWluZ3x8ITA9PT10aGlzLnpvb21pbmcmJiExPT09dGhpcy5vcHRpb25zLmhpZGVFZGdlc09uWm9vbSkmJnRoaXMuX2RyYXdFZGdlcyhpKSwhMT09PXRoaXMuZHJhZ2dpbmd8fCEwPT09dGhpcy5kcmFnZ2luZyYmITE9PT10aGlzLm9wdGlvbnMuaGlkZU5vZGVzT25EcmFnKXt2YXIgcj10aGlzLl9kcmF3Tm9kZXMoaSx0KS5kcmF3RXh0ZXJuYWxMYWJlbHM7ZS5kcmF3RXh0ZXJuYWxMYWJlbHM9cn0hMT09PXQmJighMT09PXRoaXMuZHJhZ2dpbmd8fCEwPT09dGhpcy5kcmFnZ2luZyYmITE9PT10aGlzLm9wdGlvbnMuaGlkZUVkZ2VzT25EcmFnKSYmKCExPT09dGhpcy56b29taW5nfHwhMD09PXRoaXMuem9vbWluZyYmITE9PT10aGlzLm9wdGlvbnMuaGlkZUVkZ2VzT25ab29tKSYmdGhpcy5fZHJhd0Fycm93cyhpKSxudWxsIT1lLmRyYXdFeHRlcm5hbExhYmVscyYmZS5kcmF3RXh0ZXJuYWxMYWJlbHMoKSwhMT09PXQmJnRoaXMuX2RyYXdTZWxlY3Rpb25Cb3goaSksaS5iZWdpblBhdGgoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYWZ0ZXJEcmF3aW5nXCIsaSksaS5jbG9zZVBhdGgoKSxpLnJlc3RvcmUoKSwhMD09PXQmJmkuY2xlYXJSZWN0KDAsMCxvLG4pfX19LHtrZXk6XCJfcmVzaXplTm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2FudmFzLnNldFRyYW5zZm9ybSgpO3ZhciB0PXRoaXMuY2FudmFzLmdldENvbnRleHQoKTt0LnNhdmUoKSx0LnRyYW5zbGF0ZSh0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnkpLHQuc2NhbGUodGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy5ib2R5LnZpZXcuc2NhbGUpO3ZhciBlLGk9dGhpcy5ib2R5Lm5vZGVzO2Zvcih2YXIgbyBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG8pJiYoKGU9aVtvXSkucmVzaXplKHQpLGUudXBkYXRlQm91bmRpbmdCb3godCxlLnNlbGVjdGVkKSk7dC5yZXN0b3JlKCl9fSx7a2V5OlwiX2RyYXdOb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxpLG89YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxuPXRoaXMuYm9keS5ub2RlcyxyPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxzPVtdLGE9W10saD10aGlzLmNhbnZhcy5ET010b0NhbnZhcyh7eDotMjAseTotMjB9KSxkPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHt4OnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCsyMCx5OnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQrMjB9KSxsPXt0b3A6aC55LGxlZnQ6aC54LGJvdHRvbTpkLnkscmlnaHQ6ZC54fSxjPVtdLHU9MDt1PHIubGVuZ3RoO3UrKylpZigoZT1uW3JbdV1dKS5ob3ZlcilhLnB1c2goclt1XSk7ZWxzZSBpZihlLmlzU2VsZWN0ZWQoKSlzLnB1c2goclt1XSk7ZWxzZSBpZighMD09PW8pe3ZhciBmPWUuZHJhdyh0KTtudWxsIT1mLmRyYXdFeHRlcm5hbExhYmVsJiZjLnB1c2goZi5kcmF3RXh0ZXJuYWxMYWJlbCl9ZWxzZSBpZighMD09PWUuaXNCb3VuZGluZ0JveE92ZXJsYXBwaW5nV2l0aChsKSl7dmFyIHA9ZS5kcmF3KHQpO251bGwhPXAuZHJhd0V4dGVybmFsTGFiZWwmJmMucHVzaChwLmRyYXdFeHRlcm5hbExhYmVsKX1lbHNlIGUudXBkYXRlQm91bmRpbmdCb3godCxlLnNlbGVjdGVkKTt2YXIgdj1zLmxlbmd0aCxnPWEubGVuZ3RoO2ZvcihpPTA7aTx2O2krKyl7dmFyIHk9KGU9bltzW2ldXSkuZHJhdyh0KTtudWxsIT15LmRyYXdFeHRlcm5hbExhYmVsJiZjLnB1c2goeS5kcmF3RXh0ZXJuYWxMYWJlbCl9Zm9yKGk9MDtpPGc7aSsrKXt2YXIgbT0oZT1uW2FbaV1dKS5kcmF3KHQpO251bGwhPW0uZHJhd0V4dGVybmFsTGFiZWwmJmMucHVzaChtLmRyYXdFeHRlcm5hbExhYmVsKX1yZXR1cm57ZHJhd0V4dGVybmFsTGFiZWxzOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1jO3Q8ZS5sZW5ndGg7dCsrKXsoMCxlW3RdKSgpfX19fX0se2tleTpcIl9kcmF3RWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5LmVkZ2VzLGk9dGhpcy5ib2R5LmVkZ2VJbmRpY2VzLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIG49ZVtpW29dXTshMD09PW4uY29ubmVjdGVkJiZuLmRyYXcodCl9fX0se2tleTpcIl9kcmF3QXJyb3dzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYm9keS5lZGdlcyxpPXRoaXMuYm9keS5lZGdlSW5kaWNlcyxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBuPWVbaVtvXV07ITA9PT1uLmNvbm5lY3RlZCYmbi5kcmF3QXJyb3dzKHQpfX19LHtrZXk6XCJfZGV0ZXJtaW5lQnJvd3Nlck1ldGhvZFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyl7dmFyIHQ9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO3RoaXMucmVxdWlyZXNUaW1lb3V0PSExLCgtMSE9VnYodCkuY2FsbCh0LFwibXNpZSA5LjBcIil8fC0xIT1Wdih0KS5jYWxsKHQsXCJzYWZhcmlcIikmJlZ2KHQpLmNhbGwodCxcImNocm9tZVwiKTw9LTEpJiYodGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITApfWVsc2UgdGhpcy5yZXF1aXJlc1RpbWVvdXQ9ITB9fSx7a2V5OlwiX2RyYXdTZWxlY3Rpb25Cb3hcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnNob3cpe3QuYmVnaW5QYXRoKCk7dmFyIGU9dGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5lbmQueC10aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLnN0YXJ0LngsaT10aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLmVuZC55LXRoaXMuYm9keS5zZWxlY3Rpb25Cb3gucG9zaXRpb24uc3RhcnQueTt0LnJlY3QodGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5zdGFydC54LHRoaXMuYm9keS5zZWxlY3Rpb25Cb3gucG9zaXRpb24uc3RhcnQueSxlLGkpLHQuZmlsbFN0eWxlPVwicmdiYSgxNTEsIDE5NCwgMjUyLCAwLjIpXCIsdC5maWxsUmVjdCh0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLnN0YXJ0LngsdGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbi5zdGFydC55LGUsaSksdC5zdHJva2VTdHlsZT1cInJnYmEoMTUxLCAxOTQsIDI1MiwgMSlcIix0LnN0cm9rZSgpfWVsc2UgdC5jbG9zZVBhdGgoKX19XSksdH0oKSx4Tz1vKGl0LnNldEludGVydmFsKTtmdW5jdGlvbiBFTyh0LGUpe2UuaW5wdXRIYW5kbGVyPWZ1bmN0aW9uKHQpe3QuaXNGaXJzdCYmZSh0KX0sdC5vbihcImhhbW1lci5pbnB1dFwiLGUuaW5wdXRIYW5kbGVyKX1mdW5jdGlvbiBPTyh0LGUpe3JldHVybiBlLmlucHV0SGFuZGxlcj1mdW5jdGlvbih0KXt0LmlzRmluYWwmJmUodCl9LHQub24oXCJoYW1tZXIuaW5wdXRcIixlLmlucHV0SGFuZGxlcil9dmFyIENPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMucGl4ZWxSYXRpbz0xLHRoaXMuY2FtZXJhU3RhdGU9e30sdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmNhbnZhc1ZpZXdDZW50ZXI9e30sdGhpcy5fY2xlYW51cENhbGxiYWNrcz1bXSx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17YXV0b1Jlc2l6ZTohMCxoZWlnaHQ6XCIxMDAlXCIsd2lkdGg6XCIxMDAlXCJ9LHdvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJpbmRFdmVudExpc3RlbmVycygpfXJldHVybiB3dSh0LFt7a2V5OlwiYmluZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXM7dGhpcy5ib2R5LmVtaXR0ZXIub25jZShcInJlc2l6ZVwiLChmdW5jdGlvbih0KXswIT09dC53aWR0aCYmKGUuYm9keS52aWV3LnRyYW5zbGF0aW9uLng9LjUqdC53aWR0aCksMCE9PXQuaGVpZ2h0JiYoZS5ib2R5LnZpZXcudHJhbnNsYXRpb24ueT0uNSp0LmhlaWdodCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJzZXRTaXplXCIsV28odD10aGlzLnNldFNpemUpLmNhbGwodCx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZXN0cm95XCIsKGZ1bmN0aW9uKCl7ZS5oYW1tZXJGcmFtZS5kZXN0cm95KCksZS5oYW1tZXIuZGVzdHJveSgpLGUuX2NsZWFuVXAoKX0pKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih2b2lkIDAhPT10KXtObShbXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJhdXRvUmVzaXplXCJdLHRoaXMub3B0aW9ucyx0KX1pZih0aGlzLl9jbGVhblVwKCksITA9PT10aGlzLm9wdGlvbnMuYXV0b1Jlc2l6ZSl7dmFyIGk7aWYod2luZG93LlJlc2l6ZU9ic2VydmVyKXt2YXIgbz1uZXcgUmVzaXplT2JzZXJ2ZXIoKGZ1bmN0aW9uKCl7ITA9PT1lLnNldFNpemUoKSYmZS5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSkpLG49dGhpcy5mcmFtZTtvLm9ic2VydmUobiksdGhpcy5fY2xlYW51cENhbGxiYWNrcy5wdXNoKChmdW5jdGlvbigpe28udW5vYnNlcnZlKG4pfSkpfWVsc2V7dmFyIHI9eE8oKGZ1bmN0aW9uKCl7ITA9PT1lLnNldFNpemUoKSYmZS5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfSksMWUzKTt0aGlzLl9jbGVhbnVwQ2FsbGJhY2tzLnB1c2goKGZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChyKX0pKX12YXIgcz1XbyhpPXRoaXMuX29uUmVzaXplKS5jYWxsKGksdGhpcyk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixzKSx0aGlzLl9jbGVhbnVwQ2FsbGJhY2tzLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixzKX0pKX19fSx7a2V5OlwiX2NsZWFuVXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaTtRZih0PWhwKGU9UHAoaT10aGlzLl9jbGVhbnVwQ2FsbGJhY2tzKS5jYWxsKGksMCkpLmNhbGwoZSkpLmNhbGwodCwoZnVuY3Rpb24odCl7dHJ5e3QoKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKHQpfX0pKX19LHtrZXk6XCJfb25SZXNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0U2l6ZSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX0se2tleTpcIl9nZXRDYW1lcmFTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMucGl4ZWxSYXRpbzshMD09PXRoaXMuaW5pdGlhbGl6ZWQmJih0aGlzLmNhbWVyYVN0YXRlLnByZXZpb3VzV2lkdGg9dGhpcy5mcmFtZS5jYW52YXMud2lkdGgvdCx0aGlzLmNhbWVyYVN0YXRlLnByZXZpb3VzSGVpZ2h0PXRoaXMuZnJhbWUuY2FudmFzLmhlaWdodC90LHRoaXMuY2FtZXJhU3RhdGUuc2NhbGU9dGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy5jYW1lcmFTdGF0ZS5wb3NpdGlvbj10aGlzLkRPTXRvQ2FudmFzKHt4Oi41KnRoaXMuZnJhbWUuY2FudmFzLndpZHRoL3QseTouNSp0aGlzLmZyYW1lLmNhbnZhcy5oZWlnaHQvdH0pKX19LHtrZXk6XCJfc2V0Q2FtZXJhU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMuY2FtZXJhU3RhdGUuc2NhbGUmJjAhPT10aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCYmMCE9PXRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCYmMCE9PXRoaXMucGl4ZWxSYXRpbyYmdGhpcy5jYW1lcmFTdGF0ZS5wcmV2aW91c1dpZHRoPjAmJnRoaXMuY2FtZXJhU3RhdGUucHJldmlvdXNIZWlnaHQ+MCl7dmFyIHQ9dGhpcy5mcmFtZS5jYW52YXMud2lkdGgvdGhpcy5waXhlbFJhdGlvL3RoaXMuY2FtZXJhU3RhdGUucHJldmlvdXNXaWR0aCxlPXRoaXMuZnJhbWUuY2FudmFzLmhlaWdodC90aGlzLnBpeGVsUmF0aW8vdGhpcy5jYW1lcmFTdGF0ZS5wcmV2aW91c0hlaWdodCxpPXRoaXMuY2FtZXJhU3RhdGUuc2NhbGU7MSE9dCYmMSE9ZT9pPS41KnRoaXMuY2FtZXJhU3RhdGUuc2NhbGUqKHQrZSk6MSE9dD9pPXRoaXMuY2FtZXJhU3RhdGUuc2NhbGUqdDoxIT1lJiYoaT10aGlzLmNhbWVyYVN0YXRlLnNjYWxlKmUpLHRoaXMuYm9keS52aWV3LnNjYWxlPWk7dmFyIG89dGhpcy5ET010b0NhbnZhcyh7eDouNSp0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCx5Oi41KnRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodH0pLG49e3g6by54LXRoaXMuY2FtZXJhU3RhdGUucG9zaXRpb24ueCx5Om8ueS10aGlzLmNhbWVyYVN0YXRlLnBvc2l0aW9uLnl9O3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLngrPW4ueCp0aGlzLmJvZHkudmlldy5zY2FsZSx0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi55Kz1uLnkqdGhpcy5ib2R5LnZpZXcuc2NhbGV9fX0se2tleTpcIl9wcmVwYXJlVmFsdWVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdCtcInB4XCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKC0xIT09VnYodCkuY2FsbCh0LFwiJVwiKXx8LTEhPT1Wdih0KS5jYWxsKHQsXCJweFwiKSlyZXR1cm4gdDtpZigtMT09PVZ2KHQpLmNhbGwodCxcIiVcIikpcmV0dXJuIHQrXCJweFwifXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCB1c2UgdGhlIHZhbHVlIHN1cHBsaWVkIGZvciB3aWR0aCBvciBoZWlnaHQ6XCIrdCl9fSx7a2V5OlwiX2NyZWF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmJvZHkuY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKTspdGhpcy5ib2R5LmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmJvZHkuY29udGFpbmVyLmZpcnN0Q2hpbGQpO2lmKHRoaXMuZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmZyYW1lLmNsYXNzTmFtZT1cInZpcy1uZXR3b3JrXCIsdGhpcy5mcmFtZS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIsdGhpcy5mcmFtZS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMuZnJhbWUudGFiSW5kZXg9MCx0aGlzLmZyYW1lLmNhbnZhcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuZnJhbWUuY2FudmFzLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuZnJhbWUuY2FudmFzKSx0aGlzLmZyYW1lLmNhbnZhcy5nZXRDb250ZXh0KXRoaXMuX3NldFBpeGVsUmF0aW8oKSx0aGlzLnNldFRyYW5zZm9ybSgpO2Vsc2V7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTt0LnN0eWxlLmNvbG9yPVwicmVkXCIsdC5zdHlsZS5mb250V2VpZ2h0PVwiYm9sZFwiLHQuc3R5bGUucGFkZGluZz1cIjEwcHhcIix0LmlubmVyVGV4dD1cIkVycm9yOiB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBIVE1MIGNhbnZhc1wiLHRoaXMuZnJhbWUuY2FudmFzLmFwcGVuZENoaWxkKHQpfXRoaXMuYm9keS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSksdGhpcy5ib2R5LnZpZXcuc2NhbGU9MSx0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbj17eDouNSp0aGlzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCx5Oi41KnRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodH0sdGhpcy5fYmluZEhhbW1lcigpfX0se2tleTpcIl9iaW5kSGFtbWVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3ZvaWQgMCE9PXRoaXMuaGFtbWVyJiZ0aGlzLmhhbW1lci5kZXN0cm95KCksdGhpcy5kcmFnPXt9LHRoaXMucGluY2g9e30sdGhpcy5oYW1tZXI9bmV3IHViKHRoaXMuZnJhbWUuY2FudmFzKSx0aGlzLmhhbW1lci5nZXQoXCJwaW5jaFwiKS5zZXQoe2VuYWJsZTohMH0pLHRoaXMuaGFtbWVyLmdldChcInBhblwiKS5zZXQoe3RocmVzaG9sZDo1LGRpcmVjdGlvbjp1Yi5ESVJFQ1RJT05fQUxMfSksRU8odGhpcy5oYW1tZXIsKGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vblRvdWNoKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwidGFwXCIsKGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vblRhcChlKX0pKSx0aGlzLmhhbW1lci5vbihcImRvdWJsZXRhcFwiLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Eb3VibGVUYXAoZSl9KSksdGhpcy5oYW1tZXIub24oXCJwcmVzc1wiLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Ib2xkKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicGFuc3RhcnRcIiwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRHJhZ1N0YXJ0KGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicGFubW92ZVwiLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnKGUpfSkpLHRoaXMuaGFtbWVyLm9uKFwicGFuZW5kXCIsKGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vbkRyYWdFbmQoZSl9KSksdGhpcy5oYW1tZXIub24oXCJwaW5jaFwiLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25QaW5jaChlKX0pKSx0aGlzLmZyYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uTW91c2VXaGVlbChlKX0pKSx0aGlzLmZyYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsKGZ1bmN0aW9uKGUpe3QuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlTW92ZShlKX0pKSx0aGlzLmZyYW1lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwoZnVuY3Rpb24oZSl7dC5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uQ29udGV4dChlKX0pKSx0aGlzLmhhbW1lckZyYW1lPW5ldyB1Yih0aGlzLmZyYW1lKSxPTyh0aGlzLmhhbW1lckZyYW1lLChmdW5jdGlvbihlKXt0LmJvZHkuZXZlbnRMaXN0ZW5lcnMub25SZWxlYXNlKGUpfSkpfX0se2tleTpcInNldFNpemVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp0aGlzLm9wdGlvbnMud2lkdGgsZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5vcHRpb25zLmhlaWdodDt0PXRoaXMuX3ByZXBhcmVWYWx1ZSh0KSxlPXRoaXMuX3ByZXBhcmVWYWx1ZShlKTt2YXIgaT0hMSxvPXRoaXMuZnJhbWUuY2FudmFzLndpZHRoLG49dGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0LHI9dGhpcy5waXhlbFJhdGlvO2lmKHRoaXMuX3NldFBpeGVsUmF0aW8oKSx0IT10aGlzLm9wdGlvbnMud2lkdGh8fGUhPXRoaXMub3B0aW9ucy5oZWlnaHR8fHRoaXMuZnJhbWUuc3R5bGUud2lkdGghPXR8fHRoaXMuZnJhbWUuc3R5bGUuaGVpZ2h0IT1lKXRoaXMuX2dldENhbWVyYVN0YXRlKHIpLHRoaXMuZnJhbWUuc3R5bGUud2lkdGg9dCx0aGlzLmZyYW1lLnN0eWxlLmhlaWdodD1lLHRoaXMuZnJhbWUuY2FudmFzLnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMuZnJhbWUuY2FudmFzLnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLmZyYW1lLmNhbnZhcy53aWR0aD1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoKnRoaXMucGl4ZWxSYXRpbyksdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0PU1hdGgucm91bmQodGhpcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0KnRoaXMucGl4ZWxSYXRpbyksdGhpcy5vcHRpb25zLndpZHRoPXQsdGhpcy5vcHRpb25zLmhlaWdodD1lLHRoaXMuY2FudmFzVmlld0NlbnRlcj17eDouNSp0aGlzLmZyYW1lLmNsaWVudFdpZHRoLHk6LjUqdGhpcy5mcmFtZS5jbGllbnRIZWlnaHR9LGk9ITA7ZWxzZXt2YXIgcz1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoKnRoaXMucGl4ZWxSYXRpbyksYT1NYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodCp0aGlzLnBpeGVsUmF0aW8pO3RoaXMuZnJhbWUuY2FudmFzLndpZHRoPT09cyYmdGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0PT09YXx8dGhpcy5fZ2V0Q2FtZXJhU3RhdGUociksdGhpcy5mcmFtZS5jYW52YXMud2lkdGghPT1zJiYodGhpcy5mcmFtZS5jYW52YXMud2lkdGg9cyxpPSEwKSx0aGlzLmZyYW1lLmNhbnZhcy5oZWlnaHQhPT1hJiYodGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0PWEsaT0hMCl9cmV0dXJuITA9PT1pJiYodGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJlc2l6ZVwiLHt3aWR0aDpNYXRoLnJvdW5kKHRoaXMuZnJhbWUuY2FudmFzLndpZHRoL3RoaXMucGl4ZWxSYXRpbyksaGVpZ2h0Ok1hdGgucm91bmQodGhpcy5mcmFtZS5jYW52YXMuaGVpZ2h0L3RoaXMucGl4ZWxSYXRpbyksb2xkV2lkdGg6TWF0aC5yb3VuZChvL3RoaXMucGl4ZWxSYXRpbyksb2xkSGVpZ2h0Ok1hdGgucm91bmQobi90aGlzLnBpeGVsUmF0aW8pfSksdGhpcy5fc2V0Q2FtZXJhU3RhdGUoKSksdGhpcy5pbml0aWFsaXplZD0hMCxpfX0se2tleTpcImdldENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyYW1lLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIil9fSx7a2V5OlwiX2RldGVybWluZVBpeGVsUmF0aW9cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Q29udGV4dCgpO2lmKHZvaWQgMD09PXQpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGdldCBjYW52YXggY29udGV4dFwiKTt2YXIgZT0xO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJihlPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKSxlLyh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8dC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW98fHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpb3x8MSl9fSx7a2V5OlwiX3NldFBpeGVsUmF0aW9cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGl4ZWxSYXRpbz10aGlzLl9kZXRlcm1pbmVQaXhlbFJhdGlvKCl9fSx7a2V5Olwic2V0VHJhbnNmb3JtXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldENvbnRleHQoKTtpZih2b2lkIDA9PT10KXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBnZXQgY2FudmF4IGNvbnRleHRcIik7dC5zZXRUcmFuc2Zvcm0odGhpcy5waXhlbFJhdGlvLDAsMCx0aGlzLnBpeGVsUmF0aW8sMCwwKX19LHtrZXk6XCJfWGNvbnZlcnRET010b0NhbnZhc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybih0LXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLngpL3RoaXMuYm9keS52aWV3LnNjYWxlfX0se2tleTpcIl9YY29udmVydENhbnZhc1RvRE9NXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdGhpcy5ib2R5LnZpZXcuc2NhbGUrdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueH19LHtrZXk6XCJfWWNvbnZlcnRET010b0NhbnZhc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybih0LXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnkpL3RoaXMuYm9keS52aWV3LnNjYWxlfX0se2tleTpcIl9ZY29udmVydENhbnZhc1RvRE9NXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdGhpcy5ib2R5LnZpZXcuc2NhbGUrdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueX19LHtrZXk6XCJjYW52YXNUb0RPTVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybnt4OnRoaXMuX1hjb252ZXJ0Q2FudmFzVG9ET00odC54KSx5OnRoaXMuX1ljb252ZXJ0Q2FudmFzVG9ET00odC55KX19fSx7a2V5OlwiRE9NdG9DYW52YXNcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDp0aGlzLl9YY29udmVydERPTXRvQ2FudmFzKHQueCkseTp0aGlzLl9ZY29udmVydERPTXRvQ2FudmFzKHQueSl9fX1dKSx0fSgpO3ZhciBTTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt2YXIgbyxuLHI9dGhpczt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuY2FudmFzPWksdGhpcy5hbmltYXRpb25TcGVlZD0xL3RoaXMucmVuZGVyUmVmcmVzaFJhdGUsdGhpcy5hbmltYXRpb25FYXNpbmdGdW5jdGlvbj1cImVhc2VJbk91dFF1aW50XCIsdGhpcy5lYXNpbmdUaW1lPTAsdGhpcy5zb3VyY2VTY2FsZT0wLHRoaXMudGFyZ2V0U2NhbGU9MCx0aGlzLnNvdXJjZVRyYW5zbGF0aW9uPTAsdGhpcy50YXJnZXRUcmFuc2xhdGlvbj0wLHRoaXMubG9ja2VkT25Ob2RlSWQ9dm9pZCAwLHRoaXMubG9ja2VkT25Ob2RlT2Zmc2V0PXZvaWQgMCx0aGlzLnRvdWNoVGltZT0wLHRoaXMudmlld0Z1bmN0aW9uPXZvaWQgMCx0aGlzLmJvZHkuZW1pdHRlci5vbihcImZpdFwiLFdvKG89dGhpcy5maXQpLmNhbGwobyx0aGlzKSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJhbmltYXRpb25GaW5pc2hlZFwiLChmdW5jdGlvbigpe3IuYm9keS5lbWl0dGVyLmVtaXQoXCJfc3RvcFJlbmRlcmluZ1wiKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcInVubG9ja05vZGVcIixXbyhuPXRoaXMucmVsZWFzZU5vZGUpLmNhbGwobix0aGlzKSl9cmV0dXJuIHd1KHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307dGhpcy5vcHRpb25zPXR9fSx7a2V5OlwiZml0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9d28oe25vZGVzOmUsbWluWm9vbUxldmVsOk51bWJlci5NSU5fVkFMVUUsbWF4Wm9vbUxldmVsOjF9LG51bGwhPXQ/dDp7fSk7aWYoIU9mKGkubm9kZXMpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJOb2RlcyBoYXMgdG8gYmUgYW4gYXJyYXkgb2YgaWRzLlwiKTtpZigwPT09aS5ub2Rlcy5sZW5ndGgmJihpLm5vZGVzPWUpLCEoXCJudW1iZXJcIj09dHlwZW9mIGkubWluWm9vbUxldmVsJiZpLm1pblpvb21MZXZlbD4wKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiTWluIHpvb20gbGV2ZWwgaGFzIHRvIGJlIGEgbnVtYmVyIGhpZ2hlciB0aGFuIHplcm8uXCIpO2lmKCEoXCJudW1iZXJcIj09dHlwZW9mIGkubWF4Wm9vbUxldmVsJiZpLm1pblpvb21MZXZlbDw9aS5tYXhab29tTGV2ZWwpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJNYXggem9vbSBsZXZlbCBoYXMgdG8gYmUgYSBudW1iZXIgaGlnaGVyIHRoYW4gbWluIHpvb20gbGV2ZWwuXCIpO3JldHVybiBpfSh0LHRoaXMuYm9keS5ub2RlSW5kaWNlcyk7dmFyIGksbyxuPXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCxyPXRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHQ7aWYoMD09PW58fDA9PT1yKW89MSxpPW1PLmdldFJhbmdlKHRoaXMuYm9keS5ub2Rlcyx0Lm5vZGVzKTtlbHNlIGlmKCEwPT09ZSl7dmFyIHM9MDtmb3IodmFyIGEgaW4gdGhpcy5ib2R5Lm5vZGVzKXtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5Lm5vZGVzLGEpKSEwPT09dGhpcy5ib2R5Lm5vZGVzW2FdLnByZWRlZmluZWRQb3NpdGlvbiYmKHMrPTEpfWlmKHM+LjUqdGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLmZpdCh0LCExKTtpPW1PLmdldFJhbmdlKHRoaXMuYm9keS5ub2Rlcyx0Lm5vZGVzKSxvPTEyLjY2Mi8odGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aCs3LjQxNDcpKy4wOTY0ODIyLG8qPU1hdGgubWluKG4vNjAwLHIvNjAwKX1lbHNle3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVzaXplTm9kZXNcIiksaT1tTy5nZXRSYW5nZSh0aGlzLmJvZHkubm9kZXMsdC5ub2Rlcyk7dmFyIGg9bi8oMS4xKk1hdGguYWJzKGkubWF4WC1pLm1pblgpKSxkPXIvKDEuMSpNYXRoLmFicyhpLm1heFktaS5taW5ZKSk7bz1oPD1kP2g6ZH1vPnQubWF4Wm9vbUxldmVsP289dC5tYXhab29tTGV2ZWw6bzx0Lm1pblpvb21MZXZlbCYmKG89dC5taW5ab29tTGV2ZWwpO3ZhciBsPXtwb3NpdGlvbjptTy5maW5kQ2VudGVyKGkpLHNjYWxlOm8sYW5pbWF0aW9uOnQuYW5pbWF0aW9ufTt0aGlzLm1vdmVUbyhsKX19LHtrZXk6XCJmb2N1c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZih2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdF0pe3ZhciBpPXt4OnRoaXMuYm9keS5ub2Rlc1t0XS54LHk6dGhpcy5ib2R5Lm5vZGVzW3RdLnl9O2UucG9zaXRpb249aSxlLmxvY2tlZE9uTm9kZT10LHRoaXMubW92ZVRvKGUpfWVsc2UgY29uc29sZS5lcnJvcihcIk5vZGU6IFwiK3QrXCIgY2Fubm90IGJlIGZvdW5kLlwiKX19LHtrZXk6XCJtb3ZlVG9cIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXtpZihudWxsIT10Lm9mZnNldCl7aWYobnVsbCE9dC5vZmZzZXQueCl7aWYodC5vZmZzZXQueD0rdC5vZmZzZXQueCwhVGsodC5vZmZzZXQueCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIG9wdGlvbiBcIm9mZnNldC54XCIgaGFzIHRvIGJlIGEgZmluaXRlIG51bWJlci4nKX1lbHNlIHQub2Zmc2V0Lng9MDtpZihudWxsIT10Lm9mZnNldC55KXtpZih0Lm9mZnNldC55PSt0Lm9mZnNldC55LCFUayh0Lm9mZnNldC55KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgb3B0aW9uIFwib2Zmc2V0LnlcIiBoYXMgdG8gYmUgYSBmaW5pdGUgbnVtYmVyLicpfWVsc2UgdC5vZmZzZXQueD0wfWVsc2UgdC5vZmZzZXQ9e3g6MCx5OjB9O2lmKG51bGwhPXQucG9zaXRpb24pe2lmKG51bGwhPXQucG9zaXRpb24ueCl7aWYodC5wb3NpdGlvbi54PSt0LnBvc2l0aW9uLngsIVRrKHQucG9zaXRpb24ueCkpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIG9wdGlvbiBcInBvc2l0aW9uLnhcIiBoYXMgdG8gYmUgYSBmaW5pdGUgbnVtYmVyLicpfWVsc2UgdC5wb3NpdGlvbi54PTA7aWYobnVsbCE9dC5wb3NpdGlvbi55KXtpZih0LnBvc2l0aW9uLnk9K3QucG9zaXRpb24ueSwhVGsodC5wb3NpdGlvbi55KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgb3B0aW9uIFwicG9zaXRpb24ueVwiIGhhcyB0byBiZSBhIGZpbml0ZSBudW1iZXIuJyl9ZWxzZSB0LnBvc2l0aW9uLng9MH1lbHNlIHQucG9zaXRpb249dGhpcy5nZXRWaWV3UG9zaXRpb24oKTtpZihudWxsIT10LnNjYWxlKXtpZih0LnNjYWxlPSt0LnNjYWxlLCEodC5zY2FsZT4wKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgb3B0aW9uIFwic2NhbGVcIiBoYXMgdG8gYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIHplcm8uJyl9ZWxzZSB0LnNjYWxlPXRoaXMuYm9keS52aWV3LnNjYWxlO3ZvaWQgMD09PXQuYW5pbWF0aW9uJiYodC5hbmltYXRpb249e2R1cmF0aW9uOjB9KSwhMT09PXQuYW5pbWF0aW9uJiYodC5hbmltYXRpb249e2R1cmF0aW9uOjB9KSwhMD09PXQuYW5pbWF0aW9uJiYodC5hbmltYXRpb249e30pLHZvaWQgMD09PXQuYW5pbWF0aW9uLmR1cmF0aW9uJiYodC5hbmltYXRpb24uZHVyYXRpb249MWUzKSx2b2lkIDA9PT10LmFuaW1hdGlvbi5lYXNpbmdGdW5jdGlvbiYmKHQuYW5pbWF0aW9uLmVhc2luZ0Z1bmN0aW9uPVwiZWFzZUluT3V0UXVhZFwiKSx0aGlzLmFuaW1hdGVWaWV3KHQpfWVsc2UgdD17fX19LHtrZXk6XCJhbmltYXRlVmlld1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXQpe3RoaXMuYW5pbWF0aW9uRWFzaW5nRnVuY3Rpb249dC5hbmltYXRpb24uZWFzaW5nRnVuY3Rpb24sdGhpcy5yZWxlYXNlTm9kZSgpLCEwPT09dC5sb2NrZWQmJih0aGlzLmxvY2tlZE9uTm9kZUlkPXQubG9ja2VkT25Ob2RlLHRoaXMubG9ja2VkT25Ob2RlT2Zmc2V0PXQub2Zmc2V0KSwwIT10aGlzLmVhc2luZ1RpbWUmJnRoaXMuX3RyYW5zaXRpb25SZWRyYXcoITApLHRoaXMuc291cmNlU2NhbGU9dGhpcy5ib2R5LnZpZXcuc2NhbGUsdGhpcy5zb3VyY2VUcmFuc2xhdGlvbj10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbix0aGlzLnRhcmdldFNjYWxlPXQuc2NhbGUsdGhpcy5ib2R5LnZpZXcuc2NhbGU9dGhpcy50YXJnZXRTY2FsZTt2YXIgZSxpLG89dGhpcy5jYW52YXMuRE9NdG9DYW52YXMoe3g6LjUqdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudFdpZHRoLHk6LjUqdGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLmNsaWVudEhlaWdodH0pLG49by54LXQucG9zaXRpb24ueCxyPW8ueS10LnBvc2l0aW9uLnk7aWYodGhpcy50YXJnZXRUcmFuc2xhdGlvbj17eDp0aGlzLnNvdXJjZVRyYW5zbGF0aW9uLngrbip0aGlzLnRhcmdldFNjYWxlK3Qub2Zmc2V0LngseTp0aGlzLnNvdXJjZVRyYW5zbGF0aW9uLnkrcip0aGlzLnRhcmdldFNjYWxlK3Qub2Zmc2V0Lnl9LDA9PT10LmFuaW1hdGlvbi5kdXJhdGlvbilpZihudWxsIT10aGlzLmxvY2tlZE9uTm9kZUlkKXRoaXMudmlld0Z1bmN0aW9uPVdvKGU9dGhpcy5fbG9ja2VkUmVkcmF3KS5jYWxsKGUsdGhpcyksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJpbml0UmVkcmF3XCIsdGhpcy52aWV3RnVuY3Rpb24pO2Vsc2UgdGhpcy5ib2R5LnZpZXcuc2NhbGU9dGhpcy50YXJnZXRTY2FsZSx0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbj10aGlzLnRhcmdldFRyYW5zbGF0aW9uLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKTtlbHNlIHRoaXMuYW5pbWF0aW9uU3BlZWQ9MS8oNjAqdC5hbmltYXRpb24uZHVyYXRpb24qLjAwMSl8fDEvNjAsdGhpcy5hbmltYXRpb25FYXNpbmdGdW5jdGlvbj10LmFuaW1hdGlvbi5lYXNpbmdGdW5jdGlvbix0aGlzLnZpZXdGdW5jdGlvbj1XbyhpPXRoaXMuX3RyYW5zaXRpb25SZWRyYXcpLmNhbGwoaSx0aGlzKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImluaXRSZWRyYXdcIix0aGlzLnZpZXdGdW5jdGlvbiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9zdGFydFJlbmRlcmluZ1wiKX19fSx7a2V5OlwiX2xvY2tlZFJlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5Lm5vZGVzW3RoaXMubG9ja2VkT25Ob2RlSWRdLngsZT10aGlzLmJvZHkubm9kZXNbdGhpcy5sb2NrZWRPbk5vZGVJZF0ueSxpPXRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKHt4Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRXaWR0aCx5Oi41KnRoaXMuY2FudmFzLmZyYW1lLmNhbnZhcy5jbGllbnRIZWlnaHR9KSxvPWkueC10LG49aS55LWUscj10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbixzPXt4OnIueCtvKnRoaXMuYm9keS52aWV3LnNjYWxlK3RoaXMubG9ja2VkT25Ob2RlT2Zmc2V0LngseTpyLnkrbip0aGlzLmJvZHkudmlldy5zY2FsZSt0aGlzLmxvY2tlZE9uTm9kZU9mZnNldC55fTt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbj1zfX0se2tleTpcInJlbGVhc2VOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLmxvY2tlZE9uTm9kZUlkJiZ2b2lkIDAhPT10aGlzLnZpZXdGdW5jdGlvbiYmKHRoaXMuYm9keS5lbWl0dGVyLm9mZihcImluaXRSZWRyYXdcIix0aGlzLnZpZXdGdW5jdGlvbiksdGhpcy5sb2NrZWRPbk5vZGVJZD12b2lkIDAsdGhpcy5sb2NrZWRPbk5vZGVPZmZzZXQ9dm9pZCAwKX19LHtrZXk6XCJfdHJhbnNpdGlvblJlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0aGlzLmVhc2luZ1RpbWUrPXRoaXMuYW5pbWF0aW9uU3BlZWQsdGhpcy5lYXNpbmdUaW1lPSEwPT09dD8xOnRoaXMuZWFzaW5nVGltZTt2YXIgZT1KbVt0aGlzLmFuaW1hdGlvbkVhc2luZ0Z1bmN0aW9uXSh0aGlzLmVhc2luZ1RpbWUpO2lmKHRoaXMuYm9keS52aWV3LnNjYWxlPXRoaXMuc291cmNlU2NhbGUrKHRoaXMudGFyZ2V0U2NhbGUtdGhpcy5zb3VyY2VTY2FsZSkqZSx0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbj17eDp0aGlzLnNvdXJjZVRyYW5zbGF0aW9uLngrKHRoaXMudGFyZ2V0VHJhbnNsYXRpb24ueC10aGlzLnNvdXJjZVRyYW5zbGF0aW9uLngpKmUseTp0aGlzLnNvdXJjZVRyYW5zbGF0aW9uLnkrKHRoaXMudGFyZ2V0VHJhbnNsYXRpb24ueS10aGlzLnNvdXJjZVRyYW5zbGF0aW9uLnkpKmV9LHRoaXMuZWFzaW5nVGltZT49MSl7dmFyIGk7aWYodGhpcy5ib2R5LmVtaXR0ZXIub2ZmKFwiaW5pdFJlZHJhd1wiLHRoaXMudmlld0Z1bmN0aW9uKSx0aGlzLmVhc2luZ1RpbWU9MCxudWxsIT10aGlzLmxvY2tlZE9uTm9kZUlkKXRoaXMudmlld0Z1bmN0aW9uPVdvKGk9dGhpcy5fbG9ja2VkUmVkcmF3KS5jYWxsKGksdGhpcyksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJpbml0UmVkcmF3XCIsdGhpcy52aWV3RnVuY3Rpb24pO3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJhbmltYXRpb25GaW5pc2hlZFwiKX19fSx7a2V5OlwiZ2V0U2NhbGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHkudmlldy5zY2FsZX19LHtrZXk6XCJnZXRWaWV3UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5ET010b0NhbnZhcyh7eDouNSp0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50V2lkdGgseTouNSp0aGlzLmNhbnZhcy5mcmFtZS5jYW52YXMuY2xpZW50SGVpZ2h0fSl9fV0pLHR9KCk7ZnVuY3Rpb24gVE8odCl7dmFyIGUsaT10JiZ0LnByZXZlbnREZWZhdWx0fHwhMSxvPXQmJnQuY29udGFpbmVyfHx3aW5kb3csbj17fSxyPXtrZXlkb3duOnt9LGtleXVwOnt9fSxzPXt9O2ZvcihlPTk3O2U8PTEyMjtlKyspc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGUpXT17Y29kZTplLTk3KzY1LHNoaWZ0OiExfTtmb3IoZT02NTtlPD05MDtlKyspc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGUpXT17Y29kZTplLHNoaWZ0OiEwfTtmb3IoZT0wO2U8PTk7ZSsrKXNbXCJcIitlXT17Y29kZTo0OCtlLHNoaWZ0OiExfTtmb3IoZT0xO2U8PTEyO2UrKylzW1wiRlwiK2VdPXtjb2RlOjExMStlLHNoaWZ0OiExfTtmb3IoZT0wO2U8PTk7ZSsrKXNbXCJudW1cIitlXT17Y29kZTo5NitlLHNoaWZ0OiExfTtzW1wibnVtKlwiXT17Y29kZToxMDYsc2hpZnQ6ITF9LHNbXCJudW0rXCJdPXtjb2RlOjEwNyxzaGlmdDohMX0sc1tcIm51bS1cIl09e2NvZGU6MTA5LHNoaWZ0OiExfSxzW1wibnVtL1wiXT17Y29kZToxMTEsc2hpZnQ6ITF9LHNbXCJudW0uXCJdPXtjb2RlOjExMCxzaGlmdDohMX0scy5sZWZ0PXtjb2RlOjM3LHNoaWZ0OiExfSxzLnVwPXtjb2RlOjM4LHNoaWZ0OiExfSxzLnJpZ2h0PXtjb2RlOjM5LHNoaWZ0OiExfSxzLmRvd249e2NvZGU6NDAsc2hpZnQ6ITF9LHMuc3BhY2U9e2NvZGU6MzIsc2hpZnQ6ITF9LHMuZW50ZXI9e2NvZGU6MTMsc2hpZnQ6ITF9LHMuc2hpZnQ9e2NvZGU6MTYsc2hpZnQ6dm9pZCAwfSxzLmVzYz17Y29kZToyNyxzaGlmdDohMX0scy5iYWNrc3BhY2U9e2NvZGU6OCxzaGlmdDohMX0scy50YWI9e2NvZGU6OSxzaGlmdDohMX0scy5jdHJsPXtjb2RlOjE3LHNoaWZ0OiExfSxzLmFsdD17Y29kZToxOCxzaGlmdDohMX0scy5kZWxldGU9e2NvZGU6NDYsc2hpZnQ6ITF9LHMucGFnZXVwPXtjb2RlOjMzLHNoaWZ0OiExfSxzLnBhZ2Vkb3duPXtjb2RlOjM0LHNoaWZ0OiExfSxzW1wiPVwiXT17Y29kZToxODcsc2hpZnQ6ITF9LHNbXCItXCJdPXtjb2RlOjE4OSxzaGlmdDohMX0sc1tcIl1cIl09e2NvZGU6MjIxLHNoaWZ0OiExfSxzW1wiW1wiXT17Y29kZToyMTksc2hpZnQ6ITF9O3ZhciBhPWZ1bmN0aW9uKHQpe2QodCxcImtleWRvd25cIil9LGg9ZnVuY3Rpb24odCl7ZCh0LFwia2V5dXBcIil9LGQ9ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT1yW2VdW3Qua2V5Q29kZV0pe2Zvcih2YXIgbz1yW2VdW3Qua2V5Q29kZV0sbj0wO248by5sZW5ndGg7bisrKSh2b2lkIDA9PT1vW25dLnNoaWZ0fHwxPT1vW25dLnNoaWZ0JiYxPT10LnNoaWZ0S2V5fHwwPT1vW25dLnNoaWZ0JiYwPT10LnNoaWZ0S2V5KSYmb1tuXS5mbih0KTsxPT1pJiZ0LnByZXZlbnREZWZhdWx0KCl9fTtyZXR1cm4gbi5iaW5kPWZ1bmN0aW9uKHQsZSxpKXtpZih2b2lkIDA9PT1pJiYoaT1cImtleWRvd25cIiksdm9pZCAwPT09c1t0XSl0aHJvdyBuZXcgRXJyb3IoXCJ1bnN1cHBvcnRlZCBrZXk6IFwiK3QpO3ZvaWQgMD09PXJbaV1bc1t0XS5jb2RlXSYmKHJbaV1bc1t0XS5jb2RlXT1bXSkscltpXVtzW3RdLmNvZGVdLnB1c2goe2ZuOmUsc2hpZnQ6c1t0XS5zaGlmdH0pfSxuLmJpbmRBbGw9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gdm9pZCAwPT09ZSYmKGU9XCJrZXlkb3duXCIpLHMpcy5oYXNPd25Qcm9wZXJ0eShpKSYmbi5iaW5kKGksdCxlKX0sbi5nZXRLZXk9ZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHMpaWYocy5oYXNPd25Qcm9wZXJ0eShlKSl7aWYoMT09dC5zaGlmdEtleSYmMT09c1tlXS5zaGlmdCYmdC5rZXlDb2RlPT1zW2VdLmNvZGUpcmV0dXJuIGU7aWYoMD09dC5zaGlmdEtleSYmMD09c1tlXS5zaGlmdCYmdC5rZXlDb2RlPT1zW2VdLmNvZGUpcmV0dXJuIGU7aWYodC5rZXlDb2RlPT1zW2VdLmNvZGUmJlwic2hpZnRcIj09ZSlyZXR1cm4gZX1yZXR1cm5cInVua25vd24ga2V5LCBjdXJyZW50bHkgbm90IHN1cHBvcnRlZFwifSxuLnVuYmluZD1mdW5jdGlvbih0LGUsaSl7aWYodm9pZCAwPT09aSYmKGk9XCJrZXlkb3duXCIpLHZvaWQgMD09PXNbdF0pdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWQga2V5OiBcIit0KTtpZih2b2lkIDAhPT1lKXt2YXIgbz1bXSxuPXJbaV1bc1t0XS5jb2RlXTtpZih2b2lkIDAhPT1uKWZvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKW5bYV0uZm49PWUmJm5bYV0uc2hpZnQ9PXNbdF0uc2hpZnR8fG8ucHVzaChyW2ldW3NbdF0uY29kZV1bYV0pO3JbaV1bc1t0XS5jb2RlXT1vfWVsc2UgcltpXVtzW3RdLmNvZGVdPVtdfSxuLnJlc2V0PWZ1bmN0aW9uKCl7cj17a2V5ZG93bjp7fSxrZXl1cDp7fX19LG4uZGVzdHJveT1mdW5jdGlvbigpe3I9e2tleWRvd246e30sa2V5dXA6e319LG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixhLCEwKSxvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGgsITApfSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsYSwhMCksby5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixoLCEwKSxufXZhciBNTz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt2YXIgbz10aGlzO3ZoKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5jYW52YXM9aSx0aGlzLmljb25zQ3JlYXRlZD0hMSx0aGlzLm5hdmlnYXRpb25IYW1tZXJzPVtdLHRoaXMuYm91bmRGdW5jdGlvbnM9e30sdGhpcy50b3VjaFRpbWU9MCx0aGlzLmFjdGl2YXRlZD0hMSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImFjdGl2YXRlXCIsKGZ1bmN0aW9uKCl7by5hY3RpdmF0ZWQ9ITAsby5jb25maWd1cmVLZXlib2FyZEJpbmRpbmdzKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZWFjdGl2YXRlXCIsKGZ1bmN0aW9uKCl7by5hY3RpdmF0ZWQ9ITEsby5jb25maWd1cmVLZXlib2FyZEJpbmRpbmdzKCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJkZXN0cm95XCIsKGZ1bmN0aW9uKCl7dm9pZCAwIT09by5rZXljaGFybSYmby5rZXljaGFybS5kZXN0cm95KCl9KSksdGhpcy5vcHRpb25zPXt9fXJldHVybiB3dSh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQmJih0aGlzLm9wdGlvbnM9dCx0aGlzLmNyZWF0ZSgpKX19LHtrZXk6XCJjcmVhdGVcIix2YWx1ZTpmdW5jdGlvbigpeyEwPT09dGhpcy5vcHRpb25zLm5hdmlnYXRpb25CdXR0b25zPyExPT09dGhpcy5pY29uc0NyZWF0ZWQmJnRoaXMubG9hZE5hdmlnYXRpb25FbGVtZW50cygpOiEwPT09dGhpcy5pY29uc0NyZWF0ZWQmJnRoaXMuY2xlYW5OYXZpZ2F0aW9uKCksdGhpcy5jb25maWd1cmVLZXlib2FyZEJpbmRpbmdzKCl9fSx7a2V5OlwiY2xlYW5OYXZpZ2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZigwIT10aGlzLm5hdmlnYXRpb25IYW1tZXJzLmxlbmd0aCl7Zm9yKHZhciB0PTA7dDx0aGlzLm5hdmlnYXRpb25IYW1tZXJzLmxlbmd0aDt0KyspdGhpcy5uYXZpZ2F0aW9uSGFtbWVyc1t0XS5kZXN0cm95KCk7dGhpcy5uYXZpZ2F0aW9uSGFtbWVycz1bXX10aGlzLm5hdmlnYXRpb25ET00mJnRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyJiZ0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlci5wYXJlbnROb2RlJiZ0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyKSx0aGlzLmljb25zQ3JlYXRlZD0hMX19LHtrZXk6XCJsb2FkTmF2aWdhdGlvbkVsZW1lbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuY2xlYW5OYXZpZ2F0aW9uKCksdGhpcy5uYXZpZ2F0aW9uRE9NPXt9O3ZhciBlPVtcInVwXCIsXCJkb3duXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiem9vbUluXCIsXCJ6b29tT3V0XCIsXCJ6b29tRXh0ZW5kc1wiXSxpPVtcIl9tb3ZlVXBcIixcIl9tb3ZlRG93blwiLFwiX21vdmVMZWZ0XCIsXCJfbW92ZVJpZ2h0XCIsXCJfem9vbUluXCIsXCJfem9vbU91dFwiLFwiX2ZpdFwiXTt0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubmF2aWdhdGlvbkRPTS53cmFwcGVyLmNsYXNzTmFtZT1cInZpcy1uYXZpZ2F0aW9uXCIsdGhpcy5jYW52YXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5uYXZpZ2F0aW9uRE9NLndyYXBwZXIpO2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bysrKXt0aGlzLm5hdmlnYXRpb25ET01bZVtvXV09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm5hdmlnYXRpb25ET01bZVtvXV0uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiB2aXMtXCIrZVtvXSx0aGlzLm5hdmlnYXRpb25ET00ud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLm5hdmlnYXRpb25ET01bZVtvXV0pO3ZhciBuLHIscz1uZXcgdWIodGhpcy5uYXZpZ2F0aW9uRE9NW2Vbb11dKTtpZihcIl9maXRcIj09PWlbb10pRU8ocyxXbyhuPXRoaXMuX2ZpdCkuY2FsbChuLHRoaXMpKTtlbHNlIEVPKHMsV28ocj10aGlzLmJpbmRUb1JlZHJhdykuY2FsbChyLHRoaXMsaVtvXSkpO3RoaXMubmF2aWdhdGlvbkhhbW1lcnMucHVzaChzKX12YXIgYT1uZXcgdWIodGhpcy5jYW52YXMuZnJhbWUpO09PKGEsKGZ1bmN0aW9uKCl7dC5fc3RvcE1vdmVtZW50KCl9KSksdGhpcy5uYXZpZ2F0aW9uSGFtbWVycy5wdXNoKGEpLHRoaXMuaWNvbnNDcmVhdGVkPSEwfX0se2tleTpcImJpbmRUb1JlZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3ZvaWQgMD09PXRoaXMuYm91bmRGdW5jdGlvbnNbdF0mJih0aGlzLmJvdW5kRnVuY3Rpb25zW3RdPVdvKGU9dGhpc1t0XSkuY2FsbChlLHRoaXMpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiaW5pdFJlZHJhd1wiLHRoaXMuYm91bmRGdW5jdGlvbnNbdF0pLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfc3RhcnRSZW5kZXJpbmdcIikpfX0se2tleTpcInVuYmluZEZyb21SZWRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXt2b2lkIDAhPT10aGlzLmJvdW5kRnVuY3Rpb25zW3RdJiYodGhpcy5ib2R5LmVtaXR0ZXIub2ZmKFwiaW5pdFJlZHJhd1wiLHRoaXMuYm91bmRGdW5jdGlvbnNbdF0pLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfc3RvcFJlbmRlcmluZ1wiKSxkZWxldGUgdGhpcy5ib3VuZEZ1bmN0aW9uc1t0XSl9fSx7a2V5OlwiX2ZpdFwiLHZhbHVlOmZ1bmN0aW9uKCl7KG5ldyBEYXRlKS52YWx1ZU9mKCktdGhpcy50b3VjaFRpbWU+NzAwJiYodGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImZpdFwiLHtkdXJhdGlvbjo3MDB9KSx0aGlzLnRvdWNoVGltZT0obmV3IERhdGUpLnZhbHVlT2YoKSl9fSx7a2V5OlwiX3N0b3BNb3ZlbWVudFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYm91bmRGdW5jdGlvbnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm91bmRGdW5jdGlvbnMsdCkmJih0aGlzLmJvZHkuZW1pdHRlci5vZmYoXCJpbml0UmVkcmF3XCIsdGhpcy5ib3VuZEZ1bmN0aW9uc1t0XSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9zdG9wUmVuZGVyaW5nXCIpKTt0aGlzLmJvdW5kRnVuY3Rpb25zPXt9fX0se2tleTpcIl9tb3ZlVXBcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLnkrPXRoaXMub3B0aW9ucy5rZXlib2FyZC5zcGVlZC55fX0se2tleTpcIl9tb3ZlRG93blwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24ueS09dGhpcy5vcHRpb25zLmtleWJvYXJkLnNwZWVkLnl9fSx7a2V5OlwiX21vdmVMZWZ0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54Kz10aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQueH19LHtrZXk6XCJfbW92ZVJpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbi54LT10aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQueH19LHtrZXk6XCJfem9vbUluXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJvZHkudmlldy5zY2FsZSxlPXRoaXMuYm9keS52aWV3LnNjYWxlKigxK3RoaXMub3B0aW9ucy5rZXlib2FyZC5zcGVlZC56b29tKSxpPXRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uLG89ZS90LG49KDEtbykqdGhpcy5jYW52YXMuY2FudmFzVmlld0NlbnRlci54K2kueCpvLHI9KDEtbykqdGhpcy5jYW52YXMuY2FudmFzVmlld0NlbnRlci55K2kueSpvO3RoaXMuYm9keS52aWV3LnNjYWxlPWUsdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb249e3g6bix5OnJ9LHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJ6b29tXCIse2RpcmVjdGlvbjpcIitcIixzY2FsZTp0aGlzLmJvZHkudmlldy5zY2FsZSxwb2ludGVyOm51bGx9KX19LHtrZXk6XCJfem9vbU91dFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5LnZpZXcuc2NhbGUsZT10aGlzLmJvZHkudmlldy5zY2FsZS8oMSt0aGlzLm9wdGlvbnMua2V5Ym9hcmQuc3BlZWQuem9vbSksaT10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbixvPWUvdCxuPSgxLW8pKnRoaXMuY2FudmFzLmNhbnZhc1ZpZXdDZW50ZXIueCtpLngqbyxyPSgxLW8pKnRoaXMuY2FudmFzLmNhbnZhc1ZpZXdDZW50ZXIueStpLnkqbzt0aGlzLmJvZHkudmlldy5zY2FsZT1lLHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4Om4seTpyfSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiem9vbVwiLHtkaXJlY3Rpb246XCItXCIsc2NhbGU6dGhpcy5ib2R5LnZpZXcuc2NhbGUscG9pbnRlcjpudWxsfSl9fSx7a2V5OlwiY29uZmlndXJlS2V5Ym9hcmRCaW5kaW5nc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQsZSxpLG8sbixyLHMsYSxoLGQsbCxjLHUsZixwLHYsZyx5LG0sYix3LGssXyx4LEU9dGhpczsodm9pZCAwIT09dGhpcy5rZXljaGFybSYmdGhpcy5rZXljaGFybS5kZXN0cm95KCksITA9PT10aGlzLm9wdGlvbnMua2V5Ym9hcmQuZW5hYmxlZCkmJighMD09PXRoaXMub3B0aW9ucy5rZXlib2FyZC5iaW5kVG9XaW5kb3c/dGhpcy5rZXljaGFybT1UTyh7Y29udGFpbmVyOndpbmRvdyxwcmV2ZW50RGVmYXVsdDohMH0pOnRoaXMua2V5Y2hhcm09VE8oe2NvbnRhaW5lcjp0aGlzLmNhbnZhcy5mcmFtZSxwcmV2ZW50RGVmYXVsdDohMH0pLHRoaXMua2V5Y2hhcm0ucmVzZXQoKSwhMD09PXRoaXMuYWN0aXZhdGVkJiYoV28odD10aGlzLmtleWNoYXJtKS5jYWxsKHQsXCJ1cFwiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX21vdmVVcFwiKX0pLFwia2V5ZG93blwiKSxXbyhlPXRoaXMua2V5Y2hhcm0pLmNhbGwoZSxcImRvd25cIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl9tb3ZlRG93blwiKX0pLFwia2V5ZG93blwiKSxXbyhpPXRoaXMua2V5Y2hhcm0pLmNhbGwoaSxcImxlZnRcIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl9tb3ZlTGVmdFwiKX0pLFwia2V5ZG93blwiKSxXbyhvPXRoaXMua2V5Y2hhcm0pLmNhbGwobyxcInJpZ2h0XCIsKGZ1bmN0aW9uKCl7RS5iaW5kVG9SZWRyYXcoXCJfbW92ZVJpZ2h0XCIpfSksXCJrZXlkb3duXCIpLFdvKG49dGhpcy5rZXljaGFybSkuY2FsbChuLFwiPVwiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX3pvb21JblwiKX0pLFwia2V5ZG93blwiKSxXbyhyPXRoaXMua2V5Y2hhcm0pLmNhbGwocixcIm51bStcIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl96b29tSW5cIil9KSxcImtleWRvd25cIiksV28ocz10aGlzLmtleWNoYXJtKS5jYWxsKHMsXCJudW0tXCIsKGZ1bmN0aW9uKCl7RS5iaW5kVG9SZWRyYXcoXCJfem9vbU91dFwiKX0pLFwia2V5ZG93blwiKSxXbyhhPXRoaXMua2V5Y2hhcm0pLmNhbGwoYSxcIi1cIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl96b29tT3V0XCIpfSksXCJrZXlkb3duXCIpLFdvKGg9dGhpcy5rZXljaGFybSkuY2FsbChoLFwiW1wiLChmdW5jdGlvbigpe0UuYmluZFRvUmVkcmF3KFwiX3pvb21PdXRcIil9KSxcImtleWRvd25cIiksV28oZD10aGlzLmtleWNoYXJtKS5jYWxsKGQsXCJdXCIsKGZ1bmN0aW9uKCl7RS5iaW5kVG9SZWRyYXcoXCJfem9vbUluXCIpfSksXCJrZXlkb3duXCIpLFdvKGw9dGhpcy5rZXljaGFybSkuY2FsbChsLFwicGFnZXVwXCIsKGZ1bmN0aW9uKCl7RS5iaW5kVG9SZWRyYXcoXCJfem9vbUluXCIpfSksXCJrZXlkb3duXCIpLFdvKGM9dGhpcy5rZXljaGFybSkuY2FsbChjLFwicGFnZWRvd25cIiwoZnVuY3Rpb24oKXtFLmJpbmRUb1JlZHJhdyhcIl96b29tT3V0XCIpfSksXCJrZXlkb3duXCIpLFdvKHU9dGhpcy5rZXljaGFybSkuY2FsbCh1LFwidXBcIiwoZnVuY3Rpb24oKXtFLnVuYmluZEZyb21SZWRyYXcoXCJfbW92ZVVwXCIpfSksXCJrZXl1cFwiKSxXbyhmPXRoaXMua2V5Y2hhcm0pLmNhbGwoZixcImRvd25cIiwoZnVuY3Rpb24oKXtFLnVuYmluZEZyb21SZWRyYXcoXCJfbW92ZURvd25cIil9KSxcImtleXVwXCIpLFdvKHA9dGhpcy5rZXljaGFybSkuY2FsbChwLFwibGVmdFwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl9tb3ZlTGVmdFwiKX0pLFwia2V5dXBcIiksV28odj10aGlzLmtleWNoYXJtKS5jYWxsKHYsXCJyaWdodFwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl9tb3ZlUmlnaHRcIil9KSxcImtleXVwXCIpLFdvKGc9dGhpcy5rZXljaGFybSkuY2FsbChnLFwiPVwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tSW5cIil9KSxcImtleXVwXCIpLFdvKHk9dGhpcy5rZXljaGFybSkuY2FsbCh5LFwibnVtK1wiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tSW5cIil9KSxcImtleXVwXCIpLFdvKG09dGhpcy5rZXljaGFybSkuY2FsbChtLFwibnVtLVwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tT3V0XCIpfSksXCJrZXl1cFwiKSxXbyhiPXRoaXMua2V5Y2hhcm0pLmNhbGwoYixcIi1cIiwoZnVuY3Rpb24oKXtFLnVuYmluZEZyb21SZWRyYXcoXCJfem9vbU91dFwiKX0pLFwia2V5dXBcIiksV28odz10aGlzLmtleWNoYXJtKS5jYWxsKHcsXCJbXCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21PdXRcIil9KSxcImtleXVwXCIpLFdvKGs9dGhpcy5rZXljaGFybSkuY2FsbChrLFwiXVwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tSW5cIil9KSxcImtleXVwXCIpLFdvKF89dGhpcy5rZXljaGFybSkuY2FsbChfLFwicGFnZXVwXCIsKGZ1bmN0aW9uKCl7RS51bmJpbmRGcm9tUmVkcmF3KFwiX3pvb21JblwiKX0pLFwia2V5dXBcIiksV28oeD10aGlzLmtleWNoYXJtKS5jYWxsKHgsXCJwYWdlZG93blwiLChmdW5jdGlvbigpe0UudW5iaW5kRnJvbVJlZHJhdyhcIl96b29tT3V0XCIpfSksXCJrZXl1cFwiKSkpfX1dKSx0fSgpO2Z1bmN0aW9uIFBPKHQsZSl7dmFyIGk9dm9pZCAwIT09Y2YmJnBoKHQpfHx0W1wiQEBpdGVyYXRvclwiXTtpZighaSl7aWYoT2YodCl8fChpPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoIXQpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBETyh0LGUpO3ZhciBvPW1mKGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKGksOCwtMSk7XCJPYmplY3RcIj09PW8mJnQuY29uc3RydWN0b3ImJihvPXQuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW98fFwiU2V0XCI9PT1vKXJldHVybiBYYSh0KTtpZihcIkFyZ3VtZW50c1wiPT09b3x8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobykpcmV0dXJuIERPKHQsZSl9KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtpJiYodD1pKTt2YXIgbz0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBvPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtvKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgcixzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtpPWkuY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PWkubmV4dCgpO3JldHVybiBzPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe2E9ITAscj10fSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyByfX19fWZ1bmN0aW9uIERPKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBpPTAsbz1uZXcgQXJyYXkoZSk7aTxlO2krKylvW2ldPXRbaV07cmV0dXJuIG99dmFyIElPPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLGksbyl7dmFyIG4scixzLGEsaCxkLGwsYyx1LGYscCx2LGc7dmgodGhpcyx0KSx0aGlzLmJvZHk9ZSx0aGlzLmNhbnZhcz1pLHRoaXMuc2VsZWN0aW9uSGFuZGxlcj1vLHRoaXMubmF2aWdhdGlvbkhhbmRsZXI9bmV3IE1PKGUsaSksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uVGFwPVdvKG49dGhpcy5vblRhcCkuY2FsbChuLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vblRvdWNoPVdvKHI9dGhpcy5vblRvdWNoKS5jYWxsKHIsdGhpcyksdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzLm9uRG91YmxlVGFwPVdvKHM9dGhpcy5vbkRvdWJsZVRhcCkuY2FsbChzLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkhvbGQ9V28oYT10aGlzLm9uSG9sZCkuY2FsbChhLHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbkRyYWdTdGFydD1XbyhoPXRoaXMub25EcmFnU3RhcnQpLmNhbGwoaCx0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnPVdvKGQ9dGhpcy5vbkRyYWcpLmNhbGwoZCx0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25EcmFnRW5kPVdvKGw9dGhpcy5vbkRyYWdFbmQpLmNhbGwobCx0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Nb3VzZVdoZWVsPVdvKGM9dGhpcy5vbk1vdXNlV2hlZWwpLmNhbGwoYyx0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25QaW5jaD1Xbyh1PXRoaXMub25QaW5jaCkuY2FsbCh1LHRoaXMpLHRoaXMuYm9keS5ldmVudExpc3RlbmVycy5vbk1vdXNlTW92ZT1XbyhmPXRoaXMub25Nb3VzZU1vdmUpLmNhbGwoZix0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25SZWxlYXNlPVdvKHA9dGhpcy5vblJlbGVhc2UpLmNhbGwocCx0aGlzKSx0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMub25Db250ZXh0PVdvKHY9dGhpcy5vbkNvbnRleHQpLmNhbGwodix0aGlzKSx0aGlzLnRvdWNoVGltZT0wLHRoaXMuZHJhZz17fSx0aGlzLnBpbmNoPXt9LHRoaXMucG9wdXA9dm9pZCAwLHRoaXMucG9wdXBPYmo9dm9pZCAwLHRoaXMucG9wdXBUaW1lcj12b2lkIDAsdGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyPVdvKGc9dGhpcy5nZXRQb2ludGVyKS5jYWxsKGcsdGhpcyksdGhpcy5vcHRpb25zPXt9LHRoaXMuZGVmYXVsdE9wdGlvbnM9e2RyYWdOb2RlczohMCxkcmFnVmlldzohMCxob3ZlcjohMSxrZXlib2FyZDp7ZW5hYmxlZDohMSxzcGVlZDp7eDoxMCx5OjEwLHpvb206LjAyfSxiaW5kVG9XaW5kb3c6ITAsYXV0b0ZvY3VzOiEwfSxuYXZpZ2F0aW9uQnV0dG9uczohMSx0b29sdGlwRGVsYXk6MzAwLHpvb21WaWV3OiEwLHpvb21TcGVlZDoxfSx3byh0aGlzLm9wdGlvbnMsdGhpcy5kZWZhdWx0T3B0aW9ucyksdGhpcy5iaW5kRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gd3UodCxbe2tleTpcImJpbmRFdmVudExpc3RlbmVyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIiwoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodC5wb3B1cFRpbWVyKSxkZWxldGUgdC5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyfSkpfX0se2tleTpcInNldE9wdGlvbnNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXtBbShbXCJoaWRlRWRnZXNPbkRyYWdcIixcImhpZGVFZGdlc09uWm9vbVwiLFwiaGlkZU5vZGVzT25EcmFnXCIsXCJrZXlib2FyZFwiLFwibXVsdGlzZWxlY3RcIixcInNlbGVjdGFibGVcIixcInNlbGVjdENvbm5lY3RlZEVkZ2VzXCJdLHRoaXMub3B0aW9ucyx0KSxRbSh0aGlzLm9wdGlvbnMsdCxcImtleWJvYXJkXCIpLHQudG9vbHRpcCYmKHdvKHRoaXMub3B0aW9ucy50b29sdGlwLHQudG9vbHRpcCksdC50b29sdGlwLmNvbG9yJiYodGhpcy5vcHRpb25zLnRvb2x0aXAuY29sb3I9VW0odC50b29sdGlwLmNvbG9yKSkpfXRoaXMubmF2aWdhdGlvbkhhbmRsZXIuc2V0T3B0aW9ucyh0aGlzLm9wdGlvbnMpfX0se2tleTpcImdldFBvaW50ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm57eDp0LngtKGU9dGhpcy5jYW52YXMuZnJhbWUuY2FudmFzLGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCkseTp0LnktTG0odGhpcy5jYW52YXMuZnJhbWUuY2FudmFzKX07dmFyIGV9fSx7a2V5Olwib25Ub3VjaFwiLHZhbHVlOmZ1bmN0aW9uKHQpeyhuZXcgRGF0ZSkudmFsdWVPZigpLXRoaXMudG91Y2hUaW1lPjUwJiYodGhpcy5kcmFnLnBvaW50ZXI9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSx0aGlzLmRyYWcucGluY2hlZD0hMSx0aGlzLnBpbmNoLnNjYWxlPXRoaXMuYm9keS52aWV3LnNjYWxlLHRoaXMudG91Y2hUaW1lPShuZXcgRGF0ZSkudmFsdWVPZigpKX19LHtrZXk6XCJvblRhcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlciksaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIub3B0aW9ucy5tdWx0aXNlbGVjdCYmKHQuY2hhbmdlZFBvaW50ZXJzWzBdLmN0cmxLZXl8fHQuY2hhbmdlZFBvaW50ZXJzWzBdLm1ldGFLZXkpO3RoaXMuY2hlY2tTZWxlY3Rpb25DaGFuZ2VzKGUsaSksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmNvbW1pdEFuZEVtaXQoZSx0KSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiY2xpY2tcIix0LGUpfX0se2tleTpcIm9uRG91YmxlVGFwXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKTt0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiZG91YmxlQ2xpY2tcIix0LGUpfX0se2tleTpcIm9uSG9sZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlciksaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIub3B0aW9ucy5tdWx0aXNlbGVjdDt0aGlzLmNoZWNrU2VsZWN0aW9uQ2hhbmdlcyhlLGkpLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5jb21taXRBbmRFbWl0KGUsdCksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImNsaWNrXCIsdCxlKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiaG9sZFwiLHQsZSl9fSx7a2V5Olwib25SZWxlYXNlXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoKG5ldyBEYXRlKS52YWx1ZU9mKCktdGhpcy50b3VjaFRpbWU+MTApe3ZhciBlPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlcik7dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcInJlbGVhc2VcIix0LGUpLHRoaXMudG91Y2hUaW1lPShuZXcgRGF0ZSkudmFsdWVPZigpfX19LHtrZXk6XCJvbkNvbnRleHRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFBvaW50ZXIoe3g6dC5jbGllbnRYLHk6dC5jbGllbnRZfSk7dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcIm9uY29udGV4dFwiLHQsZSl9fSx7a2V5OlwiY2hlY2tTZWxlY3Rpb25DaGFuZ2VzXCIsdmFsdWU6ZnVuY3Rpb24odCl7ITA9PT0oYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSk/dGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdEFkZGl0aW9uYWxPblBvaW50KHQpOnRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3RPblBvaW50KHQpfX0se2tleTpcIl9kZXRlcm1pbmVEaWZmZXJlbmNlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT1bXSxvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciBuPXRbb107LTE9PT1WdihlKS5jYWxsKGUsbikmJmkucHVzaChuKX1yZXR1cm4gaX07cmV0dXJue25vZGVzOmkodC5ub2RlcyxlLm5vZGVzKSxlZGdlczppKHQuZWRnZXMsZS5lZGdlcyl9fX0se2tleTpcIm9uRHJhZ1N0YXJ0XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZHJhZy5kcmFnZ2luZyl7dm9pZCAwPT09dGhpcy5kcmFnLnBvaW50ZXImJnRoaXMub25Ub3VjaCh0KTt2YXIgZT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0Tm9kZUF0KHRoaXMuZHJhZy5wb2ludGVyKTtpZih0aGlzLmRyYWcuZHJhZ2dpbmc9ITAsdGhpcy5kcmFnLnNlbGVjdGlvbj1bXSx0aGlzLmRyYWcudHJhbnNsYXRpb249d28oe30sdGhpcy5ib2R5LnZpZXcudHJhbnNsYXRpb24pLHRoaXMuZHJhZy5ub2RlSWQ9dm9pZCAwLHQuc3JjRXZlbnQuc2hpZnRLZXkpe3RoaXMuYm9keS5zZWxlY3Rpb25Cb3guc2hvdz0hMDt2YXIgaT10aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpO3RoaXMuYm9keS5zZWxlY3Rpb25Cb3gucG9zaXRpb24uc3RhcnQ9e3g6dGhpcy5jYW52YXMuX1hjb252ZXJ0RE9NdG9DYW52YXMoaS54KSx5OnRoaXMuY2FudmFzLl9ZY29udmVydERPTXRvQ2FudmFzKGkueSl9LHRoaXMuYm9keS5zZWxlY3Rpb25Cb3gucG9zaXRpb24uZW5kPXt4OnRoaXMuY2FudmFzLl9YY29udmVydERPTXRvQ2FudmFzKGkueCkseTp0aGlzLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyhpLnkpfX1lbHNlIGlmKHZvaWQgMCE9PWUmJiEwPT09dGhpcy5vcHRpb25zLmRyYWdOb2Rlcyl7dGhpcy5kcmFnLm5vZGVJZD1lLmlkLCExPT09ZS5pc1NlbGVjdGVkKCkmJnRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZXRTZWxlY3Rpb24oe25vZGVzOltlLmlkXX0pLHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnU3RhcnRcIix0LHRoaXMuZHJhZy5wb2ludGVyKTt2YXIgbyxuPVBPKHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZE5vZGVzKCkpO3RyeXtmb3Iobi5zKCk7IShvPW4ubigpKS5kb25lOyl7dmFyIHI9by52YWx1ZSxzPXtpZDpyLmlkLG5vZGU6cix4OnIueCx5OnIueSx4Rml4ZWQ6ci5vcHRpb25zLmZpeGVkLngseUZpeGVkOnIub3B0aW9ucy5maXhlZC55fTtyLm9wdGlvbnMuZml4ZWQueD0hMCxyLm9wdGlvbnMuZml4ZWQueT0hMCx0aGlzLmRyYWcuc2VsZWN0aW9uLnB1c2gocyl9fWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfX1lbHNlIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnU3RhcnRcIix0LHRoaXMuZHJhZy5wb2ludGVyLHZvaWQgMCwhMCl9fX0se2tleTpcIm9uRHJhZ1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoITAhPT10aGlzLmRyYWcucGluY2hlZCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInVubG9ja05vZGVcIik7dmFyIGk9dGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSxvPXRoaXMuZHJhZy5zZWxlY3Rpb247aWYobyYmby5sZW5ndGgmJiEwPT09dGhpcy5vcHRpb25zLmRyYWdOb2Rlcyl7dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpKTt2YXIgbj1pLngtdGhpcy5kcmFnLnBvaW50ZXIueCxyPWkueS10aGlzLmRyYWcucG9pbnRlci55O1FmKG8pLmNhbGwobywoZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlOyExPT09dC54Rml4ZWQmJihpLng9ZS5jYW52YXMuX1hjb252ZXJ0RE9NdG9DYW52YXMoZS5jYW52YXMuX1hjb252ZXJ0Q2FudmFzVG9ET00odC54KStuKSksITE9PT10LnlGaXhlZCYmKGkueT1lLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyhlLmNhbnZhcy5fWWNvbnZlcnRDYW52YXNUb0RPTSh0LnkpK3IpKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpfWVsc2V7aWYodC5zcmNFdmVudC5zaGlmdEtleSl7aWYodGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpLHZvaWQgMCwhMCksdm9pZCAwPT09dGhpcy5kcmFnLnBvaW50ZXIpcmV0dXJuIHZvaWQgdGhpcy5vbkRyYWdTdGFydCh0KTt0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnBvc2l0aW9uLmVuZD17eDp0aGlzLmNhbnZhcy5fWGNvbnZlcnRET010b0NhbnZhcyhpLngpLHk6dGhpcy5jYW52YXMuX1ljb252ZXJ0RE9NdG9DYW52YXMoaS55KX0sdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfWlmKCEwPT09dGhpcy5vcHRpb25zLmRyYWdWaWV3JiYhdC5zcmNFdmVudC5zaGlmdEtleSl7aWYodGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdnaW5nXCIsdCxpLHZvaWQgMCwhMCksdm9pZCAwPT09dGhpcy5kcmFnLnBvaW50ZXIpcmV0dXJuIHZvaWQgdGhpcy5vbkRyYWdTdGFydCh0KTt2YXIgcz1pLngtdGhpcy5kcmFnLnBvaW50ZXIueCxhPWkueS10aGlzLmRyYWcucG9pbnRlci55O3RoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4OnRoaXMuZHJhZy50cmFuc2xhdGlvbi54K3MseTp0aGlzLmRyYWcudHJhbnNsYXRpb24ueSthfSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIil9fX19fSx7a2V5Olwib25EcmFnRW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0aGlzLmRyYWcuZHJhZ2dpbmc9ITEsdGhpcy5ib2R5LnNlbGVjdGlvbkJveC5zaG93KXt2YXIgaTt0aGlzLmJvZHkuc2VsZWN0aW9uQm94LnNob3c9ITE7dmFyIG89dGhpcy5ib2R5LnNlbGVjdGlvbkJveC5wb3NpdGlvbixuPXttaW5YOk1hdGgubWluKG8uc3RhcnQueCxvLmVuZC54KSxtaW5ZOk1hdGgubWluKG8uc3RhcnQueSxvLmVuZC55KSxtYXhYOk1hdGgubWF4KG8uc3RhcnQueCxvLmVuZC54KSxtYXhZOk1hdGgubWF4KG8uc3RhcnQueSxvLmVuZC55KX0scj1sdihpPXRoaXMuYm9keS5ub2RlSW5kaWNlcykuY2FsbChpLChmdW5jdGlvbih0KXt2YXIgaT1lLmJvZHkubm9kZXNbdF07cmV0dXJuIGkueD49bi5taW5YJiZpLng8PW4ubWF4WCYmaS55Pj1uLm1pblkmJmkueTw9bi5tYXhZfSkpO1FmKHIpLmNhbGwociwoZnVuY3Rpb24odCl7cmV0dXJuIGUuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3RPYmplY3QoZS5ib2R5Lm5vZGVzW3RdKX0pKTt2YXIgcz10aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpO3RoaXMuc2VsZWN0aW9uSGFuZGxlci5jb21taXRBbmRFbWl0KHMsdCksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImRyYWdFbmRcIix0LHRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlciksdm9pZCAwLCEwKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIil9ZWxzZXt2YXIgYT10aGlzLmRyYWcuc2VsZWN0aW9uO2EmJmEubGVuZ3RoPyhRZihhKS5jYWxsKGEsKGZ1bmN0aW9uKHQpe3Qubm9kZS5vcHRpb25zLmZpeGVkLng9dC54Rml4ZWQsdC5ub2RlLm9wdGlvbnMuZml4ZWQueT10LnlGaXhlZH0pKSx0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiZHJhZ0VuZFwiLHQsdGhpcy5nZXRQb2ludGVyKHQuY2VudGVyKSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U2ltdWxhdGlvblwiKSk6KHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJkcmFnRW5kXCIsdCx0aGlzLmdldFBvaW50ZXIodC5jZW50ZXIpLHZvaWQgMCwhMCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpKX19fSx7a2V5Olwib25QaW5jaFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0UG9pbnRlcih0LmNlbnRlcik7dGhpcy5kcmFnLnBpbmNoZWQ9ITAsdm9pZCAwPT09dGhpcy5waW5jaC5zY2FsZSYmKHRoaXMucGluY2guc2NhbGU9MSk7dmFyIGk9dGhpcy5waW5jaC5zY2FsZSp0LnNjYWxlO3RoaXMuem9vbShpLGUpfX0se2tleTpcInpvb21cIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKCEwPT09dGhpcy5vcHRpb25zLnpvb21WaWV3KXt2YXIgaT10aGlzLmJvZHkudmlldy5zY2FsZTt0PDFlLTUmJih0PTFlLTUpLHQ+MTAmJih0PTEwKTt2YXIgbz12b2lkIDA7dm9pZCAwIT09dGhpcy5kcmFnJiYhMD09PXRoaXMuZHJhZy5kcmFnZ2luZyYmKG89dGhpcy5jYW52YXMuRE9NdG9DYW52YXModGhpcy5kcmFnLnBvaW50ZXIpKTt2YXIgbj10aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbixyPXQvaSxzPSgxLXIpKmUueCtuLngqcixhPSgxLXIpKmUueStuLnkqcjtpZih0aGlzLmJvZHkudmlldy5zY2FsZT10LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uPXt4OnMseTphfSxudWxsIT1vKXt2YXIgaD10aGlzLmNhbnZhcy5jYW52YXNUb0RPTShvKTt0aGlzLmRyYWcucG9pbnRlci54PWgueCx0aGlzLmRyYWcucG9pbnRlci55PWgueX10aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIiksaTx0P3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJ6b29tXCIse2RpcmVjdGlvbjpcIitcIixzY2FsZTp0aGlzLmJvZHkudmlldy5zY2FsZSxwb2ludGVyOmV9KTp0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiem9vbVwiLHtkaXJlY3Rpb246XCItXCIsc2NhbGU6dGhpcy5ib2R5LnZpZXcuc2NhbGUscG9pbnRlcjplfSl9fX0se2tleTpcIm9uTW91c2VXaGVlbFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCEwPT09dGhpcy5vcHRpb25zLnpvb21WaWV3KXtpZigwIT09dC5kZWx0YVkpe3ZhciBlPXRoaXMuYm9keS52aWV3LnNjYWxlO2UqPTErKHQuZGVsdGFZPDA/MTotMSkqKC4xKnRoaXMub3B0aW9ucy56b29tU3BlZWQpO3ZhciBpPXRoaXMuZ2V0UG9pbnRlcih7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9KTt0aGlzLnpvb20oZSxpKX10LnByZXZlbnREZWZhdWx0KCl9fX0se2tleTpcIm9uTW91c2VNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuZ2V0UG9pbnRlcih7eDp0LmNsaWVudFgseTp0LmNsaWVudFl9KSxvPSExO3ZvaWQgMCE9PXRoaXMucG9wdXAmJighMT09PXRoaXMucG9wdXAuaGlkZGVuJiZ0aGlzLl9jaGVja0hpZGVQb3B1cChpKSwhMT09PXRoaXMucG9wdXAuaGlkZGVuJiYobz0hMCx0aGlzLnBvcHVwLnNldFBvc2l0aW9uKGkueCszLGkueS01KSx0aGlzLnBvcHVwLnNob3coKSkpLHRoaXMub3B0aW9ucy5rZXlib2FyZC5hdXRvRm9jdXMmJiExPT09dGhpcy5vcHRpb25zLmtleWJvYXJkLmJpbmRUb1dpbmRvdyYmITA9PT10aGlzLm9wdGlvbnMua2V5Ym9hcmQuZW5hYmxlZCYmdGhpcy5jYW52YXMuZnJhbWUuZm9jdXMoKSwhMT09PW8mJih2b2lkIDAhPT10aGlzLnBvcHVwVGltZXImJihjbGVhckludGVydmFsKHRoaXMucG9wdXBUaW1lciksdGhpcy5wb3B1cFRpbWVyPXZvaWQgMCksdGhpcy5kcmFnLmRyYWdnaW5nfHwodGhpcy5wb3B1cFRpbWVyPXZnKChmdW5jdGlvbigpe3JldHVybiBlLl9jaGVja1Nob3dQb3B1cChpKX0pLHRoaXMub3B0aW9ucy50b29sdGlwRGVsYXkpKSksITA9PT10aGlzLm9wdGlvbnMuaG92ZXImJnRoaXMuc2VsZWN0aW9uSGFuZGxlci5ob3Zlck9iamVjdCh0LGkpfX0se2tleTpcIl9jaGVja1Nob3dQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY2FudmFzLl9YY29udmVydERPTXRvQ2FudmFzKHQueCksaT10aGlzLmNhbnZhcy5fWWNvbnZlcnRET010b0NhbnZhcyh0LnkpLG89e2xlZnQ6ZSx0b3A6aSxyaWdodDplLGJvdHRvbTppfSxuPXZvaWQgMD09PXRoaXMucG9wdXBPYmo/dm9pZCAwOnRoaXMucG9wdXBPYmouaWQscj0hMSxzPVwibm9kZVwiO2lmKHZvaWQgMD09PXRoaXMucG9wdXBPYmope2Zvcih2YXIgYSxoPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxkPXRoaXMuYm9keS5ub2RlcyxsPVtdLGM9MDtjPGgubGVuZ3RoO2MrKykhMD09PShhPWRbaFtjXV0pLmlzT3ZlcmxhcHBpbmdXaXRoKG8pJiYocj0hMCx2b2lkIDAhPT1hLmdldFRpdGxlKCkmJmwucHVzaChoW2NdKSk7bC5sZW5ndGg+MCYmKHRoaXMucG9wdXBPYmo9ZFtsW2wubGVuZ3RoLTFdXSxyPSEwKX1pZih2b2lkIDA9PT10aGlzLnBvcHVwT2JqJiYhMT09PXIpe2Zvcih2YXIgdSxmPXRoaXMuYm9keS5lZGdlSW5kaWNlcyxwPXRoaXMuYm9keS5lZGdlcyx2PVtdLGc9MDtnPGYubGVuZ3RoO2crKykhMD09PSh1PXBbZltnXV0pLmlzT3ZlcmxhcHBpbmdXaXRoKG8pJiYhMD09PXUuY29ubmVjdGVkJiZ2b2lkIDAhPT11LmdldFRpdGxlKCkmJnYucHVzaChmW2ddKTt2Lmxlbmd0aD4wJiYodGhpcy5wb3B1cE9iaj1wW3Zbdi5sZW5ndGgtMV1dLHM9XCJlZGdlXCIpfXZvaWQgMCE9PXRoaXMucG9wdXBPYmo/dGhpcy5wb3B1cE9iai5pZCE9PW4mJih2b2lkIDA9PT10aGlzLnBvcHVwJiYodGhpcy5wb3B1cD1uZXcgZmIodGhpcy5jYW52YXMuZnJhbWUpKSx0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0VHlwZT1zLHRoaXMucG9wdXAucG9wdXBUYXJnZXRJZD10aGlzLnBvcHVwT2JqLmlkLHRoaXMucG9wdXAuc2V0UG9zaXRpb24odC54KzMsdC55LTUpLHRoaXMucG9wdXAuc2V0VGV4dCh0aGlzLnBvcHVwT2JqLmdldFRpdGxlKCkpLHRoaXMucG9wdXAuc2hvdygpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzaG93UG9wdXBcIix0aGlzLnBvcHVwT2JqLmlkKSk6dm9pZCAwIT09dGhpcy5wb3B1cCYmKHRoaXMucG9wdXAuaGlkZSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJoaWRlUG9wdXBcIikpfX0se2tleTpcIl9jaGVja0hpZGVQb3B1cFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QodCksaT0hMTtpZihcIm5vZGVcIj09PXRoaXMucG9wdXAucG9wdXBUYXJnZXRUeXBlKXtpZih2b2lkIDAhPT10aGlzLmJvZHkubm9kZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXSYmITA9PT0oaT10aGlzLmJvZHkubm9kZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXS5pc092ZXJsYXBwaW5nV2l0aChlKSkpe3ZhciBvPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodCk7aT12b2lkIDAhPT1vJiZvLmlkPT09dGhpcy5wb3B1cC5wb3B1cFRhcmdldElkfX1lbHNlIHZvaWQgMD09PXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXROb2RlQXQodCkmJnZvaWQgMCE9PXRoaXMuYm9keS5lZGdlc1t0aGlzLnBvcHVwLnBvcHVwVGFyZ2V0SWRdJiYoaT10aGlzLmJvZHkuZWRnZXNbdGhpcy5wb3B1cC5wb3B1cFRhcmdldElkXS5pc092ZXJsYXBwaW5nV2l0aChlKSk7ITE9PT1pJiYodGhpcy5wb3B1cE9iaj12b2lkIDAsdGhpcy5wb3B1cC5oaWRlKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImhpZGVQb3B1cFwiKSl9fV0pLHR9KCk7ZWsoXCJTZXRcIiwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0pLF9rKTt2YXIgQk89byhpdC5TZXQpLEZPPXksek89b2ssTk89a3cuZ2V0V2Vha0RhdGEsQU89UncsUk89b2ksak89WSxMTz1ldCxITz16dyxXTz1KdCxWTz1Ibi5zZXQscU89SG4uZ2V0dGVyRm9yLFVPPXpkLmZpbmQsWU89emQuZmluZEluZGV4LFhPPUZPKFtdLnNwbGljZSksS089MCxHTz1mdW5jdGlvbih0KXtyZXR1cm4gdC5mcm96ZW58fCh0LmZyb3plbj1uZXcgJE8pfSwkTz1mdW5jdGlvbigpe3RoaXMuZW50cmllcz1bXX0sWk89ZnVuY3Rpb24odCxlKXtyZXR1cm4gVU8odC5lbnRyaWVzLChmdW5jdGlvbih0KXtyZXR1cm4gdFswXT09PWV9KSl9OyRPLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPVpPKHRoaXMsdCk7aWYoZSlyZXR1cm4gZVsxXX0saGFzOmZ1bmN0aW9uKHQpe3JldHVybiEhWk8odGhpcyx0KX0sc2V0OmZ1bmN0aW9uKHQsZSl7dmFyIGk9Wk8odGhpcyx0KTtpP2lbMV09ZTp0aGlzLmVudHJpZXMucHVzaChbdCxlXSl9LGRlbGV0ZTpmdW5jdGlvbih0KXt2YXIgZT1ZTyh0aGlzLmVudHJpZXMsKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPT09dH0pKTtyZXR1cm5+ZSYmWE8odGhpcy5lbnRyaWVzLGUsMSksISF+ZX19O3ZhciBRTyxKTz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24odCxlLGksbyl7dmFyIG49dCgoZnVuY3Rpb24odCxuKXtBTyh0LHIpLFZPKHQse3R5cGU6ZSxpZDpLTysrLGZyb3plbjp2b2lkIDB9KSxqTyhuKXx8SE8obix0W29dLHt0aGF0OnQsQVNfRU5UUklFUzppfSl9KSkscj1uLnByb3RvdHlwZSxzPXFPKGUpLGE9ZnVuY3Rpb24odCxlLGkpe3ZhciBvPXModCksbj1OTyhSTyhlKSwhMCk7cmV0dXJuITA9PT1uP0dPKG8pLnNldChlLGkpOm5bby5pZF09aSx0fTtyZXR1cm4gek8ocix7ZGVsZXRlOmZ1bmN0aW9uKHQpe3ZhciBlPXModGhpcyk7aWYoIUxPKHQpKXJldHVybiExO3ZhciBpPU5PKHQpO3JldHVybiEwPT09aT9HTyhlKS5kZWxldGUodCk6aSYmV08oaSxlLmlkKSYmZGVsZXRlIGlbZS5pZF19LGhhczpmdW5jdGlvbih0KXt2YXIgZT1zKHRoaXMpO2lmKCFMTyh0KSlyZXR1cm4hMTt2YXIgaT1OTyh0KTtyZXR1cm4hMD09PWk/R08oZSkuaGFzKHQpOmkmJldPKGksZS5pZCl9fSksek8ocixpP3tnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9cyh0aGlzKTtpZihMTyh0KSl7dmFyIGk9Tk8odCk7cmV0dXJuITA9PT1pP0dPKGUpLmdldCh0KTppP2lbZS5pZF06dm9pZCAwfX0sc2V0OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGEodGhpcyx0LGUpfX06e2FkZDpmdW5jdGlvbih0KXtyZXR1cm4gYSh0aGlzLHQsITApfX0pLG59fSx0Qz1ydyxlQz1yLGlDPXksb0M9b2ssbkM9a3csckM9ZWssc0M9Sk8sYUM9ZXQsaEM9SG4uZW5mb3JjZSxkQz1zLGxDPUVuLGNDPU9iamVjdCx1Qz1BcnJheS5pc0FycmF5LGZDPWNDLmlzRXh0ZW5zaWJsZSxwQz1jQy5pc0Zyb3plbix2Qz1jQy5pc1NlYWxlZCxnQz1jQy5mcmVlemUseUM9Y0Muc2VhbCxtQz17fSxiQz17fSx3Qz0hZUMuQWN0aXZlWE9iamVjdCYmXCJBY3RpdmVYT2JqZWN0XCJpbiBlQyxrQz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSxfQz1yQyhcIldlYWtNYXBcIixrQyxzQykseEM9X0MucHJvdG90eXBlLEVDPWlDKHhDLnNldCk7aWYobEMpaWYod0Mpe1FPPXNDLmdldENvbnN0cnVjdG9yKGtDLFwiV2Vha01hcFwiLCEwKSxuQy5lbmFibGUoKTt2YXIgT0M9aUMoeEMuZGVsZXRlKSxDQz1pQyh4Qy5oYXMpLFNDPWlDKHhDLmdldCk7b0MoeEMse2RlbGV0ZTpmdW5jdGlvbih0KXtpZihhQyh0KSYmIWZDKHQpKXt2YXIgZT1oQyh0aGlzKTtyZXR1cm4gZS5mcm96ZW58fChlLmZyb3plbj1uZXcgUU8pLE9DKHRoaXMsdCl8fGUuZnJvemVuLmRlbGV0ZSh0KX1yZXR1cm4gT0ModGhpcyx0KX0saGFzOmZ1bmN0aW9uKHQpe2lmKGFDKHQpJiYhZkModCkpe3ZhciBlPWhDKHRoaXMpO3JldHVybiBlLmZyb3plbnx8KGUuZnJvemVuPW5ldyBRTyksQ0ModGhpcyx0KXx8ZS5mcm96ZW4uaGFzKHQpfXJldHVybiBDQyh0aGlzLHQpfSxnZXQ6ZnVuY3Rpb24odCl7aWYoYUModCkmJiFmQyh0KSl7dmFyIGU9aEModGhpcyk7cmV0dXJuIGUuZnJvemVufHwoZS5mcm96ZW49bmV3IFFPKSxDQyh0aGlzLHQpP1NDKHRoaXMsdCk6ZS5mcm96ZW4uZ2V0KHQpfXJldHVybiBTQyh0aGlzLHQpfSxzZXQ6ZnVuY3Rpb24odCxlKXtpZihhQyh0KSYmIWZDKHQpKXt2YXIgaT1oQyh0aGlzKTtpLmZyb3plbnx8KGkuZnJvemVuPW5ldyBRTyksQ0ModGhpcyx0KT9FQyh0aGlzLHQsZSk6aS5mcm96ZW4uc2V0KHQsZSl9ZWxzZSBFQyh0aGlzLHQsZSk7cmV0dXJuIHRoaXN9fSl9ZWxzZSB0QyYmZEMoKGZ1bmN0aW9uKCl7dmFyIHQ9Z0MoW10pO3JldHVybiBFQyhuZXcgX0MsdCwxKSwhcEModCl9KSkmJm9DKHhDLHtzZXQ6ZnVuY3Rpb24odCxlKXt2YXIgaTtyZXR1cm4gdUModCkmJihwQyh0KT9pPW1DOnZDKHQpJiYoaT1iQykpLEVDKHRoaXMsdCxlKSxpPT09bUMmJmdDKHQpLGk9PT1iQyYmeUModCksdGhpc319KTt2YXIgVEMsTUMsUEMsREMsSUMsQkM9byhpdC5XZWFrTWFwKTtmdW5jdGlvbiBGQyh0LGUsaSxvKXtpZihcImFcIj09PWkmJiFvKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZT90IT09ZXx8IW86IWUuaGFzKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7cmV0dXJuXCJtXCI9PT1pP286XCJhXCI9PT1pP28uY2FsbCh0KTpvP28udmFsdWU6ZS5nZXQodCl9ZnVuY3Rpb24gekModCxlLGksbyxuKXtpZihcIm1cIj09PW8pdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtpZihcImFcIj09PW8mJiFuKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZT90IT09ZXx8IW46IWUuaGFzKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtyZXR1cm5cImFcIj09PW8/bi5jYWxsKHQsaSk6bj9uLnZhbHVlPWk6ZS5zZXQodCxpKSxpfWZ1bmN0aW9uIE5DKHQsZSl7dmFyIGk9dm9pZCAwIT09Y2YmJnBoKHQpfHx0W1wiQEBpdGVyYXRvclwiXTtpZighaSl7aWYoT2YodCl8fChpPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYoIXQpcmV0dXJuO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBBQyh0LGUpO3ZhciBvPW1mKGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKS5jYWxsKGksOCwtMSk7XCJPYmplY3RcIj09PW8mJnQuY29uc3RydWN0b3ImJihvPXQuY29uc3RydWN0b3IubmFtZSk7aWYoXCJNYXBcIj09PW98fFwiU2V0XCI9PT1vKXJldHVybiBYYSh0KTtpZihcIkFyZ3VtZW50c1wiPT09b3x8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobykpcmV0dXJuIEFDKHQsZSl9KHQpKXx8ZSYmdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoKXtpJiYodD1pKTt2YXIgbz0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBvPj10Lmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6dFtvKytdfX0sZTpmdW5jdGlvbih0KXt0aHJvdyB0fSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX12YXIgcixzPSEwLGE9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtpPWkuY2FsbCh0KX0sbjpmdW5jdGlvbigpe3ZhciB0PWkubmV4dCgpO3JldHVybiBzPXQuZG9uZSx0fSxlOmZ1bmN0aW9uKHQpe2E9ITAscj10fSxmOmZ1bmN0aW9uKCl7dHJ5e3N8fG51bGw9PWkucmV0dXJufHxpLnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyByfX19fWZ1bmN0aW9uIEFDKHQsZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7Zm9yKHZhciBpPTAsbz1uZXcgQXJyYXkoZSk7aTxlO2krKylvW2ldPXRbaV07cmV0dXJuIG99ZnVuY3Rpb24gUkModCxlKXt2YXIgaSxvPW5ldyBCTyxuPU5DKGUpO3RyeXtmb3Iobi5zKCk7IShpPW4ubigpKS5kb25lOyl7dmFyIHI9aS52YWx1ZTt0LmhhcyhyKXx8by5hZGQocil9fWNhdGNoKHQpe24uZSh0KX1maW5hbGx5e24uZigpfXJldHVybiBvfVwiZnVuY3Rpb25cIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO3ZhciBqQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpLFRDLnNldCh0aGlzLG5ldyBCTyksTUMuc2V0KHRoaXMsbmV3IEJPKX1yZXR1cm4gd3UodCxbe2tleTpcInNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRkModGhpcyxNQyxcImZcIikuc2l6ZX19LHtrZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKWVbaV09YXJndW1lbnRzW2ldO2Zvcih2YXIgbz0wLG49ZTtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9bltvXTtGQyh0aGlzLE1DLFwiZlwiKS5hZGQocil9fX0se2tleTpcImRlbGV0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksaT0wO2k8dDtpKyspZVtpXT1hcmd1bWVudHNbaV07Zm9yKHZhciBvPTAsbj1lO288bi5sZW5ndGg7bysrKXt2YXIgcj1uW29dO0ZDKHRoaXMsTUMsXCJmXCIpLmRlbGV0ZShyKX19fSx7a2V5OlwiY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe0ZDKHRoaXMsTUMsXCJmXCIpLmNsZWFyKCl9fSx7a2V5OlwiZ2V0U2VsZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gbGYoRkModGhpcyxNQyxcImZcIikpfX0se2tleTpcImdldENoYW5nZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybnthZGRlZDpsZihSQyhGQyh0aGlzLFRDLFwiZlwiKSxGQyh0aGlzLE1DLFwiZlwiKSkpLGRlbGV0ZWQ6bGYoUkMoRkModGhpcyxNQyxcImZcIiksRkModGhpcyxUQyxcImZcIikpKSxwcmV2aW91czpsZihuZXcgQk8oRkModGhpcyxUQyxcImZcIikpKSxjdXJyZW50OmxmKG5ldyBCTyhGQyh0aGlzLE1DLFwiZlwiKSkpfX19LHtrZXk6XCJjb21taXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0Q2hhbmdlcygpO3pDKHRoaXMsVEMsRkModGhpcyxNQyxcImZcIiksXCJmXCIpLHpDKHRoaXMsTUMsbmV3IEJPKEZDKHRoaXMsVEMsXCJmXCIpKSxcImZcIik7dmFyIGUsaT1OQyh0LmFkZGVkKTt0cnl7Zm9yKGkucygpOyEoZT1pLm4oKSkuZG9uZTspe2UudmFsdWUuc2VsZWN0KCl9fWNhdGNoKHQpe2kuZSh0KX1maW5hbGx5e2kuZigpfXZhciBvLG49TkModC5kZWxldGVkKTt0cnl7Zm9yKG4ucygpOyEobz1uLm4oKSkuZG9uZTspe28udmFsdWUudW5zZWxlY3QoKX19Y2F0Y2godCl7bi5lKHQpfWZpbmFsbHl7bi5mKCl9cmV0dXJuIHR9fV0pLHR9KCk7VEM9bmV3IEJDLE1DPW5ldyBCQzt2YXIgTEM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOmZ1bmN0aW9uKCl7fTt2aCh0aGlzLHQpLFBDLnNldCh0aGlzLG5ldyBqQyksREMuc2V0KHRoaXMsbmV3IGpDKSxJQy5zZXQodGhpcyx2b2lkIDApLHpDKHRoaXMsSUMsZSxcImZcIil9cmV0dXJuIHd1KHQsW3trZXk6XCJzaXplTm9kZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRkModGhpcyxQQyxcImZcIikuc2l6ZX19LHtrZXk6XCJzaXplRWRnZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRkModGhpcyxEQyxcImZcIikuc2l6ZX19LHtrZXk6XCJnZXROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIEZDKHRoaXMsUEMsXCJmXCIpLmdldFNlbGVjdGlvbigpfX0se2tleTpcImdldEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gRkModGhpcyxEQyxcImZcIikuZ2V0U2VsZWN0aW9uKCl9fSx7a2V5OlwiYWRkTm9kZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0Oyh0PUZDKHRoaXMsUEMsXCJmXCIpKS5hZGQuYXBwbHkodCxhcmd1bWVudHMpfX0se2tleTpcImFkZEVkZ2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDsodD1GQyh0aGlzLERDLFwiZlwiKSkuYWRkLmFwcGx5KHQsYXJndW1lbnRzKX19LHtrZXk6XCJkZWxldGVOb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe0ZDKHRoaXMsUEMsXCJmXCIpLmRlbGV0ZSh0KX19LHtrZXk6XCJkZWxldGVFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe0ZDKHRoaXMsREMsXCJmXCIpLmRlbGV0ZSh0KX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7RkModGhpcyxQQyxcImZcIikuY2xlYXIoKSxGQyh0aGlzLERDLFwiZlwiKS5jbGVhcigpfX0se2tleTpcImNvbW1pdFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGUsaT17bm9kZXM6RkModGhpcyxQQyxcImZcIikuY29tbWl0KCksZWRnZXM6RkModGhpcyxEQyxcImZcIikuY29tbWl0KCl9LG89YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShvKSxyPTA7cjxvO3IrKyluW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4odD1GQyh0aGlzLElDLFwiZlwiKSkuY2FsbC5hcHBseSh0LHlmKGU9W3RoaXMsaV0pLmNhbGwoZSxuKSksaX19XSksdH0oKTtmdW5jdGlvbiBIQyh0LGUpe3ZhciBpPXZvaWQgMCE9PWNmJiZwaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIWkpe2lmKE9mKHQpfHwoaT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gV0ModCxlKTt2YXIgbz1tZihpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChpLDgsLTEpO1wiT2JqZWN0XCI9PT1vJiZ0LmNvbnN0cnVjdG9yJiYobz10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1vfHxcIlNldFwiPT09bylyZXR1cm4gWGEodCk7aWYoXCJBcmd1bWVudHNcIj09PW98fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG8pKXJldHVybiBXQyh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7aSYmKHQ9aSk7dmFyIG89MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbysrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIscz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7aT1pLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1pLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXthPSEwLHI9dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19fX1mdW5jdGlvbiBXQyh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG89bmV3IEFycmF5KGUpO2k8ZTtpKyspb1tpXT10W2ldO3JldHVybiBvfVBDPW5ldyBCQyxEQz1uZXcgQkMsSUM9bmV3IEJDO3ZhciBWQz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxpKXt2YXIgbz10aGlzO3ZoKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5jYW52YXM9aSx0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvcj1uZXcgTEMsdGhpcy5ob3Zlck9iaj17bm9kZXM6e30sZWRnZXM6e319LHRoaXMub3B0aW9ucz17fSx0aGlzLmRlZmF1bHRPcHRpb25zPXttdWx0aXNlbGVjdDohMSxzZWxlY3RhYmxlOiEwLHNlbGVjdENvbm5lY3RlZEVkZ2VzOiEwLGhvdmVyQ29ubmVjdGVkRWRnZXM6ITB9LHdvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhQ2hhbmdlZFwiLChmdW5jdGlvbigpe28udXBkYXRlU2VsZWN0aW9uKCl9KSl9cmV0dXJuIHd1KHQsW3trZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYodm9pZCAwIT09dCl7Tm0oW1wibXVsdGlzZWxlY3RcIixcImhvdmVyQ29ubmVjdGVkRWRnZXNcIixcInNlbGVjdGFibGVcIixcInNlbGVjdENvbm5lY3RlZEVkZ2VzXCJdLHRoaXMub3B0aW9ucyx0KX19fSx7a2V5Olwic2VsZWN0T25Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSExO2lmKCEwPT09dGhpcy5vcHRpb25zLnNlbGVjdGFibGUpe3ZhciBpPXRoaXMuZ2V0Tm9kZUF0KHQpfHx0aGlzLmdldEVkZ2VBdCh0KTt0aGlzLnVuc2VsZWN0QWxsKCksdm9pZCAwIT09aSYmKGU9dGhpcy5zZWxlY3RPYmplY3QoaSkpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVxdWVzdFJlZHJhd1wiKX1yZXR1cm4gZX19LHtrZXk6XCJzZWxlY3RBZGRpdGlvbmFsT25Qb2ludFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPSExO2lmKCEwPT09dGhpcy5vcHRpb25zLnNlbGVjdGFibGUpe3ZhciBpPXRoaXMuZ2V0Tm9kZUF0KHQpfHx0aGlzLmdldEVkZ2VBdCh0KTt2b2lkIDAhPT1pJiYoZT0hMCwhMD09PWkuaXNTZWxlY3RlZCgpP3RoaXMuZGVzZWxlY3RPYmplY3QoaSk6dGhpcy5zZWxlY3RPYmplY3QoaSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpKX1yZXR1cm4gZX19LHtrZXk6XCJfaW5pdEJhc2VFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9e307cmV0dXJuIGkucG9pbnRlcj17RE9NOnt4OmUueCx5OmUueX0sY2FudmFzOnRoaXMuY2FudmFzLkRPTXRvQ2FudmFzKGUpfSxpLmV2ZW50PXQsaX19LHtrZXk6XCJnZW5lcmF0ZUNsaWNrRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSxvKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLHI9dGhpcy5faW5pdEJhc2VFdmVudChlLGkpO2lmKCEwPT09bilyLm5vZGVzPVtdLHIuZWRnZXM9W107ZWxzZXt2YXIgcz10aGlzLmdldFNlbGVjdGlvbigpO3Iubm9kZXM9cy5ub2RlcyxyLmVkZ2VzPXMuZWRnZXN9dm9pZCAwIT09byYmKHIucHJldmlvdXNTZWxlY3Rpb249byksXCJjbGlja1wiPT10JiYoci5pdGVtcz10aGlzLmdldENsaWNrZWRJdGVtcyhpKSksdm9pZCAwIT09ZS5jb250cm9sRWRnZSYmKHIuY29udHJvbEVkZ2U9ZS5jb250cm9sRWRnZSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdCh0LHIpfX0se2tleTpcInNlbGVjdE9iamVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp0aGlzLm9wdGlvbnMuc2VsZWN0Q29ubmVjdGVkRWRnZXM7aWYodm9pZCAwIT09dCl7aWYodCBpbnN0YW5jZW9mIGlFKXt2YXIgaTtpZighMD09PWUpKGk9dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IpLmFkZEVkZ2VzLmFwcGx5KGksbGYodC5lZGdlcykpO3RoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmFkZE5vZGVzKHQpfWVsc2UgdGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuYWRkRWRnZXModCk7cmV0dXJuITB9cmV0dXJuITF9fSx7a2V5OlwiZGVzZWxlY3RPYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0KXshMD09PXQuaXNTZWxlY3RlZCgpJiYodC5zZWxlY3RlZD0hMSx0aGlzLl9yZW1vdmVGcm9tU2VsZWN0aW9uKHQpKX19LHtrZXk6XCJfZ2V0QWxsTm9kZXNPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9W10saT10aGlzLmJvZHkubm9kZXMsbz0wO288dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtvKyspe3ZhciBuPXRoaXMuYm9keS5ub2RlSW5kaWNlc1tvXTtpW25dLmlzT3ZlcmxhcHBpbmdXaXRoKHQpJiZlLnB1c2gobil9cmV0dXJuIGV9fSx7a2V5OlwiX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jYW52YXMuRE9NdG9DYW52YXModCk7cmV0dXJue2xlZnQ6ZS54LTEsdG9wOmUueSsxLHJpZ2h0OmUueCsxLGJvdHRvbTplLnktMX19fSx7a2V5OlwiZ2V0Tm9kZUF0XCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0KHQpLG89dGhpcy5fZ2V0QWxsTm9kZXNPdmVybGFwcGluZ1dpdGgoaSk7cmV0dXJuIG8ubGVuZ3RoPjA/ITA9PT1lP3RoaXMuYm9keS5ub2Rlc1tvW28ubGVuZ3RoLTFdXTpvW28ubGVuZ3RoLTFdOnZvaWQgMH19LHtrZXk6XCJfZ2V0RWRnZXNPdmVybGFwcGluZ1dpdGhcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLmJvZHkuZWRnZXMsbz0wO288dGhpcy5ib2R5LmVkZ2VJbmRpY2VzLmxlbmd0aDtvKyspe3ZhciBuPXRoaXMuYm9keS5lZGdlSW5kaWNlc1tvXTtpW25dLmlzT3ZlcmxhcHBpbmdXaXRoKHQpJiZlLnB1c2gobil9fX0se2tleTpcIl9nZXRBbGxFZGdlc092ZXJsYXBwaW5nV2l0aFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiB0aGlzLl9nZXRFZGdlc092ZXJsYXBwaW5nV2l0aCh0LGUpLGV9fSx7a2V5OlwiZ2V0RWRnZUF0XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLmNhbnZhcy5ET010b0NhbnZhcyh0KSxvPTEwLG49bnVsbCxyPXRoaXMuYm9keS5lZGdlcyxzPTA7czx0aGlzLmJvZHkuZWRnZUluZGljZXMubGVuZ3RoO3MrKyl7dmFyIGE9dGhpcy5ib2R5LmVkZ2VJbmRpY2VzW3NdLGg9clthXTtpZihoLmNvbm5lY3RlZCl7dmFyIGQ9aC5mcm9tLngsbD1oLmZyb20ueSxjPWgudG8ueCx1PWgudG8ueSxmPWguZWRnZVR5cGUuZ2V0RGlzdGFuY2VUb0VkZ2UoZCxsLGMsdSxpLngsaS55KTtmPG8mJihuPWEsbz1mKX19cmV0dXJuIG51bGwhPT1uPyEwPT09ZT90aGlzLmJvZHkuZWRnZXNbbl06bjp2b2lkIDB9fSx7a2V5OlwiX2FkZFRvSG92ZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt0IGluc3RhbmNlb2YgaUU/dGhpcy5ob3Zlck9iai5ub2Rlc1t0LmlkXT10OnRoaXMuaG92ZXJPYmouZWRnZXNbdC5pZF09dH19LHtrZXk6XCJfcmVtb3ZlRnJvbVNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlO3QgaW5zdGFuY2VvZiBpRT8odGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuZGVsZXRlTm9kZXModCksKGU9dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IpLmRlbGV0ZUVkZ2VzLmFwcGx5KGUsbGYodC5lZGdlcykpKTp0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5kZWxldGVFZGdlcyh0KX19LHtrZXk6XCJ1bnNlbGVjdEFsbFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuY2xlYXIoKX19LHtrZXk6XCJnZXRTZWxlY3RlZE5vZGVDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLnNpemVOb2Rlc319LHtrZXk6XCJnZXRTZWxlY3RlZEVkZ2VDb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLnNpemVFZGdlc319LHtrZXk6XCJfaG92ZXJDb25uZWN0ZWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5lZGdlcy5sZW5ndGg7ZSsrKXt2YXIgaT10LmVkZ2VzW2VdO2kuaG92ZXI9ITAsdGhpcy5fYWRkVG9Ib3ZlcihpKX19fSx7a2V5OlwiZW1pdEJsdXJFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLl9pbml0QmFzZUV2ZW50KHQsZSk7ITA9PT1pLmhvdmVyJiYoaS5ob3Zlcj0hMSxpIGluc3RhbmNlb2YgaUU/KG8ubm9kZT1pLmlkLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJibHVyTm9kZVwiLG8pKTooby5lZGdlPWkuaWQsdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImJsdXJFZGdlXCIsbykpKX19LHtrZXk6XCJlbWl0SG92ZXJFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz10aGlzLl9pbml0QmFzZUV2ZW50KHQsZSksbj0hMTtyZXR1cm4hMT09PWkuaG92ZXImJihpLmhvdmVyPSEwLHRoaXMuX2FkZFRvSG92ZXIoaSksbj0hMCxpIGluc3RhbmNlb2YgaUU/KG8ubm9kZT1pLmlkLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJob3Zlck5vZGVcIixvKSk6KG8uZWRnZT1pLmlkLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJob3ZlckVkZ2VcIixvKSkpLG59fSx7a2V5OlwiaG92ZXJPYmplY3RcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0Tm9kZUF0KGUpO3ZvaWQgMD09PWkmJihpPXRoaXMuZ2V0RWRnZUF0KGUpKTt2YXIgbz0hMTtmb3IodmFyIG4gaW4gdGhpcy5ob3Zlck9iai5ub2RlcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ob3Zlck9iai5ub2RlcyxuKSYmKHZvaWQgMD09PWl8fGkgaW5zdGFuY2VvZiBpRSYmaS5pZCE9bnx8aSBpbnN0YW5jZW9mIEpFKSYmKHRoaXMuZW1pdEJsdXJFdmVudCh0LGUsdGhpcy5ob3Zlck9iai5ub2Rlc1tuXSksZGVsZXRlIHRoaXMuaG92ZXJPYmoubm9kZXNbbl0sbz0hMCk7Zm9yKHZhciByIGluIHRoaXMuaG92ZXJPYmouZWRnZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuaG92ZXJPYmouZWRnZXMscikmJighMD09PW8/KHRoaXMuaG92ZXJPYmouZWRnZXNbcl0uaG92ZXI9ITEsZGVsZXRlIHRoaXMuaG92ZXJPYmouZWRnZXNbcl0pOih2b2lkIDA9PT1pfHxpIGluc3RhbmNlb2YgSkUmJmkuaWQhPXJ8fGkgaW5zdGFuY2VvZiBpRSYmIWkuaG92ZXIpJiYodGhpcy5lbWl0Qmx1ckV2ZW50KHQsZSx0aGlzLmhvdmVyT2JqLmVkZ2VzW3JdKSxkZWxldGUgdGhpcy5ob3Zlck9iai5lZGdlc1tyXSxvPSEwKSk7aWYodm9pZCAwIT09aSl7dmFyIHM9emYodGhpcy5ob3Zlck9iai5lZGdlcykubGVuZ3RoLGE9emYodGhpcy5ob3Zlck9iai5ub2RlcykubGVuZ3RoOyhvfHxpIGluc3RhbmNlb2YgSkUmJjA9PT1zJiYwPT09YXx8aSBpbnN0YW5jZW9mIGlFJiYwPT09cyYmMD09PWEpJiYobz10aGlzLmVtaXRIb3ZlckV2ZW50KHQsZSxpKSksaSBpbnN0YW5jZW9mIGlFJiYhMD09PXRoaXMub3B0aW9ucy5ob3ZlckNvbm5lY3RlZEVkZ2VzJiZ0aGlzLl9ob3ZlckNvbm5lY3RlZEVkZ2VzKGkpfSEwPT09byYmdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpfX0se2tleTpcImNvbW1pdFdpdGhvdXRFbWl0dGluZ1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuY29tbWl0KCl9fSx7a2V5OlwiY29tbWl0QW5kRW1pdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ITEsbz10aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5jb21taXQoKSxuPXtub2RlczpvLm5vZGVzLnByZXZpb3VzLGVkZ2VzOm8uZWRnZXMucHJldmlvdXN9O28uZWRnZXMuZGVsZXRlZC5sZW5ndGg+MCYmKHRoaXMuZ2VuZXJhdGVDbGlja0V2ZW50KFwiZGVzZWxlY3RFZGdlXCIsZSx0LG4pLGk9ITApLG8ubm9kZXMuZGVsZXRlZC5sZW5ndGg+MCYmKHRoaXMuZ2VuZXJhdGVDbGlja0V2ZW50KFwiZGVzZWxlY3ROb2RlXCIsZSx0LG4pLGk9ITApLG8ubm9kZXMuYWRkZWQubGVuZ3RoPjAmJih0aGlzLmdlbmVyYXRlQ2xpY2tFdmVudChcInNlbGVjdE5vZGVcIixlLHQpLGk9ITApLG8uZWRnZXMuYWRkZWQubGVuZ3RoPjAmJih0aGlzLmdlbmVyYXRlQ2xpY2tFdmVudChcInNlbGVjdEVkZ2VcIixlLHQpLGk9ITApLCEwPT09aSYmdGhpcy5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJzZWxlY3RcIixlLHQpfX0se2tleTpcImdldFNlbGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJue25vZGVzOnRoaXMuZ2V0U2VsZWN0ZWROb2RlSWRzKCksZWRnZXM6dGhpcy5nZXRTZWxlY3RlZEVkZ2VJZHMoKX19fSx7a2V5OlwiZ2V0U2VsZWN0ZWROb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmdldE5vZGVzKCl9fSx7a2V5OlwiZ2V0U2VsZWN0ZWRFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmdldEVkZ2VzKCl9fSx7a2V5OlwiZ2V0U2VsZWN0ZWROb2RlSWRzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gSWYodD10aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5nZXROb2RlcygpKS5jYWxsKHQsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkfSkpfX0se2tleTpcImdldFNlbGVjdGVkRWRnZUlkc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIElmKHQ9dGhpcy5fc2VsZWN0aW9uQWNjdW11bGF0b3IuZ2V0RWRnZXMoKSkuY2FsbCh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZH0pKX19LHtrZXk6XCJzZXRTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYoIXR8fCF0Lm5vZGVzJiYhdC5lZGdlcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2VsZWN0aW9uIG11c3QgYmUgYW4gb2JqZWN0IHdpdGggbm9kZXMgYW5kL29yIGVkZ2VzIHByb3BlcnRpZXNcIik7aWYoKGUudW5zZWxlY3RBbGx8fHZvaWQgMD09PWUudW5zZWxlY3RBbGwpJiZ0aGlzLnVuc2VsZWN0QWxsKCksdC5ub2Rlcyl7dmFyIGksbz1IQyh0Lm5vZGVzKTt0cnl7Zm9yKG8ucygpOyEoaT1vLm4oKSkuZG9uZTspe3ZhciBuPWkudmFsdWUscj10aGlzLmJvZHkubm9kZXNbbl07aWYoIXIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ05vZGUgd2l0aCBpZCBcIicrbisnXCIgbm90IGZvdW5kJyk7dGhpcy5zZWxlY3RPYmplY3QocixlLmhpZ2hsaWdodEVkZ2VzKX19Y2F0Y2godCl7by5lKHQpfWZpbmFsbHl7by5mKCl9fWlmKHQuZWRnZXMpe3ZhciBzLGE9SEModC5lZGdlcyk7dHJ5e2ZvcihhLnMoKTshKHM9YS5uKCkpLmRvbmU7KXt2YXIgaD1zLnZhbHVlLGQ9dGhpcy5ib2R5LmVkZ2VzW2hdO2lmKCFkKXRocm93IG5ldyBSYW5nZUVycm9yKCdFZGdlIHdpdGggaWQgXCInK2grJ1wiIG5vdCBmb3VuZCcpO3RoaXMuc2VsZWN0T2JqZWN0KGQpfX1jYXRjaCh0KXthLmUodCl9ZmluYWxseXthLmYoKX19dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXF1ZXN0UmVkcmF3XCIpLHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmNvbW1pdCgpfX0se2tleTpcInNlbGVjdE5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZighdHx8dm9pZCAwPT09dC5sZW5ndGgpdGhyb3dcIlNlbGVjdGlvbiBtdXN0IGJlIGFuIGFycmF5IHdpdGggaWRzXCI7dGhpcy5zZXRTZWxlY3Rpb24oe25vZGVzOnR9LHtoaWdobGlnaHRFZGdlczplfSl9fSx7a2V5Olwic2VsZWN0RWRnZXNcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdHx8dm9pZCAwPT09dC5sZW5ndGgpdGhyb3dcIlNlbGVjdGlvbiBtdXN0IGJlIGFuIGFycmF5IHdpdGggaWRzXCI7dGhpcy5zZXRTZWxlY3Rpb24oe2VkZ2VzOnR9KX19LHtrZXk6XCJ1cGRhdGVTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5nZXROb2RlcygpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkubm9kZXMsdC5pZCl8fHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmRlbGV0ZU5vZGVzKHQpO2Zvcih2YXIgZSBpbiB0aGlzLl9zZWxlY3Rpb25BY2N1bXVsYXRvci5nZXRFZGdlcygpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkuZWRnZXMsZS5pZCl8fHRoaXMuX3NlbGVjdGlvbkFjY3VtdWxhdG9yLmRlbGV0ZUVkZ2VzKGUpfX0se2tleTpcImdldENsaWNrZWRJdGVtc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmNhbnZhcy5ET010b0NhbnZhcyh0KSxpPVtdLG89dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLG49dGhpcy5ib2R5Lm5vZGVzLHI9by5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIHM9bltvW3JdXS5nZXRJdGVtc09uUG9pbnQoZSk7aS5wdXNoLmFwcGx5KGkscyl9Zm9yKHZhciBhPXRoaXMuYm9keS5lZGdlSW5kaWNlcyxoPXRoaXMuYm9keS5lZGdlcyxkPWEubGVuZ3RoLTE7ZD49MDtkLS0pe3ZhciBsPWhbYVtkXV0uZ2V0SXRlbXNPblBvaW50KGUpO2kucHVzaC5hcHBseShpLGwpfXJldHVybiBpfX1dKSx0fSgpLHFDPWhkLFVDPU1hdGguZmxvb3IsWUM9ZnVuY3Rpb24odCxlKXt2YXIgaT10Lmxlbmd0aCxvPVVDKGkvMik7cmV0dXJuIGk8OD9YQyh0LGUpOktDKHQsWUMocUModCwwLG8pLGUpLFlDKHFDKHQsbyksZSksZSl9LFhDPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpLG8sbj10Lmxlbmd0aCxyPTE7cjxuOyl7Zm9yKG89cixpPXRbcl07byYmZSh0W28tMV0saSk+MDspdFtvXT10Wy0tb107byE9PXIrKyYmKHRbb109aSl9cmV0dXJuIHR9LEtDPWZ1bmN0aW9uKHQsZSxpLG8pe2Zvcih2YXIgbj1lLmxlbmd0aCxyPWkubGVuZ3RoLHM9MCxhPTA7czxufHxhPHI7KXRbcythXT1zPG4mJmE8cj9vKGVbc10saVthXSk8PTA/ZVtzKytdOmlbYSsrXTpzPG4/ZVtzKytdOmlbYSsrXTtyZXR1cm4gdH0sR0M9WUMsJEM9ZHQubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvaSksWkM9ISEkQyYmKyRDWzFdLFFDPS9NU0lFfFRyaWRlbnQvLnRlc3QoZHQpLEpDPWR0Lm1hdGNoKC9BcHBsZVdlYktpdFxcLyhcXGQrKVxcLi8pLHRTPSEhSkMmJitKQ1sxXSxlUz1NaSxpUz15LG9TPUl0LG5TPSR0LHJTPUhpLHNTPWNwLGFTPXVuLGhTPXMsZFM9R0MsbFM9SGYsY1M9WkMsdVM9UUMsZlM9Z3QscFM9dFMsdlM9W10sZ1M9aVModlMuc29ydCkseVM9aVModlMucHVzaCksbVM9aFMoKGZ1bmN0aW9uKCl7dlMuc29ydCh2b2lkIDApfSkpLGJTPWhTKChmdW5jdGlvbigpe3ZTLnNvcnQobnVsbCl9KSksd1M9bFMoXCJzb3J0XCIpLGtTPSFoUygoZnVuY3Rpb24oKXtpZihmUylyZXR1cm4gZlM8NzA7aWYoIShjUyYmY1M+Mykpe2lmKHVTKXJldHVybiEwO2lmKHBTKXJldHVybiBwUzw2MDM7dmFyIHQsZSxpLG8sbj1cIlwiO2Zvcih0PTY1O3Q8NzY7dCsrKXtzd2l0Y2goZT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQpLHQpe2Nhc2UgNjY6Y2FzZSA2OTpjYXNlIDcwOmNhc2UgNzI6aT0zO2JyZWFrO2Nhc2UgNjg6Y2FzZSA3MTppPTQ7YnJlYWs7ZGVmYXVsdDppPTJ9Zm9yKG89MDtvPDQ3O28rKyl2Uy5wdXNoKHtrOmUrbyx2Oml9KX1mb3IodlMuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS52LXQudn0pKSxvPTA7bzx2Uy5sZW5ndGg7bysrKWU9dlNbb10uay5jaGFyQXQoMCksbi5jaGFyQXQobi5sZW5ndGgtMSkhPT1lJiYobis9ZSk7cmV0dXJuXCJER0JFRkhBQ0lKS1wiIT09bn19KSk7ZVMoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOm1TfHwhYlN8fCF3U3x8IWtTfSx7c29ydDpmdW5jdGlvbih0KXt2b2lkIDAhPT10JiZvUyh0KTt2YXIgZT1uUyh0aGlzKTtpZihrUylyZXR1cm4gdm9pZCAwPT09dD9nUyhlKTpnUyhlLHQpO3ZhciBpLG8sbj1bXSxyPXJTKGUpO2ZvcihvPTA7bzxyO28rKylvIGluIGUmJnlTKG4sZVtvXSk7Zm9yKGRTKG4sZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsaSl7cmV0dXJuIHZvaWQgMD09PWk/LTE6dm9pZCAwPT09ZT8xOnZvaWQgMCE9PXQ/K3QoZSxpKXx8MDphUyhlKT5hUyhpKT8xOi0xfX0odCkpLGk9clMobiksbz0wO288aTspZVtvXT1uW28rK107Zm9yKDtvPHI7KXNTKGUsbysrKTtyZXR1cm4gZX19KTt2YXIgX1M9em8oXCJBcnJheVwiKS5zb3J0LHhTPWh0LEVTPV9TLE9TPUFycmF5LnByb3RvdHlwZSxDUz1mdW5jdGlvbih0KXt2YXIgZT10LnNvcnQ7cmV0dXJuIHQ9PT1PU3x8eFMoT1MsdCkmJmU9PT1PUy5zb3J0P0VTOmV9LFNTPW8oQ1MpLFRTPUl0LE1TPSR0LFBTPVUsRFM9SGksSVM9VHlwZUVycm9yLEJTPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLGksbyxuKXtUUyhpKTt2YXIgcj1NUyhlKSxzPVBTKHIpLGE9RFMociksaD10P2EtMTowLGQ9dD8tMToxO2lmKG88Milmb3IoOzspe2lmKGggaW4gcyl7bj1zW2hdLGgrPWQ7YnJlYWt9aWYoaCs9ZCx0P2g8MDphPD1oKXRocm93IG5ldyBJUyhcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIil9Zm9yKDt0P2g+PTA6YT5oO2grPWQpaCBpbiBzJiYobj1pKG4sc1toXSxoLHIpKTtyZXR1cm4gbn19LEZTPXtsZWZ0OkJTKCExKSxyaWdodDpCUyghMCl9LHpTPVwicHJvY2Vzc1wiPT09ayhyLnByb2Nlc3MpLE5TPUZTLmxlZnQ7TWkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiF6UyYmZ3Q+NzkmJmd0PDgzfHwhSGYoXCJyZWR1Y2VcIil9LHtyZWR1Y2U6ZnVuY3Rpb24odCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtyZXR1cm4gTlModGhpcyx0LGUsZT4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pO3ZhciBBUz16byhcIkFycmF5XCIpLnJlZHVjZSxSUz1odCxqUz1BUyxMUz1BcnJheS5wcm90b3R5cGUsSFM9ZnVuY3Rpb24odCl7dmFyIGU9dC5yZWR1Y2U7cmV0dXJuIHQ9PT1MU3x8UlMoTFMsdCkmJmU9PT1MUy5yZWR1Y2U/alM6ZX0sV1M9byhIUyk7ZnVuY3Rpb24gVlModCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IXN4KXJldHVybiExO2lmKHN4LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoc3goQm9vbGVhbixbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaSxvPXB4KHQpO2lmKGUpe3ZhciBuPXB4KHRoaXMpLmNvbnN0cnVjdG9yO2k9c3gobyxhcmd1bWVudHMsbil9ZWxzZSBpPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1eCh0aGlzLGkpfX12YXIgcVM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmgodGhpcyx0KX1yZXR1cm4gd3UodCxbe2tleTpcImFic3RyYWN0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBpbnN0YW50aWF0ZSBhYnN0cmFjdCBjbGFzcyFcIil9fSx7a2V5OlwiZmFrZV91c2VcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJjdXJ2ZVR5cGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFic3RyYWN0KCl9fSx7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mYWtlX3VzZSh0KSx0aGlzLmFic3RyYWN0KCl9fSx7a2V5Olwic2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7dGhpcy5mYWtlX3VzZSh0LGUsaSksdGhpcy5hYnN0cmFjdCgpfX0se2tleTpcImdldFRyZWVTaXplXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZmFrZV91c2UodCksdGhpcy5hYnN0cmFjdCgpfX0se2tleTpcInNvcnRcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmZha2VfdXNlKHQpLHRoaXMuYWJzdHJhY3QoKX19LHtrZXk6XCJmaXhcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZmFrZV91c2UodCxlKSx0aGlzLmFic3RyYWN0KCl9fSx7a2V5Olwic2hpZnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMuZmFrZV91c2UodCxlKSx0aGlzLmFic3RyYWN0KCl9fV0pLHR9KCksVVM9ZnVuY3Rpb24odCl7Y3goaSx0KTt2YXIgZT1WUyhpKTtmdW5jdGlvbiBpKHQpe3ZhciBvO3JldHVybiB2aCh0aGlzLGkpLChvPWUuY2FsbCh0aGlzKSkubGF5b3V0PXQsb31yZXR1cm4gd3UoaSxbe2tleTpcImN1cnZlVHlwZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJob3Jpem9udGFsXCJ9fSx7a2V5OlwiZ2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC54fX0se2tleTpcInNldFBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwO3ZvaWQgMCE9PWkmJnRoaXMubGF5b3V0LmhpZXJhcmNoaWNhbC5hZGRUb09yZGVyaW5nKHQsaSksdC54PWV9fSx7a2V5OlwiZ2V0VHJlZVNpemVcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxheW91dC5oaWVyYXJjaGljYWwuZ2V0VHJlZVNpemUodGhpcy5sYXlvdXQuYm9keS5ub2Rlcyx0KTtyZXR1cm57bWluOmUubWluX3gsbWF4OmUubWF4X3h9fX0se2tleTpcInNvcnRcIix2YWx1ZTpmdW5jdGlvbih0KXtTUyh0KS5jYWxsKHQsKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQueC1lLnh9KSl9fSx7a2V5OlwiZml4XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0Lnk9dGhpcy5sYXlvdXQub3B0aW9ucy5oaWVyYXJjaGljYWwubGV2ZWxTZXBhcmF0aW9uKmUsdC5vcHRpb25zLmZpeGVkLnk9ITB9fSx7a2V5Olwic2hpZnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMubGF5b3V0LmJvZHkubm9kZXNbdF0ueCs9ZX19XSksaX0ocVMpLFlTPWZ1bmN0aW9uKHQpe2N4KGksdCk7dmFyIGU9VlMoaSk7ZnVuY3Rpb24gaSh0KXt2YXIgbztyZXR1cm4gdmgodGhpcyxpKSwobz1lLmNhbGwodGhpcykpLmxheW91dD10LG99cmV0dXJuIHd1KGksW3trZXk6XCJjdXJ2ZVR5cGVcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVyblwidmVydGljYWxcIn19LHtrZXk6XCJnZXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Lnl9fSx7a2V5Olwic2V0UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7dm9pZCAwIT09aSYmdGhpcy5sYXlvdXQuaGllcmFyY2hpY2FsLmFkZFRvT3JkZXJpbmcodCxpKSx0Lnk9ZX19LHtrZXk6XCJnZXRUcmVlU2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubGF5b3V0LmhpZXJhcmNoaWNhbC5nZXRUcmVlU2l6ZSh0aGlzLmxheW91dC5ib2R5Lm5vZGVzLHQpO3JldHVybnttaW46ZS5taW5feSxtYXg6ZS5tYXhfeX19fSx7a2V5Olwic29ydFwiLHZhbHVlOmZ1bmN0aW9uKHQpe1NTKHQpLmNhbGwodCwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC55LWUueX0pKX19LHtrZXk6XCJmaXhcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3QueD10aGlzLmxheW91dC5vcHRpb25zLmhpZXJhcmNoaWNhbC5sZXZlbFNlcGFyYXRpb24qZSx0Lm9wdGlvbnMuZml4ZWQueD0hMH19LHtrZXk6XCJzaGlmdFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5sYXlvdXQuYm9keS5ub2Rlc1t0XS55Kz1lfX1dKSxpfShxUyksWFM9emQuZXZlcnk7TWkoe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOiFIZihcImV2ZXJ5XCIpfSx7ZXZlcnk6ZnVuY3Rpb24odCl7cmV0dXJuIFhTKHRoaXMsdCxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIEtTPXpvKFwiQXJyYXlcIikuZXZlcnksR1M9aHQsJFM9S1MsWlM9QXJyYXkucHJvdG90eXBlLFFTPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZXZlcnk7cmV0dXJuIHQ9PT1aU3x8R1MoWlMsdCkmJmU9PT1aUy5ldmVyeT8kUzplfSxKUz1vKFFTKTtmdW5jdGlvbiB0VCh0LGUpe3ZhciBpPXZvaWQgMCE9PWNmJiZwaCh0KXx8dFtcIkBAaXRlcmF0b3JcIl07aWYoIWkpe2lmKE9mKHQpfHwoaT1mdW5jdGlvbih0LGUpe3ZhciBpO2lmKCF0KXJldHVybjtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gZVQodCxlKTt2YXIgbz1tZihpPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSkuY2FsbChpLDgsLTEpO1wiT2JqZWN0XCI9PT1vJiZ0LmNvbnN0cnVjdG9yJiYobz10LmNvbnN0cnVjdG9yLm5hbWUpO2lmKFwiTWFwXCI9PT1vfHxcIlNldFwiPT09bylyZXR1cm4gWGEodCk7aWYoXCJBcmd1bWVudHNcIj09PW98fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG8pKXJldHVybiBlVCh0LGUpfSh0KSl8fGUmJnQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aCl7aSYmKHQ9aSk7dmFyIG89MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49dC5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOnRbbysrXX19LGU6ZnVuY3Rpb24odCl7dGhyb3cgdH0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9dmFyIHIscz0hMCxhPSExO3JldHVybntzOmZ1bmN0aW9uKCl7aT1pLmNhbGwodCl9LG46ZnVuY3Rpb24oKXt2YXIgdD1pLm5leHQoKTtyZXR1cm4gcz10LmRvbmUsdH0sZTpmdW5jdGlvbih0KXthPSEwLHI9dH0sZjpmdW5jdGlvbigpe3RyeXtzfHxudWxsPT1pLnJldHVybnx8aS5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgcn19fX1mdW5jdGlvbiBlVCh0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgaT0wLG89bmV3IEFycmF5KGUpO2k8ZTtpKyspb1tpXT10W2ldO3JldHVybiBvfWZ1bmN0aW9uIGlUKHQsZSl7dmFyIGk9bmV3IEJPO3JldHVybiBRZih0KS5jYWxsKHQsKGZ1bmN0aW9uKHQpe3ZhciBlO1FmKGU9dC5lZGdlcykuY2FsbChlLChmdW5jdGlvbih0KXt0LmNvbm5lY3RlZCYmaS5hZGQodCl9KSl9KSksUWYoaSkuY2FsbChpLChmdW5jdGlvbih0KXt2YXIgaT10LmZyb20uaWQsbz10LnRvLmlkO251bGw9PWVbaV0mJihlW2ldPTApLChudWxsPT1lW29dfHxlW2ldPj1lW29dKSYmKGVbb109ZVtpXSsxKX0pKSxlfWZ1bmN0aW9uIG9UKHQsZSxpLG8pe3ZhciBuLHIscz1ZdihudWxsKSxhPVdTKG49bGYoTl8obykuY2FsbChvKSkpLmNhbGwobiwoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCsxK2UuZWRnZXMubGVuZ3RofSksMCksaD1pK1wiSWRcIixkPVwidG9cIj09PWk/MTotMSxsPXRUKG8pO3RyeXt2YXIgYyx1PWZ1bmN0aW9uKCl7dmFyIG49ZGYoci52YWx1ZSwyKSxsPW5bMF0sYz1uWzFdO2lmKCFvLmhhcyhsKXx8IXQoYykpcmV0dXJuIDA7c1tsXT0wO2Zvcih2YXIgdSxmLHA9W2NdLHY9MCxnPWZ1bmN0aW9uKCl7dmFyIHQsbjtpZighby5oYXMobCkpcmV0dXJuIDA7dmFyIHI9c1t1LmlkXStkO2lmKFFmKHQ9bHYobj11LmVkZ2VzKS5jYWxsKG4sKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbm5lY3RlZCYmdC50byE9PXQuZnJvbSYmdFtpXSE9PXUmJm8uaGFzKHQudG9JZCkmJm8uaGFzKHQuZnJvbUlkKX0pKSkuY2FsbCh0LChmdW5jdGlvbih0KXt2YXIgbz10W2hdLG49c1tvXTsobnVsbD09bnx8ZShyLG4pKSYmKHNbb109cixwLnB1c2godFtpXSkpfSkpLHY+YSlyZXR1cm57djp7djppVChvLHMpfX07Kyt2fTt1PXAucG9wKCk7KWlmKDAhPT0oZj1nKCkpJiZmKXJldHVybiBmLnZ9O2ZvcihsLnMoKTshKHI9bC5uKCkpLmRvbmU7KWlmKDAhPT0oYz11KCkpJiZjKXJldHVybiBjLnZ9Y2F0Y2godCl7bC5lKHQpfWZpbmFsbHl7bC5mKCl9cmV0dXJuIHN9dmFyIG5UPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZoKHRoaXMsdCksdGhpcy5jaGlsZHJlblJlZmVyZW5jZT17fSx0aGlzLnBhcmVudFJlZmVyZW5jZT17fSx0aGlzLnRyZWVzPXt9LHRoaXMuZGlzdHJpYnV0aW9uT3JkZXJpbmc9e30sdGhpcy5sZXZlbHM9e30sdGhpcy5kaXN0cmlidXRpb25JbmRleD17fSx0aGlzLmlzVHJlZT0hMSx0aGlzLnRyZWVJbmRleD0tMX1yZXR1cm4gd3UodCxbe2tleTpcImFkZFJlbGF0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10aGlzLmNoaWxkcmVuUmVmZXJlbmNlW3RdJiYodGhpcy5jaGlsZHJlblJlZmVyZW5jZVt0XT1bXSksdGhpcy5jaGlsZHJlblJlZmVyZW5jZVt0XS5wdXNoKGUpLHZvaWQgMD09PXRoaXMucGFyZW50UmVmZXJlbmNlW2VdJiYodGhpcy5wYXJlbnRSZWZlcmVuY2VbZV09W10pLHRoaXMucGFyZW50UmVmZXJlbmNlW2VdLnB1c2godCl9fSx7a2V5OlwiY2hlY2tJZlRyZWVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLnBhcmVudFJlZmVyZW5jZSlpZih0aGlzLnBhcmVudFJlZmVyZW5jZVt0XS5sZW5ndGg+MSlyZXR1cm4gdm9pZCh0aGlzLmlzVHJlZT0hMSk7dGhpcy5pc1RyZWU9ITB9fSx7a2V5OlwibnVtVHJlZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyZWVJbmRleCsxfX0se2tleTpcInNldFRyZWVJbmRleFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwIT09ZSYmdm9pZCAwPT09dGhpcy50cmVlc1t0LmlkXSYmKHRoaXMudHJlZXNbdC5pZF09ZSx0aGlzLnRyZWVJbmRleD1NYXRoLm1heChlLHRoaXMudHJlZUluZGV4KSl9fSx7a2V5OlwiZW5zdXJlTGV2ZWxcIix2YWx1ZTpmdW5jdGlvbih0KXt2b2lkIDA9PT10aGlzLmxldmVsc1t0XSYmKHRoaXMubGV2ZWxzW3RdPTApfX0se2tleTpcImdldE1heExldmVsXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXt9O3JldHVybiBmdW5jdGlvbiB0KG8pe2lmKHZvaWQgMCE9PWlbb10pcmV0dXJuIGlbb107dmFyIG49ZS5sZXZlbHNbb107aWYoZS5jaGlsZHJlblJlZmVyZW5jZVtvXSl7dmFyIHI9ZS5jaGlsZHJlblJlZmVyZW5jZVtvXTtpZihyLmxlbmd0aD4wKWZvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKW49TWF0aC5tYXgobix0KHJbc10pKX1yZXR1cm4gaVtvXT1uLG59KHQpfX0se2tleTpcImxldmVsRG93bnN0cmVhbVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dGhpcy5sZXZlbHNbZS5pZF0mJih2b2lkIDA9PT10aGlzLmxldmVsc1t0LmlkXSYmKHRoaXMubGV2ZWxzW3QuaWRdPTApLHRoaXMubGV2ZWxzW2UuaWRdPXRoaXMubGV2ZWxzW3QuaWRdKzEpfX0se2tleTpcInNldE1pbkxldmVsVG9aZXJvXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9MWU5O2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiZ2b2lkIDAhPT10aGlzLmxldmVsc1tpXSYmKGU9TWF0aC5taW4odGhpcy5sZXZlbHNbaV0sZSkpO2Zvcih2YXIgbyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG8pJiZ2b2lkIDAhPT10aGlzLmxldmVsc1tvXSYmKHRoaXMubGV2ZWxzW29dLT1lKX19LHtrZXk6XCJnZXRUcmVlU2l6ZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9MWU5LG89LTFlOSxuPTFlOSxyPS0xZTk7Zm9yKHZhciBzIGluIHRoaXMudHJlZXMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudHJlZXMscykmJnRoaXMudHJlZXNbc109PT1lKXt2YXIgYT10W3NdO2k9TWF0aC5taW4oYS54LGkpLG89TWF0aC5tYXgoYS54LG8pLG49TWF0aC5taW4oYS55LG4pLHI9TWF0aC5tYXgoYS55LHIpfXJldHVybnttaW5feDppLG1heF94Om8sbWluX3k6bixtYXhfeTpyfX19LHtrZXk6XCJoYXNTYW1lUGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLnBhcmVudFJlZmVyZW5jZVt0LmlkXSxvPXRoaXMucGFyZW50UmVmZXJlbmNlW2UuaWRdO2lmKHZvaWQgMD09PWl8fHZvaWQgMD09PW8pcmV0dXJuITE7Zm9yKHZhciBuPTA7bjxpLmxlbmd0aDtuKyspZm9yKHZhciByPTA7cjxvLmxlbmd0aDtyKyspaWYoaVtuXT09b1tyXSlyZXR1cm4hMDtyZXR1cm4hMX19LHtrZXk6XCJpblNhbWVTdWJOZXR3b3JrXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50cmVlc1t0LmlkXT09PXRoaXMudHJlZXNbZS5pZF19fSx7a2V5OlwiZ2V0TGV2ZWxzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gemYodGhpcy5kaXN0cmlidXRpb25PcmRlcmluZyl9fSx7a2V5OlwiYWRkVG9PcmRlcmluZ1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09dGhpcy5kaXN0cmlidXRpb25PcmRlcmluZ1tlXSYmKHRoaXMuZGlzdHJpYnV0aW9uT3JkZXJpbmdbZV09W10pO3ZhciBpPSExLG89dGhpcy5kaXN0cmlidXRpb25PcmRlcmluZ1tlXTtmb3IodmFyIG4gaW4gbylpZihvW25dPT09dCl7aT0hMDticmVha31pfHwodGhpcy5kaXN0cmlidXRpb25PcmRlcmluZ1tlXS5wdXNoKHQpLHRoaXMuZGlzdHJpYnV0aW9uSW5kZXhbdC5pZF09dGhpcy5kaXN0cmlidXRpb25PcmRlcmluZ1tlXS5sZW5ndGgtMSl9fV0pLHR9KCksclQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3ZoKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5fcmVzZXRSTkcoTWF0aC5yYW5kb20oKStcIjpcIitqZigpKSx0aGlzLnNldFBoeXNpY3M9ITEsdGhpcy5vcHRpb25zPXt9LHRoaXMub3B0aW9uc0JhY2t1cD17cGh5c2ljczp7fX0sdGhpcy5kZWZhdWx0T3B0aW9ucz17cmFuZG9tU2VlZDp2b2lkIDAsaW1wcm92ZWRMYXlvdXQ6ITAsY2x1c3RlclRocmVzaG9sZDoxNTAsaGllcmFyY2hpY2FsOntlbmFibGVkOiExLGxldmVsU2VwYXJhdGlvbjoxNTAsbm9kZVNwYWNpbmc6MTAwLHRyZWVTcGFjaW5nOjIwMCxibG9ja1NoaWZ0aW5nOiEwLGVkZ2VNaW5pbWl6YXRpb246ITAscGFyZW50Q2VudHJhbGl6YXRpb246ITAsZGlyZWN0aW9uOlwiVURcIixzb3J0TWV0aG9kOlwiaHVic2l6ZVwifX0sd28odGhpcy5vcHRpb25zLHRoaXMuZGVmYXVsdE9wdGlvbnMpLHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIHd1KHQsW3trZXk6XCJiaW5kRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YUNoYW5nZWRcIiwoZnVuY3Rpb24oKXt0LnNldHVwSGllcmFyY2hpY2FsTGF5b3V0KCl9KSksdGhpcy5ib2R5LmVtaXR0ZXIub24oXCJfZGF0YUxvYWRlZFwiLChmdW5jdGlvbigpe3QubGF5b3V0TmV0d29yaygpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3Jlc2V0SGllcmFyY2hpY2FsTGF5b3V0XCIsKGZ1bmN0aW9uKCl7dC5zZXR1cEhpZXJhcmNoaWNhbExheW91dCgpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2FkanVzdEVkZ2VzRm9ySGllcmFyY2hpY2FsTGF5b3V0XCIsKGZ1bmN0aW9uKCl7aWYoITA9PT10Lm9wdGlvbnMuaGllcmFyY2hpY2FsLmVuYWJsZWQpe3ZhciBlPXQuZGlyZWN0aW9uLmN1cnZlVHlwZSgpO3QuYm9keS5lbWl0dGVyLmVtaXQoXCJfZm9yY2VEaXNhYmxlRHluYW1pY0N1cnZlc1wiLGUsITEpfX0pKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtpZih2b2lkIDAhPT10KXt2YXIgaT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLG89aS5lbmFibGVkO2lmKE5tKFtcInJhbmRvbVNlZWRcIixcImltcHJvdmVkTGF5b3V0XCIsXCJjbHVzdGVyVGhyZXNob2xkXCJdLHRoaXMub3B0aW9ucyx0KSxRbSh0aGlzLm9wdGlvbnMsdCxcImhpZXJhcmNoaWNhbFwiKSx2b2lkIDAhPT10LnJhbmRvbVNlZWQmJnRoaXMuX3Jlc2V0Uk5HKHQucmFuZG9tU2VlZCksITA9PT1pLmVuYWJsZWQpcmV0dXJuITA9PT1vJiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwicmVmcmVzaFwiLCEwKSxcIlJMXCI9PT1pLmRpcmVjdGlvbnx8XCJEVVwiPT09aS5kaXJlY3Rpb24/aS5sZXZlbFNlcGFyYXRpb24+MCYmKGkubGV2ZWxTZXBhcmF0aW9uKj0tMSk6aS5sZXZlbFNlcGFyYXRpb248MCYmKGkubGV2ZWxTZXBhcmF0aW9uKj0tMSksdGhpcy5zZXREaXJlY3Rpb25TdHJhdGVneSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVzZXRIaWVyYXJjaGljYWxMYXlvdXRcIiksdGhpcy5hZGFwdEFsbE9wdGlvbnNGb3JIaWVyYXJjaGljYWxMYXlvdXQoZSk7aWYoITA9PT1vKXJldHVybiB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwicmVmcmVzaFwiKSxSbShlLHRoaXMub3B0aW9uc0JhY2t1cCl9cmV0dXJuIGV9fSx7a2V5OlwiX3Jlc2V0Uk5HXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5pbml0aWFsUmFuZG9tU2VlZD10LHRoaXMuX3JuZz1FbSh0aGlzLmluaXRpYWxSYW5kb21TZWVkKX19LHtrZXk6XCJhZGFwdEFsbE9wdGlvbnNGb3JIaWVyYXJjaGljYWxMYXlvdXRcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighMD09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZW5hYmxlZCl7dmFyIGU9dGhpcy5vcHRpb25zQmFja3VwLnBoeXNpY3M7dm9pZCAwPT09dC5waHlzaWNzfHwhMD09PXQucGh5c2ljcz8odC5waHlzaWNzPXtlbmFibGVkOnZvaWQgMD09PWUuZW5hYmxlZHx8ZS5lbmFibGVkLHNvbHZlcjpcImhpZXJhcmNoaWNhbFJlcHVsc2lvblwifSxlLmVuYWJsZWQ9dm9pZCAwPT09ZS5lbmFibGVkfHxlLmVuYWJsZWQsZS5zb2x2ZXI9ZS5zb2x2ZXJ8fFwiYmFybmVzSHV0XCIpOlwib2JqZWN0XCI9PT1ndSh0LnBoeXNpY3MpPyhlLmVuYWJsZWQ9dm9pZCAwPT09dC5waHlzaWNzLmVuYWJsZWR8fHQucGh5c2ljcy5lbmFibGVkLGUuc29sdmVyPXQucGh5c2ljcy5zb2x2ZXJ8fFwiYmFybmVzSHV0XCIsdC5waHlzaWNzLnNvbHZlcj1cImhpZXJhcmNoaWNhbFJlcHVsc2lvblwiKTohMSE9PXQucGh5c2ljcyYmKGUuc29sdmVyPVwiYmFybmVzSHV0XCIsdC5waHlzaWNzPXtzb2x2ZXI6XCJoaWVyYXJjaGljYWxSZXB1bHNpb25cIn0pO3ZhciBpPXRoaXMuZGlyZWN0aW9uLmN1cnZlVHlwZSgpO2lmKHZvaWQgMD09PXQuZWRnZXMpdGhpcy5vcHRpb25zQmFja3VwLmVkZ2VzPXtzbW9vdGg6e2VuYWJsZWQ6ITAsdHlwZTpcImR5bmFtaWNcIn19LHQuZWRnZXM9e3Ntb290aDohMX07ZWxzZSBpZih2b2lkIDA9PT10LmVkZ2VzLnNtb290aCl0aGlzLm9wdGlvbnNCYWNrdXAuZWRnZXM9e3Ntb290aDp7ZW5hYmxlZDohMCx0eXBlOlwiZHluYW1pY1wifX0sdC5lZGdlcy5zbW9vdGg9ITE7ZWxzZSBpZihcImJvb2xlYW5cIj09dHlwZW9mIHQuZWRnZXMuc21vb3RoKXRoaXMub3B0aW9uc0JhY2t1cC5lZGdlcz17c21vb3RoOnQuZWRnZXMuc21vb3RofSx0LmVkZ2VzLnNtb290aD17ZW5hYmxlZDp0LmVkZ2VzLnNtb290aCx0eXBlOml9O2Vsc2V7dmFyIG89dC5lZGdlcy5zbW9vdGg7dm9pZCAwIT09by50eXBlJiZcImR5bmFtaWNcIiE9PW8udHlwZSYmKGk9by50eXBlKSx0aGlzLm9wdGlvbnNCYWNrdXAuZWRnZXM9e3Ntb290aDp7ZW5hYmxlZDp2b2lkIDA9PT1vLmVuYWJsZWR8fG8uZW5hYmxlZCx0eXBlOnZvaWQgMD09PW8udHlwZT9cImR5bmFtaWNcIjpvLnR5cGUscm91bmRuZXNzOnZvaWQgMD09PW8ucm91bmRuZXNzPy41Om8ucm91bmRuZXNzLGZvcmNlRGlyZWN0aW9uOnZvaWQgMCE9PW8uZm9yY2VEaXJlY3Rpb24mJm8uZm9yY2VEaXJlY3Rpb259fSx0LmVkZ2VzLnNtb290aD17ZW5hYmxlZDp2b2lkIDA9PT1vLmVuYWJsZWR8fG8uZW5hYmxlZCx0eXBlOmkscm91bmRuZXNzOnZvaWQgMD09PW8ucm91bmRuZXNzPy41Om8ucm91bmRuZXNzLGZvcmNlRGlyZWN0aW9uOnZvaWQgMCE9PW8uZm9yY2VEaXJlY3Rpb24mJm8uZm9yY2VEaXJlY3Rpb259fXRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfZm9yY2VEaXNhYmxlRHluYW1pY0N1cnZlc1wiLGkpfXJldHVybiB0fX0se2tleTpcInBvc2l0aW9uSW5pdGlhbGx5XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoITAhPT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmVuYWJsZWQpe3RoaXMuX3Jlc2V0Uk5HKHRoaXMuaW5pdGlhbFJhbmRvbVNlZWQpO2Zvcih2YXIgZT10Lmxlbmd0aCs1MCxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBvPXRbaV0sbj0yKk1hdGguUEkqdGhpcy5fcm5nKCk7dm9pZCAwPT09by54JiYoby54PWUqTWF0aC5jb3MobikpLHZvaWQgMD09PW8ueSYmKG8ueT1lKk1hdGguc2luKG4pKX19fX0se2tleTpcImxheW91dE5ldHdvcmtcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCEwIT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5lbmFibGVkJiYhMD09PXRoaXMub3B0aW9ucy5pbXByb3ZlZExheW91dCl7Zm9yKHZhciB0PXRoaXMuYm9keS5ub2RlSW5kaWNlcyxlPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXshMD09PXRoaXMuYm9keS5ub2Rlc1t0W2ldXS5wcmVkZWZpbmVkUG9zaXRpb24mJihlKz0xKX1pZihlPC41KnQubGVuZ3RoKXt2YXIgbz0wLG49dGhpcy5vcHRpb25zLmNsdXN0ZXJUaHJlc2hvbGQscj17Y2x1c3Rlck5vZGVQcm9wZXJ0aWVzOntzaGFwZTpcImVsbGlwc2VcIixsYWJlbDpcIlwiLGdyb3VwOlwiXCIsZm9udDp7bXVsdGk6ITF9fSxjbHVzdGVyRWRnZVByb3BlcnRpZXM6e2xhYmVsOlwiXCIsZm9udDp7bXVsdGk6ITF9LHNtb290aDp7ZW5hYmxlZDohMX19fTtpZih0Lmxlbmd0aD5uKXtmb3IodmFyIHM9dC5sZW5ndGg7dC5sZW5ndGg+biYmbzw9MTA7KXtvKz0xO3ZhciBhPXQubGVuZ3RoO2lmKG8lMz09MD90aGlzLmJvZHkubW9kdWxlcy5jbHVzdGVyaW5nLmNsdXN0ZXJCcmlkZ2VzKHIpOnRoaXMuYm9keS5tb2R1bGVzLmNsdXN0ZXJpbmcuY2x1c3Rlck91dGxpZXJzKHIpLGE9PXQubGVuZ3RoJiZvJTMhPTApcmV0dXJuIHRoaXMuX2RlY2x1c3RlckFsbCgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfbGF5b3V0RmFpbGVkXCIpLHZvaWQgY29uc29sZS5pbmZvKFwiVGhpcyBuZXR3b3JrIGNvdWxkIG5vdCBiZSBwb3NpdGlvbmVkIGJ5IHRoaXMgdmVyc2lvbiBvZiB0aGUgaW1wcm92ZWQgbGF5b3V0IGFsZ29yaXRobS4gUGxlYXNlIGRpc2FibGUgaW1wcm92ZWRMYXlvdXQgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cIil9dGhpcy5ib2R5Lm1vZHVsZXMua2FtYWRhS2F3YWkuc2V0T3B0aW9ucyh7c3ByaW5nTGVuZ3RoOk1hdGgubWF4KDE1MCwyKnMpfSl9bz4xMCYmY29uc29sZS5pbmZvKFwiVGhlIGNsdXN0ZXJpbmcgZGlkbid0IHN1Y2NlZWQgd2l0aGluIHRoZSBhbW91bnQgb2YgaW50ZXJhdGlvbnMgYWxsb3dlZCwgcHJvZ3Jlc3Npbmcgd2l0aCBwYXJ0aWFsIHJlc3VsdC5cIiksdGhpcy5ib2R5Lm1vZHVsZXMua2FtYWRhS2F3YWkuc29sdmUodCx0aGlzLmJvZHkuZWRnZUluZGljZXMsITApLHRoaXMuX3NoaWZ0VG9DZW50ZXIoKTtmb3IodmFyIGg9MDtoPHQubGVuZ3RoO2grKyl7dmFyIGQ9dGhpcy5ib2R5Lm5vZGVzW3RbaF1dOyExPT09ZC5wcmVkZWZpbmVkUG9zaXRpb24mJihkLngrPTcwKiguNS10aGlzLl9ybmcoKSksZC55Kz03MCooLjUtdGhpcy5fcm5nKCkpKX10aGlzLl9kZWNsdXN0ZXJBbGwoKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcG9zaXRpb25CZXppZXJOb2Rlc1wiKX19fX0se2tleTpcIl9zaGlmdFRvQ2VudGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bU8uZ2V0UmFuZ2VDb3JlKHRoaXMuYm9keS5ub2Rlcyx0aGlzLmJvZHkubm9kZUluZGljZXMpLGU9bU8uZmluZENlbnRlcih0KSxpPTA7aTx0aGlzLmJvZHkubm9kZUluZGljZXMubGVuZ3RoO2krKyl7dmFyIG89dGhpcy5ib2R5Lm5vZGVzW3RoaXMuYm9keS5ub2RlSW5kaWNlc1tpXV07by54LT1lLngsby55LT1lLnl9fX0se2tleTpcIl9kZWNsdXN0ZXJBbGxcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0hMDshMD09PXQ7KXt0PSExO2Zvcih2YXIgZT0wO2U8dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtlKyspITA9PT10aGlzLmJvZHkubm9kZXNbdGhpcy5ib2R5Lm5vZGVJbmRpY2VzW2VdXS5pc0NsdXN0ZXImJih0PSEwLHRoaXMuYm9keS5tb2R1bGVzLmNsdXN0ZXJpbmcub3BlbkNsdXN0ZXIodGhpcy5ib2R5Lm5vZGVJbmRpY2VzW2VdLHt9LCExKSk7ITA9PT10JiZ0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFDaGFuZ2VkXCIpfX19LHtrZXk6XCJnZXRTZWVkXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0aWFsUmFuZG9tU2VlZH19LHtrZXk6XCJzZXR1cEhpZXJhcmNoaWNhbExheW91dFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYoITA9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmVuYWJsZWQmJnRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGg+MCl7dmFyIHQsZSxpPSExLG89ITE7Zm9yKGUgaW4gdGhpcy5sYXN0Tm9kZU9uTGV2ZWw9e30sdGhpcy5oaWVyYXJjaGljYWw9bmV3IG5ULHRoaXMuYm9keS5ub2RlcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5Lm5vZGVzLGUpJiYodm9pZCAwIT09KHQ9dGhpcy5ib2R5Lm5vZGVzW2VdKS5vcHRpb25zLmxldmVsPyhpPSEwLHRoaXMuaGllcmFyY2hpY2FsLmxldmVsc1tlXT10Lm9wdGlvbnMubGV2ZWwpOm89ITApO2lmKCEwPT09byYmITA9PT1pKXRocm93IG5ldyBFcnJvcihcIlRvIHVzZSB0aGUgaGllcmFyY2hpY2FsIGxheW91dCwgbm9kZXMgcmVxdWlyZSBlaXRoZXIgbm8gcHJlZGVmaW5lZCBsZXZlbHMgb3IgbGV2ZWxzIGhhdmUgdG8gYmUgZGVmaW5lZCBmb3IgYWxsIG5vZGVzLlwiKTtpZighMD09PW8pe3ZhciBuPXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuc29ydE1ldGhvZDtcImh1YnNpemVcIj09PW4/dGhpcy5fZGV0ZXJtaW5lTGV2ZWxzQnlIdWJzaXplKCk6XCJkaXJlY3RlZFwiPT09bj90aGlzLl9kZXRlcm1pbmVMZXZlbHNEaXJlY3RlZCgpOlwiY3VzdG9tXCI9PT1uJiZ0aGlzLl9kZXRlcm1pbmVMZXZlbHNDdXN0b21DYWxsYmFjaygpfWZvcih2YXIgciBpbiB0aGlzLmJvZHkubm9kZXMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuYm9keS5ub2RlcyxyKSYmdGhpcy5oaWVyYXJjaGljYWwuZW5zdXJlTGV2ZWwocik7dmFyIHM9dGhpcy5fZ2V0RGlzdHJpYnV0aW9uKCk7dGhpcy5fZ2VuZXJhdGVNYXAoKSx0aGlzLl9wbGFjZU5vZGVzQnlIaWVyYXJjaHkocyksdGhpcy5fY29uZGVuc2VIaWVyYXJjaHkoKSx0aGlzLl9zaGlmdFRvQ2VudGVyKCl9fX0se2tleTpcIl9jb25kZW5zZUhpZXJhcmNoeVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPSExLGk9e30sbz1mdW5jdGlvbihlLGkpe3ZhciBvPXQuaGllcmFyY2hpY2FsLnRyZWVzO2Zvcih2YXIgbiBpbiBvKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLG4pJiZvW25dPT09ZSYmdC5kaXJlY3Rpb24uc2hpZnQobixpKX0sbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxpPTA7aTx0LmhpZXJhcmNoaWNhbC5udW1UcmVlcygpO2krKyllLnB1c2godC5kaXJlY3Rpb24uZ2V0VHJlZVNpemUoaSkpO3JldHVybiBlfSxyPWZ1bmN0aW9uIGUoaSxvKXtpZighb1tpLmlkXSYmKG9baS5pZF09ITAsdC5oaWVyYXJjaGljYWwuY2hpbGRyZW5SZWZlcmVuY2VbaS5pZF0pKXt2YXIgbj10LmhpZXJhcmNoaWNhbC5jaGlsZHJlblJlZmVyZW5jZVtpLmlkXTtpZihuLmxlbmd0aD4wKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWUodC5ib2R5Lm5vZGVzW25bcl1dLG8pfX0scz1mdW5jdGlvbihlKXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MWU5LG89MWU5LG49MWU5LHI9MWU5LHM9LTFlOTtmb3IodmFyIGEgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxhKSl7dmFyIGg9dC5ib2R5Lm5vZGVzW2FdLGQ9dC5oaWVyYXJjaGljYWwubGV2ZWxzW2guaWRdLGw9dC5kaXJlY3Rpb24uZ2V0UG9zaXRpb24oaCksYz1kZih0Ll9nZXRTcGFjZUFyb3VuZE5vZGUoaCxlKSwyKSx1PWNbMF0sZj1jWzFdO289TWF0aC5taW4odSxvKSxuPU1hdGgubWluKGYsbiksZDw9aSYmKHI9TWF0aC5taW4obCxyKSxzPU1hdGgubWF4KGwscykpfXJldHVybltyLHMsbyxuXX0sYT1mdW5jdGlvbihlLGksbyl7Zm9yKHZhciBuPXQuaGllcmFyY2hpY2FsLHI9MDtyPGkubGVuZ3RoO3IrKyl7dmFyIHM9aVtyXSxhPW4uZGlzdHJpYnV0aW9uT3JkZXJpbmdbc107aWYoYS5sZW5ndGg+MSlmb3IodmFyIGg9MDtoPGEubGVuZ3RoLTE7aCsrKXt2YXIgZD1hW2hdLGw9YVtoKzFdO24uaGFzU2FtZVBhcmVudChkLGwpJiZuLmluU2FtZVN1Yk5ldHdvcmsoZCxsKSYmZShkLGwsbyl9fX0saD1mdW5jdGlvbihpLG8pe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sYT10LmRpcmVjdGlvbi5nZXRQb3NpdGlvbihpKSxoPXQuZGlyZWN0aW9uLmdldFBvc2l0aW9uKG8pLGQ9TWF0aC5hYnMoaC1hKSxsPXQub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmc7aWYoZD5sKXt2YXIgYz17fSx1PXt9O3IoaSxjKSxyKG8sdSk7dmFyIGY9ZnVuY3Rpb24oZSxpKXt2YXIgbz10LmhpZXJhcmNoaWNhbC5nZXRNYXhMZXZlbChlLmlkKSxuPXQuaGllcmFyY2hpY2FsLmdldE1heExldmVsKGkuaWQpO3JldHVybiBNYXRoLm1pbihvLG4pfShpLG8pLHA9cyhjLGYpLHY9cyh1LGYpLGc9cFsxXSx5PXZbMF0sbT12WzJdO2lmKE1hdGguYWJzKGcteSk+bCl7dmFyIGI9Zy15K2w7YjwtbStsJiYoYj0tbStsKSxiPDAmJih0Ll9zaGlmdEJsb2NrKG8uaWQsYiksZT0hMCwhMD09PW4mJnQuX2NlbnRlclBhcmVudChvKSl9fX0sZD1mdW5jdGlvbihvLG4pe2Zvcih2YXIgYT1uLmlkLGg9bi5lZGdlcyxkPXQuaGllcmFyY2hpY2FsLmxldmVsc1tuLmlkXSxsPXQub3B0aW9ucy5oaWVyYXJjaGljYWwubGV2ZWxTZXBhcmF0aW9uKnQub3B0aW9ucy5oaWVyYXJjaGljYWwubGV2ZWxTZXBhcmF0aW9uLGM9e30sdT1bXSxmPTA7ZjxoLmxlbmd0aDtmKyspe3ZhciBwPWhbZl07aWYocC50b0lkIT1wLmZyb21JZCl7dmFyIHY9cC50b0lkPT1hP3AuZnJvbTpwLnRvO2NbaFtmXS5pZF09dix0LmhpZXJhcmNoaWNhbC5sZXZlbHNbdi5pZF08ZCYmdS5wdXNoKHApfX12YXIgZz1mdW5jdGlvbihlLGkpe2Zvcih2YXIgbz0wLG49MDtuPGkubGVuZ3RoO24rKylpZih2b2lkIDAhPT1jW2lbbl0uaWRdKXt2YXIgcj10LmRpcmVjdGlvbi5nZXRQb3NpdGlvbihjW2lbbl0uaWRdKS1lO28rPXIvTWF0aC5zcXJ0KHIqcitsKX1yZXR1cm4gb30seT1mdW5jdGlvbihlLGkpe2Zvcih2YXIgbz0wLG49MDtuPGkubGVuZ3RoO24rKylpZih2b2lkIDAhPT1jW2lbbl0uaWRdKXt2YXIgcj10LmRpcmVjdGlvbi5nZXRQb3NpdGlvbihjW2lbbl0uaWRdKS1lO28tPWwqTWF0aC5wb3cocipyK2wsLTEuNSl9cmV0dXJuIG99LG09ZnVuY3Rpb24oZSxpKXtmb3IodmFyIG89dC5kaXJlY3Rpb24uZ2V0UG9zaXRpb24obikscj17fSxzPTA7czxlO3MrKyl7dmFyIGE9ZyhvLGkpLGg9eShvLGkpO2lmKHZvaWQgMCE9PXJbby09TWF0aC5tYXgoLTQwLE1hdGgubWluKDQwLE1hdGgucm91bmQoYS9oKSkpXSlicmVhaztyW29dPXN9cmV0dXJuIG99LGI9bShvLHUpOyFmdW5jdGlvbihvKXt2YXIgYT10LmRpcmVjdGlvbi5nZXRQb3NpdGlvbihuKTtpZih2b2lkIDA9PT1pW24uaWRdKXt2YXIgaD17fTtyKG4saCksaVtuLmlkXT1ofXZhciBkPXMoaVtuLmlkXSksbD1kWzJdLGM9ZFszXSx1PW8tYSxmPTA7dT4wP2Y9TWF0aC5taW4odSxjLXQub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmcpOnU8MCYmKGY9LU1hdGgubWluKC11LGwtdC5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZykpLDAhPWYmJih0Ll9zaGlmdEJsb2NrKG4uaWQsZiksZT0hMCl9KGIpLGZ1bmN0aW9uKGkpe3ZhciBvPXQuZGlyZWN0aW9uLmdldFBvc2l0aW9uKG4pLHI9ZGYodC5fZ2V0U3BhY2VBcm91bmROb2RlKG4pLDIpLHM9clswXSxhPXJbMV0saD1pLW8sZD1vO2g+MD9kPU1hdGgubWluKG8rKGEtdC5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZyksaSk6aDwwJiYoZD1NYXRoLm1heChvLShzLXQub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmcpLGkpKSxkIT09byYmKHQuZGlyZWN0aW9uLnNldFBvc2l0aW9uKG4sZCksZT0hMCl9KGI9bShvLGgpKX07ITA9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmJsb2NrU2hpZnRpbmcmJihmdW5jdGlvbihpKXt2YXIgbz10LmhpZXJhcmNoaWNhbC5nZXRMZXZlbHMoKTtvPWhwKG8pLmNhbGwobyk7Zm9yKHZhciBuPTA7bjxpJiYoZT0hMSxhKGgsbywhMCksITA9PT1lKTtuKyspO30oNSksZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdC5ib2R5Lm5vZGVzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LmJvZHkubm9kZXMsZSkmJnQuX2NlbnRlclBhcmVudCh0LmJvZHkubm9kZXNbZV0pfSgpKSwhMD09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZWRnZU1pbmltaXphdGlvbiYmZnVuY3Rpb24oaSl7dmFyIG89dC5oaWVyYXJjaGljYWwuZ2V0TGV2ZWxzKCk7bz1ocChvKS5jYWxsKG8pO2Zvcih2YXIgbj0wO248aTtuKyspe2U9ITE7Zm9yKHZhciByPTA7cjxvLmxlbmd0aDtyKyspZm9yKHZhciBzPW9bcl0sYT10LmhpZXJhcmNoaWNhbC5kaXN0cmlidXRpb25PcmRlcmluZ1tzXSxoPTA7aDxhLmxlbmd0aDtoKyspZCgxZTMsYVtoXSk7aWYoITAhPT1lKWJyZWFrfX0oMjApLCEwPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5wYXJlbnRDZW50cmFsaXphdGlvbiYmZnVuY3Rpb24oKXt2YXIgZT10LmhpZXJhcmNoaWNhbC5nZXRMZXZlbHMoKTtlPWhwKGUpLmNhbGwoZSk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspZm9yKHZhciBvPWVbaV0sbj10LmhpZXJhcmNoaWNhbC5kaXN0cmlidXRpb25PcmRlcmluZ1tvXSxyPTA7cjxuLmxlbmd0aDtyKyspdC5fY2VudGVyUGFyZW50KG5bcl0pfSgpLGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW4oKSxpPTAscj0wO3I8ZS5sZW5ndGgtMTtyKyspe2krPWVbcl0ubWF4LWVbcisxXS5taW4rdC5vcHRpb25zLmhpZXJhcmNoaWNhbC50cmVlU3BhY2luZyxvKHIrMSxpKX19KCl9fSx7a2V5OlwiX2dldFNwYWNlQXJvdW5kTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9ITA7dm9pZCAwPT09ZSYmKGk9ITEpO3ZhciBvPXRoaXMuaGllcmFyY2hpY2FsLmxldmVsc1t0LmlkXTtpZih2b2lkIDAhPT1vKXt2YXIgbj10aGlzLmhpZXJhcmNoaWNhbC5kaXN0cmlidXRpb25JbmRleFt0LmlkXSxyPXRoaXMuZGlyZWN0aW9uLmdldFBvc2l0aW9uKHQpLHM9dGhpcy5oaWVyYXJjaGljYWwuZGlzdHJpYnV0aW9uT3JkZXJpbmdbb10sYT0xZTksaD0xZTk7aWYoMCE9PW4pe3ZhciBkPXNbbi0xXTtpZighMD09PWkmJnZvaWQgMD09PWVbZC5pZF18fCExPT09aSlhPXItdGhpcy5kaXJlY3Rpb24uZ2V0UG9zaXRpb24oZCl9aWYobiE9cy5sZW5ndGgtMSl7dmFyIGw9c1tuKzFdO2lmKCEwPT09aSYmdm9pZCAwPT09ZVtsLmlkXXx8ITE9PT1pKXt2YXIgYz10aGlzLmRpcmVjdGlvbi5nZXRQb3NpdGlvbihsKTtoPU1hdGgubWluKGgsYy1yKX19cmV0dXJuW2EsaF19cmV0dXJuWzAsMF19fSx7a2V5OlwiX2NlbnRlclBhcmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaGllcmFyY2hpY2FsLnBhcmVudFJlZmVyZW5jZVt0LmlkXSlmb3IodmFyIGU9dGhpcy5oaWVyYXJjaGljYWwucGFyZW50UmVmZXJlbmNlW3QuaWRdLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXSxuPXRoaXMuYm9keS5ub2Rlc1tvXSxyPXRoaXMuaGllcmFyY2hpY2FsLmNoaWxkcmVuUmVmZXJlbmNlW29dO2lmKHZvaWQgMCE9PXIpe3ZhciBzPXRoaXMuX2dldENlbnRlclBvc2l0aW9uKHIpLGE9dGhpcy5kaXJlY3Rpb24uZ2V0UG9zaXRpb24obiksaD1kZih0aGlzLl9nZXRTcGFjZUFyb3VuZE5vZGUobiksMiksZD1oWzBdLGw9aFsxXSxjPWEtczsoYzwwJiZNYXRoLmFicyhjKTxsLXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmd8fGM+MCYmTWF0aC5hYnMoYyk8ZC10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLm5vZGVTcGFjaW5nKSYmdGhpcy5kaXJlY3Rpb24uc2V0UG9zaXRpb24obixzKX19fX0se2tleTpcIl9wbGFjZU5vZGVzQnlIaWVyYXJjaHlcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdGhpcy5wb3NpdGlvbmVkTm9kZXM9e30sdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSl7dmFyIGksbz16Zih0W2VdKTtvPXRoaXMuX2luZGV4QXJyYXlUb05vZGVzKG8pLFNTKGk9dGhpcy5kaXJlY3Rpb24pLmNhbGwoaSxvKTtmb3IodmFyIG49MCxyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBzPW9bcl07aWYodm9pZCAwPT09dGhpcy5wb3NpdGlvbmVkTm9kZXNbcy5pZF0pe3ZhciBhPXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmcsaD1hKm47bj4wJiYoaD10aGlzLmRpcmVjdGlvbi5nZXRQb3NpdGlvbihvW3ItMV0pK2EpLHRoaXMuZGlyZWN0aW9uLnNldFBvc2l0aW9uKHMsaCxlKSx0aGlzLl92YWxpZGF0ZVBvc2l0aW9uQW5kQ29udGludWUocyxlLGgpLG4rK319fX19LHtrZXk6XCJfcGxhY2VCcmFuY2hOb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbz10aGlzLmhpZXJhcmNoaWNhbC5jaGlsZHJlblJlZmVyZW5jZVt0XTtpZih2b2lkIDAhPT1vKXtmb3IodmFyIG49W10scj0wO3I8by5sZW5ndGg7cisrKW4ucHVzaCh0aGlzLmJvZHkubm9kZXNbb1tyXV0pO1NTKGk9dGhpcy5kaXJlY3Rpb24pLmNhbGwoaSxuKTtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIGE9bltzXSxoPXRoaXMuaGllcmFyY2hpY2FsLmxldmVsc1thLmlkXTtpZighKGg+ZSYmdm9pZCAwPT09dGhpcy5wb3NpdGlvbmVkTm9kZXNbYS5pZF0pKXJldHVybjt2YXIgZD10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLm5vZGVTcGFjaW5nLGw9dm9pZCAwO2w9MD09PXM/dGhpcy5kaXJlY3Rpb24uZ2V0UG9zaXRpb24odGhpcy5ib2R5Lm5vZGVzW3RdKTp0aGlzLmRpcmVjdGlvbi5nZXRQb3NpdGlvbihuW3MtMV0pK2QsdGhpcy5kaXJlY3Rpb24uc2V0UG9zaXRpb24oYSxsLGgpLHRoaXMuX3ZhbGlkYXRlUG9zaXRpb25BbmRDb250aW51ZShhLGgsbCl9dmFyIGM9dGhpcy5fZ2V0Q2VudGVyUG9zaXRpb24obik7dGhpcy5kaXJlY3Rpb24uc2V0UG9zaXRpb24odGhpcy5ib2R5Lm5vZGVzW3RdLGMsZSl9fX0se2tleTpcIl92YWxpZGF0ZVBvc2l0aW9uQW5kQ29udGludWVcIix2YWx1ZTpmdW5jdGlvbih0LGUsaSl7aWYodGhpcy5oaWVyYXJjaGljYWwuaXNUcmVlKXtpZih2b2lkIDAhPT10aGlzLmxhc3ROb2RlT25MZXZlbFtlXSl7dmFyIG89dGhpcy5kaXJlY3Rpb24uZ2V0UG9zaXRpb24odGhpcy5ib2R5Lm5vZGVzW3RoaXMubGFzdE5vZGVPbkxldmVsW2VdXSk7aWYoaS1vPHRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwubm9kZVNwYWNpbmcpe3ZhciBuPW8rdGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5ub2RlU3BhY2luZy1pLHI9dGhpcy5fZmluZENvbW1vblBhcmVudCh0aGlzLmxhc3ROb2RlT25MZXZlbFtlXSx0LmlkKTt0aGlzLl9zaGlmdEJsb2NrKHIud2l0aENoaWxkLG4pfX10aGlzLmxhc3ROb2RlT25MZXZlbFtlXT10LmlkLHRoaXMucG9zaXRpb25lZE5vZGVzW3QuaWRdPSEwLHRoaXMuX3BsYWNlQnJhbmNoTm9kZXModC5pZCxlKX19fSx7a2V5OlwiX2luZGV4QXJyYXlUb05vZGVzXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQubGVuZ3RoO2krKyllLnB1c2godGhpcy5ib2R5Lm5vZGVzW3RbaV1dKTtyZXR1cm4gZX19LHtrZXk6XCJfZ2V0RGlzdHJpYnV0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlLGk9e307Zm9yKHQgaW4gdGhpcy5ib2R5Lm5vZGVzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkubm9kZXMsdCkpe2U9dGhpcy5ib2R5Lm5vZGVzW3RdO3ZhciBvPXZvaWQgMD09PXRoaXMuaGllcmFyY2hpY2FsLmxldmVsc1t0XT8wOnRoaXMuaGllcmFyY2hpY2FsLmxldmVsc1t0XTt0aGlzLmRpcmVjdGlvbi5maXgoZSxvKSx2b2lkIDA9PT1pW29dJiYoaVtvXT17fSksaVtvXVt0XT1lfXJldHVybiBpfX0se2tleTpcIl9nZXRBY3RpdmVFZGdlc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsaT1bXTtyZXR1cm4gSG0odC5lZGdlcywoZnVuY3Rpb24odCl7dmFyIG87LTEhPT1WdihvPWUuYm9keS5lZGdlSW5kaWNlcykuY2FsbChvLHQuaWQpJiZpLnB1c2godCl9KSksaX19LHtrZXk6XCJfZ2V0SHViU2l6ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT17fTtIbSh0aGlzLmJvZHkubm9kZUluZGljZXMsKGZ1bmN0aW9uKGkpe3ZhciBvPXQuYm9keS5ub2Rlc1tpXSxuPXQuX2dldEFjdGl2ZUVkZ2VzKG8pLmxlbmd0aDtlW25dPSEwfSkpO3ZhciBpPVtdO3JldHVybiBIbShlLChmdW5jdGlvbih0KXtpLnB1c2goTnVtYmVyKHQpKX0pKSxTUyhpKS5jYWxsKGksKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUtdH0pKSxpfX0se2tleTpcIl9kZXRlcm1pbmVMZXZlbHNCeUh1YnNpemVcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9ZnVuY3Rpb24oZSxpKXt0LmhpZXJhcmNoaWNhbC5sZXZlbERvd25zdHJlYW0oZSxpKX0saT10aGlzLl9nZXRIdWJTaXplcygpLG89ZnVuY3Rpb24oKXt2YXIgbz1pW25dO2lmKDA9PT1vKXJldHVybiAxO0htKHQuYm9keS5ub2RlSW5kaWNlcywoZnVuY3Rpb24oaSl7dmFyIG49dC5ib2R5Lm5vZGVzW2ldO289PT10Ll9nZXRBY3RpdmVFZGdlcyhuKS5sZW5ndGgmJnQuX2NyYXdsTmV0d29yayhlLGkpfSkpfSxuPTA7bjxpLmxlbmd0aCYmIW8oKTsrK24pO319LHtrZXk6XCJfZGV0ZXJtaW5lTGV2ZWxzQ3VzdG9tQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fY3Jhd2xOZXR3b3JrKChmdW5jdGlvbihlLGksbyl7dmFyIG49dC5oaWVyYXJjaGljYWwubGV2ZWxzW2UuaWRdO3ZvaWQgMD09PW4mJihuPXQuaGllcmFyY2hpY2FsLmxldmVsc1tlLmlkXT0xZTUpO3ZhciByPShtTy5jbG9uZU9wdGlvbnMoZSxcIm5vZGVcIiksbU8uY2xvbmVPcHRpb25zKGksXCJub2RlXCIpLHZvaWQgbU8uY2xvbmVPcHRpb25zKG8sXCJlZGdlXCIpKTt0LmhpZXJhcmNoaWNhbC5sZXZlbHNbaS5pZF09bityfSkpLHRoaXMuaGllcmFyY2hpY2FsLnNldE1pbkxldmVsVG9aZXJvKHRoaXMuYm9keS5ub2Rlcyl9fSx7a2V5OlwiX2RldGVybWluZUxldmVsc0RpcmVjdGVkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMsaT1XUyh0PXRoaXMuYm9keS5ub2RlSW5kaWNlcykuY2FsbCh0LChmdW5jdGlvbih0LGkpe3JldHVybiB0LnNldChpLGUuYm9keS5ub2Rlc1tpXSksdH0pLG5ldyB4ayk7XCJyb290c1wiPT09dGhpcy5vcHRpb25zLmhpZXJhcmNoaWNhbC5zaGFrZVRvd2FyZHM/dGhpcy5oaWVyYXJjaGljYWwubGV2ZWxzPWZ1bmN0aW9uKHQpe3JldHVybiBvVCgoZnVuY3Rpb24oZSl7dmFyIGksbztyZXR1cm4gSlMoaT1sdihvPWUuZWRnZXMpLmNhbGwobywoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzKGUudG9JZCl9KSkpLmNhbGwoaSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuZnJvbT09PWV9KSl9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZTx0fSksXCJ0b1wiLHQpfShpKTp0aGlzLmhpZXJhcmNoaWNhbC5sZXZlbHM9ZnVuY3Rpb24odCl7cmV0dXJuIG9UKChmdW5jdGlvbihlKXt2YXIgaSxvO3JldHVybiBKUyhpPWx2KG89ZS5lZGdlcykuY2FsbChvLChmdW5jdGlvbihlKXtyZXR1cm4gdC5oYXMoZS50b0lkKX0pKSkuY2FsbChpLChmdW5jdGlvbih0KXtyZXR1cm4gdC50bz09PWV9KSl9KSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gZT50fSksXCJmcm9tXCIsdCl9KGkpLHRoaXMuaGllcmFyY2hpY2FsLnNldE1pbkxldmVsVG9aZXJvKHRoaXMuYm9keS5ub2Rlcyl9fSx7a2V5OlwiX2dlbmVyYXRlTWFwXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2NyYXdsTmV0d29yaygoZnVuY3Rpb24oZSxpKXt0LmhpZXJhcmNoaWNhbC5sZXZlbHNbaS5pZF0+dC5oaWVyYXJjaGljYWwubGV2ZWxzW2UuaWRdJiZ0LmhpZXJhcmNoaWNhbC5hZGRSZWxhdGlvbihlLmlkLGkuaWQpfSkpLHRoaXMuaGllcmFyY2hpY2FsLmNoZWNrSWZUcmVlKCl9fSx7a2V5OlwiX2NyYXdsTmV0d29ya1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpmdW5jdGlvbigpe30saT1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxvPXt9LG49ZnVuY3Rpb24gaShuLHIpe2lmKHZvaWQgMD09PW9bbi5pZF0pe3ZhciBzO3QuaGllcmFyY2hpY2FsLnNldFRyZWVJbmRleChuLHIpLG9bbi5pZF09ITA7Zm9yKHZhciBhPXQuX2dldEFjdGl2ZUVkZ2VzKG4pLGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIGQ9YVtoXTshMD09PWQuY29ubmVjdGVkJiYocz1kLnRvSWQ9PW4uaWQ/ZC5mcm9tOmQudG8sbi5pZCE9cy5pZCYmKGUobixzLGQpLGkocyxyKSkpfX19O2lmKHZvaWQgMD09PWkpZm9yKHZhciByPTAscz0wO3M8dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLmxlbmd0aDtzKyspe3ZhciBhPXRoaXMuYm9keS5ub2RlSW5kaWNlc1tzXTtpZih2b2lkIDA9PT1vW2FdKW4odGhpcy5ib2R5Lm5vZGVzW2FdLHIpLHIrPTF9ZWxzZXt2YXIgaD10aGlzLmJvZHkubm9kZXNbaV07aWYodm9pZCAwPT09aClyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwiTm9kZSBub3QgZm91bmQ6XCIsaSk7bihoKX19fSx7a2V5OlwiX3NoaWZ0QmxvY2tcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbz17fTshZnVuY3Rpb24gdChuKXtpZighb1tuXSl7b1tuXT0hMCxpLmRpcmVjdGlvbi5zaGlmdChuLGUpO3ZhciByPWkuaGllcmFyY2hpY2FsLmNoaWxkcmVuUmVmZXJlbmNlW25dO2lmKHZvaWQgMCE9PXIpZm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspdChyW3NdKX19KHQpfX0se2tleTpcIl9maW5kQ29tbW9uUGFyZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLG89e307cmV0dXJuIGZ1bmN0aW9uIHQoZSxvKXt2YXIgbj1pLmhpZXJhcmNoaWNhbC5wYXJlbnRSZWZlcmVuY2Vbb107aWYodm9pZCAwIT09bilmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIHM9bltyXTtlW3NdPSEwLHQoZSxzKX19KG8sdCksZnVuY3Rpb24gdChlLG8pe3ZhciBuPWkuaGllcmFyY2hpY2FsLnBhcmVudFJlZmVyZW5jZVtvXTtpZih2b2lkIDAhPT1uKWZvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgcz1uW3JdO2lmKHZvaWQgMCE9PWVbc10pcmV0dXJue2ZvdW5kUGFyZW50OnMsd2l0aENoaWxkOm99O3ZhciBhPXQoZSxzKTtpZihudWxsIT09YS5mb3VuZFBhcmVudClyZXR1cm4gYX1yZXR1cm57Zm91bmRQYXJlbnQ6bnVsbCx3aXRoQ2hpbGQ6b319KG8sZSl9fSx7a2V5Olwic2V0RGlyZWN0aW9uU3RyYXRlZ3lcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PVwiVURcIj09PXRoaXMub3B0aW9ucy5oaWVyYXJjaGljYWwuZGlyZWN0aW9ufHxcIkRVXCI9PT10aGlzLm9wdGlvbnMuaGllcmFyY2hpY2FsLmRpcmVjdGlvbjt0aGlzLmRpcmVjdGlvbj10P25ldyBVUyh0aGlzKTpuZXcgWVModGhpcyl9fSx7a2V5OlwiX2dldENlbnRlclBvc2l0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTFlOSxpPS0xZTksbz0wO288dC5sZW5ndGg7bysrKXt2YXIgbj12b2lkIDA7aWYodm9pZCAwIT09dFtvXS5pZCluPXRbb107ZWxzZXt2YXIgcj10W29dO249dGhpcy5ib2R5Lm5vZGVzW3JdfXZhciBzPXRoaXMuZGlyZWN0aW9uLmdldFBvc2l0aW9uKG4pO2U9TWF0aC5taW4oZSxzKSxpPU1hdGgubWF4KGkscyl9cmV0dXJuLjUqKGUraSl9fV0pLHR9KCk7ZnVuY3Rpb24gc1QodCxlKXt2YXIgaT12b2lkIDAhPT1jZiYmcGgodCl8fHRbXCJAQGl0ZXJhdG9yXCJdO2lmKCFpKXtpZihPZih0KXx8KGk9ZnVuY3Rpb24odCxlKXt2YXIgaTtpZighdClyZXR1cm47aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGFUKHQsZSk7dmFyIG89bWYoaT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLmNhbGwoaSw4LC0xKTtcIk9iamVjdFwiPT09byYmdC5jb25zdHJ1Y3RvciYmKG89dC5jb25zdHJ1Y3Rvci5uYW1lKTtpZihcIk1hcFwiPT09b3x8XCJTZXRcIj09PW8pcmV0dXJuIFhhKHQpO2lmKFwiQXJndW1lbnRzXCI9PT1vfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChvKSlyZXR1cm4gYVQodCxlKX0odCkpfHxlJiZ0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpe2kmJih0PWkpO3ZhciBvPTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIG8+PXQubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTp0W28rK119fSxlOmZ1bmN0aW9uKHQpe3Rocm93IHR9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpfXZhciByLHM9ITAsYT0hMTtyZXR1cm57czpmdW5jdGlvbigpe2k9aS5jYWxsKHQpfSxuOmZ1bmN0aW9uKCl7dmFyIHQ9aS5uZXh0KCk7cmV0dXJuIHM9dC5kb25lLHR9LGU6ZnVuY3Rpb24odCl7YT0hMCxyPXR9LGY6ZnVuY3Rpb24oKXt0cnl7c3x8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihhKXRocm93IHJ9fX19ZnVuY3Rpb24gYVQodCxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTtmb3IodmFyIGk9MCxvPW5ldyBBcnJheShlKTtpPGU7aSsrKW9baV09dFtpXTtyZXR1cm4gb312YXIgaFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvLG4pe3ZhciByLHMsYT10aGlzO3ZoKHRoaXMsdCksdGhpcy5ib2R5PWUsdGhpcy5jYW52YXM9aSx0aGlzLnNlbGVjdGlvbkhhbmRsZXI9byx0aGlzLmludGVyYWN0aW9uSGFuZGxlcj1uLHRoaXMuZWRpdE1vZGU9ITEsdGhpcy5tYW5pcHVsYXRpb25EaXY9dm9pZCAwLHRoaXMuZWRpdE1vZGVEaXY9dm9pZCAwLHRoaXMuY2xvc2VEaXY9dm9pZCAwLHRoaXMuX2RvbUV2ZW50TGlzdGVuZXJDbGVhbnVwUXVldWU9W10sdGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9ucz17fSx0aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zPVtdLHRoaXMudG91Y2hUaW1lPTAsdGhpcy50ZW1wb3JhcnlJZHM9e25vZGVzOltdLGVkZ2VzOltdfSx0aGlzLmd1aUVuYWJsZWQ9ITEsdGhpcy5pbk1vZGU9ITEsdGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlPXZvaWQgMCx0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17ZW5hYmxlZDohMSxpbml0aWFsbHlBY3RpdmU6ITEsYWRkTm9kZTohMCxhZGRFZGdlOiEwLGVkaXROb2RlOnZvaWQgMCxlZGl0RWRnZTohMCxkZWxldGVOb2RlOiEwLGRlbGV0ZUVkZ2U6ITAsY29udHJvbE5vZGVTdHlsZTp7c2hhcGU6XCJkb3RcIixzaXplOjYsY29sb3I6e2JhY2tncm91bmQ6XCIjZmYwMDAwXCIsYm9yZGVyOlwiIzNjM2MzY1wiLGhpZ2hsaWdodDp7YmFja2dyb3VuZDpcIiMwN2Y5NjhcIixib3JkZXI6XCIjM2MzYzNjXCJ9fSxib3JkZXJXaWR0aDoyLGJvcmRlcldpZHRoU2VsZWN0ZWQ6Mn19LHdvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcImRlc3Ryb3lcIiwoZnVuY3Rpb24oKXthLl9jbGVhbigpfSkpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2RhdGFDaGFuZ2VkXCIsV28ocj10aGlzLl9yZXN0b3JlKS5jYWxsKHIsdGhpcykpLHRoaXMuYm9keS5lbWl0dGVyLm9uKFwiX3Jlc2V0RGF0YVwiLFdvKHM9dGhpcy5fcmVzdG9yZSkuY2FsbChzLHRoaXMpKX1yZXR1cm4gd3UodCxbe2tleTpcIl9yZXN0b3JlXCIsdmFsdWU6ZnVuY3Rpb24oKXshMSE9PXRoaXMuaW5Nb2RlJiYoITA9PT10aGlzLm9wdGlvbnMuaW5pdGlhbGx5QWN0aXZlP3RoaXMuZW5hYmxlRWRpdE1vZGUoKTp0aGlzLmRpc2FibGVFZGl0TW9kZSgpKX19LHtrZXk6XCJzZXRPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe3ZvaWQgMCE9PWUmJih2b2lkIDAhPT1lLmxvY2FsZT90aGlzLm9wdGlvbnMubG9jYWxlPWUubG9jYWxlOnRoaXMub3B0aW9ucy5sb2NhbGU9aS5sb2NhbGUsdm9pZCAwIT09ZS5sb2NhbGVzP3RoaXMub3B0aW9ucy5sb2NhbGVzPWUubG9jYWxlczp0aGlzLm9wdGlvbnMubG9jYWxlcz1pLmxvY2FsZXMpLHZvaWQgMCE9PXQmJihcImJvb2xlYW5cIj09dHlwZW9mIHQ/dGhpcy5vcHRpb25zLmVuYWJsZWQ9dDoodGhpcy5vcHRpb25zLmVuYWJsZWQ9ITAsUm0odGhpcy5vcHRpb25zLHQpKSwhMD09PXRoaXMub3B0aW9ucy5pbml0aWFsbHlBY3RpdmUmJih0aGlzLmVkaXRNb2RlPSEwKSx0aGlzLl9zZXR1cCgpKX19LHtrZXk6XCJ0b2dnbGVFZGl0TW9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7ITA9PT10aGlzLmVkaXRNb2RlP3RoaXMuZGlzYWJsZUVkaXRNb2RlKCk6dGhpcy5lbmFibGVFZGl0TW9kZSgpfX0se2tleTpcImVuYWJsZUVkaXRNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVkaXRNb2RlPSEwLHRoaXMuX2NsZWFuKCksITA9PT10aGlzLmd1aUVuYWJsZWQmJih0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIix0aGlzLmNsb3NlRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuZWRpdE1vZGVEaXYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSl9fSx7a2V5OlwiZGlzYWJsZUVkaXRNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVkaXRNb2RlPSExLHRoaXMuX2NsZWFuKCksITA9PT10aGlzLmd1aUVuYWJsZWQmJih0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuY2xvc2VEaXYuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLmVkaXRNb2RlRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuX2NyZWF0ZUVkaXRCdXR0b24oKSl9fSx7a2V5Olwic2hvd01hbmlwdWxhdG9yVG9vbGJhclwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5fY2xlYW4oKSx0aGlzLm1hbmlwdWxhdGlvbkRPTT17fSwhMD09PXRoaXMuZ3VpRW5hYmxlZCl7dmFyIHQsZTt0aGlzLmVkaXRNb2RlPSEwLHRoaXMubWFuaXB1bGF0aW9uRGl2LnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiLHRoaXMuY2xvc2VEaXYuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dmFyIGk9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkTm9kZUNvdW50KCksbz10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWRFZGdlQ291bnQoKSxuPWkrbyxyPXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLHM9ITE7ITEhPT10aGlzLm9wdGlvbnMuYWRkTm9kZSYmKHRoaXMuX2NyZWF0ZUFkZE5vZGVCdXR0b24ocikscz0hMCksITEhPT10aGlzLm9wdGlvbnMuYWRkRWRnZSYmKCEwPT09cz90aGlzLl9jcmVhdGVTZXBlcmF0b3IoMSk6cz0hMCx0aGlzLl9jcmVhdGVBZGRFZGdlQnV0dG9uKHIpKSwxPT09aSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5vcHRpb25zLmVkaXROb2RlPyghMD09PXM/dGhpcy5fY3JlYXRlU2VwZXJhdG9yKDIpOnM9ITAsdGhpcy5fY3JlYXRlRWRpdE5vZGVCdXR0b24ocikpOjE9PT1vJiYwPT09aSYmITEhPT10aGlzLm9wdGlvbnMuZWRpdEVkZ2UmJighMD09PXM/dGhpcy5fY3JlYXRlU2VwZXJhdG9yKDMpOnM9ITAsdGhpcy5fY3JlYXRlRWRpdEVkZ2VCdXR0b24ocikpLDAhPT1uJiYoaT4wJiYhMSE9PXRoaXMub3B0aW9ucy5kZWxldGVOb2RlfHwwPT09aSYmITEhPT10aGlzLm9wdGlvbnMuZGVsZXRlRWRnZSkmJighMD09PXMmJnRoaXMuX2NyZWF0ZVNlcGVyYXRvcig0KSx0aGlzLl9jcmVhdGVEZWxldGVCdXR0b24ocikpLHRoaXMuX2JpbmRFbGVtZW50RXZlbnRzKHRoaXMuY2xvc2VEaXYsV28odD10aGlzLnRvZ2dsZUVkaXRNb2RlKS5jYWxsKHQsdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRFdmVudChcInNlbGVjdFwiLFdvKGU9dGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKS5jYWxsKGUsdGhpcykpfXRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX0se2tleTpcImFkZE5vZGVNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdDtpZighMCE9PXRoaXMuZWRpdE1vZGUmJnRoaXMuZW5hYmxlRWRpdE1vZGUoKSx0aGlzLl9jbGVhbigpLHRoaXMuaW5Nb2RlPVwiYWRkTm9kZVwiLCEwPT09dGhpcy5ndWlFbmFibGVkKXt2YXIgZSxpPXRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdO3RoaXMubWFuaXB1bGF0aW9uRE9NPXt9LHRoaXMuX2NyZWF0ZUJhY2tCdXR0b24oaSksdGhpcy5fY3JlYXRlU2VwZXJhdG9yKCksdGhpcy5fY3JlYXRlRGVzY3JpcHRpb24oaS5hZGREZXNjcmlwdGlvbnx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uYWRkRGVzY3JpcHRpb24pLHRoaXMuX2JpbmRFbGVtZW50RXZlbnRzKHRoaXMuY2xvc2VEaXYsV28oZT10aGlzLnRvZ2dsZUVkaXRNb2RlKS5jYWxsKGUsdGhpcykpfXRoaXMuX3RlbXBvcmFyeUJpbmRFdmVudChcImNsaWNrXCIsV28odD10aGlzLl9wZXJmb3JtQWRkTm9kZSkuY2FsbCh0LHRoaXMpKX19LHtrZXk6XCJlZGl0Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczshMCE9PXRoaXMuZWRpdE1vZGUmJnRoaXMuZW5hYmxlRWRpdE1vZGUoKSx0aGlzLl9jbGVhbigpO3ZhciBlPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZE5vZGVzKClbMF07aWYodm9pZCAwIT09ZSl7aWYodGhpcy5pbk1vZGU9XCJlZGl0Tm9kZVwiLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXMub3B0aW9ucy5lZGl0Tm9kZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBmdW5jdGlvbiBoYXMgYmVlbiBjb25maWd1cmVkIHRvIGhhbmRsZSB0aGUgZWRpdGluZyBvZiBub2Rlcy5cIik7aWYoITAhPT1lLmlzQ2x1c3Rlcil7dmFyIGk9Um0oe30sZS5vcHRpb25zLCExKTtpZihpLng9ZS54LGkueT1lLnksMiE9PXRoaXMub3B0aW9ucy5lZGl0Tm9kZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVGhlIGZ1bmN0aW9uIGZvciBlZGl0IGRvZXMgbm90IHN1cHBvcnQgdHdvIGFyZ3VtZW50cyAoZGF0YSwgY2FsbGJhY2spXCIpO3RoaXMub3B0aW9ucy5lZGl0Tm9kZShpLChmdW5jdGlvbihlKXtudWxsIT1lJiZcImVkaXROb2RlXCI9PT10LmluTW9kZSYmdC5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLnVwZGF0ZShlKSx0LnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKX0pKX1lbHNlIGFsZXJ0KHRoaXMub3B0aW9ucy5sb2NhbGVzW3RoaXMub3B0aW9ucy5sb2NhbGVdLmVkaXRDbHVzdGVyRXJyb3J8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmVkaXRDbHVzdGVyRXJyb3IpfWVsc2UgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiYWRkRWRnZU1vZGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaSxvLG47aWYoITAhPT10aGlzLmVkaXRNb2RlJiZ0aGlzLmVuYWJsZUVkaXRNb2RlKCksdGhpcy5fY2xlYW4oKSx0aGlzLmluTW9kZT1cImFkZEVkZ2VcIiwhMD09PXRoaXMuZ3VpRW5hYmxlZCl7dmFyIHIscz10aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTt0aGlzLm1hbmlwdWxhdGlvbkRPTT17fSx0aGlzLl9jcmVhdGVCYWNrQnV0dG9uKHMpLHRoaXMuX2NyZWF0ZVNlcGVyYXRvcigpLHRoaXMuX2NyZWF0ZURlc2NyaXB0aW9uKHMuZWRnZURlc2NyaXB0aW9ufHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5lZGdlRGVzY3JpcHRpb24pLHRoaXMuX2JpbmRFbGVtZW50RXZlbnRzKHRoaXMuY2xvc2VEaXYsV28ocj10aGlzLnRvZ2dsZUVkaXRNb2RlKS5jYWxsKHIsdGhpcykpfXRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uVG91Y2hcIixXbyh0PXRoaXMuX2hhbmRsZUNvbm5lY3QpLmNhbGwodCx0aGlzKSksdGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25EcmFnRW5kXCIsV28oZT10aGlzLl9maW5pc2hDb25uZWN0KS5jYWxsKGUsdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ1wiLFdvKGk9dGhpcy5fZHJhZ0NvbnRyb2xOb2RlKS5jYWxsKGksdGhpcykpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uUmVsZWFzZVwiLFdvKG89dGhpcy5fZmluaXNoQ29ubmVjdCkuY2FsbChvLHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkRyYWdTdGFydFwiLFdvKG49dGhpcy5fZHJhZ1N0YXJ0RWRnZSkuY2FsbChuLHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkhvbGRcIiwoZnVuY3Rpb24oKXt9KSl9fSx7a2V5OlwiZWRpdEVkZ2VNb2RlXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighMCE9PXRoaXMuZWRpdE1vZGUmJnRoaXMuZW5hYmxlRWRpdE1vZGUoKSx0aGlzLl9jbGVhbigpLHRoaXMuaW5Nb2RlPVwiZWRpdEVkZ2VcIixcIm9iamVjdFwiIT09Z3UodGhpcy5vcHRpb25zLmVkaXRFZGdlKXx8XCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy5vcHRpb25zLmVkaXRFZGdlLmVkaXRXaXRob3V0RHJhZ3x8KHRoaXMuZWRnZUJlaW5nRWRpdGVkSWQ9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdldFNlbGVjdGVkRWRnZUlkcygpWzBdLHZvaWQgMD09PXRoaXMuZWRnZUJlaW5nRWRpdGVkSWQpKXtpZighMD09PXRoaXMuZ3VpRW5hYmxlZCl7dmFyIHQsZT10aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXTt0aGlzLm1hbmlwdWxhdGlvbkRPTT17fSx0aGlzLl9jcmVhdGVCYWNrQnV0dG9uKGUpLHRoaXMuX2NyZWF0ZVNlcGVyYXRvcigpLHRoaXMuX2NyZWF0ZURlc2NyaXB0aW9uKGUuZWRpdEVkZ2VEZXNjcmlwdGlvbnx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uZWRpdEVkZ2VEZXNjcmlwdGlvbiksdGhpcy5fYmluZEVsZW1lbnRFdmVudHModGhpcy5jbG9zZURpdixXbyh0PXRoaXMudG9nZ2xlRWRpdE1vZGUpLmNhbGwodCx0aGlzKSl9aWYodGhpcy5lZGdlQmVpbmdFZGl0ZWRJZD10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0ZWRFZGdlSWRzKClbMF0sdm9pZCAwIT09dGhpcy5lZGdlQmVpbmdFZGl0ZWRJZCl7dmFyIGksbyxuLHIscz10aGlzLmJvZHkuZWRnZXNbdGhpcy5lZGdlQmVpbmdFZGl0ZWRJZF0sYT10aGlzLl9nZXROZXdUYXJnZXROb2RlKHMuZnJvbS54LHMuZnJvbS55KSxoPXRoaXMuX2dldE5ld1RhcmdldE5vZGUocy50by54LHMudG8ueSk7dGhpcy50ZW1wb3JhcnlJZHMubm9kZXMucHVzaChhLmlkKSx0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlcy5wdXNoKGguaWQpLHRoaXMuYm9keS5ub2Rlc1thLmlkXT1hLHRoaXMuYm9keS5ub2RlSW5kaWNlcy5wdXNoKGEuaWQpLHRoaXMuYm9keS5ub2Rlc1toLmlkXT1oLHRoaXMuYm9keS5ub2RlSW5kaWNlcy5wdXNoKGguaWQpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uVG91Y2hcIixXbyhpPXRoaXMuX2NvbnRyb2xOb2RlVG91Y2gpLmNhbGwoaSx0aGlzKSksdGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25UYXBcIiwoZnVuY3Rpb24oKXt9KSksdGhpcy5fdGVtcG9yYXJ5QmluZFVJKFwib25Ib2xkXCIsKGZ1bmN0aW9uKCl7fSkpLHRoaXMuX3RlbXBvcmFyeUJpbmRVSShcIm9uRHJhZ1N0YXJ0XCIsV28obz10aGlzLl9jb250cm9sTm9kZURyYWdTdGFydCkuY2FsbChvLHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkRyYWdcIixXbyhuPXRoaXMuX2NvbnRyb2xOb2RlRHJhZykuY2FsbChuLHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbkRyYWdFbmRcIixXbyhyPXRoaXMuX2NvbnRyb2xOb2RlRHJhZ0VuZCkuY2FsbChyLHRoaXMpKSx0aGlzLl90ZW1wb3JhcnlCaW5kVUkoXCJvbk1vdXNlTW92ZVwiLChmdW5jdGlvbigpe30pKSx0aGlzLl90ZW1wb3JhcnlCaW5kRXZlbnQoXCJiZWZvcmVEcmF3aW5nXCIsKGZ1bmN0aW9uKHQpe3ZhciBlPXMuZWRnZVR5cGUuZmluZEJvcmRlclBvc2l0aW9ucyh0KTshMT09PWEuc2VsZWN0ZWQmJihhLng9ZS5mcm9tLngsYS55PWUuZnJvbS55KSwhMT09PWguc2VsZWN0ZWQmJihoLng9ZS50by54LGgueT1lLnRvLnkpfSkpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfWVsc2UgdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9ZWxzZXt2YXIgZD10aGlzLmJvZHkuZWRnZXNbdGhpcy5lZGdlQmVpbmdFZGl0ZWRJZF07dGhpcy5fcGVyZm9ybUVkaXRFZGdlKGQuZnJvbS5pZCxkLnRvLmlkKX19fSx7a2V5OlwiZGVsZXRlU2VsZWN0ZWRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7ITAhPT10aGlzLmVkaXRNb2RlJiZ0aGlzLmVuYWJsZUVkaXRNb2RlKCksdGhpcy5fY2xlYW4oKSx0aGlzLmluTW9kZT1cImRlbGV0ZVwiO3ZhciBlPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZE5vZGVJZHMoKSxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZEVkZ2VJZHMoKSxvPXZvaWQgMDtpZihlLmxlbmd0aD4wKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKylpZighMD09PXRoaXMuYm9keS5ub2Rlc1tlW25dXS5pc0NsdXN0ZXIpcmV0dXJuIHZvaWQgYWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV0uZGVsZXRlQ2x1c3RlckVycm9yfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5kZWxldGVDbHVzdGVyRXJyb3IpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5kZWxldGVOb2RlJiYobz10aGlzLm9wdGlvbnMuZGVsZXRlTm9kZSl9ZWxzZSBpLmxlbmd0aD4wJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuZGVsZXRlRWRnZSYmKG89dGhpcy5vcHRpb25zLmRlbGV0ZUVkZ2UpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG8pe3ZhciByPXtub2RlczplLGVkZ2VzOml9O2lmKDIhPT1vLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZnVuY3Rpb24gZm9yIGRlbGV0ZSBkb2VzIG5vdCBzdXBwb3J0IHR3byBhcmd1bWVudHMgKGRhdGEsIGNhbGxiYWNrKVwiKTtvKHIsKGZ1bmN0aW9uKGUpe251bGwhPWUmJlwiZGVsZXRlXCI9PT10LmluTW9kZT8odC5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLnJlbW92ZShlLmVkZ2VzKSx0LmJvZHkuZGF0YS5ub2Rlcy5nZXREYXRhU2V0KCkucmVtb3ZlKGUubm9kZXMpLHQuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIiksdC5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCkpOih0LmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpLHQuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpKX0pKX1lbHNlIHRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldERhdGFTZXQoKS5yZW1vdmUoaSksdGhpcy5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLnJlbW92ZShlKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwic3RhcnRTaW11bGF0aW9uXCIpLHRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpfX0se2tleTpcIl9zZXR1cFwiLHZhbHVlOmZ1bmN0aW9uKCl7ITA9PT10aGlzLm9wdGlvbnMuZW5hYmxlZD8odGhpcy5ndWlFbmFibGVkPSEwLHRoaXMuX2NyZWF0ZVdyYXBwZXJzKCksITE9PT10aGlzLmVkaXRNb2RlP3RoaXMuX2NyZWF0ZUVkaXRCdXR0b24oKTp0aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSk6KHRoaXMuX3JlbW92ZU1hbmlwdWxhdGlvbkRPTSgpLHRoaXMuZ3VpRW5hYmxlZD0hMSl9fSx7a2V5OlwiX2NyZWF0ZVdyYXBwZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdCxlOyh2b2lkIDA9PT10aGlzLm1hbmlwdWxhdGlvbkRpdiYmKHRoaXMubWFuaXB1bGF0aW9uRGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5tYW5pcHVsYXRpb25EaXYuY2xhc3NOYW1lPVwidmlzLW1hbmlwdWxhdGlvblwiLCEwPT09dGhpcy5lZGl0TW9kZT90aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjp0aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuY2FudmFzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMubWFuaXB1bGF0aW9uRGl2KSksdm9pZCAwPT09dGhpcy5lZGl0TW9kZURpdiYmKHRoaXMuZWRpdE1vZGVEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLmVkaXRNb2RlRGl2LmNsYXNzTmFtZT1cInZpcy1lZGl0LW1vZGVcIiwhMD09PXRoaXMuZWRpdE1vZGU/dGhpcy5lZGl0TW9kZURpdi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiOnRoaXMuZWRpdE1vZGVEaXYuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsdGhpcy5jYW52YXMuZnJhbWUuYXBwZW5kQ2hpbGQodGhpcy5lZGl0TW9kZURpdikpLHZvaWQgMD09PXRoaXMuY2xvc2VEaXYpJiYodGhpcy5jbG9zZURpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHRoaXMuY2xvc2VEaXYuY2xhc3NOYW1lPVwidmlzLWNsb3NlXCIsdGhpcy5jbG9zZURpdi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsbnVsbCE9PSh0PW51bGw9PT0oZT10aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2xvc2UpJiZ2b2lkIDAhPT10P3Q6dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uY2xvc2UpLHRoaXMuY2xvc2VEaXYuc3R5bGUuZGlzcGxheT10aGlzLm1hbmlwdWxhdGlvbkRpdi5zdHlsZS5kaXNwbGF5LHRoaXMuY2FudmFzLmZyYW1lLmFwcGVuZENoaWxkKHRoaXMuY2xvc2VEaXYpKX19LHtrZXk6XCJfZ2V0TmV3VGFyZ2V0Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9Um0oe30sdGhpcy5vcHRpb25zLmNvbnRyb2xOb2RlU3R5bGUpO2kuaWQ9XCJ0YXJnZXROb2RlXCIreU8oKSxpLmhpZGRlbj0hMSxpLnBoeXNpY3M9ITEsaS54PXQsaS55PWU7dmFyIG89dGhpcy5ib2R5LmZ1bmN0aW9ucy5jcmVhdGVOb2RlKGkpO3JldHVybiBvLnNoYXBlLmJvdW5kaW5nQm94PXtsZWZ0OnQscmlnaHQ6dCx0b3A6ZSxib3R0b206ZX0sb319LHtrZXk6XCJfY3JlYXRlRWRpdEJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fY2xlYW4oKSx0aGlzLm1hbmlwdWxhdGlvbkRPTT17fSxEbSh0aGlzLmVkaXRNb2RlRGl2KTt2YXIgZT10aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXSxpPXRoaXMuX2NyZWF0ZUJ1dHRvbihcImVkaXRNb2RlXCIsXCJ2aXMtZWRpdCB2aXMtZWRpdC1tb2RlXCIsZS5lZGl0fHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5lZGl0KTt0aGlzLmVkaXRNb2RlRGl2LmFwcGVuZENoaWxkKGkpLHRoaXMuX2JpbmRFbGVtZW50RXZlbnRzKGksV28odD10aGlzLnRvZ2dsZUVkaXRNb2RlKS5jYWxsKHQsdGhpcykpfX0se2tleTpcIl9jbGVhblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbk1vZGU9ITEsITA9PT10aGlzLmd1aUVuYWJsZWQmJihEbSh0aGlzLmVkaXRNb2RlRGl2KSxEbSh0aGlzLm1hbmlwdWxhdGlvbkRpdiksdGhpcy5fY2xlYW51cERPTUV2ZW50TGlzdGVuZXJzKCkpLHRoaXMuX2NsZWFudXBUZW1wb3JhcnlOb2Rlc0FuZEVkZ2VzKCksdGhpcy5fdW5iaW5kVGVtcG9yYXJ5VUlzKCksdGhpcy5fdW5iaW5kVGVtcG9yYXJ5RXZlbnRzKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJlc3RvcmVQaHlzaWNzXCIpfX0se2tleTpcIl9jbGVhbnVwRE9NRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0LGUsaT1zVChQcCh0PXRoaXMuX2RvbUV2ZW50TGlzdGVuZXJDbGVhbnVwUXVldWUpLmNhbGwodCwwKSk7dHJ5e2ZvcihpLnMoKTshKGU9aS5uKCkpLmRvbmU7KXsoMCxlLnZhbHVlKSgpfX1jYXRjaCh0KXtpLmUodCl9ZmluYWxseXtpLmYoKX19fSx7a2V5OlwiX3JlbW92ZU1hbmlwdWxhdGlvbkRPTVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYW4oKSxEbSh0aGlzLm1hbmlwdWxhdGlvbkRpdiksRG0odGhpcy5lZGl0TW9kZURpdiksRG0odGhpcy5jbG9zZURpdiksdGhpcy5tYW5pcHVsYXRpb25EaXYmJnRoaXMuY2FudmFzLmZyYW1lLnJlbW92ZUNoaWxkKHRoaXMubWFuaXB1bGF0aW9uRGl2KSx0aGlzLmVkaXRNb2RlRGl2JiZ0aGlzLmNhbnZhcy5mcmFtZS5yZW1vdmVDaGlsZCh0aGlzLmVkaXRNb2RlRGl2KSx0aGlzLmNsb3NlRGl2JiZ0aGlzLmNhbnZhcy5mcmFtZS5yZW1vdmVDaGlsZCh0aGlzLmNsb3NlRGl2KSx0aGlzLm1hbmlwdWxhdGlvbkRpdj12b2lkIDAsdGhpcy5lZGl0TW9kZURpdj12b2lkIDAsdGhpcy5jbG9zZURpdj12b2lkIDB9fSx7a2V5OlwiX2NyZWF0ZVNlcGVyYXRvclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjE7dGhpcy5tYW5pcHVsYXRpb25ET01bXCJzZXBlcmF0b3JMaW5lRGl2XCIrdF09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLm1hbmlwdWxhdGlvbkRPTVtcInNlcGVyYXRvckxpbmVEaXZcIit0XS5jbGFzc05hbWU9XCJ2aXMtc2VwYXJhdG9yLWxpbmVcIix0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZCh0aGlzLm1hbmlwdWxhdGlvbkRPTVtcInNlcGVyYXRvckxpbmVEaXZcIit0XSl9fSx7a2V5OlwiX2NyZWF0ZUFkZE5vZGVCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuX2NyZWF0ZUJ1dHRvbihcImFkZE5vZGVcIixcInZpcy1hZGRcIix0LmFkZE5vZGV8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmFkZE5vZGUpO3RoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGkpLHRoaXMuX2JpbmRFbGVtZW50RXZlbnRzKGksV28oZT10aGlzLmFkZE5vZGVNb2RlKS5jYWxsKGUsdGhpcykpfX0se2tleTpcIl9jcmVhdGVBZGRFZGdlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLl9jcmVhdGVCdXR0b24oXCJhZGRFZGdlXCIsXCJ2aXMtY29ubmVjdFwiLHQuYWRkRWRnZXx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uYWRkRWRnZSk7dGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoaSksdGhpcy5fYmluZEVsZW1lbnRFdmVudHMoaSxXbyhlPXRoaXMuYWRkRWRnZU1vZGUpLmNhbGwoZSx0aGlzKSl9fSx7a2V5OlwiX2NyZWF0ZUVkaXROb2RlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLl9jcmVhdGVCdXR0b24oXCJlZGl0Tm9kZVwiLFwidmlzLWVkaXRcIix0LmVkaXROb2RlfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5lZGl0Tm9kZSk7dGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoaSksdGhpcy5fYmluZEVsZW1lbnRFdmVudHMoaSxXbyhlPXRoaXMuZWRpdE5vZGUpLmNhbGwoZSx0aGlzKSl9fSx7a2V5OlwiX2NyZWF0ZUVkaXRFZGdlQnV0dG9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGUsaT10aGlzLl9jcmVhdGVCdXR0b24oXCJlZGl0RWRnZVwiLFwidmlzLWVkaXRcIix0LmVkaXRFZGdlfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5lZGl0RWRnZSk7dGhpcy5tYW5pcHVsYXRpb25EaXYuYXBwZW5kQ2hpbGQoaSksdGhpcy5fYmluZEVsZW1lbnRFdmVudHMoaSxXbyhlPXRoaXMuZWRpdEVkZ2VNb2RlKS5jYWxsKGUsdGhpcykpfX0se2tleTpcIl9jcmVhdGVEZWxldGVCdXR0b25cIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZSxpO2k9dGhpcy5vcHRpb25zLnJ0bD9cInZpcy1kZWxldGUtcnRsXCI6XCJ2aXMtZGVsZXRlXCI7dmFyIG89dGhpcy5fY3JlYXRlQnV0dG9uKFwiZGVsZXRlXCIsaSx0LmRlbHx8dGhpcy5vcHRpb25zLmxvY2FsZXMuZW4uZGVsKTt0aGlzLm1hbmlwdWxhdGlvbkRpdi5hcHBlbmRDaGlsZChvKSx0aGlzLl9iaW5kRWxlbWVudEV2ZW50cyhvLFdvKGU9dGhpcy5kZWxldGVTZWxlY3RlZCkuY2FsbChlLHRoaXMpKX19LHtrZXk6XCJfY3JlYXRlQmFja0J1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fY3JlYXRlQnV0dG9uKFwiYmFja1wiLFwidmlzLWJhY2tcIix0LmJhY2t8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmJhY2spO3RoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKGkpLHRoaXMuX2JpbmRFbGVtZW50RXZlbnRzKGksV28oZT10aGlzLnNob3dNYW5pcHVsYXRvclRvb2xiYXIpLmNhbGwoZSx0aGlzKSl9fSx7a2V5OlwiX2NyZWF0ZUJ1dHRvblwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106XCJ2aXMtbGFiZWxcIjtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb25ET01bdCtcIkRpdlwiXT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJEaXZcIl0uY2xhc3NOYW1lPVwidmlzLWJ1dHRvbiBcIitlLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJMYWJlbFwiXT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJMYWJlbFwiXS5jbGFzc05hbWU9byx0aGlzLm1hbmlwdWxhdGlvbkRPTVt0K1wiTGFiZWxcIl0uaW5uZXJUZXh0PWksdGhpcy5tYW5pcHVsYXRpb25ET01bdCtcIkRpdlwiXS5hcHBlbmRDaGlsZCh0aGlzLm1hbmlwdWxhdGlvbkRPTVt0K1wiTGFiZWxcIl0pLHRoaXMubWFuaXB1bGF0aW9uRE9NW3QrXCJEaXZcIl19fSx7a2V5OlwiX2NyZWF0ZURlc2NyaXB0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5tYW5pcHVsYXRpb25ET00uZGVzY3JpcHRpb25MYWJlbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMubWFuaXB1bGF0aW9uRE9NLmRlc2NyaXB0aW9uTGFiZWwuY2xhc3NOYW1lPVwidmlzLW5vbmVcIix0aGlzLm1hbmlwdWxhdGlvbkRPTS5kZXNjcmlwdGlvbkxhYmVsLmlubmVyVGV4dD10LHRoaXMubWFuaXB1bGF0aW9uRGl2LmFwcGVuZENoaWxkKHRoaXMubWFuaXB1bGF0aW9uRE9NLmRlc2NyaXB0aW9uTGFiZWwpfX0se2tleTpcIl90ZW1wb3JhcnlCaW5kRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3RoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnMucHVzaCh7ZXZlbnQ6dCxib3VuZEZ1bmN0aW9uOmV9KSx0aGlzLmJvZHkuZW1pdHRlci5vbih0LGUpfX0se2tleTpcIl90ZW1wb3JhcnlCaW5kVUlcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PXRoaXMuYm9keS5ldmVudExpc3RlbmVyc1t0XSl0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIFVJIGZ1bmN0aW9uIGRvZXMgbm90IGV4aXN0LiBUeXBvPyBZb3UgdHJpZWQ6IFwiK3QrXCIgcG9zc2libGUgYXJlOiBcIiskdih6Zih0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnMpKSk7dGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9uc1t0XT10aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnNbdF0sdGhpcy5ib2R5LmV2ZW50TGlzdGVuZXJzW3RdPWV9fSx7a2V5OlwiX3VuYmluZFRlbXBvcmFyeVVJc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMudGVtcG9yYXJ5VUlGdW5jdGlvbnMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMudGVtcG9yYXJ5VUlGdW5jdGlvbnMsdCkmJih0aGlzLmJvZHkuZXZlbnRMaXN0ZW5lcnNbdF09dGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9uc1t0XSxkZWxldGUgdGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9uc1t0XSk7dGhpcy50ZW1wb3JhcnlVSUZ1bmN0aW9ucz17fX19LHtrZXk6XCJfdW5iaW5kVGVtcG9yYXJ5RXZlbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnMubGVuZ3RoO3QrKyl7dmFyIGU9dGhpcy50ZW1wb3JhcnlFdmVudEZ1bmN0aW9uc1t0XS5ldmVudCxpPXRoaXMudGVtcG9yYXJ5RXZlbnRGdW5jdGlvbnNbdF0uYm91bmRGdW5jdGlvbjt0aGlzLmJvZHkuZW1pdHRlci5vZmYoZSxpKX10aGlzLnRlbXBvcmFyeUV2ZW50RnVuY3Rpb25zPVtdfX0se2tleTpcIl9iaW5kRWxlbWVudEV2ZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHViKHQse30pO0VPKGksZSksdGhpcy5fZG9tRXZlbnRMaXN0ZW5lckNsZWFudXBRdWV1ZS5wdXNoKChmdW5jdGlvbigpe2kuZGVzdHJveSgpfSkpO3ZhciBvPWZ1bmN0aW9uKHQpe3ZhciBpPXQua2V5Q29kZSxvPXQua2V5O1wiRW50ZXJcIiE9PW8mJlwiIFwiIT09byYmMTMhPT1pJiYzMiE9PWl8fGUoKX07dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixvLCExKSx0aGlzLl9kb21FdmVudExpc3RlbmVyQ2xlYW51cFF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIixvLCExKX0pKX19LHtrZXk6XCJfY2xlYW51cFRlbXBvcmFyeU5vZGVzQW5kRWRnZXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy50ZW1wb3JhcnlJZHMuZWRnZXMubGVuZ3RoO3QrKyl7dmFyIGU7dGhpcy5ib2R5LmVkZ2VzW3RoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzW3RdXS5kaXNjb25uZWN0KCksZGVsZXRlIHRoaXMuYm9keS5lZGdlc1t0aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1t0XV07dmFyIGksbz1WdihlPXRoaXMuYm9keS5lZGdlSW5kaWNlcykuY2FsbChlLHRoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzW3RdKTtpZigtMSE9PW8pUHAoaT10aGlzLmJvZHkuZWRnZUluZGljZXMpLmNhbGwoaSxvLDEpfWZvcih2YXIgbj0wO248dGhpcy50ZW1wb3JhcnlJZHMubm9kZXMubGVuZ3RoO24rKyl7dmFyIHI7ZGVsZXRlIHRoaXMuYm9keS5ub2Rlc1t0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1tuXV07dmFyIHMsYT1WdihyPXRoaXMuYm9keS5ub2RlSW5kaWNlcykuY2FsbChyLHRoaXMudGVtcG9yYXJ5SWRzLm5vZGVzW25dKTtpZigtMSE9PWEpUHAocz10aGlzLmJvZHkubm9kZUluZGljZXMpLmNhbGwocyxhLDEpfXRoaXMudGVtcG9yYXJ5SWRzPXtub2RlczpbXSxlZGdlczpbXX19fSx7a2V5OlwiX2NvbnRyb2xOb2RlVG91Y2hcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKSx0aGlzLmxhc3RUb3VjaD10aGlzLmJvZHkuZnVuY3Rpb25zLmdldFBvaW50ZXIodC5jZW50ZXIpLHRoaXMubGFzdFRvdWNoLnRyYW5zbGF0aW9uPXdvKHt9LHRoaXMuYm9keS52aWV3LnRyYW5zbGF0aW9uKX19LHtrZXk6XCJfY29udHJvbE5vZGVEcmFnU3RhcnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubGFzdFRvdWNoLGU9dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9wb2ludGVyVG9Qb3NpdGlvbk9iamVjdCh0KSxpPXRoaXMuYm9keS5ub2Rlc1t0aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1swXV0sbz10aGlzLmJvZHkubm9kZXNbdGhpcy50ZW1wb3JhcnlJZHMubm9kZXNbMV1dLG49dGhpcy5ib2R5LmVkZ2VzW3RoaXMuZWRnZUJlaW5nRWRpdGVkSWRdO3RoaXMuc2VsZWN0ZWRDb250cm9sTm9kZT12b2lkIDA7dmFyIHI9aS5pc092ZXJsYXBwaW5nV2l0aChlKSxzPW8uaXNPdmVybGFwcGluZ1dpdGgoZSk7ITA9PT1yPyh0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGU9aSxuLmVkZ2VUeXBlLmZyb209aSk6ITA9PT1zJiYodGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlPW8sbi5lZGdlVHlwZS50bz1vKSx2b2lkIDAhPT10aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUmJnRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZWxlY3RPYmplY3QodGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX19LHtrZXk6XCJfY29udHJvbE5vZGVEcmFnXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImRpc2FibGVQaHlzaWNzXCIpO3ZhciBlPXRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcih0LmNlbnRlciksaT10aGlzLmNhbnZhcy5ET010b0NhbnZhcyhlKTt2b2lkIDAhPT10aGlzLnNlbGVjdGVkQ29udHJvbE5vZGU/KHRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS54PWkueCx0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUueT1pLnkpOnRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyLm9uRHJhZyh0KSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX19LHtrZXk6XCJfY29udHJvbE5vZGVEcmFnRW5kXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKHQuY2VudGVyKSxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QoZSksbz10aGlzLmJvZHkuZWRnZXNbdGhpcy5lZGdlQmVpbmdFZGl0ZWRJZF07aWYodm9pZCAwIT09dGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlKXt0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKTtmb3IodmFyIG49dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZXRBbGxOb2Rlc092ZXJsYXBwaW5nV2l0aChpKSxyPXZvaWQgMCxzPW4ubGVuZ3RoLTE7cz49MDtzLS0paWYobltzXSE9PXRoaXMuc2VsZWN0ZWRDb250cm9sTm9kZS5pZCl7cj10aGlzLmJvZHkubm9kZXNbbltzXV07YnJlYWt9aWYodm9pZCAwIT09ciYmdm9pZCAwIT09dGhpcy5zZWxlY3RlZENvbnRyb2xOb2RlKWlmKCEwPT09ci5pc0NsdXN0ZXIpYWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV0uY3JlYXRlRWRnZUVycm9yfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5jcmVhdGVFZGdlRXJyb3IpO2Vsc2V7dmFyIGE9dGhpcy5ib2R5Lm5vZGVzW3RoaXMudGVtcG9yYXJ5SWRzLm5vZGVzWzBdXTt0aGlzLnNlbGVjdGVkQ29udHJvbE5vZGUuaWQ9PT1hLmlkP3RoaXMuX3BlcmZvcm1FZGl0RWRnZShyLmlkLG8udG8uaWQpOnRoaXMuX3BlcmZvcm1FZGl0RWRnZShvLmZyb20uaWQsci5pZCl9ZWxzZSBvLnVwZGF0ZUVkZ2VUeXBlKCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcInJlc3RvcmVQaHlzaWNzXCIpO3RoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJfcmVkcmF3XCIpfX19LHtrZXk6XCJfaGFuZGxlQ29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKChuZXcgRGF0ZSkudmFsdWVPZigpLXRoaXMudG91Y2hUaW1lPjEwMCl7dGhpcy5sYXN0VG91Y2g9dGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKHQuY2VudGVyKSx0aGlzLmxhc3RUb3VjaC50cmFuc2xhdGlvbj13byh7fSx0aGlzLmJvZHkudmlldy50cmFuc2xhdGlvbiksdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIuZHJhZy5wb2ludGVyPXRoaXMubGFzdFRvdWNoLHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyLmRyYWcudHJhbnNsYXRpb249dGhpcy5sYXN0VG91Y2gudHJhbnNsYXRpb247dmFyIGU9dGhpcy5sYXN0VG91Y2gsaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0Tm9kZUF0KGUpO2lmKHZvaWQgMCE9PWkpaWYoITA9PT1pLmlzQ2x1c3RlcilhbGVydCh0aGlzLm9wdGlvbnMubG9jYWxlc1t0aGlzLm9wdGlvbnMubG9jYWxlXS5jcmVhdGVFZGdlRXJyb3J8fHRoaXMub3B0aW9ucy5sb2NhbGVzLmVuLmNyZWF0ZUVkZ2VFcnJvcik7ZWxzZXt2YXIgbz10aGlzLl9nZXROZXdUYXJnZXROb2RlKGkueCxpLnkpO3RoaXMuYm9keS5ub2Rlc1tvLmlkXT1vLHRoaXMuYm9keS5ub2RlSW5kaWNlcy5wdXNoKG8uaWQpO3ZhciBuPXRoaXMuYm9keS5mdW5jdGlvbnMuY3JlYXRlRWRnZSh7aWQ6XCJjb25uZWN0aW9uRWRnZVwiK3lPKCksZnJvbTppLmlkLHRvOm8uaWQscGh5c2ljczohMSxzbW9vdGg6e2VuYWJsZWQ6ITAsdHlwZTpcImNvbnRpbnVvdXNcIixyb3VuZG5lc3M6LjV9fSk7dGhpcy5ib2R5LmVkZ2VzW24uaWRdPW4sdGhpcy5ib2R5LmVkZ2VJbmRpY2VzLnB1c2gobi5pZCksdGhpcy50ZW1wb3JhcnlJZHMubm9kZXMucHVzaChvLmlkKSx0aGlzLnRlbXBvcmFyeUlkcy5lZGdlcy5wdXNoKG4uaWQpfXRoaXMudG91Y2hUaW1lPShuZXcgRGF0ZSkudmFsdWVPZigpfX19LHtrZXk6XCJfZHJhZ0NvbnRyb2xOb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ib2R5LmZ1bmN0aW9ucy5nZXRQb2ludGVyKHQuY2VudGVyKSxpPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fcG9pbnRlclRvUG9zaXRpb25PYmplY3QoZSksbz12b2lkIDA7dm9pZCAwIT09dGhpcy50ZW1wb3JhcnlJZHMuZWRnZXNbMF0mJihvPXRoaXMuYm9keS5lZGdlc1t0aGlzLnRlbXBvcmFyeUlkcy5lZGdlc1swXV0uZnJvbUlkKTtmb3IodmFyIG49dGhpcy5zZWxlY3Rpb25IYW5kbGVyLl9nZXRBbGxOb2Rlc092ZXJsYXBwaW5nV2l0aChpKSxyPXZvaWQgMCxzPW4ubGVuZ3RoLTE7cz49MDtzLS0pe3ZhciBhO2lmKC0xPT09VnYoYT10aGlzLnRlbXBvcmFyeUlkcy5ub2RlcykuY2FsbChhLG5bc10pKXtyPXRoaXMuYm9keS5ub2Rlc1tuW3NdXTticmVha319aWYodC5jb250cm9sRWRnZT17ZnJvbTpvLHRvOnI/ci5pZDp2b2lkIDB9LHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZW5lcmF0ZUNsaWNrRXZlbnQoXCJjb250cm9sTm9kZURyYWdnaW5nXCIsdCxlKSx2b2lkIDAhPT10aGlzLnRlbXBvcmFyeUlkcy5ub2Rlc1swXSl7dmFyIGg9dGhpcy5ib2R5Lm5vZGVzW3RoaXMudGVtcG9yYXJ5SWRzLm5vZGVzWzBdXTtoLng9dGhpcy5jYW52YXMuX1hjb252ZXJ0RE9NdG9DYW52YXMoZS54KSxoLnk9dGhpcy5jYW52YXMuX1ljb252ZXJ0RE9NdG9DYW52YXMoZS55KSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlZHJhd1wiKX1lbHNlIHRoaXMuaW50ZXJhY3Rpb25IYW5kbGVyLm9uRHJhZyh0KX19LHtrZXk6XCJfZmluaXNoQ29ubmVjdFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9keS5mdW5jdGlvbnMuZ2V0UG9pbnRlcih0LmNlbnRlciksaT10aGlzLnNlbGVjdGlvbkhhbmRsZXIuX3BvaW50ZXJUb1Bvc2l0aW9uT2JqZWN0KGUpLG89dm9pZCAwO3ZvaWQgMCE9PXRoaXMudGVtcG9yYXJ5SWRzLmVkZ2VzWzBdJiYobz10aGlzLmJvZHkuZWRnZXNbdGhpcy50ZW1wb3JhcnlJZHMuZWRnZXNbMF1dLmZyb21JZCk7Zm9yKHZhciBuPXRoaXMuc2VsZWN0aW9uSGFuZGxlci5fZ2V0QWxsTm9kZXNPdmVybGFwcGluZ1dpdGgoaSkscj12b2lkIDAscz1uLmxlbmd0aC0xO3M+PTA7cy0tKXt2YXIgYTtpZigtMT09PVZ2KGE9dGhpcy50ZW1wb3JhcnlJZHMubm9kZXMpLmNhbGwoYSxuW3NdKSl7cj10aGlzLmJvZHkubm9kZXNbbltzXV07YnJlYWt9fXRoaXMuX2NsZWFudXBUZW1wb3JhcnlOb2Rlc0FuZEVkZ2VzKCksdm9pZCAwIT09ciYmKCEwPT09ci5pc0NsdXN0ZXI/YWxlcnQodGhpcy5vcHRpb25zLmxvY2FsZXNbdGhpcy5vcHRpb25zLmxvY2FsZV0uY3JlYXRlRWRnZUVycm9yfHx0aGlzLm9wdGlvbnMubG9jYWxlcy5lbi5jcmVhdGVFZGdlRXJyb3IpOnZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1tvXSYmdm9pZCAwIT09dGhpcy5ib2R5Lm5vZGVzW3IuaWRdJiZ0aGlzLl9wZXJmb3JtQWRkRWRnZShvLHIuaWQpKSx0LmNvbnRyb2xFZGdlPXtmcm9tOm8sdG86cj9yLmlkOnZvaWQgMH0sdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmdlbmVyYXRlQ2xpY2tFdmVudChcImNvbnRyb2xOb2RlRHJhZ0VuZFwiLHQsZSksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIil9fSx7a2V5OlwiX2RyYWdTdGFydEVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmxhc3RUb3VjaDt0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2VuZXJhdGVDbGlja0V2ZW50KFwiZHJhZ1N0YXJ0XCIsdCxlLHZvaWQgMCwhMCl9fSx7a2V5OlwiX3BlcmZvcm1BZGROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXtpZDp5TygpLHg6dC5wb2ludGVyLmNhbnZhcy54LHk6dC5wb2ludGVyLmNhbnZhcy55LGxhYmVsOlwibmV3XCJ9O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub3B0aW9ucy5hZGROb2RlKXtpZigyIT09dGhpcy5vcHRpb25zLmFkZE5vZGUubGVuZ3RoKXRocm93IHRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpLG5ldyBFcnJvcihcIlRoZSBmdW5jdGlvbiBmb3IgYWRkIGRvZXMgbm90IHN1cHBvcnQgdHdvIGFyZ3VtZW50cyAoZGF0YSxjYWxsYmFjaylcIik7dGhpcy5vcHRpb25zLmFkZE5vZGUoaSwoZnVuY3Rpb24odCl7bnVsbCE9dCYmXCJhZGROb2RlXCI9PT1lLmluTW9kZSYmZS5ib2R5LmRhdGEubm9kZXMuZ2V0RGF0YVNldCgpLmFkZCh0KSxlLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKX0pKX1lbHNlIHRoaXMuYm9keS5kYXRhLm5vZGVzLmdldERhdGFTZXQoKS5hZGQoaSksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fSx7a2V5OlwiX3BlcmZvcm1BZGRFZGdlXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLG89e2Zyb206dCx0bzplfTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuYWRkRWRnZSl7aWYoMiE9PXRoaXMub3B0aW9ucy5hZGRFZGdlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZnVuY3Rpb24gZm9yIGNvbm5lY3QgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLGNhbGxiYWNrKVwiKTt0aGlzLm9wdGlvbnMuYWRkRWRnZShvLChmdW5jdGlvbih0KXtudWxsIT10JiZcImFkZEVkZ2VcIj09PWkuaW5Nb2RlJiYoaS5ib2R5LmRhdGEuZWRnZXMuZ2V0RGF0YVNldCgpLmFkZCh0KSxpLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwoKSxpLnNob3dNYW5pcHVsYXRvclRvb2xiYXIoKSl9KSl9ZWxzZSB0aGlzLmJvZHkuZGF0YS5lZGdlcy5nZXREYXRhU2V0KCkuYWRkKG8pLHRoaXMuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpLHRoaXMuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpfX0se2tleTpcIl9wZXJmb3JtRWRpdEVkZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMsbz17aWQ6dGhpcy5lZGdlQmVpbmdFZGl0ZWRJZCxmcm9tOnQsdG86ZSxsYWJlbDp0aGlzLmJvZHkuZGF0YS5lZGdlcy5nZXQodGhpcy5lZGdlQmVpbmdFZGl0ZWRJZCkubGFiZWx9LG49dGhpcy5vcHRpb25zLmVkaXRFZGdlO2lmKFwib2JqZWN0XCI9PT1ndShuKSYmKG49bi5lZGl0V2l0aG91dERyYWcpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pe2lmKDIhPT1uLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZnVuY3Rpb24gZm9yIGVkaXQgZG9lcyBub3Qgc3VwcG9ydCB0d28gYXJndW1lbnRzIChkYXRhLCBjYWxsYmFjaylcIik7bihvLChmdW5jdGlvbih0KXtudWxsPT10fHxcImVkaXRFZGdlXCIhPT1pLmluTW9kZT8oaS5ib2R5LmVkZ2VzW28uaWRdLnVwZGF0ZUVkZ2VUeXBlKCksaS5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZWRyYXdcIiksaS5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCkpOihpLmJvZHkuZGF0YS5lZGdlcy5nZXREYXRhU2V0KCkudXBkYXRlKHQpLGkuc2VsZWN0aW9uSGFuZGxlci51bnNlbGVjdEFsbCgpLGkuc2hvd01hbmlwdWxhdG9yVG9vbGJhcigpKX0pKX1lbHNlIHRoaXMuYm9keS5kYXRhLmVkZ2VzLmdldERhdGFTZXQoKS51cGRhdGUobyksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCksdGhpcy5zaG93TWFuaXB1bGF0b3JUb29sYmFyKCl9fV0pLHR9KCksZFQ9XCJzdHJpbmdcIixsVD1cImJvb2xlYW5cIixjVD1cIm51bWJlclwiLHVUPVwiYXJyYXlcIixmVD1cIm9iamVjdFwiLHBUPVtcImFycm93XCIsXCJiYXJcIixcImJveFwiLFwiY2lyY2xlXCIsXCJjcm93XCIsXCJjdXJ2ZVwiLFwiZGlhbW9uZFwiLFwiaW1hZ2VcIixcImludl9jdXJ2ZVwiLFwiaW52X3RyaWFuZ2xlXCIsXCJ0cmlhbmdsZVwiLFwidmVlXCJdLHZUPXtib3JkZXJXaWR0aDp7bnVtYmVyOmNUfSxib3JkZXJXaWR0aFNlbGVjdGVkOntudW1iZXI6Y1QsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGJyb2tlbkltYWdlOntzdHJpbmc6ZFQsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGNob3Nlbjp7bGFiZWw6e2Jvb2xlYW46bFQsZnVuY3Rpb246XCJmdW5jdGlvblwifSxub2RlOntib29sZWFuOmxULGZ1bmN0aW9uOlwiZnVuY3Rpb25cIn0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sY29sb3I6e2JvcmRlcjp7c3RyaW5nOmRUfSxiYWNrZ3JvdW5kOntzdHJpbmc6ZFR9LGhpZ2hsaWdodDp7Ym9yZGVyOntzdHJpbmc6ZFR9LGJhY2tncm91bmQ6e3N0cmluZzpkVH0sX190eXBlX186e29iamVjdDpmVCxzdHJpbmc6ZFR9fSxob3Zlcjp7Ym9yZGVyOntzdHJpbmc6ZFR9LGJhY2tncm91bmQ6e3N0cmluZzpkVH0sX190eXBlX186e29iamVjdDpmVCxzdHJpbmc6ZFR9fSxfX3R5cGVfXzp7b2JqZWN0OmZULHN0cmluZzpkVH19LG9wYWNpdHk6e251bWJlcjpjVCx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sZml4ZWQ6e3g6e2Jvb2xlYW46bFR9LHk6e2Jvb2xlYW46bFR9LF9fdHlwZV9fOntvYmplY3Q6ZlQsYm9vbGVhbjpsVH19LGZvbnQ6e2FsaWduOntzdHJpbmc6ZFR9LGNvbG9yOntzdHJpbmc6ZFR9LHNpemU6e251bWJlcjpjVH0sZmFjZTp7c3RyaW5nOmRUfSxiYWNrZ3JvdW5kOntzdHJpbmc6ZFR9LHN0cm9rZVdpZHRoOntudW1iZXI6Y1R9LHN0cm9rZUNvbG9yOntzdHJpbmc6ZFR9LHZhZGp1c3Q6e251bWJlcjpjVH0sbXVsdGk6e2Jvb2xlYW46bFQsc3RyaW5nOmRUfSxib2xkOntjb2xvcjp7c3RyaW5nOmRUfSxzaXplOntudW1iZXI6Y1R9LGZhY2U6e3N0cmluZzpkVH0sbW9kOntzdHJpbmc6ZFR9LHZhZGp1c3Q6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVCxzdHJpbmc6ZFR9fSxib2xkaXRhbDp7Y29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSxmYWNlOntzdHJpbmc6ZFR9LG1vZDp7c3RyaW5nOmRUfSx2YWRqdXN0OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0saXRhbDp7Y29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSxmYWNlOntzdHJpbmc6ZFR9LG1vZDp7c3RyaW5nOmRUfSx2YWRqdXN0OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0sbW9ubzp7Y29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSxmYWNlOntzdHJpbmc6ZFR9LG1vZDp7c3RyaW5nOmRUfSx2YWRqdXN0OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0sX190eXBlX186e29iamVjdDpmVCxzdHJpbmc6ZFR9fSxncm91cDp7c3RyaW5nOmRULG51bWJlcjpjVCx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0saGVpZ2h0Q29uc3RyYWludDp7bWluaW11bTp7bnVtYmVyOmNUfSx2YWxpZ246e3N0cmluZzpkVH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxULG51bWJlcjpjVH19LGhpZGRlbjp7Ym9vbGVhbjpsVH0saWNvbjp7ZmFjZTp7c3RyaW5nOmRUfSxjb2RlOntzdHJpbmc6ZFR9LHNpemU6e251bWJlcjpjVH0sY29sb3I6e3N0cmluZzpkVH0sd2VpZ2h0OntzdHJpbmc6ZFQsbnVtYmVyOmNUfSxfX3R5cGVfXzp7b2JqZWN0OmZUfX0saWQ6e3N0cmluZzpkVCxudW1iZXI6Y1R9LGltYWdlOntzZWxlY3RlZDp7c3RyaW5nOmRULHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSx1bnNlbGVjdGVkOntzdHJpbmc6ZFQsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0saW1hZ2VQYWRkaW5nOnt0b3A6e251bWJlcjpjVH0scmlnaHQ6e251bWJlcjpjVH0sYm90dG9tOntudW1iZXI6Y1R9LGxlZnQ6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVCxudW1iZXI6Y1R9fSxsYWJlbDp7c3RyaW5nOmRULHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxsYWJlbEhpZ2hsaWdodEJvbGQ6e2Jvb2xlYW46bFR9LGxldmVsOntudW1iZXI6Y1QsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LG1hcmdpbjp7dG9wOntudW1iZXI6Y1R9LHJpZ2h0OntudW1iZXI6Y1R9LGJvdHRvbTp7bnVtYmVyOmNUfSxsZWZ0OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsbnVtYmVyOmNUfX0sbWFzczp7bnVtYmVyOmNUfSxwaHlzaWNzOntib29sZWFuOmxUfSxzY2FsaW5nOnttaW46e251bWJlcjpjVH0sbWF4OntudW1iZXI6Y1R9LGxhYmVsOntlbmFibGVkOntib29sZWFuOmxUfSxtaW46e251bWJlcjpjVH0sbWF4OntudW1iZXI6Y1R9LG1heFZpc2libGU6e251bWJlcjpjVH0sZHJhd1RocmVzaG9sZDp7bnVtYmVyOmNUfSxfX3R5cGVfXzp7b2JqZWN0OmZULGJvb2xlYW46bFR9fSxjdXN0b21TY2FsaW5nRnVuY3Rpb246e2Z1bmN0aW9uOlwiZnVuY3Rpb25cIn0sX190eXBlX186e29iamVjdDpmVH19LHNoYWRvdzp7ZW5hYmxlZDp7Ym9vbGVhbjpsVH0sY29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSx4OntudW1iZXI6Y1R9LHk6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sc2hhcGU6e3N0cmluZzpbXCJjdXN0b21cIixcImVsbGlwc2VcIixcImNpcmNsZVwiLFwiZGF0YWJhc2VcIixcImJveFwiLFwidGV4dFwiLFwiaW1hZ2VcIixcImNpcmN1bGFySW1hZ2VcIixcImRpYW1vbmRcIixcImRvdFwiLFwic3RhclwiLFwidHJpYW5nbGVcIixcInRyaWFuZ2xlRG93blwiLFwic3F1YXJlXCIsXCJpY29uXCIsXCJoZXhhZ29uXCJdfSxjdHhSZW5kZXJlcjp7ZnVuY3Rpb246XCJmdW5jdGlvblwifSxzaGFwZVByb3BlcnRpZXM6e2JvcmRlckRhc2hlczp7Ym9vbGVhbjpsVCxhcnJheTp1VH0sYm9yZGVyUmFkaXVzOntudW1iZXI6Y1R9LGludGVycG9sYXRpb246e2Jvb2xlYW46bFR9LHVzZUltYWdlU2l6ZTp7Ym9vbGVhbjpsVH0sdXNlQm9yZGVyV2l0aEltYWdlOntib29sZWFuOmxUfSxjb29yZGluYXRlT3JpZ2luOntzdHJpbmc6W1wiY2VudGVyXCIsXCJ0b3AtbGVmdFwiXX0sX190eXBlX186e29iamVjdDpmVH19LHNpemU6e251bWJlcjpjVH0sdGl0bGU6e3N0cmluZzpkVCxkb206XCJkb21cIix1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sdmFsdWU6e251bWJlcjpjVCx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sd2lkdGhDb25zdHJhaW50OnttaW5pbXVtOntudW1iZXI6Y1R9LG1heGltdW06e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxULG51bWJlcjpjVH19LHg6e251bWJlcjpjVH0seTp7bnVtYmVyOmNUfSxfX3R5cGVfXzp7b2JqZWN0OmZUfX0sZ1Q9e2NvbmZpZ3VyZTp7ZW5hYmxlZDp7Ym9vbGVhbjpsVH0sZmlsdGVyOntib29sZWFuOmxULHN0cmluZzpkVCxhcnJheTp1VCxmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LGNvbnRhaW5lcjp7ZG9tOlwiZG9tXCJ9LHNob3dCdXR0b246e2Jvb2xlYW46bFR9LF9fdHlwZV9fOntvYmplY3Q6ZlQsYm9vbGVhbjpsVCxzdHJpbmc6ZFQsYXJyYXk6dVQsZnVuY3Rpb246XCJmdW5jdGlvblwifX0sZWRnZXM6e2Fycm93czp7dG86e2VuYWJsZWQ6e2Jvb2xlYW46bFR9LHNjYWxlRmFjdG9yOntudW1iZXI6Y1R9LHR5cGU6e3N0cmluZzpwVH0saW1hZ2VIZWlnaHQ6e251bWJlcjpjVH0saW1hZ2VXaWR0aDp7bnVtYmVyOmNUfSxzcmM6e3N0cmluZzpkVH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sbWlkZGxlOntlbmFibGVkOntib29sZWFuOmxUfSxzY2FsZUZhY3Rvcjp7bnVtYmVyOmNUfSx0eXBlOntzdHJpbmc6cFR9LGltYWdlV2lkdGg6e251bWJlcjpjVH0saW1hZ2VIZWlnaHQ6e251bWJlcjpjVH0sc3JjOntzdHJpbmc6ZFR9LF9fdHlwZV9fOntvYmplY3Q6ZlQsYm9vbGVhbjpsVH19LGZyb206e2VuYWJsZWQ6e2Jvb2xlYW46bFR9LHNjYWxlRmFjdG9yOntudW1iZXI6Y1R9LHR5cGU6e3N0cmluZzpwVH0saW1hZ2VXaWR0aDp7bnVtYmVyOmNUfSxpbWFnZUhlaWdodDp7bnVtYmVyOmNUfSxzcmM6e3N0cmluZzpkVH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sX190eXBlX186e3N0cmluZzpbXCJmcm9tXCIsXCJ0b1wiLFwibWlkZGxlXCJdLG9iamVjdDpmVH19LGVuZFBvaW50T2Zmc2V0Ontmcm9tOntudW1iZXI6Y1R9LHRvOntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsbnVtYmVyOmNUfX0sYXJyb3dTdHJpa2V0aHJvdWdoOntib29sZWFuOmxUfSxiYWNrZ3JvdW5kOntlbmFibGVkOntib29sZWFuOmxUfSxjb2xvcjp7c3RyaW5nOmRUfSxzaXplOntudW1iZXI6Y1R9LGRhc2hlczp7Ym9vbGVhbjpsVCxhcnJheTp1VH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sY2hvc2VuOntsYWJlbDp7Ym9vbGVhbjpsVCxmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LGVkZ2U6e2Jvb2xlYW46bFQsZnVuY3Rpb246XCJmdW5jdGlvblwifSxfX3R5cGVfXzp7b2JqZWN0OmZULGJvb2xlYW46bFR9fSxjb2xvcjp7Y29sb3I6e3N0cmluZzpkVH0saGlnaGxpZ2h0OntzdHJpbmc6ZFR9LGhvdmVyOntzdHJpbmc6ZFR9LGluaGVyaXQ6e3N0cmluZzpbXCJmcm9tXCIsXCJ0b1wiLFwiYm90aFwiXSxib29sZWFuOmxUfSxvcGFjaXR5OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0sZGFzaGVzOntib29sZWFuOmxULGFycmF5OnVUfSxmb250Ontjb2xvcjp7c3RyaW5nOmRUfSxzaXplOntudW1iZXI6Y1R9LGZhY2U6e3N0cmluZzpkVH0sYmFja2dyb3VuZDp7c3RyaW5nOmRUfSxzdHJva2VXaWR0aDp7bnVtYmVyOmNUfSxzdHJva2VDb2xvcjp7c3RyaW5nOmRUfSxhbGlnbjp7c3RyaW5nOltcImhvcml6b250YWxcIixcInRvcFwiLFwibWlkZGxlXCIsXCJib3R0b21cIl19LHZhZGp1c3Q6e251bWJlcjpjVH0sbXVsdGk6e2Jvb2xlYW46bFQsc3RyaW5nOmRUfSxib2xkOntjb2xvcjp7c3RyaW5nOmRUfSxzaXplOntudW1iZXI6Y1R9LGZhY2U6e3N0cmluZzpkVH0sbW9kOntzdHJpbmc6ZFR9LHZhZGp1c3Q6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVCxzdHJpbmc6ZFR9fSxib2xkaXRhbDp7Y29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSxmYWNlOntzdHJpbmc6ZFR9LG1vZDp7c3RyaW5nOmRUfSx2YWRqdXN0OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0saXRhbDp7Y29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSxmYWNlOntzdHJpbmc6ZFR9LG1vZDp7c3RyaW5nOmRUfSx2YWRqdXN0OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0sbW9ubzp7Y29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSxmYWNlOntzdHJpbmc6ZFR9LG1vZDp7c3RyaW5nOmRUfSx2YWRqdXN0OntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsc3RyaW5nOmRUfX0sX190eXBlX186e29iamVjdDpmVCxzdHJpbmc6ZFR9fSxoaWRkZW46e2Jvb2xlYW46bFR9LGhvdmVyV2lkdGg6e2Z1bmN0aW9uOlwiZnVuY3Rpb25cIixudW1iZXI6Y1R9LGxhYmVsOntzdHJpbmc6ZFQsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LGxhYmVsSGlnaGxpZ2h0Qm9sZDp7Ym9vbGVhbjpsVH0sbGVuZ3RoOntudW1iZXI6Y1QsdW5kZWZpbmVkOlwidW5kZWZpbmVkXCJ9LHBoeXNpY3M6e2Jvb2xlYW46bFR9LHNjYWxpbmc6e21pbjp7bnVtYmVyOmNUfSxtYXg6e251bWJlcjpjVH0sbGFiZWw6e2VuYWJsZWQ6e2Jvb2xlYW46bFR9LG1pbjp7bnVtYmVyOmNUfSxtYXg6e251bWJlcjpjVH0sbWF4VmlzaWJsZTp7bnVtYmVyOmNUfSxkcmF3VGhyZXNob2xkOntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsYm9vbGVhbjpsVH19LGN1c3RvbVNjYWxpbmdGdW5jdGlvbjp7ZnVuY3Rpb246XCJmdW5jdGlvblwifSxfX3R5cGVfXzp7b2JqZWN0OmZUfX0sc2VsZWN0aW9uV2lkdGg6e2Z1bmN0aW9uOlwiZnVuY3Rpb25cIixudW1iZXI6Y1R9LHNlbGZSZWZlcmVuY2VTaXplOntudW1iZXI6Y1R9LHNlbGZSZWZlcmVuY2U6e3NpemU6e251bWJlcjpjVH0sYW5nbGU6e251bWJlcjpjVH0scmVuZGVyQmVoaW5kVGhlTm9kZTp7Ym9vbGVhbjpsVH0sX190eXBlX186e29iamVjdDpmVH19LHNoYWRvdzp7ZW5hYmxlZDp7Ym9vbGVhbjpsVH0sY29sb3I6e3N0cmluZzpkVH0sc2l6ZTp7bnVtYmVyOmNUfSx4OntudW1iZXI6Y1R9LHk6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sc21vb3RoOntlbmFibGVkOntib29sZWFuOmxUfSx0eXBlOntzdHJpbmc6W1wiZHluYW1pY1wiLFwiY29udGludW91c1wiLFwiZGlzY3JldGVcIixcImRpYWdvbmFsQ3Jvc3NcIixcInN0cmFpZ2h0Q3Jvc3NcIixcImhvcml6b250YWxcIixcInZlcnRpY2FsXCIsXCJjdXJ2ZWRDV1wiLFwiY3VydmVkQ0NXXCIsXCJjdWJpY0JlemllclwiXX0scm91bmRuZXNzOntudW1iZXI6Y1R9LGZvcmNlRGlyZWN0aW9uOntzdHJpbmc6W1wiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIixcIm5vbmVcIl0sYm9vbGVhbjpsVH0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sdGl0bGU6e3N0cmluZzpkVCx1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIn0sd2lkdGg6e251bWJlcjpjVH0sd2lkdGhDb25zdHJhaW50OnttYXhpbXVtOntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlQsYm9vbGVhbjpsVCxudW1iZXI6Y1R9fSx2YWx1ZTp7bnVtYmVyOmNULHVuZGVmaW5lZDpcInVuZGVmaW5lZFwifSxfX3R5cGVfXzp7b2JqZWN0OmZUfX0sZ3JvdXBzOnt1c2VEZWZhdWx0R3JvdXBzOntib29sZWFuOmxUfSxfX2FueV9fOnZULF9fdHlwZV9fOntvYmplY3Q6ZlR9fSxpbnRlcmFjdGlvbjp7ZHJhZ05vZGVzOntib29sZWFuOmxUfSxkcmFnVmlldzp7Ym9vbGVhbjpsVH0saGlkZUVkZ2VzT25EcmFnOntib29sZWFuOmxUfSxoaWRlRWRnZXNPblpvb206e2Jvb2xlYW46bFR9LGhpZGVOb2Rlc09uRHJhZzp7Ym9vbGVhbjpsVH0saG92ZXI6e2Jvb2xlYW46bFR9LGtleWJvYXJkOntlbmFibGVkOntib29sZWFuOmxUfSxzcGVlZDp7eDp7bnVtYmVyOmNUfSx5OntudW1iZXI6Y1R9LHpvb206e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVH19LGJpbmRUb1dpbmRvdzp7Ym9vbGVhbjpsVH0sYXV0b0ZvY3VzOntib29sZWFuOmxUfSxfX3R5cGVfXzp7b2JqZWN0OmZULGJvb2xlYW46bFR9fSxtdWx0aXNlbGVjdDp7Ym9vbGVhbjpsVH0sbmF2aWdhdGlvbkJ1dHRvbnM6e2Jvb2xlYW46bFR9LHNlbGVjdGFibGU6e2Jvb2xlYW46bFR9LHNlbGVjdENvbm5lY3RlZEVkZ2VzOntib29sZWFuOmxUfSxob3ZlckNvbm5lY3RlZEVkZ2VzOntib29sZWFuOmxUfSx0b29sdGlwRGVsYXk6e251bWJlcjpjVH0sem9vbVZpZXc6e2Jvb2xlYW46bFR9LHpvb21TcGVlZDp7bnVtYmVyOmNUfSxfX3R5cGVfXzp7b2JqZWN0OmZUfX0sbGF5b3V0OntyYW5kb21TZWVkOnt1bmRlZmluZWQ6XCJ1bmRlZmluZWRcIixudW1iZXI6Y1Qsc3RyaW5nOmRUfSxpbXByb3ZlZExheW91dDp7Ym9vbGVhbjpsVH0sY2x1c3RlclRocmVzaG9sZDp7bnVtYmVyOmNUfSxoaWVyYXJjaGljYWw6e2VuYWJsZWQ6e2Jvb2xlYW46bFR9LGxldmVsU2VwYXJhdGlvbjp7bnVtYmVyOmNUfSxub2RlU3BhY2luZzp7bnVtYmVyOmNUfSx0cmVlU3BhY2luZzp7bnVtYmVyOmNUfSxibG9ja1NoaWZ0aW5nOntib29sZWFuOmxUfSxlZGdlTWluaW1pemF0aW9uOntib29sZWFuOmxUfSxwYXJlbnRDZW50cmFsaXphdGlvbjp7Ym9vbGVhbjpsVH0sZGlyZWN0aW9uOntzdHJpbmc6W1wiVURcIixcIkRVXCIsXCJMUlwiLFwiUkxcIl19LHNvcnRNZXRob2Q6e3N0cmluZzpbXCJodWJzaXplXCIsXCJkaXJlY3RlZFwiXX0sc2hha2VUb3dhcmRzOntzdHJpbmc6W1wibGVhdmVzXCIsXCJyb290c1wiXX0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxUfX0sX190eXBlX186e29iamVjdDpmVH19LG1hbmlwdWxhdGlvbjp7ZW5hYmxlZDp7Ym9vbGVhbjpsVH0saW5pdGlhbGx5QWN0aXZlOntib29sZWFuOmxUfSxhZGROb2RlOntib29sZWFuOmxULGZ1bmN0aW9uOlwiZnVuY3Rpb25cIn0sYWRkRWRnZTp7Ym9vbGVhbjpsVCxmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LGVkaXROb2RlOntmdW5jdGlvbjpcImZ1bmN0aW9uXCJ9LGVkaXRFZGdlOntlZGl0V2l0aG91dERyYWc6e2Z1bmN0aW9uOlwiZnVuY3Rpb25cIn0sX190eXBlX186e29iamVjdDpmVCxib29sZWFuOmxULGZ1bmN0aW9uOlwiZnVuY3Rpb25cIn19LGRlbGV0ZU5vZGU6e2Jvb2xlYW46bFQsZnVuY3Rpb246XCJmdW5jdGlvblwifSxkZWxldGVFZGdlOntib29sZWFuOmxULGZ1bmN0aW9uOlwiZnVuY3Rpb25cIn0sY29udHJvbE5vZGVTdHlsZTp2VCxfX3R5cGVfXzp7b2JqZWN0OmZULGJvb2xlYW46bFR9fSxub2Rlczp2VCxwaHlzaWNzOntlbmFibGVkOntib29sZWFuOmxUfSxiYXJuZXNIdXQ6e3RoZXRhOntudW1iZXI6Y1R9LGdyYXZpdGF0aW9uYWxDb25zdGFudDp7bnVtYmVyOmNUfSxjZW50cmFsR3Jhdml0eTp7bnVtYmVyOmNUfSxzcHJpbmdMZW5ndGg6e251bWJlcjpjVH0sc3ByaW5nQ29uc3RhbnQ6e251bWJlcjpjVH0sZGFtcGluZzp7bnVtYmVyOmNUfSxhdm9pZE92ZXJsYXA6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVH19LGZvcmNlQXRsYXMyQmFzZWQ6e3RoZXRhOntudW1iZXI6Y1R9LGdyYXZpdGF0aW9uYWxDb25zdGFudDp7bnVtYmVyOmNUfSxjZW50cmFsR3Jhdml0eTp7bnVtYmVyOmNUfSxzcHJpbmdMZW5ndGg6e251bWJlcjpjVH0sc3ByaW5nQ29uc3RhbnQ6e251bWJlcjpjVH0sZGFtcGluZzp7bnVtYmVyOmNUfSxhdm9pZE92ZXJsYXA6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVH19LHJlcHVsc2lvbjp7Y2VudHJhbEdyYXZpdHk6e251bWJlcjpjVH0sc3ByaW5nTGVuZ3RoOntudW1iZXI6Y1R9LHNwcmluZ0NvbnN0YW50OntudW1iZXI6Y1R9LG5vZGVEaXN0YW5jZTp7bnVtYmVyOmNUfSxkYW1waW5nOntudW1iZXI6Y1R9LF9fdHlwZV9fOntvYmplY3Q6ZlR9fSxoaWVyYXJjaGljYWxSZXB1bHNpb246e2NlbnRyYWxHcmF2aXR5OntudW1iZXI6Y1R9LHNwcmluZ0xlbmd0aDp7bnVtYmVyOmNUfSxzcHJpbmdDb25zdGFudDp7bnVtYmVyOmNUfSxub2RlRGlzdGFuY2U6e251bWJlcjpjVH0sZGFtcGluZzp7bnVtYmVyOmNUfSxhdm9pZE92ZXJsYXA6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVH19LG1heFZlbG9jaXR5OntudW1iZXI6Y1R9LG1pblZlbG9jaXR5OntudW1iZXI6Y1R9LHNvbHZlcjp7c3RyaW5nOltcImJhcm5lc0h1dFwiLFwicmVwdWxzaW9uXCIsXCJoaWVyYXJjaGljYWxSZXB1bHNpb25cIixcImZvcmNlQXRsYXMyQmFzZWRcIl19LHN0YWJpbGl6YXRpb246e2VuYWJsZWQ6e2Jvb2xlYW46bFR9LGl0ZXJhdGlvbnM6e251bWJlcjpjVH0sdXBkYXRlSW50ZXJ2YWw6e251bWJlcjpjVH0sb25seUR5bmFtaWNFZGdlczp7Ym9vbGVhbjpsVH0sZml0Ontib29sZWFuOmxUfSxfX3R5cGVfXzp7b2JqZWN0OmZULGJvb2xlYW46bFR9fSx0aW1lc3RlcDp7bnVtYmVyOmNUfSxhZGFwdGl2ZVRpbWVzdGVwOntib29sZWFuOmxUfSx3aW5kOnt4OntudW1iZXI6Y1R9LHk6e251bWJlcjpjVH0sX190eXBlX186e29iamVjdDpmVH19LF9fdHlwZV9fOntvYmplY3Q6ZlQsYm9vbGVhbjpsVH19LGF1dG9SZXNpemU6e2Jvb2xlYW46bFR9LGNsaWNrVG9Vc2U6e2Jvb2xlYW46bFR9LGxvY2FsZTp7c3RyaW5nOmRUfSxsb2NhbGVzOntfX2FueV9fOnthbnk6XCJhbnlcIn0sX190eXBlX186e29iamVjdDpmVH19LGhlaWdodDp7c3RyaW5nOmRUfSx3aWR0aDp7c3RyaW5nOmRUfSxfX3R5cGVfXzp7b2JqZWN0OmZUfX0seVQ9e25vZGVzOntib3JkZXJXaWR0aDpbMSwwLDEwLDFdLGJvcmRlcldpZHRoU2VsZWN0ZWQ6WzIsMCwxMCwxXSxjb2xvcjp7Ym9yZGVyOltcImNvbG9yXCIsXCIjMkI3Q0U5XCJdLGJhY2tncm91bmQ6W1wiY29sb3JcIixcIiM5N0MyRkNcIl0saGlnaGxpZ2h0Ontib3JkZXI6W1wiY29sb3JcIixcIiMyQjdDRTlcIl0sYmFja2dyb3VuZDpbXCJjb2xvclwiLFwiI0QyRTVGRlwiXX0saG92ZXI6e2JvcmRlcjpbXCJjb2xvclwiLFwiIzJCN0NFOVwiXSxiYWNrZ3JvdW5kOltcImNvbG9yXCIsXCIjRDJFNUZGXCJdfX0sb3BhY2l0eTpbMCwwLDEsLjFdLGZpeGVkOnt4OiExLHk6ITF9LGZvbnQ6e2NvbG9yOltcImNvbG9yXCIsXCIjMzQzNDM0XCJdLHNpemU6WzE0LDAsMTAwLDFdLGZhY2U6W1wiYXJpYWxcIixcInZlcmRhbmFcIixcInRhaG9tYVwiXSxiYWNrZ3JvdW5kOltcImNvbG9yXCIsXCJub25lXCJdLHN0cm9rZVdpZHRoOlswLDAsNTAsMV0sc3Ryb2tlQ29sb3I6W1wiY29sb3JcIixcIiNmZmZmZmZcIl19LGhpZGRlbjohMSxsYWJlbEhpZ2hsaWdodEJvbGQ6ITAscGh5c2ljczohMCxzY2FsaW5nOnttaW46WzEwLDAsMjAwLDFdLG1heDpbMzAsMCwyMDAsMV0sbGFiZWw6e2VuYWJsZWQ6ITEsbWluOlsxNCwwLDIwMCwxXSxtYXg6WzMwLDAsMjAwLDFdLG1heFZpc2libGU6WzMwLDAsMjAwLDFdLGRyYXdUaHJlc2hvbGQ6WzUsMCwyMCwxXX19LHNoYWRvdzp7ZW5hYmxlZDohMSxjb2xvcjpcInJnYmEoMCwwLDAsMC41KVwiLHNpemU6WzEwLDAsMjAsMV0seDpbNSwtMzAsMzAsMV0seTpbNSwtMzAsMzAsMV19LHNoYXBlOltcImVsbGlwc2VcIixcImJveFwiLFwiY2lyY2xlXCIsXCJkYXRhYmFzZVwiLFwiZGlhbW9uZFwiLFwiZG90XCIsXCJzcXVhcmVcIixcInN0YXJcIixcInRleHRcIixcInRyaWFuZ2xlXCIsXCJ0cmlhbmdsZURvd25cIixcImhleGFnb25cIl0sc2hhcGVQcm9wZXJ0aWVzOntib3JkZXJEYXNoZXM6ITEsYm9yZGVyUmFkaXVzOls2LDAsMjAsMV0saW50ZXJwb2xhdGlvbjohMCx1c2VJbWFnZVNpemU6ITF9LHNpemU6WzI1LDAsMjAwLDFdfSxlZGdlczp7YXJyb3dzOnt0bzp7ZW5hYmxlZDohMSxzY2FsZUZhY3RvcjpbMSwwLDMsLjA1XSx0eXBlOlwiYXJyb3dcIn0sbWlkZGxlOntlbmFibGVkOiExLHNjYWxlRmFjdG9yOlsxLDAsMywuMDVdLHR5cGU6XCJhcnJvd1wifSxmcm9tOntlbmFibGVkOiExLHNjYWxlRmFjdG9yOlsxLDAsMywuMDVdLHR5cGU6XCJhcnJvd1wifX0sZW5kUG9pbnRPZmZzZXQ6e2Zyb206WzAsLTEwLDEwLDFdLHRvOlswLC0xMCwxMCwxXX0sYXJyb3dTdHJpa2V0aHJvdWdoOiEwLGNvbG9yOntjb2xvcjpbXCJjb2xvclwiLFwiIzg0ODQ4NFwiXSxoaWdobGlnaHQ6W1wiY29sb3JcIixcIiM4NDg0ODRcIl0saG92ZXI6W1wiY29sb3JcIixcIiM4NDg0ODRcIl0saW5oZXJpdDpbXCJmcm9tXCIsXCJ0b1wiLFwiYm90aFwiLCEwLCExXSxvcGFjaXR5OlsxLDAsMSwuMDVdfSxkYXNoZXM6ITEsZm9udDp7Y29sb3I6W1wiY29sb3JcIixcIiMzNDM0MzRcIl0sc2l6ZTpbMTQsMCwxMDAsMV0sZmFjZTpbXCJhcmlhbFwiLFwidmVyZGFuYVwiLFwidGFob21hXCJdLGJhY2tncm91bmQ6W1wiY29sb3JcIixcIm5vbmVcIl0sc3Ryb2tlV2lkdGg6WzIsMCw1MCwxXSxzdHJva2VDb2xvcjpbXCJjb2xvclwiLFwiI2ZmZmZmZlwiXSxhbGlnbjpbXCJob3Jpem9udGFsXCIsXCJ0b3BcIixcIm1pZGRsZVwiLFwiYm90dG9tXCJdfSxoaWRkZW46ITEsaG92ZXJXaWR0aDpbMS41LDAsNSwuMV0sbGFiZWxIaWdobGlnaHRCb2xkOiEwLHBoeXNpY3M6ITAsc2NhbGluZzp7bWluOlsxLDAsMTAwLDFdLG1heDpbMTUsMCwxMDAsMV0sbGFiZWw6e2VuYWJsZWQ6ITAsbWluOlsxNCwwLDIwMCwxXSxtYXg6WzMwLDAsMjAwLDFdLG1heFZpc2libGU6WzMwLDAsMjAwLDFdLGRyYXdUaHJlc2hvbGQ6WzUsMCwyMCwxXX19LHNlbGVjdGlvbldpZHRoOlsxLjUsMCw1LC4xXSxzZWxmUmVmZXJlbmNlU2l6ZTpbMjAsMCwyMDAsMV0sc2VsZlJlZmVyZW5jZTp7c2l6ZTpbMjAsMCwyMDAsMV0sYW5nbGU6W01hdGguUEkvMiwtNipNYXRoLlBJLDYqTWF0aC5QSSxNYXRoLlBJLzhdLHJlbmRlckJlaGluZFRoZU5vZGU6ITB9LHNoYWRvdzp7ZW5hYmxlZDohMSxjb2xvcjpcInJnYmEoMCwwLDAsMC41KVwiLHNpemU6WzEwLDAsMjAsMV0seDpbNSwtMzAsMzAsMV0seTpbNSwtMzAsMzAsMV19LHNtb290aDp7ZW5hYmxlZDohMCx0eXBlOltcImR5bmFtaWNcIixcImNvbnRpbnVvdXNcIixcImRpc2NyZXRlXCIsXCJkaWFnb25hbENyb3NzXCIsXCJzdHJhaWdodENyb3NzXCIsXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiLFwiY3VydmVkQ1dcIixcImN1cnZlZENDV1wiLFwiY3ViaWNCZXppZXJcIl0sZm9yY2VEaXJlY3Rpb246W1wiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIixcIm5vbmVcIl0scm91bmRuZXNzOlsuNSwwLDEsLjA1XX0sd2lkdGg6WzEsMCwzMCwxXX0sbGF5b3V0OntoaWVyYXJjaGljYWw6e2VuYWJsZWQ6ITEsbGV2ZWxTZXBhcmF0aW9uOlsxNTAsMjAsNTAwLDVdLG5vZGVTcGFjaW5nOlsxMDAsMjAsNTAwLDVdLHRyZWVTcGFjaW5nOlsyMDAsMjAsNTAwLDVdLGJsb2NrU2hpZnRpbmc6ITAsZWRnZU1pbmltaXphdGlvbjohMCxwYXJlbnRDZW50cmFsaXphdGlvbjohMCxkaXJlY3Rpb246W1wiVURcIixcIkRVXCIsXCJMUlwiLFwiUkxcIl0sc29ydE1ldGhvZDpbXCJodWJzaXplXCIsXCJkaXJlY3RlZFwiXSxzaGFrZVRvd2FyZHM6W1wibGVhdmVzXCIsXCJyb290c1wiXX19LGludGVyYWN0aW9uOntkcmFnTm9kZXM6ITAsZHJhZ1ZpZXc6ITAsaGlkZUVkZ2VzT25EcmFnOiExLGhpZGVFZGdlc09uWm9vbTohMSxoaWRlTm9kZXNPbkRyYWc6ITEsaG92ZXI6ITEsa2V5Ym9hcmQ6e2VuYWJsZWQ6ITEsc3BlZWQ6e3g6WzEwLDAsNDAsMV0seTpbMTAsMCw0MCwxXSx6b29tOlsuMDIsMCwuMSwuMDA1XX0sYmluZFRvV2luZG93OiEwLGF1dG9Gb2N1czohMH0sbXVsdGlzZWxlY3Q6ITEsbmF2aWdhdGlvbkJ1dHRvbnM6ITEsc2VsZWN0YWJsZTohMCxzZWxlY3RDb25uZWN0ZWRFZGdlczohMCxob3ZlckNvbm5lY3RlZEVkZ2VzOiEwLHRvb2x0aXBEZWxheTpbMzAwLDAsMWUzLDI1XSx6b29tVmlldzohMCx6b29tU3BlZWQ6WzEsLjEsMiwuMV19LG1hbmlwdWxhdGlvbjp7ZW5hYmxlZDohMSxpbml0aWFsbHlBY3RpdmU6ITF9LHBoeXNpY3M6e2VuYWJsZWQ6ITAsYmFybmVzSHV0Ont0aGV0YTpbLjUsLjEsMSwuMDVdLGdyYXZpdGF0aW9uYWxDb25zdGFudDpbLTJlMywtM2U0LDAsNTBdLGNlbnRyYWxHcmF2aXR5OlsuMywwLDEwLC4wNV0sc3ByaW5nTGVuZ3RoOls5NSwwLDUwMCw1XSxzcHJpbmdDb25zdGFudDpbLjA0LDAsMS4yLC4wMDVdLGRhbXBpbmc6Wy4wOSwwLDEsLjAxXSxhdm9pZE92ZXJsYXA6WzAsMCwxLC4wMV19LGZvcmNlQXRsYXMyQmFzZWQ6e3RoZXRhOlsuNSwuMSwxLC4wNV0sZ3Jhdml0YXRpb25hbENvbnN0YW50OlstNTAsLTUwMCwwLDFdLGNlbnRyYWxHcmF2aXR5OlsuMDEsMCwxLC4wMDVdLHNwcmluZ0xlbmd0aDpbOTUsMCw1MDAsNV0sc3ByaW5nQ29uc3RhbnQ6Wy4wOCwwLDEuMiwuMDA1XSxkYW1waW5nOlsuNCwwLDEsLjAxXSxhdm9pZE92ZXJsYXA6WzAsMCwxLC4wMV19LHJlcHVsc2lvbjp7Y2VudHJhbEdyYXZpdHk6Wy4yLDAsMTAsLjA1XSxzcHJpbmdMZW5ndGg6WzIwMCwwLDUwMCw1XSxzcHJpbmdDb25zdGFudDpbLjA1LDAsMS4yLC4wMDVdLG5vZGVEaXN0YW5jZTpbMTAwLDAsNTAwLDVdLGRhbXBpbmc6Wy4wOSwwLDEsLjAxXX0saGllcmFyY2hpY2FsUmVwdWxzaW9uOntjZW50cmFsR3Jhdml0eTpbLjIsMCwxMCwuMDVdLHNwcmluZ0xlbmd0aDpbMTAwLDAsNTAwLDVdLHNwcmluZ0NvbnN0YW50OlsuMDEsMCwxLjIsLjAwNV0sbm9kZURpc3RhbmNlOlsxMjAsMCw1MDAsNV0sZGFtcGluZzpbLjA5LDAsMSwuMDFdLGF2b2lkT3ZlcmxhcDpbMCwwLDEsLjAxXX0sbWF4VmVsb2NpdHk6WzUwLDAsMTUwLDFdLG1pblZlbG9jaXR5OlsuMSwuMDEsLjUsLjAxXSxzb2x2ZXI6W1wiYmFybmVzSHV0XCIsXCJmb3JjZUF0bGFzMkJhc2VkXCIsXCJyZXB1bHNpb25cIixcImhpZXJhcmNoaWNhbFJlcHVsc2lvblwiXSx0aW1lc3RlcDpbLjUsLjAxLDEsLjAxXSx3aW5kOnt4OlswLC0xMCwxMCwuMV0seTpbMCwtMTAsMTAsLjFdfX19LG1UPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbztyZXR1cm4hKCFRcCh0KS5jYWxsKHQsXCJwaHlzaWNzXCIpfHwhUXAobz15VC5waHlzaWNzLnNvbHZlcikuY2FsbChvLGUpfHxpLnBoeXNpY3Muc29sdmVyPT09ZXx8XCJ3aW5kXCI9PT1lKX0sYlQ9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsYWxsT3B0aW9uczpnVCxjb25maWd1cmF0b3JIaWRlT3B0aW9uOm1ULGNvbmZpZ3VyZU9wdGlvbnM6eVR9KSx3VD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2aCh0aGlzLHQpfXJldHVybiB3dSh0LFt7a2V5OlwiZ2V0RGlzdGFuY2VzXCIsdmFsdWU6ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbz17fSxuPXQuZWRnZXMscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgcz17fTtvW2Vbcl1dPXM7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspc1tlW2FdXT1yPT1hPzA6MWU5fWZvcih2YXIgaD0wO2g8aS5sZW5ndGg7aCsrKXt2YXIgZD1uW2lbaF1dOyEwPT09ZC5jb25uZWN0ZWQmJnZvaWQgMCE9PW9bZC5mcm9tSWRdJiZ2b2lkIDAhPT1vW2QudG9JZF0mJihvW2QuZnJvbUlkXVtkLnRvSWRdPTEsb1tkLnRvSWRdW2QuZnJvbUlkXT0xKX1mb3IodmFyIGw9ZS5sZW5ndGgsYz0wO2M8bDtjKyspZm9yKHZhciB1PWVbY10sZj1vW3VdLHA9MDtwPGwtMTtwKyspZm9yKHZhciB2PWVbcF0sZz1vW3ZdLHk9cCsxO3k8bDt5Kyspe3ZhciBtPWVbeV0sYj1vW21dLHc9TWF0aC5taW4oZ1ttXSxnW3VdK2ZbbV0pO2dbbV09dyxiW3ZdPXd9cmV0dXJuIG99fV0pLHR9KCksa1Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsaSxvKXt2aCh0aGlzLHQpLHRoaXMuYm9keT1lLHRoaXMuc3ByaW5nTGVuZ3RoPWksdGhpcy5zcHJpbmdDb25zdGFudD1vLHRoaXMuZGlzdGFuY2VTb2x2ZXI9bmV3IHdUfXJldHVybiB3dSh0LFt7a2V5Olwic2V0T3B0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3QmJih0LnNwcmluZ0xlbmd0aCYmKHRoaXMuc3ByaW5nTGVuZ3RoPXQuc3ByaW5nTGVuZ3RoKSx0LnNwcmluZ0NvbnN0YW50JiYodGhpcy5zcHJpbmdDb25zdGFudD10LnNwcmluZ0NvbnN0YW50KSl9fSx7a2V5Olwic29sdmVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbz10aGlzLmRpc3RhbmNlU29sdmVyLmdldERpc3RhbmNlcyh0aGlzLmJvZHksdCxlKTt0aGlzLl9jcmVhdGVMX21hdHJpeChvKSx0aGlzLl9jcmVhdGVLX21hdHJpeChvKSx0aGlzLl9jcmVhdGVFX21hdHJpeCgpO2Zvcih2YXIgbj0wLHI9TWF0aC5tYXgoMWUzLE1hdGgubWluKDEwKnRoaXMuYm9keS5ub2RlSW5kaWNlcy5sZW5ndGgsNmUzKSkscz0xZTksYT0wLGg9MCxkPTAsbD0wLGM9MDtzPi4wMSYmbjxyOyl7bis9MTt2YXIgdT1kZih0aGlzLl9nZXRIaWdoZXN0RW5lcmd5Tm9kZShpKSw0KTtmb3IoYT11WzBdLHM9dVsxXSxoPXVbMl0sZD11WzNdLGw9cyxjPTA7bD4xJiZjPDU7KXtjKz0xLHRoaXMuX21vdmVOb2RlKGEsaCxkKTt2YXIgZj1kZih0aGlzLl9nZXRFbmVyZ3koYSksMyk7bD1mWzBdLGg9ZlsxXSxkPWZbMl19fX19LHtrZXk6XCJfZ2V0SGlnaGVzdEVuZXJneU5vZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLGk9dGhpcy5ib2R5Lm5vZGVzLG89MCxuPWVbMF0scj0wLHM9MCxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBoPWVbYV07aWYoITAhPT1pW2hdLnByZWRlZmluZWRQb3NpdGlvbnx8ITA9PT1pW2hdLmlzQ2x1c3RlciYmITA9PT10fHwhMCE9PWlbaF0ub3B0aW9ucy5maXhlZC54fHwhMCE9PWlbaF0ub3B0aW9ucy5maXhlZC55KXt2YXIgZD1kZih0aGlzLl9nZXRFbmVyZ3koaCksMyksbD1kWzBdLGM9ZFsxXSx1PWRbMl07bzxsJiYobz1sLG49aCxyPWMscz11KX19cmV0dXJuW24sbyxyLHNdfX0se2tleTpcIl9nZXRFbmVyZ3lcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT1kZih0aGlzLkVfc3Vtc1t0XSwyKSxpPWVbMF0sbz1lWzFdO3JldHVybltNYXRoLnNxcnQoTWF0aC5wb3coaSwyKStNYXRoLnBvdyhvLDIpKSxpLG9dfX0se2tleTpcIl9tb3ZlTm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG89dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLG49dGhpcy5ib2R5Lm5vZGVzLHI9MCxzPTAsYT0wLGg9blt0XS54LGQ9blt0XS55LGw9dGhpcy5LX21hdHJpeFt0XSxjPXRoaXMuTF9tYXRyaXhbdF0sdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgZj1vW3VdO2lmKGYhPT10KXt2YXIgcD1uW2ZdLngsdj1uW2ZdLnksZz1sW2ZdLHk9Y1tmXSxtPTEvTWF0aC5wb3coTWF0aC5wb3coaC1wLDIpK01hdGgucG93KGQtdiwyKSwxLjUpO3IrPWcqKDEteSpNYXRoLnBvdyhkLXYsMikqbSkscys9ZyooeSooaC1wKSooZC12KSptKSxhKz1nKigxLXkqTWF0aC5wb3coaC1wLDIpKm0pfX12YXIgYj0oZS9yK2kvcykvKHMvci1hL3MpLHc9LShzKmIrZSkvcjtuW3RdLngrPXcsblt0XS55Kz1iLHRoaXMuX3VwZGF0ZUVfbWF0cml4KHQpfX0se2tleTpcIl9jcmVhdGVMX21hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxpPXRoaXMuc3ByaW5nTGVuZ3RoO3RoaXMuTF9tYXRyaXg9W107Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKyspe3RoaXMuTF9tYXRyaXhbZVtvXV09e307Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdGhpcy5MX21hdHJpeFtlW29dXVtlW25dXT1pKnRbZVtvXV1bZVtuXV19fX0se2tleTpcIl9jcmVhdGVLX21hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxpPXRoaXMuc3ByaW5nQ29uc3RhbnQ7dGhpcy5LX21hdHJpeD1bXTtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl7dGhpcy5LX21hdHJpeFtlW29dXT17fTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0aGlzLktfbWF0cml4W2Vbb11dW2Vbbl1dPWkqTWF0aC5wb3codFtlW29dXVtlW25dXSwtMil9fX0se2tleTpcIl9jcmVhdGVFX21hdHJpeFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5Lm5vZGVJbmRpY2VzLGU9dGhpcy5ib2R5Lm5vZGVzO3RoaXMuRV9tYXRyaXg9e30sdGhpcy5FX3N1bXM9e307Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy5FX21hdHJpeFt0W2ldXT1bXTtmb3IodmFyIG89MDtvPHQubGVuZ3RoO28rKyl7Zm9yKHZhciBuPXRbb10scj1lW25dLngscz1lW25dLnksYT0wLGg9MCxkPW87ZDx0Lmxlbmd0aDtkKyspe3ZhciBsPXRbZF07aWYobCE9PW4pe3ZhciBjPWVbbF0ueCx1PWVbbF0ueSxmPTEvTWF0aC5zcXJ0KE1hdGgucG93KHItYywyKStNYXRoLnBvdyhzLXUsMikpO3RoaXMuRV9tYXRyaXhbbl1bZF09W3RoaXMuS19tYXRyaXhbbl1bbF0qKHItYy10aGlzLkxfbWF0cml4W25dW2xdKihyLWMpKmYpLHRoaXMuS19tYXRyaXhbbl1bbF0qKHMtdS10aGlzLkxfbWF0cml4W25dW2xdKihzLXUpKmYpXSx0aGlzLkVfbWF0cml4W2xdW29dPXRoaXMuRV9tYXRyaXhbbl1bZF0sYSs9dGhpcy5FX21hdHJpeFtuXVtkXVswXSxoKz10aGlzLkVfbWF0cml4W25dW2RdWzFdfX10aGlzLkVfc3Vtc1tuXT1bYSxoXX19fSx7a2V5OlwiX3VwZGF0ZUVfbWF0cml4XCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMuYm9keS5ub2RlSW5kaWNlcyxpPXRoaXMuYm9keS5ub2RlcyxvPXRoaXMuRV9tYXRyaXhbdF0sbj10aGlzLktfbWF0cml4W3RdLHI9dGhpcy5MX21hdHJpeFt0XSxzPWlbdF0ueCxhPWlbdF0ueSxoPTAsZD0wLGw9MDtsPGUubGVuZ3RoO2wrKyl7dmFyIGM9ZVtsXTtpZihjIT09dCl7dmFyIHU9b1tsXSxmPXVbMF0scD11WzFdLHY9aVtjXS54LGc9aVtjXS55LHk9MS9NYXRoLnNxcnQoTWF0aC5wb3cocy12LDIpK01hdGgucG93KGEtZywyKSksbT1uW2NdKihzLXYtcltjXSoocy12KSp5KSxiPW5bY10qKGEtZy1yW2NdKihhLWcpKnkpO29bbF09W20sYl0saCs9bSxkKz1iO3ZhciB3PXRoaXMuRV9zdW1zW2NdO3dbMF0rPW0tZix3WzFdKz1iLXB9fXRoaXMuRV9zdW1zW3RdPVtoLGRdfX1dKSx0fSgpO2Z1bmN0aW9uIF9UKHQsZSxpKXt2YXIgbyxuLHIscyxhPXRoaXM7aWYoISh0aGlzIGluc3RhbmNlb2YgX1QpKXRocm93IG5ldyBTeW50YXhFcnJvcihcIkNvbnN0cnVjdG9yIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvclwiKTt0aGlzLm9wdGlvbnM9e30sdGhpcy5kZWZhdWx0T3B0aW9ucz17bG9jYWxlOlwiZW5cIixsb2NhbGVzOktiLGNsaWNrVG9Vc2U6ITF9LHdvKHRoaXMub3B0aW9ucyx0aGlzLmRlZmF1bHRPcHRpb25zKSx0aGlzLmJvZHk9e2NvbnRhaW5lcjp0LG5vZGVzOnt9LG5vZGVJbmRpY2VzOltdLGVkZ2VzOnt9LGVkZ2VJbmRpY2VzOltdLGVtaXR0ZXI6e29uOldvKG89dGhpcy5vbikuY2FsbChvLHRoaXMpLG9mZjpXbyhuPXRoaXMub2ZmKS5jYWxsKG4sdGhpcyksZW1pdDpXbyhyPXRoaXMuZW1pdCkuY2FsbChyLHRoaXMpLG9uY2U6V28ocz10aGlzLm9uY2UpLmNhbGwocyx0aGlzKX0sZXZlbnRMaXN0ZW5lcnM6e29uVGFwOmZ1bmN0aW9uKCl7fSxvblRvdWNoOmZ1bmN0aW9uKCl7fSxvbkRvdWJsZVRhcDpmdW5jdGlvbigpe30sb25Ib2xkOmZ1bmN0aW9uKCl7fSxvbkRyYWdTdGFydDpmdW5jdGlvbigpe30sb25EcmFnOmZ1bmN0aW9uKCl7fSxvbkRyYWdFbmQ6ZnVuY3Rpb24oKXt9LG9uTW91c2VXaGVlbDpmdW5jdGlvbigpe30sb25QaW5jaDpmdW5jdGlvbigpe30sb25Nb3VzZU1vdmU6ZnVuY3Rpb24oKXt9LG9uUmVsZWFzZTpmdW5jdGlvbigpe30sb25Db250ZXh0OmZ1bmN0aW9uKCl7fX0sZGF0YTp7bm9kZXM6bnVsbCxlZGdlczpudWxsfSxmdW5jdGlvbnM6e2NyZWF0ZU5vZGU6ZnVuY3Rpb24oKXt9LGNyZWF0ZUVkZ2U6ZnVuY3Rpb24oKXt9LGdldFBvaW50ZXI6ZnVuY3Rpb24oKXt9fSxtb2R1bGVzOnt9LHZpZXc6e3NjYWxlOjEsdHJhbnNsYXRpb246e3g6MCx5OjB9fSxzZWxlY3Rpb25Cb3g6e3Nob3c6ITEscG9zaXRpb246e3N0YXJ0Ont4OjAseTowfSxlbmQ6e3g6MCx5OjB9fX19LHRoaXMuYmluZEV2ZW50TGlzdGVuZXJzKCksdGhpcy5pbWFnZXM9bmV3ICRiKChmdW5jdGlvbigpe3JldHVybiBhLmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIil9KSksdGhpcy5ncm91cHM9bmV3IEVrLHRoaXMuY2FudmFzPW5ldyBDTyh0aGlzLmJvZHkpLHRoaXMuc2VsZWN0aW9uSGFuZGxlcj1uZXcgVkModGhpcy5ib2R5LHRoaXMuY2FudmFzKSx0aGlzLmludGVyYWN0aW9uSGFuZGxlcj1uZXcgSU8odGhpcy5ib2R5LHRoaXMuY2FudmFzLHRoaXMuc2VsZWN0aW9uSGFuZGxlciksdGhpcy52aWV3PW5ldyBTTyh0aGlzLmJvZHksdGhpcy5jYW52YXMpLHRoaXMucmVuZGVyZXI9bmV3IF9PKHRoaXMuYm9keSx0aGlzLmNhbnZhcyksdGhpcy5waHlzaWNzPW5ldyBjTyh0aGlzLmJvZHkpLHRoaXMubGF5b3V0RW5naW5lPW5ldyByVCh0aGlzLmJvZHkpLHRoaXMuY2x1c3RlcmluZz1uZXcga08odGhpcy5ib2R5KSx0aGlzLm1hbmlwdWxhdGlvbj1uZXcgaFQodGhpcy5ib2R5LHRoaXMuY2FudmFzLHRoaXMuc2VsZWN0aW9uSGFuZGxlcix0aGlzLmludGVyYWN0aW9uSGFuZGxlciksdGhpcy5ub2Rlc0hhbmRsZXI9bmV3IHJFKHRoaXMuYm9keSx0aGlzLmltYWdlcyx0aGlzLmdyb3Vwcyx0aGlzLmxheW91dEVuZ2luZSksdGhpcy5lZGdlc0hhbmRsZXI9bmV3IHRPKHRoaXMuYm9keSx0aGlzLmltYWdlcyx0aGlzLmdyb3VwcyksdGhpcy5ib2R5Lm1vZHVsZXMua2FtYWRhS2F3YWk9bmV3IGtUKHRoaXMuYm9keSwxNTAsLjA1KSx0aGlzLmJvZHkubW9kdWxlcy5jbHVzdGVyaW5nPXRoaXMuY2x1c3RlcmluZyx0aGlzLmNhbnZhcy5fY3JlYXRlKCksdGhpcy5zZXRPcHRpb25zKGkpLHRoaXMuc2V0RGF0YShlKX0kbyhfVC5wcm90b3R5cGUpLF9ULnByb3RvdHlwZS5zZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYobnVsbD09PXQmJih0PXZvaWQgMCksdm9pZCAwIT09dCl7ITA9PT12Yi52YWxpZGF0ZSh0LGdUKSYmY29uc29sZS5lcnJvcihcIiVjRXJyb3JzIGhhdmUgYmVlbiBmb3VuZCBpbiB0aGUgc3VwcGxpZWQgb3B0aW9ucyBvYmplY3QuXCIscGIpO2lmKE5tKFtcImxvY2FsZVwiLFwibG9jYWxlc1wiLFwiY2xpY2tUb1VzZVwiXSx0aGlzLm9wdGlvbnMsdCksdm9pZCAwIT09dC5sb2NhbGUmJih0LmxvY2FsZT1mdW5jdGlvbih0LGUpe3RyeXt2YXIgaT1kZihlLnNwbGl0KC9bLV8gL10vLDIpLDIpLG89aVswXSxuPWlbMV0scj1udWxsIT1vP28udG9Mb3dlckNhc2UoKTpudWxsLHM9bnVsbCE9bj9uLnRvVXBwZXJDYXNlKCk6bnVsbDtpZihyJiZzKXt2YXIgYSxoPXIrXCItXCIrcztpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxoKSlyZXR1cm4gaDtjb25zb2xlLndhcm4oeWYoYT1cIlVua25vd24gdmFyaWFudCBcIi5jb25jYXQocyxcIiBvZiBsYW5ndWFnZSBcIikpLmNhbGwoYSxyLFwiLlwiKSl9aWYocil7dmFyIGQ9cjtpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxkKSlyZXR1cm4gZDtjb25zb2xlLndhcm4oXCJVbmtub3duIGxhbmd1YWdlIFwiLmNvbmNhdChyKSl9cmV0dXJuIGNvbnNvbGUud2FybihcIlVua25vd24gbG9jYWxlIFwiLmNvbmNhdChlLFwiLCBmYWxsaW5nIGJhY2sgdG8gRW5nbGlzaC5cIikpLFwiZW5cIn1jYXRjaCh0KXtyZXR1cm4gY29uc29sZS5lcnJvcih0KSxjb25zb2xlLndhcm4oXCJVbmV4cGVjdGVkIGVycm9yIHdoaWxlIG5vcm1hbGl6aW5nIGxvY2FsZSBcIi5jb25jYXQoZSxcIiwgZmFsbGluZyBiYWNrIHRvIEVuZ2xpc2guXCIpKSxcImVuXCJ9fSh0LmxvY2FsZXN8fHRoaXMub3B0aW9ucy5sb2NhbGVzLHQubG9jYWxlKSksdD10aGlzLmxheW91dEVuZ2luZS5zZXRPcHRpb25zKHQubGF5b3V0LHQpLHRoaXMuY2FudmFzLnNldE9wdGlvbnModCksdGhpcy5ncm91cHMuc2V0T3B0aW9ucyh0Lmdyb3VwcyksdGhpcy5ub2Rlc0hhbmRsZXIuc2V0T3B0aW9ucyh0Lm5vZGVzKSx0aGlzLmVkZ2VzSGFuZGxlci5zZXRPcHRpb25zKHQuZWRnZXMpLHRoaXMucGh5c2ljcy5zZXRPcHRpb25zKHQucGh5c2ljcyksdGhpcy5tYW5pcHVsYXRpb24uc2V0T3B0aW9ucyh0Lm1hbmlwdWxhdGlvbix0LHRoaXMub3B0aW9ucyksdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIuc2V0T3B0aW9ucyh0LmludGVyYWN0aW9uKSx0aGlzLnJlbmRlcmVyLnNldE9wdGlvbnModC5pbnRlcmFjdGlvbiksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNldE9wdGlvbnModC5pbnRlcmFjdGlvbiksdm9pZCAwIT09dC5ncm91cHMmJnRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZWZyZXNoTm9kZXNcIiksXCJjb25maWd1cmVcImluIHQmJih0aGlzLmNvbmZpZ3VyYXRvcnx8KHRoaXMuY29uZmlndXJhdG9yPW5ldyBjYih0aGlzLHRoaXMuYm9keS5jb250YWluZXIseVQsdGhpcy5jYW52YXMucGl4ZWxSYXRpbyxtVCkpLHRoaXMuY29uZmlndXJhdG9yLnNldE9wdGlvbnModC5jb25maWd1cmUpKSx0aGlzLmNvbmZpZ3VyYXRvciYmITA9PT10aGlzLmNvbmZpZ3VyYXRvci5vcHRpb25zLmVuYWJsZWQpe3ZhciBpPXtub2Rlczp7fSxlZGdlczp7fSxsYXlvdXQ6e30saW50ZXJhY3Rpb246e30sbWFuaXB1bGF0aW9uOnt9LHBoeXNpY3M6e30sZ2xvYmFsOnt9fTtSbShpLm5vZGVzLHRoaXMubm9kZXNIYW5kbGVyLm9wdGlvbnMpLFJtKGkuZWRnZXMsdGhpcy5lZGdlc0hhbmRsZXIub3B0aW9ucyksUm0oaS5sYXlvdXQsdGhpcy5sYXlvdXRFbmdpbmUub3B0aW9ucyksUm0oaS5pbnRlcmFjdGlvbix0aGlzLnNlbGVjdGlvbkhhbmRsZXIub3B0aW9ucyksUm0oaS5pbnRlcmFjdGlvbix0aGlzLnJlbmRlcmVyLm9wdGlvbnMpLFJtKGkuaW50ZXJhY3Rpb24sdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIub3B0aW9ucyksUm0oaS5tYW5pcHVsYXRpb24sdGhpcy5tYW5pcHVsYXRpb24ub3B0aW9ucyksUm0oaS5waHlzaWNzLHRoaXMucGh5c2ljcy5vcHRpb25zKSxSbShpLmdsb2JhbCx0aGlzLmNhbnZhcy5vcHRpb25zKSxSbShpLmdsb2JhbCx0aGlzLm9wdGlvbnMpLHRoaXMuY29uZmlndXJhdG9yLnNldE1vZHVsZU9wdGlvbnMoaSl9dm9pZCAwIT09dC5jbGlja1RvVXNlPyEwPT09dC5jbGlja1RvVXNlP3ZvaWQgMD09PXRoaXMuYWN0aXZhdG9yJiYodGhpcy5hY3RpdmF0b3I9bmV3IGxiKHRoaXMuY2FudmFzLmZyYW1lKSx0aGlzLmFjdGl2YXRvci5vbihcImNoYW5nZVwiLChmdW5jdGlvbigpe2UuYm9keS5lbWl0dGVyLmVtaXQoXCJhY3RpdmF0ZVwiKX0pKSk6KHZvaWQgMCE9PXRoaXMuYWN0aXZhdG9yJiYodGhpcy5hY3RpdmF0b3IuZGVzdHJveSgpLGRlbGV0ZSB0aGlzLmFjdGl2YXRvciksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImFjdGl2YXRlXCIpKTp0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiYWN0aXZhdGVcIiksdGhpcy5jYW52YXMuc2V0U2l6ZSgpLHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJzdGFydFNpbXVsYXRpb25cIil9fSxfVC5wcm90b3R5cGUuX3VwZGF0ZVZpc2libGVJbmRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ib2R5Lm5vZGVzLGU9dGhpcy5ib2R5LmVkZ2VzO2Zvcih2YXIgaSBpbiB0aGlzLmJvZHkubm9kZUluZGljZXM9W10sdGhpcy5ib2R5LmVkZ2VJbmRpY2VzPVtdLHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJih0aGlzLmNsdXN0ZXJpbmcuX2lzQ2x1c3RlcmVkTm9kZShpKXx8ITEhPT10W2ldLm9wdGlvbnMuaGlkZGVufHx0aGlzLmJvZHkubm9kZUluZGljZXMucHVzaCh0W2ldLmlkKSk7Zm9yKHZhciBvIGluIGUpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBuPWVbb10scj10W24uZnJvbUlkXSxzPXRbbi50b0lkXSxhPXZvaWQgMCE9PXImJnZvaWQgMCE9PXM7IXRoaXMuY2x1c3RlcmluZy5faXNDbHVzdGVyZWRFZGdlKG8pJiYhMT09PW4ub3B0aW9ucy5oaWRkZW4mJmEmJiExPT09ci5vcHRpb25zLmhpZGRlbiYmITE9PT1zLm9wdGlvbnMuaGlkZGVuJiZ0aGlzLmJvZHkuZWRnZUluZGljZXMucHVzaChuLmlkKX19LF9ULnByb3RvdHlwZS5iaW5kRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYm9keS5lbWl0dGVyLm9uKFwiX2RhdGFDaGFuZ2VkXCIsKGZ1bmN0aW9uKCl7dC5lZGdlc0hhbmRsZXIuX3VwZGF0ZVN0YXRlKCksdC5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhVXBkYXRlZFwiKX0pKSx0aGlzLmJvZHkuZW1pdHRlci5vbihcIl9kYXRhVXBkYXRlZFwiLChmdW5jdGlvbigpe3QuY2x1c3RlcmluZy5fdXBkYXRlU3RhdGUoKSx0Ll91cGRhdGVWaXNpYmxlSW5kaWNlcygpLHQuX3VwZGF0ZVZhbHVlUmFuZ2UodC5ib2R5Lm5vZGVzKSx0Ll91cGRhdGVWYWx1ZVJhbmdlKHQuYm9keS5lZGdlcyksdC5ib2R5LmVtaXR0ZXIuZW1pdChcInN0YXJ0U2ltdWxhdGlvblwiKSx0LmJvZHkuZW1pdHRlci5lbWl0KFwiX3JlcXVlc3RSZWRyYXdcIil9KSl9LF9ULnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuYm9keS5lbWl0dGVyLmVtaXQoXCJyZXNldFBoeXNpY3NcIiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9yZXNldERhdGFcIiksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnVuc2VsZWN0QWxsKCksdCYmdC5kb3QmJih0Lm5vZGVzfHx0LmVkZ2VzKSl0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0RhdGEgbXVzdCBjb250YWluIGVpdGhlciBwYXJhbWV0ZXIgXCJkb3RcIiBvciAgcGFyYW1ldGVyIHBhaXIgXCJub2Rlc1wiIGFuZCBcImVkZ2VzXCIsIGJ1dCBub3QgYm90aC4nKTtpZih0aGlzLnNldE9wdGlvbnModCYmdC5vcHRpb25zKSx0JiZ0LmRvdCl7Y29uc29sZS53YXJuKFwiVGhlIGRvdCBwcm9wZXJ0eSBoYXMgYmVlbiBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBzdGF0aWMgY29udmVydERvdCBtZXRob2QgdG8gY29udmVydCBET1QgaW50byB2aXMubmV0d29yayBmb3JtYXQgYW5kIHVzZSB0aGUgbm9ybWFsIGRhdGEgZm9ybWF0IHdpdGggbm9kZXMgYW5kIGVkZ2VzLiBUaGlzIGNvbnZlcnRlciBpcyB1c2VkIGxpa2UgdGhpczogdmFyIGRhdGEgPSB2aXMubmV0d29yay5jb252ZXJ0RG90KGRvdFN0cmluZyk7XCIpO3ZhciBlPXFiKHQuZG90KTt0aGlzLnNldERhdGEoZSl9ZWxzZSBpZih0JiZ0LmdlcGhpKXtjb25zb2xlLndhcm4oXCJUaGUgZ2VwaGkgcHJvcGVydHkgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgc3RhdGljIGNvbnZlcnRHZXBoaSBtZXRob2QgdG8gY29udmVydCBnZXBoaSBpbnRvIHZpcy5uZXR3b3JrIGZvcm1hdCBhbmQgdXNlIHRoZSBub3JtYWwgZGF0YSBmb3JtYXQgd2l0aCBub2RlcyBhbmQgZWRnZXMuIFRoaXMgY29udmVydGVyIGlzIHVzZWQgbGlrZSB0aGlzOiB2YXIgZGF0YSA9IHZpcy5uZXR3b3JrLmNvbnZlcnRHZXBoaShnZXBoaUpzb24pO1wiKTt2YXIgaT1ZYih0LmdlcGhpKTt0aGlzLnNldERhdGEoaSl9ZWxzZSB0aGlzLm5vZGVzSGFuZGxlci5zZXREYXRhKHQmJnQubm9kZXMsITApLHRoaXMuZWRnZXNIYW5kbGVyLnNldERhdGEodCYmdC5lZGdlcywhMCksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcIl9kYXRhQ2hhbmdlZFwiKSx0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiX2RhdGFMb2FkZWRcIiksdGhpcy5ib2R5LmVtaXR0ZXIuZW1pdChcImluaXRQaHlzaWNzXCIpfSxfVC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgdCBpbiB0aGlzLmJvZHkuZW1pdHRlci5lbWl0KFwiZGVzdHJveVwiKSx0aGlzLmJvZHkuZW1pdHRlci5vZmYoKSx0aGlzLm9mZigpLGRlbGV0ZSB0aGlzLmdyb3VwcyxkZWxldGUgdGhpcy5jYW52YXMsZGVsZXRlIHRoaXMuc2VsZWN0aW9uSGFuZGxlcixkZWxldGUgdGhpcy5pbnRlcmFjdGlvbkhhbmRsZXIsZGVsZXRlIHRoaXMudmlldyxkZWxldGUgdGhpcy5yZW5kZXJlcixkZWxldGUgdGhpcy5waHlzaWNzLGRlbGV0ZSB0aGlzLmxheW91dEVuZ2luZSxkZWxldGUgdGhpcy5jbHVzdGVyaW5nLGRlbGV0ZSB0aGlzLm1hbmlwdWxhdGlvbixkZWxldGUgdGhpcy5ub2Rlc0hhbmRsZXIsZGVsZXRlIHRoaXMuZWRnZXNIYW5kbGVyLGRlbGV0ZSB0aGlzLmNvbmZpZ3VyYXRvcixkZWxldGUgdGhpcy5pbWFnZXMsdGhpcy5ib2R5Lm5vZGVzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvZHkubm9kZXMsdCkmJmRlbGV0ZSB0aGlzLmJvZHkubm9kZXNbdF07Zm9yKHZhciBlIGluIHRoaXMuYm9keS5lZGdlcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5ib2R5LmVkZ2VzLGUpJiZkZWxldGUgdGhpcy5ib2R5LmVkZ2VzW2VdO0RtKHRoaXMuYm9keS5jb250YWluZXIpfSxfVC5wcm90b3R5cGUuX3VwZGF0ZVZhbHVlUmFuZ2U9ZnVuY3Rpb24odCl7dmFyIGUsaT12b2lkIDAsbz12b2lkIDAsbj0wO2ZvcihlIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkpe3ZhciByPXRbZV0uZ2V0VmFsdWUoKTt2b2lkIDAhPT1yJiYoaT12b2lkIDA9PT1pP3I6TWF0aC5taW4ocixpKSxvPXZvaWQgMD09PW8/cjpNYXRoLm1heChyLG8pLG4rPXIpfWlmKHZvaWQgMCE9PWkmJnZvaWQgMCE9PW8pZm9yKGUgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmdFtlXS5zZXRWYWx1ZVJhbmdlKGksbyxuKX0sX1QucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuYWN0aXZhdG9yfHx0aGlzLmFjdGl2YXRvci5hY3RpdmV9LF9ULnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLnNldFNpemUuYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLmNhbnZhc1RvRE9NPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzLmNhbnZhc1RvRE9NLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5ET010b0NhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcy5ET010b0NhbnZhcy5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZmluZE5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmZpbmROb2RlLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuaXNDbHVzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5pc0NsdXN0ZXIuYXBwbHkodGhpcy5jbHVzdGVyaW5nLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5vcGVuQ2x1c3Rlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcub3BlbkNsdXN0ZXIuYXBwbHkodGhpcy5jbHVzdGVyaW5nLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5jbHVzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5jbHVzdGVyLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0Tm9kZXNJbkNsdXN0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmdldE5vZGVzSW5DbHVzdGVyLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuY2x1c3RlckJ5Q29ubmVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsdXN0ZXJpbmcuY2x1c3RlckJ5Q29ubmVjdGlvbi5hcHBseSh0aGlzLmNsdXN0ZXJpbmcsYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLmNsdXN0ZXJCeUh1YnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmNsdXN0ZXJCeUh1YnNpemUuYXBwbHkodGhpcy5jbHVzdGVyaW5nLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS51cGRhdGVDbHVzdGVyZWROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy51cGRhdGVDbHVzdGVyZWROb2RlLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0Q2x1c3RlcmVkRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmdldENsdXN0ZXJlZEVkZ2VzLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0QmFzZUVkZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbHVzdGVyaW5nLmdldEJhc2VFZGdlLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0QmFzZUVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5nZXRCYXNlRWRnZXMuYXBwbHkodGhpcy5jbHVzdGVyaW5nLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS51cGRhdGVFZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy51cGRhdGVFZGdlLmFwcGx5KHRoaXMuY2x1c3RlcmluZyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuY2x1c3Rlck91dGxpZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2x1c3RlcmluZy5jbHVzdGVyT3V0bGllcnMuYXBwbHkodGhpcy5jbHVzdGVyaW5nLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXRTZWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGF5b3V0RW5naW5lLmdldFNlZWQuYXBwbHkodGhpcy5sYXlvdXRFbmdpbmUsYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLmVuYWJsZUVkaXRNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmVuYWJsZUVkaXRNb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5kaXNhYmxlRWRpdE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uZGlzYWJsZUVkaXRNb2RlLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5hZGROb2RlTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5hZGROb2RlTW9kZS5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZWRpdE5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uZWRpdE5vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLmVkaXROb2RlTW9kZT1mdW5jdGlvbigpe3JldHVybiBjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkOiBQbGVhc2UgdXNlIGVkaXROb2RlIGluc3RlYWQgb2YgZWRpdE5vZGVNb2RlLlwiKSx0aGlzLm1hbmlwdWxhdGlvbi5lZGl0Tm9kZS5hcHBseSh0aGlzLm1hbmlwdWxhdGlvbixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuYWRkRWRnZU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRpb24uYWRkRWRnZU1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLmVkaXRFZGdlTW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbmlwdWxhdGlvbi5lZGl0RWRnZU1vZGUuYXBwbHkodGhpcy5tYW5pcHVsYXRpb24sYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLmRlbGV0ZVNlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFuaXB1bGF0aW9uLmRlbGV0ZVNlbGVjdGVkLmFwcGx5KHRoaXMubWFuaXB1bGF0aW9uLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXRQb3NpdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuZ2V0UG9zaXRpb25zLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVzSGFuZGxlci5nZXRQb3NpdGlvbi5hcHBseSh0aGlzLm5vZGVzSGFuZGxlcixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuc3RvcmVQb3NpdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2Rlc0hhbmRsZXIuc3RvcmVQb3NpdGlvbnMuYXBwbHkodGhpcy5ub2Rlc0hhbmRsZXIsYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLm1vdmVOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZXNIYW5kbGVyLm1vdmVOb2RlLmFwcGx5KHRoaXMubm9kZXNIYW5kbGVyLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVzSGFuZGxlci5nZXRCb3VuZGluZ0JveC5hcHBseSh0aGlzLm5vZGVzSGFuZGxlcixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0Q29ubmVjdGVkTm9kZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuYm9keS5ub2Rlc1t0XT90aGlzLm5vZGVzSGFuZGxlci5nZXRDb25uZWN0ZWROb2Rlcy5hcHBseSh0aGlzLm5vZGVzSGFuZGxlcixhcmd1bWVudHMpOnRoaXMuZWRnZXNIYW5kbGVyLmdldENvbm5lY3RlZE5vZGVzLmFwcGx5KHRoaXMuZWRnZXNIYW5kbGVyLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXRDb25uZWN0ZWRFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVzSGFuZGxlci5nZXRDb25uZWN0ZWRFZGdlcy5hcHBseSh0aGlzLm5vZGVzSGFuZGxlcixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuc3RhcnRTaW11bGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGh5c2ljcy5zdGFydFNpbXVsYXRpb24uYXBwbHkodGhpcy5waHlzaWNzLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5zdG9wU2ltdWxhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBoeXNpY3Muc3RvcFNpbXVsYXRpb24uYXBwbHkodGhpcy5waHlzaWNzLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5zdGFiaWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5waHlzaWNzLnN0YWJpbGl6ZS5hcHBseSh0aGlzLnBoeXNpY3MsYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0U2VsZWN0aW9uLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuc2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5zZXRTZWxlY3Rpb24uYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXRTZWxlY3RlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZE5vZGVJZHMuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXRTZWxlY3RlZEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRTZWxlY3RlZEVkZ2VJZHMuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5nZXROb2RlQXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlbGVjdGlvbkhhbmRsZXIuZ2V0Tm9kZUF0LmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpO3JldHVybiB2b2lkIDAhPT10JiZ2b2lkIDAhPT10LmlkP3QuaWQ6dH0sX1QucHJvdG90eXBlLmdldEVkZ2VBdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc2VsZWN0aW9uSGFuZGxlci5nZXRFZGdlQXQuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLGFyZ3VtZW50cyk7cmV0dXJuIHZvaWQgMCE9PXQmJnZvaWQgMCE9PXQuaWQ/dC5pZDp0fSxfVC5wcm90b3R5cGUuc2VsZWN0Tm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdE5vZGVzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuc2VsZWN0RWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb25IYW5kbGVyLnNlbGVjdEVkZ2VzLmFwcGx5KHRoaXMuc2VsZWN0aW9uSGFuZGxlcixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUudW5zZWxlY3RBbGw9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGlvbkhhbmRsZXIudW5zZWxlY3RBbGwuYXBwbHkodGhpcy5zZWxlY3Rpb25IYW5kbGVyLGFyZ3VtZW50cyksdGhpcy5zZWxlY3Rpb25IYW5kbGVyLmNvbW1pdFdpdGhvdXRFbWl0dGluZy5hcHBseSh0aGlzLnNlbGVjdGlvbkhhbmRsZXIpLHRoaXMucmVkcmF3KCl9LF9ULnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlci5yZWRyYXcuYXBwbHkodGhpcy5yZW5kZXJlcixhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0U2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldFNjYWxlLmFwcGx5KHRoaXMudmlldyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0Vmlld1Bvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5nZXRWaWV3UG9zaXRpb24uYXBwbHkodGhpcy52aWV3LGFyZ3VtZW50cyl9LF9ULnByb3RvdHlwZS5maXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmZpdC5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX0sX1QucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcubW92ZVRvLmFwcGx5KHRoaXMudmlldyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmZvY3VzLmFwcGx5KHRoaXMudmlldyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUucmVsZWFzZU5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LnJlbGVhc2VOb2RlLmFwcGx5KHRoaXMudmlldyxhcmd1bWVudHMpfSxfVC5wcm90b3R5cGUuZ2V0T3B0aW9uc0Zyb21Db25maWd1cmF0b3I9ZnVuY3Rpb24oKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5jb25maWd1cmF0b3ImJih0PXRoaXMuY29uZmlndXJhdG9yLmdldE9wdGlvbnMuYXBwbHkodGhpcy5jb25maWd1cmF0b3IpKSx0fTt2YXIgeFQ9cWI7dC5OZXR3b3JrPV9ULHQuTmV0d29ya0ltYWdlcz0kYix0Lm5ldHdvcmtET1RQYXJzZXI9VWIsdC5uZXR3b3JrR2VwaGlQYXJzZXI9WGIsdC5uZXR3b3JrT3B0aW9ucz1iVCx0LnBhcnNlRE9UTmV0d29yaz14VCx0LnBhcnNlR2VwaGlOZXR3b3JrPVlifSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlzLW5ldHdvcmsubWluLmpzLm1hcFxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgRGF0YVNldCB9IGZyb20gJ3Zpcy1kYXRhJztcclxuaW1wb3J0IHsgTmV0d29yaywgTm9kZSBhcyBWaXNOb2RlLCBFZGdlIGFzIFZpc0VkZ2UgfSBmcm9tICd2aXMtbmV0d29yayc7XHJcblxyXG5jbGFzcyBNZXNzYWdlIHtcclxuICAgIGlkOiBzdHJpbmc7XHJcbiAgICBjb250ZW50OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbnZlcnNhdGlvbiB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgcGFyZW50SWQ6IHN0cmluZztcclxuICAgIG1lc3NhZ2VzOiBNZXNzYWdlW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgcGFyZW50SWQ6IHN0cmluZywgbWVzc2FnZXM6IE1lc3NhZ2VbXSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnBhcmVudElkID0gcGFyZW50SWQ7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IG1lc3NhZ2VzO1xyXG4gICAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgR3JhcGgge1xyXG4gICAgW2tleTogc3RyaW5nXTogc3RyaW5nW107XHJcbn1cclxuXHJcbmNvbnN0IGNyZWF0ZUNvbnZlcnNhdGlvbnMgPSAoY29uTnVtOiBudW1iZXIsIG1lc051bTogbnVtYmVyKSA9PiB7XHJcbiAgICAvLyBDcmVhdGUgdGhlIGNvbnZlcnNhdGlvbnNcclxuICAgIGNvbnN0IGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbltdID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBjb25OdW07IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzOiBNZXNzYWdlW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8PSBtZXNOdW07IGorKykge1xyXG4gICAgICAgICAgICBtZXNzYWdlcy5wdXNoKG5ldyBNZXNzYWdlKGAke2l9LiR7an1gLCBgQ29udGVudCAke2l9LiR7an1gKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnZlcnNhdGlvbnMucHVzaChuZXcgQ29udmVyc2F0aW9uKGkudG9TdHJpbmcoKSwgXCJiYXNlXCIsIG1lc3NhZ2VzKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udmVyc2F0aW9ucztcclxufVxyXG5cclxuY29uc3QgcHJpbnRDb252ZXJzYXRpb25zID0gKGNvbnZlcnNhdGlvbnM6IENvbnZlcnNhdGlvbltdKSA9PiB7XHJcbiAgICAvLyBEaXNwbGF5IGVhY2ggY29udmVyc2F0aW9uIGFuZCBpdHMgbWVzc2FnZXNcclxuICAgIGNvbnZlcnNhdGlvbnMuZm9yRWFjaChjb252ZXJzYXRpb24gPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBDb252ZXJzYXRpb24gJHtjb252ZXJzYXRpb24uaWR9OmApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBQYXJlbnQgSUQ6ICR7Y29udmVyc2F0aW9uLnBhcmVudElkfWApO1xyXG4gICAgICAgIGNvbnZlcnNhdGlvbi5tZXNzYWdlcy5mb3JFYWNoKG1lc3NhZ2UgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgICBNZXNzYWdlICR7bWVzc2FnZS5pZH06ICR7bWVzc2FnZS5jb250ZW50fWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCk7IC8vIEFkZCBhIGxpbmUgYnJlYWsgZm9yIHJlYWRhYmlsaXR5XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlR3JhcGgoY29udmVyc2F0aW9uczogQ29udmVyc2F0aW9uW10pOiBHcmFwaCB7XHJcbiAgICBjb25zdCBncmFwaDogR3JhcGggPSB7fTtcclxuXHJcbiAgICBjb252ZXJzYXRpb25zLmZvckVhY2goY29udmVyc2F0aW9uID0+IHtcclxuICAgICAgICBpZiAoIWdyYXBoW2NvbnZlcnNhdGlvbi5pZF0pIHtcclxuICAgICAgICAgICAgZ3JhcGhbY29udmVyc2F0aW9uLmlkXSA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udmVyc2F0aW9uLm1lc3NhZ2VzLmZvckVhY2gobWVzc2FnZSA9PiB7XHJcbiAgICAgICAgICAgIGdyYXBoW2NvbnZlcnNhdGlvbi5pZF0ucHVzaChtZXNzYWdlLmlkKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBncmFwaDtcclxufVxyXG5cclxuZnVuY3Rpb24gY29udmVydFRvVmlzR3JhcGgoZ3JhcGg6IEdyYXBoKTogeyBub2RlczogRGF0YVNldDxWaXNOb2RlPjsgZWRnZXM6IERhdGFTZXQ8VmlzRWRnZT4gfSB7XHJcbiAgICBjb25zdCBub2RlczogVmlzTm9kZVtdID0gW107XHJcbiAgICBjb25zdCBlZGdlczogVmlzRWRnZVtdID0gW107XHJcblxyXG4gICAgZm9yIChjb25zdCBjb252ZXJzYXRpb25JZCBpbiBncmFwaCkge1xyXG4gICAgICAgIC8vIEFzc2lnbiBhIGNvbG9yIHRvIHRoZSBjb252ZXJzYXRpb24gbm9kZSAoZm9yIGV4YW1wbGUsIGJsdWUpXHJcbiAgICAgICAgbm9kZXMucHVzaCh7IGlkOiBjb252ZXJzYXRpb25JZCwgbGFiZWw6IGBDb252ZXJzYXRpb24gJHtjb252ZXJzYXRpb25JZH1gLCBjb2xvcjogJ2JsdWUnIH0pO1xyXG5cclxuICAgICAgICBncmFwaFtjb252ZXJzYXRpb25JZF0uZm9yRWFjaChtZXNzYWdlSWQgPT4ge1xyXG4gICAgICAgICAgICAvLyBBc3NpZ24gYSBkaWZmZXJlbnQgY29sb3IgdG8gdGhlIG1lc3NhZ2Ugbm9kZXMgKGZvciBleGFtcGxlLCBncmVlbilcclxuICAgICAgICAgICAgbm9kZXMucHVzaCh7IGlkOiBtZXNzYWdlSWQsIGxhYmVsOiBgTWVzc2FnZSAke21lc3NhZ2VJZH1gLCBjb2xvcjogJ2dyZWVuJyB9KTtcclxuICAgICAgICAgICAgZWRnZXMucHVzaCh7IGZyb206IGNvbnZlcnNhdGlvbklkLCB0bzogbWVzc2FnZUlkIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm9kZXM6IG5ldyBEYXRhU2V0PFZpc05vZGU+KG5vZGVzKSxcclxuICAgICAgICBlZGdlczogbmV3IERhdGFTZXQ8VmlzRWRnZT4oZWRnZXMpXHJcbiAgICB9O1xyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IGNvbnZlcnNhdGlvbnMgPSBjcmVhdGVDb252ZXJzYXRpb25zKDIsIDE0KTtcclxuXHJcbmNvbnN0IGdyYXBoID0gY3JlYXRlR3JhcGgoY29udmVyc2F0aW9ucyk7XHJcblxyXG5jb25zdCB2aXNHcmFwaCA9IGNvbnZlcnRUb1Zpc0dyYXBoKGdyYXBoKTtcclxuXHJcbmNvbnN0IG5ldHdvcmtPcHRpb25zID0ge1xyXG4gICAgbGF5b3V0OiB7XHJcbiAgICAgICAgaW1wcm92ZWRMYXlvdXQ6IHRydWUsXHJcbiAgICAgICAgaGllcmFyY2hpY2FsOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLCAvLyBTZXQgdG8gdHJ1ZSBmb3IgaGllcmFyY2hpY2FsIGxheW91dFxyXG4gICAgICAgICAgICBsZXZlbFNlcGFyYXRpb246IDE1MCxcclxuICAgICAgICAgICAgbm9kZVNwYWNpbmc6IDEwMCxcclxuICAgICAgICAgICAgdHJlZVNwYWNpbmc6IDIwMCxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAnVUQnLCAvLyBVRCwgRFUsIExSLCBSTFxyXG4gICAgICAgICAgICBzb3J0TWV0aG9kOiAnaHVic2l6ZScgLy8gb3IgJ2RpcmVjdGVkJ1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgIC8qICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICBoaWVyYXJjaGljYWxSZXB1bHNpb246IHtcclxuICAgICAgICAgICAgY2VudHJhbEdyYXZpdHk6IDAuMCxcclxuICAgICAgICAgICAgc3ByaW5nTGVuZ3RoOiAxMDAsXHJcbiAgICAgICAgICAgIHNwcmluZ0NvbnN0YW50OiAwLjAxLFxyXG4gICAgICAgICAgICBub2RlRGlzdGFuY2U6IDEyMCxcclxuICAgICAgICAgICAgZGFtcGluZzogMC4wOVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc29sdmVyOiAnaGllcmFyY2hpY2FsUmVwdWxzaW9uJyAvLyBvciAnYmFybmVzSHV0JywgJ3JlcHVsc2lvbicsICdoaWVyYXJjaGljYWxSZXB1bHNpb24nLCAnZm9yY2VBdGxhczJCYXNlZCdcclxuICAgIH0sICovXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICBiYXJuZXNIdXQ6IHtcclxuICAgICAgICAgICAgZ3Jhdml0YXRpb25hbENvbnN0YW50OiAtMjAwMDAsXHJcbiAgICAgICAgICAgIGNlbnRyYWxHcmF2aXR5OiAwLjMsXHJcbiAgICAgICAgICAgIHNwcmluZ0xlbmd0aDogOTUsXHJcbiAgICAgICAgICAgIHNwcmluZ0NvbnN0YW50OiAwLjA0LFxyXG4gICAgICAgICAgICBkYW1waW5nOiAwLjA5LFxyXG4gICAgICAgICAgICBhdm9pZE92ZXJsYXA6IDAuMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc29sdmVyOiAnYmFybmVzSHV0JyAvLyBvciAnYmFybmVzSHV0JywgJ3JlcHVsc2lvbicsICdoaWVyYXJjaGljYWxSZXB1bHNpb24nLCAnZm9yY2VBdGxhczJCYXNlZCdcclxuICAgIH0sXHJcbn07XHJcblxyXG5cclxuLy8gSW5pdGlhbGl6ZSBhIHZpcy5qcyBuZXR3b3JrICh0aGlzIHBhcnQgc2hvdWxkIGJlIGluIHlvdXIgY2xpZW50LXNpZGUgY29kZSlcclxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldHdvcmsnKTtcclxuaWYgKGNvbnRhaW5lciAhPT0gbnVsbCkge1xyXG4gICAgY29uc3QgbmV0d29yayA9IG5ldyBOZXR3b3JrKGNvbnRhaW5lciwgdmlzR3JhcGgsIG5ldHdvcmtPcHRpb25zKTtcclxufSBlbHNlIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0VsZW1lbnQgd2l0aCBJRCBcXCduZXR3b3JrXFwnIG5vdCBmb3VuZC4nKTtcclxufVxyXG5cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9